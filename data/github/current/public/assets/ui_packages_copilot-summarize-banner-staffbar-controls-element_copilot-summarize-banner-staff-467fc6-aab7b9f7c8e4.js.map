{"version":3,"file":"chunk-ui_packages_copilot-summarize-banner-staffbar-controls-element_copilot-summarize-banner-staff-467fc6-xxxxxxxxxxxx.js","mappings":"kUAEO,sCAAMA,oCAAoCC,MAG/CC,YAAYC,CAAsC,CAAE,CAClD,KAAK,CAAC,2BAA4B,CAACC,QAAS,GAAOC,WAAY,EAAI,GACnE,IAAI,CAACF,OAAO,CAAGA,CACjB,CACF,E,yUCWE,cAfK,wDAAMG,sDAAsDC,YAOjEC,mBAAoB,CAClB,IAAI,CAACC,IAAI,EAAEC,iBAAiB,SAAU,IAAI,CAACC,aAAa,CAC1D,CAEAC,sBAAuB,CACrB,IAAI,CAACH,IAAI,EAAEI,oBAAoB,SAAU,IAAI,CAACF,aAAa,CAC7D,C,8BAEA,S,mIAAA,Q,KAVAA,aAAa,CAAG,GAAwB,C,0GAAA,IAAI,CAAEG,EAAAA,GAAAA,IAAAA,CAAN,IAAI,CAAmBC,E,CAuBjE,EAbE,WAAkBA,CAAkB,EAClCA,EAAMC,cAAc,GACpB,IAAMC,EAAO,IAAIC,SAAS,IAAI,CAACT,IAAI,EAC7BU,EAASF,EAAKG,GAAG,CAAC,2BAA2BC,WAC9CF,IAGLG,OAAOC,aAAa,CAAC,IAAIvB,4BADsB,CAACmB,OAAAA,CAAM,IAEtD,IAAI,CAACK,MAAM,EAAEC,QAGT,IAAI,CAACC,2BAA2B,EAAE,KAAI,CAACA,2BAA2B,CAACC,QAAQ,CAAG,EAAI,EACxF,C,GA1BCC,EAAAA,EAAMA,C,CADItB,8CAAAA,SAAAA,CAAAA,OAAAA,KAAAA,G,GAEVsB,EAAAA,EAAMA,C,CAFItB,8CAAAA,SAAAA,CAAAA,SAAAA,KAAAA,G,GAGVsB,EAAAA,EAAMA,C,CAHItB,8CAAAA,SAAAA,CAAAA,8BAAAA,KAAAA,GAAAA,8CAAAA,EAAAA,CADZuB,EAAAA,EAAUA,C,CACEvB,8C","sources":["ui/packages/copilot-summarize-banner-element/events.ts","ui/packages/copilot-summarize-banner-staffbar-controls-element/copilot-summarize-banner-staffbar-controls-element.ts"],"sourcesContent":["import type {GenerateCopilotSummaryPayload} from './types'\n\nexport class GenerateCopilotSummaryEvent extends Event {\n  declare payload: GenerateCopilotSummaryPayload\n\n  constructor(payload: GenerateCopilotSummaryPayload) {\n    super('generate-copilot-summary', {bubbles: false, cancelable: true})\n    this.payload = payload\n  }\n}\n\ndeclare global {\n  interface WindowEventMap {\n    'generate-copilot-summary': GenerateCopilotSummaryEvent\n  }\n}\n","import {controller, target} from '@github/catalyst'\nimport type {GenerateCopilotSummaryPayload} from '@github-ui/copilot-summarize-banner-element/types'\nimport {GenerateCopilotSummaryEvent} from '@github-ui/copilot-summarize-banner-element/events'\n\n@controller\nexport class CopilotSummarizeBannerStaffbarControlsElement extends HTMLElement {\n  @target form: HTMLFormElement | undefined\n  @target dialog: HTMLDialogElement | undefined\n  @target customPromptSummarizeButton: HTMLButtonElement | undefined\n\n  submitHandler = (event: SubmitEvent) => this.#handleFormSubmit(event)\n\n  connectedCallback() {\n    this.form?.addEventListener('submit', this.submitHandler)\n  }\n\n  disconnectedCallback() {\n    this.form?.removeEventListener('submit', this.submitHandler)\n  }\n\n  #handleFormSubmit(event: SubmitEvent) {\n    event.preventDefault() // don't actually submit the form\n    const data = new FormData(this.form)\n    const prompt = data.get('copilot_summary_prompt')?.toString()\n    if (!prompt) return\n\n    const payload: GenerateCopilotSummaryPayload = {prompt}\n    window.dispatchEvent(new GenerateCopilotSummaryEvent(payload))\n    this.dialog?.close()\n\n    // enable the button again so the user can submit the form again without reloading the page\n    if (this.customPromptSummarizeButton) this.customPromptSummarizeButton.disabled = false\n  }\n}\n"],"names":["GenerateCopilotSummaryEvent","Event","constructor","payload","bubbles","cancelable","CopilotSummarizeBannerStaffbarControlsElement","HTMLElement","connectedCallback","form","addEventListener","submitHandler","disconnectedCallback","removeEventListener","handleFormSubmit","event","preventDefault","data","FormData","prompt","get","toString","window","dispatchEvent","dialog","close","customPromptSummarizeButton","disabled","target","controller"],"sourceRoot":""}