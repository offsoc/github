{"name":"typst","scopeName":"source.typst","patterns":[{"include":"#markup"}],"repository":{"arguments":{"patterns":[{"name":"variable.parameter.typst","match":"\\b[[:alpha:]_][[:alnum:]_-]*(?=:)"},{"include":"#code"}]},"code":{"patterns":[{"include":"#common"},{"name":"meta.block.code.typst","begin":"{","end":"}","patterns":[{"include":"#code"}],"captures":{"0":{"name":"punctuation.definition.block.code.typst"}}},{"name":"meta.block.content.typst","begin":"\\[","end":"\\]","patterns":[{"include":"#markup"}],"captures":{"0":{"name":"punctuation.definition.block.content.typst"}}},{"name":"comment.line.double-slash.typst","begin":"//","end":"\n","beginCaptures":{"0":{"name":"punctuation.definition.comment.typst"}}},{"name":"punctuation.separator.colon.typst","match":":"},{"name":"punctuation.separator.comma.typst","match":","},{"name":"keyword.operator.typst","match":"=\u003e|\\.\\."},{"name":"keyword.operator.relational.typst","match":"==|!=|\u003c=|\u003c|\u003e=|\u003e"},{"name":"keyword.operator.assignment.typst","match":"\\+=|-=|\\*=|/=|="},{"name":"keyword.operator.arithmetic.typst","match":"\\+|\\|/|(?\u003c![[:alpha:]])(?\u003c!\\w)(?\u003c!\\d)-(?![[:alnum:]-][[:alpha:]_])"},{"name":"keyword.operator.word.typst","match":"\\b(and|or|not)\\b"},{"name":"keyword.other.typst","match":"\\b(let|as|in|set|show)\\b"},{"name":"keyword.control.conditional.typst","match":"\\b(if|else)\\b"},{"name":"keyword.control.loop.typst","match":"\\b(for|while|break|continue)\\b"},{"name":"keyword.control.import.typst","match":"\\b(import|include|export)\\b"},{"name":"keyword.control.flow.typst","match":"\\b(return)\\b"},{"include":"#constants"},{"name":"entity.name.function.typst","match":"\\b[[:alpha:]_][[:alnum:]_-]*!?(?=\\[|\\()"},{"name":"entity.name.function.typst","match":"(?:\\bshow\\s*\\b([[:alpha:]][[:alnum:]-])(?=\\s[:.]))"},{"begin":"(?:\\b([[:alpha:]][[:alnum:]-]*!?)\\()","end":"\\)","patterns":[{"include":"#arguments"}],"captures":{"0":{"name":"punctuation.definition.group.typst"}}},{"name":"variable.other.typst","match":"\\b[[:alpha:]_][[:alnum:]_-]*\\b"},{"name":"meta.group.typst","begin":"\\(","end":"\\)|(?=;)","patterns":[{"include":"#code"}],"captures":{"0":{"name":"punctuation.definition.group.typst"}}}]},"comments":{"patterns":[{"name":"comment.block.typst","begin":"/\\*","end":"\\*/","patterns":[{"include":"#comments"}],"captures":{"0":{"name":"punctuation.definition.comment.typst"}}},{"name":"comment.line.double-slash.typst","begin":"(?\u003c!:)//","end":"\n","patterns":[{"include":"#comments"}],"beginCaptures":{"0":{"name":"punctuation.definition.comment.typst"}}}]},"common":{"patterns":[{"include":"#comments"}]},"constants":{"patterns":[{"name":"constant.language.none.typst","match":"\\bnone\\b"},{"name":"constant.language.auto.typst","match":"\\bauto\\b"},{"name":"constant.language.boolean.typst","match":"\\b(true|false)\\b"},{"name":"constant.numeric.length.typst","match":"\\b(\\d*)?\\.?\\d+([eE][+-]?\\d+)?(mm|pt|cm|in|em)\\b"},{"name":"constant.numeric.angle.typst","match":"\\b(\\d*)?\\.?\\d+([eE][+-]?\\d+)?(rad|deg)\\b"},{"name":"constant.numeric.percentage.typst","match":"\\b(\\d*)?\\.?\\d+([eE][+-]?\\d+)?%"},{"name":"constant.numeric.fr.typst","match":"\\b(\\d*)?\\.?\\d+([eE][+-]?\\d+)?fr"},{"name":"constant.numeric.integer.typst","match":"\\b\\d+\\b"},{"name":"constant.numeric.float.typst","match":"\\b(\\d*)?\\.?\\d+([eE][+-]?\\d+)?\\b"},{"name":"string.quoted.double.typst","begin":"\"","end":"\"","patterns":[{"name":"constant.character.escape.string.typst","match":"\\\\([\\\\\"nrt]|u\\{?[0-9a-zA-Z]*\\}?)"}],"captures":{"0":{"name":"punctuation.definition.string.typst"}}},{"name":"string.other.math.typst","begin":"\\$","end":"\\$","captures":{"0":{"name":"punctuation.definition.string.math.typst"}}}]},"markup":{"patterns":[{"include":"#common"},{"name":"constant.character.escape.content.typst","match":"\\\\([\\\\/\\[\\]{}#*_=~`$-.]|u\\{[0-9a-zA-Z]*\\}?)"},{"name":"punctuation.definition.linebreak.typst","match":"\\\\"},{"name":"punctuation.definition.nonbreaking-space.typst","match":"~"},{"name":"punctuation.definition.shy.typst","match":"-\\?"},{"name":"punctuation.definition.em-dash.typst","match":"---"},{"name":"punctuation.definition.en-dash.typst","match":"--"},{"name":"punctuation.definition.ellipsis.typst","match":"\\.\\.\\."},{"name":"constant.symbol.typst","match":":([a-zA-Z0-9]+:)+"},{"name":"markup.bold.typst","begin":"(^\\*|\\*$|((?\u003c=\\W|_)\\*)|(\\*(?=\\W|_)))","end":"(^\\*|\\*$|((?\u003c=\\W|_)\\*)|(\\*(?=\\W|_)))|\n|(?=\\])","patterns":[{"include":"#markup"}],"captures":{"0":{"name":"punctuation.definition.bold.typst"}}},{"name":"markup.italic.typst","begin":"(^_|_$|((?\u003c=\\W|_)_)|(_(?=\\W|_)))","end":"(^_|_$|((?\u003c=\\W|_)_)|(_(?=\\W|_)))|\n|(?=\\])","patterns":[{"include":"#markup"}],"captures":{"0":{"name":"punctuation.definition.italic.typst"}}},{"name":"markup.underline.link.typst","match":"https?://[0-9a-zA-Z~/%#\u0026=',;\\.\\+\\?]*"},{"name":"markup.raw.block.typst","begin":"`{3,}","end":"\\0","captures":{"0":{"name":"punctuation.definition.raw.typst"}}},{"name":"markup.raw.inline.typst","begin":"`","end":"`","captures":{"0":{"name":"punctuation.definition.raw.typst"}}},{"name":"string.other.math.typst","begin":"\\$","end":"\\$","captures":{"0":{"name":"punctuation.definition.string.math.typst"}}},{"name":"markup.heading.typst","contentName":"entity.name.section.typst","begin":"^\\s*=+\\s+","end":"\n|(?=\u003c)","patterns":[{"include":"#markup"}],"beginCaptures":{"0":{"name":"punctuation.definition.heading.typst"}}},{"name":"punctuation.definition.list.unnumbered.typst","match":"^\\s*-\\s+"},{"name":"punctuation.definition.list.numbered.typst","match":"^\\s*([0-9]*\\.|\\+)\\s+"},{"match":"^\\s*(/)\\s+([^:]*:)","captures":{"1":{"name":"punctuation.definition.list.description.typst"},"2":{"name":"markup.list.term.typst"}}},{"name":"entity.other.label.typst","match":"\u003c[[:alpha:]_][[:alnum:]_-]*\u003e","captures":{"1":{"name":"punctuation.definition.label.typst"}}},{"name":"entity.other.reference.typst","match":"(@)[[:alpha:]_][[:alnum:]_-]*","captures":{"1":{"name":"punctuation.definition.reference.typst"}}},{"begin":"(#)(let|set|show)\\b","end":"\n|(;)|(?=])","patterns":[{"include":"#code"}],"beginCaptures":{"0":{"name":"keyword.other.typst"},"1":{"name":"punctuation.definition.keyword.typst"}},"endCaptures":{"1":{"name":"punctuation.terminator.statement.typst"}}},{"name":"keyword.other.typst","match":"(#)(as|in)\\b","captures":{"1":{"name":"punctuation.definition.keyword.typst"}}},{"begin":"(?:(#)if|(?:}(?:\\s*)|](?:\\s*))else)\\b","end":"\n|(?=])|(?\u003c=}|])","patterns":[{"include":"#code"}],"beginCaptures":{"0":{"name":"keyword.control.conditional.typst"},"2":{"name":"punctuation.definition.keyword.typst"}}},{"begin":"(#)(for|while)\\b","end":"\n|(?=])|(?\u003c=}|])","patterns":[{"include":"#code"}],"beginCaptures":{"0":{"name":"keyword.control.loop.typst"},"1":{"name":"punctuation.definition.keyword.typst"}}},{"name":"keyword.control.loop.typst","match":"(#)(break|continue)\\b","captures":{"1":{"name":"punctuation.definition.keyword.typst"}}},{"begin":"(#)(import|include|export)\\b","end":"\n|(;)|(?=])","patterns":[{"include":"#code"}],"beginCaptures":{"0":{"name":"keyword.control.import.typst"},"1":{"name":"punctuation.definition.keyword.typst"}},"endCaptures":{"1":{"name":"punctuation.terminator.statement.typst"}}},{"name":"keyword.control.flow.typst","match":"(#)(return)\\b","captures":{"1":{"name":"punctuation.definition.keyword.typst"}}},{"name":"entity.name.function.typst","match":"((#)[[:alpha:]_][[:alnum:]_-]*!?)(?=\\[|\\()","captures":{"2":{"name":"punctuation.definition.function.typst"}}},{"begin":"(?:#)([[A-Za-z]_][[0-9]_-]*!?(?=\\())\\(","end":"\\)","patterns":[{"include":"#arguments"}],"captures":{"0":{"name":"punctuation.definition.group.typst"}}},{"name":"entity.other.interpolated.typst","match":"(#)[[:alpha:]_][.[:alnum:]_-]*","captures":{"1":{"name":"punctuation.definition.variable.typst"}}},{"name":"meta.block.content.typst","begin":"#","end":"\\s","patterns":[{"include":"#code"}]}]}}}
