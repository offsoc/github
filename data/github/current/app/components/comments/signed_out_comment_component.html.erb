<%# erblint:counter DeprecatedComponentsCounter 1 %>
<%= render Primer::Beta::Flash.new(scheme: :warning, mt: 3) do %>
  <% if signup_enabled? %>
    <%= link_to(
      "Sign up for free",
      signup_path(source: source_label),
      rel: "nofollow",
      class: "btn btn-primary",
      data: sign_up_link_data_attributes(
        location_in_page: "signed out comment",
        repository_id: repository_id,
      ),
    ) %>
    <strong>to join this conversation on GitHub</strong>.
    Already have an account?
    <%= link_to(
      "Sign in to comment",
      login_path_with_return,
      rel: "nofollow",
      class: "Link--inTextBlock",
      data: sign_in_link_data_attributes(
        location_in_page: "signed out comment",
        repository_id: repository_id,
      ).merge!(test_selector: "comments-sign-in-link"),
    ) %>
  <% else %>
    <%= link_to(
      "Sign in",
      login_path_with_return,
      rel: "nofollow",
      class: "btn btn-primary",
      data: sign_in_link_data_attributes(
        location_in_page: "signed out comment",
        repository_id: repository_id,
      ).merge!(test_selector: "comments-sign-in-link"),
    ) %>
    <strong>to join this conversation on GitHub</strong>.
  <% end %>
<% end %>
