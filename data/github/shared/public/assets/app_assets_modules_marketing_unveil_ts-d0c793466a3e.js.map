{"version":3,"file":"chunk-app_assets_modules_marketing_unveil_ts-xxxxxxxxxxxx.js","mappings":"2JAqBC,oB,iTAGD,YACMA,+BAA+BC,YAInCC,MAAO,CAGL,IAAK,IAAMC,KAFX,IAAI,CAACC,mBAAmB,CAAC,IAEN,IAAI,CAACC,WAAW,EAC7BF,EAAKG,YAAY,CAAC,WACpBH,EAAKI,eAAe,CAAC,UACrBJ,EAAKK,YAAY,CAAC,gBAAiB,YAGnCL,EAAKM,SAAS,CAACC,MAAM,CAAC,UACtBP,EAAKK,YAAY,CAAC,gBAAiB,UAIvC,GAAIG,SAASC,IAAI,CAACH,SAAS,CAACI,QAAQ,CAAC,gBAAiB,OAGtD,IAAMC,EAAkB,IAAI,CAACT,WAAW,CAAC,EAAE,CACrCU,EACJD,EAAgBR,YAAY,CAAC,aAC7BQ,MAAAA,EAAgBE,OAAO,EACvBF,WAAAA,EAAgBE,OAAO,EACvBF,YAAAA,EAAgBE,OAAO,CACnBF,EACaA,EAAgBG,aAAa,CAAC,kCAEjDF,GAAkBG,OACpB,CAEAC,MAAO,CAIL,IAAK,IAAMhB,KAHX,IAAI,CAACC,mBAAmB,CAAC,IACzB,IAAI,CAACgB,aAAa,EAAEZ,aAAa,gBAAiB,SAE/B,IAAI,CAACH,WAAW,EAC7BF,WAAAA,EAAKkB,YAAY,CAAC,iBACpBlB,EAAKK,YAAY,CAAC,SAAU,IAG5BL,EAAKM,SAAS,CAACa,GAAG,CAAC,SAGzB,CAEAC,QAAS,CACP,IAAI,CAACH,aAAa,CAACV,MAAM,GACzB,IAAI,CAACR,IAAI,EACX,CAEAsB,cAAe,CACb,IAAMC,EAAY,IAAI,CAACpB,WAAW,CAAC,EAAE,CACrC,GAAKoB,GAEL,GAAIA,EAAUnB,YAAY,CAAC,WAAamB,EAAUhB,SAAS,CAACI,QAAQ,CAAC,UAAW,CAC9E,IAAI,CAACX,IAAI,GACT,MACF,CAEA,IAAI,CAACiB,IAAI,GACX,CAEQf,oBAAoBsB,CAAiB,CAAE,CAC7C,GAAI,CAAC,IAAI,CAACN,aAAa,CAAE,OACzB,IAAI,CAACA,aAAa,CAACZ,YAAY,CAAC,gBAAiBkB,EAASC,QAAQ,IAElE,IAAMC,EAAYF,EAAW,qBAAuB,sBAC9CG,EAAoBH,EAAW,sBAAwB,qBAExD,IAAI,CAACN,aAAa,CAACd,YAAY,CAACuB,IACnC,IAAI,CAACT,aAAa,CAACZ,YAAY,CAACqB,EAAmB,IAAI,CAACT,aAAa,CAACU,WAAW,EAC/E,IAAI,CAACV,aAAa,CAACd,YAAY,CAACsB,IAClC,KAAI,CAACR,aAAa,CAACU,WAAW,CAAG,IAAI,CAACV,aAAa,CAACC,YAAY,CAACO,EAAS,CAC9E,CACF,E,GA3EGG,EAAAA,EAAMA,C,CADH/B,EAAAA,SAAAA,CAAAA,gBAAAA,KAAAA,G,GAEHgC,EAAAA,EAAOA,C,CAFJhC,EAAAA,SAAAA,CAAAA,cAAAA,KAAAA,GAAAA,EAAAA,EAAAA,CADLiC,EAAAA,EAAUA,C,CACLjC,E","sources":["app/assets/modules/marketing/unveil.ts"],"sourcesContent":["/*\n *  Used to show hidden items in a grid of items. For instance if\n *  you have a grid of 9 items and you want to display only 3 along\n *  with a button which on click will disappear and make the remaining\n *  6 items visible.\n *\n *  ```\n *  <unveil-container>\n *   <div>...</div>\n *   <div>...</div>\n *   <div>...</div>\n *   <div data-targets=\"unveil-container.unveilItems\" hidden>...</div>\n *   <div data-targets=\"unveil-container.unveilItems\" hidden>...</div>\n *   <div data-targets=\"unveil-container.unveilItems\" hidden>...</div>\n *   <div data-targets=\"unveil-container.unveilItems\" hidden>...</div>\n *   <div data-targets=\"unveil-container.unveilItems\" hidden>...</div>\n *   <div data-targets=\"unveil-container.unveilItems\" hidden>...</div>\n *\n *   <button type=\"button\" data-target=\"unveil-container.unveilElement\" data-action=\"click:unveil-container#unveil\">Show All Items</button>\n *  </unveil-container>\n *  ```\n */\nimport {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass UnveilContainerElement extends HTMLElement {\n  @target unveilElement: HTMLElement\n  @targets unveilItems: HTMLElement[]\n\n  show() {\n    this.handleUnveilElement(true)\n\n    for (const item of this.unveilItems) {\n      if (item.hasAttribute('hidden')) {\n        item.removeAttribute('hidden')\n        item.setAttribute('data-unveiled', 'hidden')\n      } else {\n        // eslint-disable-next-line github/no-d-none\n        item.classList.remove('d-none')\n        item.setAttribute('data-unveiled', 'class')\n      }\n    }\n\n    if (document.body.classList.contains('intent-mouse')) return\n\n    // Focus the first element that was previously hidden\n    const firstHiddenItem = this.unveilItems[0]!\n    const focusableElement =\n      firstHiddenItem.hasAttribute('tabindex') ||\n      firstHiddenItem.tagName === 'A' ||\n      firstHiddenItem.tagName === 'BUTTON' ||\n      firstHiddenItem.tagName === 'SUMMARY'\n        ? firstHiddenItem\n        : <HTMLElement>firstHiddenItem.querySelector('[tabindex], a, button, summary')\n\n    focusableElement?.focus()\n  }\n\n  hide() {\n    this.handleUnveilElement(false)\n    this.unveilElement?.setAttribute('aria-expanded', 'false')\n\n    for (const item of this.unveilItems) {\n      if (item.getAttribute('data-unveiled') === 'hidden') {\n        item.setAttribute('hidden', '')\n      } else {\n        // eslint-disable-next-line github/no-d-none\n        item.classList.add('d-none')\n      }\n    }\n  }\n\n  unveil() {\n    this.unveilElement.remove()\n    this.show()\n  }\n\n  toggleUnveil() {\n    const firstItem = this.unveilItems[0]\n    if (!firstItem) return\n    // eslint-disable-next-line github/no-d-none\n    if (firstItem.hasAttribute('hidden') || firstItem.classList.contains('d-none')) {\n      this.show()\n      return\n    }\n\n    this.hide()\n  }\n\n  private handleUnveilElement(expanded: boolean) {\n    if (!this.unveilElement) return\n    this.unveilElement.setAttribute('aria-expanded', expanded.toString())\n\n    const attribute = expanded ? 'data-expanded-copy' : 'data-collapsed-copy'\n    const oppositeAttribute = expanded ? 'data-collapsed-copy' : 'data-expanded-copy'\n\n    if (!this.unveilElement.hasAttribute(oppositeAttribute))\n      this.unveilElement.setAttribute(oppositeAttribute, this.unveilElement.textContent!)\n    if (this.unveilElement.hasAttribute(attribute))\n      this.unveilElement.textContent = this.unveilElement.getAttribute(attribute)\n  }\n}\n"],"names":["UnveilContainerElement","HTMLElement","show","item","handleUnveilElement","unveilItems","hasAttribute","removeAttribute","setAttribute","classList","remove","document","body","contains","firstHiddenItem","focusableElement","tagName","querySelector","focus","hide","unveilElement","getAttribute","add","unveil","toggleUnveil","firstItem","expanded","toString","attribute","oppositeAttribute","textContent","target","targets","controller"],"sourceRoot":""}