{"version":3,"file":"app_assets_modules_github_ref-selector_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/ref-selector.ts","ui/packages/ref-selector/search-index.ts"],"sourcesContent":["import {RefType, SearchIndex} from '@github-ui/ref-selector/search-index'\nimport {TemplateInstance, propertyIdentityOrBooleanAttribute} from '@github/template-parts'\nimport {controller, target} from '@github/catalyst'\nimport VirtualizedList from 'virtualized-list'\n\n@controller\nclass RefSelectorElement extends HTMLElement {\n  // container holding the current list of search results\n  @target listContainer: HTMLElement\n\n  @target itemTemplate: HTMLTemplateElement\n  @target noMatchTemplate: HTMLTemplateElement\n  @target fetchFailedTemplate: HTMLTemplateElement\n  // Template to render the selected item when not visible (so input value still in form)\n  @target hiddenCurrentItemTemplate: HTMLTemplateElement\n\n  // Is this a branch or tag list?\n  refType: RefType\n\n  // The current input value. Defaults to current-committish if initial-filter is provided\n  input: string\n\n  // the NWO for the current repo\n  nameWithOwner: string\n\n  // The branch, tag or SHA being viewed.\n  currentCommittish: string | null\n\n  // Track whether or not the current committish is on view\n  isCurrentVisible = false\n\n  // The currently rendered hiddenCheckedItemTemplate instance, if any\n  hiddenCurrentElement?: HTMLElement\n\n  // The default branch for this repository.\n  defaultBranch: string\n\n  // Manages the list of refs and allows searching among them\n  index: SearchIndex\n\n  // If true, displays the noMatchTemplate if no exact match (not only when no similar matches).\n  // In this case, the template should display the create row.\n  canCreate: boolean\n\n  currentSelectionIndex: number | null = null\n\n  prefetchOnMouseover: boolean\n\n  // the list of refs, virtualized to avoid rendering overhead\n  virtualizedList: VirtualizedList\n  isMobileViewport: boolean\n  windowHeight: number\n  resizeAnimationRequest?: number\n\n  connectedCallback() {\n    /* eslint-disable-next-line github/prefer-observers */\n    window.addEventListener('resize', this.windowResized)\n    this.refType = this.getRequiredAttr('type') === 'branch' ? RefType.Branch : RefType.Tag\n    const currentCommittishAttr = this.getAttribute('current-committish')\n    this.currentCommittish = currentCommittishAttr ? atob(currentCommittishAttr) : null\n    this.input = (this.hasAttribute('initial-filter') && this.currentCommittish) || ''\n    this.defaultBranch = atob(this.getRequiredAttr('default-branch'))\n    this.nameWithOwner = atob(this.getRequiredAttr('name-with-owner'))\n    this.canCreate = this.hasAttribute('can-create')\n    this.prefetchOnMouseover = this.hasAttribute('prefetch-on-mouseover')\n    const queryEndpoint = this.getRequiredAttr('query-endpoint')\n    const cacheKey = this.getRequiredAttr('cache-key')\n    this.index = new SearchIndex(this.refType, this, queryEndpoint, cacheKey, this.nameWithOwner)\n    this.updateViewportSize()\n    this.setupFetchListeners()\n  }\n\n  disconnectedCallback() {\n    if (this.resizeAnimationRequest) {\n      cancelAnimationFrame(this.resizeAnimationRequest)\n    }\n\n    window.removeEventListener('resize', this.windowResized)\n  }\n\n  updateViewportSize() {\n    this.isMobileViewport = window.innerWidth < 544\n    this.windowHeight = window.innerHeight\n  }\n\n  handleWindowResize = () => {\n    if (!this.virtualizedList) {\n      return\n    }\n\n    const prevIsMobileViewport = this.isMobileViewport\n    const prevWindowHeight = this.windowHeight\n\n    this.updateViewportSize()\n\n    const isMobileViewportChanged = prevIsMobileViewport !== this.isMobileViewport\n    const windowHeightChanged = prevWindowHeight !== this.windowHeight\n\n    if (isMobileViewportChanged) {\n      this.virtualizedList.destroy()\n      this.setupVirtualizedList()\n      return\n    }\n\n    if (!this.isMobileViewport || !windowHeightChanged) {\n      return\n    }\n\n    this.listContainer.style.maxHeight = `${this.listHeight}px`\n    this.virtualizedList.resize(this.listHeight)\n  }\n\n  windowResized = () => {\n    if (this.resizeAnimationRequest) {\n      cancelAnimationFrame(this.resizeAnimationRequest)\n    }\n\n    this.resizeAnimationRequest = requestAnimationFrame(this.handleWindowResize)\n  }\n\n  inputEntered(e: CustomEvent) {\n    this.input = e.detail\n    this.render()\n  }\n\n  // Fetch data when the tab is selected if we haven't already\n  tabSelected() {\n    this.index.fetchData()\n  }\n\n  renderTemplate(template: HTMLTemplateElement, params: unknown): DocumentFragment {\n    return new TemplateInstance(template, params, propertyIdentityOrBooleanAttribute)\n  }\n\n  renderRow(index: number) {\n    const refName = this.index.currentSearchResult[index]\n    if (!refName && index >= this.listLength) {\n      // work around an off-by-one error in virtualized-list\n      // https://github.com/clauderic/virtualized-list/blob/v2.2.0/src/VirtualList/SizeAndPositionManager.js#L137\n      // (should be this._itemCount-1 since stop is an iteration index.\n      // Just return an empty span.\n      return document.createElement('span')\n    }\n\n    if (this.index.fetchFailed) {\n      return this.renderTemplate(this.fetchFailedTemplate, {index, refName: this.input})\n    }\n\n    if (!refName) {\n      const isCurrent = this.input === this.currentCommittish\n      this.isCurrentVisible ||= isCurrent\n      return this.renderTemplate(this.noMatchTemplate, {\n        index,\n        isCurrent,\n        refName: this.input,\n      })\n    }\n\n    const isFiltering = this.input.length > 0\n    const isFilteringClass = isFiltering ? 'is-filtering' : ''\n    const isCurrent = refName === this.currentCommittish\n    this.isCurrentVisible ||= isCurrent\n    const template = this.renderTemplate(this.itemTemplate, {\n      refName,\n      index,\n      isFilteringClass,\n      urlEncodedRefName: this.urlEncodeRef(refName),\n      isCurrent,\n      isNotDefault: refName !== this.defaultBranch,\n    })\n    if (isFiltering) {\n      // highlight the matching entry\n      const branchNameSpan = template.querySelector('span')!\n      branchNameSpan.textContent = ''\n      const parts = refName.split(this.input)\n      const limit = parts.length - 1\n\n      for (let i = 0; i < parts.length; i++) {\n        const part = parts[i]!\n        branchNameSpan.appendChild(document.createTextNode(part))\n        if (i < limit) {\n          const b = document.createElement('b')\n          b.textContent = this.input\n          branchNameSpan.appendChild(b)\n        }\n      }\n    }\n    return template\n  }\n\n  // Encoding a branch uses encodeURIComponent with two exceptions.\n  // Ported from UrlHelper.escape_branch and _ref_list_content.html.erb\n  // (`branch_escaped`)\n  urlEncodeRef(refName: string) {\n    return encodeURIComponent(refName).replaceAll('%2F', '/').replaceAll('%3A', ':').replaceAll('%2B', '+')\n  }\n\n  render() {\n    this.currentSelectionIndex = null\n    if (this.index.isLoading) return\n    if (!this.virtualizedList) {\n      this.index.search(this.input)\n      this.setupVirtualizedList()\n      return\n    }\n\n    this.listContainer.scrollTop = 0\n    this.index.search(this.input)\n    this.virtualizedList.setRowCount(this.listLength)\n  }\n\n  get listHeight() {\n    // modal displayed for mobile viewports has a lower max height (60% of the window) than the one displayed for desktop\n    return this.isMobileViewport ? this.windowHeight * 0.3 : 330\n  }\n\n  get listLength() {\n    const length = this.index.currentSearchResult.length\n    if (this.showCreateRow) return length + 1 // extra space for the \"create branch\" form\n    if (!length) return 1 // we never render 0 items, instead of an empty list we show the not found indicator\n    return length\n  }\n\n  get showCreateRow(): boolean {\n    return !this.index.fetchFailed && !this.index.exactMatchFound && this.input !== '' && this.canCreate\n  }\n\n  getRequiredAttr(name: string, targetEl: HTMLElement = this): string {\n    const result = targetEl.getAttribute(name)\n    if (!result) {\n      throw new Error(`Missing attribute for ${targetEl}: ${name}`)\n    }\n    return result\n  }\n\n  // Since usually the element will start out hidden behind a <details>\n  // element, we won't perform the data fetch until the container is\n  // expanded or probably about to be.\n  setupFetchListeners() {\n    const details = this.closest('details')\n    let fetched = false\n    const fetch = () => {\n      if (!fetched) {\n        this.index.fetchData()\n        fetched = true\n      }\n    }\n\n    if (!details || details.open) {\n      // if we are not contained in a details menu or the menu is already\n      // open, fetch data immediately.\n      fetch()\n      return\n    }\n\n    // Attach a listener to fetch data when the menu's opening.\n    details.addEventListener('toggle', fetch, {once: true})\n\n    if (this.prefetchOnMouseover) {\n      // When the user has moused over the <details> element that we are a collapsed\n      // member of, we want to start fetching data so by the time the user clicks to open we\n      // should already have a head start.\n      details.addEventListener('mouseover', fetch, {once: true})\n    }\n\n    this.addEventListener('keydown', this.keydown)\n\n    this.addEventListener('change', this.updateCurrent)\n\n    // if there's an input in details (no input-demux), we want to listen to its input events directly\n    const inputElement = details.querySelector<HTMLInputElement>('input[data-ref-filter]')\n    if (inputElement) {\n      // Filter when user changes the input text\n      inputElement.addEventListener('input', () => {\n        this.input = inputElement.value\n        this.render()\n      })\n\n      inputElement.addEventListener('keydown', e => {\n        // TODO: Refactor to use data-hotkey\n        /* eslint eslint-comments/no-use: off */\n        /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n        if (e.key === 'ArrowDown' || (e.key === 'Tab' && !e.shiftKey)) {\n          // Focus first list item when Tab or Down are pressed in the input. This is necessary\n          // to initialize currentSelectionIndex, which is required to properly traverse the virtualizedList with keyboard.\n          // shift-tab should still escape out of the list\n          e.preventDefault()\n          e.stopPropagation()\n          this.focusFirstListMember()\n        } else if (e.key === 'Enter') {\n          // Trigger a click on the matching item when pressing Enter in the filter input\n          let matchingIndex = this.index.currentSearchResult.indexOf(this.input)\n          if (matchingIndex === -1) {\n            if (this.showCreateRow) {\n              matchingIndex = this.listLength - 1\n            } else {\n              return\n            }\n          }\n\n          const matchingItem = details.querySelector<HTMLInputElement>(`[data-index=\"${matchingIndex}\"]`)\n          matchingItem!.click()\n          e.preventDefault()\n        }\n        /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n      })\n    }\n  }\n\n  // Enter the list keyboard-nav style and highlight the topmost element.\n  focusFirstListMember() {\n    if (!this.virtualizedList) return\n    this.currentSelectionIndex = 0\n    this.focusItemAtIndex(this.currentSelectionIndex)\n  }\n\n  updateCurrent(event: Event) {\n    if (event.target instanceof HTMLInputElement && event.target.checked && event.target.value) {\n      this.currentCommittish = event.target.value\n    }\n  }\n\n  // Handle escape to close the menu, up and down to change elements\n  keydown(event: KeyboardEvent) {\n    // TODO: Refactor to use data-hotkey\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    // if currentSelectionIndex isn't set, we're not \"tabbed into the list\" so ignore the event.\n    if (this.currentSelectionIndex === null) return\n    if (event.key === 'Enter') {\n      const selected = document.activeElement as HTMLElement\n      if (!selected) return\n      // submit the form or visit the link.  probably a better way to do this :)\n      selected.click()\n      event.preventDefault()\n      return\n    }\n    // tab should not be handled because it's how we tab/shift-tab out of the list\n    if (event.key === 'Tab') return\n\n    // Let escapes bubble up to the handler in input-demux which will close the details element\n    if (event.key === 'Escape') return\n    event.preventDefault()\n    event.stopPropagation()\n    switch (event.key) {\n      case 'ArrowUp': {\n        this.currentSelectionIndex--\n        if (this.currentSelectionIndex < 0) {\n          this.currentSelectionIndex = this.listLength - 1 // wraparound\n        }\n        this.focusItemAtIndex(this.currentSelectionIndex)\n        break\n      }\n      case 'Home': {\n        this.currentSelectionIndex = 0\n        this.focusItemAtIndex(this.currentSelectionIndex)\n        break\n      }\n      case 'End': {\n        this.currentSelectionIndex = this.listLength - 1\n        this.focusItemAtIndex(this.currentSelectionIndex)\n        break\n      }\n      case 'ArrowDown': {\n        this.currentSelectionIndex++\n        if (this.currentSelectionIndex > this.listLength - 1) {\n          this.currentSelectionIndex = 0 // wraparound\n        }\n        this.focusItemAtIndex(this.currentSelectionIndex)\n        break\n      }\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  }\n\n  focusItemAtIndex(index: number) {\n    this.virtualizedList.scrollToIndex(index, 'center')\n    // Focus needs to happen after virtual items have been updated, otherwise the focused element\n    // may mutate later and leave us at the wrong item.\n    // VirtualList uses requestAnimationFrame, so we need a timeout to be confident we run after it.\n    setTimeout(() => {\n      const nextSelectedItem = this.listContainer.querySelector(`[data-index=\"${index}\"]`) as HTMLElement\n      if (nextSelectedItem) nextSelectedItem.focus()\n    }, 20)\n  }\n\n  setupVirtualizedList() {\n    this.listContainer.textContent = ''\n    this.listContainer.style.maxHeight = `${this.listHeight}px`\n\n    this.virtualizedList = new VirtualizedList(this.listContainer, {\n      height: this.listHeight,\n      rowCount: this.listLength,\n      renderRow: this.renderRow.bind(this),\n      rowHeight: index => {\n        // 33 is the size for most items (for mobile viewports, 54).  the form can overflow a line, so\n        // give it extra space when we render it.\n        const rowHeight = this.isMobileViewport ? 54 : 33\n\n        return this.showCreateRow && index === this.listLength - 1 ? 51 : rowHeight\n      },\n      onRowsRendered: () => {\n        if (this.hiddenCurrentElement) {\n          this.listContainer.removeChild(this.hiddenCurrentElement)\n          delete this.hiddenCurrentElement\n        }\n\n        if (this.isCurrentVisible) {\n          // Reset for next rendering\n          this.isCurrentVisible = false\n        } else {\n          // Render input for this.currentCommittish if not visible\n          // Use a wrapping div because fragment cannot be `removeChild` easily\n          if (this.hiddenCurrentItemTemplate) {\n            this.hiddenCurrentElement = document.createElement('div')\n            this.hiddenCurrentElement?.appendChild(\n              this.renderTemplate(this.hiddenCurrentItemTemplate, {\n                refName: this.currentCommittish,\n              }),\n            )\n            this.listContainer.appendChild(this.hiddenCurrentElement)\n          }\n        }\n      },\n      initialIndex: 0,\n      overscanCount: 6,\n    })\n\n    // Library does not bind the resize method to the instance\n    this.virtualizedList.resize.bind(this.virtualizedList)\n  }\n}\n","import safeStorage from '@github-ui/safe-storage'\nimport {sendStats} from '@github-ui/stats'\n\nconst {getItem, setItem, removeItem} = safeStorage('localStorage', {throwQuotaErrorsOnSet: true})\n\nexport enum RefType {\n  Branch = 'branch',\n  Tag = 'tag',\n}\n\n// the SearchIndex needs to be able to tell the element that owns it to\n// re-render, so it holds a reference to it and just calls render().  This is\n// the minimal interface for an object which owns a SearchIndex.\nexport interface Renderer {\n  render(): void\n}\n\n// The shape of a response from refs_branch_list_path, and of the payload we\n// store in localstorage.\ninterface RefResponse {\n  refs: string[]\n  cacheKey: string // an opaque string representing the freshness of the ref list\n}\n\n// Stores a list of refs for local search with remote backfill.\nexport class SearchIndex {\n  refType: RefType\n\n  // A reference to the parent RefSelectorElement\n  selector: Renderer\n\n  // The items we have in memory.\n  knownItems: string[] = []\n\n  // items in knownItems matching the current query\n  currentSearchResult: string[] = []\n\n  // does the current search match an item exactly?\n  exactMatchFound = false\n\n  // The string currently being used to search\n  searchTerm = ''\n\n  // URL to retrieve ref data from\n  refEndpoint: string\n\n  // A key used to represent the freshness of any given (possibly partial) list of refs.\n  cacheKey: string\n\n  // NWO for the repo on this page\n  nameWithOwner: string\n\n  // State flags\n  isLoading = true\n  fetchInProgress = false\n  fetchFailed = false\n\n  static LocalStoragePrefix = 'ref-selector'\n\n  constructor(refType: RefType, selector: Renderer, refEndpoint: string, cacheKey: string, nameWithOwner: string) {\n    this.refType = refType\n    this.selector = selector\n    this.refEndpoint = refEndpoint\n    this.cacheKey = cacheKey\n    this.nameWithOwner = nameWithOwner\n  }\n\n  render() {\n    this.selector.render()\n  }\n\n  async fetchData() {\n    try {\n      // Don't do anything if we're already loaded or AJAX is in flight.\n      if (!this.isLoading || this.fetchInProgress) return\n      if (!this.bootstrapFromLocalStorage()) {\n        this.fetchInProgress = true\n        this.fetchFailed = false\n        const response = await fetch(`${this.refEndpoint}?type=${this.refType}`, {\n          headers: {Accept: 'application/json'},\n        })\n        await this.processResponse(response)\n      }\n      this.isLoading = false\n      this.fetchInProgress = false\n      this.render()\n    } catch (_) {\n      this.fetchInProgress = false\n      this.fetchFailed = true\n    }\n  }\n\n  // Store newly received data and update bookkeeping structures\n  async processResponse(response: Response) {\n    this.emitStats(response)\n    if (!response.ok) {\n      this.fetchFailed = true\n      return\n    }\n    const lsClone = response.clone() // avoid double-reading Response\n    const decoded = (await response.json()) as RefResponse\n    this.knownItems = decoded.refs\n    this.cacheKey = decoded.cacheKey\n    this.flushToLocalStorage(await lsClone.text())\n  }\n\n  emitStats(response: Response) {\n    if (!response.ok) {\n      sendStats({incrementKey: 'REF_SELECTOR_BOOT_FAILED'}, true)\n      return\n    }\n    switch (response.status) {\n      case 200: {\n        sendStats({incrementKey: 'REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP'})\n        break\n      }\n      case 304: {\n        sendStats({incrementKey: 'REF_SELECTOR_BOOTED_FROM_HTTP_CACHE'})\n        break\n      }\n      default: {\n        // I doubt this should ever be triggered since we already know the\n        // request is ok, but just here to have an exhaustive switch statement\n        sendStats({incrementKey: 'REF_SELECTOR_UNEXPECTED_RESPONSE'})\n      }\n    }\n  }\n\n  // Perform a substring search for the given query among all known items.\n  // Prefix-matches should be sorted before other substring matches.\n  //\n  // We could consider maintaining a fancier data structure to make this search\n  // faster, but that would make bootstrapping more expensive and at any rate\n  // profiling shows this naive approach is not a bottleneck for real world\n  // numbers of branches (~X0,000)\n  search(query: string) {\n    this.searchTerm = query\n    if (query === '') {\n      this.currentSearchResult = this.knownItems\n      return\n    }\n    const result: string[] = []\n    const prefixes: string[] = []\n    this.exactMatchFound = false\n    let pos\n    for (const ref of this.knownItems) {\n      pos = ref.indexOf(query)\n      if (pos < 0) continue\n      if (pos === 0) {\n        if (query === ref) {\n          // exact match first\n          prefixes.unshift(ref)\n          this.exactMatchFound = true\n        } else {\n          // sort prefix matches before other matches\n          prefixes.push(ref)\n        }\n        continue\n      }\n      result.push(ref)\n    }\n    this.currentSearchResult = [...prefixes, ...result]\n  }\n\n  // Try to init state from localstorage if a fresh state exists there.\n  // This lets us reuse AJAX requests made on previous page loads as long as\n  // the repo state hasn't changed.\n  // Returns a boolean indicating succcess or failure\n  bootstrapFromLocalStorage(): boolean {\n    const storedData = getItem(this.localStorageKey)\n    if (!storedData) {\n      return false\n    }\n    const payload: RefResponse = JSON.parse(storedData)\n    if (payload.cacheKey !== this.cacheKey || !('refs' in payload)) {\n      // stored data is stale or malformed, discard it\n      removeItem(this.localStorageKey)\n      return false\n    }\n    // Our stored data is valid, use it\n    this.knownItems = payload.refs\n    this.isLoading = false\n    sendStats({incrementKey: 'REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE'})\n    return true\n  }\n\n  // Store our state at a cache-tied LS key so future selectors\n  // can bootstrap without AJAX if the repo state is fresh.\n  async flushToLocalStorage(serverResponse: string) {\n    try {\n      setItem(this.localStorageKey, serverResponse)\n    } catch (e) {\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      if (e.message.toLowerCase().includes('quota')) {\n        // we violated LS quota, clear storage for all ref selectors and try again\n        this.clearSiblingLocalStorage()\n        sendStats({incrementKey: 'REF_SELECTOR_LOCALSTORAGE_OVERFLOWED'})\n        try {\n          setItem(this.localStorageKey, serverResponse)\n        } catch (err2) {\n          // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n          if (err2.message.toLowerCase().includes('quota')) {\n            sendStats({incrementKey: 'REF_SELECTOR_LOCALSTORAGE_GAVE_UP'})\n          }\n        }\n      } else {\n        throw e // some other error, let it bubble\n      }\n    }\n  }\n\n  // Clear the LocalStorage entries associated with all instances of this class (i.e. for all repos)\n  clearSiblingLocalStorage() {\n    for (const key of Object.keys(localStorage)) {\n      if (key.startsWith(SearchIndex.LocalStoragePrefix)) {\n        removeItem(key)\n      }\n    }\n  }\n\n  // Clear the LocalStorage entry for this instance\n  clearLocalStorage() {\n    removeItem(this.localStorageKey)\n  }\n\n  get localStorageKey(): string {\n    return `${SearchIndex.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`\n  }\n}\n"],"names":["RefSelectorElement","HTMLElement","connectedCallback","window","addEventListener","windowResized","refType","getRequiredAttr","RefType","Branch","Tag","currentCommittishAttr","getAttribute","currentCommittish","atob","input","hasAttribute","defaultBranch","nameWithOwner","canCreate","prefetchOnMouseover","queryEndpoint","cacheKey","index","SearchIndex","updateViewportSize","setupFetchListeners","disconnectedCallback","resizeAnimationRequest","cancelAnimationFrame","removeEventListener","isMobileViewport","innerWidth","windowHeight","innerHeight","inputEntered","e","detail","render","tabSelected","fetchData","renderTemplate","template","params","TemplateInstance","propertyIdentityOrBooleanAttribute","renderRow","refName","currentSearchResult","listLength","document","createElement","fetchFailed","fetchFailedTemplate","isCurrent","isCurrentVisible","noMatchTemplate","isFiltering","length","itemTemplate","isFilteringClass","urlEncodedRefName","urlEncodeRef","isNotDefault","branchNameSpan","querySelector","textContent","parts","split","limit","i","part","appendChild","createTextNode","b","encodeURIComponent","replaceAll","currentSelectionIndex","isLoading","virtualizedList","search","setupVirtualizedList","listContainer","scrollTop","setRowCount","listHeight","showCreateRow","exactMatchFound","name","targetEl","result","details","closest","fetched","fetch","open","once","keydown","updateCurrent","inputElement","value","key","shiftKey","matchingIndex","indexOf","matchingItem","click","preventDefault","stopPropagation","focusFirstListMember","focusItemAtIndex","event","target","HTMLInputElement","checked","selected","activeElement","scrollToIndex","setTimeout","nextSelectedItem","focus","style","maxHeight","VirtualizedList","height","rowCount","bind","rowHeight","onRowsRendered","hiddenCurrentElement","removeChild","hiddenCurrentItemTemplate","initialIndex","overscanCount","resize","handleWindowResize","prevIsMobileViewport","prevWindowHeight","isMobileViewportChanged","windowHeightChanged","destroy","requestAnimationFrame","controller","getItem","setItem","removeItem","safeStorage","throwQuotaErrorsOnSet","selector","fetchInProgress","bootstrapFromLocalStorage","response","refEndpoint","headers","Accept","processResponse","_","emitStats","ok","lsClone","clone","decoded","json","knownItems","refs","flushToLocalStorage","text","sendStats","incrementKey","status","query","pos","searchTerm","prefixes","ref","unshift","push","storedData","localStorageKey","payload","JSON","parse","serverResponse","message","toLowerCase","includes","clearSiblingLocalStorage","err2","Object","keys","localStorage","startsWith","LocalStoragePrefix","clearLocalStorage","constructor"],"sourceRoot":""}