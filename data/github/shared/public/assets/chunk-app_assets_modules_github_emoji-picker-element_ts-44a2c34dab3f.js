"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_emoji-picker-element_ts"],{92066:(e,t,r)=>{r.r(t),r.d(t,{EmojiPickerElement:()=>EmojiPickerElement});var i=r(39595);function o(e,t,r,i){var o,l=arguments.length,s=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(l<3?o(s):l>3?o(t,r,s):o(t,r))||s);return l>3&&s&&Object.defineProperty(t,r,s),s}let EmojiPickerElement=class EmojiPickerElement extends HTMLElement{open(){this.hidden=!1,this.querySelector('button[aria-selected="true"]')?.focus()}close(){this.hidden=!0}connectedCallback(){this.addEventListener("keydown",s),document.addEventListener("click",c)}disconnectedCallback(){this.removeEventListener("keydown",s),document.removeEventListener("click",c)}reset(){let e=this.querySelector(".js-original-emoji-category"),t=this.querySelector(".js-original-emoji-category-tab"),r=this.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]'),i=l(this),o=this.querySelector(".js-originally-selected-emoji");if(o){let e=this.querySelector(".selected-emoji");e&&e.classList.remove("selected-emoji"),o.classList.add("selected-emoji")}r?.removeAttribute("aria-selected"),e?.setAttribute("aria-selected","true"),i.hidden=!0,t.hidden=!1,this.clear()}clear(){this.filterInput&&(this.filterInput.value=""),this.emojiList.setAttribute("value","")}filter(e){if(e instanceof InputEvent&&e.isComposing)return;let t=e.currentTarget;this.emojiList.setAttribute("value",t.value);let r=this.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]');r.hasAttribute("data-emoji-picker-filter-tab-button")||r.classList.add("emoji-picker-prior-selected-tab-button");let i=this.querySelector(".emoji-picker-prior-selected-tab-button");i&&i.click()}onFuzzyListSorted(e){let t=Number(e.detail)>0;this.noResults.hidden=t,this.emojiList.hidden=!t,this.resultsHeader.hidden=!t}onEmojiTabClick(){this.clear(),setTimeout(()=>this.filterInput?.focus(),0)}};function l(e){let t=e.querySelectorAll('[role="tablist"] [role="tab"]'),r=e.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]');return e.querySelectorAll('[role="tabpanel"]')[Array.from(t).indexOf(r)]}function s(e){if(!(e.target instanceof HTMLElement))return;let t=e.target.closest(".js-emoji-picker");if(t&&t instanceof HTMLElement&&!t.hidden&&"tab"!==e.target.getAttribute("role")&&"text"!==e.target.getAttribute("type"))switch(e.key){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":e.preventDefault(),function(e,t){let r=l(e),i=Array.from(r.querySelectorAll(".js-emoji-button")),o=r.querySelector(".selected-emoji.js-emoji-button"),s=function(e){let t=0,r=e[0].getBoundingClientRect().top;for(let i of e){if(r<i.getBoundingClientRect().top)break;t+=1}return t}(i),c=function(e,t){let r=[[]],i=0;for(let o=0;o<e.length;o++){let l=e[o];o>0&&o%t==0&&(i+=1,r.push([])),r[i].push(l)}return r}(i,s),n=0,a=0;if(o){let e=function(e,t){let r=0,i=0,o=-1;for(let l=0;l<e.length;l++){if((o=(0,e[l]).indexOf(t))>-1){i=o;break}r+=1}return{row:r,col:i}}(c,o);switch(n=e.row,a=e.col,o.classList.remove("selected-emoji"),t){case"ArrowRight":a+=1;break;case"ArrowDown":n+=1;break;case"ArrowLeft":a-=1;break;case"ArrowUp":n-=1}}let u=c.length-1,d=a>c[u].length-1,m=n===u;n<0?(n=u,d&&(n-=1)):(n>u||m&&d&&"ArrowDown"===t)&&(n=0);let h=c[n].length-1;a<0?a=h:a>h&&(a=0);let f=c[n][a];f.classList.add("selected-emoji"),f.focus()}(t,e.key)}}function c(e){let t=e.target;"closest"in t||(t=t.parentNode);let r=t.closest("emoji-picker");for(let e of document.querySelectorAll("emoji-picker"))e!==r&&e.close()}o([i.aC],EmojiPickerElement.prototype,"emojiList",void 0),o([i.aC],EmojiPickerElement.prototype,"noResults",void 0),o([i.aC],EmojiPickerElement.prototype,"resultsHeader",void 0),o([i.aC],EmojiPickerElement.prototype,"filterInput",void 0),EmojiPickerElement=o([i.p_],EmojiPickerElement)}}]);
//# sourceMappingURL=app_assets_modules_github_emoji-picker-element_ts-d89c794ca1db.js.map