<!DOCTYPE html>
<html>
<%

@unicorn = defined?(@unicorn) ? @unicorn : ENV["UNICORN"]
@loading = defined?(@loading) ? @loading : ENV["LOADING"]
@loading_status = defined?(@loading_status) ? @loading_status : ENV["LOADING_STATUS"]

if !@loading
  PREFLIGHT_HTML = true
  load '/usr/local/share/enterprise/ghe-preflight-check'

  def check_message(check, _erbout=nil, checks=CHECKS)
    result = check_result(check, checks)
    if block_given?
      status = result ? :success : :error
      yield status, checks[check][0]
    end
  end
else
  CHECKS_ALL_PASSED = false
end

%>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <title>GitHub Enterprise preflight check</title>
    <style>

      .list-group-item {
        line-height: 1.5;
      }

      .list-group-item h3 {
        margin: 0 0 5px;
      }

      .list-group-item p {
        font-size: 14px;
        color: #969696;
        margin: 0 0 0 40px;
      }

      .list-group-item p.failed {
        color: #dc5f59;
      }

      .header-logo:hover {
        color: #a4a9ac;
        text-shadow: none;
      }

      #booting-indicator {
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -55px 0 0 -45px;
        text-align: center;
      }

      #booting-indicator h1 {
        color: #aaa;
        font-size: 20px;
      }

      #booting-indicator.upgrade {
        position: inherit;
        left: auto;
        top: auto;
        margin: 20% auto;
        text-align: left;
      }

      #booting-indicator.upgrade h1 {
        margin-bottom: 1em;
      }

      /* Global scaffolding
      ------------------------------------------------------------ */

      * {
        -webkit-box-sizing: border-box;
           -moz-box-sizing: border-box;
                box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0 0 60px;
        background-color: #3f4142;
        text-shadow: 0 1px 1px rgba(0,0,0,.3);
      }

      body,
      input,
      select,
      button,
      textarea {
        font-family: "Helvetica Neue", Helvetica, Arial, freesans, sans-serif;
        font-size: 14px;
        line-height: 1.4;
        color: #a4a9ac;
      }

      input {
        color: #B9BDC0;
      }

      /* Links */
      a {
        color: #fff;
        font-weight: 500;
        text-decoration: none;
        outline: none;
      }
      a:hover {
        text-decoration: underline;
      }
      a img {
        border: 0;
      }



      /* Typography
      ------------------------------------------------------------ */

      h1, h2, h3 {
        margin: 20px 0 5px;
        font-weight: 500;
        line-height: 1;
        color: #fff;
        text-rendering: optimizeLegibility;
      }
      h1 {
        font-size: 32px;
      }
      h2 {
        margin-top: 30px;
        margin-bottom: 15px;
        padding-bottom: 9px;
        font-size: 24px;
        border-bottom: 1px solid #2B2D2E;
        box-shadow: 0 1px 0 rgba(255,255,255,.1);
      }
      h3 {
        margin-top: 20px;
        margin-bottom: 10px;
        font-size: 18px;
      }

      p {
        margin: 0 0 10px;
      }
      .lead {
        margin-bottom: 10px;
        font-size: 18px;
        font-weight: 300;
      }
      .lead strong {
        font-weight: 400;
        color: #fff;
      }

      small {
        font-size: 80%;
      }

      code {
        padding: 3px 5px;
        font-size: 12px;
        color: #ccc;
        white-space: nowrap;
        background-color: #2B2D2E;
        background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#1E2020), to(#2B2D2E));
        background-image: -webkit-linear-gradient(top, #1E2020, #2B2D2E);
        background-image:    -moz-linear-gradient(top, #1E2020, #2B2D2E);
        background-image:     -ms-linear-gradient(top, #1E2020, #2B2D2E);
        background-image:      -o-linear-gradient(top, #1E2020, #2B2D2E);
        border-radius: 3px;
        box-shadow: inset 0 2px 4px rgba(0,0,0,.15), 0 1px 0 rgba(255,255,255,.1);
      }

      .multiline-top {
        margin-bottom: 0px;
      }

      .multiline-bottom {
        margin-top: 0px;
      }


      /* Buttons
      ------------------------------------------------------------ */

      /* Base class is .btn */
      [class^="btn"] {
        display: inline-block;
        margin: 0;
        padding: 10px 15px;
        font-weight: 500;
        line-height: 1;
        color: #333;
        text-align: center;
        text-shadow: 0 1px 0 rgba(255,255,255,.75);
        background-color: #cccccc;
        background-image: -webkit-linear-gradient(#ffffff, #cccccc);
        background-image:    -moz-linear-gradient(#ffffff, #cccccc);
        -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#cccccc')";
        background-repeat: repeat-x;
        border: 0;
        border-radius: 4px;
        box-shadow: inset 0 1px 1px rgba(255,255,255,.25), 0 1px 2px rgba(0,0,0,.05);
        cursor: pointer;
        vertical-align: middle;
      }
      [class^="btn"]:hover {
        text-decoration: none;
        background-position: 0 -15px;
      }
      [class^="btn"]:active {
        background-image: none;
        box-shadow: inset 0 2px 4px rgba(0,0,0,.2), 0 1px 2px rgba(0,0,0,.05);
      }

      .btn-small {
        font-size: 12px;
        padding: 6px 10px;
        border-radius: 3px;
      }

      .btn-medium {
        font-size: 12px;
        padding: 11px 14px;
        border-radius: 3px;
      }

      .btn-large {
        font-size: 20px;
        padding: 14px 20px;
        border-radius: 6px;
      }

      /* Disabled */
      [class^="btn"].disabled,
      [class^="btn"]:disabled,
      [class^="btn"].disabled:hover,
      [class^="btn"]:disabled:hover,
      [class^="btn"].disabled:active,
      [class^="btn"]:disabled:active {
        background-image: none;
        box-shadow: none;
        background: #666;
        opacity: .5;
        filter: alpha(opacity=50);
        cursor: default;
        text-shadow: none;
      }

      /* Alternate buttons */
      .btn-primary {
        color: #fff;
        text-shadow: 0 -1px 0 rgba(0,0,0,.25);
        background-color: #1d6ac8;
        background-image: -webkit-linear-gradient(#45b3f3, #1d6ac8);
        background-image:    -moz-linear-gradient(#45b3f3, #1d6ac8);
        -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#45b3f3', endColorstr='#1d6ac8')";
        border-color: #1d6ac8 #1d6ac8 #1a5eb2;
      }
      .btn-primary:active {
        border-color: #17529b;
      }

      /* Custom continue install button */
      .btn-continue,
      .btn-continue:hover {
        font-size: 16px;
        padding: 18px;
        color: white;
        text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
        background-repeat: repeat-x;
      }
      .btn-continue {
        background-color: #60B044;
        background-image: -webkit-linear-gradient(#8ADD6D, #60B044);
        background-image: -moz-linear-gradient(#8ADD6D, #60B044);
        background-image: linear-gradient(#8ADD6D, #60B044);
        border-color: #5CA941;
      }
      .btn-continue:hover {
        background-color: #5BA740;
        background-image: -moz-linear-gradient(#82DB63, #5BA740);
        background-image: -webkit-linear-gradient(#82DB63, #5BA740);
        background-image: linear-gradient(#82DB63, #5BA740);
        border-color: #4A993E;
      }
      .btn-continue:active {
        background-color: #569E3D;
        background-image: none;
        border-color: #418737;
      }
      .btn-continue:disabled,
      .btn-continue:disabled:hover,
      .btn-continue:disabled:active {
        padding: 17px;
        color: #fff;
        border: 1px solid #a4a9ac;
        background-color: transparent;
      }



      /* Forms
      ------------------------------------------------------------ */

      select,
      textarea,
      input[type="text"],
      input[type="password"],
      input[type="file"] {
        display: block;
        width: 100%;
        min-height: 36px; /* Firefox needs this */
        -webkit-box-sizing: border-box;
           -moz-box-sizing: border-box;
                box-sizing: border-box;
        padding: 7px 9px;
        margin: 0 0 5px;
        border: 1px solid #242525;
        border-radius: 4px;
        -webkit-background-clip: padding-box;
           -moz-background-clip: padding-box;
                background-clip: padding-box;
        -webkit-transition: all linear .2s;
           -moz-transition: all linear .2s;
                transition: all linear .2s;
      }
      textarea,
      input[type="text"],
      input[type="password"] {
        box-shadow: inset 0 1px 2px rgba(0,0,0,.15), 0 1px 0 rgba(255,255,255,.1);
        background-color: #323435;
        background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#2F3131), to(#323435));
        background-image: -webkit-linear-gradient(top, #2F3131, #323435);
        background-image:    -moz-linear-gradient(top, #2F3131, #323435);
        background-image:     -ms-linear-gradient(top, #2F3131, #323435);
        background-image:      -o-linear-gradient(top, #2F3131, #323435);
      }

      select:focus,
      textarea:focus,
      input[type="text"]:focus,
      input[type="password"]:focus {
        color: #333;
        background-color: #fff;
        background-image: none;
        outline: 0;
        outline: thin dotted \9; /* IE6-9 */
        box-shadow: inset 0 1px 2px rgba(0,0,0,.15), 0 1px 0 rgba(255,255,255,.1), 0 0 9px rgba(255,255,255,.6);
      }

      input[type="file"] {
        border-color: #525455;
      }
      input[type="file"]:focus {
        outline: 0;
        outline: thin dotted \9; /* IE6-9 */
      }

      input[type="text"].short,
      input[type="password"].short {
        width: 100px;
      }
      select {
        width: auto;
        color: #333;
        height: 34px;
        line-height: 34px;
      }

      textarea.invalid,
      input[type="text"].invalid,
      input[type="file"].invalid  {
        border-color: #dc5f59;
        box-shadow: inset 0 1px 2px rgba(0,0,0,.15);
      }
      textarea.invalid:focus,
      input[type="text"].invalid:focus,
      input[type="file"].invalid:focus {
        border-color: #dc5f59;
        box-shadow: inset 0 1px 2px rgba(0,0,0,.15), 0 0 9px rgba(179,54,48,.75);
      }
      input[type="file"].invalid {
        border: 1px solid #dc5f59;
      }

      /* Placeholders
      ------------------------- */
      ::-webkit-input-placeholder {
        color: rgba(255,255,255,.25);
      }
      :-ms-input-placeholder {
        color: rgba(255,255,255,.25);
      }
      ::-moz-placeholder {
        color: rgba(255,255,255,.25);
      }
      :-moz-placeholder {
        color: rgba(255,255,255,.25);
      }

      /* Larger, heading labels
      ------------------------- */
      .label-heading {
        display: inline-block;
        margin-top: 15px;
        margin-bottom: 5px;
        font-weight: 500;
        color: #fff;
      }
      .label-heading .muted {
        font-size: 80%;
      }

      /* Notes and errors */
      .error,
      .field-note {
        display: none;
        margin: 5px 0 0 0;
        font-size: 12px;
        font-weight: bold;
        color: #777;
      }
      .field-note.error {
        color: #dc5f59;
      }


      /* Radios & checkboxes
      ------------------------- */
      /* Wrapper for multiple, inline radios */
      .radio-list {
        margin-top: 10px;
      }

      /* Single radio label/input pair */
      .radio-item,
      .checkbox-item {
        display: inline-block;
        padding: 6px 13px 6px 10px;
        margin: 0 0 10px;
        vertical-align: top;
        font-size: 13px;
        font-weight: 500;
        line-height: 20px;
        color: #85898b;
        border: 1px solid #525455;
        border-radius: 3px;
        cursor: pointer;
      }
      .radio-item:hover,
      .checkbox-item:hover {
        background-color: #525455;
        color: #fff;
        text-shadow: none;
      }
      .radio-item.disabled,
      .radio-item.disabled:hover {
        color: #85898b;
        text-shadow: 0 1px 1px rgba(0,0,0,.3);
        background-color: transparent;
        border-color: #525455;
        cursor: default;
      }
      .radio-item.active,
      .checkbox-item.active {
        color: #3f4142;
        background-color: #fff;
        border-color: #fff;
        text-shadow: none;
      }
      .radio-item + .radio-item,
      .checkbox-item + .checkbox-item {
        margin-left: 10px;
      }
      .radio-item input[type="radio"],
      .checkbox-item input[type="checkbox"] {
        margin: 0 5px 0 0;
      }
      /* Block level variation */
      .radio-item.block,
      .checkbox-item.block {
        display: block;
        margin-bottom: 5px;
      }


      /* Grid system
      ------------------------------------------------------------ */

      .row {
        margin-left: -10px;
        margin-right: -10px;
      }

      [class^="span"] {
        float: left;
        min-height: 1px;
        padding: 0 10px;
        -webkit-box-sizing: border-box;
           -moz-box-sizing: border-box;
                box-sizing: border-box;
      }

      .span1  { width: 8.333333333%; }
      .span2  { width: 16.666666667%; }
      .span3  { width: 25%; }
      .span4  { width: 33.333333333%; }
      .span5  { width: 41.666666667%; }
      .span6  { width: 50%; }
      .span7  { width: 58.333333333%; }
      .span8  { width: 66.666666667%; }
      .span9  { width: 75%; }
      .span10 { width: 83.333333333%; }
      .span11 { width: 90%; }
      .span12 { width: 91.666666667%; }

      .offset1 { margin-left: 8.333333333%; }
      .offset2 { margin-left: 16.666666667%; }
      .offset3 { margin-left: 25%; }
      .offset4 { margin-left: 33.333333333%; }
      .offset5 { margin-left: 41.666666667%; }
      .offset6 { margin-left: 50%; }
      .offset7 { margin-left: 58.333333333%; }
      .offset8 { margin-left: 66.666666667%; }

      table [class^="span"] {
        float: none;
        padding: 0;
      }

      /* Octicons
      ------------------------------------------------------------ */

      .mini-icon,
      .mega-icon {
        background-position: center center;
        background-repeat: none;
        display: inline-block;
      }
      .mini-icon {
        background-size: 16px 16px;
        width: 16px;
        height: 16px;
      }
      .mega-icon {
        background-size: 32px 32px;
        width: 32px;
        height: 32px;
      }
      .octicon-confirm {
        background-image: url("../images/preflight/check.svg");
      }
      .octicon-x {
        background-image: url("../images/preflight/x.svg");
      }
      .octicon-alert {
        background-image: url("../images/preflight/alert.svg");
      }
      .octicon-mark-github {
        background-image: url("../images/preflight/mark-github.svg");
        background-position: center center;
        background-repeat: no-repeat;
        background-size: 32px 32px;
        display: inline-block;
        float: left;
        margin-right: 10px;
        height: 32px;
        width: 32px;
      }

      /* TODO: is this needed? */
      .disabled,
      .disabled:hover {
        color: #fafafa;
        cursor: default;
        text-decoration: none;
      }



      /* Layout
      ------------------------------------------------------------ */

      /* Containers
      ------------------------- */
      .container {
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
        padding-right: 30px;
        padding-left: 30px;
      }

      /* Inner wrapper for slimmer content */
      .single-column {
        margin: 0 auto;
        max-width: 700px;
      }

      /* Popovers
      ------------------------- */
      .popover {
        z-index: 2;
        position: absolute;
        left: 50%;
        width: 450px;
        margin-left: -225px;
        background-color: #1e2020;
        border-radius: 6px;
        box-shadow: 0 5px 15px rgba(0,0,0,.5);
      }

      .popover-title {
        border-bottom: 1px solid #333;
        margin: 0 0 15px;
      }

      .popover-title,
      .popover-footer {
        padding: 15px;
      }

      .popover-content {
        padding: 0 15px 15px;
      }

      .popover-footer {
        border-top: 1px solid #333;
      }

      .popover label {
        display: inline-block;
        color: #fff;
        margin-bottom: 5px;
      }

      .popover input[type="text"] {
        border: 0;
      }

      .popover-close {
        color: #888;
        position: absolute;
        right: 15px;
        top: 13px;
      }
      .popover-close:hover {
        text-decoration: none;
      }

      .popover-loader {
        display: block;
        padding: 15px 30px 30px;
        text-align: center;
      }

      #test-ldap-settings {
        width: 450px;
      }

      .ldap-sync {
        margin-top: 15px;
      }

      /* Tables
      ------------------------- */
      table {
        width: 100%;
      }

      th {
        text-align: left;
      }

      /* Page sections
      ------------------------- */
      .page-section-wrapper {
        margin-top: -60px;
      }
      .page-section {
        margin-top: 60px;
        margin-bottom: 60px;
      }
      .subsection {
        margin-top: 30px;
      }
      .subsection .label-heading {
        margin-top: 0;
      }

      /* Main nav
      ------------------------- */
      .nav-pills {
        margin: 0 0 20px;
        padding: 0;
      }
      .nav-pills li {
        float: left;
        list-style: none;
      }
      .nav-pills a {
        display: block;
        padding: 7px 15px;
        margin-left: 4px;
        font-weight: 500;
      }
      .nav-pills a:hover {
        text-decoration: none;
      }
      .nav-pills .active a {
        color: #fff;
        background-color: rgba(0,0,0,.25);
        border-radius: 4px;
        box-shadow: inset 0 1px 2px rgba(0,0,0,.25), 0 1px 0 rgba(255,255,255,.05);
      }



      /* Headers
      ------------------------------------------------------------ */

      /* Shared styles
      ------------------------- */
      .header {
        padding: 10px 20px;
        margin-bottom: 60px;
        background-color: #2b2d2e;
        border: 1px solid rgba(0,0,0,.25);
        box-shadow: 0 1px 0 rgba(255,255,255,.1);
      }


      /* Header links */
      .header-logo,
      .header a {
        color: #a4a9ac;
        /*text-shadow: 0 1px 0 rgba(255,255,255,.05);*/
        -webkit-transition: all linear .1s;
           -moz-transition: all linear .1s;
                transition: all linear .1s;
      }
      .header-logo:hover,
      .header .nav-pills a:hover {
        color: #fff;
        text-decoration: none;
        text-shadow: 0 0 10px rgba(255,255,255,.5);
      }

      /* Clickable logo for non-first-run experiences */
      .header-logo {
        font-size: 20px;
        font-weight: 500;
        line-height: 32px;
      }
      .header-logo .mega-icon-blacktocat {
        float: left;
        margin-right: 8px;
      }

      /* Header navigation */
      .header .nav-pills {
        float: right;
        margin-top: 2px;
        margin-bottom: 0;
      }

      /* First-run header
      ------------------------- */
      .header-first-run .header-octocat {
        display: block;
        width: 80px;
        margin: 0 auto 30px;
      }




      /* Misellaneous
      ------------------------------------------------------------ */

      /* Utility classes
      ------------------------- */
      .access { display: none; } /* For accessibility related elements */
      .clear {
        clear: both;
        height: 0;
        font-size: 0;
        line-height: 0;
        overflow: hidden;
      }

      /* Super micro clearfix (see http://css-tricks.com/snippets/css/clear-fix/) */
      .clearfix:after {
        display: table;
        content: "";
        clear: both;
      }

      /* Utility classes */
      .pull-left { float: left; }
      .pull-right { float: right; }
      .muted {
        font-weight: normal;
        color: #999;
      }

      /* States
      ------------------------------------------------------------ */
      .success-state {
        color: #6cc644;
      }

      .error-state {
        color: #dc5f59;
      }

      /* Spinners
      ------------------------- */
      .spinner-small,
      .spinner-large {
        display: inline-block;
        vertical-align: middle;
        background-position: 0 0;
        background-repeat: no-repeat;
      }
      .spinner-small {
        width: 16px;
        height: 16px;
        background-image: url("../images/spinners/octocat-spinner-16-dark.gif");
      }
      .spinner-large {
        width: 32px;
        height: 32px;
        background-image: url("../images/spinners/octocat-spinner-32-dark.gif");
      }

      @media
      only screen and (-webkit-min-device-pixel-ratio: 2),
      only screen and (   min--moz-device-pixel-ratio: 2),
      only screen and (     -o-min-device-pixel-ratio: 2/1),
      only screen and (        min-device-pixel-ratio: 2),
      only screen and (                min-resolution: 192dpi),
      only screen and (                min-resolution: 2dppx) {

        .spinner-small {
          background-image: url(../images/spinners/octocat-spinner-32-dark.gif);
          background-size: 16px 16px;
        }
        .spinner-large {
          background-image: url(../images/spinners/octocat-spinner-64-dark.gif);
          background-size: 32px 32px;
        }

      }


      /* @end */

      /*----------------------------------------------------------------------------
        @group Core components
      ----------------------------------------------------------------------------*/

      /* Setup status
      ------------------------- */
      .instance-status {
        margin: 80px 0 0;
      }

      /* Terminating page actions
      ------------------------- */
      .page-actions {
        margin: 30px 0 120px;
        padding-top: 30px;
        text-align: center;
        border-top: 1px solid #2B2D2E;
        box-shadow: inset 0 1px 0 rgba(255,255,255,.1);
      }

      .page-actions .message {
        margin-top: 7px;
        float: left;
        color: #999;
      }

      .page-actions .button-label {
        line-height: 32px;
      }

      /*----------------------------------------------------------------------------
        @group Settings
      ----------------------------------------------------------------------------*/

      #smtp_test_result.success,
      #ldap_test_result.success {
        display: block;
        color: #018928;
      }
      #smtp_test_result.error,
      #ldap_test_result.error {
        display: block;
        color: #dc5f59;
      }

      .settings-nav .nav {
        margin: 0 0 0 -3px;
        padding: 8px 0;
        background-color: #2B2D2E;
        border-radius: 6px;
        list-style: none;
      }
      .settings-nav .nav.affix {
        position: fixed;
        top: 20px;
        width: 198px;
      }
      .settings-nav a {
        display: block;
        padding: 8px 15px;
        line-height: 1;
        color: #A4A9AC;
        -webkit-transition: all linear .15s;
           -moz-transition: all linear .15s;
                transition: all linear .15s;
      }
      .settings-nav a:hover {
        text-decoration: none;
        background-color: rgba(0,0,0,.20);
      }
      .settings-nav .active a {
        font-weight: bold;
        color: #FFF;
      }



      /* List groups (services, cateoriges, and more)
      ------------------------------------------------------------ */

      /* Common styles
      ------------------------- */

      .list-group {
        margin-top: 30px;
        margin-bottom: 15px;
        -webkit-background-clip: padding-box;
           -moz-background-clip: padding-box;
                background-clip: padding-box;
        border: 1px solid rgba(0,0,0,.25);
        border-color: rgba(0,0,0,.6);
        border-radius: 6px;
        box-shadow: inset 0 2px 4px rgba(0,0,0,.15), 0 1px 0 rgba(255,255,255,.1);
        background-color: #2B2D2E;
      }

      /* Remove H2 default border for list-groups, since it comes form the .list-group-item */
      .list-group-header {
        border-bottom: 0;
      }

      /* Single row */
      .list-group-item {
        position: relative;
        overflow: hidden; /* Clearfix */
        padding: 15px;
        border-top: 1px solid #313335;
        border-bottom: 1px solid #1E2020;
        line-height: 30px;
      }
      .list-group-item:first-child {
        border-top: 0;
      }
      .list-group-item:last-child {
        border-bottom: 0;
      }

      /* Item labels */
      .list-group-item .label {
        font-weight: 500;
      }
      .list-group-item .label.configuring {
        color: #999;
      }

      /* Status circles
      ------------------------- */

      /* Shares styles between icons and numbers */
      .list-group-icon,
      .list-group-number {
        float: left;
        width: 30px;
        height: 30px;
        margin-top: 1px;
        margin-right: 10px;
        color: #999;
        line-height: 1;
        text-align: center;
        border: 1px solid #4d5052;
        border-radius: 20px;
        box-shadow: 0 1px 1px rgba(0,0,0,.1);
      }
      .list-group-number {
        font-size: 16px;
        font-weight: 500;
        line-height: 28px;
      }
      /* Mini icons within */
      .list-group-icon .mini-icon,
      .list-group-number .mini-icon {
        position: relative;
        top: 6px;
        vertical-align: 0;
      }
      /* Green indicators */
      .list-group-icon.done,
      .list-group-icon.success,
      .list-group-number.success {
        color: #6cc644;
        border-color: #6cc644;
      }
      /* Red indicators */
      .list-group-icon.failed,
      .list-group-number.failed,
      .list-group-icon.danger,
      .list-group-number.danger {
        color: #dc5f59;
        border-color: #dc5f59;
      }
      /* Show a blacktocat for pending states */
      .list-group-icon.pending,
      .list-group-number.pending {
        border: 0;
      }
      .list-group-icon .mini-icon-blacktocat {
        top: 0;
        width: auto;
        height: auto;
        font-size: 30px;
      }

      /* Show and hide in management console */
      .status-up .list-group-icon.danger {
        display: none;
      }
      .status-down .list-group-icon.success {
        display: none;
      }

      /* List item actions (buttons) */
      .list-group-item .btn-small {
        margin-top: 2px;
      }

      /* Remove icon (currently used on authorized_keys.erb) */
      .list-group-item .list-group-remove-item {
        display: none;
      }
      .list-group-item:hover .list-group-remove-item {
        display: block;
      }

      /* Process counts */
      .list-group .status {
        margin-top: 4px;
        padding: 3px 8px;
        font-size: 12px;
        font-weight: 500;
        line-height: 1;
        color: #fff;
        background-color: #4d5052;
        border-radius: 10px;
      }


      /* Services
      ------------------------- */

      .services .list-group-item .spinner-large {
        display: none;
        float: left;
        margin: 0 9px -1px -1px;
      }
      .services .restarting .spinner-large {
        display: block;
      }
      .services .restarting .list-group-icon {
        display: none;
      }


      /* Categories
      ------------------------- */

      /* Spinner that shows on /complete before line items come in */
      .loader-spinner {
        display: block;
        margin: 50px auto;
      }

      .categories {
        margin-top: 30px;
      }
      .categories .list-group-item {
        padding-top: 20px;
        padding-bottom: 20px;
      }
      .categories .spinner-large {
        float: right;
        margin-right: -1px;
        margin-top: -1px;
      }
      .categories .list-group-icon {
        float: right;
        margin-right: 0;
      }

      .categories .done .spinner-large {
        display: none;
      }



      /* Notification and error messages
      ------------------------------------------------------------ */

      /* Shared styles */
      .error-message,
      .notification-message {
        margin-bottom: 20px;
        padding: 10px 14px;
        font-size: 13px;
        border-radius: 4px;
        box-shadow: inset 0 1px 0 rgba(255,255,255,.25), 0 1px 2px rgba(0,0,0,.25);
      }
      .error-message a,
      .notification-message a {
        font-weight: bold;
      }

      /* Notifications (orange alerts) */
      .notification-message {
        color: #7c6030;
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
        background-color: #eedd82;
        background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#fef1b5), to(#eedd82));
        background-image: -webkit-linear-gradient(top, #fef1b5, #eedd82);
        background-image:    -moz-linear-gradient(top, #fef1b5, #eedd82);
        background-image:     -ms-linear-gradient(top, #fef1b5, #eedd82);
        background-image:      -o-linear-gradient(top, #fef1b5, #eedd82);
        /*border: 1px solid #eec900;*/
      }
      .notification-message a {
        color: #533e19;
      }

      /* Errors (red alerts) */
      .error-message {
        display: none;
        color: #fff;
        text-shadow: 0 -1px 1px rgba(0,0,0,.6);
        background-color: #a62c27;
        background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#cc4641), to(#a62c27));
        background-image: -webkit-linear-gradient(top, #cc4641, #a62c27);
        background-image:    -moz-linear-gradient(top, #cc4641, #a62c27);
        background-image:     -ms-linear-gradient(top, #cc4641, #a62c27);
        background-image:      -o-linear-gradient(top, #cc4641, #a62c27);
        /*border: 1px solid #a62c27;*/
      }

      .error-message.visible {
        display: block;
      }

      .error-message a {
        color: #fff;
      }

      .for-ready,
      .for-valid,
      .for-invalid,
      .for-selected,
      .for-uploading,
      .for-adding-key,
      .for-removing-key {
        display: none;
      }
      .ready .for-ready,
      .valid .for-valid,
      .invalid .for-invalid,
      .selected .for-selected,
      .uploading .for-uploading,
      .adding-key .for-adding-key,
      .removing-key .for-removing-key {
        display: block;
      }

      /* Hostname verification
      ------------------------------------------------------------ */
      .host-ok,
      .host-error,
      .host-checking {
        display: none;
      }

      .host-error { color: #c00; }

      /* Certificate info
      ------------------------------------------------------------ */
      .certificate-info .list-group-item {
        line-height: 1.4;
      }
      .certificate-info .label {
        float: left;
        width: 25%;
      }

      /* Enterprise license
      ------------------------------------------------------------ */

      .enterprise-license {
        padding: 15px;
        margin-bottom: 60px;
        color: #85898b;
        text-align: left;
        background-color: #434647;
        border: 1px solid #525455;
        border-radius: 6px;
        overflow: hidden; /* Clearfix */
      }
      .enterprise-license .license-stamp {
        float: left;
        width: 80px;
        margin-right: 15px;
      }
      .enterprise-license .license-title {
        padding-top: 8px;
        margin-top: 0;
        margin-bottom: 0;
        font-size: 20px;
        line-height: 1.1;
      }
      .enterprise-license .license-seats {
        margin: 0;
        font-size: 16px;
        font-weight: 500;
      }
      .enterprise-license .license-expires {
        margin: 0;
      }
      .enterprise-license.invalid {
        border-color: #dc5f59;
      }
      .enterprise-license.invalid .license-expires {
        color: #dc5f59;
        font-weight: 500;
      }

      /* Optional license version */
      .license-version,
      .arch-flag {
        color: #FAFAFA;
      }
      .license-version {
        margin: 25px -15px -15px;
        padding: 15px;
        border-top: 1px solid #525455;
      }
      /* Architecture flag */
      .arch-flag {
        border-left: 1px solid #525455;
        display: block;
        float: right;
        font-weight: bold;
        margin: -15px;
        padding: 15px;
      }


      /* Maintenance page
      ------------------------------------------------------------ */

      #scheduler {
        margin-top: 30px;
      }

      #timer {
        display: inline-block; /* Lines up with .checkbox-item */
      }

      /* Maintenance messages */
      .page-maintenance #maintenance_scheduled {
        color: #7c6030; /* Same color as .notification-message */
      }
      .page-maintenance #maintenance_on {
        color: #dc5f59;
      }
      .page-maintenance #maintenance_scheduled_at {
        font-weight: bold;
      }

      .page-maintenance .spinner {
        display: none;
        text-align: center;
      }


      /* Admin SSH keys page
      ------------------------------------------------------------ */

      /* List of SSH keys
      ------------------------- */

      /* List of ssh keys should be truncated */
      .list-group-authorized-keys {
        position: relative;
        margin: 0 0 10px;
        max-height: 230px;
        overflow-x: hidden;
        overflow-y: scroll;
      }

      /* Modify list items to appear better against light gray background */
      .list-group-multiple .list-group-item {
        padding: 10px 15px;
        border-top: 1px solid #313335;
        border-bottom: 1px solid #1E2020;
      }

      .list-group-multiple .list-group-item:first-child {
        border-top-width: 0;
      }

      .list-group-multiple .list-group-item:last-child {
        border-bottom-width: 0;
      }

      .list-group-multiple .mini-icon:hover {
        text-decoration: none;
      }

      .hidden {
        display: none;
      }

      .ssh-access-error {
        display: inline-block;
        margin: 0 0 0 10px;
        font-size: 14px;
        color: red;
      }

      .ssh-access-error.hidden {
        display: none;
      }

      /* Keys dev tools
      ------------------------- */

      /* Local dev tools get attached near their respective content */
      .section-authorized-keys {
        position: relative;
      }
      .section-authorized-keys .dev-zone-local {
        position: absolute;
        top: 0;
        right: -180px;
        bottom: auto;
        z-index: 5;
        box-shadow: none;
      }



      /* Install page
      ------------------------------------------------------------ */

      /* Inner wrapper for the install steps */
      .page-header {
        margin-bottom: 30px;
        text-align: center;
      }
      .page-header h1 {
        font-size: 40px;
      }


      /* Upload form
      ------------------------- */

      /* Wrapper to tuck in the steps */
      .upload-wrapper {
        max-width: 340px;
        margin: 30px auto 60px;
      }

      /* Heading on the upgrade page */
      .upload-form-heading {
        margin-top: 30px;
        text-align: center;
        font-size: 20px;
      }

      /* Individual steps */
      .upload-button {
        position: relative;
        padding-right: 20px;
        padding-left: 60px;
        line-height: inherit;
      }
      .upload-button h3 {
        margin: 0 0 3px;
        font-size: 16px;
        line-height: 1;
        color: #4D97E0; /* slightly brighter GitHub link blue */
      }
      .upload-button p {
        margin: 0;
        font-size: 12px;
        color: #7a7a7a;
      }
      .upload-button code {
        padding: 0;
        background-color: transparent;
        background-image: none;
        box-shadow: none;
      }

      /* Numbers for each step */
      .upload-button .list-group-icon,
      .upload-button .list-group-number {
        margin-left: -45px;
      }
      .upload-button .list-group-icon {
        display: none;
      }

      /* Overlay the file input on the h3 */
      .upload-choose-file {
        position: absolute;
        top: 15px;
        left: auto;
        width: 300px;
        height: 20px;
        opacity: .0001;
        filter: alpha(opacity=.01);
        cursor: pointer;
      }
      .upload-choose-file:hover + .upload-step-title {
        text-decoration: underline;
      }
      /* IE version */
      @media screen and (min-width:0\0) {
        /* Move down the file input, and show it fully opaque */
        .upload-choose-file {
          top: 35px;
          display: block;
          width: 260px;
          margin-bottom: 5px;
          opacity: 1;
          filter: alpha(opacity=100);
        }
        /* Create the space below the title to show the file input */
        .upload-button .upload-step-title {
          margin-bottom: 30px;
        }
        /* Undo the hover effect that other browsers get because it's confusing */
        .upload-choose-file:hover + .upload-step-title {
          text-decoration: none;
        }
      }

      /* Show the checkmark on successful upload */
      .upload-button.selected .list-group-number {
        display: none;
      }
      .upload-button.selected .list-group-icon {
        display: block;
      }
      .upload-button.selected h3 {
        color: #6cc644;
      }

      /* Tweak and center the page actions */
      .page-start .page-actions,
      .page-upload .page-actions {
        margin: 0;
        padding: 0;
        border-top: 0;
        text-align: center;
        box-shadow: none;
      }
      .page-start .page-actions .btn-continue,
      .page-upload .page-actions .btn-continue {
        display: block;
        width: 100%;
      }


      /*----------------------------------------------------------------------------
        @group Background jobs
      ----------------------------------------------------------------------------*/

      .page-support #job-progress {
        margin-left: 10px;
        display: none;
      }

      /*----------------------------------------------------------------------------
        @group Inline input label
      ----------------------------------------------------------------------------*/

      label.inline-label {
        display: inline;
        position: absolute;
        margin-top: 0;
        margin-left: 0;
        background-color: #3f4142;
        min-height: 36px;
        padding-right: 10px;
        padding-left: 10px;
        padding-top: 8px;
        border: 1px solid #242525;
        border-radius: 4px 0 0 4px;
        width: 120px;
      }

      label.inline-label.invalid {
        border-color: #dc5f59;
        box-shadow: inset 0 1px 2px rgba(0,0,0,.15);
      }

      input[type="text"].inline-input {
        padding-left: 125px;
      }

      /*----------------------------------------------------------------------------
        @group Dropdown menu
      ----------------------------------------------------------------------------*/

      .dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        z-index: 1000;
        display: none;
        float: left;
        min-width: 160px;
        padding: 5px 0;
        margin: 0 104px 0;
        list-style: none;
        font-size: 14px;
        background-color: #ffffff;
        border: 1px solid #cccccc;
        border: 1px solid rgba(0, 0, 0, 0.15);
        border-radius: 4px;
        -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
        background-clip: padding-box;
        width: 36%;
      }
      .dropdown-menu.pull-right {
        right: 0;
        left: auto;
      }
      .dropdown-menu .divider {
        height: 1px;
        margin: 9px 0;
        overflow: hidden;
        background-color: #e5e5e5;
      }
      .dropdown-menu > li > a {
        display: block;
        padding: 3px 20px;
        clear: both;
        font-weight: normal;
        line-height: 1.428571429;
        color: #333333;
        white-space: nowrap;
        text-shadow: none;
      }
      .dropdown-menu > li > a:hover,
      .dropdown-menu > li > a:focus {
        text-decoration: none;
        color: #262626;
        background-color: #3f4142;
      }
      .dropdown-menu > .active > a,
      .dropdown-menu > .active > a:hover,
      .dropdown-menu > .active > a:focus {
        color: #ffffff;
        text-decoration: none;
        outline: 0;
        background-color: #3f4142;
      }
      .dropdown-menu > .disabled > a,
      .dropdown-menu > .disabled > a:hover,
      .dropdown-menu > .disabled > a:focus {
        color: #999999;
      }
      .dropdown-menu > .disabled > a:hover,
      .dropdown-menu > .disabled > a:focus {
        text-decoration: none;
        background-color: transparent;
        background-image: none;
        filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
        cursor: not-allowed;
      }

      #connection-error {
        display: none;
        left: 50%;
        margin-left: -250px;
        margin-top: -65px;
        position: absolute;
        text-align: center;
        top: 50%;
        width: 500px;
      }

      #connection-error .mega-icon {
        display: block;
        margin: 15px auto;
        color: #d15a5a;
      }

      /* Restore / Migration styles */
      .restore-status-wrapper {
        background: #323435;
        border-radius: 5px;
        margin: 0 auto;
        width: 475px;
      }

      .restore-status-header,
      .restore-status-body {
        padding: 15px 15px 5px;
      }

      .restore-status-body {
        background: #262828;
        border-radius: 0 0 5px 5px;
      }

      .restore-status-header {
        position: relative;
      }

      .restore-status-indicator {
        margin-right: 0;
        opacity: 0.5;
        position: absolute;
        right: 20px;
        top: 15px;
        height: 32px;
        width: 32px;
      }

      .restore-status-indicator .mini-icon {
        top: 0;
        left: -1px;
      }

      .restore-status-header h2 {
        border-bottom: 0;
        box-shadow: none;
        font-weight: 400;
        margin-top: 5px;
        padding-bottom: 0;
      }

      .restore-command-instructions {
        display: block;
        margin: 0 0 10px;
        white-space: pre-line;
      }
    </style>
  </head>
  <body>
    <% if CHECKS_ALL_PASSED || @loading %>
      <div id="connection-error">
        <span class="mega-icon octicon-alert"></span>
        <p>
          There was an issue connecting to your enterprise instance. Check your network and whether the instance is online and try to reload this page. If this issue persists please
          <a href="https://support.github.com">contact support</a>.
        </p>
      </div>

      <div id="booting-indicator" class="<%= @loading_status && @loading_status.size > 0 ? "upgrade" : "" %>">
        <% if @loading_status && @loading_status.size > 0 %>
          <div class="restore-status-wrapper">
            <div class="restore-status-header">
              <h2>
                Migrating... <span class="spinner-large restore-status-indicator"></span>
              </h2>
              <p class="migration-warning">
                Please be patient, this may take a long time. <strong>Please do not reboot or shutdown the appliance</strong> until this has completed. You can see the full logs at <code>/data/user/common/ghe-config.log</code> <a class="js-click2copy click2copy-addon-code js-tooltipped" data-clipboard-text="/data/user/common/ghe-config.log" title="Copy to clipboard"  data-preclick-title="Copy to clipboard" data-copied-hint="Copied!"><span class="octicon octicon-clippy"></span></a> on the appliance.
              </p>
            </div>
            <div class="restore-status-body js-restore-info">
              <pre class="restore-command-instructions"><%= @loading_status %></pre>
            </div>
          </div>
        <% else %>
          <img alt="" src="data:image/gif;base64,R0lGODlhgACAALMPAG1ub7q6usPDw6enqImKi5KTk0RGR1dYWU5QUWFiY3l6e4CAgLOzs5mZmcrKyj9BQiH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExODcxRjk1OUM5NDdDMUYyMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MTk3N0VGRTUxNDExMUU0ODU3RThGRTA4NDhFNTcxMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MTk3N0VGRDUxNDExMUU0ODU3RThGRTA4NDhFNTcxMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3ODAxMTc0MDcyMDY4MTE4OEM2RTA0RDkxOUVFQTZDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAxODAxMTc0MDcyMDY4MTE4NzFGOTU5Qzk0N0MxRjIzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8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" width="64" height="64">
          <h1>Starting...</h1>
        <% end %>
      </div>

      <script type="text/javascript">
        var last_modified;
        var poll_timeout = 2000;
        function check_started() {
          var r = new XMLHttpRequest();
          r.open("GET", <% if @unicorn %>"/api/v3/"<% else %>"/setup/api"<% end %>, true);
          r.timeout = poll_timeout - 250;
          r.onreadystatechange = function () {
            if (r.readyState == 4) {
              if(r.status == 0) {
                <% if @loading %>
                  document.getElementById("connection-error").style.display = "block";
                  document.getElementById("booting-indicator").style.display = "none";
                <% end %>
              } else if(r.status != 200) {
                <% if @unicorn %>
                window.location.href = "/";
                <% else %>
                window.location.href = "/setup/start";
                <% end %>
              } else if(r.status == 200) {
                var d = r.getResponseHeader("Last-Modified");
                if(!last_modified) last_modified = d;
                if(d != last_modified) {
                  window.location.href = window.location.href;
                }
              }
            }
          }
          <% if @loading %>
          r.ontimeout = function() {
            document.getElementById("connection-error").style.display = "block";
            document.getElementById("booting-indicator").style.display = "none";
          }
          <% end %>
          r.send();
        }
        setInterval(check_started, poll_timeout);
      </script>
    <% else %>
      <div class="header clearfix">
        <div class="header-logo">
          <span class="octicon-mark-github"></span>
          <span>Enterprise</span>
        </div>
      </div>
      <div class="single-column">
        <div class="page-header">
          <h1>Preflight checks</h1>
        </div>
        <div class="list-group">
          <div class="list-group-item">
            <% check_message(:blockdev_mounted, _erbout) do |status,_| %>
              <span class="list-group-icon <%= status == :error ? 'failed' : 'success' %>">
                <span class="mini-icon octicon-<%= status == :error ? 'x' : 'confirm' %>"></span>
              </span>
              <h3 class="label">Block device</h3>
              <p>
                <% if status == :error && PLATFORM == "docker"  %>
                  No valid <tt>/data/user</tt> volume found inside docker container.
                  Please attach a data volume to this container.
                  This page will detect the new volume automatically.
                <% elsif status == :error %>
                  We couldn't find a valid configuration and user data storage.
              </p>
              <p>
                  Please check you have attached a second block device with at least <%= CHECKS[:blockdev_capacity][1] %>GB storage
                  <% if PLATFORM == "azure" && STORAGE_FIND_ERROR =~ /read rate/ %>
                  and 45MB/s of I/O throughput
                  <% end %>
                  to this instance.
                  This page will detect a new block device automatically. In some cases, detecting a block device could take some time.
                  Please contact GitHub Support if the environment never gets to a state of being accessible via the web interface and SSH.
              </p>
              <p>
                  <% if ACTIONS_ENABLED %>
                  Github Actions is enabled.
                  <% end %>
                  <% if PACKAGES_ENABLED %>
                  Github Packages is enabled.
                  <% end %>
                  <% if ACTIONS_ENABLED || PACKAGES_ENABLED %>
                  Please check blob storage configuration is valid by running "ghe-config-check".
                  <% end %>
              </p>
                  <% if STORAGE_FIND_ERROR!="" %>
                    <br/>
                    Error details: <pre><%= STORAGE_FIND_ERROR %></pre>
                  <% end %>
                <% else %>
                  Two valid block devices attached.
                <% end %>
              </p>
              <% if status == :error && PLATFORM == "azure" && STORAGE_FIND_ERROR =~ /read rate/ %>
                <br/>
                <p>
                  On Azure, the attached data-disk must use <b>Premium-LRS</b> SSD backed storage.
                </p>
              <% end %>
            <% end %>
          </div>
          <% if check_result(:blockdev_mounted) %>
            <div class="list-group-item">
              <% check_message(:blockdev_capacity, _erbout) do |status, value| %>
                <span class="list-group-icon <%= status == :error ? 'failed' : 'success' %>">
                  <span class="mini-icon octicon-<%= status == :error ? 'x' : 'confirm' %>"></span>
                </span>
                <h3 class="label">Block device capacity</h3>
                <p>
                  <%= CHECKS[:blockdev_capacity][1] %>GB of block device capacity required.
                  <%= value / GB %>GB available.
                </p>
                <% if status == :error %>
                  <% check_message(:blockdev_capacity, _erbout, CLUSTER_CHECKS) do |cs,cv| %>
                    <% if cs == :error %>
                      <p class="failed">Can not be used as a node in a cluster (<%= CLUSTER_CHECKS[:blockdev_capacity][1] %>GB of block device capacity required).</p>
                    <% else %>
                      <p>Can be used as a node in a cluster (<%= CLUSTER_CHECKS[:blockdev_capacity][1] %>GB of block device capacity required).</p>
                    <% end %>
                  <% end %>
                <% end %>
              <% end %>
            </div>
          <% end %>
          <div class="list-group-item">
            <% check_message(:rootdev_capacity, _erbout) do |status, value| %>
              <span class="list-group-icon <%= status == :error ? 'failed' : 'success' %>">
                <span class="mini-icon octicon-<%= status == :error ? 'x' : 'confirm' %>"></span>
              </span>
              <h3 class="label">Root device capacity</h3>
              <p>
                <%= CHECKS[:rootdev_capacity][1] %>GB of root device capacity required.
                <%= value / GB %>GB available.
              </p>
              <% if status == :error %>
                <% check_message(:rootdev_capacity, _erbout, CLUSTER_CHECKS) do |cs,cv| %>
                  <% if cs == :error %>
                    <p class="failed">Can not be used as a node in a cluster (<%= CLUSTER_CHECKS[:rootdev_capacity][1] %>GB of root device capacity required).</p>
                  <% else %>
                    <p>Can be used as a node in a cluster (<%= CLUSTER_CHECKS[:rootdev_capacity][1] %>GB of root device capacity required).</p>
                  <% end %>
                <% end %>
                <p class="failed">Shut down the VM, then adjust the VM settings to meet the minimum requirement. Restart the VM for changes to take effect.</p>
              <% end %>
            <% end %>
          </div>
          <div class="list-group-item">
            <% check_message(:memory, _erbout) do |status, value| %>
              <span class="list-group-icon <%= status == :error ? 'failed' : 'success' %>">
                <span class="mini-icon octicon-<%= status == :error ? 'x' : 'confirm' %>"></span>
              </span>
              <h3 class="memory">Memory</h3>
              <p>
                <%= CHECKS[:memory][1] %>GB of memory required.
                <%= value / GB %>GB available.
              </p>
              <% if status == :error %>
                <% check_message(:memory, _erbout, CLUSTER_CHECKS) do |cs,cv| %>
                  <% if cs == :error %>
                    <p class="failed">Can not be used as a node in a cluster (<%= CLUSTER_CHECKS[:memory][1] %>GB of memory required).</p>
                  <% else %>
                    <p>Can be used as a node in a cluster  (<%= CLUSTER_CHECKS[:memory][1] %>GB of memory required).</p>
                  <% end %>
                <% end %>
                <p class="failed">Shut down the VM, then adjust the VM settings to meet the minimum requirement. Restart the VM for changes to take effect.</p>
              <% end %>
            <% end %>
          </div>
        </div>
        <div style="display: none;" id="hidden-message">Preflight checks failed.</div>
      </div>

      <script type="text/javascript">
        var last_modified;
        var poll_timeout = 2000;
        function check_updated() {
          var r = new XMLHttpRequest();
          r.open("GET", "/", true);
          r.onreadystatechange = function () {
            if (r.readyState == 4) {
              if(r.status >= 300 && r.status < 400) {
                window.location.href = "/setup/start";
              } else if(r.status == 200) {
                var d = r.getResponseHeader("Last-Modified");
                console.log(d);
                if(!last_modified) last_modified = d;
                if(d != last_modified) {
                  window.location.href = "/setup";
                }
              }
            }
          }
          r.send();
        }
        setInterval(check_updated, poll_timeout);
      </script>
    <% end %>
  </body>
</html>
