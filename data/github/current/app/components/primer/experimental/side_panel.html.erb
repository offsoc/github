<%= render(Primer::Alpha::Dialog.new(classes: "SidePanel", **@system_arguments)) do |dialog| %>
  <% dialog.with_show_button(**trigger_button_args) do %>
    <%= trigger if trigger? %>
  <% end %>

  <% dialog.with_header(styles: "flex-direction: row;") do %>
    <%= render Primer::BaseComponent.new(tag: :div, display: :flex) do %>
      <%= render Primer::BaseComponent.new(tag: :div, position: :relative, classes: "AppHeader-logo") do %>
        <%= header_octicon || trigger %>
      <% end %>
      <% if header %>
        <%= header %>
      <% end %>
    <% end %>
  <% end %>

  <% dialog.with_body(display: :flex, direction: :column, px: 2) do %>
    <%= render Primer::BaseComponent.new(tag: :div, display: :flex, direction: :column, mb: 3) do %>
      <% lists.each do |list| %>
        <%= list %>
      <% end %>

      <% if spinner? %>
        <%= render Primer::BaseComponent.new(tag: :div, my: 3, display: :flex, justify_content: :center, h: :full, test_selector: "side-panel-spinner") do %>
          <%= spinner %>
        <% end %>
      <% end %>

      <% body_items.each do |body_item| %>
        <%= body_item %>
      <% end %>
    <% end %>

    <% if footer_list? || footer? %>
      <%= render Primer::BaseComponent.new(tag: :div, flex: 1) %>

      <% if footer_list? %>
        <%= footer_list %>
      <% end %>

      <%= footer %>
    <% end %>
  <% end %>
<% end %>
