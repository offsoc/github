---
summary: Manage access control for organization codespaces
description: Sets which users can access codespaces in an organization.
  This is synonymous with granting or revoking codespaces access permissions for users according to the visibility.

  OAuth app tokens and personal access tokens (classic) need the `admin:org` scope to use this endpoint.
tags:
  - codespaces
operationId: codespaces/set-codespaces-access
externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/codespaces/organizations#manage-access-control-for-organization-codespaces'
parameters:
  - $ref: '../../components/parameters/org.yaml'
deprecated: true
requestBody:
  required: true
  content:
    application/json:
      schema:
        type: object
        properties:
          visibility:
            type: string
            description: Which users can access codespaces in the organization. `disabled` means that no users can access codespaces in the organization.
            enum:
              - disabled
              - selected_members
              - all_members
              - all_members_and_outside_collaborators
          selected_usernames:
            type: array
            description: The usernames of the organization members who should have access to codespaces in the organization. Required when `visibility` is `selected_members`. The provided list of usernames will replace any existing value.
            items:
              type: string
            maxItems: 100
        required:
          - visibility
      examples:
        default:
          value:
            visibility: 'selected_members'
            selected_usernames: ['johnDoe', 'atomIO']
responses:
  '204':
    description: Response when successfully modifying permissions.
  '304':
    $ref: '../../components/responses/not_modified.yaml'
  '400':
    description: Users are neither members nor collaborators of this organization.
  '404':
    $ref: '../../components/responses/not_found.yaml'
  '422':
    $ref: '../../components/responses/validation_failed.yaml'
  '500':
    $ref: '../../components/responses/internal_error.yaml'
x-github-releases:
  - api.github.com
  - ghec
x-github:
  githubCloudOnly: false
  enabledForGitHubApps: false
  category: codespaces
  subcategory: organizations
x-github-internal:
  path: '/orgs/{org}/codespaces/access'
  http-method: put
  owner: '@github/codespaces-team'
  published: true
