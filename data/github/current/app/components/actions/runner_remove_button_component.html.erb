<%# erblint:counter DeprecatedComponentsCounter 1 %>
<% if !@delete_from_list %>
  <details class="details-reset details-overlay details-overlay-dark" <%= test_selector "delete-runner" %>>
    <%= render Primer::ButtonComponent.new(tag: :summary, scheme: :danger, "aria-haspopup": "dialog", "data-sudo-required": "true") do
      "Remove runner"
    end %>
<% end %>
    <%= render Primer::Beta::Details.new(overlay: :dark, reset: true) do |component| %>
      <% component.with_summary(button: false, classes: "dropdown-item btn-link menu-item-danger", "data-sudo-required": "true") do %>
        Remove runner
      <% end %>
      <% component.with_body(
        tag: :"details-dialog",
        display: :flex,
        animation: :fade_in,
        classes: "Box Box--overlay flex-column fast Box-overlay--wide",
        style: "width: 600px; line-height: 1.5 !important;",
        src: delete_path,
        "aria-label": "Remove runner",
      ) do %><%# erblint:disable A11yDetailsDialogMigration %>
        <include-fragment>
          <%= render(Primer::Beta::Spinner.new(my: 3, mx: :auto, display: :block)) %>
        </include-fragment>
      <% end %>
    <% end %>
<% if !@delete_from_list %>
  </details>
<% end %>
