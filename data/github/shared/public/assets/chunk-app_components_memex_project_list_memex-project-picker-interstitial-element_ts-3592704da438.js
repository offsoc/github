"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_memex_project_list_memex-project-picker-interstitial-element_ts"],{53744:(t,e,n)=>{n.r(e),n.d(e,{MemexProjectPickerInterstitialElement:()=>MemexProjectPickerInterstitialElement});var i=n(79049),r=n(39595);function a(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}let MemexProjectPickerInterstitialElement=class MemexProjectPickerInterstitialElement extends HTMLElement{show(t){t.preventDefault(),t.stopPropagation();let e=this.findPicker();if(!e)return;let n=this.findInput(e);if(!n)return;let r=n.getAttribute("data-project-name"),a=n.getAttribute("data-project-owner");if(!r||!a)return;this.updateFilterInput(e,r);let o=null,l="";n.checked?(o=this.linkContent,l=this.linkContent.getAttribute("data-scheme")||"default"):(o=this.unlinkContent,l=this.unlinkContent.getAttribute("data-scheme")||"default"),this.container.replaceChildren(new i.i4(o,{},i.xr)),this.submitButton.textContent=n.checked?"Add team as collaborator":"Remove team as collaborator",this.submitButton.className=`btn btn-${l}`,this.dialog instanceof HTMLDialogElement?this.dialog.showModal():this.dialog&&this.dialog.show()}closing(){let t=this.findPicker();if(!t)return;let e=this.findInput(t);if(!e)return;let n=e.getAttribute("data-project-number"),i=e.getAttribute("data-project-owner");if(!n||!i)return;let r=t.list?.querySelector(`#pp-${i}-${n}`);r&&(r.ariaChecked="true"===r.ariaChecked?"false":"true",t.resetSelectionDiff(),t.submitContainer.replaceChildren(),t.open||this.updateFilterInput(t))}updateFilterInput(t=null,e=""){(t||(t=this.findPicker()))&&(t.filterInput.value=e,t.filterInput.dispatchEvent(new Event("input",{bubbles:!0})))}findPicker(){let t=document.getElementById("js-project-picker-form");return t?t.querySelector("memex-project-picker")||t.querySelector("memex-project-picker-panel"):null}findInput(t=null){if(t||(t=this.findPicker()))return t.submitContainer.firstElementChild||null}};a([r.aC],MemexProjectPickerInterstitialElement.prototype,"dialog",void 0),a([r.aC],MemexProjectPickerInterstitialElement.prototype,"linkContent",void 0),a([r.aC],MemexProjectPickerInterstitialElement.prototype,"unlinkContent",void 0),a([r.aC],MemexProjectPickerInterstitialElement.prototype,"container",void 0),a([r.aC],MemexProjectPickerInterstitialElement.prototype,"submitButton",void 0),MemexProjectPickerInterstitialElement=a([r.p_],MemexProjectPickerInterstitialElement)},79049:(t,e,n)=>{function*i(t){let e="",n=0,i=!1;for(let r=0;r<t.length;r+=1)"{"!==t[r]||"{"!==t[r+1]||"\\"===t[r-1]||i?"}"===t[r]&&"}"===t[r+1]&&"\\"!==t[r-1]&&i&&(i=!1,yield{type:"part",start:n,end:r+2,value:e.slice(2).trim()},e="",r+=2,n=r):(i=!0,e&&(yield{type:"string",start:n,end:r,value:e}),e="{{",n=r,r+=2),e+=t[r]||"";e&&(yield{type:"string",start:n,end:t.length,value:e})}n.d(e,{i4:()=>TemplateInstance,xr:()=>b});var r,a,o,l,s,p=function(t,e,n){if(!e.has(t))throw TypeError("attempted to set private field on non-instance");return e.set(t,n),n},u=function(t,e){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return e.get(t)};let AttributeTemplatePart=class AttributeTemplatePart{constructor(t,e){this.expression=e,r.set(this,void 0),a.set(this,""),p(this,r,t),u(this,r).updateParent("")}get attributeName(){return u(this,r).attr.name}get attributeNamespace(){return u(this,r).attr.namespaceURI}get value(){return u(this,a)}set value(t){p(this,a,t||""),u(this,r).updateParent(t)}get element(){return u(this,r).element}get booleanValue(){return u(this,r).booleanValue}set booleanValue(t){u(this,r).booleanValue=t}};r=new WeakMap,a=new WeakMap;let AttributeValueSetter=class AttributeValueSetter{constructor(t,e){this.element=t,this.attr=e,this.partList=[]}get booleanValue(){return this.element.hasAttributeNS(this.attr.namespaceURI,this.attr.name)}set booleanValue(t){if(1!==this.partList.length)throw new DOMException("Operation not supported","NotSupportedError");this.partList[0].value=t?"":null}append(t){this.partList.push(t)}updateParent(t){if(1===this.partList.length&&null===t)this.element.removeAttributeNS(this.attr.namespaceURI,this.attr.name);else{let t=this.partList.map(t=>"string"==typeof t?t:t.value).join("");this.element.setAttributeNS(this.attr.namespaceURI,this.attr.name,t)}}};var c=function(t,e,n){if(!e.has(t))throw TypeError("attempted to set private field on non-instance");return e.set(t,n),n},h=function(t,e){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return e.get(t)};let NodeTemplatePart=class NodeTemplatePart{constructor(t,e){this.expression=e,o.set(this,void 0),c(this,o,[t]),t.textContent=""}get value(){return h(this,o).map(t=>t.textContent).join("")}set value(t){this.replace(t)}get previousSibling(){return h(this,o)[0].previousSibling}get nextSibling(){return h(this,o)[h(this,o).length-1].nextSibling}replace(...t){let e=t.map(t=>"string"==typeof t?new Text(t):t);for(let t of(e.length||e.push(new Text("")),h(this,o)[0].before(...e),h(this,o)))t.remove();c(this,o,e)}};function d(t){return{createCallback(t,e,n){this.processCallback(t,e,n)},processCallback(e,n,i){var r;if("object"==typeof i&&i){for(let e of n)if(e.expression in i){let n=null!==(r=i[e.expression])&&void 0!==r?r:"";t(e,n)}}}}}function m(t,e){t.value=String(e)}o=new WeakMap;let f=d(m),b=d((t,e)=>{(function(t,e){return"boolean"==typeof e&&t instanceof AttributeTemplatePart&&"boolean"==typeof t.element[t.attributeName]&&(t.booleanValue=e,!0)})(t,e)||m(t,e)});var g=function(t,e,n){if(!e.has(t))throw TypeError("attempted to set private field on non-instance");return e.set(t,n),n},v=function(t,e){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return e.get(t)};let TemplateInstance=class TemplateInstance extends DocumentFragment{constructor(t,e,n=f){var r,a;super(),l.set(this,void 0),s.set(this,void 0),Object.getPrototypeOf(this!==TemplateInstance.prototype)&&Object.setPrototypeOf(this,TemplateInstance.prototype),this.appendChild(t.content.cloneNode(!0)),g(this,s,Array.from(function*(t){let e;let n=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null,!1);for(;e=n.nextNode();)if(e instanceof Element&&e.hasAttributes())for(let t=0;t<e.attributes.length;t+=1){let n=e.attributes.item(t);if(n&&n.value.includes("{{")){let t=new AttributeValueSetter(e,n);for(let e of i(n.value))if("string"===e.type)t.append(e.value);else{let n=new AttributeTemplatePart(t,e.value);t.append(n),yield n}}}else if(e instanceof Text&&e.textContent&&e.textContent.includes("{{"))for(let t of i(e.textContent)){t.end<e.textContent.length&&e.splitText(t.end),"part"===t.type&&(yield new NodeTemplatePart(e,t.value));break}}(this))),g(this,l,n),null===(a=(r=v(this,l)).createCallback)||void 0===a||a.call(r,this,v(this,s),e)}update(t){v(this,l).processCallback(this,v(this,s),t)}};l=new WeakMap,s=new WeakMap}}]);
//# sourceMappingURL=app_components_memex_project_list_memex-project-picker-interstitial-element_ts-cf989a314287.js.map