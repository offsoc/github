<% if pattern_published %>
  <%= render(Primer::Beta::Text.new(tag: :p, font_size: :small, color: :muted)) { "Showing all time activity." } %>
  <%= render(Primer::Box.new(display: :flex, align_items: :stretch, direction: :row, justify_content: :flex_start, flex_wrap: :nowrap, p: 0, test_selector: "metrics-container")) do %>
    <%= render(Primer::Box.new(bg: :subtle, p: 2, w: :full)) do %>
      <%= render(Primer::Beta::Text.new(tag: :span, color: :muted)) { "Open alerts" } %>
      <%= render(Primer::Beta::Text.new(tag: :span, display: :block, font_size: 2, test_selector: "open-count")) do %>
      <%= open_alert_count %>
      <% end %>
      <%= render(Primer::Beta::Link.new(href: open_alerts_path, font_size: :small)) { "View open alerts" } %>
    <% end %>
    <%= render(Primer::Box.new(bg: :subtle, p: 2, w: :full, ml: 3)) do %>
      <%= render(Primer::Beta::Text.new(tag: :span, color: :muted)) { "Closed alerts" } %>
      <%= render(Primer::Beta::Text.new(tag: :span, display: :block, font_size: 2, test_selector: "closed-count")) do %>
      <%= closed_alert_count %>
      <% end %>
      <%= render(Primer::Beta::Link.new(href: closed_alerts_path, font_size: :small)) { "View closed alerts" } %>
    <% end %>
    <%= render(Primer::Box.new(bg: :subtle, p: 2, w: :full, ml: 3)) do %>
      <%= render(Primer::Beta::Text.new(tag: :span, color: :muted)) { "Closed as false positive" } %>
      <%= render(Primer::Beta::Text.new(tag: :span, display: :block, font_size: 2, test_selector: "false-positive-count")) do %>
      <%= false_positive_count %>
      <% end %>
      <%= render(Primer::Beta::Link.new(href: false_positive_alerts_path, font_size: :small)) { "View false positive alerts" } %>
    <% end %>
  <% end %>
<% else %>
  <%= render(Primer::Beta::Text.new(tag: :p, color: :muted, test_selector: "pattern-unpublished")) do %>
   <%= render(Primer::Beta::Link.new(underline: true, href: helpers.docs_url("code-security/defining-custom-patterns-for-secret-scanning"))) { "Publish pattern" } %> to learn more about its performance.
  <% end %>
<% end %>
