"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_branch_create-repo-from-selector-element_ts"],{80049:(e,t,a)=>{a.r(t);var r=a(39595);function i(e,t,a,r){var i,s=arguments.length,n=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(n=(s<3?i(n):s>3?i(t,a,n):i(t,a))||n);return s>3&&n&&Object.defineProperty(t,a,n),n}let s=class CreateRepoFromSelectorElement extends HTMLElement{async createBranch(e){if(e.preventDefault(),await this.tagExistsMessage()&&this.warnDialog){this.setUpDialog(),this.warnDialog instanceof HTMLDialogElement?this.warnDialog.showModal():this.warnDialog.show();return}this.creating||(this.creating=!0,this.submitCreateBranch())}async tagExistsMessage(){try{let e=this.getAttribute("check-tag-name-exists-path"),t=new FormData;t.append("value",this.refName.value),t.append("authenticity_token",this.checkTagNameExistsPathCsrf.value);let a=await fetch(e,{method:"POST",body:t});if(!a.ok)return!1;return await a.text()}catch{return!1}}submitCreateBranch(){let e=this.querySelector("form");e?.submit()}get warnDialog(){return document.querySelector("#warn-tag-match-create-branch-dialog")}setUpDialog(){let e=this.warnDialog;e.addEventListener("close",()=>this.handleDialogClose()),e.addEventListener("cancel",()=>this.handleDialogCancel())}removeDialogEventListeners(){let e=this.warnDialog;e.removeEventListener("close",()=>this.handleDialogClose()),e.removeEventListener("cancel",()=>this.handleDialogCancel())}handleDialogCancel(){this.removeDialogEventListeners()}handleDialogClose(){this.submitCreateBranch(),this.removeDialogEventListeners()}constructor(...e){super(...e),this.creating=!1}};i([r.aC],s.prototype,"refName",void 0),i([r.aC],s.prototype,"checkTagNameExistsPathCsrf",void 0),s=i([r.p_],s)}}]);
//# sourceMappingURL=app_components_branch_create-repo-from-selector-element_ts-4d1382fb9555.js.map