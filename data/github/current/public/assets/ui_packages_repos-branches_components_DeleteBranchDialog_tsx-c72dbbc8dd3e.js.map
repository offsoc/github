{"version":3,"file":"chunk-ui_packages_repos-branches_components_DeleteBranchDialog_tsx-xxxxxxxxxxxx.js","mappings":"6SAkBO,SAASA,EAAmB,CACjCC,UAAAA,CAAS,CACTC,aAAAA,CAAY,CACZC,YAAAA,CAAW,CACXC,WAAAA,CAAU,CACVC,gBAAAA,CAAe,CACfC,wBAAAA,CAAuB,CACvBC,YAAAA,CAAW,CACXC,KAAAA,CAAI,CACoB,EACxB,GAAM,CAACC,EAAiBC,EAAmB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAEvD,MACE,sB,SACGV,GACC,UAACW,EAAAA,CAAMA,CAAAA,CACLC,MAAM,gBACNC,MAAM,QACNC,QAAS,KACPb,EAAa,GACf,EACAc,cAAe,CACb,CACEC,QAAS,SACTC,WAAY,SACZC,QAAS,KACPjB,EAAa,GACf,CACF,EACA,CACEe,QAAS,SACTC,WAAY,SACZC,QAAS,UACI,MAAMC,CAAAA,EAAAA,EAAAA,CAAAA,EAAajB,EAAaC,EAAYC,EAAiBC,EAAyBE,IAI/FE,EAAmB,IACnBR,EAAa,KAHbQ,EAAmB,GAKvB,CACF,EACD,C,SAED,WAACW,MAAAA,CAAIC,UAAU,wB,UACZb,GACC,UAACc,EAAAA,CAAKA,CAAAA,CAACC,QAAQ,SAASC,YAAU,YAAYC,KAAK,QAAQC,GAAI,CAACC,GAAI,CAAC,E,SAAG,6B,GAI1E,WAACC,IAAAA,C,UAAE,cACU,UAACC,EAAAA,CAAIA,CAAAA,CAACH,GAAI,CAACI,WAAY,MAAM,E,SAAI3B,C,GAAkB,4C,GAEhE,UAAC4B,EAAAA,CAAGA,CAAAA,CAACC,GAAG,KAAKN,GAAI,CAACO,GAAI,CAAC,E,SACrB,UAACC,KAAAA,C,SACC,WAACC,EAAAA,CAAIA,CAAAA,CAACC,KAAM9B,GAAa+B,U,UAAW,IAChC/B,EAAYgC,MAAM,CAAC,MAAIhC,EAAYM,KAAK,C,OAIhD,UAACiB,EAAAA,CAAIA,CAAAA,CAACG,GAAG,IAAIN,GAAI,CAACa,GAAI,CAAC,E,SAAG,6D,GAG1B,UAACX,IAAAA,C,SAAE,8C,SAMf,CAEA,MAAe7B,EAEf,GAAG,CAAEA,EAAmByC,WAAW,EAA9BzC,CAAAA,EAAmByC,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,C","sources":["ui/packages/repos-branches/components/DeleteBranchDialog.tsx"],"sourcesContent":["import {Box, Link, Text, Flash} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport {deleteBranch} from './BranchActionMenu'\nimport type {PullRequest} from '../types'\nimport type {Repository} from '@github-ui/current-repository'\nimport {useState} from 'react'\n\nexport interface DeleteBranchDialogProps {\n  showModal: boolean\n  setShowModal: (showModal: boolean) => void\n  setDeleting: (isDeleting: boolean) => void\n  branchName: string\n  deletedBranches: string[]\n  onDeletedBranchesChange: (newBranches: string[]) => void\n  pullRequest: PullRequest\n  repo: Repository\n}\n\nexport function DeleteBranchDialog({\n  showModal,\n  setShowModal,\n  setDeleting,\n  branchName,\n  deletedBranches,\n  onDeletedBranchesChange,\n  pullRequest,\n  repo,\n}: DeleteBranchDialogProps) {\n  const [showErrorBanner, setShowErrorBanner] = useState(false)\n\n  return (\n    <>\n      {showModal && (\n        <Dialog\n          title=\"Delete branch\"\n          width=\"large\"\n          onClose={() => {\n            setShowModal(false)\n          }}\n          footerButtons={[\n            {\n              content: 'Cancel',\n              buttonType: 'normal',\n              onClick: () => {\n                setShowModal(false)\n              },\n            },\n            {\n              content: 'Delete',\n              buttonType: 'danger',\n              onClick: async () => {\n                const ok = await deleteBranch(setDeleting, branchName, deletedBranches, onDeletedBranchesChange, repo)\n                if (!ok) {\n                  setShowErrorBanner(true)\n                } else {\n                  setShowErrorBanner(false)\n                  setShowModal(false)\n                }\n              },\n            },\n          ]}\n        >\n          <div className=\"js-delete-dialog-body\">\n            {showErrorBanner && (\n              <Flash variant=\"danger\" aria-live=\"assertive\" role=\"alert\" sx={{mb: 2}}>\n                Branch could not be deleted\n              </Flash>\n            )}\n            <p>\n              The branch <Text sx={{fontWeight: 'bold'}}>{branchName}</Text> is associated with an open pull request:\n            </p>\n            <Box as=\"ul\" sx={{ml: 4}}>\n              <li>\n                <Link href={pullRequest?.permalink}>\n                  #{pullRequest.number} - {pullRequest.title}\n                </Link>\n              </li>\n            </Box>\n            <Text as=\"p\" sx={{mt: 2}}>\n              If you delete this branch, the pull request will be closed.\n            </Text>\n            <p>Are you sure you want to delete this branch?</p>\n          </div>\n        </Dialog>\n      )}\n    </>\n  )\n}\n\nexport default DeleteBranchDialog\n\ntry{ DeleteBranchDialog.displayName ||= 'DeleteBranchDialog' } catch {}"],"names":["DeleteBranchDialog","showModal","setShowModal","setDeleting","branchName","deletedBranches","onDeletedBranchesChange","pullRequest","repo","showErrorBanner","setShowErrorBanner","useState","Dialog","title","width","onClose","footerButtons","content","buttonType","onClick","deleteBranch","div","className","Flash","variant","aria-live","role","sx","mb","p","Text","fontWeight","Box","as","ml","li","Link","href","permalink","number","mt","displayName"],"sourceRoot":""}