{"version":3,"file":"vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_fzy_js_index-192fd2-xxxxxxxxxxxx.js","mappings":"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CA,YACA,YACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,8BACA,8BACA,kBACA,oCACA,oCACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,YACA,YACA,8BACA,8BACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,YACA,8BACA,8BACA,YACA,YACA,kBACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,YACA,kBACA,oCACA,oCACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,eACA,iCACA,iCACA,kBACA,oCACA,oCACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,YACA,0CACA,YACA,YACA,YACH,EACD,SAASC,EAAaC,CAAK,EACvB,OAAOH,EAAUI,GAAG,CAACD,EACzB,CAIA,SAASE,EAAUC,CAAQ,CAAEC,CAAI,EAC7B,IAAMC,EAA0BC,EAAW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","sources":["node_modules/@primer/behaviors/dist/esm/anchored-position.js","node_modules/fzy.js/index.js","node_modules/@github/combobox-nav/dist/index.js","node_modules/@github/g-emoji-element/dist/index.js","node_modules/@github/markdown-toolbar-element/dist/index.js"],"sourcesContent":["const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom'],\n};\nconst alternateAlignments = {\n    start: ['end', 'center'],\n    end: ['start', 'center'],\n    center: ['end', 'start'],\n};\nexport function getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft,\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    if (isOnTopLayer(element))\n        return document.body;\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction isOnTopLayer(element) {\n    var _a;\n    if (element.tagName === 'DIALOG') {\n        return true;\n    }\n    try {\n        if (element.matches(':popover-open') && /native code/.test((_a = document.body.showPopover) === null || _a === void 0 ? void 0 : _a.toString())) {\n            return true;\n        }\n    }\n    catch (_b) {\n        return false;\n    }\n    return false;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (!(parentNode instanceof Element)) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth,\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity),\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false,\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds,\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height,\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    let anchorAlign = align;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        const alternateAlignment = alternateAlignments[align];\n        let alignmentAttempt = 0;\n        if (alternateAlignment) {\n            let prevAlign = align;\n            while (alignmentAttempt < alternateAlignment.length &&\n                shouldRecalculateAlignment(prevAlign, pos, relativeViewportRect, floatingRect)) {\n                const nextAlign = alternateAlignment[alignmentAttempt++];\n                prevAlign = nextAlign;\n                pos = calculatePosition(floatingRect, anchorRect, anchorSide, nextAlign, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorAlign = nextAlign;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = Math.max(viewportRect.height + relativeViewportRect.top - floatingRect.height, 0);\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide, anchorAlign });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\nfunction shouldRecalculateAlignment(align, currentPos, containerDimensions, elementDimensions) {\n    if (align === 'end') {\n        return currentPos.left < containerDimensions.left;\n    }\n    else if (align === 'start' || align === 'center') {\n        return (currentPos.left + elementDimensions.width > containerDimensions.left + containerDimensions.width ||\n            currentPos.left < containerDimensions.left);\n    }\n}\n","var SCORE_MIN = -Infinity;\nvar SCORE_MAX = Infinity;\n\nvar SCORE_GAP_LEADING = -0.005\nvar SCORE_GAP_TRAILING = -0.005\nvar SCORE_GAP_INNER = -0.01\nvar SCORE_MATCH_CONSECUTIVE = 1.0\nvar SCORE_MATCH_SLASH = 0.9\nvar SCORE_MATCH_WORD = 0.8\nvar SCORE_MATCH_CAPITAL = 0.7\nvar SCORE_MATCH_DOT = 0.6\n\nfunction islower(s) {\n\treturn s.toLowerCase() === s;\n}\n\nfunction isupper(s) {\n\treturn s.toUpperCase() === s;\n}\n\nfunction precompute_bonus(haystack) {\n\t/* Which positions are beginning of words */\n\tvar m = haystack.length;\n\tvar match_bonus = new Array(m);\n\n\tvar last_ch = '/';\n\tfor (var i = 0; i < m; i++) {\n\t\tvar ch = haystack[i];\n\n\t\tif (last_ch === '/') {\n\t\t\tmatch_bonus[i] = SCORE_MATCH_SLASH;\n\t\t} else if (last_ch === '-' || last_ch === '_' || last_ch === ' ') {\n\t\t\tmatch_bonus[i] = SCORE_MATCH_WORD;\n\t\t} else if (last_ch === '.') {\n\t\t\tmatch_bonus[i] = SCORE_MATCH_DOT;\n\t\t} else if (islower(last_ch) && isupper(ch)) {\n\t\t\tmatch_bonus[i] = SCORE_MATCH_CAPITAL;\n\t\t} else {\n\t\t\tmatch_bonus[i] = 0;\n\t\t}\n\n\t\tlast_ch = ch;\n\t}\n\n\treturn match_bonus;\n}\n\nfunction compute(needle, haystack, D, M) {\n\tvar n = needle.length;\n\tvar m = haystack.length;\n\n\tvar lower_needle = needle.toLowerCase();\n\tvar lower_haystack = haystack.toLowerCase();\n\n\tvar match_bonus = precompute_bonus(haystack, match_bonus);\n\n\t/*\n\t * D[][] Stores the best score for this position ending with a match.\n\t * M[][] Stores the best possible score at this position.\n\t */\n\n\tfor (var i = 0; i < n; i++) {\n\t\tD[i] = new Array(m);\n\t\tM[i] = new Array(m);\n\n\t\tvar prev_score = SCORE_MIN;\n\t\tvar gap_score = i === n - 1 ? SCORE_GAP_TRAILING : SCORE_GAP_INNER;\n\n\t\tfor (var j = 0; j < m; j++) {\n\t\t\tif (lower_needle[i] === lower_haystack[j]) {\n\t\t\t\tvar score = SCORE_MIN;\n\t\t\t\tif (!i) {\n\t\t\t\t\tscore = (j * SCORE_GAP_LEADING) + match_bonus[j];\n\t\t\t\t} else if (j) { /* i > 0 && j > 0*/\n\t\t\t\t\tscore = Math.max(\n\t\t\t\t\t\tM[i - 1][j - 1] + match_bonus[j],\n\n\t\t\t\t\t\t/* consecutive match, doesn't stack with match_bonus */\n\t\t\t\t\t\tD[i - 1][j - 1] + SCORE_MATCH_CONSECUTIVE);\n\t\t\t\t}\n\t\t\t\tD[i][j] = score;\n\t\t\t\tM[i][j] = prev_score = Math.max(score, prev_score + gap_score);\n\t\t\t} else {\n\t\t\t\tD[i][j] = SCORE_MIN;\n\t\t\t\tM[i][j] = prev_score = prev_score + gap_score;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction score(needle, haystack) {\n\tvar n = needle.length;\n\tvar m = haystack.length;\n\n\tif (!n || !m)\n\t\treturn SCORE_MIN;\n\n\tif (n === m) {\n\t\t/* Since this method can only be called with a haystack which\n\t\t * matches needle. If the lengths of the strings are equal the\n\t\t * strings themselves must also be equal (ignoring case).\n\t\t */\n\t\treturn SCORE_MAX;\n\t}\n\n\tif (m > 1024) {\n\t\t/*\n\t\t * Unreasonably large candidate: return no score\n\t\t * If it is a valid match it will still be returned, it will\n\t\t * just be ranked below any reasonably sized candidates\n\t\t */\n\t\treturn SCORE_MIN;\n\t}\n\n\tvar D = new Array(n);\n\tvar M = new Array(n);\n\n\tcompute(needle, haystack, D, M)\n\n\treturn M[n - 1][m - 1];\n}\n\nfunction positions(needle, haystack) {\n\tvar n = needle.length;\n\tvar m = haystack.length;\n\n\tvar positions = new Array(n);\n\n\tif (!n || !m)\n\t\treturn positions;\n\n\tif (n === m) {\n\t\tfor (var i = 0; i < n; i++)\n\t\t\tpositions[i] = i;\n\t\treturn positions;\n\t}\n\n\tif (m > 1024) {\n\t\treturn positions;\n\t}\n\n\tvar D = new Array(n);\n\tvar M = new Array(n);\n\n\tcompute(needle, haystack, D, M)\n\n\t/* backtrack to find the positions of optimal matching */\n\tvar match_required = false;\n\n\tfor (var i = n - 1, j = m - 1; i >= 0; i--) {\n\t\tfor (; j >= 0; j--) {\n\t\t\t/*\n\t\t\t * There may be multiple paths which result in\n\t\t\t * the optimal weight.\n\t\t\t *\n\t\t\t * For simplicity, we will pick the first one\n\t\t\t * we encounter, the latest in the candidate\n\t\t\t * string.\n\t\t\t */\n\t\t\tif (D[i][j] !== SCORE_MIN &&\n\t\t\t    (match_required || D[i][j] === M[i][j])) {\n\t\t\t\t/* If this score was determined using\n\t\t\t\t * SCORE_MATCH_CONSECUTIVE, the\n\t\t\t\t * previous character MUST be a match\n\t\t\t\t */\n\t\t\t\tmatch_required =\n\t\t\t\t    i && j &&\n\t\t\t\t    M[i][j] === D[i - 1][j - 1] + SCORE_MATCH_CONSECUTIVE;\n\t\t\t\tpositions[i] = j--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn positions;\n}\n\nfunction hasMatch(needle, haystack) {\n  needle = needle.toLowerCase()\n  haystack = haystack.toLowerCase()\n  var l = needle.length\n  for (var i = 0, j = 0; i < l; i += 1) {\n    j = haystack.indexOf(needle[i], j) + 1\n    if (j === 0) return false\n  }\n  return true\n}\n\nexport {\n\t/* constants */\n\tSCORE_MIN,\n\tSCORE_MAX,\n\n\tSCORE_GAP_LEADING,\n\tSCORE_GAP_TRAILING,\n\tSCORE_GAP_INNER,\n\tSCORE_MATCH_CONSECUTIVE,\n\tSCORE_MATCH_SLASH,\n\tSCORE_MATCH_WORD,\n\tSCORE_MATCH_CAPITAL,\n\tSCORE_MATCH_DOT,\n\n\t/* functions */\n\tscore,\n\tpositions,\n\thasMatch\n}\n","export default class Combobox {\n    constructor(input, list, { tabInsertsSuggestions, firstOptionSelectionMode, scrollIntoViewOptions } = {}) {\n        this.input = input;\n        this.list = list;\n        this.tabInsertsSuggestions = tabInsertsSuggestions !== null && tabInsertsSuggestions !== void 0 ? tabInsertsSuggestions : true;\n        this.firstOptionSelectionMode = firstOptionSelectionMode !== null && firstOptionSelectionMode !== void 0 ? firstOptionSelectionMode : 'none';\n        this.scrollIntoViewOptions = scrollIntoViewOptions !== null && scrollIntoViewOptions !== void 0 ? scrollIntoViewOptions : { block: 'nearest', inline: 'nearest' };\n        this.isComposing = false;\n        if (!list.id) {\n            list.id = `combobox-${Math.random().toString().slice(2, 6)}`;\n        }\n        this.ctrlBindings = !!navigator.userAgent.match(/Macintosh/);\n        this.keyboardEventHandler = event => keyboardBindings(event, this);\n        this.compositionEventHandler = event => trackComposition(event, this);\n        this.inputHandler = this.clearSelection.bind(this);\n        input.setAttribute('role', 'combobox');\n        input.setAttribute('aria-controls', list.id);\n        input.setAttribute('aria-expanded', 'false');\n        input.setAttribute('aria-autocomplete', 'list');\n        input.setAttribute('aria-haspopup', 'listbox');\n    }\n    destroy() {\n        this.clearSelection();\n        this.stop();\n        this.input.removeAttribute('role');\n        this.input.removeAttribute('aria-controls');\n        this.input.removeAttribute('aria-expanded');\n        this.input.removeAttribute('aria-autocomplete');\n        this.input.removeAttribute('aria-haspopup');\n    }\n    start() {\n        this.input.setAttribute('aria-expanded', 'true');\n        this.input.addEventListener('compositionstart', this.compositionEventHandler);\n        this.input.addEventListener('compositionend', this.compositionEventHandler);\n        this.input.addEventListener('input', this.inputHandler);\n        this.input.addEventListener('keydown', this.keyboardEventHandler);\n        this.list.addEventListener('click', commitWithElement);\n        this.resetSelection();\n    }\n    stop() {\n        this.clearSelection();\n        this.input.setAttribute('aria-expanded', 'false');\n        this.input.removeEventListener('compositionstart', this.compositionEventHandler);\n        this.input.removeEventListener('compositionend', this.compositionEventHandler);\n        this.input.removeEventListener('input', this.inputHandler);\n        this.input.removeEventListener('keydown', this.keyboardEventHandler);\n        this.list.removeEventListener('click', commitWithElement);\n    }\n    indicateDefaultOption() {\n        var _a;\n        if (this.firstOptionSelectionMode === 'active') {\n            (_a = Array.from(this.list.querySelectorAll('[role=\"option\"]:not([aria-disabled=\"true\"])'))\n                .filter(visible)[0]) === null || _a === void 0 ? void 0 : _a.setAttribute('data-combobox-option-default', 'true');\n        }\n        else if (this.firstOptionSelectionMode === 'selected') {\n            this.navigate(1);\n        }\n    }\n    navigate(indexDiff = 1) {\n        const focusEl = Array.from(this.list.querySelectorAll('[aria-selected=\"true\"]')).filter(visible)[0];\n        const els = Array.from(this.list.querySelectorAll('[role=\"option\"]')).filter(visible);\n        const focusIndex = els.indexOf(focusEl);\n        if ((focusIndex === els.length - 1 && indexDiff === 1) || (focusIndex === 0 && indexDiff === -1)) {\n            this.clearSelection();\n            this.input.focus();\n            return;\n        }\n        let indexOfItem = indexDiff === 1 ? 0 : els.length - 1;\n        if (focusEl && focusIndex >= 0) {\n            const newIndex = focusIndex + indexDiff;\n            if (newIndex >= 0 && newIndex < els.length)\n                indexOfItem = newIndex;\n        }\n        const target = els[indexOfItem];\n        if (!target)\n            return;\n        for (const el of els) {\n            el.removeAttribute('data-combobox-option-default');\n            if (target === el) {\n                this.input.setAttribute('aria-activedescendant', target.id);\n                target.setAttribute('aria-selected', 'true');\n                fireSelectEvent(target);\n                target.scrollIntoView(this.scrollIntoViewOptions);\n            }\n            else {\n                el.removeAttribute('aria-selected');\n            }\n        }\n    }\n    clearSelection() {\n        this.input.removeAttribute('aria-activedescendant');\n        for (const el of this.list.querySelectorAll('[aria-selected=\"true\"], [data-combobox-option-default=\"true\"]')) {\n            el.removeAttribute('aria-selected');\n            el.removeAttribute('data-combobox-option-default');\n        }\n    }\n    resetSelection() {\n        this.clearSelection();\n        this.indicateDefaultOption();\n    }\n}\nfunction keyboardBindings(event, combobox) {\n    if (event.shiftKey || event.metaKey || event.altKey)\n        return;\n    if (!combobox.ctrlBindings && event.ctrlKey)\n        return;\n    if (combobox.isComposing)\n        return;\n    switch (event.key) {\n        case 'Enter':\n            if (commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Tab':\n            if (combobox.tabInsertsSuggestions && commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Escape':\n            combobox.clearSelection();\n            break;\n        case 'ArrowDown':\n            combobox.navigate(1);\n            event.preventDefault();\n            break;\n        case 'ArrowUp':\n            combobox.navigate(-1);\n            event.preventDefault();\n            break;\n        case 'n':\n            if (combobox.ctrlBindings && event.ctrlKey) {\n                combobox.navigate(1);\n                event.preventDefault();\n            }\n            break;\n        case 'p':\n            if (combobox.ctrlBindings && event.ctrlKey) {\n                combobox.navigate(-1);\n                event.preventDefault();\n            }\n            break;\n        default:\n            if (event.ctrlKey)\n                break;\n            combobox.resetSelection();\n    }\n}\nfunction commitWithElement(event) {\n    if (!(event.target instanceof Element))\n        return;\n    const target = event.target.closest('[role=\"option\"]');\n    if (!target)\n        return;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return;\n    fireCommitEvent(target, { event });\n}\nfunction commit(input, list) {\n    const target = list.querySelector('[aria-selected=\"true\"], [data-combobox-option-default=\"true\"]');\n    if (!target)\n        return false;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return true;\n    target.click();\n    return true;\n}\nfunction fireCommitEvent(target, detail) {\n    target.dispatchEvent(new CustomEvent('combobox-commit', { bubbles: true, detail }));\n}\nfunction fireSelectEvent(target) {\n    target.dispatchEvent(new Event('combobox-select', { bubbles: true }));\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        !(el instanceof HTMLInputElement && el.type === 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction trackComposition(event, combobox) {\n    combobox.isComposing = event.type === 'compositionstart';\n    const list = document.getElementById(combobox.input.getAttribute('aria-controls') || '');\n    if (!list)\n        return;\n    combobox.clearSelection();\n}\n","function isEmojiSupported() {\n    const onWindows7 = /\\bWindows NT 6.1\\b/.test(navigator.userAgent);\n    const onWindows8 = /\\bWindows NT 6.2\\b/.test(navigator.userAgent);\n    const onWindows81 = /\\bWindows NT 6.3\\b/.test(navigator.userAgent);\n    const onFreeBSD = /\\bFreeBSD\\b/.test(navigator.userAgent);\n    const onLinux = /\\bLinux\\b/.test(navigator.userAgent) && !/\\bAndroid\\b/.test(navigator.userAgent);\n    return !(onWindows7 || onWindows8 || onWindows81 || onLinux || onFreeBSD);\n}\n\nconst supported = new Set([\n    '👋',\n    '🤚',\n    '🖐️',\n    '✋',\n    '🖖',\n    '👌',\n    '🤏',\n    '✌️',\n    '🤞',\n    '🤟',\n    '🤘',\n    '🤙',\n    '👈',\n    '👉',\n    '👆',\n    '🖕',\n    '👇',\n    '☝️',\n    '👍',\n    '👎',\n    '✊',\n    '👊',\n    '🤛',\n    '🤜',\n    '👏',\n    '🙌',\n    '👐',\n    '🤲',\n    '🙏',\n    '✍️',\n    '💅',\n    '🤳',\n    '💪',\n    '🦵',\n    '🦶',\n    '👂',\n    '🦻',\n    '👃',\n    '👶',\n    '🧒',\n    '👦',\n    '👧',\n    '🧑',\n    '👱',\n    '👨',\n    '🧔',\n    '👱‍♂️',\n    '👨‍🦰',\n    '👨‍🦱',\n    '👨‍🦳',\n    '👨‍🦲',\n    '👩',\n    '👱‍♀️',\n    '👩‍🦰',\n    '👩‍🦱',\n    '👩‍🦳',\n    '👩‍🦲',\n    '🧓',\n    '👴',\n    '👵',\n    '🙍',\n    '🙍‍♂️',\n    '🙍‍♀️',\n    '🙎',\n    '🙎‍♂️',\n    '🙎‍♀️',\n    '🙅',\n    '🙅‍♂️',\n    '🙅‍♀️',\n    '🙆',\n    '🙆‍♂️',\n    '🙆‍♀️',\n    '💁',\n    '💁‍♂️',\n    '💁‍♀️',\n    '🙋',\n    '🙋‍♂️',\n    '🙋‍♀️',\n    '🧏',\n    '🧏‍♂️',\n    '🧏‍♀️',\n    '🙇',\n    '🙇‍♂️',\n    '🙇‍♀️',\n    '🤦',\n    '🤦‍♂️',\n    '🤦‍♀️',\n    '🤷',\n    '🤷‍♂️',\n    '🤷‍♀️',\n    '👨‍⚕️',\n    '👩‍⚕️',\n    '👨‍🎓',\n    '👩‍🎓',\n    '👨‍🏫',\n    '👩‍🏫',\n    '👨‍⚖️',\n    '👩‍⚖️',\n    '👨‍🌾',\n    '👩‍🌾',\n    '👨‍🍳',\n    '👩‍🍳',\n    '👨‍🔧',\n    '👩‍🔧',\n    '👨‍🏭',\n    '👩‍🏭',\n    '👨‍💼',\n    '👩‍💼',\n    '👨‍🔬',\n    '👩‍🔬',\n    '👨‍💻',\n    '👩‍💻',\n    '👨‍🎤',\n    '👩‍🎤',\n    '👨‍🎨',\n    '👩‍🎨',\n    '👨‍✈️',\n    '👩‍✈️',\n    '👨‍🚀',\n    '👩‍🚀',\n    '👨‍🚒',\n    '👩‍🚒',\n    '👮',\n    '👮‍♂️',\n    '👮‍♀️',\n    '🕵️',\n    '🕵️‍♂️',\n    '🕵️‍♀️',\n    '💂',\n    '💂‍♂️',\n    '💂‍♀️',\n    '👷',\n    '👷‍♂️',\n    '👷‍♀️',\n    '🤴',\n    '👸',\n    '👳',\n    '👳‍♂️',\n    '👳‍♀️',\n    '👲',\n    '🧕',\n    '🤵',\n    '👰',\n    '🤰',\n    '🤱',\n    '👼',\n    '🎅',\n    '🤶',\n    '🦸',\n    '🦸‍♂️',\n    '🦸‍♀️',\n    '🦹',\n    '🦹‍♂️',\n    '🦹‍♀️',\n    '🧙',\n    '🧙‍♂️',\n    '🧙‍♀️',\n    '🧚',\n    '🧚‍♂️',\n    '🧚‍♀️',\n    '🧛',\n    '🧛‍♂️',\n    '🧛‍♀️',\n    '🧜',\n    '🧜‍♂️',\n    '🧜‍♀️',\n    '🧝',\n    '🧝‍♂️',\n    '🧝‍♀️',\n    '💆',\n    '💆‍♂️',\n    '💆‍♀️',\n    '💇',\n    '💇‍♂️',\n    '💇‍♀️',\n    '🚶',\n    '🚶‍♂️',\n    '🚶‍♀️',\n    '🧍',\n    '🧍‍♂️',\n    '🧍‍♀️',\n    '🧎',\n    '🧎‍♂️',\n    '🧎‍♀️',\n    '👨‍🦯',\n    '👩‍🦯',\n    '👨‍🦼',\n    '👩‍🦼',\n    '👨‍🦽',\n    '👩‍🦽',\n    '🏃',\n    '🏃‍♂️',\n    '🏃‍♀️',\n    '💃',\n    '🕺',\n    '🕴️',\n    '🧖',\n    '🧖‍♂️',\n    '🧖‍♀️',\n    '🧗',\n    '🧗‍♂️',\n    '🧗‍♀️',\n    '🏇',\n    '🏂',\n    '🏌️',\n    '🏌️‍♂️',\n    '🏌️‍♀️',\n    '🏄',\n    '🏄‍♂️',\n    '🏄‍♀️',\n    '🚣',\n    '🚣‍♂️',\n    '🚣‍♀️',\n    '🏊',\n    '🏊‍♂️',\n    '🏊‍♀️',\n    '⛹️',\n    '⛹️‍♂️',\n    '⛹️‍♀️',\n    '🏋️',\n    '🏋️‍♂️',\n    '🏋️‍♀️',\n    '🚴',\n    '🚴‍♂️',\n    '🚴‍♀️',\n    '🚵',\n    '🚵‍♂️',\n    '🚵‍♀️',\n    '🤸',\n    '🤸‍♂️',\n    '🤸‍♀️',\n    '🤽',\n    '🤽‍♂️',\n    '🤽‍♀️',\n    '🤾',\n    '🤾‍♂️',\n    '🤾‍♀️',\n    '🤹',\n    '🤹‍♂️',\n    '🤹‍♀️',\n    '🧘',\n    '🧘‍♂️',\n    '🧘‍♀️',\n    '🛀',\n    '🛌',\n    '🧑‍🤝‍🧑',\n    '👭',\n    '👫',\n    '👬'\n]);\nfunction isModifiable(emoji) {\n    return supported.has(emoji);\n}\n\nconst ZERO_WIDTH_JOINER = '\\u{200d}';\nconst VARIATION_16 = 0xfe0f;\nfunction applyTone(sequence, tone) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifier = toneModifier(tone);\n    if (!modifier)\n        return sequence;\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => (isModifiable(emoji) ? tint(emoji, modifier) : emoji))\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction applyTones(sequence, tones) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifiers = tones.map(t => toneModifier(t));\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => {\n        if (!isModifiable(emoji))\n            return emoji;\n        const modifier = modifiers.shift();\n        return modifier ? tint(emoji, modifier) : emoji;\n    })\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction removeTone(emoji) {\n    return [...emoji].filter(ch => !isTone(ch.codePointAt(0))).join('');\n}\nfunction tint(emoji, tone) {\n    const points = [...emoji].map(p => p.codePointAt(0));\n    if (points[1] && (isTone(points[1]) || points[1] === VARIATION_16)) {\n        points[1] = tone;\n    }\n    else {\n        points.splice(1, 0, tone);\n    }\n    return String.fromCodePoint(...points);\n}\nfunction isTone(point) {\n    return point >= 0x1f3fb && point <= 0x1f3ff;\n}\nfunction toneModifier(id) {\n    switch (id) {\n        case 1:\n            return 0x1f3fb;\n        case 2:\n            return 0x1f3fc;\n        case 3:\n            return 0x1f3fd;\n        case 4:\n            return 0x1f3fe;\n        case 5:\n            return 0x1f3ff;\n        default:\n            return null;\n    }\n}\n\nclass GEmojiElement extends HTMLElement {\n    get image() {\n        if (this.firstElementChild instanceof HTMLImageElement) {\n            return this.firstElementChild;\n        }\n        else {\n            return null;\n        }\n    }\n    get tone() {\n        return (this.getAttribute('tone') || '')\n            .split(' ')\n            .map(value => {\n            const tone = parseInt(value, 10);\n            return tone >= 0 && tone <= 5 ? tone : 0;\n        })\n            .join(' ');\n    }\n    set tone(modifiers) {\n        this.setAttribute('tone', modifiers);\n    }\n    connectedCallback() {\n        if (this.image === null && !GEmojiElement.emojiSupportFunction()) {\n            const src = this.getAttribute('fallback-src');\n            if (src) {\n                this.textContent = '';\n                const image = emojiImage(this);\n                image.src = src;\n                this.appendChild(image);\n            }\n        }\n        if (this.hasAttribute('tone')) {\n            updateTone(this);\n        }\n    }\n    static get observedAttributes() {\n        return ['tone'];\n    }\n    attributeChangedCallback(name) {\n        switch (name) {\n            case 'tone':\n                updateTone(this);\n                break;\n        }\n    }\n}\nGEmojiElement.emojiSupportFunction = isEmojiSupported;\nfunction updateTone(el) {\n    if (el.image)\n        return;\n    const tones = el.tone.split(' ').map(x => parseInt(x, 10));\n    if (tones.length === 0) {\n        el.textContent = removeTone(el.textContent || '');\n    }\n    else if (tones.length === 1) {\n        const tone = tones[0];\n        el.textContent = tone === 0 ? removeTone(el.textContent || '') : applyTone(el.textContent || '', tone);\n    }\n    else {\n        el.textContent = applyTones(el.textContent || '', tones);\n    }\n}\nfunction emojiImage(el) {\n    const image = document.createElement('img');\n    image.className = 'emoji';\n    image.alt = el.getAttribute('alias') || '';\n    image.height = 20;\n    image.width = 20;\n    return image;\n}\nif (!window.customElements.get('g-emoji')) {\n    window.GEmojiElement = GEmojiElement;\n    window.customElements.define('g-emoji', GEmojiElement);\n}\n\nexport { applyTone, GEmojiElement as default, removeTone };\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _MarkdownHeaderButtonElement_instances, _MarkdownHeaderButtonElement_setLevelStyle;\nconst buttonSelectors = [\n    '[data-md-button]',\n    'md-header',\n    'md-bold',\n    'md-italic',\n    'md-quote',\n    'md-code',\n    'md-link',\n    'md-image',\n    'md-unordered-list',\n    'md-ordered-list',\n    'md-task-list',\n    'md-mention',\n    'md-ref',\n    'md-strikethrough'\n];\nfunction getButtons(toolbar) {\n    const els = [];\n    for (const button of toolbar.querySelectorAll(buttonSelectors.join(', '))) {\n        if (button.hidden || (button.offsetWidth <= 0 && button.offsetHeight <= 0))\n            continue;\n        if (button.closest('markdown-toolbar') === toolbar)\n            els.push(button);\n    }\n    return els;\n}\nfunction keydown(fn) {\n    return function (event) {\n        if (event.key === ' ' || event.key === 'Enter') {\n            fn(event);\n        }\n    };\n}\nconst styles = new WeakMap();\nconst manualStyles = {\n    'header-1': { prefix: '# ' },\n    'header-2': { prefix: '## ' },\n    'header-3': { prefix: '### ' },\n    'header-4': { prefix: '#### ' },\n    'header-5': { prefix: '##### ' },\n    'header-6': { prefix: '###### ' },\n    bold: { prefix: '**', suffix: '**', trimFirst: true },\n    italic: { prefix: '_', suffix: '_', trimFirst: true },\n    quote: { prefix: '> ', multiline: true, surroundWithNewlines: true },\n    code: {\n        prefix: '`',\n        suffix: '`',\n        blockPrefix: '```',\n        blockSuffix: '```'\n    },\n    link: { prefix: '[', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' },\n    image: { prefix: '![', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' },\n    'unordered-list': {\n        prefix: '- ',\n        multiline: true,\n        unorderedList: true\n    },\n    'ordered-list': {\n        prefix: '1. ',\n        multiline: true,\n        orderedList: true\n    },\n    'task-list': { prefix: '- [ ] ', multiline: true, surroundWithNewlines: true },\n    mention: { prefix: '@', prefixSpace: true },\n    ref: { prefix: '#', prefixSpace: true },\n    strikethrough: { prefix: '~~', suffix: '~~', trimFirst: true }\n};\nclass MarkdownButtonElement extends HTMLElement {\n    constructor() {\n        super();\n        const apply = (event) => {\n            const style = styles.get(this);\n            if (!style)\n                return;\n            event.preventDefault();\n            applyStyle(this, style);\n        };\n        this.addEventListener('keydown', keydown(apply));\n        this.addEventListener('click', apply);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n    }\n    click() {\n        const style = styles.get(this);\n        if (!style)\n            return;\n        applyStyle(this, style);\n    }\n}\nclass MarkdownHeaderButtonElement extends MarkdownButtonElement {\n    constructor() {\n        super(...arguments);\n        _MarkdownHeaderButtonElement_instances.add(this);\n    }\n    connectedCallback() {\n        const level = parseInt(this.getAttribute('level') || '3', 10);\n        __classPrivateFieldGet(this, _MarkdownHeaderButtonElement_instances, \"m\", _MarkdownHeaderButtonElement_setLevelStyle).call(this, level);\n    }\n    static get observedAttributes() {\n        return ['level'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (name !== 'level')\n            return;\n        const level = parseInt(newValue || '3', 10);\n        __classPrivateFieldGet(this, _MarkdownHeaderButtonElement_instances, \"m\", _MarkdownHeaderButtonElement_setLevelStyle).call(this, level);\n    }\n}\n_MarkdownHeaderButtonElement_instances = new WeakSet(), _MarkdownHeaderButtonElement_setLevelStyle = function _MarkdownHeaderButtonElement_setLevelStyle(level) {\n    if (level < 1 || level > 6) {\n        return;\n    }\n    const prefix = `${'#'.repeat(level)} `;\n    styles.set(this, {\n        prefix\n    });\n};\nif (!window.customElements.get('md-header')) {\n    window.MarkdownHeaderButtonElement = MarkdownHeaderButtonElement;\n    window.customElements.define('md-header', MarkdownHeaderButtonElement);\n}\nclass MarkdownBoldButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '**', suffix: '**', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-bold')) {\n    window.MarkdownBoldButtonElement = MarkdownBoldButtonElement;\n    window.customElements.define('md-bold', MarkdownBoldButtonElement);\n}\nclass MarkdownItalicButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '_', suffix: '_', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-italic')) {\n    window.MarkdownItalicButtonElement = MarkdownItalicButtonElement;\n    window.customElements.define('md-italic', MarkdownItalicButtonElement);\n}\nclass MarkdownQuoteButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '> ', multiline: true, surroundWithNewlines: true });\n    }\n}\nif (!window.customElements.get('md-quote')) {\n    window.MarkdownQuoteButtonElement = MarkdownQuoteButtonElement;\n    window.customElements.define('md-quote', MarkdownQuoteButtonElement);\n}\nclass MarkdownCodeButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '`', suffix: '`', blockPrefix: '```', blockSuffix: '```' });\n    }\n}\nif (!window.customElements.get('md-code')) {\n    window.MarkdownCodeButtonElement = MarkdownCodeButtonElement;\n    window.customElements.define('md-code', MarkdownCodeButtonElement);\n}\nclass MarkdownLinkButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '[', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' });\n    }\n}\nif (!window.customElements.get('md-link')) {\n    window.MarkdownLinkButtonElement = MarkdownLinkButtonElement;\n    window.customElements.define('md-link', MarkdownLinkButtonElement);\n}\nclass MarkdownImageButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '![', suffix: '](url)', replaceNext: 'url', scanFor: 'https?://' });\n    }\n}\nif (!window.customElements.get('md-image')) {\n    window.MarkdownImageButtonElement = MarkdownImageButtonElement;\n    window.customElements.define('md-image', MarkdownImageButtonElement);\n}\nclass MarkdownUnorderedListButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '- ', multiline: true, unorderedList: true });\n    }\n}\nif (!window.customElements.get('md-unordered-list')) {\n    window.MarkdownUnorderedListButtonElement = MarkdownUnorderedListButtonElement;\n    window.customElements.define('md-unordered-list', MarkdownUnorderedListButtonElement);\n}\nclass MarkdownOrderedListButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '1. ', multiline: true, orderedList: true });\n    }\n}\nif (!window.customElements.get('md-ordered-list')) {\n    window.MarkdownOrderedListButtonElement = MarkdownOrderedListButtonElement;\n    window.customElements.define('md-ordered-list', MarkdownOrderedListButtonElement);\n}\nclass MarkdownTaskListButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '- [ ] ', multiline: true, surroundWithNewlines: true });\n    }\n}\nif (!window.customElements.get('md-task-list')) {\n    window.MarkdownTaskListButtonElement = MarkdownTaskListButtonElement;\n    window.customElements.define('md-task-list', MarkdownTaskListButtonElement);\n}\nclass MarkdownMentionButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '@', prefixSpace: true });\n    }\n}\nif (!window.customElements.get('md-mention')) {\n    window.MarkdownMentionButtonElement = MarkdownMentionButtonElement;\n    window.customElements.define('md-mention', MarkdownMentionButtonElement);\n}\nclass MarkdownRefButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '#', prefixSpace: true });\n    }\n}\nif (!window.customElements.get('md-ref')) {\n    window.MarkdownRefButtonElement = MarkdownRefButtonElement;\n    window.customElements.define('md-ref', MarkdownRefButtonElement);\n}\nclass MarkdownStrikethroughButtonElement extends MarkdownButtonElement {\n    connectedCallback() {\n        styles.set(this, { prefix: '~~', suffix: '~~', trimFirst: true });\n    }\n}\nif (!window.customElements.get('md-strikethrough')) {\n    window.MarkdownStrikethroughButtonElement = MarkdownStrikethroughButtonElement;\n    window.customElements.define('md-strikethrough', MarkdownStrikethroughButtonElement);\n}\nfunction applyFromToolbar(event) {\n    const { target, currentTarget } = event;\n    if (!(target instanceof Element))\n        return;\n    const mdButton = target.closest('[data-md-button]');\n    if (!mdButton || mdButton.closest('markdown-toolbar') !== currentTarget)\n        return;\n    const mdButtonStyle = mdButton.getAttribute('data-md-button');\n    const style = manualStyles[mdButtonStyle];\n    if (!style)\n        return;\n    event.preventDefault();\n    applyStyle(target, style);\n}\nfunction setFocusManagement(toolbar) {\n    toolbar.addEventListener('keydown', focusKeydown);\n    toolbar.setAttribute('tabindex', '0');\n    toolbar.addEventListener('focus', onToolbarFocus, { once: true });\n}\nfunction unsetFocusManagement(toolbar) {\n    toolbar.removeEventListener('keydown', focusKeydown);\n    toolbar.removeAttribute('tabindex');\n    toolbar.removeEventListener('focus', onToolbarFocus);\n}\nclass MarkdownToolbarElement extends HTMLElement {\n    connectedCallback() {\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'toolbar');\n        }\n        if (!this.hasAttribute('data-no-focus')) {\n            setFocusManagement(this);\n        }\n        this.addEventListener('keydown', keydown(applyFromToolbar));\n        this.addEventListener('click', applyFromToolbar);\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (name !== 'data-no-focus')\n            return;\n        if (newValue === null) {\n            setFocusManagement(this);\n        }\n        else {\n            unsetFocusManagement(this);\n        }\n    }\n    disconnectedCallback() {\n        unsetFocusManagement(this);\n    }\n    get field() {\n        const id = this.getAttribute('for');\n        if (!id)\n            return null;\n        const root = 'getRootNode' in this ? this.getRootNode() : document;\n        let field;\n        if (root instanceof Document || root instanceof ShadowRoot) {\n            field = root.getElementById(id);\n        }\n        return field instanceof HTMLTextAreaElement ? field : null;\n    }\n}\nMarkdownToolbarElement.observedAttributes = ['data-no-focus'];\nfunction onToolbarFocus({ target }) {\n    if (!(target instanceof Element))\n        return;\n    target.removeAttribute('tabindex');\n    let tabindex = '0';\n    for (const button of getButtons(target)) {\n        button.setAttribute('tabindex', tabindex);\n        if (tabindex === '0') {\n            button.focus();\n            tabindex = '-1';\n        }\n    }\n}\nfunction focusKeydown(event) {\n    const key = event.key;\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Home' && key !== 'End')\n        return;\n    const toolbar = event.currentTarget;\n    if (!(toolbar instanceof HTMLElement))\n        return;\n    const buttons = getButtons(toolbar);\n    const index = buttons.indexOf(event.target);\n    const length = buttons.length;\n    if (index === -1)\n        return;\n    let n = 0;\n    if (key === 'ArrowLeft')\n        n = index - 1;\n    if (key === 'ArrowRight')\n        n = index + 1;\n    if (key === 'End')\n        n = length - 1;\n    if (n < 0)\n        n = length - 1;\n    if (n > length - 1)\n        n = 0;\n    for (let i = 0; i < length; i += 1) {\n        buttons[i].setAttribute('tabindex', i === n ? '0' : '-1');\n    }\n    event.preventDefault();\n    buttons[n].focus();\n}\nif (!window.customElements.get('markdown-toolbar')) {\n    window.MarkdownToolbarElement = MarkdownToolbarElement;\n    window.customElements.define('markdown-toolbar', MarkdownToolbarElement);\n}\nfunction isMultipleLines(string) {\n    return string.trim().split('\\n').length > 1;\n}\nfunction repeat(string, n) {\n    return Array(n + 1).join(string);\n}\nfunction wordSelectionStart(text, i) {\n    let index = i;\n    while (text[index] && text[index - 1] != null && !text[index - 1].match(/\\s/)) {\n        index--;\n    }\n    return index;\n}\nfunction wordSelectionEnd(text, i, multiline) {\n    let index = i;\n    const breakpoint = multiline ? /\\n/ : /\\s/;\n    while (text[index] && !text[index].match(breakpoint)) {\n        index++;\n    }\n    return index;\n}\nlet canInsertText = null;\nfunction insertText(textarea, { text, selectionStart, selectionEnd }) {\n    const originalSelectionStart = textarea.selectionStart;\n    const before = textarea.value.slice(0, originalSelectionStart);\n    const after = textarea.value.slice(textarea.selectionEnd);\n    if (canInsertText === null || canInsertText === true) {\n        textarea.contentEditable = 'true';\n        try {\n            canInsertText = document.execCommand('insertText', false, text);\n        }\n        catch (error) {\n            canInsertText = false;\n        }\n        textarea.contentEditable = 'false';\n    }\n    if (canInsertText && !textarea.value.slice(0, textarea.selectionStart).endsWith(text)) {\n        canInsertText = false;\n    }\n    if (!canInsertText) {\n        try {\n            document.execCommand('ms-beginUndoUnit');\n        }\n        catch (e) {\n        }\n        textarea.value = before + text + after;\n        try {\n            document.execCommand('ms-endUndoUnit');\n        }\n        catch (e) {\n        }\n        textarea.dispatchEvent(new CustomEvent('input', { bubbles: true, cancelable: true }));\n    }\n    if (selectionStart != null && selectionEnd != null) {\n        textarea.setSelectionRange(selectionStart, selectionEnd);\n    }\n    else {\n        textarea.setSelectionRange(originalSelectionStart, textarea.selectionEnd);\n    }\n}\nfunction styleSelectedText(textarea, styleArgs) {\n    const text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let result;\n    if (styleArgs.orderedList || styleArgs.unorderedList) {\n        result = listStyle(textarea, styleArgs);\n    }\n    else if (styleArgs.multiline && isMultipleLines(text)) {\n        result = multilineStyle(textarea, styleArgs);\n    }\n    else {\n        result = blockStyle(textarea, styleArgs);\n    }\n    insertText(textarea, result);\n}\nfunction expandSelectionToLine(textarea) {\n    const lines = textarea.value.split('\\n');\n    let counter = 0;\n    for (let index = 0; index < lines.length; index++) {\n        const lineLength = lines[index].length + 1;\n        if (textarea.selectionStart >= counter && textarea.selectionStart < counter + lineLength) {\n            textarea.selectionStart = counter;\n        }\n        if (textarea.selectionEnd >= counter && textarea.selectionEnd < counter + lineLength) {\n            textarea.selectionEnd = counter + lineLength - 1;\n        }\n        counter += lineLength;\n    }\n}\nfunction expandSelectedText(textarea, prefixToUse, suffixToUse, multiline = false) {\n    if (textarea.selectionStart === textarea.selectionEnd) {\n        textarea.selectionStart = wordSelectionStart(textarea.value, textarea.selectionStart);\n        textarea.selectionEnd = wordSelectionEnd(textarea.value, textarea.selectionEnd, multiline);\n    }\n    else {\n        const expandedSelectionStart = textarea.selectionStart - prefixToUse.length;\n        const expandedSelectionEnd = textarea.selectionEnd + suffixToUse.length;\n        const beginsWithPrefix = textarea.value.slice(expandedSelectionStart, textarea.selectionStart) === prefixToUse;\n        const endsWithSuffix = textarea.value.slice(textarea.selectionEnd, expandedSelectionEnd) === suffixToUse;\n        if (beginsWithPrefix && endsWithSuffix) {\n            textarea.selectionStart = expandedSelectionStart;\n            textarea.selectionEnd = expandedSelectionEnd;\n        }\n    }\n    return textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n}\nfunction newlinesToSurroundSelectedText(textarea) {\n    const beforeSelection = textarea.value.slice(0, textarea.selectionStart);\n    const afterSelection = textarea.value.slice(textarea.selectionEnd);\n    const breaksBefore = beforeSelection.match(/\\n*$/);\n    const breaksAfter = afterSelection.match(/^\\n*/);\n    const newlinesBeforeSelection = breaksBefore ? breaksBefore[0].length : 0;\n    const newlinesAfterSelection = breaksAfter ? breaksAfter[0].length : 0;\n    let newlinesToAppend;\n    let newlinesToPrepend;\n    if (beforeSelection.match(/\\S/) && newlinesBeforeSelection < 2) {\n        newlinesToAppend = repeat('\\n', 2 - newlinesBeforeSelection);\n    }\n    if (afterSelection.match(/\\S/) && newlinesAfterSelection < 2) {\n        newlinesToPrepend = repeat('\\n', 2 - newlinesAfterSelection);\n    }\n    if (newlinesToAppend == null) {\n        newlinesToAppend = '';\n    }\n    if (newlinesToPrepend == null) {\n        newlinesToPrepend = '';\n    }\n    return { newlinesToAppend, newlinesToPrepend };\n}\nfunction blockStyle(textarea, arg) {\n    let newlinesToAppend;\n    let newlinesToPrepend;\n    const { prefix, suffix, blockPrefix, blockSuffix, replaceNext, prefixSpace, scanFor, surroundWithNewlines } = arg;\n    const originalSelectionStart = textarea.selectionStart;\n    const originalSelectionEnd = textarea.selectionEnd;\n    let selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let prefixToUse = isMultipleLines(selectedText) && blockPrefix.length > 0 ? `${blockPrefix}\\n` : prefix;\n    let suffixToUse = isMultipleLines(selectedText) && blockSuffix.length > 0 ? `\\n${blockSuffix}` : suffix;\n    if (prefixSpace) {\n        const beforeSelection = textarea.value[textarea.selectionStart - 1];\n        if (textarea.selectionStart !== 0 && beforeSelection != null && !beforeSelection.match(/\\s/)) {\n            prefixToUse = ` ${prefixToUse}`;\n        }\n    }\n    selectedText = expandSelectedText(textarea, prefixToUse, suffixToUse, arg.multiline);\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    const hasReplaceNext = replaceNext.length > 0 && suffixToUse.indexOf(replaceNext) > -1 && selectedText.length > 0;\n    if (surroundWithNewlines) {\n        const ref = newlinesToSurroundSelectedText(textarea);\n        newlinesToAppend = ref.newlinesToAppend;\n        newlinesToPrepend = ref.newlinesToPrepend;\n        prefixToUse = newlinesToAppend + prefix;\n        suffixToUse += newlinesToPrepend;\n    }\n    if (selectedText.startsWith(prefixToUse) && selectedText.endsWith(suffixToUse)) {\n        const replacementText = selectedText.slice(prefixToUse.length, selectedText.length - suffixToUse.length);\n        if (originalSelectionStart === originalSelectionEnd) {\n            let position = originalSelectionStart - prefixToUse.length;\n            position = Math.max(position, selectionStart);\n            position = Math.min(position, selectionStart + replacementText.length);\n            selectionStart = selectionEnd = position;\n        }\n        else {\n            selectionEnd = selectionStart + replacementText.length;\n        }\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else if (!hasReplaceNext) {\n        let replacementText = prefixToUse + selectedText + suffixToUse;\n        selectionStart = originalSelectionStart + prefixToUse.length;\n        selectionEnd = originalSelectionEnd + prefixToUse.length;\n        const whitespaceEdges = selectedText.match(/^\\s*|\\s*$/g);\n        if (arg.trimFirst && whitespaceEdges) {\n            const leadingWhitespace = whitespaceEdges[0] || '';\n            const trailingWhitespace = whitespaceEdges[1] || '';\n            replacementText = leadingWhitespace + prefixToUse + selectedText.trim() + suffixToUse + trailingWhitespace;\n            selectionStart += leadingWhitespace.length;\n            selectionEnd -= trailingWhitespace.length;\n        }\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else if (scanFor.length > 0 && selectedText.match(scanFor)) {\n        suffixToUse = suffixToUse.replace(replaceNext, selectedText);\n        const replacementText = prefixToUse + suffixToUse;\n        selectionStart = selectionEnd = selectionStart + prefixToUse.length;\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n    else {\n        const replacementText = prefixToUse + selectedText + suffixToUse;\n        selectionStart = selectionStart + prefixToUse.length + selectedText.length + suffixToUse.indexOf(replaceNext);\n        selectionEnd = selectionStart + replaceNext.length;\n        return { text: replacementText, selectionStart, selectionEnd };\n    }\n}\nfunction multilineStyle(textarea, arg) {\n    const { prefix, suffix, surroundWithNewlines } = arg;\n    let text = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    const lines = text.split('\\n');\n    const undoStyle = lines.every(line => line.startsWith(prefix) && line.endsWith(suffix));\n    if (undoStyle) {\n        text = lines.map(line => line.slice(prefix.length, line.length - suffix.length)).join('\\n');\n        selectionEnd = selectionStart + text.length;\n    }\n    else {\n        text = lines.map(line => prefix + line + suffix).join('\\n');\n        if (surroundWithNewlines) {\n            const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n            selectionStart += newlinesToAppend.length;\n            selectionEnd = selectionStart + text.length;\n            text = newlinesToAppend + text + newlinesToPrepend;\n        }\n    }\n    return { text, selectionStart, selectionEnd };\n}\nfunction undoOrderedListStyle(text) {\n    const lines = text.split('\\n');\n    const orderedListRegex = /^\\d+\\.\\s+/;\n    const shouldUndoOrderedList = lines.every(line => orderedListRegex.test(line));\n    let result = lines;\n    if (shouldUndoOrderedList) {\n        result = lines.map(line => line.replace(orderedListRegex, ''));\n    }\n    return {\n        text: result.join('\\n'),\n        processed: shouldUndoOrderedList\n    };\n}\nfunction undoUnorderedListStyle(text) {\n    const lines = text.split('\\n');\n    const unorderedListPrefix = '- ';\n    const shouldUndoUnorderedList = lines.every(line => line.startsWith(unorderedListPrefix));\n    let result = lines;\n    if (shouldUndoUnorderedList) {\n        result = lines.map(line => line.slice(unorderedListPrefix.length, line.length));\n    }\n    return {\n        text: result.join('\\n'),\n        processed: shouldUndoUnorderedList\n    };\n}\nfunction makePrefix(index, unorderedList) {\n    if (unorderedList) {\n        return '- ';\n    }\n    else {\n        return `${index + 1}. `;\n    }\n}\nfunction clearExistingListStyle(style, selectedText) {\n    let undoResultOpositeList;\n    let undoResult;\n    let pristineText;\n    if (style.orderedList) {\n        undoResult = undoOrderedListStyle(selectedText);\n        undoResultOpositeList = undoUnorderedListStyle(undoResult.text);\n        pristineText = undoResultOpositeList.text;\n    }\n    else {\n        undoResult = undoUnorderedListStyle(selectedText);\n        undoResultOpositeList = undoOrderedListStyle(undoResult.text);\n        pristineText = undoResultOpositeList.text;\n    }\n    return [undoResult, undoResultOpositeList, pristineText];\n}\nfunction listStyle(textarea, style) {\n    const noInitialSelection = textarea.selectionStart === textarea.selectionEnd;\n    let selectionStart = textarea.selectionStart;\n    let selectionEnd = textarea.selectionEnd;\n    expandSelectionToLine(textarea);\n    const selectedText = textarea.value.slice(textarea.selectionStart, textarea.selectionEnd);\n    const [undoResult, undoResultOpositeList, pristineText] = clearExistingListStyle(style, selectedText);\n    const prefixedLines = pristineText.split('\\n').map((value, index) => {\n        return `${makePrefix(index, style.unorderedList)}${value}`;\n    });\n    const totalPrefixLength = prefixedLines.reduce((previousValue, _currentValue, currentIndex) => {\n        return previousValue + makePrefix(currentIndex, style.unorderedList).length;\n    }, 0);\n    const totalPrefixLengthOpositeList = prefixedLines.reduce((previousValue, _currentValue, currentIndex) => {\n        return previousValue + makePrefix(currentIndex, !style.unorderedList).length;\n    }, 0);\n    if (undoResult.processed) {\n        if (noInitialSelection) {\n            selectionStart = Math.max(selectionStart - makePrefix(0, style.unorderedList).length, 0);\n            selectionEnd = selectionStart;\n        }\n        else {\n            selectionStart = textarea.selectionStart;\n            selectionEnd = textarea.selectionEnd - totalPrefixLength;\n        }\n        return { text: pristineText, selectionStart, selectionEnd };\n    }\n    const { newlinesToAppend, newlinesToPrepend } = newlinesToSurroundSelectedText(textarea);\n    const text = newlinesToAppend + prefixedLines.join('\\n') + newlinesToPrepend;\n    if (noInitialSelection) {\n        selectionStart = Math.max(selectionStart + makePrefix(0, style.unorderedList).length + newlinesToAppend.length, 0);\n        selectionEnd = selectionStart;\n    }\n    else {\n        if (undoResultOpositeList.processed) {\n            selectionStart = Math.max(textarea.selectionStart + newlinesToAppend.length, 0);\n            selectionEnd = textarea.selectionEnd + newlinesToAppend.length + totalPrefixLength - totalPrefixLengthOpositeList;\n        }\n        else {\n            selectionStart = Math.max(textarea.selectionStart + newlinesToAppend.length, 0);\n            selectionEnd = textarea.selectionEnd + newlinesToAppend.length + totalPrefixLength;\n        }\n    }\n    return { text, selectionStart, selectionEnd };\n}\nfunction applyStyle(button, stylesToApply) {\n    const toolbar = button.closest('markdown-toolbar');\n    if (!(toolbar instanceof MarkdownToolbarElement))\n        return;\n    const defaults = {\n        prefix: '',\n        suffix: '',\n        blockPrefix: '',\n        blockSuffix: '',\n        multiline: false,\n        replaceNext: '',\n        prefixSpace: false,\n        scanFor: '',\n        surroundWithNewlines: false,\n        orderedList: false,\n        unorderedList: false,\n        trimFirst: false\n    };\n    const style = Object.assign(Object.assign({}, defaults), stylesToApply);\n    const field = toolbar.field;\n    if (field) {\n        field.focus();\n        styleSelectedText(field, style);\n    }\n}\nexport default MarkdownToolbarElement;\n"],"names":["alternateOrders","alternateAlignments","start","end","center","getAnchoredPosition","floatingElement","anchorElement","settings","parentElement","getPositionedParent","element","isOnTopLayer","_a","tagName","matches","test","document","body","showPopover","toString","_b","parentNode","HTMLElement","getComputedStyle","position","clippingRect","getClippingRect","Element","parentNodeStyle","overflow","clippingNode","elemRect","getBoundingClientRect","elemStyle","borderTop","borderLeft","borderRight","borderBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","map","v","parseInt","top","left","width","height","Math","max","window","innerHeight","Infinity","parentElementStyle","parentElementRect","pureCalculateAnchoredPosition","viewportRect","relativePosition","floatingRect","anchorRect","side","align","allowOutOfBounds","anchorOffset","alignmentOffset","relativeViewportRect","pos","calculatePosition","anchorSide","anchorAlign","currentPos","alternateOrder","positionAttempt","prevSide","length","containerDimensions","elementDimensions","nextSide","alternateAlignment","alignmentAttempt","prevAlign","nextAlign","Object","assign","getDefaultSettings","_c","_d","_e","positionDefaults","startsWith","anchorPosition","anchorRight","anchorBottom","SCORE_MIN","SCORE_MAX","compute","needle","haystack","D","M","n","m","lower_needle","toLowerCase","lower_haystack","match_bonus","precompute_bonus","last_ch","i","s","ch","islower","toUpperCase","prev_score","gap_score","j","score","positions","match_required","hasMatch","l","indexOf","Combobox","constructor","input","list","tabInsertsSuggestions","firstOptionSelectionMode","scrollIntoViewOptions","block","inline","isComposing","id","random","slice","ctrlBindings","navigator","userAgent","match","keyboardEventHandler","event","keyboardBindings","combobox","shiftKey","metaKey","altKey","ctrlKey","key","commit","preventDefault","clearSelection","navigate","resetSelection","compositionEventHandler","trackComposition","type","getElementById","getAttribute","inputHandler","bind","setAttribute","destroy","stop","removeAttribute","addEventListener","commitWithElement","removeEventListener","indicateDefaultOption","Array","from","querySelectorAll","filter","visible","indexDiff","focusEl","els","focusIndex","focus","indexOfItem","newIndex","target","el","fireSelectEvent","dispatchEvent","Event","bubbles","scrollIntoView","closest","fireCommitEvent","detail","CustomEvent","querySelector","click","hidden","HTMLInputElement","offsetWidth","offsetHeight","supported","Set","isModifiable","emoji","has","applyTone","sequence","tone","sequenceWithToneRemoved","removeTone","modifier","toneModifier","split","tint","join","isTone","codePointAt","points","p","splice","String","fromCodePoint","point","GEmojiElement","image","firstElementChild","HTMLImageElement","value","modifiers","connectedCallback","emojiSupportFunction","src","textContent","emojiImage","createElement","className","alt","appendChild","hasAttribute","updateTone","observedAttributes","attributeChangedCallback","name","tones","x","applyTones","t","shift","onWindows7","onWindows8","onWindows81","onFreeBSD","onLinux","customElements","get","define","_MarkdownHeaderButtonElement_instances","_MarkdownHeaderButtonElement_setLevelStyle","__classPrivateFieldGet","receiver","state","kind","f","call","buttonSelectors","getButtons","toolbar","button","push","keydown","fn","styles","WeakMap","manualStyles","prefix","bold","suffix","trimFirst","italic","quote","multiline","surroundWithNewlines","code","blockPrefix","blockSuffix","link","replaceNext","scanFor","unorderedList","orderedList","mention","prefixSpace","ref","strikethrough","MarkdownButtonElement","apply","style","applyStyle","MarkdownHeaderButtonElement","arguments","add","level","oldValue","newValue","WeakSet","repeat","set","MarkdownBoldButtonElement","MarkdownItalicButtonElement","MarkdownQuoteButtonElement","MarkdownCodeButtonElement","MarkdownLinkButtonElement","MarkdownImageButtonElement","MarkdownUnorderedListButtonElement","MarkdownOrderedListButtonElement","MarkdownTaskListButtonElement","MarkdownMentionButtonElement","MarkdownRefButtonElement","MarkdownStrikethroughButtonElement","applyFromToolbar","currentTarget","mdButton","setFocusManagement","focusKeydown","onToolbarFocus","once","unsetFocusManagement","MarkdownToolbarElement","disconnectedCallback","field","root","getRootNode","Document","ShadowRoot","HTMLTextAreaElement","tabindex","buttons","index","isMultipleLines","string","trim","canInsertText","newlinesToSurroundSelectedText","textarea","newlinesToAppend","newlinesToPrepend","beforeSelection","selectionStart","afterSelection","selectionEnd","breaksBefore","breaksAfter","newlinesBeforeSelection","newlinesAfterSelection","undoOrderedListStyle","text","lines","orderedListRegex","shouldUndoOrderedList","every","line","result","replace","processed","undoUnorderedListStyle","shouldUndoUnorderedList","makePrefix","stylesToApply","styleSelectedText","styleArgs","listStyle","undoResultOpositeList","undoResult","pristineText","noInitialSelection","expandSelectionToLine","counter","lineLength","selectedText","prefixedLines","totalPrefixLength","reduce","previousValue","_currentValue","currentIndex","totalPrefixLengthOpositeList","multilineStyle","arg","endsWith","blockStyle","originalSelectionStart","originalSelectionEnd","prefixToUse","suffixToUse","expandSelectedText","wordSelectionStart","wordSelectionEnd","breakpoint","expandedSelectionStart","expandedSelectionEnd","beginsWithPrefix","endsWithSuffix","hasReplaceNext","replacementText","min","whitespaceEdges","leadingWhitespace","trailingWhitespace","insertText","before","after","contentEditable","execCommand","error","e","cancelable","setSelectionRange"],"sourceRoot":""}