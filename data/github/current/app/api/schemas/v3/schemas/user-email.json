{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "id": "https://schema.github.com/v3/user-email.json",
  "title": "User Email",
  "description": "Email addresses for a GitHub user account.",
  "type": "object",
  "definitions": {
    "visibility": {
      "description": "Denotes whether an email is publically visible.",
      "type": "string",
      "enum": [
        "public",
        "private"
      ]
    },
    "emails": {
      "description": "Email addresses associated with the GitHub user account.",
      "type": "array",
      "items": {
        "type": "string",
        "example": "username@example.com",
        "minItems": 1
      },
      "example": [

      ]
    }
  },
  "links": [
    {
      "title": "Toggle primary email visibility",
      "method": "PATCH",
      "rel": "update-visibility",
      "href": "/user/email/visibility",
      "schema": {
        "properties": {
          "visibility": {
            "$ref": "#/definitions/visibility"
          }
        },
        "additionalProperties": false,
        "required": [
          "visibility"
        ],
        "type": "object"
      }
    },
    {
      "title": "Add user emails",
      "method": "POST",
      "rel": "add-emails",
      "href": "/user/emails",
      "schema": {
        "oneOf": [
          {
            "type": "object",
            "properties": {
              "emails": {
                "$ref": "#/definitions/emails"
              }
            },
            "additionalProperties": false,
            "required": [
              "emails"
            ]
          },
          {
            "type": "array",
            "items": {
              "type": "string",
              "example": "username@example.com",
              "minItems": 1
            }
          },
          {
            "type": "string"
          }
        ]
      }
    },
    {
      "title": "Delete user emails",
      "method": "DELETE",
      "rel": "delete-emails",
      "href": "/user/emails",
      "schema": {
        "oneOf": [
          {
            "type": "object",
            "properties": {
              "emails": {
                "$ref": "#/definitions/emails"
              }
            },
            "additionalProperties": false,
            "required": [
              "emails"
            ]
          },
          {
            "type": "array",
            "items": {
              "type": "string",
              "example": "username@example.com",
              "minItems": 1
            }
          },
          {
            "type": "string"
          }
        ]
      }
    }
  ]
}
