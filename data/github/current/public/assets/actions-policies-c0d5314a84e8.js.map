{"version":3,"file":"actions-policies-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/actions-policies/components/policies/Policy.tsx","ui/packages/actions-policies/types.ts","ui/packages/actions-policies/components/policies/PolicyHeader.tsx","ui/packages/actions-policies/components/policies/PolicyContent.tsx","ui/packages/actions-policies/components/policies/ActionCreatorPolicy.tsx","ui/packages/actions-policies/components/policies/NamePatternPolicy.tsx","ui/packages/actions-policies/components/PolicySelector.tsx","ui/packages/actions-policies/components/PolicySettings.tsx","ui/packages/actions-policies/ActionsPolicies.tsx","ui/packages/actions-policies/actions-policies.ts","ui/packages/react-core/deferred-registry.ts","ui/packages/react-core/react-partial-anchor.ts","ui/packages/react-core/react-partial-registry.ts","ui/packages/react-core/ReactPartialElement.tsx","ui/packages/react-core/register-partial.ts","ui/packages/react-profiling-mode/src/index.ts","ui/packages/react-core/PartialRouter.tsx","ui/packages/react-core/PartialEntry.tsx","ui/packages/react-core/ReactBaseElement.tsx"],"sourcesContent":["import type React from 'react'\nimport {PolicyIdentifier, type PolicyProps, type PolicyFormWrapper, type Index} from '../../types'\nimport {ActionCreatorPolicy} from './ActionCreatorPolicy'\nimport {NamePatternPolicy} from './NamePatternPolicy'\n\nfunction policyComponent(identifier: PolicyIdentifier): React.ComponentType<PolicyFormWrapper & Index> {\n  switch (identifier) {\n    case PolicyIdentifier.Author:\n      return ActionCreatorPolicy\n    case PolicyIdentifier.Expression:\n      return NamePatternPolicy\n  }\n}\n\nexport const Policy: React.FC<PolicyProps> = props => {\n  const {identifier, form, setPolicyForm, idx} = props\n\n  const PolicyComponent = policyComponent(identifier)\n\n  return <PolicyComponent form={form} setPolicyForm={setPolicyForm} idx={idx} />\n}\n\ntry{ PolicyComponent.displayName ||= 'PolicyComponent' } catch {}","export enum EntityType {\n  Enterprise = 'Enterprise',\n  Repo = 'Repo',\n  Organization = 'Organization',\n}\n\nexport enum PolicyIdentifier {\n  Author = 'Author',\n  Expression = 'Expression',\n}\n\nexport type PolicyProps = {\n  identifier: PolicyIdentifier\n  form: PolicyForm\n  setPolicyForm: (form: PolicyForm) => void\n  idx: number\n}\n\nexport type Entity = {\n  allowsAllActionsAndWorkflows: boolean\n  actionsDisabledByOwner: boolean\n  actionsEnabledForAllEntities: boolean\n  actionsEnabledForSelectedEntities: boolean\n  actionsDisabled: boolean\n  dotcomConnectionRequired: boolean\n  allowsGithubOwnedActions: boolean | null\n  specifiedActions: boolean | null\n  allowsVerifiedActions: boolean | null\n  highestLevelAllowlist: Entity | null\n  patterns: string[] | null\n}\n\nexport type PolicyForm = {\n  allowCreatedByGitHub: boolean\n  allowVerifiedCreator: boolean\n  specifiedActionsDisabled: boolean\n  patterns: string\n  noPolicyOrSelectedActions: ActionsAndWorkflowsAllowedSetting\n}\n\nexport type PolicyFormWrapper = {\n  form: PolicyForm\n  setPolicyForm: (form: PolicyForm) => void\n}\n\nexport type Index = {\n  idx: number\n}\n\nexport interface ActionsPoliciesProps {\n  entity: Entity\n  type: EntityType\n}\n\nexport const NO_POLICY = 'none'\nexport const SELECT_ACTIONS = 'select'\n\nexport type ActionsAndWorkflowsAllowedSetting = typeof NO_POLICY | typeof SELECT_ACTIONS\n","import {Box, Text} from '@primer/react'\nimport type {PropsWithChildren} from 'react'\n\nconst PolicyHeaderSx = {\n  borderBottomWidth: 0,\n  borderRightWidth: 0,\n  borderLeftWidth: 0,\n  borderStyle: 'solid',\n  borderColor: 'border.default',\n  paddingY: 2,\n  paddingX: 4,\n}\n\nexport function PolicyHeader({\n  title,\n  idx,\n  description,\n  children,\n}: PropsWithChildren<{title: string; idx: number; description?: string}>) {\n  return (\n    <Box sx={{flexGrow: 1}}>\n      <Box sx={{...PolicyHeaderSx, borderTopWidth: idx === 0 ? 0 : 1}}>\n        <Text sx={{fontWeight: 'bold'}}>{title}</Text>\n        {description && (\n          <Text as=\"p\" sx={{color: 'fg.muted', mb: 0}}>\n            {description}\n          </Text>\n        )}\n      </Box>\n      {children}\n    </Box>\n  )\n}\n\ntry{ PolicyHeader.displayName ||= 'PolicyHeader' } catch {}","import {Box} from '@primer/react'\nimport type {ReactNode} from 'react'\n\nconst PolicyContentSx = {\n  backgroundColor: 'canvas.default',\n  borderBottomWidth: 0,\n  borderTopWidth: 1,\n  borderRightWidth: 0,\n  borderLeftWidth: 0,\n  borderStyle: 'solid',\n  borderColor: 'border.default',\n  paddingY: 4,\n  paddingX: 4,\n  flexGrow: 1,\n}\n\nexport function PolicyContent({children}: {children: ReactNode}) {\n  return (\n    <Box as=\"form\" sx={PolicyContentSx}>\n      {children}\n    </Box>\n  )\n}\n\ntry{ PolicyContent.displayName ||= 'PolicyContent' } catch {}","import {Checkbox, FormControl} from '@primer/react'\nimport type {Index, PolicyFormWrapper} from '../../types'\nimport {PolicyHeader} from './PolicyHeader'\nimport {PolicyContent} from './PolicyContent'\n\nfunction PolicyOptionCheckbox({\n  title,\n  description,\n  checked,\n  disabled,\n  setChecked,\n}: {\n  title: string\n  description: string\n  checked: boolean\n  disabled?: boolean\n  setChecked: (checked: boolean) => void\n}) {\n  return (\n    <PolicyContent>\n      <FormControl>\n        <Checkbox checked={checked} onChange={() => setChecked(!checked)} disabled={disabled} />\n        <FormControl.Label>{title}</FormControl.Label>\n        <FormControl.Caption>{description}</FormControl.Caption>\n      </FormControl>\n    </PolicyContent>\n  )\n}\n\nexport const ActionCreatorPolicy: React.FC<PolicyFormWrapper & Index> = ({form, setPolicyForm, idx}) => {\n  const {allowCreatedByGitHub, allowVerifiedCreator, specifiedActionsDisabled} = form\n  return (\n    <PolicyHeader title=\"Filter by author\" idx={idx}>\n      <PolicyOptionCheckbox\n        title=\"Created by GitHub\"\n        description=\"Allow actions created by GitHub under the actions and github organizations.\"\n        checked={allowCreatedByGitHub}\n        disabled={specifiedActionsDisabled}\n        setChecked={() => {\n          setPolicyForm({\n            ...form,\n            allowCreatedByGitHub: !allowCreatedByGitHub,\n          })\n        }}\n      />\n      <PolicyOptionCheckbox\n        title=\"Verified creator\"\n        description=\"Allow actions with the verified badge.\"\n        checked={allowVerifiedCreator}\n        disabled={specifiedActionsDisabled}\n        setChecked={() => {\n          setPolicyForm({\n            ...form,\n            allowVerifiedCreator: !allowVerifiedCreator,\n          })\n        }}\n      />\n    </PolicyHeader>\n  )\n}\n\ntry{ PolicyOptionCheckbox.displayName ||= 'PolicyOptionCheckbox' } catch {}\ntry{ ActionCreatorPolicy.displayName ||= 'ActionCreatorPolicy' } catch {}","import {FormControl, Textarea, Text, Box} from '@primer/react'\nimport {PolicyHeader} from './PolicyHeader'\nimport {PolicyContent} from './PolicyContent'\nimport type {Index, PolicyFormWrapper} from '../../types'\n\nconst LINES: string[] = [\n  'Action examples: octo-org/octo-repo@*, octo-org/octo-repo@v2',\n  'Reusable workflow examples: octo-org/octo-repo/.github/workflows/build.yml@main',\n  'Entire organization or repository examples: octo-org/*, octo-org/octo-repo/*',\n]\n\nexport const NamePatternPolicy: React.FC<PolicyFormWrapper & Index> = ({form, setPolicyForm, idx}) => {\n  return (\n    <PolicyHeader\n      title=\"Allow specified actions and reusable workflows\"\n      idx={idx}\n      description=\"Use patterns to target allowed actions or reusable workflows in this policy.\"\n    >\n      <PolicyContent>\n        <FormControl>\n          <Textarea\n            value={form.patterns}\n            block\n            resize=\"vertical\"\n            onChange={e => {\n              setPolicyForm({\n                ...form,\n                patterns: e.target.value,\n              })\n            }}\n          />\n          <FormControl.Label>Workflow patterns</FormControl.Label>\n          <FormControl.Caption>\n            <span>\n              Enter a comma-separated list of actions and reusable workflow patterns. Wildcards, tags, and SHAs are\n              allowed.\n            </span>\n          </FormControl.Caption>\n        </FormControl>\n        <Box sx={{marginTop: 2}}>\n          {LINES.map((line, lineIdx) => {\n            return (\n              <Text key={lineIdx} as=\"p\" sx={{color: 'fg.muted', fontSize: '12px', marginBottom: 0}}>\n                {line}\n              </Text>\n            )\n          })}\n        </Box>\n      </PolicyContent>\n    </PolicyHeader>\n  )\n}\n\ntry{ NamePatternPolicy.displayName ||= 'NamePatternPolicy' } catch {}","import type React from 'react'\nimport {useState} from 'react'\nimport {type ActionsAndWorkflowsAllowedSetting, type PolicyFormWrapper, NO_POLICY, SELECT_ACTIONS} from '../types'\nimport {ActionList, ActionMenu} from '@primer/react'\n\nconst POLICY_TO_DISPLAY_NAME = new Map<ActionsAndWorkflowsAllowedSetting, string>([\n  [NO_POLICY, 'No policy'],\n  [SELECT_ACTIONS, 'Select actions'],\n])\n\nexport const PolicySelector: React.FC<PolicyFormWrapper> = ({form, setPolicyForm}) => {\n  const {noPolicyOrSelectedActions} = form\n  const [menuOpen, setMenuOpen] = useState(false)\n\n  return (\n    <ActionMenu aria-labelledby=\"actions-policy-dropdown\" open={menuOpen} onOpenChange={value => setMenuOpen(value)}>\n      <ActionMenu.Button>{POLICY_TO_DISPLAY_NAME.get(noPolicyOrSelectedActions)}</ActionMenu.Button>\n      <ActionMenu.Overlay width=\"medium\">\n        <ActionList selectionVariant=\"single\" variant=\"full\" showDividers>\n          <ActionList.Item\n            sx={{'&:hover': {borderBottomLeftRadius: 0, borderBottomRightRadius: 0}}}\n            selected={noPolicyOrSelectedActions === NO_POLICY}\n            onSelect={() =>\n              setPolicyForm({\n                ...form,\n                noPolicyOrSelectedActions: NO_POLICY,\n              })\n            }\n          >\n            No policy\n            <ActionList.Description variant=\"block\">\n              All actions and reusable workflows in the enterprise and GitHub.com are searchable and permitted in the\n              enterprise.\n            </ActionList.Description>\n          </ActionList.Item>\n          <ActionList.Divider sx={{margin: 0}} />\n          <ActionList.Item\n            sx={{'&:hover': {borderTopLeftRadius: 0, borderTopRightRadius: 0}}}\n            selected={noPolicyOrSelectedActions === SELECT_ACTIONS}\n            onSelect={() =>\n              setPolicyForm({\n                ...form,\n                noPolicyOrSelectedActions: SELECT_ACTIONS,\n              })\n            }\n          >\n            Select actions\n            <ActionList.Description variant=\"block\">\n              Actions created in the enterprise can be used, along with select non-enterprise actions and reusable\n              workflows.\n            </ActionList.Description>\n          </ActionList.Item>\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ POLICY_TO_DISPLAY_NAME.displayName ||= 'POLICY_TO_DISPLAY_NAME' } catch {}\ntry{ PolicySelector.displayName ||= 'PolicySelector' } catch {}","import {Box, Text, Button} from '@primer/react'\nimport {\n  PolicyIdentifier,\n  type ActionsPoliciesProps,\n  type EntityType,\n  type Entity,\n  type PolicyForm,\n  NO_POLICY,\n  SELECT_ACTIONS,\n} from '../types'\nimport {Policy} from './policies/Policy'\nimport {useState} from 'react'\nimport {PolicySelector} from './PolicySelector'\n\nconst POLICIES_TO_INCLUDE: readonly PolicyIdentifier[] = [PolicyIdentifier.Author, PolicyIdentifier.Expression]\n\nconst PolicyContainerSx = {\n  borderWidth: 1,\n  borderStyle: 'solid',\n  borderTopRightRadius: '6px',\n  borderTopLeftRadius: '6px',\n  borderColor: 'border.default',\n  backgroundColor: 'canvas.subtle',\n}\n\nfunction getPolicyFormFromEntity(entity: Entity): PolicyForm {\n  const highestLevelAllowlistSpecifiesActions =\n    !!entity.highestLevelAllowlist && entity.highestLevelAllowlist.specifiedActions\n\n  return {\n    allowCreatedByGitHub: highestLevelAllowlistSpecifiesActions\n      ? !!entity.highestLevelAllowlist?.allowsGithubOwnedActions\n      : !!entity.allowsGithubOwnedActions,\n    allowVerifiedCreator: highestLevelAllowlistSpecifiesActions\n      ? !!entity.highestLevelAllowlist?.allowsVerifiedActions\n      : !!entity.allowsVerifiedActions,\n    specifiedActionsDisabled: !!highestLevelAllowlistSpecifiesActions,\n    noPolicyOrSelectedActions: entity.allowsAllActionsAndWorkflows ? NO_POLICY : SELECT_ACTIONS,\n    patterns: (\n      (highestLevelAllowlistSpecifiesActions ? entity.highestLevelAllowlist?.patterns : entity.patterns) ?? []\n    ).join(','),\n  }\n}\n\nfunction PolicySettingsHeading({type}: {type: EntityType}) {\n  const subheading = `Choose which actions and reusable workflows from the enterprise or GitHub.com are searchable and permitted in\n  the ${type}.`\n\n  return (\n    <div>\n      <Text as=\"h3\" sx={{fontWeight: 'normal'}}>\n        Allowed actions\n      </Text>\n      <Text as=\"p\" sx={{marginBottom: 0}}>\n        {subheading}\n      </Text>\n    </div>\n  )\n}\n\nexport function PolicySettings({entity, type}: ActionsPoliciesProps) {\n  const initialForm = getPolicyFormFromEntity(entity)\n\n  const [policyForm, setPolicyForm] = useState<PolicyForm>(initialForm)\n\n  return (\n    <Box sx={{marginTop: 4, display: 'flex', flexDirection: 'column', gap: 4}}>\n      <PolicySettingsHeading type={type} />\n      <Box sx={{alignSelf: 'start'}}>\n        <PolicySelector form={policyForm} setPolicyForm={setPolicyForm} />\n      </Box>\n      {policyForm.noPolicyOrSelectedActions === 'select' && (\n        <Box sx={PolicyContainerSx}>\n          {POLICIES_TO_INCLUDE.map((identifier, idx) => (\n            <Policy\n              key={identifier}\n              identifier={identifier}\n              form={policyForm}\n              setPolicyForm={setPolicyForm}\n              idx={idx}\n            />\n          ))}\n        </Box>\n      )}\n      <Button sx={{alignSelf: 'start'}}>Save</Button>\n    </Box>\n  )\n}\n\ntry{ PolicySettingsHeading.displayName ||= 'PolicySettingsHeading' } catch {}\ntry{ PolicySettings.displayName ||= 'PolicySettings' } catch {}","import {PolicySettings} from './components/PolicySettings'\nimport type {ActionsPoliciesProps} from './types'\n\nexport function ActionsPolicies({entity, type}: ActionsPoliciesProps) {\n  return <PolicySettings entity={entity} type={type} />\n}\n\ntry{ ActionsPolicies.displayName ||= 'ActionsPolicies' } catch {}","import {registerReactPartial} from '@github-ui/react-core/register-partial'\nimport {ActionsPolicies} from './ActionsPolicies'\n\nregisterReactPartial('actions-policies', {\n  Component: ActionsPolicies,\n})\n","export class DeferredRegistry<T> {\n  private registrationEntries: Record<\n    string,\n    {\n      promise: Promise<T>\n      resolve?: (r: T) => void\n    }\n  > = {}\n\n  public register(name: string, registration: T) {\n    const entry = this.registrationEntries[name]\n    if (entry) {\n      entry.resolve?.(registration)\n    } else {\n      this.registrationEntries[name] = {\n        promise: Promise.resolve(registration),\n      }\n    }\n  }\n\n  public getRegistration(name: string): Promise<T> {\n    this.registrationEntries[name] ||= new Deferred()\n    return this.registrationEntries[name].promise\n  }\n}\n\nclass Deferred<T> {\n  declare promise\n  declare resolve: (r: T) => void\n\n  constructor() {\n    this.promise = new Promise<T>(resolve => {\n      this.resolve = resolve\n    })\n  }\n}\n","import type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\nimport {useCallback, useEffect, useRef, useState} from 'react'\n\ninterface ReactPartialAnchor {\n  /**\n   * DO NOT USE THIS PROPERTY DIRECTLY. It is meant to be used with useExternalAnchor and useOnAnchorClick\n   */\n  __wrapperElement: ReactPartialAnchorElement\n}\n\nexport interface ReactPartialAnchorProps {\n  reactPartialAnchor?: ReactPartialAnchor\n}\n\nexport function usePartialAnchorProps(\n  anchorElement: ReactPartialAnchorElement | undefined | null,\n): ReactPartialAnchorProps {\n  useEffect(() => {\n    const anchor = anchorElement?.anchor\n\n    if (!anchor) {\n      return\n    }\n\n    if ('disabled' in anchor) {\n      anchor.disabled = false\n    }\n    anchor.classList.remove('cursor-wait')\n  }, [anchorElement])\n\n  if (!anchorElement) {\n    return {}\n  }\n\n  return {\n    reactPartialAnchor: {\n      __wrapperElement: anchorElement,\n    },\n  }\n}\n\nexport function useExternalAnchor(reactPartialAnchor: ReactPartialAnchor) {\n  const ref = useRef(reactPartialAnchor.__wrapperElement.anchor || null)\n  const [open, setOpen] = useState(false)\n\n  const onClick = useCallback(() => {\n    // toggle the open state when clicked\n    setOpen(!open)\n  }, [open, setOpen])\n\n  useEffect(() => {\n    if (!ref.current) return\n\n    ref.current.setAttribute('aria-expanded', open.toString())\n    ref.current.setAttribute('aria-haspopup', 'true')\n  }, [ref, open])\n\n  useOnAnchorClick(reactPartialAnchor, onClick)\n\n  return {\n    ref,\n    open,\n    setOpen,\n  }\n}\n\nexport function useOnAnchorClick(reactPartialAnchor: ReactPartialAnchor, onClick: (event: MouseEvent) => void) {\n  const ref = useRef(reactPartialAnchor.__wrapperElement.anchor)\n\n  useEffect(() => {\n    const element = ref.current\n    if (!element) {\n      return\n    }\n\n    element.addEventListener('click', onClick)\n    return () => element.removeEventListener('click', onClick)\n  }, [ref, onClick])\n}\n\nexport type PropsWithPartialAnchor<T> = T & Required<ReactPartialAnchorProps>\n","import {DeferredRegistry} from './deferred-registry'\n\nexport interface PartialRegistration {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  Component: React.ComponentType<any>\n}\n\nexport const partialRegistry = new DeferredRegistry<PartialRegistration>()\n\nexport function getReactPartial(appName: string) {\n  return partialRegistry.getRegistration(appName)\n}\n","import {controller} from '@github/catalyst'\nimport {getReactPartial} from './react-partial-registry'\nimport type {EmbeddedPartialData} from './embedded-data-types'\nimport {ReactBaseElement} from './ReactBaseElement'\nimport {PartialEntry} from './PartialEntry'\nimport type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\n\n// What is this silliness? Is it react or a web component?!\n// It's a web component we use to bootstrap react partials within the monolith.\n@controller\nclass ReactPartialElement extends ReactBaseElement<EmbeddedPartialData> {\n  nameAttribute = 'partial-name'\n\n  async getReactNode(embeddedData: EmbeddedPartialData) {\n    const {Component} = await getReactPartial(this.name)\n\n    // Some React Partials will be wrapped in a react-partial-anchor, which is used to conditionally render the Partial\n    const anchorElement = this.closest<ReactPartialAnchorElement>('react-partial-anchor')\n\n    return (\n      <PartialEntry\n        partialName={this.name}\n        embeddedData={embeddedData}\n        Component={Component}\n        wasServerRendered={this.hasSSRContent}\n        ssrError={this.ssrError}\n        anchorElement={anchorElement}\n      />\n    )\n  }\n}\n","import {partialRegistry, type PartialRegistration} from './react-partial-registry'\n// Import the web component to get it registered on the window\nimport './ReactPartialElement'\n\n// NOTE: if the signature of this method changes, also update the react-partial-name ESLint rule\n// /workspaces/github/ui/packages/eslint-plugin-github-monorepo/rules/react-partial-name.js\nexport function registerReactPartial(name: string, registration: PartialRegistration) {\n  partialRegistry.register(name, registration)\n}\n","import safeStorage from '@github-ui/safe-storage'\n\nconst {getItem, setItem, removeItem} = safeStorage('localStorage')\nconst REACT_PROFILING_ENABLED = 'REACT_PROFILING_ENABLED'\n\ninterface ReactProfilingModeMethods {\n  enable: () => void\n  disable: () => void\n  isEnabled: () => boolean\n}\n\nconst ReactProfilingMode: ReactProfilingModeMethods = {\n  enable: () => setItem(REACT_PROFILING_ENABLED, 'true'),\n  disable: () => removeItem(REACT_PROFILING_ENABLED),\n  isEnabled: () => !!getItem(REACT_PROFILING_ENABLED),\n}\n\nexport default ReactProfilingMode\n","import {useState} from 'react'\nimport type {BrowserHistory, MemoryHistory} from '@remix-run/router'\nimport {Router} from 'react-router-dom'\n// eslint-disable-next-line no-restricted-imports\nimport {useHydratedEffect} from '@github-ui/use-hydrated-effect'\n\ntype Props = {\n  children: React.ReactNode\n  history: BrowserHistory | MemoryHistory\n}\n\nexport function PartialRouter({children, history}: Props) {\n  const [state, setState] = useState({\n    location: history.location,\n  })\n\n  useHydratedEffect(() => history.listen(setState), [history])\n\n  return (\n    <Router location={state.location} navigator={history}>\n      {children}\n    </Router>\n  )\n}\n\ntry{ PartialRouter.displayName ||= 'PartialRouter' } catch {}","// Think of this as the entry point into the framework\nimport React from 'react'\nimport type {EmbeddedPartialData} from './embedded-data-types'\nimport {BaseProviders} from './BaseProviders'\nimport type {BrowserHistory} from '@remix-run/router'\nimport {createMemoryHistory} from '@remix-run/router'\nimport {AppContextProvider} from './AppContextProvider'\nimport {PartialRouter} from './PartialRouter'\nimport {CommonElements} from './CommonElements'\nimport {createBrowserHistory} from './create-browser-history'\nimport type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\nimport {usePartialAnchorProps} from './react-partial-anchor'\n\ninterface Props {\n  partialName: string\n  embeddedData: EmbeddedPartialData\n  Component: React.ComponentType\n  wasServerRendered: boolean\n  ssrError?: HTMLScriptElement\n  anchorElement?: ReactPartialAnchorElement | null\n}\n\nexport function PartialEntry({\n  partialName,\n  embeddedData,\n  Component,\n  wasServerRendered,\n  ssrError,\n  anchorElement,\n}: Props) {\n  // Create a ref to track the browser history:\n  const historyRef = React.useRef<BrowserHistory>()\n  const window = globalThis.window as Window | undefined\n\n  // For linking to work, we can just pass a dummy pathname here. We may consider plumbing the actual path in\n  if (!historyRef.current) {\n    historyRef.current = !window\n      ? createMemoryHistory({initialEntries: [{pathname: '/'}]})\n      : createBrowserHistory({window})\n  }\n  const history = historyRef.current\n  const partialAnchorProps = usePartialAnchorProps(anchorElement)\n\n  // Wrap the partial in an AppContextProvider and static Router so that react-core links\n  // will be functional.\n  return (\n    <BaseProviders appName={partialName} wasServerRendered={wasServerRendered}>\n      <AppContextProvider history={history} routes={[]}>\n        <PartialRouter history={history}>\n          <Component {...embeddedData.props} {...(partialAnchorProps as object)} />\n          <CommonElements ssrError={ssrError} />\n        </PartialRouter>\n      </AppContextProvider>\n    </BaseProviders>\n  )\n}\n\ntry{ PartialEntry.displayName ||= 'PartialEntry' } catch {}","import {target} from '@github/catalyst'\nimport {createRoot, hydrateRoot} from 'react-dom/client'\nimport type {createRoot as createRootType, hydrateRoot as hydrateRootType, Root} from 'react-dom/client'\nimport React from 'react'\nimport ReactProfilingMode from '@github-ui/react-profiling-mode'\nimport {EXPECTED_ERRORS} from './expected-errors'\nimport {sendStats} from '@github-ui/stats'\n\ntype ReactDOM = {\n  createRoot: typeof createRootType\n  hydrateRoot: typeof hydrateRootType\n}\n\nconst REACT_INVARIANT_ERROR_REGEX = /Minified React error #(?<invariant>\\d+)/\n\nexport abstract class ReactBaseElement<T> extends HTMLElement {\n  @target embeddedData: HTMLScriptElement | undefined\n  @target ssrError: HTMLScriptElement | undefined\n  @target reactRoot: HTMLElement | undefined\n  private root: Root | undefined\n\n  abstract nameAttribute: string\n  abstract getReactNode(embeddedData: T): Promise<React.ReactNode>\n\n  protected get name() {\n    return this.getAttribute(this.nameAttribute) as string\n  }\n\n  private get embeddedDataText() {\n    const text = this.embeddedData?.textContent\n\n    if (!text) {\n      throw new Error(`No embedded data provided for react element ${this.name}`)\n    }\n\n    return text\n  }\n\n  get hasSSRContent() {\n    return this.getAttribute('data-ssr') === 'true'\n  }\n\n  connectedCallback() {\n    this.renderReact()\n  }\n\n  disconnectedCallback() {\n    this.root?.unmount()\n    this.root = undefined\n  }\n\n  private async renderReact() {\n    if (!this.reactRoot) throw new Error('No react root provided')\n    let reactDom: ReactDOM = {\n      createRoot,\n      hydrateRoot,\n    }\n\n    // Override the react-dom import if we're in profiling mode\n    if (ReactProfilingMode.isEnabled()) {\n      reactDom = await this.getReactDomWithProfiling()\n    }\n\n    const embeddedData = JSON.parse(this.embeddedDataText) as T\n    const ssrErrorText = this.ssrError?.textContent\n    const node = await this.getReactNode(embeddedData)\n    const baseNode = <React.StrictMode>{node}</React.StrictMode>\n\n    if (ssrErrorText) {\n      this.logSSRError(ssrErrorText)\n    }\n\n    if (this.hasSSRContent) {\n      /**\n       * Styled-components automatically looks for style tags to hydrate on first page load, but will not detect them\n       * if they are added after the initial page load. This causes a hydration error because React isn't expecting\n       * a style tag within the app. To work around this, we need to manually move the style tags to the head before\n       * hydrating the app.\n       *\n       * During hydration, styled-components will create a new style tag which matches the one we moved to the head.\n       * This means that after hydration, we can safely remove the style tag we manually moved to the head.\n       */\n      const styles = this.querySelector('style[data-styled=\"true\"]')\n      if (styles) document.head.appendChild(styles)\n\n      // Hydrate the react app\n      // onRecoverableError is disabled until we have a react version with this fix in:\n      // https://github.com/facebook/react/pull/25692\n      this.root = reactDom.hydrateRoot(this.reactRoot, baseNode, {\n        onRecoverableError: error => {\n          if (!(error instanceof Error)) return\n\n          const match = REACT_INVARIANT_ERROR_REGEX.exec(error.message)\n          const invariant = String(match?.groups?.invariant)\n\n          sendStats({\n            incrementKey: 'REACT_HYDRATION_ERROR',\n            incrementTags: {\n              appName: this.name,\n              invariant,\n            },\n          })\n        },\n      })\n\n      // Remove the manually moved style tag after hydration\n      if (styles) {\n        // Wait until things are idle to remove the style tag. If we do it immediately, we can cause a flash of unstyled content.\n        requestIdleCallback(() => {\n          // styles could have already been removed by Turbo if a navigation happens quickly. Only remove it from the DOM if it's still there.\n          styles.parentElement?.removeChild(styles)\n        })\n      }\n    } else {\n      this.root = reactDom.createRoot(this.reactRoot)\n      this.root.render(baseNode)\n    }\n\n    this.classList.add('loaded')\n  }\n\n  private getReactDomWithProfiling() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return import('react-dom/profiling') as any as Promise<ReactDOM>\n  }\n\n  private logSSRError(ssrErrorText: string) {\n    if (EXPECTED_ERRORS[ssrErrorText]) {\n      // eslint-disable-next-line no-console\n      return console.error('SSR failed with an expected error:', EXPECTED_ERRORS[ssrErrorText])\n    }\n\n    try {\n      const error = JSON.parse(ssrErrorText) as PlatformJavascriptError\n      const stacktrace = parseFailbotStacktrace(error)\n      // eslint-disable-next-line no-console\n      console.error('Error During Alloy SSR:', `${error.type}: ${error.value}\\n`, error, stacktrace)\n    } catch {\n      /**\n       * In the event we couldn't log the error, we should not break the application\n       */\n      // eslint-disable-next-line no-console\n      console.error('Error During Alloy SSR:', ssrErrorText, 'unable to parse as json')\n    }\n  }\n}\n\nfunction parseFailbotStacktrace(error: PlatformJavascriptError) {\n  if (!error.stacktrace) return ''\n  let prefix = '\\n '\n  const stack = error.stacktrace.map((frame: PlatformStackframe) => {\n    const {function: func, filename, lineno, colno} = frame\n    const line = `${prefix} at ${func} (${filename}:${lineno}:${colno})`\n    prefix = ' '\n    return line\n  })\n  return stack.join('\\n')\n}\n\ntry{ REACT_INVARIANT_ERROR_REGEX.displayName ||= 'REACT_INVARIANT_ERROR_REGEX' } catch {}"],"names":["PolicyComponent","EntityType","PolicyIdentifier","NO_POLICY","SELECT_ACTIONS","PolicyHeaderSx","borderBottomWidth","borderRightWidth","borderLeftWidth","borderStyle","borderColor","paddingY","paddingX","PolicyHeader","title","idx","description","children","Box","sx","flexGrow","borderTopWidth","Text","fontWeight","as","color","mb","displayName","PolicyContentSx","backgroundColor","PolicyContent","PolicyOptionCheckbox","checked","disabled","setChecked","FormControl","Checkbox","onChange","Label","Caption","ActionCreatorPolicy","form","setPolicyForm","allowCreatedByGitHub","allowVerifiedCreator","specifiedActionsDisabled","LINES","NamePatternPolicy","Textarea","value","patterns","block","resize","e","target","span","marginTop","map","line","lineIdx","fontSize","marginBottom","Policy","props","identifier","policyComponent","Author","Expression","POLICY_TO_DISPLAY_NAME","Map","PolicySelector","noPolicyOrSelectedActions","menuOpen","setMenuOpen","useState","ActionMenu","aria-labelledby","open","onOpenChange","Button","get","Overlay","width","ActionList","selectionVariant","variant","showDividers","Item","borderBottomLeftRadius","borderBottomRightRadius","selected","onSelect","Description","Divider","margin","borderTopLeftRadius","borderTopRightRadius","POLICIES_TO_INCLUDE","PolicyContainerSx","borderWidth","PolicySettingsHeading","type","subheading","div","PolicySettings","entity","initialForm","getPolicyFormFromEntity","highestLevelAllowlistSpecifiesActions","highestLevelAllowlist","specifiedActions","allowsGithubOwnedActions","allowsVerifiedActions","allowsAllActionsAndWorkflows","join","policyForm","display","flexDirection","gap","alignSelf","ActionsPolicies","registerReactPartial","Component","DeferredRegistry","register","name","registration","entry","registrationEntries","resolve","promise","Promise","getRegistration","Deferred","constructor","usePartialAnchorProps","anchorElement","useEffect","anchor","classList","remove","reactPartialAnchor","__wrapperElement","useExternalAnchor","ref","useRef","setOpen","onClick","useCallback","current","setAttribute","toString","useOnAnchorClick","element","addEventListener","removeEventListener","partialRegistry","ReactPartialElement","ReactBaseElement","getReactNode","embeddedData","appName","closest","PartialEntry","partialName","wasServerRendered","hasSSRContent","ssrError","nameAttribute","controller","getItem","setItem","removeItem","safeStorage","REACT_PROFILING_ENABLED","enable","disable","isEnabled","PartialRouter","history","state","setState","location","useHydratedEffect","listen","Router","navigator","historyRef","React","window","globalThis","createBrowserHistory","createMemoryHistory","initialEntries","pathname","partialAnchorProps","BaseProviders","AppContextProvider","routes","CommonElements","REACT_INVARIANT_ERROR_REGEX","HTMLElement","getAttribute","embeddedDataText","text","textContent","connectedCallback","renderReact","disconnectedCallback","root","unmount","undefined","reactRoot","reactDom","createRoot","hydrateRoot","ReactProfilingMode","getReactDomWithProfiling","JSON","parse","ssrErrorText","node","baseNode","logSSRError","styles","querySelector","document","head","appendChild","onRecoverableError","error","Error","match","exec","message","invariant","String","groups","sendStats","incrementKey","incrementTags","requestIdleCallback","parentElement","removeChild","render","add","EXPECTED_ERRORS","console","stacktrace","parseFailbotStacktrace","prefix","stack","function","func","filename","lineno","colno","frame"],"sourceRoot":""}