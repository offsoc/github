{"version":3,"file":"ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_hooks-9a3d65-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/code-view-shared/css/LinkButton.module.css","ui/packages/analytics-overrides/analytics-overrides.ts","ui/packages/code-view-shared/hooks/shortcuts.ts","ui/packages/code-view-shared/hooks/use-canonical-object.ts","ui/packages/code-view-shared/hooks/use-file-page-payload.ts","ui/packages/react-core/use-navigation-error.ts","ui/packages/code-view-shared/hooks/use-repos-analytics.ts","ui/packages/code-view-shared/hooks/use-url-creator.ts","ui/packages/code-view-shared/utilities/make-payload.ts","ui/packages/code-view-shared/utilities/styles.ts","ui/packages/code-view-types/blob-types.ts","ui/packages/code-view-types/delete-types.ts","ui/packages/code-view-types/edit-types.ts","ui/packages/code-view-types/tree-types.ts","ui/packages/code-view-types/overview-types.ts","ui/packages/failbot/failbot.ts","ui/packages/use-analytics/use-analytics.ts","ui/packages/use-latest-commit/use-latest-commit.ts","ui/packages/code-view-shared/components/AddFileDropdownButton.tsx","ui/packages/code-view-shared/components/AllShortcutsEnabled.tsx","ui/packages/code-view-shared/components/CodeViewError.tsx","ui/packages/code-view-shared/components/EditButton.tsx","ui/packages/code-view-shared/components/ReposChecksStatusBadge.tsx","ui/packages/code-view-shared/components/LatestCommit.tsx","ui/packages/code-view-shared/components/PublishBanners.tsx","ui/packages/code-view-shared/components/ReposHeaderRefSelector.tsx","ui/packages/code-view-shared/hooks/use-ref-create-error-handling.ts","ui/packages/code-view-shared/components/Skeleton.tsx","ui/packages/code-view-shared/components/TableOfContentsPanel.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/InfobarPopover.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/get-commits-count-text.ts","ui/packages/code-view-shared/components/directory/BranchInfoBar/RefComparisonText.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/ContributePopoverContent.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/ContributeButton.tsx","ui/packages/code-view-shared/hooks/use-disabled-with-label.ts","ui/packages/code-view-shared/components/directory/BranchInfoBar/generate-button-event-payload.ts","ui/packages/code-view-shared/components/directory/BranchInfoBar/FetchUpstreamPopoverContent.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/FetchUpstreamWithConflictsPopoverContent.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/FetchPopoverContainer.tsx","ui/packages/code-view-shared/hooks/use-mergeability-check.ts","ui/packages/code-view-shared/hooks/use-branch-updater.ts","ui/packages/code-view-shared/components/directory/BranchInfoBar/FetchUpstreamButton.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/PullRequestLink.tsx","ui/packages/code-view-shared/components/directory/BranchInfoBar/BranchInfoBar.tsx","ui/packages/code-view-shared/hooks/use-branch-infobar.ts","ui/packages/code-view-shared/components/directory/DirectoryContent/DirectoryRow.tsx","ui/packages/code-view-shared/components/directory/DirectoryContent/Dropzone.tsx","ui/packages/code-view-shared/components/directory/DirectoryContent/Cells.tsx","ui/packages/code-view-shared/components/directory/DirectoryContent/Table.tsx","ui/packages/code-view-shared/components/directory/DirectoryContent/DirectoryContent.tsx","ui/packages/code-view-shared/hooks/use-initially-truncated-list.ts","ui/packages/code-view-shared/hooks/use-commit-info.ts","ui/packages/code-view-shared/components/directory/DirectoryRichtextContent.tsx","ui/packages/code-view-shared/contexts/AllShortcutsEnabledContext.tsx","ui/packages/code-view-shared/contexts/CodeViewBannersContext.tsx","ui/packages/code-view-shared/contexts/CurrentTreeContext.tsx","ui/packages/code-view-shared/contexts/FileQueryContext.tsx","ui/packages/code-view-shared/contexts/FilesPageInfoContext.tsx","ui/packages/focus-hint-context/FocusHintContext.tsx","ui/packages/screen-reader-heading/ScreenReaderHeading.tsx","ui/packages/screen-size/ScreenSize.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"code-view-link-button\":\"LinkButton-module__code-view-link-button--xvCGA\"};","function queryLast<T extends Element>(selector: string): T | undefined {\n  const list = document.querySelectorAll<T>(selector)\n  if (list.length > 0) {\n    return list[list.length - 1]\n  }\n}\n\nfunction pagePathname() {\n  const locationOverride = queryLast<HTMLMetaElement>('meta[name=analytics-location]')\n  if (locationOverride) {\n    return locationOverride.content\n  } else {\n    return window.location.pathname\n  }\n}\n\nfunction pageQuery() {\n  const stripParams = queryLast<HTMLMetaElement>('meta[name=analytics-location-query-strip]')\n  let search = ''\n\n  if (!stripParams) {\n    search = window.location.search\n  }\n\n  const extraParams = queryLast<HTMLMetaElement>('meta[name=analytics-location-params]')\n  if (extraParams) {\n    search += (search ? '&' : '?') + extraParams.content\n  }\n\n  for (const meta of document.querySelectorAll<HTMLMetaElement>('meta[name=analytics-param-rename]')) {\n    const names = meta.content.split(':', 2)\n    search = search.replace(new RegExp(`(^|[?&])${names[0]}($|=)`, 'g'), `$1${names[1]}$2`)\n  }\n\n  return search\n}\n\nexport function requestUri() {\n  return `${window.location.protocol}//${window.location.host}${pagePathname() + pageQuery()}`\n}\n","import {useClientValue} from '@github-ui/use-client-value'\nimport {useIsPlatform} from '@github-ui/use-is-platform'\n\n//If you want a shortcut to work while the blob is focused, you need to set useWhileBlobFocused to true and also\n//add the hotkey without any modifiers to the alphanumeric hotkey array\nexport interface Shortcut {\n  text?: string\n  hotkey?: string\n  ariaKeyShortcuts?: string\n  useWhileBlobFocused?: boolean\n  noModifierHotkey?: string[]\n  modifierRequired?: boolean\n}\n\ninterface Shortcuts {\n  cursorNavigationHopWordLeft: Shortcut\n  cursorNavigationHopWordRight: Shortcut\n  cursorNavigationTopOfPage: Shortcut\n  cursorNavigationBottomOfPage: Shortcut\n  alternativeGoToLineShortcut: Shortcut\n  cursorNavigationEnd: Shortcut\n  cursorNavigationHome: Shortcut\n  cursorNavigationOpenHelpDialog: Shortcut\n  expandAndFocusLineContextMenu: Shortcut\n  cursorNavigationSpace: Shortcut\n  cursorNavigationShiftSpace: Shortcut\n  cursorNavigationPageUp: Shortcut\n  cursorNavigationPageDown: Shortcut\n  cursorNavigationArrowDown: Shortcut\n  cursorNavigationArrowUp: Shortcut\n  cursorNavigationArrowLeft: Shortcut\n  cursorNavigationArrowRight: Shortcut\n  cursorNavigationShiftHopWordLeft: Shortcut\n  cursorNavigationShiftHopWordRight: Shortcut\n  cursorNavigationShiftTopOfPage: Shortcut\n  cursorNavigationShiftBottomOfPage: Shortcut\n  cursorNavigationShiftEnd: Shortcut\n  cursorNavigationShiftHome: Shortcut\n  cursorNavigationShiftPageUp: Shortcut\n  cursorNavigationShiftPageDown: Shortcut\n  cursorNavigationShiftArrowDown: Shortcut\n  cursorNavigationShiftArrowUp: Shortcut\n  cursorNavigationShiftArrowLeft: Shortcut\n  cursorNavigationShiftArrowRight: Shortcut\n  cursorNavigationHighlightLine: Shortcut\n  cursorNavigationGoLineUp: Shortcut\n  cursorNavigationGoLineDown: Shortcut\n  cursorNavigationEnter: Shortcut\n  copyFilePathShortcut: Shortcut\n  copyPermalinkShortcut: Shortcut\n  copyRawContentShortcut: Shortcut\n  downloadRawContentShortcut: Shortcut\n  editFileShortcut: Shortcut\n  goToLineShortcut: Shortcut\n  escapeRightClickMenu: Shortcut\n  findInFileShortcut: Shortcut\n  findSelectionShortcut: Shortcut\n  refSelectorShortcut: Shortcut\n  findFilesShortcut: Shortcut\n  findNextShortcut: Shortcut\n  findPrevShortcut: Shortcut\n  openWithGitHubDevShortcut: Shortcut\n  openWithGitHubDevInNewWindowShortcut: Shortcut\n  permalinkShortcut: Shortcut\n  searchShortcut: Shortcut\n  selectAllShortcut: Shortcut\n  selectEditTabShortcut: Shortcut\n  submitCommitDialogShortcut: Shortcut\n  toggleFocusedPaneShortcut: Shortcut\n  toggleSymbolsShortcut: Shortcut\n  toggleTreeShortcut: Shortcut\n  viewBlameShortcut: Shortcut\n  viewCodeShortcut: Shortcut\n  viewPreviewShortcut: Shortcut\n  viewRawContentShortcut: Shortcut\n  findSymbolShortcut: Shortcut\n}\n\nconst macShortcuts: Shortcuts = {\n  cursorNavigationHopWordLeft: {\n    hotkey: 'Alt+ArrowLeft,Ctrl+ArrowLeft',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowLeft'],\n    modifierRequired: true,\n  },\n  cursorNavigationHopWordRight: {\n    hotkey: 'Alt+ArrowRight,Ctrl+ArrowRight',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowRight'],\n    modifierRequired: true,\n  },\n  cursorNavigationTopOfPage: {\n    hotkey: 'Meta+ArrowUp',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowUp'],\n    modifierRequired: true,\n  },\n  cursorNavigationBottomOfPage: {\n    hotkey: 'Meta+ArrowDown',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowDown'],\n    modifierRequired: true,\n  },\n  cursorNavigationEnd: {\n    hotkey: 'End,Meta+ArrowRight',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['End'],\n  },\n  cursorNavigationHome: {\n    hotkey: 'Home,Meta+ArrowLeft',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['Home'],\n  },\n  cursorNavigationPageUp: {\n    hotkey: 'PageUp',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['PageUp'],\n  },\n  cursorNavigationPageDown: {\n    hotkey: 'PageDown',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['PageDown'],\n  },\n  cursorNavigationArrowDown: {\n    hotkey: 'ArrowDown',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowDown'],\n  },\n  cursorNavigationArrowUp: {\n    hotkey: 'ArrowUp',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowUp'],\n  },\n  cursorNavigationArrowLeft: {\n    hotkey: 'ArrowLeft',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowLeft'],\n  },\n  cursorNavigationArrowRight: {\n    hotkey: 'ArrowRight',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowRight'],\n  },\n  cursorNavigationShiftHopWordLeft: {\n    hotkey: 'Alt+Shift+ArrowLeft,Ctrl+Shift+ArrowLeft',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowLeft'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftHopWordRight: {\n    hotkey: 'Alt+Shift+ArrowRight,Ctrl+Shift+ArrowRight',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowRight'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftTopOfPage: {\n    hotkey: 'Meta+Shift+ArrowUp',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowUp'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftBottomOfPage: {\n    hotkey: 'Meta+Shift+ArrowDown',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowDown'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftEnd: {\n    hotkey: 'Shift+End,Meta+Shift+ArrowRight',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['End'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftHome: {\n    hotkey: 'Shift+Home,Meta+Shift+ArrowLeft',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['Home'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftPageUp: {\n    hotkey: 'Shift+PageUp',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['PageUp'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftPageDown: {\n    hotkey: 'Shift+PageDown',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['PageDown'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftArrowDown: {\n    hotkey: 'Shift+ArrowDown',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowDown'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftArrowUp: {\n    hotkey: 'Shift+ArrowUp',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowUp'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftArrowLeft: {\n    hotkey: 'Shift+ArrowLeft',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowLeft'],\n    modifierRequired: true,\n  },\n  cursorNavigationShiftArrowRight: {\n    hotkey: 'Shift+ArrowRight',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['ArrowRight'],\n    modifierRequired: true,\n  },\n  cursorNavigationHighlightLine: {\n    text: 'J',\n    hotkey: 'Shift+J',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['J'],\n    modifierRequired: true,\n  },\n  cursorNavigationGoLineUp: {\n    hotkey: 'Ctrl+p',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['p'],\n    modifierRequired: true,\n  },\n  cursorNavigationOpenHelpDialog: {\n    hotkey: 'Alt+F1,Control+Alt+˙,Control+Alt+h',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['F1', 'h', '˙'],\n    modifierRequired: true,\n  },\n  cursorNavigationGoLineDown: {\n    hotkey: 'Ctrl+n',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['n'],\n    modifierRequired: true,\n  },\n  cursorNavigationEnter: {\n    text: '⌘ Enter',\n    hotkey: 'Meta+Enter',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['Enter'],\n    modifierRequired: true,\n  },\n  cursorNavigationSpace: {\n    hotkey: ' ',\n    useWhileBlobFocused: true,\n    noModifierHotkey: [' '],\n    modifierRequired: false,\n  },\n  cursorNavigationShiftSpace: {\n    hotkey: 'Shift+ ',\n    useWhileBlobFocused: true,\n    noModifierHotkey: [' '],\n    modifierRequired: true,\n  },\n  expandAndFocusLineContextMenu: {\n    text: 'Shift Alt C',\n    hotkey: 'Alt+Shift+C,Alt+Shift+Ç',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['C'],\n    modifierRequired: true,\n  },\n  copyFilePathShortcut: {\n    text: '⌘ shift .',\n    hotkey: 'Meta+Shift+>',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['.'],\n    modifierRequired: true,\n  },\n  copyPermalinkShortcut: {\n    text: '⌘ shift ,',\n    hotkey: 'Meta+Shift+<',\n    useWhileBlobFocused: true,\n    noModifierHotkey: [','],\n    modifierRequired: true,\n  },\n  copyRawContentShortcut: {\n    text: '⌘ shift c',\n    hotkey: 'Meta+Shift+C',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['c'],\n    modifierRequired: true,\n  },\n  downloadRawContentShortcut: {\n    text: '⌘ shift s',\n    hotkey: 'Meta+Shift+S',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['s'],\n    modifierRequired: true,\n  },\n  editFileShortcut: {\n    hotkey: 'e,Shift+E',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['e', 'E'],\n  },\n  goToLineShortcut: {\n    text: 'l',\n    hotkey: 'l,Shift+L',\n    ariaKeyShortcuts: 'l',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['l', 'L'],\n  },\n  alternativeGoToLineShortcut: {\n    hotkey: 'Mod+Alt+g',\n    ariaKeyShortcuts: 'Mod+Alt+g',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['g', 'G'],\n  },\n  findInFileShortcut: {\n    hotkey: 'Meta+f, F3',\n    text: '⌘ f',\n    ariaKeyShortcuts: 'Meta+F',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['f', 'F3'],\n    modifierRequired: true,\n  },\n  findFilesShortcut: {\n    hotkey: 't,Shift+T',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['t', 'T'],\n  },\n  findSelectionShortcut: {\n    hotkey: 'Meta+e',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['e'],\n    modifierRequired: true,\n  },\n  findNextShortcut: {\n    hotkey: 'Mod+g',\n  },\n  findPrevShortcut: {\n    hotkey: 'Mod+Shift+G',\n  },\n  openWithGitHubDevShortcut: {\n    hotkey: '., Meta+Shift+/',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['.'],\n  },\n  openWithGitHubDevInNewWindowShortcut: {\n    hotkey: 'Shift+.,Shift+>,>',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['>'],\n  },\n  permalinkShortcut: {\n    hotkey: 'y,Shift+Y',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['y', 'Y'],\n  },\n  searchShortcut: {\n    hotkey: '/',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['/'],\n  },\n  selectAllShortcut: {\n    hotkey: 'Meta+a',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['a'],\n    modifierRequired: true,\n  },\n  selectEditTabShortcut: {\n    hotkey: 'Mod+Shift+P',\n  },\n  submitCommitDialogShortcut: {\n    hotkey: 'Mod+Enter',\n  },\n  refSelectorShortcut: {\n    hotkey: 'w',\n    text: 'w',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['w'],\n  },\n  escapeRightClickMenu: {\n    hotkey: 'Escape',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['Escape'],\n  },\n  toggleFocusedPaneShortcut: {\n    // we don't need a separate command to go backwards because there's only two options (for now)\n    hotkey: 'Meta+F6,Meta+Shift+F6',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['F6'],\n    modifierRequired: true,\n  },\n  toggleSymbolsShortcut: {\n    hotkey: 'Meta+i',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['i'],\n    modifierRequired: true,\n  },\n  toggleTreeShortcut: {\n    hotkey: 'Meta+b',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['b'],\n    modifierRequired: true,\n  },\n  viewBlameShortcut: {\n    hotkey: 'b,Shift+B,Meta+/ Meta+b',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['b'],\n  },\n  viewCodeShortcut: {\n    hotkey: 'Meta+/ Meta+c',\n    useWhileBlobFocused: true,\n    modifierRequired: true,\n  },\n  viewPreviewShortcut: {\n    hotkey: 'Meta+/ Meta+p',\n  },\n  viewRawContentShortcut: {\n    text: '⌘ / ⌘ r',\n    hotkey: 'Meta+/ Meta+r',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['r'],\n    modifierRequired: true,\n  },\n  findSymbolShortcut: {\n    hotkey: 'r,Shift+R',\n    useWhileBlobFocused: true,\n    noModifierHotkey: ['r', 'R'],\n    modifierRequired: false,\n  },\n}\n\nfunction modifyForNonMac(shortcuts: Shortcuts): Shortcuts {\n  return Object.keys(shortcuts).reduce((acc, key) => {\n    const shortcut = shortcuts[key as keyof Shortcuts]\n    acc[key as keyof Shortcuts] = {\n      hotkey: shortcut.hotkey?.replace(/Meta/g, 'Control'),\n      text: shortcut.text?.replace(/⌘/g, 'Ctrl').replace(/⇧/g, 'Shift'),\n      ariaKeyShortcuts: shortcut.ariaKeyShortcuts?.replace(/Meta/g, 'Control'),\n      useWhileBlobFocused: shortcut.useWhileBlobFocused,\n      modifierRequired: shortcut.modifierRequired,\n      noModifierHotkey: shortcut.noModifierHotkey,\n    }\n    return acc\n  }, {} as Shortcuts)\n}\n/***\nThis function is necessary in SSR because the data-hotkey attribute does not\nrecognize changes to hotkeys that happen during hydration. So we needed the\ndata-hotkey attribute to not exist until during hydration. We had\nthe useClientValue returning false on whether or not the user was using a mac,\nso all hotkeys were being changed to have control in them instead of meta.\nThis was causing mac users to not be able to use any hotkeys that had Meta\nin them if they got the SSR'd version of the blob page.\n***/\nfunction modifyForSSR(shortcuts: Shortcuts): Shortcuts {\n  return Object.keys(shortcuts).reduce((acc, key) => {\n    const shortcut = shortcuts[key as keyof Shortcuts]\n    acc[key as keyof Shortcuts] = {\n      hotkey: undefined,\n      text: shortcut.text?.replace(/⌘/g, 'Ctrl').replace(/⇧/g, 'Shift'),\n      ariaKeyShortcuts: shortcut.ariaKeyShortcuts?.replace(/Meta/g, 'Control'),\n      useWhileBlobFocused: shortcut.useWhileBlobFocused,\n      modifierRequired: shortcut.modifierRequired,\n      noModifierHotkey: shortcut.noModifierHotkey,\n    }\n    return acc\n  }, {} as Shortcuts)\n}\n\n// Memo this result globally to avoid running this transformation function for each component\n// isMac -> shortcuts\nconst shortcutMemo: Map<number, Shortcuts> = new Map()\n\nexport function useShortcut(): Shortcuts {\n  const isMac = useIsPlatform(['mac'])\n  const [isSSR] = useClientValue(() => false, true, [])\n  //we want the modification scripts to run again whether isMac changes from the default false value OR the SSR value\n  //changes from the default value of true.\n  let key = 0\n  if (isMac) {\n    key = 1\n  } else if (!isSSR) {\n    key = 2\n  }\n\n  if (!shortcutMemo.has(key)) {\n    let shortcuts = macShortcuts\n\n    if (!isMac && !isSSR) {\n      shortcuts = modifyForNonMac(shortcuts)\n    }\n    if (isSSR) {\n      shortcuts = modifyForSSR(shortcuts)\n    }\n\n    shortcutMemo.set(key, shortcuts)\n  }\n\n  return shortcutMemo.get(key) as Shortcuts\n}\nexport function useBlobFocusedModifierShortcuts(): string[] {\n  const shortcuts = useShortcut()\n  return Object.keys(shortcuts).reduce((acc, key) => {\n    const shortcut = shortcuts[key as keyof Shortcuts]\n    if (shortcut.useWhileBlobFocused && shortcut.noModifierHotkey && shortcut.modifierRequired) {\n      for (const alphaNumericHotkey of shortcut.noModifierHotkey) {\n        if (!acc.includes(alphaNumericHotkey)) {\n          acc.push(alphaNumericHotkey)\n        }\n      }\n    }\n    return acc\n  }, [] as string[])\n}\nexport function useBlobFocusedShortcuts(): string[] {\n  const shortcuts = useShortcut()\n  return Object.keys(shortcuts).reduce((acc, key) => {\n    const shortcut = shortcuts[key as keyof Shortcuts]\n    if (shortcut.useWhileBlobFocused && shortcut.noModifierHotkey && !shortcut.modifierRequired) {\n      for (const alphaNumericHotkey of shortcut.noModifierHotkey) {\n        if (!acc.includes(alphaNumericHotkey)) {\n          acc.push(alphaNumericHotkey)\n        }\n      }\n    }\n    return acc\n  }, [] as string[])\n}\n","import {useRef} from 'react'\n\n/**\n * Given an object, deep compares it to the previous 5 objects passed to this hook to see if they\n * are the same. If so, return the previous object.\n * This is useful for objects that come from the server and are likely to match objects we\n * previously received. Using this, we can avoid unnecessary rerenders.\n * This function has the potential to be slow and memory-hungry if it is passed very large objects.\n */\nexport function useCanonicalObject<T>(obj: T): T {\n  const previousObjects = useRef([] as T[])\n  for (const previousObject of previousObjects.current) {\n    if (obj === previousObject || deepCompare(previousObject, obj)) {\n      return previousObject\n    }\n  }\n  previousObjects.current.unshift(obj)\n  if (previousObjects.current.length > 5) {\n    previousObjects.current.pop()\n  }\n  return obj\n}\n\n/** exported for testing */\nexport function deepCompare(a: unknown, b: unknown): boolean {\n  if (a === b) {\n    return true\n  }\n  if (typeof a !== 'object' || typeof a !== typeof b || !a || !b) {\n    return false\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false\n    }\n    if (a.length !== b.length) {\n      return false\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!deepCompare(a[i], b[i])) {\n        return false\n      }\n    }\n    return true\n  }\n  const aKeys = Object.keys(a)\n  // we're smart enough to know that b is an object but TypeScript isn't\n  const bKeys = Object.keys(b as object)\n  if (aKeys.length !== bKeys.length) {\n    return false\n  }\n  for (const key of aKeys) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!deepCompare((a as any)[key], (b as any)[key])) {\n      return false\n    }\n  }\n  return true\n}\n","import type {FilePagePayload} from '@github-ui/code-view-types'\nimport {extractPathFromPathname} from '@github-ui/paths'\nimport {useNavigationError} from '@github-ui/react-core/use-navigation-error'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {useRef} from 'react'\n\nimport {makeErrorPayload} from '../utilities/make-payload'\n\nexport function useFilePagePayload(initialPayload?: FilePagePayload): FilePagePayload {\n  const routePayload = useRoutePayload<FilePagePayload>()\n  let payload = initialPayload || routePayload\n  // we assume that the first payload is always good\n  const lastGoodPayload = useRef(payload)\n  const error = useNavigationError()\n\n  if (!payload) {\n    const newPath = extractPathFromPathname(\n      location.pathname,\n      lastGoodPayload.current.refInfo.name,\n      lastGoodPayload.current.path,\n    )\n    payload = makeErrorPayload(lastGoodPayload.current, error, newPath)\n  } else {\n    lastGoodPayload.current = payload\n  }\n  return payload\n}\n","import type {PageError} from './app-routing-types'\nimport {useContext} from 'react'\nimport {NavigationErrorContext} from './AppRouter'\n\nexport function useNavigationError(): PageError | null {\n  return useContext(NavigationErrorContext)\n}\n","import type {RepositoryClickTarget, RepositoryStats, RepositoryUIEventTarget} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {getRelativeHref, repositoryStatsPath} from '@github-ui/paths'\nimport {useFeatureFlag} from '@github-ui/react-core/use-feature-flag'\nimport {useAnalytics} from '@github-ui/use-analytics'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useCallback, useMemo} from 'react'\nimport {useCurrentUser} from '@github-ui/current-user'\n\ntype EventContext = Record<string, string | number | boolean>\n\ntype SendRepoEventFunction = (target: RepositoryClickTarget, context?: EventContext) => void\ntype SendRepoStatsFunction = (type: RepositoryStats, context?: EventContext) => void\n\n/**\n * Use this hook to send user analytics events to the data warehouse.\n * Please note that this hook uses `sendEvent` helper,\n * which enriches event context with additional information about the user, repository, and current page.\n * See: https://thehub.github.com/epd/engineering/products-and-services/internal/hydro/installation/browser-events/\n *\n * You can find a list of all included context properties in `app/helpers/octolytics_helper.rb`.\n * The majority of the events don't require additional context properties as they are sent by default,\n * so check the existing properties in `octolytics_helper` before adding new ones.\n *\n * \"repository.click\" represents an umbrella event for all repository clicks.\n * \"target\" is the name of the UI element associated with the event.\n *\n * @example\n * ```tsx\n * function Component() {\n *   const { sendRepoClickEvent } = useReposAnalytics()\n *   return <Button onClick={() => sendRepoClickEvent('FIND_FILE_BUTTON')}>Find file</Button>\n * }\n * ```\n *\n */\nexport function useReposAnalytics(): {\n  sendRepoClickEvent: SendRepoEventFunction\n  sendRepoKeyDownEvent: SendRepoEventFunction\n  sendStats: SendRepoStatsFunction\n  sendMarketplaceActionEvent: SendRepoEventFunction\n} {\n  const {sendAnalyticsEvent} = useAnalytics()\n  const sendReposUIEvent = useSendReposUIEvent()\n  const shouldUseUIEventTable = useFeatureFlag('code_nav_ui_events')\n\n  return {\n    sendRepoClickEvent: useCallback(\n      (target, payload = {}) => {\n        sendAnalyticsEvent('repository.click', target, payload)\n        if (shouldUseUIEventTable) {\n          sendReposUIEvent(target, 'click', payload)\n        }\n      },\n      [sendAnalyticsEvent, sendReposUIEvent, shouldUseUIEventTable],\n    ),\n    sendRepoKeyDownEvent: useCallback(\n      (target, payload = {}) => {\n        sendAnalyticsEvent('repository.keydown', target, payload)\n        if (shouldUseUIEventTable) {\n          sendReposUIEvent(target, 'keydown', payload)\n        }\n      },\n      [sendAnalyticsEvent, sendReposUIEvent, shouldUseUIEventTable],\n    ),\n    sendStats: useCallback(\n      (type, payload = {}) => {\n        sendAnalyticsEvent(type, '', payload)\n        if (shouldUseUIEventTable) {\n          sendReposUIEvent(type, 'stats', payload)\n        }\n      },\n      [sendAnalyticsEvent, sendReposUIEvent, shouldUseUIEventTable],\n    ),\n    sendMarketplaceActionEvent: useCallback(\n      (target, payload = {}) => {\n        sendAnalyticsEvent('marketplace.action.click', target, payload)\n      },\n      [sendAnalyticsEvent],\n    ),\n  }\n}\n\nfunction useSendReposUIEvent() {\n  const repoMetadata = useRepositoryEventMetadata()\n  const repo = useCurrentRepository()\n  const statsPath = getRelativeHref(repositoryStatsPath, {owner: repo.ownerLogin, repo: repo.name})\n\n  return useCallback(\n    (target: RepositoryUIEventTarget, interaction: Interaction, context: EventContext) => {\n      const method = 'POST'\n      const body: RepositoryUIEvent = {\n        target,\n        interaction,\n        context,\n        ...repoMetadata,\n        ...getBrowserEventMetadata(),\n      } as RepositoryUIEvent\n\n      verifiedFetchJSON(statsPath, {method, body})\n    },\n    [repoMetadata, statsPath],\n  )\n}\n\ntype Interaction = 'click' | 'keydown' | 'stats'\n\ninterface RepositoryUIEvent {\n  target: RepositoryUIEventTarget\n  interaction: Interaction\n  performed_at?: number\n  context?: EventContext\n  repository_id: number\n  repository_nwo: string\n  repository_public: boolean\n  repository_is_fork: boolean\n  react_app: string\n  actor_id?: number\n  actor_login?: string\n  url: string\n  user_agent: string\n  browser_width: number\n  browser_languages: string\n}\n\ntype BrowserEventMetadata = Pick<RepositoryUIEvent, 'url' | 'user_agent' | 'browser_width' | 'browser_languages'>\n\nfunction getBrowserEventMetadata(): BrowserEventMetadata {\n  return {\n    url: window.location.href,\n    user_agent: window.navigator.userAgent,\n    browser_width: window.innerWidth,\n    browser_languages: window.navigator.languages.join(','),\n  }\n}\n\ntype RepositoryEventMetadata = Pick<\n  RepositoryUIEvent,\n  | 'react_app'\n  | 'repository_id'\n  | 'repository_nwo'\n  | 'repository_public'\n  | 'repository_is_fork'\n  | 'actor_id'\n  | 'actor_login'\n>\n\nfunction useRepositoryEventMetadata(): RepositoryEventMetadata {\n  const repo = useCurrentRepository()\n  const actor = useCurrentUser()\n\n  return useMemo(\n    () => ({\n      react_app: 'code-view',\n      repository_id: repo.id,\n      repository_nwo: `${repo.ownerLogin}/${repo.name}`,\n      repository_public: repo.public,\n      repository_is_fork: repo.isFork,\n      actor_id: actor?.id,\n      actor_login: actor?.login,\n    }),\n    [repo, actor],\n  )\n}\n","import {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport type {DirectoryItem} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {repositoryTreePath, type RepositoryTreePathAction} from '@github-ui/paths'\nimport {useClientValue} from '@github-ui/use-client-value'\nimport React from 'react'\n\ninterface UrlOptions {\n  absolute?: boolean\n  action?: RepositoryTreePathAction\n  commitish?: string\n  params?: string\n  path?: string\n  hash?: string\n}\n\nexport function useUrlCreator() {\n  const repo = useCurrentRepository()\n  const {path, action, refInfo} = useFilesPageInfo()\n  const [isSSR] = useClientValue(() => false, true, [])\n\n  const getItemUrl = React.useCallback(\n    (item: DirectoryItem) => {\n      return repositoryTreePath({\n        repo,\n        commitish: refInfo.name,\n        action: item.contentType === 'directory' ? 'tree' : 'blob',\n        path: item.path,\n      })\n    },\n    // repo is recalculated on every soft nav, we only need to update the callback if the name or ownerLogin change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [repo.ownerLogin, repo.name, refInfo.name],\n  )\n\n  function getTail({params, hash}: UrlOptions) {\n    return getUrlParams(params) + getHash(hash)\n  }\n\n  function getUrlParams(params: string | undefined) {\n    return params ? `?${params}` : ''\n  }\n\n  function getHash(hash: string | undefined) {\n    if (isSSR) return ''\n    if (hash === undefined) {\n      return window.location.hash\n    }\n    return hash ? `#${hash}` : ''\n  }\n\n  return {\n    getItemUrl,\n\n    getUrl(options: UrlOptions = {}) {\n      const url =\n        repositoryTreePath({\n          repo,\n          commitish: options.commitish || refInfo.name,\n          action: options.action || action,\n          path: options.path || path,\n        }) + getTail(options)\n\n      if (options.absolute) {\n        return new URL(url, window.location.origin).href\n      } else {\n        return url\n      }\n    },\n\n    createPermalink(options: UrlOptions = {}) {\n      const url =\n        repositoryTreePath({\n          repo,\n          commitish: refInfo.currentOid,\n          action: options.action || action,\n\n          path: options.path || path,\n        }) + getTail(options)\n\n      if (options.absolute) {\n        return new URL(url, window.location.origin).href\n      } else {\n        return url\n      }\n    },\n\n    isCurrentPagePermalink() {\n      if (isSSR) return false\n      // ancestry references have an OID name\n      // check if the OID is in the path to see if it's a permalink\n      return refInfo.name === refInfo.currentOid && window.location.pathname.includes(refInfo.currentOid)\n    },\n  }\n}\n","import {type FilePagePayload, isBlobPayload, isTreePayload} from '@github-ui/code-view-types'\nimport type {PageError} from '@github-ui/react-core/app-routing-types'\n\nexport function makePermalinkPayload<T extends FilePagePayload>(payload: T): T {\n  const newPayload = {\n    ...payload,\n    refInfo: {\n      ...payload.refInfo,\n      name: payload.refInfo.currentOid,\n      refType: undefined, // We don't have a type for commits\n      canEdit: false,\n    },\n  }\n\n  if (isBlobPayload(payload)) {\n    const {blob} = payload\n    // If the ref is a SHA, we cannot edit nor delete.\n    return {\n      ...newPayload,\n      blob: {...blob, headerInfo: {...blob.headerInfo, deleteInfo: {}, editInfo: {}}},\n    }\n  }\n\n  return newPayload\n}\n\n/**\n * Get all the folders from the payload to display in the tree.\n * The current folder was not included in the fileTree, as a optimization to save bandwidth.\n * This function puts all together again.\n */\nexport function extractFileTree(payload: FilePagePayload) {\n  return isTreePayload(payload)\n    ? {\n        ...payload.fileTree,\n        [payload.path]: {items: payload.tree.items, totalCount: payload.tree.totalCount},\n      }\n    : payload.fileTree\n}\n\n/**\n * This function is used to create a new payload when an error occurs.\n * It does not contain page-specific information, such as the blob or tree,\n * but with frame data for rendering the error in CodeView\n */\nexport function makeErrorPayload(payload: FilePagePayload, error: PageError | null, path: string) {\n  return {\n    path,\n    repo: payload.repo,\n    refInfo: payload.refInfo,\n    currentUser: payload.currentUser,\n    fileTree: extractFileTree(payload),\n    fileTreeProcessingTime: payload.fileTreeProcessingTime,\n    foldersToFetch: payload.foldersToFetch,\n    allShortcutsEnabled: payload.allShortcutsEnabled,\n    treeExpanded: payload.treeExpanded,\n    symbolsExpanded: payload.symbolsExpanded,\n    codeLineWrapEnabled: payload.codeLineWrapEnabled,\n    error: error || undefined,\n  }\n}\n","export const linkButtonSx = {\n  '&:hover:not([disabled])': {\n    textDecoration: 'none',\n  },\n  '&:focus:not([disabled])': {\n    textDecoration: 'none',\n  },\n  '&:active:not([disabled])': {\n    textDecoration: 'none',\n  },\n}\n","import type {SafeHTMLString} from '@github-ui/safe-html'\n\nimport type {FilePagePayload} from './code-view-types'\n\nexport interface FileBlobPagePayload extends FilePagePayload {\n  blob: BlobPayload\n  blame?: Blame\n}\n\nexport function isBlobPayload(payload: FilePagePayload): payload is FileBlobPagePayload {\n  return 'blob' in payload\n}\n\nexport function isBlamePayload(payload: FilePagePayload): payload is FileBlobPagePayload & {blame: Blame} {\n  return isBlobPayload(payload) && 'blame' in payload\n}\n\ninterface BlackbirdPosition {\n  line_number: number\n  utf16_col: number\n}\ninterface BlackbirdSymbolRange {\n  start: BlackbirdPosition\n  end: BlackbirdPosition\n}\n\nexport interface BlackbirdSymbol {\n  kind: string | number\n  name: string\n  fully_qualified_name: string\n  ident_utf16: BlackbirdSymbolRange\n  extent_utf16: BlackbirdSymbolRange\n}\n\nexport interface DeferredAST {\n  stylingDirectives: StylingDirectivesDocument | null\n}\n\nexport interface DeferredMetadata {\n  showLicenseMeta: boolean\n  license: {\n    name: string\n    description: SafeHTMLString\n    rules: {[key: string]: LicenseRule[]}\n  } | null\n  codeownerInfo: CodeOwnerInfo\n  newDiscussionPath: string | null\n  newIssuePath: string | null\n}\n\nexport interface BlobPayload {\n  colorizedLines: SafeHTMLString[] | null\n  csv: SafeHTMLString[][] | null\n  csvError: SafeHTMLString | null\n  dependabotInfo: DependabotInfo\n  displayName: string\n  displayUrl: string\n  errorMessage?: string\n  discussionTemplate?: YamlTemplate\n  headerInfo: {\n    blobSize: string\n    deleteTooltip: string\n    editTooltip: string\n    ghDesktopPath: string | null\n    isGitLfs: boolean\n    lineInfo: {\n      truncatedLoc: string\n      truncatedSloc: string\n    }\n    isCSV: boolean\n    isRichtext: boolean\n    mode: string\n    onBranch: boolean\n    shortPath: string\n    siteNavLoginPath: string\n    toc: TocEntry[] | null\n  }\n\n  image: boolean\n  isCodeownersFile: boolean\n  isPlain: boolean\n  issueTemplate: YamlTemplate | null\n  showIssueFormWarning: boolean\n  isValidLegacyIssueTemplate: boolean\n  language: string\n  languageID?: number\n  large: boolean\n  planSupportInfo: PlanSupportInfo\n  publishBannersInfo: {\n    dismissActionNoticePath: string\n    releasePath: string\n    showPublishActionBanner: boolean\n  }\n  rawLines: string[] | null\n  renderedFileInfo: {\n    identityUUID: string\n    renderFileType: string\n    size: number\n  } | null\n  rawBlobUrl: string\n  renderImageOrRaw: boolean\n  richText: SafeHTMLString | null\n  shortPath: string | null\n  stylingDirectives?: StylingDirectivesDocument\n  symbols: BlackbirdSymbolInfo\n  symbolsEnabled: boolean\n  tabSize: number\n  timedOut?: boolean\n  topBannersInfo: {\n    overridingGlobalFundingFile: boolean\n    globalPreferredFundingPath: string | null\n    showInvalidCitationWarning: boolean\n    citationHelpUrl: string\n    actionsOnboardingTip: {\n      mediaUrl: string\n      mediaPreviewSrc: string\n      taskTitle: string\n      taskPath: string\n      iconSvg: SafeHTMLString\n      orgName: string\n    } | null\n  }\n  truncated: boolean\n  viewable: boolean\n  workflowRedirectUrl: string | null\n}\n\nexport type StylingDirectivesDocument = StylingDirectivesLine[]\n\nexport type StylingDirectivesLine = StylingDirective[]\n\n/*\n  s = start of the directive\n  e = endo f the directive\n  c = cssClass for the directive\n*/\nexport interface StylingDirective {\n  s: number\n  e: number\n  c: string\n}\n\ninterface BlackbirdSymbolInfo {\n  not_analyzed: boolean\n  timed_out: boolean\n  symbols: BlackbirdSymbol[]\n}\ninterface LicenseRule {\n  tag: string\n  label: string\n  description: string\n}\n\nexport interface PlanSupportInfo {\n  repoIsFork: boolean\n  repoOwnedByCurrentUser: boolean\n  requestFullPath: string\n  showFreeOrgGatedFeatureMessage: boolean\n  showPlanSupportBanner: boolean\n  upgradeDataAttributes: {[key: string]: string}\n  upgradePath: string\n}\n\ninterface DependabotInfo {\n  showConfigurationBanner: boolean\n  configFilePath: string\n  networkDependabotPath: string\n  dismissConfigurationNoticePath: string\n  configurationNoticeDismissed: boolean\n}\n\nexport interface CodeOwnerInfo {\n  codeownerPath: string | null\n  ownedByCurrentUser: boolean | null\n  ownersForFile: string | null\n  ruleForPathLine: string | null\n}\n\nexport interface CodeownersError {\n  column: number\n  // The deep transformation of the keys isn't hitting this\n  end_column: number | null\n  kind: string\n  line: number\n  source: string\n  suggestion: string | null\n}\n\nexport interface SplitCodeownersError extends CodeownersError {\n  lineError: string\n  linePrefix: string\n  lineSuffix: string\n}\n\nexport interface TocEntry {\n  level: number\n  htmlText: SafeHTMLString\n  anchor: string\n}\n\nexport interface YamlTemplate {\n  about?: string\n  assignees?: string\n  errors: Array<{link: string; message: SafeHTMLString}>\n  inputs: TemplateFormInput[]\n  labels?: string\n  projects?: string\n  name?: string\n  structured?: boolean\n  title?: string\n  valid: boolean\n  type?: string\n}\n\nexport interface TemplateFormInput {\n  checkboxes?: Array<{id: string; label: string; required: boolean}>\n  description?: SafeHTMLString\n  label?: string\n  id?: string\n  multiple?: boolean\n  options?: string[]\n  placeholder?: string\n  render?: string | null\n  required?: boolean\n  type: TemplateFormInputType\n  value?: SafeHTMLString | null\n}\n\nexport type TemplateFormInputType = 'checkboxes' | 'dropdown' | 'input' | 'markdown' | 'textarea'\n\nexport type CodeNavResultsBackend =\n  | 'ALEPH_PRECISE'\n  | 'ALEPH_PRECISE_PREVIEW'\n  | 'ALEPH_PRECISE_DEVELOPMENT'\n  | 'BLACKBIRD'\n\nexport interface Blame {\n  ranges: {[lineno: number]: BlameRange}\n  commits: {[commitOid: string]: BlameCommit}\n  ignoreRevs: {path: string; present: boolean; timedOut: boolean}\n  errorType?: 'symlink_disallowed' | 'invalid_ignore_revs' | 'ignore_revs_too_big' | 'blame_timeout'\n}\n\nexport interface BlameRange {\n  start: number\n  oldStart: number\n  end: number\n  oldEnd: number\n  commitOid: string\n  reblamePath?: string\n}\n\nexport interface BlameCommit {\n  oid: string\n  message: SafeHTMLString\n  shortMessageHtmlLink: SafeHTMLString\n  authorAvatarUrl: string | null\n  committerName: string\n  committerEmail: string\n  committedDate: string\n  firstParentOid: string\n}\n\nexport type PanelType = 'codeNav' | 'toc' | 'edit'\n","import type {SafeHTMLString} from '@github-ui/safe-html'\n\nimport type {ReposFileTreeData} from './tree-types'\nimport type {WebCommitInfo} from './edit-types'\nimport type {FilePagePayload} from './file-page-types'\n\nexport function isDeletePayload(payload: FilePagePayload): payload is DeletePagePayload {\n  return 'deleteInfo' in payload && 'webCommitInfo' in payload\n}\n\nexport interface DeletePagePayload extends FilePagePayload {\n  deleteInfo: DeleteInfo\n  fileTree: ReposFileTreeData\n  webCommitInfo: WebCommitInfo\n}\n\nexport interface DeleteInfo {\n  diffs: DeletedDiff[]\n  isBlob: boolean\n  truncated: boolean\n}\n\nexport interface DeletedDiff {\n  deletions: number\n  diffHTML?: SafeHTMLString\n  loadDiffPath?: string\n  path: string\n}\n","import type {DiffLineType} from '@github-ui/diffs/types'\nimport type {FeatureRequestInfo} from '@github-ui/feature-request/types'\nimport type {SafeHTMLString} from '@github-ui/safe-html'\n\nimport type {ReposFileTreeData} from './tree-types'\nimport type {StylingDirectivesDocument} from './blob-types'\nimport type {FilePagePayload} from './code-view-types'\n\nimport type {BypassMetadata} from '@github-ui/secret-scanning'\n\nexport function isEditPayload(payload: FilePagePayload): payload is EditBlobPagePayload {\n  return 'editInfo' in payload && 'webCommitInfo' in payload\n}\n\nexport interface EditBlobPagePayload extends FilePagePayload {\n  fileTree: ReposFileTreeData\n  editInfo: EditInfo\n  webCommitInfo: WebCommitInfo\n}\n\nexport interface EditInfo {\n  banners: EditorBanners\n  binary: boolean\n  codeMirror?: CodeMirrorInfo\n  content: string | null\n  customSlashCommandsDocsUrl: string\n  editors: EditorInfo\n  enableCommitButton: boolean\n  fileName: string\n  helpUrl: string\n  isNewFile: boolean\n  isOnboardingGuidance: boolean\n  markdownDocsUrl: string\n  pickers: EditorPickers\n  previewEditPath: string\n  renderableExtensions: string[]\n  slashCommandsEnabled: boolean\n  customSlashCommandsEnabled: boolean\n  secretPushProtectionHelpUrl: string\n  uploadPolicyPath: string\n  uploadExtensions: string[]\n}\n\nexport type CanCommitStatus = 'blocked' | 'can_bypass' | 'allowed'\n\nexport interface WebCommitInfo {\n  authorEmails: string[]\n  canCommitStatus: CanCommitStatus\n  commitOid: string\n  dcoSignoffEnabled: boolean\n  dcoSignoffHelpUrl?: string\n  defaultEmail: string\n  defaultNewBranchName: string\n  forkedRepo?: ForkedRepoInfo\n  guidanceTask?: string\n  lockedOnMigration: boolean\n  pr: string\n  protectionNotEnforcedInfo?: ProtectionNotEnforcedInfo\n  repoHeadEmpty: boolean\n  saveUrl: string\n  shouldFork: boolean\n  shouldUpdate: boolean\n  suggestionsUrlEmoji: string\n  suggestionsUrlIssue: string\n  suggestionsUrlMention: string\n}\n\nexport interface ForkedRepoInfo {\n  name: string\n  owner: string\n  id: string\n}\n\nexport interface ProtectionNotEnforcedInfo {\n  editRepositoryRulesetsPath: string\n  editRepositoryBranchesPath: string\n  branchProtected: boolean\n  rulesetsProtected: boolean\n  organization: boolean\n  featureRequestInfo: FeatureRequestInfo\n  upsellCtaInfo: UpsellCtaInfo\n}\n\nexport type UpsellCtaInfo = {\n  visible: boolean\n  cta: {\n    showUpgradeButton: boolean\n    askAdmin: boolean\n    ctaPath?: string\n  }\n}\n\ninterface CodeMirrorInfo extends CodeMirrorSpacingOptions {\n  showFileActions: boolean\n}\n\nexport interface EditorInfo {\n  actionsEnabled: boolean\n  dependabotEditorEnabled: boolean\n  devcontainerEditorEnabled: boolean\n  isEnterprise: boolean\n  isProxima: boolean\n  repositoryActionsEnabled: boolean\n  repositoryActionsReadinessPath: string\n}\n\ninterface EditorPickers {\n  licensePickerAvailable: boolean\n  licenseToolPath: string\n  codeOfConductPickerAvailable: boolean\n  codeOfConductToolPath: string\n}\n\ninterface EditorBanners {\n  citationHelpUrl: string\n  editRepoPath: string\n  /**\n   * The detected encoding that will be replaced when the file is committed.\n   */\n  hasMixedLineEndings?: boolean\n  orgProfileReadmeCalloutEnabled: boolean\n  orgMemberProfileReadmeCalloutEnabled: boolean\n  profileReadmeCalloutEnabled: boolean\n  replacedDetectedEncoding?: string\n  repositoryCitationTemplateUrl: string\n  repositoryFundingLinksEnabled: boolean\n  sponsorsEnabled: boolean\n}\n\nexport interface SaveResponse {\n  data: {\n    redirect?: string\n    message?: string\n    commitQuorumPollPath?: string\n    error?: string\n    error_details?: SaveResponseErrorDetails\n    secretBypassMetadata?: BypassMetadata\n  }\n}\n\nexport interface SaveResponseErrorDetails {\n  ruleViolations?: string[]\n}\n\nexport interface DiffResponse {\n  data: {\n    html: SafeHTMLString | null\n    diffLines: DiffLines[] | null\n    rawLines: string[] | null\n    stylingDirectives: StylingDirectivesDocument | null\n    message: string | null\n    messageHtml: string | null\n    displayData: DiffDislayInfo | null\n    fundingLinks: FundingData | null\n  }\n}\n\nexport interface FundingData {\n  externalAccounts: Array<{\n    link: string\n    platform: string\n  }>\n  sponsorableOrg: string | null\n  sponsorableUsers: string[]\n  errors: string[]\n  reportAbuseLink: string | null\n  hasValidPlatform: boolean\n}\n\nexport interface DiffDislayInfo {\n  displayUrl: string\n  identityUuid: string\n  renderFileType: string\n  size: number\n}\n\nexport interface DiffLines {\n  rightLine: DiffLine\n  leftLine: DiffLine\n}\n\nexport interface DiffLine {\n  left: number\n  html: string\n  noNewLine: boolean\n  right: number\n  type: DiffLineType\n}\n\nexport const enum BypassReason {\n  FALSE_POSITIVE = 'false_positive',\n  USED_IN_TESTS = 'used_in_tests',\n  WILL_FIX_LATER = 'will_fix_later',\n}\n\nexport interface SidepanelDocsHtml {\n  workflow: string\n  issueForm: string\n  issueTemplate: string\n  discussionTemplate: string\n}\n\nexport interface SidepanelMarketplaceUrls {\n  workflow: string\n  devcontainers: string\n}\n\nexport interface CodeMirrorSpacingOptions {\n  indentMode?: 'tab' | 'space'\n  indentSize?: '2' | '4' | '8'\n  lineWrapping?: 'on' | 'off'\n}\n","import type {BlobPayload} from './blob-types'\nimport type {FilePagePayload} from './code-view-types'\n\nexport type ReposFileTreeData = Record<string, {items: DirectoryItem[]; totalCount: number}>\n\nexport interface FileTreePagePayload extends FilePagePayload {\n  tree: TreePayload\n}\n\nexport function isTreePayload(payload: FilePagePayload): payload is FileTreePagePayload {\n  return 'tree' in payload\n}\n\nexport interface TreePayload {\n  items: DirectoryItem[]\n\n  /**\n   * If the directory has a readme file, this is the blob payload containing a preview.\n   */\n  readme?: ReadmeBlobPayload\n  totalCount: number\n  /**\n   * If provided, a banner suggestion to configure issue templates will be displayed,\n   * and this URL will be used for the Learn more link.\n   */\n  templateDirectorySuggestionUrl?: string\n  /**\n   * Indicates whether branch info bar should be displayed. This is true if the current branch is not the default branch\n   * or the repository is a fork. Details will be retrieved asynchronously.\n   */\n  showBranchInfobar: boolean\n}\n\nexport interface DirectoryItem {\n  name: string\n  contentType: 'directory' | 'submodule' | 'symlink_directory' | 'symlink_file' | 'file'\n  path: string\n  hasSimplifiedPath?: boolean\n  totalCount?: number\n  submoduleUrl?: string\n  submoduleDisplayName?: string\n  isClientOnly?: boolean\n}\n\nexport interface BranchInfoBar {\n  refComparison?: RefComparison\n  /**\n   * Pull request number, if the current branch has a pull request.\n   */\n  pullRequestNumber?: number\n}\n\nexport interface RefComparison {\n  ahead: number\n  behind: number\n  baseBranch: string\n  baseBranchRange: string\n  currentRef: string\n  isTrackingBranch: boolean\n}\n\nexport interface ReadmeBlobPayload extends Pick<BlobPayload, 'displayName' | 'richText' | 'errorMessage' | 'timedOut'> {\n  headerInfo: Pick<BlobPayload['headerInfo'], 'siteNavLoginPath' | 'toc'>\n}\n\nexport type ExpandTreeFunction = (options?: {focus?: 'toggleButton' | 'search' | null; setCookie?: boolean}) => void\nexport type CollapseTreeFunction = (options?: {\n  focus?: 'toggleButton' | null\n  when?: 'medium'\n  setCookie?: boolean\n}) => void\n","import type {FilePagePayload} from './code-view-types'\nimport type {FileTreePagePayload, ReadmeBlobPayload} from './tree-types'\n\nexport interface FileOverviewPayload extends FileTreePagePayload {\n  overview: OverviewPayload\n}\n\nexport function isFileOverviewPayload(payload: FilePagePayload): payload is FileOverviewPayload {\n  return 'overview' in payload\n}\n\nexport interface OverviewPayload {\n  codeButton: CodeButton\n  createFromTemplatePath: string\n  banners: {\n    shouldRecommendReadme: boolean\n    isPersonalRepo: boolean\n    showUseActionBanner: boolean\n    actionSlug: string | undefined\n    actionId: number | undefined\n    showProtectBranchBanner: boolean | undefined\n    publishBannersInfo: {\n      dismissActionNoticePath: string\n      releasePath: string\n      showPublishActionBanner: boolean\n    }\n    interactionLimitBanner?: InteractionLimitBanner\n    showInvitationBanner: boolean\n    inviterName: string | undefined\n    actionsMigrationBannerInfo: {\n      releaseTags: string[]\n      showImmutableActionsMigrationBanner: boolean\n      initialMigrationStatus: string | null\n    }\n  }\n  commitCount: string\n  overviewFiles: RepoOverviewBlobPayload[] | undefined\n  popovers: {\n    rename: BranchRename | null\n    renamedParentRepo: {\n      nameWithOwner: string\n      branchName: string\n    } | null\n  }\n  templateButton?: {\n    codespacesPath: string\n    templateRepoId: string\n    templateRef: string\n  }\n}\n\nexport interface CodeButton {\n  codespacesEnabled: boolean\n  hasAccessToCodespaces: boolean\n  repoPolicyInfo?: RepoPolicyInfo\n  contactPath: string\n  currentUserIsEnterpriseManaged: boolean\n  enterpriseManagedBusinessName?: string\n  isEnterprise: boolean\n  newCodespacePath?: string\n  local: {\n    protocolInfo: {\n      httpAvailable: boolean\n      sshAvailable: boolean\n      httpUrl: string\n      showCloneWarning: boolean\n      sshUrl: string\n      sshCertificatesRequired: boolean\n      sshCertificatesAvailable: boolean\n      ghCliUrl: string\n      defaultProtocol: string\n      newSshKeyUrl: string\n      setProtocolPath: string\n    }\n    platformInfo: {\n      cloneUrl: string\n      visualStudioCloneUrl: string\n      xcodeCloneUrl: string\n      zipballUrl: string\n      showVisualStudioCloneButton: boolean\n      showXcodeCloneButton: boolean\n    }\n  }\n}\n\nexport interface RepoPolicyInfo {\n  allowed: boolean\n  canBill: boolean\n  hasIpAllowLists: boolean\n  disabledByBusiness: boolean\n  disabledByOrganization: boolean\n  changesWouldBeSafe: boolean\n}\n\nexport interface BranchRename {\n  oldName: string\n  shellOldName: string\n  newName: string\n  shellNewName: string\n  shellEscapingDocsURL?: string\n}\n\nexport interface InteractionLimitBanner {\n  adminLink: string | null\n  adminText: string | null\n  currentExpiry: string\n  disablePath: string | null\n  limitTitle: string\n  inOrganization: boolean\n  usersHaveAccess: boolean\n  contributorsHaveAccess: boolean\n}\n\nexport interface RecentlyTouchedBranch {\n  branchName: string\n  comparePath: string\n  date: string\n  repoName: string\n  repoOwner: string\n}\n\nexport enum PreferredFileTypes {\n  README = 'readme',\n  CODE_OF_CONDUCT = 'code_of_conduct',\n  LICENSE = 'license',\n  SECURITY = 'security',\n}\n\nexport interface RepoOverviewBlobPayload extends ReadmeBlobPayload {\n  path: string\n  refName: string\n  repoName: string\n  preferredFileType: PreferredFileTypes\n  tabName?: string\n  loaded: boolean\n}\n","// Report uncaught JS errors to Sentry\n//   https://sentry.io/github/github-js\n\nimport {getOrCreateClientId} from '@github/hydro-analytics-client'\nimport {isSupported} from '@github/browser-support'\nimport {parse} from 'stacktrace-parser'\nimport {requestUri} from '@github-ui/analytics-overrides'\nimport {bundler} from '@github-ui/runtime-environment'\nimport {ssrSafeWindow} from '@github-ui/ssr-utils'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {getSoftNavReferrer} from '@github-ui/soft-nav/utils'\n\nlet extensionErrors = false\nlet errorsReported = 0\nconst loadTime = Date.now()\n// network error messages are not consistent across browsers, this is a list of known messages for chrome and firefox\nexport const EXPECTED_NETWORK_ERROR_MESSAGES = new Set([\n  'Failed to fetch',\n  'NetworkError when attempting to fetch resource.',\n])\n\ntype ErrorContext = {\n  message?: string\n}\n\n// Check if an arbitrary object is an error, or at least an object that satisfies the interface of an error,\n// with the necessary information to be able to report it to Sentry.\nfunction isError(error: unknown): error is Error {\n  // Check if it's a definite instance of an error\n  if (error instanceof Error) return true\n  // Otherwise, check that it at least satisfies the interface of an error\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    'name' in error &&\n    typeof error.name === 'string' &&\n    'message' in error &&\n    typeof error.message === 'string'\n  )\n}\n\n/** Tries to serialize an arbitrary error value that is not an Error object, and returns a default message otherwise */\nfunction serializeNonError(error: unknown): string {\n  try {\n    return JSON.stringify(error)\n  } catch {\n    return 'Unserializable'\n  }\n}\n\nfunction isExpectedError(error: Error): boolean {\n  // We use AbortController to control events and some workflows. When we call `abort()` on it, it will raise an\n  // `AbortError` which doesn't represent a real error, so we don't want to report it.\n  if (error.name === 'AbortError') return true\n  // Failed to fetch errors are usually related to the user's network connection. They also do not represent\n  // real errors related to our code, so we will also ignore them.\n  if (error.name === 'TypeError' && EXPECTED_NETWORK_ERROR_MESSAGES.has(error.message)) return true\n  // For memex we use an ApiError class to represent errors returned from the API\n  // Additional details in the format of ApiErrorOpts are affixed to the name as a stringified JSON object\n  // so we just need to ensure the error name starts with ApiError\n  // see ui/packages/memex/src/client/platform/api-error.ts for more details.\n  if (error.name.startsWith('ApiError') && EXPECTED_NETWORK_ERROR_MESSAGES.has(error.message)) return true\n\n  return false\n}\n\n// @deprecated Re-throw the caught exception instead.\nexport function reportError(error: unknown, context: ErrorContext = {}) {\n  if (isFeatureEnabled('FAILBOT_HANDLE_NON_ERRORS')) {\n    if (!isError(error)) {\n      if (isIgnoredNonError(error)) return\n\n      // Create an error instance so that we can get the stacktrace of how this was reported\n      const errorForStackTrace = new Error()\n      const serializedErrorValue = serializeNonError(error)\n      // Construct a custom error object so we can keep track of anywhere that we report an error that isn't an Error object\n      const newError: PlatformJavascriptError = {\n        type: 'UnknownError',\n        value: `Unable to report error, due to a thrown non-Error type: ${typeof error}, with value ${serializedErrorValue}`,\n        stacktrace: stacktrace(errorForStackTrace),\n        catalogService: undefined,\n      }\n      report(errorContext(newError, context))\n      return\n    }\n    if (!isExpectedError(error)) {\n      report(errorContext(formatError(error), context))\n    }\n  } else {\n    // Without feature flag, we will cast the `error` variable which was implicitly the old\n    // behavior of the non-feature flagged code.\n    if (!isExpectedError(error as Error)) {\n      report(errorContext(formatError(error as Error), context))\n    }\n  }\n}\n\n// Report context info to Sentry.\nasync function report(context: PlatformReportBrowserErrorInput) {\n  if (!reportable()) return\n\n  const url = document.head?.querySelector<HTMLMetaElement>('meta[name=\"browser-errors-url\"]')?.content\n  if (!url) return\n\n  if (isExtensionError(context.error.stacktrace)) {\n    extensionErrors = true\n    return\n  }\n\n  errorsReported++\n\n  try {\n    await fetch(url, {method: 'post', body: JSON.stringify(context)})\n  } catch {\n    // Error reporting failed so do nothing.\n  }\n}\n\nfunction formatError(error: Error): PlatformJavascriptError {\n  return {\n    type: error.name,\n    value: error.message,\n    stacktrace: stacktrace(error),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    catalogService: (error as any)['catalogService'],\n  }\n}\n\nfunction errorContext(error: PlatformJavascriptError, context: ErrorContext = {}): PlatformReportBrowserErrorInput {\n  return Object.assign(\n    {\n      error,\n      sanitizedUrl: requestUri() || window.location.href,\n      readyState: document.readyState,\n      referrer: getSoftNavReferrer(),\n      timeSinceLoad: Math.round(Date.now() - loadTime),\n      user: pageUser() || undefined,\n      bundler,\n      ui: Boolean(document.querySelector('meta[name=\"ui\"]')),\n    },\n    context,\n  )\n}\n\nexport function stacktrace(error: Error): PlatformStackframe[] {\n  return parse(error.stack || '').map(frame => ({\n    filename: frame.file || '',\n    function: String(frame.methodName),\n    lineno: (frame.lineNumber || 0).toString(),\n    colno: (frame.column || 0).toString(),\n  }))\n}\n\nconst extensions = /(chrome|moz|safari)-extension:\\/\\//\n\n// Does this stack trace contain frames from browser extensions?\nfunction isExtensionError(stack: PlatformStackframe[]): boolean {\n  return stack.some(frame => extensions.test(frame.filename) || extensions.test(frame.function))\n}\n\nexport function pageUser() {\n  const login = document.head?.querySelector<HTMLMetaElement>('meta[name=\"user-login\"]')?.content\n  if (login) return login\n\n  const clientId = getOrCreateClientId()\n  return `anonymous-${clientId}`\n}\n\nlet unloaded = false\nssrSafeWindow?.addEventListener('pageshow', () => (unloaded = false))\nssrSafeWindow?.addEventListener('pagehide', () => (unloaded = true))\n\nfunction reportable() {\n  return !unloaded && !extensionErrors && errorsReported < 10 && isSupported()\n}\n\nif (typeof BroadcastChannel === 'function') {\n  const sharedWorkerErrorChannel = new BroadcastChannel('shared-worker-error')\n  sharedWorkerErrorChannel.addEventListener('message', event => {\n    // SharedWorker will emit a formatted error\n    reportError(event.data.error)\n  })\n}\n\nconst ignoredErrorMessages = [\n  'Object Not Found Matching Id', // from Microsoft Outlook SafeLink crawler\n  'Not implemented on this platform', // LastPass Safari extension\n  `provider because it's not your default extension`, // MetaMask extension\n]\n\n/**\n * We see a fair number of \"errors\" which are not actually Error objects. This function will return true if the\n * error is one of these known non-Error types and has content which we know can safely be ignored.\n * Most of these errors come from specific browsers or extensions which we can't control, so we just ignore them.\n * @param error An error that is not an Error object\n * @returns boolean\n */\nfunction isIgnoredNonError(error: unknown) {\n  if (!error || typeof error === 'boolean' || typeof error === 'number') {\n    // Rejected with a type that is not useful to report. Just ignore it.\n    return true\n  } else if (typeof error === 'string') {\n    // rejected with a string. See if it's a known error that we can ignore\n    if (ignoredErrorMessages.some(message => error.includes(message))) {\n      return true\n    }\n  } else if (\n    typeof error === 'object' &&\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof (error as any).message === 'string' &&\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof (error as any).code === 'number'\n  ) {\n    // We see an object like {\"message\":\"Not connected\",\"code\":4900} from some extension, likely MetaMask. Ignore these\n    return true\n  }\n\n  return false\n}\n","import {useCallback, useContext} from 'react'\nimport {sendEvent} from '@github-ui/hydro-analytics'\nimport {AnalyticsContext} from '@github-ui/analytics-provider/context'\n\nexport interface AnalyticsEvent {\n  category: string\n  action: string\n  label: string\n  [key: string]: unknown\n}\n\ntype SendAnalyticsEventFunction = (\n  eventType: string,\n  target?: string,\n  payload?: {[key: string]: unknown} | AnalyticsEvent,\n) => void\n\n/**\n * Use this hook with the AnalyticsContext to send user analytics events to the data warehouse.\n * This hook will read values from the nearest AnalyticsContext.Provider, though you can override properties directly when sending an event.\n * It uses the `sendEvent` helper from `github/hydro-analytics`,\n * which enriches event context with additional information about the user, repository, and current page.\n * See: https://thehub.github.com/epd/engineering/products-and-services/internal/hydro/installation/browser-events/\n *\n * You can find a list of all included context properties in `app/helpers/octolytics_helper.rb`.\n *\n *\n * @example\n * ```tsx\n * function Component() {\n *   const { sendAnalyticsEvent } = useAnalytics()\n *   return <Button onClick={() => sendAnalyticsEvent('file_tree.close', 'FILE_TREE_TOGGLE')}>CLOSE TREE</Button>\n * }\n * ```\n *\n */\nexport function useAnalytics(): {\n  sendAnalyticsEvent: SendAnalyticsEventFunction\n} {\n  // WARNING: Do not add any hooks here that will cause rerenders on soft navs.\n  const contextData = useContext(AnalyticsContext)\n\n  if (!contextData) {\n    throw new Error('useAnalytics must be used within an AnalyticsContext')\n  }\n  const {appName, category, metadata} = contextData\n\n  return {\n    sendAnalyticsEvent: useCallback(\n      (eventType, target?, payload = {}) => {\n        const context = {\n          react: true,\n          ['app_name']: appName,\n          category,\n          ...metadata,\n        }\n        sendEvent(eventType, {...context, ...payload, target})\n      },\n      [appName, category, metadata],\n    ),\n  }\n}\n\n/**\n * Use this hook with the AnalyticsContext to send user analytics events to the data warehouse.\n * This hook will read values from the nearest AnalyticsContext.Provider, though you can override properties directly when sending an event.\n * It uses the `sendEvent` helper from `github/hydro-analytics`,\n * which enriches event context with additional information about the user, repository, and current page.\n * See: https://thehub.github.com/epd/engineering/products-and-services/internal/hydro/installation/browser-events/\n *\n * You can find a list of all included context properties in `app/helpers/octolytics_helper.rb`.\n *\n *\n * @example\n * ```tsx\n * function Component() {\n *   const { sendClickAnalyticsEvent } = useClickAnalytics()\n *   return <Button onClick={() => sendClickAnalyticsEvent({category: '...', action: '...', label: '...'})}>Submit</Button>\n * }\n * ```\n *\n */\nexport function useClickAnalytics(): {\n  sendClickAnalyticsEvent: (payload?: {[key: string]: unknown} | AnalyticsEvent) => void\n} {\n  const {sendAnalyticsEvent} = useAnalytics()\n  return {\n    sendClickAnalyticsEvent: useCallback(\n      (payload = {}) => {\n        sendAnalyticsEvent('analytics.click', undefined, payload)\n      },\n      [sendAnalyticsEvent],\n    ),\n  }\n}\n","import memoize from '@github/memoize'\nimport {repositoryTreePath} from '@github-ui/paths'\nimport type {CommitWithStatus} from '@github-ui/repos-types'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav/states'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\nasync function fetchJSON(url: string): Promise<CommitWithStatus | undefined> {\n  const response = await verifiedFetchJSON(url)\n  if (response.ok) {\n    return await response.json()\n  } else {\n    return undefined\n  }\n}\n\nconst memoizeCache = new Map()\nconst memoizeFetchJSON = memoize(fetchJSON, {cache: memoizeCache})\n\nexport function resetMemoizeFetchJSON() {\n  memoizeCache.clear()\n}\n\n/**\n * Retrieve information of latest commit of current blob or ref and path\n * If we have a current blob payload and it has latest commit, it will be returned immediately\n * Otherwise, we will fetch the latest commit from the server with the ref and path\n * Tree commits are always fetched from the server using the ref and path\n *\n * returns an array with latest commit, loading state and error\n * while loading returns [undefined, true, false]\n * if cannot retrieve latest commit, returns [undefined, false, true]\n */\nexport function useLatestCommit(\n  repoOwner: string | undefined,\n  repoName: string | undefined,\n  commitish: string | undefined,\n  path: string | undefined,\n): [CommitWithStatus | undefined, boolean, boolean] {\n  const [latestCommit, setLatestCommit] = useState<CommitWithStatus>()\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(true)\n\n  const commitInfoPath =\n    repoName && repoOwner && commitish && path\n      ? repositoryTreePath({\n          repo: {name: repoName, ownerLogin: repoOwner},\n          commitish,\n          action: 'latest-commit',\n          path,\n        })\n      : null\n\n  // Adding a hook-specific reset call solution to reset memoize cache\n  // We accept the cost of resetting the cache once per hook instance, as the cost of resetting the cache is cheap\n  // If we implement Relay, it replaces this solution\n  useEffect(() => {\n    document.addEventListener(SOFT_NAV_STATE.START, resetMemoizeFetchJSON)\n\n    return () => {\n      document.removeEventListener(SOFT_NAV_STATE.START, resetMemoizeFetchJSON)\n    }\n  })\n\n  useEffect(() => {\n    let cancelled = false\n\n    const update = async () => {\n      if (!commitInfoPath) return\n\n      setError(false)\n      setLoading(true)\n      setLatestCommit(undefined)\n      const commit = await memoizeFetchJSON(commitInfoPath)\n\n      if (cancelled) {\n        return\n      }\n\n      try {\n        if (commit) {\n          setLatestCommit(commit)\n        } else {\n          setError(true)\n        }\n      } catch (e) {\n        setError(true)\n      }\n      setLoading(false)\n    }\n\n    update()\n\n    return function cancel() {\n      cancelled = true\n    }\n  }, [commitInfoPath, commitish])\n\n  return [latestCommit, loading, error]\n}\n","import {useCurrentRepository} from '@github-ui/current-repository'\nimport {repositoryTreePath} from '@github-ui/paths'\nimport {Link} from '@github-ui/react-core/link'\nimport {ScreenReaderHeading} from '@github-ui/screen-reader-heading'\nimport {PlusIcon, UploadIcon} from '@primer/octicons-react'\nimport {ActionList, ActionMenu, IconButton} from '@primer/react'\nimport {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport {useReposAnalytics} from '../hooks/use-repos-analytics'\n\nexport function AddFileDropdownButton({useIcon}: {useIcon?: boolean}) {\n  const {refInfo, path} = useFilesPageInfo()\n  const repo = useCurrentRepository()\n  const {sendRepoClickEvent} = useReposAnalytics()\n\n  if (!refInfo.canEdit) {\n    return null\n  }\n\n  return (\n    <>\n      <ScreenReaderHeading as=\"h2\" text=\"Add file\" />\n      <ActionMenu>\n        {useIcon ? (\n          <ActionMenu.Anchor>\n            {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n            <IconButton unsafeDisableTooltip={true} icon={PlusIcon} aria-label=\"Add file\" />\n          </ActionMenu.Anchor>\n        ) : (\n          <ActionMenu.Button>Add file</ActionMenu.Button>\n        )}\n        <ActionMenu.Overlay sx={{maxHeight: '55vh', overflowY: 'auto'}}>\n          <ActionList>\n            <ActionList.LinkItem\n              as={Link}\n              onClick={() => sendRepoClickEvent('NEW_FILE_BUTTON')}\n              to={repositoryTreePath({repo, path, commitish: refInfo.name, action: 'new'})}\n            >\n              <ActionList.LeadingVisual>\n                <PlusIcon />\n              </ActionList.LeadingVisual>\n              Create new file\n            </ActionList.LinkItem>\n            <ActionList.LinkItem\n              onClick={() => sendRepoClickEvent('UPLOAD_FILES_BUTTON')}\n              href={repositoryTreePath({repo, path, commitish: refInfo.name, action: 'upload'})}\n            >\n              <ActionList.LeadingVisual>\n                <UploadIcon />\n              </ActionList.LeadingVisual>\n              Upload files\n            </ActionList.LinkItem>\n          </ActionList>\n        </ActionMenu.Overlay>\n      </ActionMenu>\n    </>\n  )\n}\n\ntry{ AddFileDropdownButton.displayName ||= 'AddFileDropdownButton' } catch {}","import type React from 'react'\n\nimport {useAllShortcutsEnabled} from '../contexts/AllShortcutsEnabledContext'\n\nexport function AllShortcutsEnabled({children}: {children: React.ReactNode}) {\n  const allShortcutsEnabled = useAllShortcutsEnabled()\n  return allShortcutsEnabled ? <>{children}</> : null\n}\n\ntry{ AllShortcutsEnabled.displayName ||= 'AllShortcutsEnabled' } catch {}","import {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {repoDefaultBrachUrl, repoOverviewUrl} from '@github-ui/paths'\nimport type {PageError} from '@github-ui/react-core/app-routing-types'\nimport {AlertIcon} from '@primer/octicons-react'\nimport {Box, BranchName, Link, LinkButton, Octicon} from '@primer/react'\nimport LinkButtonCSS from '../css/LinkButton.module.css'\nimport {clsx} from 'clsx'\n\nexport function CodeViewError(error: PageError) {\n  const repo = useCurrentRepository()\n  const {refInfo, path} = useFilesPageInfo()\n\n  return (\n    <Box\n      sx={{\n        minHeight: '100vh',\n        margin: 16,\n      }}\n    >\n      <div className=\"d-flex flex-column flex-justify-center flex-items-center border rounded-2 px-6 py-7\">\n        <Octicon icon={AlertIcon} className=\"fgColor-muted mb-2\" size={20} />\n        <ErrorText {...error} />\n        {(path || !refInfo.currentOid) && (\n          <LinkButton\n            type=\"button\"\n            className={clsx('mt-4', LinkButtonCSS['code-view-link-button'])}\n            variant=\"primary\"\n            aria-label={refInfo.currentOid ? 'go to Overview' : 'go to default branch'}\n            href={refInfo.currentOid ? repoOverviewUrl(repo) : repoDefaultBrachUrl(repo)}\n          >\n            {refInfo.currentOid ? 'Return to the repository overview' : 'Go to default branch'}\n          </LinkButton>\n        )}\n      </div>\n    </Box>\n  )\n}\n\nfunction ErrorText({httpStatus, type}: PageError) {\n  const title = httpStatus === 404 ? '404 - page not found' : 'Error loading page'\n\n  return (\n    <div className=\"d-flex flex-column flex-items-center gap-1 text-center\">\n      <div className=\"f2 fgColor-default text-bold\">{title}</div>\n\n      {httpStatus === 404 ? <DescriptionText404 /> : <DefaultDescriptionText httpStatus={httpStatus} type={type} />}\n    </div>\n  )\n}\n\nfunction DescriptionText404() {\n  const repo = useCurrentRepository()\n  const {path, refInfo} = useFilesPageInfo()\n\n  if (!refInfo.currentOid) {\n    return (\n      <div className=\"d-flex flex-wrap flex-justify-center fgColor-muted\" data-testid=\"error-404-description\">\n        Cannot find a valid ref in&nbsp;\n        <BranchName as=\"p\" className=\"mb-0\">\n          {refInfo.name}\n        </BranchName>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"d-flex flex-wrap flex-justify-center fgColor-muted\" data-testid=\"eror-404-description\">\n      The&nbsp;\n      <BranchName as=\"p\" className=\"mb-0\">\n        {refInfo.name}\n      </BranchName>\n      &nbsp;branch of&nbsp;\n      <p className=\"text-bold mb-0\">{repo.name}</p>\n      &nbsp;does not contain the path&nbsp;\n      <p className=\"text-bold mb-0\">{path}.</p>\n    </div>\n  )\n}\n\nfunction DefaultDescriptionText({httpStatus, type}: {httpStatus?: number; type?: string}) {\n  const errorNumberText = httpStatus ? ` ${httpStatus} error` : 'error'\n\n  if (type === 'fetchError') {\n    return (\n      <div className=\"f5 fgColor-muted\" data-testid=\"fetch-error-description\">\n        It looks like your internet connection is down. Please check it.\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"f5 fgColor-muted\" data-testid=\"default-error-description\">\n      An unexpected {errorNumberText} occured. Try\n      <Link inline onClick={() => window.location.reload()} key=\"reload-page\">\n        &nbsp;reloading the page.\n      </Link>\n    </div>\n  )\n}\n\ntry{ CodeViewError.displayName ||= 'CodeViewError' } catch {}\ntry{ ErrorText.displayName ||= 'ErrorText' } catch {}\ntry{ DescriptionText404.displayName ||= 'DescriptionText404' } catch {}\ntry{ DefaultDescriptionText.displayName ||= 'DefaultDescriptionText' } catch {}","import {useNavigate} from '@github-ui/use-navigate'\nimport {PencilIcon} from '@primer/octicons-react'\nimport {IconButton} from '@primer/react'\nimport {useShortcut} from '../hooks/shortcuts'\n\nexport function EditButton({\n  editPath,\n  editTooltip,\n  customSx,\n}: {\n  editPath?: string\n  editTooltip: string\n  customSx?: Record<string, unknown>\n}): JSX.Element | null {\n  const {editFileShortcut} = useShortcut()\n  const navigate = useNavigate()\n\n  if (!editPath) return null\n\n  return (\n    // eslint-disable-next-line primer-react/a11y-remove-disable-tooltip\n    <IconButton\n      unsafeDisableTooltip={true}\n      icon={PencilIcon}\n      sx={{\n        ...customSx,\n      }}\n      aria-label={editTooltip}\n      onClick={() => {\n        navigate(editPath)\n      }}\n      data-hotkey={editFileShortcut.hotkey}\n      size=\"small\"\n      title={editTooltip}\n      variant=\"invisible\"\n    />\n  )\n}\n\ntry{ EditButton.displayName ||= 'EditButton' } catch {}","import {ChecksStatusBadge, useCommitChecksStatusDetails} from '@github-ui/commit-checks-status'\nimport {useCurrentRepository} from '@github-ui/current-repository'\n\ninterface Props {\n  oid: string\n  status: string | undefined\n}\n\nexport function ReposChecksStatusBadge({status, oid}: Props) {\n  const repo = useCurrentRepository()\n  const [details, fetchDetails] = useCommitChecksStatusDetails(oid, repo)\n\n  return status ? (\n    <ChecksStatusBadge statusRollup={status} combinedStatus={details} onWillOpenPopup={fetchDetails} size=\"small\" />\n  ) : null\n}\n\ntry{ ReposChecksStatusBadge.displayName ||= 'ReposChecksStatusBadge' } catch {}","import {SkeletonText} from './Skeleton'\nimport {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport {useReposAnalytics} from '../hooks/use-repos-analytics'\nimport {AuthorAvatar, CommitAttribution} from '@github-ui/commit-attribution'\nimport {useCurrentRepository, type Repository} from '@github-ui/current-repository'\nimport {commitHovercardPath, commitsPath} from '@github-ui/paths'\nimport {Link} from '@github-ui/react-core/link'\nimport type {CommitWithStatus} from '@github-ui/repos-types'\nimport {SafeHTMLText} from '@github-ui/safe-html'\nimport {ScreenReaderHeading} from '@github-ui/screen-reader-heading'\nimport {useLatestCommit} from '@github-ui/use-latest-commit'\nimport {AlertFillIcon, EllipsisIcon, HistoryIcon} from '@primer/octicons-react'\nimport {\n  Box,\n  type ButtonProps,\n  IconButton,\n  Link as PrimerLink,\n  LinkButton,\n  Octicon,\n  RelativeTime,\n  Tooltip,\n} from '@primer/react'\nimport {type PropsWithChildren, useState} from 'react'\n\nimport {ReposChecksStatusBadge} from './ReposChecksStatusBadge'\nimport {clsx} from 'clsx'\nimport LinkButtonCSS from '../css/LinkButton.module.css'\n\nexport function LatestCommitSingleLine({commitCount}: {commitCount?: string}) {\n  return (\n    <div className=\"d-flex flex-column border rounded-2 mb-3 pl-1\">\n      <LatestCommitContent commitCount={commitCount} />\n    </div>\n  )\n}\n\nexport function LatestCommitContent({commitCount}: {commitCount?: string}) {\n  const repo = useCurrentRepository()\n  const {refInfo, path} = useFilesPageInfo()\n  const [latestCommit, loading, error] = useLatestCommit(repo.ownerLogin, repo.name, refInfo.name, path)\n  const [detailsOpen, setDetailsOpen] = useState(false)\n\n  return (\n    <>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: ['wrap', 'nowrap'],\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          gap: 2,\n          // Min width is set to 273px to prevent the blob content from being too narrow.\n          // Supports a min screen size of 320px without introducing any horizontal scrollbars.\n          minWidth: '273px',\n          p: 2,\n        }}\n      >\n        <ScreenReaderHeading as=\"h2\" text=\"Latest commit\" />\n        {error ? (\n          <CommitErrorMessage />\n        ) : loading ? (\n          <SkeletonText width={120} data-testid=\"loading\" />\n        ) : latestCommit ? (\n          <CommitSummary commit={latestCommit} detailsOpen={detailsOpen} setDetailsOpen={setDetailsOpen} repo={repo} />\n        ) : null}\n        <div className=\"d-flex flex-shrink-0 gap-2\">\n          <LastCommitTimestamp commit={latestCommit} repo={repo} />\n          <HistoryLink\n            commit={latestCommit}\n            commitCount={commitCount}\n            detailsOpen={detailsOpen}\n            setDetailsOpen={setDetailsOpen}\n          />\n        </div>\n      </Box>\n      {detailsOpen && latestCommit && (\n        <div className={latestCommit.bodyMessageHtml ? 'd-flex' : 'd-flex d-sm-none'}>\n          <CommitDetails commit={latestCommit} repo={repo} />\n        </div>\n      )}\n    </>\n  )\n}\n\nfunction CommitErrorMessage() {\n  return (\n    <span className=\"fgColor-attention\" data-testid=\"latest-commit-error-message\">\n      <Octicon icon={AlertFillIcon} />\n      &nbsp;Cannot retrieve latest commit at this time.\n    </span>\n  )\n}\n\nfunction CommitSummary({\n  commit,\n  detailsOpen,\n  setDetailsOpen,\n  repo,\n}: {\n  commit: CommitWithStatus\n  detailsOpen: boolean\n  setDetailsOpen: (open: boolean) => void\n  repo: Repository\n}) {\n  const dataUrl = `data-hovercard-url=${commitHovercardPath({\n    owner: repo.ownerLogin,\n    repo: repo.name,\n    commitish: commit.oid,\n  })} `\n  const shortMessageHtmlLink = getProperHovercardsOnCommitMessage(commit.shortMessageHtmlLink, dataUrl)\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        minWidth: 0,\n        fontSize: 1,\n        alignItems: 'center',\n        width: 'max-content',\n        gap: 2,\n        flexGrow: 1,\n      }}\n      data-testid=\"latest-commit\"\n    >\n      {commit.authors && commit.authors.length > 0 ? (\n        <CommitAttribution\n          authors={commit.authors}\n          repo={repo}\n          includeVerbs={false}\n          committer={commit.committer}\n          committerAttribution={commit.committerAttribution}\n        />\n      ) : (\n        <AuthorAvatar author={commit.author} repo={repo} />\n      )}\n      <Box className=\"d-none d-sm-flex\" sx={{alignItems: 'center', minWidth: 0, gap: 2}}>\n        <div className=\"Truncate flex-items-center f5\">\n          {commit.shortMessageHtmlLink && (\n            <SafeHTMLText\n              className=\"Truncate-text\"\n              data-testid=\"latest-commit-html\"\n              unverifiedHTML={shortMessageHtmlLink}\n            />\n          )}\n        </div>\n        {commit.bodyMessageHtml && <CommitDetailsButton detailsOpen={detailsOpen} setDetailsOpen={setDetailsOpen} />}\n        <ReposChecksStatusBadge oid={commit.oid} status={commit.status} />\n      </Box>\n      {!Number.isNaN(Date.parse(commit.date)) ? (\n        <span className=\"d-flex d-sm-none fgColor-muted f6\">\n          <RelativeTime datetime={commit.date} tense=\"past\" />\n        </span>\n      ) : null}\n    </Box>\n  )\n}\n\nfunction LastCommitTimestamp({commit, repo}: {commit?: CommitWithStatus | null; repo: Repository}) {\n  const abbreviatedOid = commit?.oid.slice(0, 7)\n\n  return (\n    <div data-testid=\"latest-commit-details\" className=\"d-none d-sm-flex flex-items-center\">\n      {commit && (\n        <span className=\"d-flex flex-nowrap fgColor-muted f6\">\n          <PrimerLink\n            as={Link}\n            to={commit.url}\n            className=\"Link--secondary\"\n            aria-label={`Commit ${abbreviatedOid}`}\n            data-hovercard-url={commitHovercardPath({\n              owner: repo.ownerLogin,\n              repo: repo.name,\n              commitish: commit.oid,\n            })}\n          >\n            {abbreviatedOid}\n          </PrimerLink>\n          &nbsp;·&nbsp;\n          {!Number.isNaN(Date.parse(commit.date)) ? <RelativeTime datetime={commit.date} tense=\"past\" /> : null}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction HistoryLink({\n  commit,\n  commitCount,\n  detailsOpen,\n  setDetailsOpen,\n}: {\n  commit?: CommitWithStatus | null\n  commitCount?: string\n  detailsOpen: boolean\n  setDetailsOpen: (open: boolean) => void\n}) {\n  return (\n    <div className=\"d-flex gap-2\">\n      <ScreenReaderHeading as=\"h2\" text=\"History\" />\n      <HistoryLinkButton className=\"d-none d-lg-flex\" leadingVisual={HistoryIcon}>\n        <span className=\"fgColor-default\">{commitCountLabel(commitCount)}</span>\n      </HistoryLinkButton>\n      <div className=\"d-sm-none\">\n        {(commit?.shortMessageHtmlLink || commit?.bodyMessageHtml) && (\n          <CommitDetailsButton detailsOpen={detailsOpen} setDetailsOpen={setDetailsOpen} />\n        )}\n      </div>\n      <div className=\"d-flex d-lg-none\">\n        <Tooltip text={commitCountLabel(commitCount)} id=\"history-icon-button-tooltip\">\n          <HistoryLinkButton leadingVisual={HistoryIcon} aria-describedby=\"history-icon-button-tooltip\" />\n        </Tooltip>\n      </div>\n    </div>\n  )\n}\n\nfunction commitCountLabel(commitCount?: string) {\n  if (!commitCount) {\n    return 'History'\n  }\n\n  return commitCount === '1' ? '1 Commit' : `${commitCount} Commits`\n}\n\nfunction HistoryLinkButton({\n  children,\n  className,\n  leadingVisual,\n  ...props\n}: PropsWithChildren<Pick<ButtonProps, 'className' | 'leadingVisual' | 'aria-describedby'>>) {\n  const {sendRepoClickEvent} = useReposAnalytics()\n  const {refInfo, path} = useFilesPageInfo()\n  const repo = useCurrentRepository()\n\n  return (\n    <LinkButton\n      aria-describedby={props['aria-describedby']}\n      className={clsx(className, LinkButtonCSS['code-view-link-button'], 'flex-items-center fgColor-default')}\n      onClick={() => sendRepoClickEvent('HISTORY_BUTTON')}\n      href={commitsPath({\n        owner: repo.ownerLogin,\n        repo: repo.name,\n        ref: refInfo.name,\n        path,\n      })}\n      variant=\"invisible\"\n      size=\"small\"\n      leadingVisual={leadingVisual}\n    >\n      {children}\n    </LinkButton>\n  )\n}\n\nfunction CommitDetailsButton({\n  detailsOpen,\n  setDetailsOpen,\n}: {\n  detailsOpen: boolean\n  setDetailsOpen: (open: boolean) => void\n}) {\n  return (\n    // eslint-disable-next-line primer-react/a11y-remove-disable-tooltip\n    <IconButton\n      unsafeDisableTooltip={true}\n      aria-label=\"Open commit details\"\n      icon={EllipsisIcon}\n      sx={{color: 'fg.muted', minWidth: '28px'}}\n      onClick={() => setDetailsOpen(!detailsOpen)}\n      variant=\"invisible\"\n      aria-pressed={detailsOpen}\n      aria-expanded={detailsOpen}\n      data-testid=\"latest-commit-details-toggle\"\n      size=\"small\"\n    />\n  )\n}\n\nfunction CommitDetails({commit, repo}: {commit: CommitWithStatus; repo: Repository}) {\n  const abbreviatedOid = commit?.oid.slice(0, 7)\n  return (\n    <div className=\"bgColor-muted border-top rounded-bottom-2 px-3 py-2 flex-1\">\n      <div className=\"d-flex d-sm-none flex-column\">\n        <Box sx={{display: 'flex', flexDirection: 'row', minWidth: 0, gap: 2, alignItems: 'start'}}>\n          {commit.shortMessageHtmlLink && (\n            <SafeHTMLText\n              className=\"Truncate-text\"\n              data-testid=\"latest-commit-html\"\n              html={commit.shortMessageHtmlLink}\n              // This link is auto formatted to be fg.muted. Which is great normally but not for this spot\n              sx={{'> a': {color: 'var(--fgColor-default, var(--color-fg-default)) !important'}}}\n            />\n          )}\n          <ReposChecksStatusBadge oid={commit.oid} status={commit.status} />\n        </Box>\n        <PrimerLink\n          as={Link}\n          to={commit.url}\n          className=\"Link--secondary\"\n          aria-label={`Commit ${abbreviatedOid}`}\n          data-hovercard-url={commitHovercardPath({\n            owner: repo.ownerLogin,\n            repo: repo.name,\n            commitish: commit.oid,\n          })}\n        >\n          {abbreviatedOid}\n        </PrimerLink>\n        {commit.bodyMessageHtml && <br />}\n      </div>\n      {commit.bodyMessageHtml && (\n        <div className=\"mt-2 mt-sm-0 fgColor-muted\">\n          <SafeHTMLText\n            className=\"Truncate-text\"\n            data-testid=\"latest-commit-html\"\n            html={commit.bodyMessageHtml}\n            sx={{whiteSpace: 'pre-wrap'}}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction getProperHovercardsOnCommitMessage(shortMessageHtmlLink: string | undefined, dataUrl: string) {\n  // eslint-disable-next-line github/unescaped-html-literal\n  const separator = '<a '\n  let shortMessage = ''\n  if (shortMessageHtmlLink) {\n    const split = shortMessageHtmlLink.split(separator)\n    for (const part of split) {\n      if (part === '') {\n        continue\n      }\n      if (part.includes('data-hovercard-url')) {\n        shortMessage = shortMessage.concat(separator, part)\n        continue\n      }\n      shortMessage = shortMessage.concat(...[separator, dataUrl, part])\n    }\n  }\n\n  return shortMessage\n}\n\ntry{ LatestCommitSingleLine.displayName ||= 'LatestCommitSingleLine' } catch {}\ntry{ LatestCommitContent.displayName ||= 'LatestCommitContent' } catch {}\ntry{ CommitErrorMessage.displayName ||= 'CommitErrorMessage' } catch {}\ntry{ CommitSummary.displayName ||= 'CommitSummary' } catch {}\ntry{ LastCommitTimestamp.displayName ||= 'LastCommitTimestamp' } catch {}\ntry{ HistoryLink.displayName ||= 'HistoryLink' } catch {}\ntry{ HistoryLinkButton.displayName ||= 'HistoryLinkButton' } catch {}\ntry{ CommitDetailsButton.displayName ||= 'CommitDetailsButton' } catch {}\ntry{ CommitDetails.displayName ||= 'CommitDetails' } catch {}","import {verifiedFetch} from '@github-ui/verified-fetch'\nimport {XIcon} from '@primer/octicons-react'\nimport {Flash, IconButton, LinkButton} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport {useState} from 'react'\nimport {clsx} from 'clsx'\nimport LinkButtonCSS from '../css/LinkButton.module.css'\n\nexport default function PublishBanners({\n  showPublishActionBanner,\n  releasePath,\n  dismissActionNoticePath,\n  sx,\n}: {\n  showPublishActionBanner: boolean\n  releasePath: string\n  dismissActionNoticePath: string\n  sx?: BetterSystemStyleObject\n}) {\n  const [hidden, setHidden] = useState(false)\n\n  const onDismissPublishAction = () => {\n    verifiedFetch(dismissActionNoticePath, {method: 'POST'})\n    setHidden(true)\n  }\n\n  return showPublishActionBanner ? (\n    <Flash sx={{display: 'flex', flexDirection: 'row', alignItems: 'center', mt: 3, ...sx}} hidden={hidden}>\n      {showPublishActionBanner && <div className=\"flex-1\">You can publish this Action to the GitHub Marketplace</div>}\n      <LinkButton href={releasePath} className={clsx(LinkButtonCSS['code-view-link-button'], 'f6 mr-2')}>\n        Draft a release\n      </LinkButton>\n      {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n      <IconButton\n        unsafeDisableTooltip={true}\n        icon={XIcon}\n        aria-label=\"Dismiss\"\n        className=\"bgColor-transparent border-0 pr-0\"\n        onClick={showPublishActionBanner ? onDismissPublishAction : () => {}}\n        title=\"Dismiss\"\n      />\n    </Flash>\n  ) : null\n}\n\ntry{ PublishBanners.displayName ||= 'PublishBanners' } catch {}","import {useCurrentRepository} from '@github-ui/current-repository'\nimport {repositoryTreePath} from '@github-ui/paths'\nimport {RefSelector} from '@github-ui/ref-selector'\nimport type {ButtonProps} from '@primer/react'\n\nimport {useRefCreateErrorHandling} from '../hooks/use-ref-create-error-handling'\nimport {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport {useShortcut} from '../hooks/shortcuts'\nimport {useReposAnalytics} from '../hooks/use-repos-analytics'\n\nexport function ReposHeaderRefSelector({\n  size,\n  buttonClassName,\n  allowResizing,\n  idEnding,\n}: {\n  size?: ButtonProps['size']\n  buttonClassName?: string\n  allowResizing?: boolean\n  idEnding?: string\n}) {\n  const repo = useCurrentRepository()\n  const {refInfo, path, action} = useFilesPageInfo()\n  const onCreateError = useRefCreateErrorHandling()\n  const {sendRepoClickEvent} = useReposAnalytics()\n  const {refSelectorShortcut} = useShortcut()\n\n  return (\n    <RefSelector\n      currentCommitish={refInfo.name}\n      defaultBranch={repo.defaultBranch}\n      owner={repo.ownerLogin}\n      repo={repo.name}\n      canCreate={repo.currentUserCanPush}\n      cacheKey={refInfo.listCacheKey}\n      selectedRefType={refInfo.refType}\n      getHref={refName => `${repositoryTreePath({repo, commitish: refName, action, path})}${window.location.search}`}\n      hotKey={refSelectorShortcut.hotkey}\n      onBeforeCreate={refName => sendRepoClickEvent('REF_SELECTOR_MENU.CREATE_BRANCH', {['ref_name']: refName})}\n      onCreateError={onCreateError}\n      onOpenChange={open => open && sendRepoClickEvent('REF_SELECTOR_MENU')}\n      size={size}\n      buttonClassName={buttonClassName}\n      allowResizing={allowResizing}\n      idEnding={idEnding || 'repos-header-ref-selector'}\n      useFocusZone={true}\n    />\n  )\n}\n\ntry{ ReposHeaderRefSelector.displayName ||= 'ReposHeaderRefSelector' } catch {}","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useCallback} from 'react'\n\nexport function useRefCreateErrorHandling() {\n  const {addToast} = useToastContext()\n\n  return useCallback(\n    (\n      error: string, // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n    ) => addToast({type: 'error', message: error}),\n    [addToast],\n  )\n}\n","interface Props {\n  width?: number | string\n}\n\nexport function SkeletonText({width, ...props}: Props) {\n  return (\n    <div style={{width}} className=\"Skeleton Skeleton--text\" {...props}>\n      &nbsp;\n    </div>\n  )\n}\n\ntry{ SkeletonText.displayName ||= 'SkeletonText' } catch {}","import type {TocEntry} from '@github-ui/code-view-types'\nimport {SafeHTMLBox} from '@github-ui/safe-html'\nimport {FilterIcon, XIcon} from '@primer/octicons-react'\nimport {Box, IconButton, NavList, TextInput} from '@primer/react'\nimport {useEffect, useRef, useState} from 'react'\n\nimport {onHashChange} from './SharedMarkdownContent'\n\nexport default function TableOfContentsPanel({onClose, toc}: {onClose?: () => void; toc: TocEntry[] | null}) {\n  const [filter, setFilter] = useState<string>('')\n  const [hash, setHash] = useState<string>('')\n  const headingRef = useRef<HTMLHeadingElement>(null)\n  useEffect(() => {\n    headingRef.current?.focus()\n  }, [])\n\n  useEffect(() => {\n    const hashChange = () => {\n      if (window.location.hash) {\n        setHash(window.location.hash)\n      }\n    }\n\n    hashChange()\n    window.addEventListener('hashchange', hashChange)\n    return () => {\n      window.removeEventListener('hashchange', hashChange)\n    }\n  }, [])\n\n  if (!toc) {\n    return null\n  }\n\n  return (\n    <Box sx={{px: 2, pt: 2, maxWidth: '100vw'}} as=\"section\" aria-labelledby=\"outline-id\">\n      {onClose ? (\n        <div className=\"d-flex flex-justify-between flex-items-center\">\n          <h3\n            id=\"outline-id\"\n            ref={headingRef}\n            className=\"d-flex flex-justify-between flex-items-center f5 text-bold px-2\"\n            tabIndex={-1}\n          >\n            Outline\n          </h3>\n          {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n          <IconButton\n            unsafeDisableTooltip={true}\n            aria-label=\"Close outline\"\n            className=\"fgColor-muted\"\n            icon={XIcon}\n            onClick={onClose}\n            variant=\"invisible\"\n          />\n        </div>\n      ) : null}\n      {toc.length >= 8 ? (\n        <div className=\"pt-3 px-2\">\n          <TextInput\n            leadingVisual={FilterIcon}\n            placeholder=\"Filter headings\"\n            aria-label=\"Filter headings\"\n            className=\"width-full\"\n            onChange={e => {\n              setFilter(e.target.value)\n            }}\n          />\n        </div>\n      ) : null}\n      <NavList sx={{overflowY: 'auto', '> li': {borderRadius: 2, width: '100%'}}}>\n        {toc.map(({level, htmlText, anchor}: TocEntry, index) => {\n          if (!htmlText || (filter && !htmlText.toLowerCase().includes(filter.toLowerCase()))) {\n            return null\n          }\n          let sx\n          if (level === 1) {\n            sx = {fontWeight: 'bold'}\n          } else {\n            sx = {paddingLeft: `${(level - 1) * 16}px`}\n          }\n          const hashString = `#${anchor}`\n          return (\n            <NavList.Item\n              key={`outline-${anchor}-${index}`}\n              aria-current={hash === hashString ? 'page' : undefined}\n              href={hashString}\n              onClick={e => {\n                // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n                if (e.button === 1 || e.metaKey || e.ctrlKey) {\n                  return\n                }\n                if (hash !== hashString) {\n                  location.href = hashString\n                }\n                onHashChange(hashString)\n                e.preventDefault()\n              }}\n            >\n              <SafeHTMLBox sx={{...sx}} html={htmlText} />\n            </NavList.Item>\n          )\n        })}\n      </NavList>\n    </Box>\n  )\n}\n\ntry{ TableOfContentsPanel.displayName ||= 'TableOfContentsPanel' } catch {}","import type {Icon as PrimerIcon} from '@primer/octicons-react'\nimport {Box, CircleOcticon, Heading} from '@primer/react'\nimport type React from 'react'\n\n/**\n * This collection of components creates a consistent UI for the branch info bar.\n * Once can compose the layout in the following way:\n *\n * <PopoverContainer>\n *  <PopoverIcon>\n *   <Icon />\n *  </PopoverIcon>\n *  <PopoverContent\n *    icon={<PopoverIcon icon={AlertIcon} bg=\"neutral.emphasis\" />}\n *    header={<Text>Popup header</Text>}\n *    content={<Text>Content of the popup</Text>}\n *  />\n *  <PopoverActionContainer>\n *   <Button>Discard</Button>\n *   <Button as={Link} className={clsx(LinkButtonCSS['code-view-link-button'], 'flex-1')}>Update</Button>\n *  </PopoverActionContainer>\n * </PopoverContainer>\n *\n */\nexport function PopoverContainer({children}: {children: React.ReactNode}) {\n  return (\n    <Box className={'popover-container-width'} sx={{borderRadius: 6, minWidth: 250}}>\n      {children}\n    </Box>\n  )\n}\n\ninterface PopoverContentProps {\n  icon: React.ReactNode\n  header: React.ReactNode\n  content: React.ReactNode\n}\n\nexport function PopoverContent({icon, header, content}: PopoverContentProps) {\n  return (\n    <div className=\"d-flex p-3\">\n      <div className=\"mr-2\">{icon}</div>\n      <div>\n        <Heading as=\"h2\" className=\"f5 mb-1\">\n          {header}\n        </Heading>\n        <span className=\"fgColor-muted f6\">{content}</span>\n      </div>\n    </div>\n  )\n}\n\ninterface PopoverIconProps {\n  bg: string\n  icon: PrimerIcon\n}\nexport function PopoverIcon({icon: IconComponent, bg}: PopoverIconProps) {\n  return <CircleOcticon sx={{bg, color: 'fg.onEmphasis'}} size={30} icon={() => <IconComponent size={16} />} />\n}\n\nexport function PopoverActions({children}: {children: React.ReactNode}) {\n  return <div className=\"d-flex flex-wrap flex-justify-between p-3 gap-3 border-top borderColor-muted\">{children}</div>\n}\n\ntry{ PopoverContainer.displayName ||= 'PopoverContainer' } catch {}\ntry{ PopoverContent.displayName ||= 'PopoverContent' } catch {}\ntry{ PopoverIcon.displayName ||= 'PopoverIcon' } catch {}\ntry{ PopoverActions.displayName ||= 'PopoverActions' } catch {}","export function getCommitsCountText(value: number) {\n  return `${value} ${value === 1 ? 'commit' : 'commits'}`\n}\n","import type {RefComparison} from '@github-ui/code-view-types'\nimport type {Repository} from '@github-ui/current-repository'\nimport {comparePath} from '@github-ui/paths'\nimport {BranchName, Link, type LinkProps} from '@primer/react'\n\nimport {getCommitsCountText} from './get-commits-count-text'\nimport {useReposAnalytics} from '../../../hooks/use-repos-analytics'\n\ninterface Props {\n  repo: Repository\n  comparison: RefComparison\n  linkify?: boolean\n}\n\nexport function RefComparisonText({comparison, repo, linkify = false}: Props) {\n  const {sendRepoClickEvent} = useReposAnalytics()\n  const {ahead, behind, baseBranch, baseBranchRange, currentRef} = comparison\n\n  const aheadLink = comparePath({repo, base: baseBranchRange, head: currentRef})\n  const behindLink = comparePath({repo, base: currentRef, head: baseBranchRange})\n\n  const sendAheadLinkAnalytics = () =>\n    sendRepoClickEvent('AHEAD_BEHIND_LINK', {\n      category: 'Branch Infobar',\n      action: 'Ahead Compare',\n      label: `ref_loc:bar;is_fork:${repo.isFork}`,\n    })\n\n  const sendBehindLinkAnalytics = () =>\n    sendRepoClickEvent('AHEAD_BEHIND_LINK', {\n      category: 'Branch Infobar',\n      action: 'Behind Compare',\n      label: `ref_loc:bar;is_fork:${repo.isFork}`,\n    })\n\n  if (ahead === 0 && behind === 0) {\n    return (\n      <span>\n        This branch is up to date with <BranchName as=\"span\">{baseBranch}</BranchName>.\n      </span>\n    )\n  }\n\n  if (ahead > 0 && behind > 0) {\n    return (\n      <span>\n        This branch is{' '}\n        <LinkOrText linkify={linkify} href={aheadLink} onClick={sendAheadLinkAnalytics}>\n          {getCommitsCountText(ahead)} ahead of\n        </LinkOrText>\n        ,{' '}\n        <LinkOrText linkify={linkify} href={behindLink} onClick={sendBehindLinkAnalytics}>\n          {getCommitsCountText(behind)} behind\n        </LinkOrText>{' '}\n        <BranchName as=\"span\">{baseBranch}</BranchName>.\n      </span>\n    )\n  }\n\n  if (ahead > 0) {\n    return (\n      <span>\n        This branch is{' '}\n        <LinkOrText linkify={linkify} href={aheadLink} onClick={sendAheadLinkAnalytics}>\n          {getCommitsCountText(ahead)} ahead of\n        </LinkOrText>{' '}\n        <BranchName as=\"span\">{baseBranch}</BranchName>.\n      </span>\n    )\n  } else {\n    return (\n      <span>\n        This branch is{' '}\n        <LinkOrText linkify={linkify} href={behindLink} onClick={sendBehindLinkAnalytics}>\n          {getCommitsCountText(behind)} behind\n        </LinkOrText>{' '}\n        <BranchName as=\"span\">{baseBranch}</BranchName>.\n      </span>\n    )\n  }\n}\n\nfunction LinkOrText({sx, href, linkify, children, ...props}: LinkProps & {linkify: boolean}) {\n  if (linkify) {\n    return (\n      <Link sx={sx} href={href} {...props}>\n        {children}\n      </Link>\n    )\n  }\n\n  return <span>{children}</span>\n}\n\ntry{ RefComparisonText.displayName ||= 'RefComparisonText' } catch {}\ntry{ LinkOrText.displayName ||= 'LinkOrText' } catch {}","import type {RefComparison} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {comparePath} from '@github-ui/paths'\nimport {GitPullRequestIcon} from '@primer/octicons-react'\nimport {BranchName, Button, Link} from '@primer/react'\n\nimport {PopoverActions, PopoverContent, PopoverIcon} from './InfobarPopover'\nimport {RefComparisonText} from './RefComparisonText'\nimport {clsx} from 'clsx'\nimport LinkButtonCSS from '../../../css/LinkButton.module.css'\n\ninterface Props {\n  comparison: RefComparison\n}\n\nexport function ContributePopoverContent({comparison}: Props) {\n  const repo = useCurrentRepository()\n\n  const isAhead = comparison.ahead > 0\n  const aheadLink = comparePath({repo, base: comparison.baseBranchRange, head: comparison.currentRef})\n\n  return (\n    <>\n      <PopoverContent\n        icon={<PopoverIcon bg=\"neutral.emphasis\" icon={GitPullRequestIcon} />}\n        header={\n          isAhead ? (\n            <RefComparisonText repo={repo} comparison={{...comparison, behind: 0}} />\n          ) : (\n            <span>\n              This branch is not ahead of the upstream <BranchName as=\"span\">{comparison.baseBranch}</BranchName>.\n            </span>\n          )\n        }\n        content={\n          <p>\n            {isAhead\n              ? 'Open a pull request to contribute your changes upstream.'\n              : 'No new commits yet. Enjoy your day!'}\n          </p>\n        }\n      />\n      {isAhead && (\n        <PopoverActions>\n          {!repo.isFork && (\n            <Button\n              as={Link}\n              className={clsx(LinkButtonCSS['code-view-link-button'], 'flex-1')}\n              href={aheadLink}\n              data-testid=\"compare-button\"\n            >\n              Compare\n            </Button>\n          )}\n          <Button\n            as={Link}\n            className={clsx(LinkButtonCSS['code-view-link-button'], 'flex-1')}\n            href={`${aheadLink}?expand=1`}\n            variant=\"primary\"\n            data-testid=\"open-pr-button\"\n          >\n            Open pull request\n          </Button>\n        </PopoverActions>\n      )}\n    </>\n  )\n}\n\ntry{ ContributePopoverContent.displayName ||= 'ContributePopoverContent' } catch {}","import {useReposAnalytics} from '../../../hooks/use-repos-analytics'\nimport type {RefComparison} from '@github-ui/code-view-types'\nimport {GitPullRequestIcon, TriangleDownIcon} from '@primer/octicons-react'\nimport {ActionMenu, Button} from '@primer/react'\n\nimport {ContributePopoverContent} from './ContributePopoverContent'\nimport {PopoverContainer} from './InfobarPopover'\n\ninterface Props {\n  comparison: RefComparison\n}\n\nexport function ContributeButton({comparison}: Props) {\n  const {sendRepoClickEvent} = useReposAnalytics()\n\n  return (\n    <ActionMenu\n      onOpenChange={open =>\n        open &&\n        sendRepoClickEvent('CONTRIBUTE_BUTTON', {\n          category: 'Branch Infobar',\n          action: 'Open Contribute dropdown',\n          label: 'ref_loc:contribute_dropdown',\n        })\n      }\n    >\n      <ActionMenu.Anchor>\n        <Button leadingVisual={GitPullRequestIcon} trailingVisual={TriangleDownIcon}>\n          Contribute\n        </Button>\n      </ActionMenu.Anchor>\n      <ActionMenu.Overlay align=\"end\" className=\"mt-2\">\n        <PopoverContainer>\n          <ContributePopoverContent comparison={comparison} />\n        </PopoverContainer>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ ContributeButton.displayName ||= 'ContributeButton' } catch {}","import {useState} from 'react'\n\nexport function useDisabledWithLabel(label: string, disabledLabel: string, action: () => Promise<unknown>) {\n  const [disabled, setDisabled] = useState(false)\n\n  return {\n    disabled,\n    label: disabled ? disabledLabel : label,\n    action: async () => {\n      setDisabled(true)\n      await action()\n      setDisabled(false)\n    },\n  }\n}\n","export const syncForkButtonEventPayload = {\n  category: 'Branch Infobar',\n  label: `ref_loc:fetch_upstream_dropdown`,\n}\n","import type {RefComparison} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {comparePath} from '@github-ui/paths'\nimport {CheckIcon, GitMergeIcon} from '@primer/octicons-react'\nimport {BranchName, Button, Link} from '@primer/react'\n\nimport {useDisabledWithLabel} from '../../../hooks/use-disabled-with-label'\nimport {syncForkButtonEventPayload} from './generate-button-event-payload'\nimport {getCommitsCountText} from './get-commits-count-text'\nimport {PopoverActions, PopoverContent, PopoverIcon} from './InfobarPopover'\nimport {useReposAppPayload} from '../../../contexts/FilesPageInfoContext'\nimport {useReposAnalytics} from '../../../hooks/use-repos-analytics'\nimport {clsx} from 'clsx'\nimport LinkButtonCSS from '../../../css/LinkButton.module.css'\n\ninterface Props {\n  comparison: RefComparison\n  discard: () => Promise<void>\n  update: () => Promise<void>\n}\n\nexport function FetchUpstreamPopoverContent({comparison, discard, update}: Props) {\n  const repo = useCurrentRepository()\n  const {helpUrl} = useReposAppPayload()\n  const {sendRepoClickEvent} = useReposAnalytics()\n\n  const syncingForkHelpUrl = `${helpUrl}/github/collaborating-with-issues-and-pull-requests/syncing-a-fork`\n\n  const compareBranchesPath = comparePath({repo, base: comparison.baseBranchRange, head: comparison.currentRef})\n  const comparisonState = getComparisonState(comparison)\n\n  const isBehind = comparison.behind > 0\n\n  const discardButton = useDisabledWithLabel(\n    `Discard ${getCommitsCountText(comparison.ahead)}`,\n    'Discarding changes...',\n    discard,\n  )\n\n  const updateButton = useDisabledWithLabel('Update branch', 'Updating...', update)\n\n  const visible = {\n    compare: comparisonState === 'behind',\n    discard: comparisonState === 'behind-and-ahead' && comparison.isTrackingBranch,\n    update: ['behind', 'behind-and-ahead'].includes(comparisonState),\n  }\n  const hasVisibleActions = Object.values(visible).some(Boolean)\n\n  return (\n    <>\n      <PopoverContent\n        icon={\n          <PopoverIcon\n            icon={isBehind ? GitMergeIcon : CheckIcon}\n            bg={isBehind ? 'neutral.emphasis' : 'success.emphasis'}\n          />\n        }\n        header={<HeaderText comparison={comparison} />}\n        content={<ContentText comparison={comparison} helpUrl={syncingForkHelpUrl} />}\n      />\n      {hasVisibleActions && (\n        <PopoverActions>\n          {visible.compare && (\n            <Button\n              as={Link}\n              className={clsx(LinkButtonCSS['code-view-link-button'], 'flex-1')}\n              href={compareBranchesPath}\n              onClick={() =>\n                sendRepoClickEvent('SYNC_FORK.COMPARE', {...syncForkButtonEventPayload, action: 'Compare'})\n              }\n              data-testid=\"compare-button\"\n            >\n              Compare\n            </Button>\n          )}\n          {visible.discard && (\n            <Button\n              onClick={discardButton.action}\n              className=\"flex-1\"\n              data-testid=\"discard-button\"\n              variant=\"danger\"\n              disabled={discardButton.disabled}\n            >\n              {discardButton.label}\n            </Button>\n          )}\n          {visible.update && (\n            <Button\n              onClick={updateButton.action}\n              disabled={updateButton.disabled}\n              className=\"flex-1\"\n              variant=\"primary\"\n              data-testid=\"update-branch-button\"\n            >\n              {updateButton.label}\n            </Button>\n          )}\n        </PopoverActions>\n      )}\n    </>\n  )\n}\n\ntype ComparisonState = 'sync' | 'behind' | 'ahead' | 'behind-and-ahead'\n\nfunction getComparisonState({behind, ahead}: RefComparison): ComparisonState {\n  if (behind === 0 && ahead === 0) return 'sync'\n  if (behind > 0 && ahead > 0) return 'behind-and-ahead'\n  if (behind > 0) return 'behind'\n  return 'ahead'\n}\n\nfunction HeaderText({comparison}: {comparison: RefComparison}) {\n  const comparisonState = getComparisonState(comparison)\n\n  switch (comparisonState) {\n    case 'behind':\n    case 'behind-and-ahead':\n      return <span>This branch is out-of-date</span>\n    default:\n      return (\n        <span>\n          This branch is not behind the upstream <BranchName as=\"span\">{comparison.baseBranch}</BranchName>.\n        </span>\n      )\n  }\n}\n\nfunction ContentText({comparison, helpUrl}: {comparison: RefComparison; helpUrl: string}) {\n  const comparisonState = getComparisonState(comparison)\n\n  switch (comparisonState) {\n    case 'sync':\n    case 'ahead':\n      return <p>No new commits to fetch. Enjoy your day!</p>\n    case 'behind':\n      return (\n        <>\n          <p>\n            Update branch to keep this branch up-to-date by syncing {getCommitsCountText(comparison.behind)} from the\n            upstream repository.\n          </p>\n          <p>\n            <Link href={helpUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              Learn more about syncing a fork\n            </Link>\n          </p>\n        </>\n      )\n    case 'behind-and-ahead':\n      return comparison.isTrackingBranch ? (\n        <>\n          <p>Update branch to merge the latest changes from the upstream repository into this branch.</p>\n          <p>\n            Discard {getCommitsCountText(comparison.ahead)} to make this branch match the upstream repository.{' '}\n            {getCommitsCountText(comparison.ahead)} will be removed from this branch.\n          </p>\n          <p>\n            <Link href={helpUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n              Learn more about syncing a fork\n            </Link>\n          </p>\n        </>\n      ) : (\n        <p>Update branch to merge the latest changes from the upstream repository into this branch.</p>\n      )\n  }\n}\n\ntry{ FetchUpstreamPopoverContent.displayName ||= 'FetchUpstreamPopoverContent' } catch {}\ntry{ HeaderText.displayName ||= 'HeaderText' } catch {}\ntry{ ContentText.displayName ||= 'ContentText' } catch {}","import type {RefComparison} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {newPullRequestPath} from '@github-ui/paths'\nimport {AlertIcon} from '@primer/octicons-react'\nimport {Button, Link} from '@primer/react'\n\nimport {useDisabledWithLabel} from '../../../hooks/use-disabled-with-label'\nimport {syncForkButtonEventPayload} from './generate-button-event-payload'\nimport {getCommitsCountText} from './get-commits-count-text'\nimport {PopoverActions, PopoverContent, PopoverIcon} from './InfobarPopover'\nimport {useReposAnalytics} from '../../../hooks/use-repos-analytics'\nimport {clsx} from 'clsx'\nimport LinkButtonCSS from '../../../css/LinkButton.module.css'\n\ninterface Props {\n  comparison: RefComparison\n  discard: () => Promise<void>\n}\n\nexport function FetchUpstreamWithConflictsPopoverContent({comparison, discard}: Props) {\n  const repo = useCurrentRepository()\n  const {sendRepoClickEvent} = useReposAnalytics()\n  const createPullRequestPath = newPullRequestPath({repo, refName: comparison.currentRef})\n  const commitsCountText = getCommitsCountText(comparison.ahead)\n\n  const discardButton = useDisabledWithLabel(`Discard ${commitsCountText}`, 'Discarding changes...', discard)\n\n  return (\n    <>\n      <PopoverContent\n        icon={<PopoverIcon icon={AlertIcon} bg=\"neutral.emphasis\" />}\n        header=\"This branch has conflicts that must be resolved\"\n        content={\n          <>\n            <p>\n              Discard {commitsCountText} to make this branch match the upstream repository. {commitsCountText} will be\n              removed from this branch.\n            </p>\n            <p>You can resolve merge conflicts using the command line and a text editor.</p>\n          </>\n        }\n      />\n      <PopoverActions>\n        <Button\n          className=\"flex-1\"\n          onClick={discardButton.action}\n          disabled={discardButton.disabled}\n          data-testid=\"discard-button\"\n          variant=\"danger\"\n        >\n          {discardButton.label}\n        </Button>\n        <Button\n          as={Link}\n          className={clsx(LinkButtonCSS['code-view-link-button'], 'flex-1')}\n          href={createPullRequestPath}\n          variant=\"primary\"\n          data-testid=\"open-pr-button\"\n          onClick={() =>\n            sendRepoClickEvent('SYNC_FORK.OPEN_PR', {...syncForkButtonEventPayload, action: 'Open pull request'})\n          }\n        >\n          Open pull request\n        </Button>\n      </PopoverActions>\n    </>\n  )\n}\n\ntry{ FetchUpstreamWithConflictsPopoverContent.displayName ||= 'FetchUpstreamWithConflictsPopoverContent' } catch {}","import {useReposAnalytics} from '../../../hooks/use-repos-analytics'\nimport type {RefComparison} from '@github-ui/code-view-types'\nimport {Spinner} from '@primer/react'\n\nimport {useBranchUpdater} from '../../../hooks/use-branch-updater'\nimport {useMergeabilityCheck} from '../../../hooks/use-mergeability-check'\nimport {FetchUpstreamPopoverContent} from './FetchUpstreamPopoverContent'\nimport {FetchUpstreamWithConflictsPopoverContent} from './FetchUpstreamWithConflictsPopoverContent'\nimport {syncForkButtonEventPayload} from './generate-button-event-payload'\n\ninterface Props {\n  comparison: RefComparison\n}\n\nexport function FetchPopoverContainer({comparison}: Props) {\n  const [mergeabilityState, loading, error] = useMergeabilityCheck({\n    base: comparison.currentRef,\n    head: comparison.baseBranchRange,\n  })\n  const {sendRepoClickEvent} = useReposAnalytics()\n\n  const {discardChanges, updateBranch} = useBranchUpdater()\n\n  const discardAndReload = async () => {\n    sendRepoClickEvent('SYNC_FORK.DISCARD', {...syncForkButtonEventPayload, action: 'Discard Conflicts'})\n    const response = await discardChanges()\n    if (response.ok && response.url) {\n      window.location.href = response.url\n    }\n  }\n\n  const updateAndReload = async () => {\n    sendRepoClickEvent('SYNC_FORK.UPDATE', {...syncForkButtonEventPayload, action: 'Fetch and merge'})\n    const response = await updateBranch()\n    if (response.ok && response.url) {\n      window.location.href = response.url\n    }\n  }\n\n  if (comparison.behind === 0) {\n    return <FetchUpstreamPopoverContent update={updateAndReload} discard={discardAndReload} comparison={comparison} />\n  }\n\n  // As of now we don't have a particular error handling, therefore we fall back to showing a spinner.\n  // This will prevent from going into the corrupt data state.\n  if (loading || error) {\n    return (\n      <div className=\"p-4 d-flex flex-justify-center\">\n        <Spinner />\n      </div>\n    )\n  }\n\n  if (mergeabilityState === 'clean') {\n    return <FetchUpstreamPopoverContent update={updateAndReload} discard={discardAndReload} comparison={comparison} />\n  }\n\n  return <FetchUpstreamWithConflictsPopoverContent discard={discardAndReload} comparison={comparison} />\n}\n\ntry{ FetchPopoverContainer.displayName ||= 'FetchPopoverContainer' } catch {}","import {useCurrentRepository} from '@github-ui/current-repository'\nimport {mergeabilityCheckPath} from '@github-ui/paths'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\ntype MergeabilityState = 'clean' | 'dirty' | 'error'\n\ninterface MergeabilityCheckProps {\n  head: string\n  base: string\n}\n\ntype MergeabilityCheckResult = [MergeabilityState | undefined, boolean, string | undefined]\n\nexport function useMergeabilityCheck({head, base}: MergeabilityCheckProps): MergeabilityCheckResult {\n  const [data, setData] = useState<MergeabilityState | undefined>()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string>()\n\n  const repo = useCurrentRepository()\n  const url = mergeabilityCheckPath({repo, head, base})\n\n  useEffect(() => {\n    const update = async () => {\n      setLoading(true)\n      setData(undefined)\n      const response = await verifiedFetchJSON(url)\n\n      try {\n        if (response.ok) {\n          setData((await response.json()).state)\n        } else {\n          setError(response.statusText)\n        }\n      } catch (e) {\n        // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n        setError(e?.message || e?.toString())\n      }\n      setLoading(false)\n    }\n    update()\n  }, [url])\n\n  return [data, loading, error]\n}\n","import {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {fetchAndMergePath} from '@github-ui/paths'\nimport {verifiedFetch} from '@github-ui/verified-fetch'\nimport {useCallback} from 'react'\n\nexport function useBranchUpdater() {\n  const repo = useCurrentRepository()\n  const {\n    refInfo: {name},\n  } = useFilesPageInfo()\n\n  const discardPath = fetchAndMergePath({repo, refName: name, discard: true})\n  const updatePath = fetchAndMergePath({repo, refName: name, discard: false})\n\n  const updateBranch = useCallback(() => {\n    return verifiedFetch(updatePath, {method: 'POST'})\n  }, [updatePath])\n\n  const discardChanges = useCallback(() => {\n    return verifiedFetch(discardPath, {method: 'POST'})\n  }, [discardPath])\n\n  return {updateBranch, discardChanges}\n}\n","import type {RefComparison} from '@github-ui/code-view-types'\nimport {SyncIcon, TriangleDownIcon} from '@primer/octicons-react'\nimport {ActionMenu, Button} from '@primer/react'\n\nimport {FetchPopoverContainer} from './FetchPopoverContainer'\nimport {PopoverContainer} from './InfobarPopover'\nimport {useReposAnalytics} from '../../../hooks/use-repos-analytics'\n\ninterface Props {\n  comparison: RefComparison\n}\n\nexport function FetchUpstreamButton({comparison}: Props) {\n  const {sendRepoClickEvent} = useReposAnalytics()\n\n  return (\n    <ActionMenu\n      onOpenChange={open =>\n        open &&\n        sendRepoClickEvent('SYNC_FORK_BUTTON', {\n          category: 'Branch Infobar',\n          action: 'Open Fetch upstream dropdown',\n          label: 'ref_loc:fetch_upstream_dropdown',\n          ahead: comparison.ahead,\n          behind: comparison.behind,\n        })\n      }\n    >\n      <ActionMenu.Anchor>\n        <Button leadingVisual={SyncIcon} trailingAction={TriangleDownIcon}>\n          Sync fork\n        </Button>\n      </ActionMenu.Anchor>\n      <ActionMenu.Overlay align=\"end\" className=\"mt-2\">\n        <PopoverContainer>\n          <FetchPopoverContainer comparison={comparison} />\n        </PopoverContainer>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ FetchUpstreamButton.displayName ||= 'FetchUpstreamButton' } catch {}","import type {Repository} from '@github-ui/current-repository'\nimport {pullRequestPath} from '@github-ui/paths'\nimport {GitPullRequestIcon} from '@primer/octicons-react'\nimport {Link} from '@primer/react'\n\ninterface Props {\n  repo: Repository\n  pullRequestNumber: number\n}\n\nexport function PullRequestLink({repo, pullRequestNumber}: Props) {\n  return (\n    <Link\n      href={pullRequestPath({repo, number: pullRequestNumber})}\n      sx={{display: 'flex', gap: 1, alignItems: 'center', color: 'fg.muted', '&:hover': {color: 'accent.fg'}}}\n    >\n      <GitPullRequestIcon size={16} />#{pullRequestNumber}\n    </Link>\n  )\n}\n\ntry{ PullRequestLink.displayName ||= 'PullRequestLink' } catch {}","import {useCurrentRepository} from '@github-ui/current-repository'\nimport {Box, Flash, type SxProp} from '@primer/react'\nimport type React from 'react'\n\nimport {SkeletonText} from '../../Skeleton'\nimport {useBranchInfoBar} from '../../../hooks/use-branch-infobar'\nimport {ContributeButton} from './ContributeButton'\nimport {FetchUpstreamButton} from './FetchUpstreamButton'\nimport {PullRequestLink} from './PullRequestLink'\nimport {RefComparisonText} from './RefComparisonText'\n\nexport function BranchInfoBar({sx}: SxProp) {\n  const [infoBar, error] = useBranchInfoBar()\n  const repo = useCurrentRepository()\n\n  let content\n\n  if (error === 'timeout') {\n    content = <>Sorry, getting ahead/behind information for this branch is taking too long.</>\n  } else if (!infoBar) {\n    content = (\n      <>\n        <SkeletonText width=\"40%\" />\n        <SkeletonText width=\"30%\" />\n      </>\n    )\n  } else if (!infoBar.refComparison) {\n    content = <>Cannot retrieve ahead/behind information for this branch.</>\n  } else {\n    content = (\n      <>\n        <RefComparisonText linkify repo={repo} comparison={infoBar.refComparison} />\n        <div className=\"d-flex gap-2\">\n          {infoBar.pullRequestNumber ? (\n            <PullRequestLink repo={repo} pullRequestNumber={infoBar.pullRequestNumber} />\n          ) : (\n            <>\n              {repo.currentUserCanPush && <ContributeButton comparison={infoBar.refComparison} />}\n              {repo.isFork && repo.currentUserCanPush && <FetchUpstreamButton comparison={infoBar.refComparison} />}\n            </>\n          )}\n        </div>\n      </>\n    )\n  }\n  return (\n    <BranchInfoBarContainer\n      sx={{\n        flexDirection: 'row',\n        alignItems: 'center',\n        flexWrap: 'wrap',\n        justifyContent: 'space-between',\n        border: 'solid 1px',\n        borderColor: 'border.default',\n        borderRadius: '6px',\n        pl: 3,\n        pr: 2,\n        py: 2,\n        mb: 3,\n        minHeight: '50px',\n        ...sx,\n      }}\n    >\n      {content}\n    </BranchInfoBarContainer>\n  )\n}\n\nfunction BranchInfoBarContainer({children, sx}: React.PropsWithChildren & SxProp) {\n  return (\n    <Box\n      data-testid=\"branch-info-bar\"\n      aria-live=\"polite\"\n      sx={{\n        display: 'flex',\n        gap: 2,\n        bg: 'canvas.subtle',\n        fontSize: 1,\n        ...sx,\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\nexport function BranchInfoBarErrorBanner() {\n  return (\n    <Flash variant=\"warning\" className=\"my-3\">\n      <span>Cannot retrieve comparison with upstream repository.</span>\n    </Flash>\n  )\n}\n\ntry{ BranchInfoBar.displayName ||= 'BranchInfoBar' } catch {}\ntry{ BranchInfoBarContainer.displayName ||= 'BranchInfoBarContainer' } catch {}\ntry{ BranchInfoBarErrorBanner.displayName ||= 'BranchInfoBarErrorBanner' } catch {}","import {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport type {BranchInfoBar} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {repositoryTreePath} from '@github-ui/paths'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\nexport function useBranchInfoBar(): [BranchInfoBar | undefined, string | undefined] {\n  const [data, setData] = useState<BranchInfoBar>()\n  const [error, setError] = useState<string | 'timeout'>()\n  const {refInfo, path} = useFilesPageInfo()\n  const repo = useCurrentRepository()\n\n  const url = repositoryTreePath({\n    repo,\n    action: 'branch-infobar',\n    commitish: refInfo.name,\n    path,\n  })\n\n  useEffect(() => {\n    const update = async () => {\n      setData(undefined)\n      const response = await verifiedFetchJSON(url)\n\n      try {\n        if (response.ok) {\n          setData(await response.json())\n        } else {\n          setError(response.status === 422 ? 'timeout' : response.statusText)\n        }\n      } catch (e) {\n        // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n        setError(e?.message || e?.toString())\n      }\n    }\n    update()\n  }, [url])\n\n  return [data, error]\n}\n","import {useFilesPageInfo} from '../../../contexts/FilesPageInfoContext'\nimport type {DirectoryItem} from '@github-ui/code-view-types'\nimport {Link} from '@github-ui/react-core/link'\nimport type {Commit} from '@github-ui/repos-types'\nimport {ScreenReaderHeading} from '@github-ui/screen-reader-heading'\nimport {ScreenSize} from '@github-ui/screen-size'\nimport {FileDirectoryFillIcon} from '@primer/octicons-react'\nimport {Box, Link as PrimerLink, Octicon} from '@primer/react'\nimport React from 'react'\n\nimport {useFocusHintContext} from '@github-ui/focus-hint-context'\nimport {CommitAgeCell, CommitMessageCell, IconCell, NameCell} from './Cells'\nimport {Row} from './Table'\n\ninterface DirectoryRowProps {\n  initialFocus: boolean\n  commit?: Commit\n  item: DirectoryItem\n  onNavigate?: React.MouseEventHandler<HTMLAnchorElement>\n  onClick?: React.MouseEventHandler<HTMLTableRowElement>\n  getItemUrl: (item: DirectoryItem) => string\n  navigate: (to: string) => void\n  index: number\n  className?: string\n}\n\nfunction WrappedDirectoryRow({\n  initialFocus,\n  item,\n  commit,\n  onNavigate,\n  getItemUrl,\n  navigate,\n  index,\n  className,\n}: DirectoryRowProps) {\n  const onClickHandler = React.useCallback(\n    (e: React.MouseEvent<HTMLElement>) => {\n      // on small screens, we want the whole row to be clickable\n      // so if the screen is small, navigate away\n      if (window.innerWidth < ScreenSize.small && !e.defaultPrevented) {\n        if (item.contentType === 'submodule') {\n          if (item.submoduleUrl) {\n            navigate(item.submoduleUrl)\n          }\n        } else {\n          navigate(getItemUrl(item))\n        }\n      }\n    },\n    [item, getItemUrl, navigate],\n  )\n\n  // We can render up to 1000 <DirectoryRows> on a page, and we get a significant perf improvement\n  // by avoiding <Box> and using styles in CSS instead of JS. Please do not regress this.\n  const RowContent = () => (\n    <tr className={`react-directory-row ${className}`} onClick={onClickHandler} id={`folder-row-${index}`}>\n      <td className=\"react-directory-row-name-cell-small-screen\" colSpan={2}>\n        <div className=\"react-directory-filename-column\">\n          <IconCell item={item} />\n          <NameCell initialFocus={initialFocus} item={item} getItemUrl={getItemUrl} onNavigate={onNavigate} />\n        </div>\n      </td>\n      <td className=\"react-directory-row-name-cell-large-screen\" colSpan={1}>\n        <div className=\"react-directory-filename-column\">\n          <IconCell item={item} />\n          <NameCell initialFocus={initialFocus} item={item} getItemUrl={getItemUrl} onNavigate={onNavigate} />\n        </div>\n      </td>\n      <td className=\"react-directory-row-commit-cell\">\n        <CommitMessageCell commit={commit} />\n      </td>\n      <td>\n        <CommitAgeCell commit={commit} />\n      </td>\n    </tr>\n  )\n\n  // TODO: Make entire row clickable for small screens. In desktop the link will be in the name cell.\n  return <RowContent />\n}\n\nexport const DirectoryRow = React.memo(WrappedDirectoryRow)\n\nexport function GoDirectoryUpRow({\n  initialFocus,\n  linkTo,\n  linkRef,\n  navigate,\n}: {\n  initialFocus: boolean\n  linkTo: string\n  linkRef?: React.RefObject<HTMLAnchorElement>\n  navigate: (to: string) => void\n}) {\n  const {setFocusHint} = useFocusHintContext()\n  const {path} = useFilesPageInfo()\n\n  const onClickHandler = React.useCallback(() => {\n    // on small screens, we want the whole row to be clickable\n    // so if the screen is small, navigate away\n    const isSmallScreen = window.innerWidth < ScreenSize.medium\n    if (isSmallScreen) {\n      navigate(linkTo)\n    }\n  }, [linkTo, navigate])\n\n  return (\n    <Row onClick={onClickHandler} id={`folder-row-0`}>\n      <td colSpan={3} className=\"f5 text-normal px-3\">\n        <ScreenReaderHeading as=\"h3\" text=\"parent directory\" />\n        <PrimerLink\n          aria-label=\"Parent directory\"\n          data-react-autofocus={initialFocus ? true : null}\n          data-testid=\"up-tree\"\n          as={Link}\n          muted={true}\n          onClick={() => {\n            setFocusHint(path)\n          }}\n          ref={linkRef}\n          rel=\"nofollow\"\n          sx={{\n            fontWeight: 'bold',\n            textDecoration: 'none',\n            cursor: 'pointer',\n            '&:hover': {textDecoration: 'none'},\n            '&:focus:focus-visible div': {\n              outline: '2px solid var(--focus-outlineColor, var(--color-accent-fg))',\n              outlineOffset: '-2px',\n            },\n          }}\n          to={linkTo}\n        >\n          <Box\n            className=\"width-full\"\n            sx={{width: 16, textAlign: 'center', letterSpacing: '2px', display: 'flex', alignItems: 'center'}}\n          >\n            <Octicon\n              icon={FileDirectoryFillIcon}\n              size=\"small\"\n              sx={{color: 'var(--treeViewItem-leadingVisual-iconColor-rest, var(--color-icon-directory))', mr: '10px'}}\n            />\n            ..\n          </Box>\n        </PrimerLink>\n      </td>\n    </Row>\n  )\n}\n\ntry{ WrappedDirectoryRow.displayName ||= 'WrappedDirectoryRow' } catch {}\ntry{ RowContent.displayName ||= 'RowContent' } catch {}\ntry{ DirectoryRow.displayName ||= 'DirectoryRow' } catch {}\ntry{ GoDirectoryUpRow.displayName ||= 'GoDirectoryUpRow' } catch {}","import {FileIcon} from '@primer/octicons-react'\n\ninterface Props {\n  uploadUrl: string\n}\n\nexport function Dropzone({uploadUrl}: Props) {\n  return (\n    <div\n      className=\"repo-file-upload-tree-target js-document-dropzone js-upload-manifest-tree-view\"\n      data-testid=\"dragzone\"\n      data-drop-url={uploadUrl}\n    >\n      <div className=\"repo-file-upload-outline\">\n        <div className=\"repo-file-upload-slate\">\n          <div className=\"fgColor-muted\">\n            <FileIcon size={32} />\n          </div>\n          <h2 aria-hidden=\"true\">Drop to upload your files</h2>\n        </div>\n      </div>\n    </div>\n  )\n}\n\ntry{ Dropzone.displayName ||= 'Dropzone' } catch {}","import {SkeletonText} from '../../Skeleton'\nimport type {DirectoryItem} from '@github-ui/code-view-types'\nimport {Link} from '@github-ui/react-core/link'\nimport type {Commit} from '@github-ui/repos-types'\nimport {SafeHTMLDiv} from '@github-ui/safe-html'\nimport {FileDirectoryFillIcon, FileIcon, FileSubmoduleIcon} from '@primer/octicons-react'\nimport {Link as PrimerLink, RelativeTime} from '@primer/react'\nimport type React from 'react'\n\ninterface ItemCellProps {\n  item: DirectoryItem\n}\n\ninterface NameItemCellProps extends ItemCellProps {\n  getItemUrl: (item: DirectoryItem) => string\n  onNavigate?: React.MouseEventHandler<HTMLAnchorElement>\n  initialFocus: boolean\n}\n\nconst contentTypeLabels: Record<string, string> = {\n  directory: 'Directory',\n  submodule: 'Submodule',\n  ['symlink_directory']: 'Symlink to directory',\n  ['symlink_file']: 'Symlink to file',\n}\n\nfunction getContentTypeLabel({contentType}: DirectoryItem) {\n  return `(${contentTypeLabels[contentType] || 'File'})`\n}\n\nexport function IconCell({item}: ItemCellProps) {\n  // We can render up to 1000 <IconCell> on a page, and we get a significant perf improvement\n  // by avoiding <Box> and using styles in CSS instead of JS. Please do not regress this.\n  switch (item.contentType) {\n    case 'directory':\n      return <FileDirectoryFillIcon className=\"icon-directory\" />\n    case 'submodule':\n      return <FileSubmoduleIcon className=\"icon-directory\" />\n    case 'symlink_directory':\n    case 'symlink_file':\n      return <FileSubmoduleIcon className=\"icon-directory\" />\n    default:\n      return <FileIcon className=\"color-fg-muted\" />\n  }\n}\n\nexport function NameCell({initialFocus, item, getItemUrl, onNavigate}: NameItemCellProps) {\n  let itemUrl = getItemUrl(item)\n  const tooltipText = item.hasSimplifiedPath ? 'This path skips through empty directories' : item.name\n  if (item.contentType === 'submodule') {\n    itemUrl = item.submoduleUrl ?? itemUrl\n    onNavigate = e => {\n      // doing a react nav into a different repo doesn't work great\n      e.preventDefault()\n      if (item.submoduleUrl) {\n        window.location.href = item.submoduleUrl\n      }\n    }\n  }\n\n  // We can render up to 1000 <NameCell> on a page, and we get a significant perf improvement\n  // by avoiding <Box> and using styles in CSS instead of JS. Please do not regress this.\n  return (\n    <div className=\"overflow-hidden\">\n      <div className=\"react-directory-filename-cell\">\n        <div className=\"react-directory-truncate\">\n          <Link\n            title={tooltipText}\n            aria-label={`${item.name}, ${getContentTypeLabel(item)}`}\n            className={\n              item.contentType !== 'symlink_directory' && item.contentType !== 'symlink_file'\n                ? 'Link--primary'\n                : undefined\n            }\n            data-react-autofocus={initialFocus ? true : null}\n            onClick={onNavigate}\n            to={itemUrl}\n          >\n            <ItemPathName item={item} />\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function ItemPathName({item}: {item: DirectoryItem}) {\n  // We can render up to 1000 <ItemPathName> on a page, and we get a significant perf improvement\n  // by avoiding <Box> and using styles in CSS instead of JS. Please do not regress this.\n  if (item.hasSimplifiedPath) {\n    return (\n      <>\n        {item.name.split('/').map((dirName, index, array) => {\n          const isLastItem = index === array.length - 1\n          return (\n            //should be a classname to get us fg.muted color\n            <span\n              key={index}\n              className={isLastItem ? '' : 'react-directory-default-color'}\n              data-testid=\"path-name-segment\"\n            >\n              {`${dirName}${isLastItem ? '' : '/'}`}\n            </span>\n          )\n        })}\n      </>\n    )\n  }\n\n  return item.submoduleDisplayName ? (\n    <span style={{color: 'var(--fgColor-accent, var(--color-accent-fg))'}}>{item.submoduleDisplayName}</span>\n  ) : (\n    <>{item.name}</>\n  )\n}\n\ninterface CommitCellProps {\n  commit?: Commit\n}\n\nexport function CommitMessageCell({commit}: CommitCellProps) {\n  if (!commit) {\n    return <SkeletonText />\n  }\n\n  // We can render up to 1000 <CommitMessageCell> on a page, and we get a significant perf improvement\n  // by avoiding <Box> and using styles in CSS instead of JS. Please do not regress this.\n  return commit.shortMessageHtmlLink ? (\n    <div>\n      <SafeHTMLDiv className=\"react-directory-commit-message\" html={commit.shortMessageHtmlLink} />\n    </div>\n  ) : (\n    <PrimerLink className=\"Link--secondary\" href={commit.url}>\n      No commit message\n    </PrimerLink>\n  )\n}\n\nexport function CommitAgeCell({commit}: CommitCellProps) {\n  // TODO: align how Ago labels are \"1 year ago\" vs \"12 month age\" etc.\n  // We can render up to 1000 <CommitAgeCell> on a page, and we get a significant perf improvement\n  // by avoiding <Box> and using styles in CSS instead of JS. Please do not regress this.\n  return commit?.date ? (\n    <div className=\"react-directory-commit-age\">\n      {!Number.isNaN(Date.parse(commit.date)) ? <RelativeTime datetime={commit.date} tense=\"past\" /> : 'Invalid date'}\n    </div>\n  ) : (\n    <SkeletonText />\n  )\n}\n\ntry{ IconCell.displayName ||= 'IconCell' } catch {}\ntry{ NameCell.displayName ||= 'NameCell' } catch {}\ntry{ ItemPathName.displayName ||= 'ItemPathName' } catch {}\ntry{ CommitMessageCell.displayName ||= 'CommitMessageCell' } catch {}\ntry{ CommitAgeCell.displayName ||= 'CommitAgeCell' } catch {}","import {Box, type BoxProps, type SxProp} from '@primer/react'\nimport type React from 'react'\n\n/**\n * Table Frame component\n * @param as - Use `ul` only when all children are `li` items, otherwise add a nested `ul` at your convenience.\n */\nexport function Table({children, sx, ...props}: React.PropsWithChildren<Pick<BoxProps, 'aria-labelledby'> & SxProp>) {\n  return (\n    <Box\n      as=\"table\"\n      sx={{\n        width: '100%',\n        borderCollapse: 'separate',\n        borderSpacing: 0,\n        border: '1px solid',\n        borderColor: 'border.default',\n        borderRadius: '6px',\n        tableLayout: 'fixed',\n        overflow: 'hidden',\n        ...sx,\n      }}\n      {...props}\n    >\n      {children}\n    </Box>\n  )\n}\n\nexport const HeaderRow: React.FC<{children: React.ReactNode} & SxProp> = ({children, sx}) => {\n  return (\n    <Box as=\"thead\" sx={{height: '40px', ...sx}}>\n      <Box\n        as=\"tr\"\n        sx={{\n          p: 3,\n          color: 'fg.muted',\n          fontSize: 0,\n          textAlign: 'left',\n          height: '40px',\n          th: {\n            pl: 3,\n            backgroundColor: 'canvas.subtle',\n          },\n        }}\n      >\n        {children}\n      </Box>\n    </Box>\n  )\n}\n\ninterface RowClickProps {\n  onClick?: React.MouseEventHandler<HTMLTableRowElement>\n  index?: number\n  id?: string\n}\n\nexport const Row: React.FC<React.PropsWithChildren<RowClickProps>> = ({children, onClick, index, id}) => {\n  return (\n    <Box\n      as=\"tr\"\n      sx={{\n        fontSize: 1,\n        height: '40px',\n        td: {\n          pl: 3,\n          textAlign: 'left',\n          borderTopStyle: 'solid',\n          borderTopWidth: 1,\n          borderTopColor: 'border.default',\n        },\n        '&:hover': {\n          bg: 'canvas.subtle',\n        },\n      }}\n      onClick={onClick}\n      data-index={index}\n      id={id}\n    >\n      {children}\n    </Box>\n  )\n}\n\nexport const TableFooter: React.FC<{children: React.ReactNode}> = ({children}) => {\n  return (\n    <Box\n      as=\"tfoot\"\n      sx={{\n        backgroundColor: 'canvas.subtle',\n        borderTopColor: 'border.default',\n        p: 3,\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ntry{ Table.displayName ||= 'Table' } catch {}\ntry{ HeaderRow.displayName ||= 'HeaderRow' } catch {}\ntry{ Row.displayName ||= 'Row' } catch {}\ntry{ TableFooter.displayName ||= 'TableFooter' } catch {}","import {useCurrentTree} from '../../../contexts/CurrentTreeContext'\nimport {useFilesPageInfo} from '../../../contexts/FilesPageInfoContext'\nimport type {OverviewPayload} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {parentPath, repositoryTreePath} from '@github-ui/paths'\nimport {ScreenReaderHeading} from '@github-ui/screen-reader-heading'\nimport {ScreenSize} from '@github-ui/screen-size'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {AlertIcon} from '@primer/octicons-react'\nimport {Box, Flash, Link, Octicon, Truncate} from '@primer/react'\nimport React from 'react'\n\nimport {useFocusHintContext} from '@github-ui/focus-hint-context'\nimport {useCommitInfo} from '../../../hooks/use-commit-info'\nimport {useInitiallyTruncatedList} from '../../../hooks/use-initially-truncated-list'\nimport {useUrlCreator} from '../../../hooks/use-url-creator'\nimport {LatestCommitContent} from '../../LatestCommit'\nimport {Dropzone} from './Dropzone'\nimport {DirectoryRow, GoDirectoryUpRow} from './DirectoryRow'\nimport {HeaderRow, Row, Table, TableFooter} from './Table'\n\nexport function DirectoryContent({overview}: {overview?: OverviewPayload}) {\n  const repo = useCurrentRepository()\n  const {refInfo, path} = useFilesPageInfo()\n  const {items, templateDirectorySuggestionUrl, totalCount} = useCurrentTree()\n  // When switching to SSR it will probably be best to remove this and\n  // render all the items initially.\n  const {items: itemsToShow} = useInitiallyTruncatedList(items, 100)\n  const [truncateForMobile, setTruncateForMobile] = React.useState(!!overview)\n  const omitted = totalCount - items.length\n  const {commitInfo} = useCommitInfo()\n  // Overview has a path == '/' and we want to hide the parent link in that case\n  const isSubdirectory = path.length > 1\n\n  const parentUrl = parentPath(path)\n  const parentPathHref = repositoryTreePath({repo, action: 'tree', commitish: refInfo.name, path: parentUrl})\n  const uploadUrl = repositoryTreePath({\n    repo,\n    commitish: refInfo.name,\n    path,\n    action: 'upload',\n  })\n\n  const goToParentLinkRef = React.useRef<HTMLAnchorElement>(null)\n\n  const {getItemUrl} = useUrlCreator()\n  const navigate = useNavigate()\n  const {focusHint} = useFocusHintContext()\n\n  const [focusedIndex, setFocusedIndex] = React.useState(-1)\n\n  const onNavigate: React.MouseEventHandler<HTMLAnchorElement> = React.useCallback(e => {\n    if (e.screenX === 0 && e.screenY === 0) {\n      // On keyboard navigation, set focus on the parent row\n      goToParentLinkRef.current?.focus()\n    }\n  }, [])\n\n  const onViewFilesButtonClick = React.useCallback(() => {\n    setTruncateForMobile(false)\n  }, [])\n\n  const focusNextIndex = React.useCallback((nextIndex: number) => {\n    setFocusedIndex(nextIndex)\n    const row = document.getElementById(`folder-row-${nextIndex}`)\n    let cell\n    if (window.innerWidth <= ScreenSize.medium) {\n      cell = row?.querySelector('.react-directory-row-name-cell-small-screen')\n    } else {\n      cell = row?.querySelector('.react-directory-row-name-cell-large-screen')\n    }\n    // If the cell wasn't found, this should be the GoDirectoryUpRow, so focus the only Link.\n    if (!cell) {\n      cell = row\n    }\n    cell?.getElementsByTagName('a')[0]?.focus()\n  }, [])\n\n  return (\n    <div data-hpc>\n      <button\n        hidden={true}\n        data-testid=\"focus-next-element-button\"\n        data-hotkey=\"j\"\n        onClick={() => {\n          const nextIndex = Math.min(focusedIndex + 1, isSubdirectory ? itemsToShow.length : itemsToShow.length - 1)\n          focusNextIndex(nextIndex)\n        }}\n      />\n      <button\n        hidden={true}\n        data-testid=\"focus-previous-element-button\"\n        data-hotkey=\"k\"\n        onClick={() => {\n          const nextIndex = Math.max(focusedIndex - 1, 0)\n          focusNextIndex(nextIndex)\n        }}\n      />\n      <ScreenReaderHeading as=\"h2\" text=\"Folders and files\" id=\"folders-and-files\" />\n      <Table aria-labelledby=\"folders-and-files\" sx={{overflow: 'unset'}}>\n        <HeaderRow sx={overview ? {height: '0px', lineHeight: '0px', tr: {height: '0px', fontSize: '0px'}} : undefined}>\n          <Box\n            as=\"th\"\n            sx={{\n              width: '100%',\n              borderTopLeftRadius: '6px',\n              '@media screen and (min-width: 544px)': {display: 'none'},\n            }}\n            colSpan={2}\n          >\n            <span className=\"text-bold\">Name</span>\n          </Box>\n          <Box\n            as=\"th\"\n            sx={{width: '40%', borderTopLeftRadius: '6px', '@media screen and (max-width: 543px)': {display: 'none'}}}\n            colSpan={1}\n          >\n            <span className=\"text-bold\">Name</span>\n          </Box>\n          <th className=\"hide-sm\">\n            <Truncate inline title=\"Last commit message\" className=\"width-fit\">\n              <span className=\"text-bold\">Last commit message</span>\n            </Truncate>\n          </th>\n          <Box as=\"th\" sx={{textAlign: 'right', pr: 3, width: '136px', borderTopRightRadius: '6px'}} colSpan={1}>\n            <Truncate inline title=\"Last commit date\" className=\"width-fit\">\n              <span className=\"text-bold\">Last commit date</span>\n            </Truncate>\n          </Box>\n        </HeaderRow>\n        <tbody>\n          {!!overview && (\n            <>\n              <Box\n                as=\"tr\"\n                sx={{\n                  color: 'fg.muted',\n                  fontSize: 0,\n                  height: '40px',\n                }}\n              >\n                <td colSpan={3} className=\"bgColor-muted p-1 rounded-top-2\">\n                  <LatestCommitContent commitCount={overview?.commitCount} />\n                </td>\n              </Box>\n              {omitted > 0 ? (\n                <tr>\n                  <td colSpan={3}>\n                    <Flash variant=\"warning\" className=\"rounded-0\">\n                      <Octicon icon={AlertIcon} />\n                      Sorry, we had to truncate this directory to 1,000 files. {omitted} entries were omitted from the\n                      list.\n                    </Flash>\n                  </td>\n                </tr>\n              ) : null}\n            </>\n          )}\n\n          {isSubdirectory && (\n            <GoDirectoryUpRow\n              initialFocus={!focusHint || !itemsToShow.some(i => i.path === focusHint)}\n              linkTo={parentPathHref}\n              linkRef={goToParentLinkRef}\n              navigate={navigate}\n            />\n          )}\n          {itemsToShow.map((item, index) => (\n            <DirectoryRow\n              key={item.name}\n              initialFocus={item.path === focusHint}\n              item={item}\n              commit={(commitInfo || {})[item.name]}\n              onNavigate={onNavigate}\n              getItemUrl={getItemUrl}\n              navigate={navigate}\n              className={truncateForMobile && index >= 10 ? 'truncate-for-mobile' : undefined}\n              index={isSubdirectory ? index + 1 : index}\n            />\n          ))}\n          <Box\n            as=\"tr\"\n            className={truncateForMobile && itemsToShow.length > 10 ? 'show-for-mobile' : 'd-none'}\n            sx={{\n              textAlign: 'center',\n              verticalAlign: 'center',\n              height: '40px',\n              borderTop: '1px solid',\n              borderColor: 'border.default',\n            }}\n            data-testid=\"view-all-files-row\"\n          >\n            <Box\n              as=\"td\"\n              colSpan={3}\n              onClick={onViewFilesButtonClick}\n              sx={{borderTop: '1px solid var(--borderColor-default, var(--color-border-default))', cursor: 'pointer'}}\n            >\n              <div>\n                <Link as=\"button\" onClick={onViewFilesButtonClick}>\n                  View all files\n                </Link>\n              </div>\n            </Box>\n          </Box>\n        </tbody>\n        {templateDirectorySuggestionUrl && (\n          <TableFooter>\n            <Row>\n              <td colSpan={3}>\n                Customize the issue creation experience with a <code>config.yml</code> file.{' '}\n                <Link inline href={templateDirectorySuggestionUrl}>\n                  Learn more about configuring a template chooser.\n                </Link>\n              </td>\n            </Row>\n          </TableFooter>\n        )}\n      </Table>\n      {repo.currentUserCanPush && <Dropzone uploadUrl={uploadUrl} />}\n    </div>\n  )\n}\n\ntry{ DirectoryContent.displayName ||= 'DirectoryContent' } catch {}","import {useCallback, useEffect, useState} from 'react'\n\n/**\n * Returns a list that is initially truncated to `initialCount` items, and then\n * returns the full list after a short period of time. This is useful in cases\n * where we want to display a large list of items, we don't want to virtualize\n * (for UX or accessibility reasons), but we also don't want the DOM\n * reconciliation for all of these elements to block the user from seeing the\n * initial content. Using this hook, the user will see the first `initialCount`\n * items immediately, regardless of how long it takes to add the remaining\n * items.\n */\nexport function useInitiallyTruncatedList<T>(allItems: T[], initialCount: number): {truncated: boolean; items: T[]} {\n  const initiallyTrucated = allItems.length > initialCount\n  const [truncated, setTruncated] = useState(initiallyTrucated)\n\n  useEffectAfterNextPaint(() => {\n    if (truncated) setTruncated(false)\n  }, [truncated])\n\n  const items = truncated ? allItems.slice(0, initialCount) : allItems\n  return {truncated, items}\n}\n\nfunction useEffectAfterNextPaint(doEffect: () => void, deps: unknown[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const doEffectCallback = useCallback(doEffect, deps)\n\n  useEffect(() => {\n    let timeoutHandle: ReturnType<typeof setTimeout> | null = null\n    let frameHandle: ReturnType<typeof requestAnimationFrame> | null = null\n\n    frameHandle = requestAnimationFrame(() => {\n      // This animation frame callback will run immediately _before_ the next paint...\n      timeoutHandle = setTimeout(() => {\n        // ...but a 0ms timeout after that will run on the next tick _after_ that paint.\n        doEffectCallback()\n\n        timeoutHandle = null\n      }, 0)\n\n      frameHandle = null\n    })\n\n    return () => {\n      if (timeoutHandle) clearTimeout(timeoutHandle)\n      if (frameHandle) cancelAnimationFrame(frameHandle)\n    }\n  }, [doEffectCallback])\n}\n","import {useCodeViewAddBanner} from '../contexts/CodeViewBannersContext'\nimport {useFilesPageInfo} from '../contexts/FilesPageInfoContext'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {repositoryTreePath} from '@github-ui/paths'\nimport type {Commit} from '@github-ui/repos-types'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\ninterface CommitInfoState {\n  commitInfo?: Record<string, Commit>\n  loading?: boolean\n  error?: boolean\n}\n\nexport function useCommitInfo(): CommitInfoState {\n  const {refInfo, path} = useFilesPageInfo()\n  const repo = useCurrentRepository()\n  const [state, setState] = useState<CommitInfoState>({loading: true})\n  const addBanner = useCodeViewAddBanner()\n\n  const commitPath = repositoryTreePath({\n    repo,\n    action: 'tree-commit-info',\n    commitish: refInfo.name,\n    path,\n  })\n\n  useEffect(() => {\n    let cancelled = false\n    const update = async () => {\n      setState({loading: true})\n      const response = await verifiedFetchJSON(commitPath)\n\n      if (cancelled) {\n        return\n      }\n\n      try {\n        if (response.ok) {\n          setState({commitInfo: await response.json()})\n        } else {\n          addBanner({variant: 'warning', message: 'Failed to load latest commit information.'})\n          setState({error: true})\n        }\n      } catch (e) {\n        setState({error: true})\n      }\n    }\n\n    update()\n\n    // This method will be called if commitPath changes, in order to ignore the old result\n    return function cancel() {\n      cancelled = true\n    }\n  }, [addBanner, commitPath])\n\n  return state\n}\n","import {useFilesPageInfo} from '../../contexts/FilesPageInfoContext'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {repositoryTreePath} from '@github-ui/paths'\nimport type {SafeHTMLString} from '@github-ui/safe-html'\nimport {HourglassIcon} from '@primer/octicons-react'\nimport {Link, Octicon} from '@primer/react'\n\nimport {SharedMarkdownContent} from '../SharedMarkdownContent'\n\nexport function DirectoryRichtextContent({\n  errorMessage,\n  onAnchorClick,\n  path,\n  richText,\n  stickyHeaderHeight,\n  timedOut,\n}: {\n  errorMessage?: string\n  onAnchorClick?: (event: React.MouseEvent) => void\n  path: string\n  richText: SafeHTMLString | null\n  stickyHeaderHeight?: number\n  timedOut?: boolean\n}) {\n  const repo = useCurrentRepository()\n  const {refInfo} = useFilesPageInfo()\n  if (errorMessage) {\n    return (\n      <div className=\"py-6 px-3 text-center\">\n        {timedOut && <Octicon icon={HourglassIcon} size={32} />}\n        <div data-testid=\"directory-richtext-error-message\">{errorMessage}</div>\n        {timedOut && (\n          <div>\n            But you can view the{' '}\n            <Link\n              inline\n              href={repositoryTreePath({repo, commitish: refInfo.name, action: 'raw', path})}\n              data-testid=\"directory-richtext-timeout-raw-link\"\n            >\n              raw file\n            </Link>\n            .\n          </div>\n        )}\n      </div>\n    )\n  } else if (richText) {\n    return (\n      <SharedMarkdownContent\n        onAnchorClick={onAnchorClick}\n        richText={richText}\n        stickyHeaderHeight={stickyHeaderHeight}\n        sx={{p: 5, overflow: 'auto'}}\n      />\n    )\n  }\n  return null\n}\n\ntry{ DirectoryRichtextContent.displayName ||= 'DirectoryRichtextContent' } catch {}","import React from 'react'\n\nconst AllShortcutsEnabledContext = React.createContext(true)\n\nexport function AllShortcutsEnabledProvider({\n  allShortcutsEnabled,\n  children,\n}: React.PropsWithChildren<{allShortcutsEnabled: boolean}>) {\n  return (\n    <AllShortcutsEnabledContext.Provider value={allShortcutsEnabled}> {children} </AllShortcutsEnabledContext.Provider>\n  )\n}\n\nexport function useAllShortcutsEnabled() {\n  return React.useContext(AllShortcutsEnabledContext)\n}\n\ntry{ AllShortcutsEnabledContext.displayName ||= 'AllShortcutsEnabledContext' } catch {}\ntry{ AllShortcutsEnabledProvider.displayName ||= 'AllShortcutsEnabledProvider' } catch {}","import type {FlashProps} from '@primer/react'\nimport {createContext, useCallback, useContext, useEffect, useMemo, useState} from 'react'\n// useLocation is being used to detect page navs which don't need to be handled by partials.\nimport {useLocation} from 'react-router-dom'\n\ntype Banner = {variant: FlashProps['variant']; message: string}\n\ninterface CodeViewBannersContextType {\n  banners: Banner[]\n  addBanner: (banner: Banner) => void\n  addQueuedBanner: (banner: Banner) => void\n}\n\nconst CodeViewBannersContext = createContext<CodeViewBannersContextType>({\n  banners: [],\n  addBanner: () => undefined,\n  addQueuedBanner: () => undefined,\n})\n\nexport function useCodeViewBanners() {\n  return useContext(CodeViewBannersContext).banners\n}\n/**\n * Gets a function to add a banner. This function never changes and is thus useful for code in useEffect().\n */\nexport function useCodeViewAddBanner() {\n  return useContext(CodeViewBannersContext).addBanner\n}\n\n/**\n * Gets a function to add a banner to the banner queue to make it appear on the next navigate\n * This function never changes and is thus useful for code in useEffect().\n */\nexport function useCodeViewAddQueuedBanner() {\n  return useContext(CodeViewBannersContext).addQueuedBanner\n}\n\nexport function CodeViewBannersProvider({children}: {children: React.ReactNode}) {\n  const location = useLocation()\n  const [banners, setBanners] = useState<Banner[]>([])\n  const [queuedBanners, setQueuedBanners] = useState<Banner[]>([])\n  const addBanner = useCallback((b: Banner) => setBanners(current => [...current, b]), [])\n  const addQueuedBanner = useCallback((b: Banner) => setQueuedBanners(current => [...current, b]), [])\n  const value = useMemo(() => ({banners, addBanner, addQueuedBanner}), [addBanner, addQueuedBanner, banners])\n  // clear banners on page navigation\n  useEffect(() => {\n    setBanners(queuedBanners)\n    setQueuedBanners([])\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.key])\n  return <CodeViewBannersContext.Provider value={value}>{children}</CodeViewBannersContext.Provider>\n}\n\ntry{ CodeViewBannersContext.displayName ||= 'CodeViewBannersContext' } catch {}\ntry{ CodeViewBannersProvider.displayName ||= 'CodeViewBannersProvider' } catch {}","import type {TreePayload} from '@github-ui/code-view-types'\nimport React from 'react'\n\nconst TreeContext = React.createContext({} as TreePayload)\n\nexport function useCurrentTree() {\n  return React.useContext(TreeContext)\n}\n\nexport function CurrentTreeProvider({payload, children}: React.PropsWithChildren<{payload: TreePayload}>) {\n  return <TreeContext.Provider value={payload}>{children}</TreeContext.Provider>\n}\n\ntry{ TreeContext.displayName ||= 'TreeContext' } catch {}\ntry{ CurrentTreeProvider.displayName ||= 'CurrentTreeProvider' } catch {}","import {createContext, useContext, useMemo, useState} from 'react'\n\ninterface FileQueryContextType {\n  query: string\n  setQuery: (query: string) => void\n}\n\nexport const FileQueryContext = createContext<FileQueryContextType>({query: '', setQuery: () => undefined})\n\nexport function useFileQueryContext() {\n  return useContext(FileQueryContext)\n}\n\nexport function FileQueryProvider({children}: {children: React.ReactNode}) {\n  const [query, setQuery] = useState('')\n  const value = useMemo(() => ({query, setQuery}), [setQuery, query])\n\n  return <FileQueryContext.Provider value={value}>{children}</FileQueryContext.Provider>\n}\n\ntry{ FileQueryContext.displayName ||= 'FileQueryContext' } catch {}\ntry{ FileQueryProvider.displayName ||= 'FileQueryProvider' } catch {}","import type {PageError} from '@github-ui/react-core/app-routing-types'\nimport {useAppPayload} from '@github-ui/react-core/use-app-payload'\nimport type {RefInfo} from '@github-ui/repos-types'\nimport React from 'react'\n\nexport interface FilesPageInfo {\n  refInfo: RefInfo\n  path: string\n  action: FilesPageAction\n  error?: PageError\n  copilotAccessAllowed: boolean\n}\n\nexport type FilesPageAction = 'tree' | 'blob' | 'edit' | 'new' | 'blame'\n\nconst FilesPageInfoContext = React.createContext({} as FilesPageInfo)\n\nexport function FilesPageInfoProvider({children, ...props}: React.PropsWithChildren<FilesPageInfo>) {\n  return <FilesPageInfoContext.Provider value={props}>{children}</FilesPageInfoContext.Provider>\n}\n\nexport function useFilesPageInfo() {\n  return React.useContext(FilesPageInfoContext)\n}\n\ninterface ReposAppPayload {\n  helpUrl: string\n  findFileWorkerPath: string\n  findInFileWorkerPath: string\n  githubDevUrl: string\n}\n\nexport function useReposAppPayload() {\n  return useAppPayload<ReposAppPayload>()\n}\n\ntry{ FilesPageInfoContext.displayName ||= 'FilesPageInfoContext' } catch {}\ntry{ FilesPageInfoProvider.displayName ||= 'FilesPageInfoProvider' } catch {}","import {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport React, {useCallback, useContext, useMemo, useRef} from 'react'\n\nexport type FocusHintContextType = {\n  focusHint: string | null\n  context?: unknown\n  setFocusHint: (hint: string | null, context?: unknown) => void\n}\n\nconst FocusHintContext = React.createContext<FocusHintContextType>({\n  focusHint: null,\n  setFocusHint: () => void 0,\n})\n\nexport function FocusHintContextProvider({children}: React.PropsWithChildren) {\n  const location = {key: ssrSafeLocation.pathname + ssrSafeLocation.search}\n  const lastLocationKey = useRef(location.key)\n  const currentLocationKey = useRef(location.key)\n\n  const focusHint = useRef<{hint: string | null; context?: unknown; location: string | null}>({\n    hint: null,\n    location: null,\n  })\n  const focusHintSetter = useCallback(\n    (hint: string | null, context?: unknown) => {\n      focusHint.current = {hint, context, location: location.key}\n    },\n    [location.key],\n  )\n\n  if (currentLocationKey.current !== location.key) {\n    lastLocationKey.current = currentLocationKey.current\n    currentLocationKey.current = location.key\n  }\n\n  const hintValid = focusHint.current.location === lastLocationKey.current\n  const hintValue = hintValid ? focusHint.current.hint : null\n  const contextValue = hintValid ? focusHint.current.context : null\n\n  const value = useMemo(\n    () => ({focusHint: hintValue, context: contextValue, setFocusHint: focusHintSetter}),\n    [hintValue, contextValue, focusHintSetter],\n  )\n  return <FocusHintContext.Provider value={value}>{children}</FocusHintContext.Provider>\n}\n\n/**\n * This allows us to send a focus hint to the next page we are navigating to.\n *\n * The idea is that before navigation within the same React app, we can set a focus hint. When the\n * next page renders, it can see that focus hint and use it to designate an element to receive the\n * initial focus.\n */\nexport function useFocusHintContext() {\n  return useContext(FocusHintContext)\n}\n\ntry{ FocusHintContext.displayName ||= 'FocusHintContext' } catch {}\ntry{ FocusHintContextProvider.displayName ||= 'FocusHintContextProvider' } catch {}","import {Heading, type HeadingProps} from '@primer/react'\n\nexport interface ScreenReaderHeadingProps extends Pick<HeadingProps, 'id'> {\n  as: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6'\n  text: string\n}\n\nexport function ScreenReaderHeading({as, text, ...props}: ScreenReaderHeadingProps) {\n  return (\n    <Heading as={as} className=\"sr-only\" data-testid=\"screen-reader-heading\" {...props}>\n      {text}\n    </Heading>\n  )\n}\n\ntry{ ScreenReaderHeading.displayName ||= 'ScreenReaderHeading' } catch {}","import {debounce} from '@github/mini-throttle'\nimport React, {useCallback, useEffect, useMemo, useRef, useState, useSyncExternalStore} from 'react'\n\nexport const enum ScreenSize {\n  small = 1,\n  medium = 544,\n  large = 768,\n  xlarge = 1012,\n  xxlarge = 1280,\n  xxxlarge = 1350,\n  xxxxlarge = 1440,\n}\n\nconst screenBreakpoints = [\n  ScreenSize.xxxxlarge,\n  ScreenSize.xxxlarge,\n  ScreenSize.xxlarge,\n  ScreenSize.xlarge,\n  ScreenSize.large,\n  ScreenSize.medium,\n  ScreenSize.small,\n]\n\ninterface ScreenContextData {\n  /**\n   * Specifies the size of the current window\n   */\n  screenSize: ScreenSize\n}\n\nconst ScreenContext = React.createContext<ScreenContextData>({screenSize: ScreenSize.small})\n\nexport function useScreenSize() {\n  return React.useContext(ScreenContext)\n}\n\ninterface Props {\n  /**\n   * @property {ScreenSize} [initialValue=ScreenSize.small] Initial value is useful to test react components that rely on ScreenContext.\n   */\n  initialValue?: ScreenSize\n}\n\nexport function ScreenSizeProvider({children, initialValue}: React.PropsWithChildren<Props>) {\n  const initial = useSyncExternalStore(\n    () => () => {},\n    () => initialValue ?? getCurrentSize(window.innerWidth),\n    () => initialValue ?? ScreenSize.small,\n  )\n  const currentSizeRef = useRef(initial)\n  const [screenSize, setScreenSize] = useState(initial)\n\n  const onResize = useCallback(() => {\n    const updatedSize = getCurrentSize(window.innerWidth)\n    if (currentSizeRef.current !== updatedSize) {\n      currentSizeRef.current = updatedSize\n      setScreenSize(updatedSize)\n    }\n  }, [])\n\n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(debounce(onResize))\n    resizeObserver.observe(document.documentElement)\n\n    return () => resizeObserver.disconnect()\n  }, [onResize])\n\n  const contextValue = useMemo(() => {\n    return {screenSize}\n  }, [screenSize])\n\n  return <ScreenContext.Provider value={contextValue}>{children}</ScreenContext.Provider>\n}\n\nexport function getCurrentSize(elementWidth: number) {\n  for (const breakpoint of screenBreakpoints) {\n    if (elementWidth >= breakpoint) {\n      return breakpoint\n    }\n  }\n  return ScreenSize.small\n}\n\ntry{ ScreenContext.displayName ||= 'ScreenContext' } catch {}\ntry{ ScreenSizeProvider.displayName ||= 'ScreenSizeProvider' } catch {}"],"names":["queryLast","selector","list","document","querySelectorAll","length","requestUri","window","location","protocol","host","pagePathname","locationOverride","content","pathname","pageQuery","stripParams","search","extraParams","meta","names","split","replace","macShortcuts","cursorNavigationHopWordLeft","hotkey","useWhileBlobFocused","noModifierHotkey","modifierRequired","cursorNavigationHopWordRight","cursorNavigationTopOfPage","cursorNavigationBottomOfPage","cursorNavigationEnd","cursorNavigationHome","cursorNavigationPageUp","cursorNavigationPageDown","cursorNavigationArrowDown","cursorNavigationArrowUp","cursorNavigationArrowLeft","cursorNavigationArrowRight","cursorNavigationShiftHopWordLeft","cursorNavigationShiftHopWordRight","cursorNavigationShiftTopOfPage","cursorNavigationShiftBottomOfPage","cursorNavigationShiftEnd","cursorNavigationShiftHome","cursorNavigationShiftPageUp","cursorNavigationShiftPageDown","cursorNavigationShiftArrowDown","cursorNavigationShiftArrowUp","cursorNavigationShiftArrowLeft","cursorNavigationShiftArrowRight","cursorNavigationHighlightLine","text","cursorNavigationGoLineUp","cursorNavigationOpenHelpDialog","cursorNavigationGoLineDown","cursorNavigationEnter","cursorNavigationSpace","cursorNavigationShiftSpace","expandAndFocusLineContextMenu","copyFilePathShortcut","copyPermalinkShortcut","copyRawContentShortcut","downloadRawContentShortcut","editFileShortcut","goToLineShortcut","ariaKeyShortcuts","alternativeGoToLineShortcut","findInFileShortcut","findFilesShortcut","findSelectionShortcut","findNextShortcut","findPrevShortcut","openWithGitHubDevShortcut","openWithGitHubDevInNewWindowShortcut","permalinkShortcut","searchShortcut","selectAllShortcut","selectEditTabShortcut","submitCommitDialogShortcut","refSelectorShortcut","escapeRightClickMenu","toggleFocusedPaneShortcut","toggleSymbolsShortcut","toggleTreeShortcut","viewBlameShortcut","viewCodeShortcut","viewPreviewShortcut","viewRawContentShortcut","findSymbolShortcut","shortcutMemo","Map","useShortcut","isMac","useIsPlatform","isSSR","useClientValue","key","has","shortcuts","Object","keys","reduce","acc","shortcut","undefined","set","get","useBlobFocusedModifierShortcuts","alphaNumericHotkey","includes","push","useBlobFocusedShortcuts","useCanonicalObject","obj","previousObjects","useRef","previousObject","current","deepCompare","a","b","Array","isArray","i","aKeys","bKeys","unshift","pop","useFilePagePayload","initialPayload","routePayload","useRoutePayload","payload","lastGoodPayload","error","useContext","NavigationErrorContext","newPath","extractPathFromPathname","refInfo","name","path","makeErrorPayload","useReposAnalytics","sendAnalyticsEvent","useAnalytics","sendReposUIEvent","useSendReposUIEvent","repoMetadata","useRepositoryEventMetadata","repo","useCurrentRepository","actor","useCurrentUser","useMemo","react_app","repository_id","id","repository_nwo","ownerLogin","repository_public","public","repository_is_fork","isFork","actor_id","actor_login","login","statsPath","getRelativeHref","repositoryStatsPath","owner","useCallback","target","interaction","context","body","url","href","user_agent","navigator","userAgent","browser_width","innerWidth","browser_languages","languages","join","verifiedFetchJSON","method","shouldUseUIEventTable","useFeatureFlag","sendRepoClickEvent","sendRepoKeyDownEvent","sendStats","type","sendMarketplaceActionEvent","useUrlCreator","action","useFilesPageInfo","getUrlParams","params","getHash","hash","getItemUrl","React","repositoryTreePath","commitish","item","contentType","getUrl","options","getTail","absolute","URL","origin","createPermalink","currentOid","isCurrentPagePermalink","extractFileTree","isTreePayload","fileTree","items","tree","totalCount","currentUser","fileTreeProcessingTime","foldersToFetch","allShortcutsEnabled","treeExpanded","symbolsExpanded","codeLineWrapEnabled","linkButtonSx","textDecoration","isBlobPayload","isBlamePayload","isDeletePayload","isEditPayload","BypassReason","PreferredFileTypes","extensionErrors","errorsReported","loadTime","Date","now","EXPECTED_NETWORK_ERROR_MESSAGES","Set","isExpectedError","message","startsWith","reportError","isFeatureEnabled","Error","isIgnoredNonError","ignoredErrorMessages","some","code","errorForStackTrace","serializedErrorValue","serializeNonError","JSON","stringify","report","errorContext","value","stacktrace","catalogService","formatError","unloaded","isSupported","head","querySelector","stack","frame","extensions","test","filename","function","fetch","assign","sanitizedUrl","readyState","referrer","getSoftNavReferrer","timeSinceLoad","Math","round","user","pageUser","clientId","getOrCreateClientId","bundler","ui","Boolean","parse","map","file","String","methodName","lineno","lineNumber","toString","colno","column","ssrSafeWindow","addEventListener","BroadcastChannel","sharedWorkerErrorChannel","event","data","contextData","AnalyticsContext","appName","category","metadata","eventType","react","sendEvent","useClickAnalytics","sendClickAnalyticsEvent","fetchJSON","response","ok","json","memoizeCache","memoizeFetchJSON","memoize","cache","resetMemoizeFetchJSON","clear","useLatestCommit","repoOwner","repoName","latestCommit","setLatestCommit","useState","setError","loading","setLoading","commitInfoPath","useEffect","SOFT_NAV_STATE","START","removeEventListener","cancelled","update","commit","e","AddFileDropdownButton","useIcon","canEdit","ScreenReaderHeading","as","ActionMenu","Anchor","IconButton","unsafeDisableTooltip","icon","PlusIcon","aria-label","Button","Overlay","sx","maxHeight","overflowY","ActionList","LinkItem","Link","onClick","to","LeadingVisual","UploadIcon","displayName","AllShortcutsEnabled","children","useAllShortcutsEnabled","CodeViewError","Box","minHeight","margin","div","className","Octicon","AlertIcon","size","ErrorText","LinkButton","clsx","LinkButtonCSS","variant","repoOverviewUrl","repoDefaultBrachUrl","httpStatus","DescriptionText404","DefaultDescriptionText","data-testid","BranchName","p","errorNumberText","inline","reload","EditButton","editPath","editTooltip","customSx","navigate","useNavigate","PencilIcon","data-hotkey","title","ReposChecksStatusBadge","status","oid","details","fetchDetails","useCommitChecksStatusDetails","ChecksStatusBadge","statusRollup","combinedStatus","onWillOpenPopup","LatestCommitSingleLine","commitCount","LatestCommitContent","detailsOpen","setDetailsOpen","display","flexDirection","flexWrap","justifyContent","alignItems","gap","minWidth","CommitErrorMessage","SkeletonText","width","CommitSummary","LastCommitTimestamp","HistoryLink","bodyMessageHtml","CommitDetails","span","AlertFillIcon","dataUrl","commitHovercardPath","shortMessageHtmlLink","getProperHovercardsOnCommitMessage","shortMessage","part","concat","fontSize","flexGrow","authors","CommitAttribution","includeVerbs","committer","committerAttribution","AuthorAvatar","author","SafeHTMLText","unverifiedHTML","CommitDetailsButton","isNaN","date","RelativeTime","datetime","tense","abbreviatedOid","slice","PrimerLink","data-hovercard-url","HistoryLinkButton","leadingVisual","HistoryIcon","commitCountLabel","Tooltip","aria-describedby","props","commitsPath","ref","EllipsisIcon","color","aria-pressed","aria-expanded","html","br","whiteSpace","PublishBanners","showPublishActionBanner","releasePath","dismissActionNoticePath","hidden","setHidden","Flash","mt","XIcon","verifiedFetch","ReposHeaderRefSelector","buttonClassName","allowResizing","idEnding","onCreateError","useRefCreateErrorHandling","addToast","useToastContext","RefSelector","currentCommitish","defaultBranch","canCreate","currentUserCanPush","cacheKey","listCacheKey","selectedRefType","refType","getHref","refName","hotKey","onBeforeCreate","onOpenChange","open","useFocusZone","style","TableOfContentsPanel","onClose","toc","filter","setFilter","setHash","headingRef","focus","hashChange","px","pt","maxWidth","aria-labelledby","h3","tabIndex","TextInput","FilterIcon","placeholder","onChange","NavList","borderRadius","level","htmlText","anchor","index","toLowerCase","fontWeight","paddingLeft","hashString","Item","aria-current","button","metaKey","ctrlKey","onHashChange","preventDefault","SafeHTMLBox","PopoverContainer","PopoverContent","header","Heading","PopoverIcon","IconComponent","bg","CircleOcticon","PopoverActions","getCommitsCountText","RefComparisonText","comparison","linkify","ahead","behind","baseBranch","baseBranchRange","currentRef","aheadLink","comparePath","base","behindLink","sendAheadLinkAnalytics","label","sendBehindLinkAnalytics","LinkOrText","ContributePopoverContent","isAhead","GitPullRequestIcon","ContributeButton","trailingVisual","TriangleDownIcon","align","useDisabledWithLabel","disabledLabel","disabled","setDisabled","syncForkButtonEventPayload","FetchUpstreamPopoverContent","discard","helpUrl","useReposAppPayload","syncingForkHelpUrl","compareBranchesPath","comparisonState","getComparisonState","isBehind","discardButton","updateButton","visible","compare","isTrackingBranch","hasVisibleActions","values","GitMergeIcon","CheckIcon","HeaderText","ContentText","rel","FetchUpstreamWithConflictsPopoverContent","createPullRequestPath","newPullRequestPath","commitsCountText","FetchPopoverContainer","mergeabilityState","useMergeabilityCheck","setData","mergeabilityCheckPath","state","statusText","discardChanges","updateBranch","useBranchUpdater","discardPath","fetchAndMergePath","updatePath","discardAndReload","updateAndReload","Spinner","FetchUpstreamButton","SyncIcon","trailingAction","PullRequestLink","pullRequestNumber","pullRequestPath","number","BranchInfoBar","infoBar","useBranchInfoBar","refComparison","BranchInfoBarContainer","border","borderColor","pl","pr","py","mb","aria-live","BranchInfoBarErrorBanner","RowContent","Dropzone","uploadUrl","data-drop-url","FileIcon","h2","aria-hidden","contentTypeLabels","directory","submodule","IconCell","FileDirectoryFillIcon","FileSubmoduleIcon","NameCell","initialFocus","onNavigate","itemUrl","tooltipText","hasSimplifiedPath","submoduleUrl","getContentTypeLabel","data-react-autofocus","ItemPathName","dirName","array","isLastItem","submoduleDisplayName","CommitMessageCell","SafeHTMLDiv","CommitAgeCell","Table","borderCollapse","borderSpacing","tableLayout","overflow","HeaderRow","height","textAlign","th","backgroundColor","Row","td","borderTopStyle","borderTopWidth","borderTopColor","data-index","TableFooter","WrappedDirectoryRow","onClickHandler","ScreenSize","small","defaultPrevented","tr","colSpan","DirectoryRow","GoDirectoryUpRow","linkTo","linkRef","setFocusHint","useFocusHintContext","medium","muted","cursor","outline","outlineOffset","letterSpacing","mr","DirectoryContent","overview","templateDirectorySuggestionUrl","useCurrentTree","itemsToShow","useInitiallyTruncatedList","allItems","initialCount","initiallyTrucated","truncated","setTruncated","useEffectAfterNextPaint","doEffect","deps","doEffectCallback","timeoutHandle","frameHandle","requestAnimationFrame","setTimeout","clearTimeout","cancelAnimationFrame","truncateForMobile","setTruncateForMobile","omitted","commitInfo","useCommitInfo","setState","addBanner","useCodeViewAddBanner","commitPath","isSubdirectory","parentUrl","parentPath","parentPathHref","goToParentLinkRef","focusHint","focusedIndex","setFocusedIndex","screenX","screenY","onViewFilesButtonClick","focusNextIndex","cell","nextIndex","row","getElementById","getElementsByTagName","data-hpc","min","max","lineHeight","borderTopLeftRadius","Truncate","borderTopRightRadius","tbody","verticalAlign","borderTop","DirectoryRichtextContent","errorMessage","onAnchorClick","richText","stickyHeaderHeight","timedOut","HourglassIcon","SharedMarkdownContent","AllShortcutsEnabledContext","AllShortcutsEnabledProvider","Provider","CodeViewBannersContext","createContext","banners","addQueuedBanner","useCodeViewBanners","useCodeViewAddQueuedBanner","CodeViewBannersProvider","useLocation","setBanners","queuedBanners","setQueuedBanners","TreeContext","CurrentTreeProvider","FileQueryContext","query","setQuery","useFileQueryContext","FileQueryProvider","FilesPageInfoContext","FilesPageInfoProvider","useAppPayload","FocusHintContext","FocusHintContextProvider","ssrSafeLocation","lastLocationKey","currentLocationKey","hint","focusHintSetter","hintValid","hintValue","contextValue","screenBreakpoints","ScreenContext","screenSize","useScreenSize","ScreenSizeProvider","initialValue","initial","useSyncExternalStore","getCurrentSize","currentSizeRef","setScreenSize","onResize","updatedSize","resizeObserver","ResizeObserver","debounce","observe","documentElement","disconnect","elementWidth","breakpoint"],"sourceRoot":""}