<html>
<head>
    <title>399 (word diff)</title>
    <link href="./example.css" rel="stylesheet" type="text/css">
</head>
<body>
  <div class="example prose-diff">

    <h2>should render without incident</h2>

    <div class="before">
      <article class="markdown-body entry-content" itemprop="mainContentOfPage"><table data-table-type="yaml-metadata">
      <thead><tr>
      <th>title</th>
        </tr></thead>
      <tbody><tr>
      <td><div>Getting Started | GitHub API</div></td>
        </tr></tbody>
      </table><h1>
      <a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h1>

      <ul>
      <li>TOC
      {:toc}</li>
      </ul><p>Let's walk through core API concepts as we tackle some everyday use cases.</p>

      <h2>
      <a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h2>

      <p>Most applications will use an existing <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/libraries/">wrapper library</a> in the language
      of your choice, but it's important to familiarize yourself with the underlying API
      HTTP methods first.</p>

      <p>There's no easier way to kick the tires than through <a href="http://curl.haxx.se/">cURL</a>.</p>

      <h3>
      <a name="hello-world" class="anchor" href="#hello-world"><span class="octicon octicon-link"></span></a>Hello World</h3>

      <p>Let's start by testing our setup. Open up a command prompt and enter the
      following command (without the <code>$</code>):</p>

      <pre>$ curl https://api.github.com/zen
      </pre>

      <p>You should get a random response about one of our design philosophies:</p>

      <pre>Keep it logically awesome.
      </pre>

      <p>Next, let's <code>GET</code> <a href="https://github.com/defunkt">Chris Wanstrath's</a> <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/users/">GitHub profile</a>:</p>

      <pre># GET /users/defunkt
      $ curl https://api.github.com/users/defunkt

      {
        "login": "defunkt",
        "id": 2,
        "url": "https://api.github.com/users/defunkt",
        "html_url": "https://github.com/defunkt",
        ...
      }
      </pre>

      <p>Mmmmm, tastes like <a href="http://en.wikipedia.org/wiki/JSON">JSON</a>. Let's include the <code>-i</code> flag to include headers:</p>

      <pre>$ curl -i https://api.github.com/users/defunkt

      HTTP/1.1 200 OK
      Server: GitHub.com
      Date: Sun, 11 Nov 2012 18:43:28 GMT
      Content-Type: application/json; charset=utf-8
      Connection: keep-alive
      Status: 200 OK
      ETag: "bfd85cbf23ac0b0c8a29bee02e7117c6"
      X-RateLimit-Limit: 60
      X-RateLimit-Remaining: 57
      X-RateLimit-Reset: 1352660008
      X-GitHub-Media-Type: github.beta
      Vary: Accept
      Cache-Control: public, max-age=60, s-maxage=60
      X-Content-Type-Options: nosniff
      Content-Length: 692
      Last-Modified: Tue, 30 Oct 2012 18:58:42 GMT

      {
        "login": "defunkt",
        "id": 2,
        "url": "https://api.github.com/users/defunkt",
        "html_url": "https://github.com/defunkt",
        ...
      }
      </pre>

      <p>There are a few interesting bits in the response headers. As expected, the
      <code>Content-Type</code> is <code>application/json</code>.</p>

      <p>Any headers beginning with <code>X-</code> are custom headers, and are not included in the
      HTTP spec. Let's take a look at a few of them:</p>

      <ul>
      <li>
      <code>X-GitHub-Media-Type</code> has a value of <code>github.beta</code>. This lets us know the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/media/">media type</a>
      for the response. Media types have helped us version our output in API v3. We'll
      talk more about that later.</li>
      <li>Take note of the <code>X-RateLimit-Limit</code> and <code>X-RateLimit-Remaining</code> headers. This
      pair of headers indicate <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/#rate-limiting">how many requests a client can make</a> in a rolling hour
      and how many of those requests the client has already spent.</li>
      </ul><h2>
      <a name="authentication" class="anchor" href="#authentication"><span class="octicon octicon-link"></span></a>Authentication</h2>

      <p>Unauthenticated clients can make 60 requests per hour. To get more, we'll need to
      <em>authenticate</em>. In fact, doing anything interesting with the GitHub API requires
      <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/#authentication">authentication</a>.</p>

      <h3>
      <a name="basic" class="anchor" href="#basic"><span class="octicon octicon-link"></span></a>Basic</h3>

      <p>The easiest way to authenticate with the GitHub API is by simply using your GitHub
      username and password via Basic Authentication.</p>

      <pre>$ curl -i -u &lt;your_username&gt; https://api.github.com/users/defunkt

      Enter host password for user '&lt;your_username&gt;':
      </pre>

      <p>The <code>-u</code> flag sets the username, and cURL will prompt you for the password. You
      can use <code>-u "username:password"</code> to avoid the prompt, but this leaves your
      password in shell history and isn't recommended. When authenticating, you
      should see your rate limit bumped to 5,000 requests an hour, as indicated in the
      <code>X-RateLimit-Limit</code> header.</p>

      <p>In addition to just getting more calls per hour, authentication is the key to
      reading and writing private information via the API.</p>

      <h3>
      <a name="two-factor-authentication" class="anchor" href="#two-factor-authentication"><span class="octicon octicon-link"></span></a>Two-factor authentication</h3>

      <p>If you have <a href="https://help.github.com/articles/about-two-factor-authentication">two-factor authentication</a> enabled, the API will return a
      <code>401 Unauthorized</code> error code for the above request:</p>

      <pre>$ curl -i -u &lt;your_username&gt; https://api.github.com/users/defunkt

      Enter host password for user '&lt;your_username&gt;':

      HTTP/1.1 401 Unauthorized
      X-GitHub-OTP: required; app

      {
        "message": "Must specify two-factor authentication OTP code.",
        "documentation_url": "http://developer.github.com/v3/auth#working-with-two-factor-authentication"
      }
      </pre>

      <p>To get around that error, provide your 2FA OTP code in the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/auth/#working-with-two-factor-authentication">X-GitHub-OTP request header</a>:</p>

      <pre>$ curl -i -u &lt;your_username&gt; -H "X-GitHub-OTP: &lt;your_2fa_OTP_code&gt;" \
          https://api.github.com/users/defunkt

      Enter host password for user '&lt;your_username&gt;':

      HTTP/1.1 200 OK

      {
        "login": "defunkt",
        "id": 2,
        "url": "https://api.github.com/users/defunkt",
        "html_url": "https://github.com/defunkt",
        ...
      }
      </pre>

      <p>If you enabled 2FA with a mobile application, then you can get an OTP
      code from that application on your phone. If you enabled 2FA with text messages,
      then you'll get an SMS with your OTP code after making a request to an API
      endpoint which requires such an OTP code.</p>

      <p>Because these OTP codes expire quickly, an easier workaround is to create and
      use a Personal token for authentication. See the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/guides/getting-started/#oauth">OAuth section</a>
      below for more information.</p>

      <h3>
      <a name="get-your-own-user-profile" class="anchor" href="#get-your-own-user-profile"><span class="octicon octicon-link"></span></a>Get your own user profile</h3>

      <p>When properly authenticated, you can take advantage of the permissions
      associated with your GitHub account. For example, try getting your own
      user profile:</p>

      <pre>$ curl -i -u &lt;your_username&gt; https://api.github.com/user
      </pre>

      <p>This time, in addition to the same set of public information we
      retrieved for defunkt earlier, you should also see the non-public
      information for your user profile. For example, you see a <code>plan</code> object
      on the response:</p>

      <pre>{
        ...
        "plan": {
          "space": 2516582,
          "collaborators": 10,
          "private_repos": 20,
          "name": "medium"
        }
        ...
      }
      </pre>

      <h3>
      <a name="oauth" class="anchor" href="#oauth"><span class="octicon octicon-link"></span></a>OAuth</h3>

      <p>While convenient, Basic Authentication isn't ideal because you shouldn't give your GitHub
      username and password to anyone. Applications that need to read or write
      private information using the API on behalf of another user should use <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/">OAuth</a>.</p>

      <p>Instead of usernames and passwords, OAuth uses <em>tokens</em>. Tokens provide two big
      features:</p>

      <ul>
      <li>
      <strong>Revokable access</strong>: users can revoke authorization to third party apps at any time</li>
      <li>
      <strong>Limited access</strong>: users can review the specific access that a token
      will provide before authorizing a third party app</li>
      </ul><p>Normally, tokens are created via a <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/#web-application-flow">web flow</a>. An application
      sends users to GitHub to log in. GitHub then presents a dialog
      indicating the name of the app, as well as the level of access the app
      has once it's authorized by the user. After a user authorizes access, GitHub
      redirects the user back to the application:</p>

      <p><a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/images/oauth_prompt.png" target="_blank"><img src="/github/internal-developer.github.com/raw/64a845283a7deb23f544c26a80a458a415b24f07/content/guides//images/oauth_prompt.png" alt="" style="max-width:100%;"></a></p>

      <p>However, you don't need to set up the entire web flow to begin working with OAuth tokens.
      An easier way to get a token is to <a href="https://help.github.com/articles/creating-an-access-token-for-command-line-use">create a <strong>Personal token</strong></a> via your
      <a href="https://github.com/settings/applications">Application settings page</a>:</p>

      <p><a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/images/personal_token.png" target="_blank"><img src="/github/internal-developer.github.com/raw/64a845283a7deb23f544c26a80a458a415b24f07/content/guides//images/personal_token.png" alt="" style="max-width:100%;"></a></p>

      <p>Also, the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/#oauth-authorizations-api"><strong>Authorizations API</strong></a> makes it simple to use Basic Authentication
      to create an OAuth token. Try pasting and running the following command:</p>

      <pre>$ curl -i -u &lt;your_username&gt; -d '{"scopes": ["repo"]}' \
          https://api.github.com/authorizations
      </pre>

      <p>You should see output similar to this:</p>

      <pre>HTTP/1.1 201 Created
      Location: https://api.github.com/authorizations/2
      Content-Length: 384

      {
        "scopes": [
          "repo"
        ],
        "token": "5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4",
        "updated_at": "2012-11-14T14:04:24Z",
        "url": "https://api.github.com/authorizations/2",
        "app": {
          "url": "http://developer.github.com/v3/oauth/#oauth-authorizations-api",
          "name": "GitHub API"
        },
        "created_at": "2012-11-14T14:04:24Z",
        "note_url": null,
        "id": 2,
        "note": null
      }
      </pre>

      <p>There's a lot going on in this one little call, so let's break it down. First,
      the <code>-d</code> flag indicates we're doing a <code>POST</code>, using the
      <code>application/x-www-form-urlencoded</code> content type (as opposed to <code>GET</code>). All <code>POST</code>
      requests to the GitHub API should be in JSON.</p>

      <p>Next, let's look at the <code>scopes</code> we're sending over in this call. When creating
      a new token, we include an optional array of <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/#scopes"><em>scopes</em></a>, or access
      levels, that indicate what information this token can access. In this case,
      we're setting up the token with <em>repo</em> access, which grants access to read and
      write to private repositories. See <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/#scopes">the scopes docs</a> for a full list of
      scopes. You should <strong>only</strong> request scopes that your application actually needs,
      in order to not frighten users with potentially invasive actions. The <code>201</code>
      status code tells us that the call was successful, and the JSON returned
      contains the details of our new OAuth token.</p>

      <p>Now, we can use the forty character <code>token</code> instead of a username and password
      in the rest of our examples. Let's grab our own user info again, using OAuth this time:</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          https://api.github.com/user
      </pre>

      <p><strong>Treat OAuth tokens like passwords!</strong> Don't share them with other users or store
      them in insecure places. The tokens in these examples are fake and the names have
      been changed to protect the innocent.</p>

      <p>Now that we've got the hang of making authenticated calls, let's move along to
      the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/repos/">Repositories API</a>.</p>

      <h2>
      <a name="repositories" class="anchor" href="#repositories"><span class="octicon octicon-link"></span></a>Repositories</h2>

      <p>Almost any meaningful use of the GitHub API will involve some level of Repository
      information. We can <code>GET</code> repository details in the same way we fetched user
      details earlier:</p>

      <pre>$ curl -i https://api.github.com/repos/twbs/bootstrap
      </pre>

      <p>In the same way, we can view repositories for the authenticated user:</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          https://api.github.com/user/repos
      </pre>

      <p>Or, we can list repositories for another user:</p>

      <pre>$ curl -i https://api.github.com/users/technoweenie/repos
      </pre>

      <p>Or, we can list repositories for an organization:</p>

      <pre>$ curl -i https://api.github.com/orgs/github/repos
      </pre>

      <p>The information returned from these calls will depend on how we authenticate:</p>

      <ul>
      <li>Using Basic Authentication, the response includes all repositories the
      the user has access to see on github.com.</li>
      <li>Using OAuth, private repositories are only returned if the OAuth token
      contains the <code>repo</code> <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/#scopes">scope</a>.</li>
      </ul><p>As the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/repos/">docs</a> indicate, these methods take a <code>type</code> parameter that
      can filter the repositories returned based on what type of access the user has
      for the repository. In this way, we can fetch only directly-owned repositories,
      organization repositories, or repositories the user collaborates on via a team.</p>

      <pre>$ curl -i "https://api.github.com/users/technoweenie/repos?type=owner"
      </pre>

      <p>In this example, we grab only those repositories that technoweenie owns, not the
      ones on which he collaborates. Note the quoted URL above. Depending on your
      shell setup, cURL sometimes requires a quoted URL or else it ignores the
      querystring.</p>

      <h3>
      <a name="create-a-repository" class="anchor" href="#create-a-repository"><span class="octicon octicon-link"></span></a>Create a repository</h3>

      <p>Fetching information for existing repositories is a common use case, but the
      GitHub API supports creating new repositories as well. To <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/repos/#create">create a repository</a>,
      we need to <code>POST</code> some JSON containing the details and configuration options.</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          -d '{ \
              "name": "blog", \
              "auto_init": true, \
              "private": true, \
              "gitignore_template": "nanoc" \
            }' \
          https://api.github.com/user/repos
      </pre>

      <p>In this minimal example, we create a new repository for our blog (to be served
      on <a href="http://pages.github.com">GitHub Pages</a>, perhaps). Though the blog will be public, we've made
      the repository private. In this single step, we'll also initialize it with
      a README and a <a href="http://nanoc.stoneship.org/">nanoc</a>-flavored [.gitignore template]<a href="https://github.com/github/gitignore">gitignore
      templates</a>.</p>

      <p>The resulting repository will be found at <code>https://github.com/&lt;your_username&gt;/blog</code>.
      To create a repository under an organization for which you're
      an owner, just change the API method from <code>/user/repos</code> to <code>/orgs/&lt;org_name&gt;/repos</code>.</p>

      <p>Next, let's fetch our newly created repository:</p>

      <pre>$ curl -i https://api.github.com/repos/pengwynn/blog

      HTTP/1.1 404 Not Found

      {
          "message": "Not Found"
      }
      </pre>

      <p>Oh noes! Where did it go? Since we created the repository as <em>private</em>, we need
      to authenticate in order to see it. If you're a grizzled HTTP user, you might
      expect a <code>403</code> instead. Since we don't want to leak information about private
      repositories, the GitHub API returns a <code>404</code> in this case, as if to say "we can
      neither confirm nor deny the existence of this repository."</p>

      <h2>
      <a name="issues" class="anchor" href="#issues"><span class="octicon octicon-link"></span></a>Issues</h2>

      <p>The UI for Issues on GitHub aims to provide 'just enough' workflow while
      staying out of your way. With the GitHub <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/issues/">Issues API</a>, you can pull
      data out or create issues from other tools to create a workflow that works for
      your team.</p>

      <p>Just like github.com, the API provides a few methods to view issues for the
      authenticated user. To see all your issues, call <code>GET /issues</code>:</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          https://api.github.com/issues
      </pre>

      <p>To get only the issues under one of your GitHub organizations, call <code>GET
      /orgs/&lt;org&gt;/issues</code>:</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          https://api.github.com/orgs/rails/issues
      </pre>

      <p>We can also get all the issues under a single repository:</p>

      <pre>$ curl -i https://api.github.com/repos/rails/rails/issues
      </pre>

      <h3>
      <a name="pagination" class="anchor" href="#pagination"><span class="octicon octicon-link"></span></a>Pagination</h3>

      <p>A project the size of Rails has thousands of issues. We'll need to <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/#pagination">paginate</a>,
      making multiple API calls to get the data. Let's repeat that last call, this
      time taking note of the response headers:</p>

      <pre>$ curl -i https://api.github.com/repos/rails/rails/issues

      HTTP/1.1 200 OK

      Link: &lt;https://api.github.com/repos/rails/rails/issues?page=2&gt;; rel="next",
      &lt;https://api.github.com/repos/rails/rails/issues?page=14&gt;; rel="last"
      </pre>

      <p>The <a href="http://www.w3.org/wiki/LinkHeader"><code>Link</code> header</a> provides a way for a response to link to
      external resources, in this case additional pages of data. Since our call found
      more than thirty issues (the default page size), the API tells us where we can
      find the next page and the last page of results.</p>

      <h3>
      <a name="creating-an-issue" class="anchor" href="#creating-an-issue"><span class="octicon octicon-link"></span></a>Creating an issue</h3>

      <p>Now that we've seen how to paginate lists of issues, let's <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/issues/#create">create an issue</a> from
      the API.</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          -d '{ \
               "title": "New logo", \
               "body": "We should have one", \
               "labels": ["design"] \
             }' \
          https://api.github.com/repos/pengwynn/api-sandbox/issues
      </pre>

      <p>To create an issue, we need to be authenticated, so we pass an
      OAuth token in the header. We pass the title, body, and labels in the JSON
      body to the <code>/issues</code> path underneath the repository in which we want to create
      the issue.</p>

      <pre>HTTP/1.1 201 Created
      Location: https://api.github.com/repos/pengwynn/api-sandbox/issues/17
      X-RateLimit-Limit: 5000

      {
        "pull_request": {
          "patch_url": null,
          "html_url": null,
          "diff_url": null
        },
        "created_at": "2012-11-14T15:25:33Z",
        "comments": 0,
        "milestone": null,
        "title": "New logo",
        "body": "We should have one",
        "user": {
          "login": "pengwynn",
          "gravatar_id": "7e19cd5486b5d6dc1ef90e671ba52ae0",
          "avatar_url": "https://secure.gravatar.com/avatar/7e19cd5486b5d6dc1ef90e671ba52ae0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
          "id": 865,
          "url": "https://api.github.com/users/pengwynn"
        },
        "closed_at": null,
        "updated_at": "2012-11-14T15:25:33Z",
        "number": 17,
        "closed_by": null,
        "html_url": "https://github.com/pengwynn/api-sandbox/issues/17",
        "labels": [
          {
            "color": "ededed",
            "name": "design",
            "url": "https://api.github.com/repos/pengwynn/api-sandbox/labels/design"
          }
        ],
        "id": 8356941,
        "assignee": null,
        "state": "open",
        "url": "https://api.github.com/repos/pengwynn/api-sandbox/issues/17"
      }
      </pre>

      <p>The response gives us a couple of pointers to the newly created issue, both in
      the <code>Location</code> response header and the <code>url</code> field of the JSON response.</p>

      <h3>
      <a name="convert-an-issue-to-a-pull-request" class="anchor" href="#convert-an-issue-to-a-pull-request"><span class="octicon octicon-link"></span></a>Convert an issue to a Pull Request</h3>

      <p>GitHub moves fast and the API tries to keep pace, but there are some things you
      can do with the API that you can't do on github.com. Using the API, you can
      turn an issue into a Pull Request.</p>

      <p>But at this point, we'll need to create a branch called <code>new-feature</code>
      with at least one commit so it's ahead of the <code>master</code> branch:</p>

      <pre>$ git clone https://github.com/github/platform-sandbox
      $ git checkout -b new-feature
      $ touch cool-feature.rb
      $ git add cool-feature.rb
      $ git commit -m "Add new feature."
      $ git push origin new-feature
      </pre>

      <p>Now let's convert the issue we created in the previous section:</p>

      <pre>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          -d '{ \
               "issue": 17, \
               "head": "new-feature", \
               "base": "master" \
             }' \
          https://api.github.com/repos/pengwynn/api-sandbox/pulls
      </pre>

      <p>Using this shorthand, the details for the pull request title and body are taken
      from the issue we provide.</p>

      <h2>
      <a name="conditional-requests" class="anchor" href="#conditional-requests"><span class="octicon octicon-link"></span></a>Conditional requests</h2>

      <p>A big part of being a good API citizen is respecting rate limits by
      caching information that hasn't changed. The API supports <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/#conditional-requests">conditional
      requests</a> and helps you do the right thing. Consider the
      first call we made to get defunkt's profile:</p>

      <pre>$ curl -i https://api.github.com/users/defunkt
      </pre>

      <p>In addition to the JSON body, take note of the HTTP status code of <code>200</code> and
      the <code>ETag</code> header:</p>

      <pre>HTTP/1.1 200 OK
      ETag: "bfd85cbf23ac0b0c8a29bee02e7117c6"
      </pre>

      <p>The ETag is a fingerprint of the response. If we pass that on subsequent calls,
      we can tell the API to give us the resource again, only if it has changed:</p>

      <pre>$ curl -i -H 'If-None-Match: "644b5b0155e6404a9cc4bd9d8b1ae730"' \
          https://api.github.com/users/defunkt

      HTTP/1.1 304 OK
      </pre>

      <p>The <code>304</code> status indicates that the resource hasn't changed since the last time
      we asked for it and the response will contain no body. As a bonus, <code>304</code>
      responses don't count against your <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/#rate-limiting">rate limit</a>.</p></article>
    </div>

    <div class="after">
      <article class="markdown-body entry-content" itemprop="mainContentOfPage"><table data-table-type="yaml-metadata">
      <thead><tr>
      <th>title</th>
        </tr></thead>
      <tbody><tr>
      <td><div>Getting Started | GitHub API</div></td>
        </tr></tbody>
      </table><h1>
      <a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h1>

      <ul>
      <li>TOC
      {:toc}</li>
      </ul><p>Let's walk through core API concepts as we tackle some everyday use
      cases.</p>

      <h2>
      <a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h2>

      <p>Most applications will use an existing <a href="http://developer.github.com/libraries/">wrapper library</a> in the language
      of your choice, but it's important to familiarize yourself with the underlying API
      HTTP methods first.</p>

      <p>There's no easier way to kick the tires than through <a href="http://curl.haxx.se/">cURL</a>.</p>

      <h3>
      <a name="hello-world" class="anchor" href="#hello-world"><span class="octicon octicon-link"></span></a>Hello World</h3>

      <p>Let's start by testing our setup. Open up a command prompt and paste the following code:</p>

      <pre><code>curl https://api.github.com/zen
      </code></pre>

      <p>You should get a random response about one of our design philosophies:</p>

      <pre><code>Keep it logically awesome.
      </code></pre>

      <p>Next, let's <code>GET</code> Chris Wanstrath's GitHub profile:</p>

      <pre><code># GET /users/defunkt
      curl https://api.github.com/users/defunkt
      </code></pre>

      <p>Mmmmm, tastes like JSON. Let's include the <code>-i</code> flag to include headers:</p>

      <pre><code>curl -i https://api.github.com/users/defunkt

      HTTP/1.1 200 OK
      Server: GitHub.com
      Date: Sun, 11 Nov 2012 18:43:28 GMT
      Content-Type: application/json; charset=utf-8
      Connection: keep-alive
      Status: 200 OK
      ETag: "bfd85cbf23ac0b0c8a29bee02e7117c6"
      X-RateLimit-Limit: 60
      X-RateLimit-Remaining: 57
      X-RateLimit-Reset: 1352660008
      X-GitHub-Media-Type: github.beta
      Vary: Accept
      Cache-Control: public, max-age=60, s-maxage=60
      X-Content-Type-Options: nosniff
      Content-Length: 692
      Last-Modified: Tue, 30 Oct 2012 18:58:42 GMT
      </code></pre>

      <p>There are a few interesting bits in the response headers. As expected, the
      <code>Content-Type</code> is <code>application/json</code>.</p>

      <p>Any headers beginning with <code>X-</code> are custom headers, and are not included in the
      HTTP spec. Let's take a look at a few of them:</p>

      <ul>
      <li>
      <code>X-GitHub-Media-Type</code> has a value of <code>github.beta</code>. This lets us know the <a href="http://developer.github.com/v3/media/">media type</a>
      for the response. Media types have helped us version our output in API v3. We'll
      talk more about that later.</li>
      <li>Take note of the <code>X-RateLimit-Limit</code> and <code>X-RateLimit-Remaining</code> headers. This
      pair of headers indicate how many requests a client can make in a rolling hour
      and how many of those requests the client has already spent.</li>
      </ul><h2>
      <a name="authentication" class="anchor" href="#authentication"><span class="octicon octicon-link"></span></a>Authentication</h2>

      <p>Unauthenticated clients can make 60 requests per hour. To get more, we'll need to
      <em>authenticate</em>. In fact, doing anything interesting with the GitHub API requires
      authentication.</p>

      <h3>
      <a name="basic" class="anchor" href="#basic"><span class="octicon octicon-link"></span></a>Basic</h3>

      <p>The easiest way to authenticate with the GitHub API is by simply using your GitHub
      username and password via Basic Authentication.</p>

      <pre><code>curl -i -u &lt;your_username&gt; https://api.github.com/users/defunkt
      Enter host password for user '&lt;your_username&gt;':
      </code></pre>

      <p>If you have 2 factor authentication enabled you will get a message - "Must specify two-factor authentication OTP code." The easiest way to move on is to grab a token. Go to to settings/applications and click 'Create new token'.</p>

      <p>Type in:</p>

      <pre><code>curl -u &lt;new_token&gt;:x-oauth-basic https://api.github.com/users/&lt;your_username&gt;
      </code></pre>

      <p>The <code>-u</code> flag sets the username, and cURL will prompt you for the password. You
      can use <code>-u "username:password"</code> to avoid the prompt, but this leaves your
      password in shell history and isn't recommended. When authenticating, you
      should see your rate limit bumped to 5,000 requests an hour, as indicated in the
      <code>X-RateLimit-Limit</code> header.</p>

      <p>In addition to just getting more calls per hour, authentication is the key to
      reading and writing private information via the API.</p>

      <h3>
      <a name="get-your-own-user-profile" class="anchor" href="#get-your-own-user-profile"><span class="octicon octicon-link"></span></a>Get your own user profile</h3>

      <p>When properly authenticated, you can take advantage of the permissions
      associated with your GitHub account. For example, try getting your own
      user profile:</p>

      <pre><code>curl -i -u &lt;your_username&gt; https://api.github.com/user
      </code></pre>

      <p>This time, in addition to the same set of public information we
      retrieved for defunkt earlier, you should also see the non-public
      information for your user profile. For example, you see a <code>plan</code> object
      on the response:</p>

      <pre><code>...
      "plan": {
        "space": 2516582,
        "collaborators": 10,
        "private_repos": 20,
        "name": "medium"
      }
      ...
      </code></pre>

      <h3>
      <a name="oauth" class="anchor" href="#oauth"><span class="octicon octicon-link"></span></a>OAuth</h3>

      <p>While convenient, Basic Authentication isn't ideal because you shouldn't give your GitHub
      username and password to anyone. Applications that need to read or write
      private information using the API on behalf of another user should use <a href="http://developer.github.com/v3/oauth/">OAuth</a>.</p>

      <p>Instead of usernames and passwords, OAuth uses <em>tokens</em>. Tokens provide two big
      features:</p>

      <ul>
      <li>
      <strong>Revokable access</strong>: users can revoke authorization to third party apps at any time</li>
      <li>
      <strong>Limited access</strong>: users can review the specific access that a token
      will provide before authorizing a third party app</li>
      </ul><p>Normally, tokens are created via a <a href="http://developer.github.com/v3/oauth/#web-application-flow">web flow</a>. An application
      sends users to GitHub to log in. GitHub then presents a dialog
      indicating the name of the app, as well as the level of access the app
      has once it's authorized by the user. After a user authorizes access, GitHub
      redirects the user back to the application:
      <a href="/github/internal-developer.github.com/blob/024f617fafdbc8988df93660a5f059ce27a607b2/images/oauth_prompt.png" target="_blank"><img src="/github/internal-developer.github.com/raw/024f617fafdbc8988df93660a5f059ce27a607b2/content/guides//images/oauth_prompt.png" alt="" style="max-width:100%;"></a></p>

      <p>You don't need to set up the entire web flow to begin working with OAuth tokens.
      The <a href="http://developer.github.com/v3/oauth/#oauth-authorizations-api">Authorizations API</a> makes it simple to use Basic Authentication
      to create an OAuth token. Try pasting and running the following command:</p>

      <pre><code>curl -i -u &lt;your_username&gt; \
           -d '{"scopes": ["repo"]}' \
           https://api.github.com/authorizations
      </code></pre>

      <p>You should see output similar to this:</p>

      <pre><code>HTTP/1.1 201 Created
      Server: nginx/1.0.14
      Date: Wed, 14 Nov 2012 14:04:24 GMT
      Content-Type: application/json; charset=utf-8
      Connection: keep-alive
      Status: 201 Created
      Cache-Control: max-age=0, private, must-revalidate
      X-Content-Type-Options: nosniff
      ETag: "f6a0ce8bac4559f2a578afd9dad51f95"
      X-GitHub-Media-Type: github.beta
      Location: https://api.github.com/authorizations/2
      Content-Length: 384

      {
        "scopes": [
          "repo"
        ],
        "token": "5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4",
        "updated_at": "2012-11-14T14:04:24Z",
        "url": "https://api.github.com/authorizations/2",
        "app": {
          "url": "http://developer.github.com/v3/oauth/#oauth-authorizations-api",
          "name": "GitHub API"
        },
        "created_at": "2012-11-14T14:04:24Z",
        "note_url": null,
        "id": 2,
        "note": null
      }
      </code></pre>

      <p>There's a lot going on in this one little call, so let's break it down. First,
      the <code>-d</code> flag indicates we're doing a <code>POST</code>, using the
      <code>application/x-www-form-urlencoded</code> content type (as opposed to <code>GET</code>). All <code>POST</code>
      requests to the GitHub API should be in JSON.</p>

      <p>Next, let's look at the <code>scopes</code> we're sending over in this call. When creating
      a new token, we include an optional array of <a href="http://developer.github.com/v3/oauth/#scopes"><em>scopes</em></a>, or access
      levels, that indicate what information this token can access. In this case,
      we're setting up the token with <em>repo</em> access, the most permissive scope in the
      GitHub API, allowing access to read and write to private repositories. See <a href="http://developer.github.com/v3/oauth/#scopes">the
      scopes docs</a> for a full list of scopes. You should <strong>only</strong> request
      scopes that your application actually needs, in order to not frighten users with
      potentially invasive actions.</p>

      <p>The <code>201</code> status code tells us that the call was successful, and the JSON returned
      contains the details of our new OAuth token. Now, we can use the forty character
      <code>token</code> instead of a username and password in the rest of our examples. Let's
      grab our own user info again, using OAuth this time:</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          https://api.github.com/user
      </code></pre>

      <p><strong>Treat OAuth tokens like passwords!</strong> Don't share them with other users or store
      them in insecure places. The tokens in these examples are fake and the names have
      been changed to protect the innocent.</p>

      <p>Now that we've got the hang of making authenticated calls, let's move along to
      the <a href="http://developer.github.com/v3/repos/">Repositories API</a>.</p>

      <h2>
      <a name="repositories" class="anchor" href="#repositories"><span class="octicon octicon-link"></span></a>Repositories</h2>

      <p>Most any meaningful use of the GitHub API will involve some level of Repository
      information. We can <code>GET</code> repository details in the same way we fetched user
      details earlier:</p>

      <pre><code>  curl -i https://api.github.com/repos/twbs/bootstrap
      </code></pre>

      <p>In the same way, we can view repositories for the authenticated user:</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
          https://api.github.com/user/repos
      </code></pre>

      <p>Or, we can list repositories for another user:</p>

      <pre><code>curl -i https://api.github.com/users/technoweenie/repos
      </code></pre>

      <p>Or, we can list repositories for an organization:</p>

      <pre><code>curl -i https://api.github.com/orgs/github/repos
      </code></pre>

      <p>The information returned from these calls will depend on how we authenticate:</p>

      <ul>
      <li>Using Basic Authentication, the response includes all repositories the
      the user has access to see on github.com.</li>
      <li>Using OAuth, private repositories are only returned if the OAuth token
      contains the <code>repo</code> <a href="http://developer.github.com/v3/oauth/#scopes">scope</a>.</li>
      </ul><p>As the <a href="http://developer.github.com/v3/repos/">docs</a> indicate, these methods take a <code>type</code> parameter that
      can filter the repositories returned based on what type of access the user has
      for the repository. In this way, we can fetch only directly-owned repositories,
      organization repositories, or repositories the user collaborates on via a team.</p>

      <pre><code>curl -i "https://api.github.com/users/technoweenie/repos?type=owner"
      </code></pre>

      <p>In this example, we grab only those repositories that technoweenie owns, not the
      ones on which he collaborates. Note the quoted URL above. Depending on your
      shell setup, cURL sometimes requires a quoted URL or else it ignores the
      querystring.</p>

      <h3>
      <a name="create-a-repository" class="anchor" href="#create-a-repository"><span class="octicon octicon-link"></span></a>Create a repository</h3>

      <p>Fetching information for existing repositories is a common use case, but the
      GitHub API supports creating new repositories as well. To create a repository,
      we need to <code>POST</code> some JSON containing the details and configuration options.</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
           -d '{ \
                "name": "blog", \
                "auto_init": true, \
                "private": true, \
                "gitignore_template": "nanoc" \
              }' \
            https://api.github.com/user/repos
      </code></pre>

      <p>In this minimal example, we create a new repository for our blog (to be served
      on <a href="http://pages.github.com">GitHub Pages</a>, perhaps). Though the blog will be public, we've made
      the repository private. In this single step, we'll also initialize it with
      a README and a <a href="http://nanoc.stoneship.org/">nanoc</a>-flavored [.gitignore template]<a href="https://github.com/github/gitignore">gitignore
      templates</a>.</p>

      <p>The resulting repository will be found at <code>https://github.com/&lt;your
      username&gt;/blog</code>. To create a repository under an organization for which you're
      an owner, just change the API method from <code>/user/repos</code> to <code>/orgs/&lt;org
      name&gt;/repos</code>.</p>

      <p>Next, let's fetch our newly created repository:</p>

      <pre><code>curl -i https://api.github.com/pengwynn/blog

      HTTP/1.1 404 Not Found

      {
          "message": "Not Found"
      }
      </code></pre>

      <p>Oh noes! Where did it go? Since we created the repository as <em>private</em>, we need
      to authenticate in order to see it. If you're a grizzled HTTP user, you might
      expect a <code>403</code> instead. Since we don't want to leak information about private
      repositories, the GitHub API returns a <code>404</code> in this case, as if to say "we can
      neither confirm nor deny the existence of this repository."</p>

      <h2>
      <a name="issues" class="anchor" href="#issues"><span class="octicon octicon-link"></span></a>Issues</h2>

      <p>The UI for Issues on GitHub aims to provide 'just enough' workflow while
      staying out of your way. With the GitHub <a href="http://developer.github.com/v3/issues/">Issues API</a>, you can pull
      data out or create issues from other tools to create a workflow that works for
      your team.</p>

      <p>Just like github.com, the API provides a few methods to view issues for the
      authenticated user. To see all your issues, call <code>GET /issues</code>:</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
           https://api.github.com/issues
      </code></pre>

      <p>To get only the issues under one of your GitHub organizations, call <code>GET
      /orgs/&lt;org&gt;/issues</code>:</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
           https://api.github.com/orgs/rails/issues
      </code></pre>

      <p>We can also get all the issues under a single repository:</p>

      <pre><code>curl -i https://api.github.com/repos/rails/rails/issues
      </code></pre>

      <h3>
      <a name="pagination" class="anchor" href="#pagination"><span class="octicon octicon-link"></span></a>Pagination</h3>

      <p>A project the size of Rails has thousands of issues. We'll need to paginate,
      making multiple API calls to get the data. Let's repeat that last call, this
      time taking note of the response headers:</p>

      <pre><code>curl -i https://api.github.com/repos/rails/rails/issues

      HTTP/1.1 200 OK

      Link: &lt;https://api.github.com/repos/rails/rails/issues?page=2&gt;; rel="next",
      &lt;https://api.github.com/repos/rails/rails/issues?page=14&gt;; rel="last"
      </code></pre>

      <p>The <a href="http://www.w3.org/wiki/LinkHeader"><code>Link</code> header</a> provides a way for a response to link to
      external resources, in this case additional pages of data. Since our call found
      more than thirty issues (the default page size), the API tells us where we can
      find the next page and the last page of results.</p>

      <h3>
      <a name="creating-an-issue" class="anchor" href="#creating-an-issue"><span class="octicon octicon-link"></span></a>Creating an issue</h3>

      <p>Now that we've seen how to paginate lists of issues, let's create an issue from
      the API.</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
           -d '{ \
                 "title": "New logo", \
                 "body": "We should have one", \
                 "labels": ["design"] \
               }' \
           https://api.github.com/repos/pengwynn/api-sandbox/issues
      </code></pre>

      <p>To create an issue, we need to be authenticated, so we pass an
      OAuth token in the header. We pass the title, body, and labels in the JSON
      body to the <code>/issues</code> path underneath the repository in which we want to create
      the issue.</p>

      <pre><code>HTTP/1.1 201 Created
      Location: https://api.github.com/repos/pengwynn/api-sandbox/issues/17
      X-RateLimit-Limit: 5000

      {
        "pull_request": {
          "patch_url": null,
          "html_url": null,
          "diff_url": null
        },
        "created_at": "2012-11-14T15:25:33Z",
        "comments": 0,
        "milestone": null,
        "title": "New logo",
        "body": "We should have one",
        "user": {
          "login": "pengwynn",
          "gravatar_id": "7e19cd5486b5d6dc1ef90e671ba52ae0",
          "avatar_url": "https://secure.gravatar.com/avatar/7e19cd5486b5d6dc1ef90e671ba52ae0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
          "id": 865,
          "url": "https://api.github.com/users/pengwynn"
        },
        "closed_at": null,
        "updated_at": "2012-11-14T15:25:33Z",
        "number": 17,
        "closed_by": null,
        "html_url": "https://github.com/pengwynn/api-sandbox/issues/17",
        "labels": [
          {
            "color": "ededed",
            "name": "design",
            "url": "https://api.github.com/repos/pengwynn/api-sandbox/labels/design"
          }
        ],
        "id": 8356941,
        "assignee": null,
        "state": "open",
        "url": "https://api.github.com/repos/pengwynn/api-sandbox/issues/17"
      }
      </code></pre>

      <p>The response gives us a couple of pointers to the newly created issue, both in
      the <code>Location</code> response header and the <code>url</code> field of the JSON response.</p>

      <h3>
      <a name="convert-an-issue-to-a-pull-request" class="anchor" href="#convert-an-issue-to-a-pull-request"><span class="octicon octicon-link"></span></a>Convert an issue to a Pull Request</h3>

      <p>GitHub moves fast and the API tries to keep pace, but there are some things you
      can do with the API that you can't do on github.com. Using the API, you can
      turn an issue into a Pull Request.</p>

      <p>But at this point, we'll need to create a branch called <code>new-feature</code>
      with at least one commit so it's ahead of the <code>master</code> branch:</p>

      <pre><code>git clone https://github.com/repos/github/platform-sandbox
      git checkout -b new-feature
      touch cool-feature.rb
      git add cool-feature.rb
      git commit -m "Add new feature."
      git push origin new-feature
      </code></pre>

      <p>Now let's convert the issue we created in the previous section:</p>

      <pre><code>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
           -d '{ \
                 "issue": 17, \
                 "head": "new-feature", \
                 "base": "master" \
               }' \
           https://api.github.com/repos/pengwynn/api-sandbox/pulls
      </code></pre>

      <p>Using this shorthand, the details for the pull request title and body are taken
      from the issue we provide.</p>

      <h2>
      <a name="conditional-requests" class="anchor" href="#conditional-requests"><span class="octicon octicon-link"></span></a>Conditional requests</h2>

      <p>A big part of being a good API citizen is respecting rate limits by
      caching information that hasn't changed. The API supports <a href="http://developer.github.com/v3/#conditional-requests">conditional
      requests</a> and helps you do the right thing. Consider the
      first call we made to get defunkt's profile:</p>

      <pre><code>curl -i https://api.github.com/users/defunkt
      </code></pre>

      <p>In addition to the JSON body, take note of the HTTP status code of <code>200</code> and
      the <code>ETag</code> header:</p>

      <pre><code>HTTP/1.1 200 OK
      ETag: "bfd85cbf23ac0b0c8a29bee02e7117c6"
      </code></pre>

      <p>The ETag is a fingerprint of the response. If we pass that on subsequent calls,
      we can tell the API to give us the resource again, only if it has changed:</p>

      <pre><code>curl -i -H 'If-None-Match: "644b5b0155e6404a9cc4bd9d8b1ae730"' \
           https://api.github.com/users/defunkt

      HTTP/1.1 304 OK
      </code></pre>

      <p>The <code>304</code> status indicates that the resource hasn't changed since the last time
      we asked for it and the response will contain no body. As a bonus, <code>304</code>
      responses don't count against your <a href="http://developer.github.com/v3/#rate-limiting">rate limit</a>.</p></article>
    </div>

    <div class="diff markdown-body">

<article class="markdown-body entry-content changed" itemprop="mainContentOfPage"><div class="expandable unchanged">
<table data-table-type="yaml-metadata">
<thead><tr>
<th>title</th>
        </tr></thead>
<tbody><tr>
<td><div>Getting Started | GitHub API</div></td>
        </tr></tbody>
</table>
<h1>
      <a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h1>
<ul>
<li>TOC
      {:toc}</li>
      </ul>
<p>Let's walk through core API concepts as we tackle some everyday use cases.</p>
</div>
<h2 class="vicinity"> <a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h2>
<div class="changed"><p>Most applications will use an existing <a href="http://developer.github.com/libraries/" class="changed_href changed">wrapper library</a> in the language of your choice, but it's important to familiarize yourself with the underlying API HTTP methods first.</p></div>
<p class="vicinity">There's no easier way to kick the tires than through <a href="http://curl.haxx.se/">cURL</a>.</p>
<h3 class="vicinity"> <a name="hello-world" class="anchor" href="#hello-world"><span class="octicon octicon-link"></span></a>Hello World</h3>
<div class="vicinity changed"><p>Let's start by testing our setup. Open up a command prompt and <del>enter the following command (without the </del><del><code>$</code></del><del>)</del><ins>paste the following code</ins>:</p></div>
<div class="vicinity changed"><pre><code><ins>curl https://api.github.com/zen
</ins><del>$ curl https://api.github.com/zen
</del>
</code></pre></div>
<p class="vicinity">You should get a random response about one of our design philosophies:</p>
<div class="vicinity changed"><pre><code>Keep it logically awesome.

</code></pre></div>
<div class="vicinity changed"><p>Next, let's <code>GET</code> <span class="changed_tag removed_href changed">Chris Wanstrath's</span> <span class="changed_tag removed_href changed">GitHub profile</span>:</p></div>
<del><pre># GET /users/defunkt
      $ curl https://api.github.com/users/defunkt

      {
        "login": "defunkt",
        "id": 2,
        "url": "https://api.github.com/users/defunkt",
        "html_url": "https://github.com/defunkt",
        ...
      }
      </pre></del><ins><pre><code># GET /users/defunkt
      curl https://api.github.com/users/defunkt
      </code></pre></ins><div class="vicinity changed"><p>Mmmmm, tastes like <span class="changed_tag removed_href changed">JSON</span>. Let's include the <code>-i</code> flag to include headers:</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i https://api.github.com/users/defunkt
</ins><del>$ curl -i https://api.github.com/users/defunkt
</del>
      HTTP/1.1 200 OK
      Server: GitHub.com
      Date: Sun, 11 Nov 2012 18:43:28 GMT
      Content-Type: application/json; charset=utf-8
      Connection: keep-alive
      Status: 200 OK
      ETag: "bfd85cbf23ac0b0c8a29bee02e7117c6"
      X-RateLimit-Limit: 60
      X-RateLimit-Remaining: 57
      X-RateLimit-Reset: 1352660008
      X-GitHub-Media-Type: github.beta
      Vary: Accept
      Cache-Control: public, max-age=60, s-maxage=60
      X-Content-Type-Options: nosniff
      Content-Length: 692
      Last-Modified: Tue, 30 Oct 2012 18:58:42 GMT
<del>
</del><del>      {
</del><del>        "login": "defunkt",
</del><del>        "id": 2,
</del><del>        "url": "https://api.github.com/users/defunkt",
</del><del>        "html_url": "https://github.com/defunkt",
</del><del>        ...
</del><del>      }
</del>
</code></pre></div>
<p class="vicinity">There are a few interesting bits in the response headers. As expected, the <code>Content-Type</code> is <code>application/json</code>.</p>
<p class="vicinity">Any headers beginning with <code>X-</code> are custom headers, and are not included in the HTTP spec. Let's take a look at a few of them:</p>
<div class="changed"><ul>
<li class="changed"> <code>X-GitHub-Media-Type</code> has a value of <code>github.beta</code>. This lets us know the <a href="http://developer.github.com/v3/media/" class="changed_href changed">media type</a> for the response. Media types have helped us version our output in API v3. We'll talk more about that later.</li>
<li class="changed">Take note of the <code>X-RateLimit-Limit</code> and <code>X-RateLimit-Remaining</code> headers. This pair of headers indicate <del><a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/#rate-limiting">how many requests a client can make</a></del><ins>how many requests a client can make</ins> in a rolling hour and how many of those requests the client has already spent.</li>
</ul></div>
<h2 class="vicinity"> <a name="authentication" class="anchor" href="#authentication"><span class="octicon octicon-link"></span></a>Authentication</h2>
<div class="changed"><p>Unauthenticated clients can make 60 requests per hour. To get more, we'll need to <em>authenticate</em>. In fact, doing anything interesting with the GitHub API requires <span class="changed_tag removed_href changed">authentication</span>.</p></div>
<h3 class="vicinity"> <a name="basic" class="anchor" href="#basic"><span class="octicon octicon-link"></span></a>Basic</h3>
<p class="vicinity">The easiest way to authenticate with the GitHub API is by simply using your GitHub username and password via Basic Authentication.</p>
<div class="vicinity changed"><pre><code><ins>curl -i -u &lt;your_username&gt; https://api.github.com/users/defunkt
</ins><del>$ curl -i -u &lt;your_username&gt; https://api.github.com/users/defunkt
</del><del>
</del>      Enter host password for user '&lt;your_username&gt;':

</code></pre></div>
<ins><p>If you have 2 factor authentication enabled you will get a message - "Must specify two-factor authentication OTP code." The easiest way to move on is to grab a token. Go to to settings/applications and click 'Create new token'.</p></ins><ins><p>Type in:</p></ins><ins><pre><code>curl -u &lt;new_token&gt;:x-oauth-basic https://api.github.com/users/&lt;your_username&gt;
      </code></pre></ins><p class="vicinity">The <code>-u</code> flag sets the username, and cURL will prompt you for the password. You can use <code>-u "username:password"</code> to avoid the prompt, but this leaves your password in shell history and isn't recommended. When authenticating, you should see your rate limit bumped to 5,000 requests an hour, as indicated in the <code>X-RateLimit-Limit</code> header.</p>
<p class="vicinity">In addition to just getting more calls per hour, authentication is the key to reading and writing private information via the API.</p>
<del><h3> <a name="two-factor-authentication" class="anchor" href="#two-factor-authentication"><span class="octicon octicon-link"></span></a>Two-factor authentication</h3></del><del><p>If you have <a href="https://help.github.com/articles/about-two-factor-authentication">two-factor authentication</a> enabled, the API will return a <code>401 Unauthorized</code> error code for the above request:</p></del><del><pre>$ curl -i -u &lt;your_username&gt; https://api.github.com/users/defunkt

      Enter host password for user '&lt;your_username&gt;':

      HTTP/1.1 401 Unauthorized
      X-GitHub-OTP: required; app

      {
        "message": "Must specify two-factor authentication OTP code.",
        "documentation_url": "http://developer.github.com/v3/auth#working-with-two-factor-authentication"
      }
      </pre></del><del><p>To get around that error, provide your 2FA OTP code in the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/auth/#working-with-two-factor-authentication">X-GitHub-OTP request header</a>:</p></del><del><pre>$ curl -i -u &lt;your_username&gt; -H "X-GitHub-OTP: &lt;your_2fa_OTP_code&gt;" \
          https://api.github.com/users/defunkt

      Enter host password for user '&lt;your_username&gt;':

      HTTP/1.1 200 OK

      {
        "login": "defunkt",
        "id": 2,
        "url": "https://api.github.com/users/defunkt",
        "html_url": "https://github.com/defunkt",
        ...
      }
      </pre></del><del><p>If you enabled 2FA with a mobile application, then you can get an OTP code from that application on your phone. If you enabled 2FA with text messages, then you'll get an SMS with your OTP code after making a request to an API endpoint which requires such an OTP code.</p></del><del><p>Because these OTP codes expire quickly, an easier workaround is to create and use a Personal token for authentication. See the <a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/guides/getting-started/#oauth">OAuth section</a> below for more information.</p></del><h3 class="vicinity"> <a name="get-your-own-user-profile" class="anchor" href="#get-your-own-user-profile"><span class="octicon octicon-link"></span></a>Get your own user profile</h3>
<p class="vicinity">When properly authenticated, you can take advantage of the permissions associated with your GitHub account. For example, try getting your own user profile:</p>
<div class="changed"><pre><code><ins>curl -i -u &lt;your_username&gt; https://api.github.com/user
</ins><del>$ curl -i -u &lt;your_username&gt; https://api.github.com/user
</del>
</code></pre></div>
<p class="vicinity">This time, in addition to the same set of public information we retrieved for defunkt earlier, you should also see the non-public information for your user profile. For example, you see a <code>plan</code> object on the response:</p>
<div class="changed"><pre><code><ins>...
</ins><ins>      "plan": {
</ins><ins>        "space": 2516582,
</ins><ins>        "collaborators": 10,
</ins><ins>        "private_repos": 20,
</ins><ins>        "name": "medium"
</ins><del>{
</del><del>        ...
</del><del>        "plan": {
</del><del>          "space": 2516582,
</del><del>          "collaborators": 10,
</del><del>          "private_repos": 20,
</del><del>          "name": "medium"
</del><del>        }
</del><del>        ...
</del>      }
<ins>      ...
</ins>
</code></pre></div>
<h3 class="vicinity"> <a name="oauth" class="anchor" href="#oauth"><span class="octicon octicon-link"></span></a>OAuth</h3>
<div class="changed"><p>While convenient, Basic Authentication isn't ideal because you shouldn't give your GitHub username and password to anyone. Applications that need to read or write private information using the API on behalf of another user should use <a href="http://developer.github.com/v3/oauth/" class="changed_href changed">OAuth</a>.</p></div>
<p class="vicinity">Instead of usernames and passwords, OAuth uses <em>tokens</em>. Tokens provide two big features:</p>
<ul class="vicinity">
<li> <strong>Revokable access</strong>: users can revoke authorization to third party apps at any time</li> <li> <strong>Limited access</strong>: users can review the specific access that a token will provide before authorizing a third party app</li> </ul>
<div class="vicinity changed"><p>Normally, tokens are created via a <a href="http://developer.github.com/v3/oauth/#web-application-flow" class="changed_href changed">web flow</a>. An application sends users to GitHub to log in. GitHub then presents a dialog indicating the name of the app, as well as the level of access the app has once it's authorized by the user. After a user authorizes access, GitHub redirects the user back to the application<del>:</del><ins>: </ins><ins><a href="/github/internal-developer.github.com/blob/024f617fafdbc8988df93660a5f059ce27a607b2/images/oauth_prompt.png" target="_blank"><img src="/github/internal-developer.github.com/raw/024f617fafdbc8988df93660a5f059ce27a607b2/content/guides//images/oauth_prompt.png" alt="" style="max-width:100%;"></a></ins></p></div>
<del><p><a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/images/oauth_prompt.png" target="_blank"><img src="/github/internal-developer.github.com/raw/64a845283a7deb23f544c26a80a458a415b24f07/content/guides//images/oauth_prompt.png" alt="" style="max-width:100%;"></a></p></del><del><p>However, you don't need to set up the entire web flow to begin working with OAuth tokens. An easier way to get a token is to <a href="https://help.github.com/articles/creating-an-access-token-for-command-line-use">create a <strong>Personal token</strong></a> via your <a href="https://github.com/settings/applications">Application settings page</a>:</p></del><del><p><a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/images/personal_token.png" target="_blank"><img src="/github/internal-developer.github.com/raw/64a845283a7deb23f544c26a80a458a415b24f07/content/guides//images/personal_token.png" alt="" style="max-width:100%;"></a></p></del><div class="vicinity changed"><p><del>Also, the </del><del><a href="/github/internal-developer.github.com/blob/64a845283a7deb23f544c26a80a458a415b24f07/v3/oauth/#oauth-authorizations-api"><strong>Authorizations API</strong></a></del><ins>You don't need to set up the entire web flow to begin working with OAuth tokens. The </ins><ins><a href="http://developer.github.com/v3/oauth/#oauth-authorizations-api">Authorizations API</a></ins> makes it simple to use Basic Authentication to create an OAuth token. Try pasting and running the following command:</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i -u &lt;your_username&gt; \
</ins><ins>           -d '{"scopes": ["repo"]}' \
</ins><ins>           https://api.github.com/authorizations
</ins><del>$ curl -i -u &lt;your_username&gt; -d '{"scopes": ["repo"]}' \
</del><del>          https://api.github.com/authorizations
</del>
</code></pre></div>
<p class="vicinity">You should see output similar to this:</p>
<div class="changed"><pre><code>HTTP/1.1 201 Created
<ins>      Server: nginx/1.0.14
</ins><ins>      Date: Wed, 14 Nov 2012 14:04:24 GMT
</ins><ins>      Content-Type: application/json; charset=utf-8
</ins><ins>      Connection: keep-alive
</ins><ins>      Status: 201 Created
</ins><ins>      Cache-Control: max-age=0, private, must-revalidate
</ins><ins>      X-Content-Type-Options: nosniff
</ins><ins>      ETag: "f6a0ce8bac4559f2a578afd9dad51f95"
</ins><ins>      X-GitHub-Media-Type: github.beta
</ins>      Location: https://api.github.com/authorizations/2
      Content-Length: 384

      {
        "scopes": [
          "repo"
        ],
        "token": "5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4",
        "updated_at": "2012-11-14T14:04:24Z",
        "url": "https://api.github.com/authorizations/2",
        "app": {
          "url": "http://developer.github.com/v3/oauth/#oauth-authorizations-api",
          "name": "GitHub API"
        },
        "created_at": "2012-11-14T14:04:24Z",
        "note_url": null,
        "id": 2,
        "note": null
      }

</code></pre></div>
<p class="vicinity">There's a lot going on in this one little call, so let's break it down. First, the <code>-d</code> flag indicates we're doing a <code>POST</code>, using the <code>application/x-www-form-urlencoded</code> content type (as opposed to <code>GET</code>). All <code>POST</code> requests to the GitHub API should be in JSON.</p>
<div class="vicinity changed"><p>Next, let's look at the <code>scopes</code> we're sending over in this call. When creating a new token, we include an optional array of <a href="http://developer.github.com/v3/oauth/#scopes" class="changed_href changed"><em>scopes</em></a>, or access levels, that indicate what information this token can access. In this case, we're setting up the token with <em>repo</em> access, <del>which grants</del><ins>the most permissive scope in the GitHub API, allowing</ins> access to read and write to private repositories. See <a href="http://developer.github.com/v3/oauth/#scopes" class="changed_href changed">the scopes docs</a> for a full list of scopes. You should <strong>only</strong> request scopes that your application actually needs, in order to not frighten users with potentially invasive actions<del>. The </del><del><code>201</code></del><del> status code tells us that the call was successful, and the JSON returned contains the details of our new OAuth token</del>.</p></div>
<div class="vicinity changed"><p><ins>The </ins><ins><code>201</code></ins><ins> status code tells us that the call was successful, and the JSON returned contains the details of our new OAuth token.</ins> Now, we can use the forty character <code>token</code> instead of a username and password in the rest of our examples. Let's grab our own user info again, using OAuth this time:</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del>          https://api.github.com/user

</code></pre></div>
<p class="vicinity"><strong>Treat OAuth tokens like passwords!</strong> Don't share them with other users or store them in insecure places. The tokens in these examples are fake and the names have been changed to protect the innocent.</p>
<div class="changed"><p>Now that we've got the hang of making authenticated calls, let's move along to the <a href="http://developer.github.com/v3/repos/" class="changed_href changed">Repositories API</a>.</p></div>
<h2 class="vicinity"> <a name="repositories" class="anchor" href="#repositories"><span class="octicon octicon-link"></span></a>Repositories</h2>
<div class="vicinity changed"><p><del>Almost</del><ins>Most</ins> any meaningful use of the GitHub API will involve some level of Repository information. We can <code>GET</code> repository details in the same way we fetched user details earlier:</p></div>
<div class="vicinity changed"><pre><code><ins>  curl -i https://api.github.com/repos/twbs/bootstrap
</ins><del>$ curl -i https://api.github.com/repos/twbs/bootstrap
</del>
</code></pre></div>
<p class="vicinity">In the same way, we can view repositories for the authenticated user:</p>
<div class="changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del>          https://api.github.com/user/repos

</code></pre></div>
<p class="vicinity">Or, we can list repositories for another user:</p>
<div class="changed"><pre><code><ins>curl -i https://api.github.com/users/technoweenie/repos
</ins><del>$ curl -i https://api.github.com/users/technoweenie/repos
</del>
</code></pre></div>
<p class="vicinity">Or, we can list repositories for an organization:</p>
<div class="changed"><pre><code><ins>curl -i https://api.github.com/orgs/github/repos
</ins><del>$ curl -i https://api.github.com/orgs/github/repos
</del>
</code></pre></div>
<p class="vicinity">The information returned from these calls will depend on how we authenticate:</p>
<div class="vicinity changed"><ul>
<li>Using Basic Authentication, the response includes all repositories the the user has access to see on github.com.</li>
<li class="changed">Using OAuth, private repositories are only returned if the OAuth token contains the <code>repo</code> <a href="http://developer.github.com/v3/oauth/#scopes" class="changed_href changed">scope</a>.</li>
</ul></div>
<div class="vicinity changed"><p>As the <a href="http://developer.github.com/v3/repos/" class="changed_href changed">docs</a> indicate, these methods take a <code>type</code> parameter that can filter the repositories returned based on what type of access the user has for the repository. In this way, we can fetch only directly-owned repositories, organization repositories, or repositories the user collaborates on via a team.</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i "https://api.github.com/users/technoweenie/repos?type=owner"
</ins><del>$ curl -i "https://api.github.com/users/technoweenie/repos?type=owner"
</del>
</code></pre></div>
<p class="vicinity">In this example, we grab only those repositories that technoweenie owns, not the ones on which he collaborates. Note the quoted URL above. Depending on your shell setup, cURL sometimes requires a quoted URL or else it ignores the querystring.</p>
<h3 class="vicinity"> <a name="create-a-repository" class="anchor" href="#create-a-repository"><span class="octicon octicon-link"></span></a>Create a repository</h3>
<div class="vicinity changed"><p>Fetching information for existing repositories is a common use case, but the GitHub API supports creating new repositories as well. To <span class="changed_tag removed_href changed">create a repository</span>, we need to <code>POST</code> some JSON containing the details and configuration options.</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><ins>           -d '{ \
</ins><ins>                "name": "blog", \
</ins><ins>                "auto_init": true, \
</ins><ins>                "private": true, \
</ins><ins>                "gitignore_template": "nanoc" \
</ins><ins>              }' \
</ins><ins>            https://api.github.com/user/repos
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del><del>          -d '{ \
</del><del>              "name": "blog", \
</del><del>              "auto_init": true, \
</del><del>              "private": true, \
</del><del>              "gitignore_template": "nanoc" \
</del><del>            }' \
</del><del>          https://api.github.com/user/repos
</del>
</code></pre></div>
<p class="vicinity">In this minimal example, we create a new repository for our blog (to be served on <a href="http://pages.github.com">GitHub Pages</a>, perhaps). Though the blog will be public, we've made the repository private. In this single step, we'll also initialize it with a README and a <a href="http://nanoc.stoneship.org/">nanoc</a>-flavored [.gitignore template]<a href="https://github.com/github/gitignore">gitignore templates</a>.</p>
<div class="changed"><p>The resulting repository will be found at <del><code>https://github.com/&lt;your_username&gt;/blog</code></del><ins><code>https://github.com/&lt;your
      username&gt;/blog</code></ins>. To create a repository under an organization for which you're an owner, just change the API method from <code>/user/repos</code> to <del><code>/orgs/&lt;org_name&gt;/repos</code></del><ins><code>/orgs/&lt;org
      name&gt;/repos</code></ins>.</p></div>
<p class="vicinity">Next, let's fetch our newly created repository:</p>
<div class="changed"><pre><code><ins>curl -i https://api.github.com/pengwynn/blog
</ins><del>$ curl -i https://api.github.com/repos/pengwynn/blog
</del>
      HTTP/1.1 404 Not Found

      {
          "message": "Not Found"
      }

</code></pre></div>
<p class="vicinity">Oh noes! Where did it go? Since we created the repository as <em>private</em>, we need to authenticate in order to see it. If you're a grizzled HTTP user, you might expect a <code>403</code> instead. Since we don't want to leak information about private repositories, the GitHub API returns a <code>404</code> in this case, as if to say "we can neither confirm nor deny the existence of this repository."</p>
<h2 class="vicinity"> <a name="issues" class="anchor" href="#issues"><span class="octicon octicon-link"></span></a>Issues</h2>
<div class="changed"><p>The UI for Issues on GitHub aims to provide 'just enough' workflow while staying out of your way. With the GitHub <a href="http://developer.github.com/v3/issues/" class="changed_href changed">Issues API</a>, you can pull data out or create issues from other tools to create a workflow that works for your team.</p></div>
<p class="vicinity">Just like github.com, the API provides a few methods to view issues for the authenticated user. To see all your issues, call <code>GET /issues</code>:</p>
<div class="changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><ins>           https://api.github.com/issues
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del><del>          https://api.github.com/issues
</del>
</code></pre></div>
<p class="vicinity">To get only the issues under one of your GitHub organizations, call <code>GET
      /orgs/&lt;org&gt;/issues</code>:</p>
<div class="changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><ins>           https://api.github.com/orgs/rails/issues
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del><del>          https://api.github.com/orgs/rails/issues
</del>
</code></pre></div>
<p class="vicinity">We can also get all the issues under a single repository:</p>
<div class="changed"><pre><code><ins>curl -i https://api.github.com/repos/rails/rails/issues
</ins><del>$ curl -i https://api.github.com/repos/rails/rails/issues
</del>
</code></pre></div>
<h3 class="vicinity"> <a name="pagination" class="anchor" href="#pagination"><span class="octicon octicon-link"></span></a>Pagination</h3>
<div class="vicinity changed"><p>A project the size of Rails has thousands of issues. We'll need to <span class="changed_tag removed_href changed">paginate</span>, making multiple API calls to get the data. Let's repeat that last call, this time taking note of the response headers:</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i https://api.github.com/repos/rails/rails/issues
</ins><del>$ curl -i https://api.github.com/repos/rails/rails/issues
</del>
      HTTP/1.1 200 OK

      Link: &lt;https://api.github.com/repos/rails/rails/issues?page=2&gt;; rel="next",
      &lt;https://api.github.com/repos/rails/rails/issues?page=14&gt;; rel="last"

</code></pre></div>
<p class="vicinity">The <a href="http://www.w3.org/wiki/LinkHeader"><code>Link</code> header</a> provides a way for a response to link to external resources, in this case additional pages of data. Since our call found more than thirty issues (the default page size), the API tells us where we can find the next page and the last page of results.</p>
<h3 class="vicinity"> <a name="creating-an-issue" class="anchor" href="#creating-an-issue"><span class="octicon octicon-link"></span></a>Creating an issue</h3>
<div class="vicinity changed"><p>Now that we've seen how to paginate lists of issues, let's <span class="changed_tag removed_href changed">create an issue</span> from the API.</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><ins>           -d '{ \
</ins><ins>                 "title": "New logo", \
</ins><ins>                 "body": "We should have one", \
</ins><ins>                 "labels": ["design"] \
</ins><ins>               }' \
</ins><ins>           https://api.github.com/repos/pengwynn/api-sandbox/issues
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del><del>          -d '{ \
</del><del>               "title": "New logo", \
</del><del>               "body": "We should have one", \
</del><del>               "labels": ["design"] \
</del><del>             }' \
</del><del>          https://api.github.com/repos/pengwynn/api-sandbox/issues
</del>
</code></pre></div>
<p class="vicinity">To create an issue, we need to be authenticated, so we pass an OAuth token in the header. We pass the title, body, and labels in the JSON body to the <code>/issues</code> path underneath the repository in which we want to create the issue.</p>
<div class="changed"><pre><code>HTTP/1.1 201 Created
      Location: https://api.github.com/repos/pengwynn/api-sandbox/issues/17
      X-RateLimit-Limit: 5000

      {
        "pull_request": {
          "patch_url": null,
          "html_url": null,
          "diff_url": null
        },
        "created_at": "2012-11-14T15:25:33Z",
        "comments": 0,
        "milestone": null,
        "title": "New logo",
        "body": "We should have one",
        "user": {
          "login": "pengwynn",
          "gravatar_id": "7e19cd5486b5d6dc1ef90e671ba52ae0",
          "avatar_url": "https://secure.gravatar.com/avatar/7e19cd5486b5d6dc1ef90e671ba52ae0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
          "id": 865,
          "url": "https://api.github.com/users/pengwynn"
        },
        "closed_at": null,
        "updated_at": "2012-11-14T15:25:33Z",
        "number": 17,
        "closed_by": null,
        "html_url": "https://github.com/pengwynn/api-sandbox/issues/17",
        "labels": [
          {
            "color": "ededed",
            "name": "design",
            "url": "https://api.github.com/repos/pengwynn/api-sandbox/labels/design"
          }
        ],
        "id": 8356941,
        "assignee": null,
        "state": "open",
        "url": "https://api.github.com/repos/pengwynn/api-sandbox/issues/17"
      }

</code></pre></div>
<p class="vicinity">The response gives us a couple of pointers to the newly created issue, both in the <code>Location</code> response header and the <code>url</code> field of the JSON response.</p>
<div class="expandable unchanged">
<h3> <a name="convert-an-issue-to-a-pull-request" class="anchor" href="#convert-an-issue-to-a-pull-request"><span class="octicon octicon-link"></span></a>Convert an issue to a Pull Request</h3>
<p>GitHub moves fast and the API tries to keep pace, but there are some things you can do with the API that you can't do on github.com. Using the API, you can turn an issue into a Pull Request.</p>
</div>
<p class="vicinity">But at this point, we'll need to create a branch called <code>new-feature</code> with at least one commit so it's ahead of the <code>master</code> branch:</p>
<div class="changed"><pre><code><ins>git clone https://github.com/repos/github/platform-sandbox
</ins><ins>      git checkout -b new-feature
</ins><ins>      touch cool-feature.rb
</ins><ins>      git add cool-feature.rb
</ins><ins>      git commit -m "Add new feature."
</ins><ins>      git push origin new-feature
</ins><del>$ git clone https://github.com/github/platform-sandbox
</del><del>      $ git checkout -b new-feature
</del><del>      $ touch cool-feature.rb
</del><del>      $ git add cool-feature.rb
</del><del>      $ git commit -m "Add new feature."
</del><del>      $ git push origin new-feature
</del>
</code></pre></div>
<p class="vicinity">Now let's convert the issue we created in the previous section:</p>
<div class="changed"><pre><code><ins>curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</ins><ins>           -d '{ \
</ins><ins>                 "issue": 17, \
</ins><ins>                 "head": "new-feature", \
</ins><ins>                 "base": "master" \
</ins><ins>               }' \
</ins><ins>           https://api.github.com/repos/pengwynn/api-sandbox/pulls
</ins><del>$ curl -i -H 'Authorization: token 5199831f4dd3b79e7c5b7e0ebe75d67aa66e79d4' \
</del><del>          -d '{ \
</del><del>               "issue": 17, \
</del><del>               "head": "new-feature", \
</del><del>               "base": "master" \
</del><del>             }' \
</del><del>          https://api.github.com/repos/pengwynn/api-sandbox/pulls
</del>
</code></pre></div>
<p class="vicinity">Using this shorthand, the details for the pull request title and body are taken from the issue we provide.</p>
<h2 class="vicinity"> <a name="conditional-requests" class="anchor" href="#conditional-requests"><span class="octicon octicon-link"></span></a>Conditional requests</h2>
<div class="vicinity changed"><p>A big part of being a good API citizen is respecting rate limits by caching information that hasn't changed. The API supports <a href="http://developer.github.com/v3/#conditional-requests" class="changed_href changed">conditional requests</a> and helps you do the right thing. Consider the first call we made to get defunkt's profile:</p></div>
<div class="vicinity changed"><pre><code><ins>curl -i https://api.github.com/users/defunkt
</ins><del>$ curl -i https://api.github.com/users/defunkt
</del>
</code></pre></div>
<p class="vicinity">In addition to the JSON body, take note of the HTTP status code of <code>200</code> and the <code>ETag</code> header:</p>
<div class="changed"><pre><code>HTTP/1.1 200 OK
      ETag: "bfd85cbf23ac0b0c8a29bee02e7117c6"

</code></pre></div>
<p class="vicinity">The ETag is a fingerprint of the response. If we pass that on subsequent calls, we can tell the API to give us the resource again, only if it has changed:</p>
<div class="vicinity changed"><pre><code><ins>curl -i -H 'If-None-Match: "644b5b0155e6404a9cc4bd9d8b1ae730"' \
</ins><ins>           https://api.github.com/users/defunkt
</ins><del>$ curl -i -H 'If-None-Match: "644b5b0155e6404a9cc4bd9d8b1ae730"' \
</del><del>          https://api.github.com/users/defunkt
</del>
      HTTP/1.1 304 OK

</code></pre></div>
<div class="vicinity changed"><p>The <code>304</code> status indicates that the resource hasn't changed since the last time we asked for it and the response will contain no body. As a bonus, <code>304</code> responses don't count against your <a href="http://developer.github.com/v3/#rate-limiting" class="changed_href changed">rate limit</a>.</p></div></article>

    </div>
  </div>
</body>
</html>
