"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["org-roles"],{97797:(e,t,r)=>{function i(){if(!(this instanceof i))return new i;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}r.d(t,{h:()=>k,A:()=>C,on:()=>A});var n,s=window.document.documentElement,o=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;i.prototype.matchesSelector=function(e,t){return o.call(e,t)},i.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},i.prototype.indexes=[];var a=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;i.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(a))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var c=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;i.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(c))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var l=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;i.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(l))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),i.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},n="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var u=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function h(e,t){var r,i,n,s,o,a,c=(e=e.slice(0).concat(e.default)).length,l=t,h=[];do if(u.exec(""),(n=u.exec(l))&&(l=n[3],n[2]||!l)){for(r=0;r<c;r++)if(o=(a=e[r]).selector(n[1])){for(i=h.length,s=!1;i--;)if(h[i].index===a&&h[i].key===o){s=!0;break}s||h.push({index:a,key:o});break}}while(n)return h}function d(e,t){return e.id-t.id}i.prototype.logDefaultIndexUsed=function(){},i.prototype.add=function(e,t){var r,i,s,o,a,c,l,u,d=this.activeIndexes,f=this.selectors,p=this.selectorObjects;if("string"==typeof e){for(i=0,p[(r={id:this.uid++,selector:e,data:t}).id]=r,l=h(this.indexes,e);i<l.length;i++)o=(u=l[i]).key,(a=function(e,t){var r,i,n;for(r=0,i=e.length;r<i;r++)if(n=e[r],t.isPrototypeOf(n))return n}(d,s=u.index))||((a=Object.create(s)).map=new n,d.push(a)),s===this.indexes.default&&this.logDefaultIndexUsed(r),(c=a.map.get(o))||(c=[],a.map.set(o,c)),c.push(r);this.size++,f.push(e)}},i.prototype.remove=function(e,t){if("string"==typeof e){var r,i,n,s,o,a,c,l,u=this.activeIndexes,d=this.selectors=[],f=this.selectorObjects,p={},v=1==arguments.length;for(n=0,r=h(this.indexes,e);n<r.length;n++)for(i=r[n],s=u.length;s--;)if(a=u[s],i.index.isPrototypeOf(a)){if(c=a.map.get(i.key))for(o=c.length;o--;)(l=c[o]).selector===e&&(v||l.data===t)&&(c.splice(o,1),p[l.id]=!0);break}for(n in p)delete f[n],this.size--;for(n in f)d.push(f[n].selector)}},i.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,r,i,n,s,o,a,c,l={},u=[],h=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,i=h.length;t<i;t++)for(r=0,s=h[t],n=(o=this.matches(s)).length;r<n;r++)l[(c=o[r]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(s);return u.sort(d)},i.prototype.matches=function(e){if(!e)return[];var t,r,i,n,s,o,a,c,l,u,h,f=this.activeIndexes,p={},v=[];for(t=0,n=f.length;t<n;t++)if(c=(a=f[t]).element(e)){for(r=0,s=c.length;r<s;r++)if(l=a.map.get(c[r]))for(i=0,o=l.length;i<o;i++)!p[h=(u=l[i]).id]&&this.matchesSelector(e,u.selector)&&(p[h]=!0,v.push(u))}return v.sort(d)};var f={},p={},v=new WeakMap,m=new WeakMap,g=new WeakMap,y=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function b(e,t,r){var i=e[t];return e[t]=function(){return r.apply(e,arguments),i.apply(e,arguments)},e}function E(){v.set(this,!0)}function w(){v.set(this,!0),m.set(this,!0)}function S(){return g.get(this)||null}function q(e,t){y&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||y.get})}function x(e){if(function(e){try{return e.eventPhase,!0}catch(e){return!1}}(e)){var t=(1===e.eventPhase?p:f)[e.type];if(t){var r=function(e,t,r){var i=[],n=t;do{if(1!==n.nodeType)break;var s=e.matches(n);if(s.length){var o={node:n,observers:s};r?i.unshift(o):i.push(o)}}while(n=n.parentElement)return i}(t,e.target,1===e.eventPhase);if(r.length){b(e,"stopPropagation",E),b(e,"stopImmediatePropagation",w),q(e,S);for(var i=0,n=r.length;i<n&&!v.get(e);i++){var s=r[i];g.set(e,s.node);for(var o=0,a=s.observers.length;o<a&&!m.get(e);o++)s.observers[o].data.call(s.node,e)}g.delete(e),q(e)}}}}function A(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=!!n.capture,o=s?p:f,a=o[e];a||(a=new i,o[e]=a,document.addEventListener(e,x,s)),a.add(t,r)}function C(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=!!i.capture,s=n?p:f,o=s[e];o&&(o.remove(t,r),o.size||(delete s[e],document.removeEventListener(e,x,n)))}function k(e,t,r){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r}))}},91385:(e,t,r)=>{r.d(t,{Xq:()=>a,ai:()=>n,fN:()=>o,qA:()=>c});var i=-1/0,n=1/0;function s(e,t,r,n){for(var s=e.length,o=t.length,a=e.toLowerCase(),c=t.toLowerCase(),l=function(e){for(var t=e.length,r=Array(t),i="/",n=0;n<t;n++){var s,o=e[n];"/"===i?r[n]=.9:"-"===i||"_"===i||" "===i?r[n]=.8:"."===i?r[n]=.6:(s=i).toLowerCase()===s&&o.toUpperCase()===o?r[n]=.7:r[n]=0,i=o}return r}(t,l),u=0;u<s;u++){r[u]=Array(o),n[u]=Array(o);for(var h=i,d=u===s-1?-.005:-.01,f=0;f<o;f++)if(a[u]===c[f]){var p=i;u?f&&(p=Math.max(n[u-1][f-1]+l[f],r[u-1][f-1]+1)):p=-.005*f+l[f],r[u][f]=p,n[u][f]=h=Math.max(p,h+d)}else r[u][f]=i,n[u][f]=h+=d}}function o(e,t){var r=e.length,o=t.length;if(!r||!o)return i;if(r===o)return n;if(o>1024)return i;var a=Array(r),c=Array(r);return s(e,t,a,c),c[r-1][o-1]}function a(e,t){var r=e.length,n=t.length,o=Array(r);if(!r||!n)return o;if(r===n){for(var a=0;a<r;a++)o[a]=a;return o}if(n>1024)return o;var c=Array(r),l=Array(r);s(e,t,c,l);for(var u=!1,a=r-1,h=n-1;a>=0;a--)for(;h>=0;h--)if(c[a][h]!==i&&(u||c[a][h]===l[a][h])){u=a&&h&&l[a][h]===c[a-1][h-1]+1,o[a]=h--;break}return o}function c(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var r=e.length,i=0,n=0;i<r;i+=1)if(0===(n=t.indexOf(e[i],n)+1))return!1;return!0}},34724:(e,t,r)=>{var i=r(97797),n=r(21403);function s(e){for(let t of e)t.hidden=!t.hidden}(0,i.on)("combobox-commit",".js-add-access-search",function(e){if(!(e.target instanceof Element))return;let t=e.target.closest(".js-add-access-search"),r=e.target.closest(".js-autocomplete-item"),i=t.querySelector(".js-selected-assignee-badge"),n=r.querySelector(".js-selection-badge");i.innerHTML=n.innerHTML,s(Array.from(t.querySelectorAll(".js-add-assignment-search-selected, .js-add-assignment-search-selection")))}),(0,i.on)("click",".js-cancel-selection",function(e){if(!(e.target instanceof Element))return;let t=e.target.closest(".js-add-assignment-form");t.querySelector("#js-org-role-add-assignment-search-input").value="",s(Array.from(t.querySelectorAll(".js-add-assignment-search-selected, .js-add-assignment-search-selection")));let r=new Event("change");t.dispatchEvent(r)}),(0,n.lB)(".js-add-assignment-form",e=>{let t=e.querySelector("#js-add-assignment-button");if(e&&t){for(let t of e.querySelectorAll("#org-role-role-selection, input"))t.required=!0;e.addEventListener("change",()=>{e.checkValidity()?(t.removeAttribute("aria-disabled"),t.disabled=!1):(t.setAttribute("aria-disabled","true"),t.disabled=!0)})}});var o=r(91385),a=r(74324);let c=document.querySelector("#org-role-assignment-search-combobox-form")?.getAttribute("action")||"",l=(e,t)=>e.filter(e=>{if(t&&(0,o.qA)(t,e)||""===t)return e});async function u(){return JSON.parse(document.querySelector("query-builder#query-builder-org-role-assignment-search-combobox").getAttribute("data-suggestable-roles"))}let h=async()=>await u(),d=class SearchItemProvider extends EventTarget{handleEvent(e){""!==String(e)&&this.dispatchEvent(new a.CN({priority:1,value:e.toString(),icon:a.m4.Search,scope:"GENERAL",action:{url:`${c}?query=${e.toString()}`}}))}constructor(e){super(),this.queryBuilder=e,this.priority=1,this.name="Search",this.singularItemName="search item",this.value="search",this.type="search",this.queryBuilder.addEventListener("query",this),this.queryBuilder.attachProvider(this)}},f=class RoleProvider extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1),r=t?.value||"",i=t?.type,n=t?.filter||"";if("filter"!==i&&((0,o.qA)(r,this.value)||""===r)&&this.dispatchEvent(new Event("show")),"filter"===i&&n===this.value)for(let e of l((await h()).map(e=>e.value),r))this.dispatchEvent(new a.qi({filter:"role",value:e}))}constructor(e){super(),this.queryBuilder=e,this.name="Roles",this.singularItemName="role",this.value="role",this.priority=2,this.type="filter",this.queryBuilder.addEventListener("query",this),this.queryBuilder.attachProvider(this)}},p=class AssigneeType extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1),r=t?.value||"",i=t?.type,n=t?.filter||"";if("filter"!==i&&((0,o.qA)(r,this.value)||""===r)&&this.dispatchEvent(new Event("show")),"filter"===i&&n===this.value)for(let e of["user","team"])this.dispatchEvent(new a.qi({filter:"is",value:e}))}constructor(e){super(),this.queryBuilder=e,this.name="Assignee Types",this.singularItemName="Assignee Type",this.value="is",this.priority=3,this.type="filter",this.queryBuilder.addEventListener("query",this),this.queryBuilder.attachProvider(this)}};document.addEventListener("query-builder:request-provider",e=>{new d(e.target),new f(e.target),new p(e.target)})},74324:(e,t,r)=>{var i,n,s,o;r.d(t,{CN:()=>SearchItem,P$:()=>QueryEvent,VJ:()=>o,dS:()=>FetchDataEvent,k8:()=>a,m4:()=>n,nM:()=>c,o7:()=>i,qi:()=>FilterItem,yk:()=>s}),function(e){e.DIRECTORY="Search in this directory",e.ORG="Search in this organization",e.OWNER="Search in this owner",e.REPO="Search in this repository",e.GITHUB="Search all of GitHub",e.GENERAL="Submit search",e.COMMAND="Run command",e.COPILOT_CHAT="Start a new Copilot thread",e.COPILOT_SEARCH="Search with Copilot",e.EXPLORE="Learn More",e.DEFAULT="Jump to"}(i||(i={}));let a="Autocomplete";let FilterItem=class FilterItem extends Event{constructor({filter:e,value:t,name:r="",description:i="",inlineDescription:n=!1,priority:s=1/0,icon:o,avatar:a,action:c}){super("filter-item"),this.inlineDescription=!1,this.filter=e,this.value=t,this.name=r,this.description=i,this.inlineDescription=n,this.priority=s,this.icon=o,this.avatar=a,this.action=c}};function c(e){return e instanceof Object}!function(e){e.Apps="apps",e.Archived="archived",e.Book="book",e.Bookmark="bookmark",e.Branch="branch",e.Calendar="calendar",e.Circle="circle",e.Code="code",e.CodeReview="code-review",e.CodeSquare="code-square",e.Comment="comment",e.CommentDiscussion="comment-discussion",e.Copilot="copilot",e.CopilotError="copilot-error",e.Codespaces="codespaces",e.CreditCard="credit-card",e.Default="default",e.DeviceDesktop="device-desktop",e.DeviceMobile="device-mobile",e.Discussion="discussion",e.Draft="draft",e.FileCode="file-code",e.Filter="filter",e.Forbidden="forbidden",e.Gift="gift",e.Globe="globe",e.Heart="heart",e.History="history",e.Issue="issue",e.IssueOpened="issue-opened",e.IssueClosed="issueClosed",e.Iterations="iterations",e.Mention="mention",e.Merged="merged",e.Milestone="milestone",e.No="no",e.Not="not",e.Organization="organization",e.Package="package",e.Pencil="pencil",e.Person="person",e.Play="play",e.PlusCircle="plus-circle",e.Project="project",e.PullRequest="pullRequest",e.Question="question",e.Reaction="reaction",e.Repo="repo",e.Rocket="rocket",e.Search="search",e.Server="server",e.ShieldCheck="shield-check",e.SingleSelect="single-select",e.Sort="sort",e.Tag="tag",e.Team="team",e.Telescope="telescope",e.Trash="trash",e.Workflow="workflow"}(n||(n={})),function(e){e.Entity="--color-prettylights-syntax-entity",e.Constant="--color-prettylights-syntax-constant",e.Keyword="--color-prettylights-syntax-keyword",e.Variable="--color-prettylights-syntax-variable",e.String="--color-prettylights-syntax-string"}(s||(s={}));let SearchItem=class SearchItem extends Event{constructor({id:e,priority:t,value:r,action:i,description:n="",icon:s,scope:o="DEFAULT",prefixText:a,prefixColor:c,isFallbackSuggestion:l,isUpdate:u}){super(u?"update-item":"search-item"),this.id=e,this.priority=t,this.value=r,this.prefixText=a,this.prefixColor=c,this.action=i,this.description=n,this.icon=s,this.scope=o,this.isFallbackSuggestion=l||!1}};!function(e){e.Normal="normal",e.Entity="entity",e.Constant="constant",e.FilterValue="filter-value"}(o||(o={}));let FetchDataEvent=class FetchDataEvent extends Event{constructor(e){super("fetch-data"),this.fetchPromise=e}};let QueryEvent=class QueryEvent extends Event{toString(){return this.rawQuery}constructor(e,t,r){super("query"),this.parsedQuery=e,this.rawQuery=t,this.parsedMetadata=r}};Event}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_github_selector-observer_dist_index_esm_js"],()=>t(34724)),e.O()}]);
//# sourceMappingURL=org-roles-346f8ab5f56f.js.map