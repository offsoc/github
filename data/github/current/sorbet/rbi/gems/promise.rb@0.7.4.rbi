# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `promise.rb` gem.
# Please instead update this file by running `bin/tapioca gem promise.rb`.

class Promise
  include ::Promise::Progress
  include ::Promise::Observer

  # @return [Promise] a new instance of Promise
  #
  # source://promise.rb//lib/promise.rb#40
  def initialize; end

  # source://promise.rb//lib/promise.rb#73
  def catch(&block); end

  # source://promise.rb//lib/promise.rb#87
  def fulfill(value = T.unsafe(nil)); end

  # @return [Boolean]
  #
  # source://promise.rb//lib/promise.rb#48
  def fulfilled?; end

  # @return [Boolean]
  #
  # source://promise.rb//lib/promise.rb#44
  def pending?; end

  # Returns the value of attribute reason.
  #
  # source://promise.rb//lib/promise.rb#17
  def reason; end

  # source://promise.rb//lib/promise.rb#112
  def reject(reason = T.unsafe(nil)); end

  # @return [Boolean]
  #
  # source://promise.rb//lib/promise.rb#52
  def rejected?; end

  # source://promise.rb//lib/promise.rb#73
  def rescue(&block); end

  # Returns the value of attribute source.
  #
  # source://promise.rb//lib/promise.rb#16
  def source; end

  # Sets the attribute source
  #
  # @param value the value to set the attribute source to.
  #
  # source://promise.rb//lib/promise.rb#16
  def source=(_arg0); end

  # Returns the value of attribute state.
  #
  # source://promise.rb//lib/promise.rb#17
  def state; end

  # Subscribe the given `observer` for status changes of a `Promise`.
  #
  # The observer will be notified about state changes of the promise
  # by calls to its `#promise_fulfilled` or `#promise_rejected` methods.
  #
  # These methods will be called with two arguments,
  # the first being the observed `Promise`, the second being the
  # `on_fulfill_arg` or `on_reject_arg` given to `#subscribe`.
  #
  # @param observer [Promise::Observer]
  # @param on_fulfill_arg [Object]
  # @param on_reject_arg [Object]
  # @raise [Error]
  #
  # source://promise.rb//lib/promise.rb#146
  def subscribe(observer, on_fulfill_arg, on_reject_arg); end

  # source://promise.rb//lib/promise.rb#78
  def sync; end

  # source://promise.rb//lib/promise.rb#56
  def then(on_fulfill = T.unsafe(nil), on_reject = T.unsafe(nil), &block); end

  # Returns the value of attribute value.
  #
  # source://promise.rb//lib/promise.rb#17
  def value; end

  # Override to support sync on a promise without a source or to wait
  # for deferred callbacks on the source
  #
  # source://promise.rb//lib/promise.rb#126
  def wait; end

  protected

  # Override to defer calling the callback for Promises/A+ spec compliance
  #
  # source://promise.rb//lib/promise.rb#160
  def defer; end

  # source://promise.rb//lib/promise.rb#164
  def promise_fulfilled(value, on_fulfill); end

  # source://promise.rb//lib/promise.rb#172
  def promise_rejected(reason, on_reject); end

  private

  # source://promise.rb//lib/promise.rb#192
  def notify_fulfillment; end

  # source://promise.rb//lib/promise.rb#202
  def notify_rejection; end

  # source://promise.rb//lib/promise.rb#182
  def reason_coercion(reason); end

  # source://promise.rb//lib/promise.rb#212
  def settle_from_handler(value); end

  class << self
    # source://promise.rb//lib/promise.rb#24
    def all(enumerable); end

    # source://promise.rb//lib/promise.rb#28
    def map_value(obj); end

    # source://promise.rb//lib/promise.rb#19
    def resolve(obj = T.unsafe(nil)); end

    # source://promise.rb//lib/promise.rb#36
    def sync(obj); end
  end
end

class Promise::BrokenError < ::Promise::Error; end
class Promise::Error < ::RuntimeError; end

class Promise::Group
  include ::Promise::Observer

  # @return [Group] a new instance of Group
  #
  # source://promise.rb//lib/promise/group.rb#8
  def initialize(result_promise, inputs); end

  # Returns the value of attribute promise.
  #
  # source://promise.rb//lib/promise/group.rb#6
  def promise; end

  # source://promise.rb//lib/promise/group.rb#27
  def promise_fulfilled(_value = T.unsafe(nil), _arg = T.unsafe(nil)); end

  # source://promise.rb//lib/promise/group.rb#35
  def promise_rejected(reason, _arg = T.unsafe(nil)); end

  # Returns the value of attribute source.
  #
  # source://promise.rb//lib/promise/group.rb#5
  def source; end

  # Sets the attribute source
  #
  # @param value the value to set the attribute source to.
  #
  # source://promise.rb//lib/promise/group.rb#5
  def source=(_arg0); end

  # source://promise.rb//lib/promise/group.rb#21
  def wait; end

  private

  # source://promise.rb//lib/promise/group.rb#41
  def chain_inputs; end

  # source://promise.rb//lib/promise/group.rb#58
  def count_promises; end

  # source://promise.rb//lib/promise/group.rb#64
  def each_promise; end

  # @return [Boolean]
  #
  # source://promise.rb//lib/promise/group.rb#54
  def promise?(obj); end
end

# The `Promise::Observer` module allows an object to be
# notified of `Promise` state changes.
#
# See `Promise#subscribe`.
module Promise::Observer
  # source://promise.rb//lib/promise/observer.rb#7
  def promise_fulfilled(_value, _on_fulfill_arg); end

  # source://promise.rb//lib/promise/observer.rb#9
  def promise_rejected(_reason, _on_reject_arg); end
end

module Promise::Progress
  # source://promise.rb//lib/promise/progress.rb#5
  def on_progress(&block); end

  # source://promise.rb//lib/promise/progress.rb#11
  def progress(status); end
end

# source://promise.rb//lib/promise/version.rb#4
Promise::VERSION = T.let(T.unsafe(nil), String)
