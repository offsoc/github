"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_primer_experimental_side_panel_nav_list_internal-nav-list-group-element_ts"],{45062:(e,t,i)=>{i.d(t,{s:()=>s});var r=i(70170);function s(e=0,t={}){return(i,s,n)=>{if(!n||"function"!=typeof n.value)throw Error("debounce can only decorate functions");let o=n.value;n.value=(0,r.s)(o,e,t),Object.defineProperty(i,s,n)}}},70170:(e,t,i)=>{function r(e,t=0,{start:i=!0,middle:r=!0,once:s=!1}={}){let n,o=i,a=0,l=!1;function h(...u){if(l)return;let c=Date.now()-a;a=Date.now(),i&&r&&c>=t&&(o=!0),o?(o=!1,e.apply(this,u),s&&h.cancel()):(r&&c<t||!r)&&(clearTimeout(n),n=setTimeout(()=>{a=Date.now(),e.apply(this,u),s&&h.cancel()},r?t-c:t))}return h.cancel=()=>{clearTimeout(n),l=!0},h}function s(e,t=0,{start:i=!1,middle:s=!1,once:n=!1}={}){return r(e,t,{start:i,middle:s,once:n})}i.d(t,{n:()=>r,s:()=>s})},36582:(e,t,i)=>{i.r(t),i.d(t,{InternalNavListGroupElement:()=>InternalNavListGroupElement});var r=i(39595),s=i(74324);function n(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function o(e,t){var i=n(e,t,"get");return i.get?i.get.call(e):i.value}function a(e,t,i){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,i)}function l(e,t,i){var r=n(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}let h={repository:s.m4.Repo,team:s.m4.Team};var u=new WeakMap,c=new WeakMap;let ItemsProvider=class ItemsProvider extends EventTarget{abortPreviousRequests(){o(this,c).abort(),l(this,c,new AbortController)}async handleEvent(e){if(!e.parsedQuery.at(-1))return;this.abortPreviousRequests();let t=this.fetchItems(e);this.dispatchEvent(new s.dS(t));let i=await t;this.emitItems(i)}async fetchItems(e){let t;let i=new URL(o(this,u),window.location.origin),r=i.searchParams||new URLSearchParams,s=e.rawQuery.toString();r.set("q",s),i.search=r.toString();try{t=await fetch(i.toString(),{headers:{Accept:"application/json"},signal:o(this,c).signal})}catch(e){if("AbortError"!==e.name)throw e}return t&&t.ok?await t.json():[]}emitItems(e){for(let t of e)this.emitItem(t.value,t.url)}emitItem(e,t){this.dispatchEvent(new s.CN({priority:this.priority,value:e,icon:this.icon,action:{url:t}}))}constructor(e,t){super(),a(this,u,{writable:!0,value:void 0}),a(this,c,{writable:!0,value:void 0}),this.queryBuilder=e,this.priority=1,this.name="",this.type="search",this.icon=h[t]||s.m4.Default,this.singularItemName=t,this.value=t,this.queryBuilder.addEventListener("query",this),this.queryBuilder.attachProvider(this),l(this,u,this.queryBuilder.getAttribute("data-search-path")),l(this,c,new AbortController)}};var d=i(45062);function p(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function m(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function y(e,t,i){var r=m(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,r,i),i}function v(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function f(e,t){p(e,t),t.add(e)}function g(e,t,i,r){var s,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}var w=new WeakMap,E=new WeakSet,I=new WeakSet;let InternalNavListGroupElement=class InternalNavListGroupElement extends HTMLElement{connectedCallback(){this.toggleShowMoreItemVisibility(),this.queryBuilder&&(this.addEventListener("query-builder:request-provider",this.connectFilterItemsProvider),this.addEventListener("query-builder-feedback",this.toggleEmptyResultsDisplay))}disconnectedCallback(){this.queryBuilder&&(this.removeEventListener("query-builder:request-provider",this.connectFilterItemsProvider),this.removeEventListener("query-builder-feedback",this.toggleEmptyResultsDisplay))}showFilter(){this.filterContainer&&(this.filterContainer.hidden=!1,this.showFilterButton.hidden=!0,this.queryBuilder&&(this.list.hidden=!0,v(this,I,b).call(this),this.queryBuilder.input.focus()))}hideFilter(){this.filterContainer&&(this.filterContainer.hidden=!0,this.queryBuilder&&(this.list.hidden=!1,this.queryBuilder.clear()),this.emptyResultsContainer&&(this.emptyResultsContainer.hidden=!0),this.showFilterButton.hidden=!1,this.showFilterButton.focus())}get totalItems(){let e=this.list.children.length;return this.showMoreItem?e-1:e}get atPageLimit(){return this.currentPage===this.maxPages}get hasEnoughItems(){return this.totalItems<this.itemsPerPage*this.currentPage}get hideShowMoreItem(){return this.hasEnoughItems||this.atPageLimit}get showMoreDisabled(){return this.showMoreItem.hasAttribute("aria-disabled")}set showMoreDisabled(e){e?this.showMoreItem.setAttribute("aria-disabled","true"):this.showMoreItem.removeAttribute("aria-disabled"),this.showMoreItem.classList.toggle("disabled",e)}toggleShowMoreItemVisibility(){this.showMoreItem&&(this.showMoreItem.hidden=this.hideShowMoreItem)}async showMore(e){let t;if(e.preventDefault(),this.showMoreDisabled)return;this.showMoreDisabled=!0;try{let e=new URL(this.src,window.location.origin);this.currentPage++,e.searchParams.append("page",this.currentPage.toString());let i=await fetch(e);if(!i.ok)return;t=await i.text()}catch(e){this.showMoreDisabled=!1,this.currentPage--;return}let i=v(this,E,C).call(this,document,t);i?.querySelector("li > a")?.setAttribute("data-targets","internal-nav-list-group.focusMarkers"),this.list.insertBefore(i,this.showMoreItem),this.focusMarkers.pop()?.focus(),this.showMoreDisabled=!1,this.toggleShowMoreItemVisibility()}connectFilterItemsProvider(e){let t=`query-builder-query-${this.inputId}`,i=e.target;i&&i.id===t&&new ItemsProvider(e.target,this.filterItemType)}toggleEmptyResultsDisplay(e){if(!this.emptyResultsContainer||!this.queryBuilder||"NEW_RESULTS"!==e.key)return;let t=this.queryBuilder.i18n.suggestion,i=RegExp(`(\\d+)\\s+${t}`),r=e.text.match(i);if(!r)return;let s=r[1];"0"===s&&this.emptyResultsContainer.hidden?this.emptyResultsContainer.hidden=!1:"0"===s||this.emptyResultsContainer.hidden||(this.emptyResultsContainer.hidden=!0)}constructor(...e){super(...e),f(this,E),f(this,I),function(e,t,i){p(e,t),t.set(e,i)}(this,w,{writable:!0,value:void 0}),this.currentPage=1,y(this,w,!0)}};function C(e,t){let i=e.createElement("template");return i.innerHTML=t,e.importNode(i.content,!0)}function b(){var e;if(((e=m(this,w,"get")).get?!e.get.call(this):!e.value)||!this.queryBuilder||!this.hideFilterButton)return;let t=document.createElement("div");t.classList.add("d-flex");let i=this.queryBuilder.styledInput.parentNode;i&&i.insertBefore(t,this.queryBuilder.styledInput),t.appendChild(this.queryBuilder.styledInput),t.appendChild(this.hideFilterButton);let r=document.querySelector(`[for="${this.hideFilterButton.id}"]`);r&&t.appendChild(r),y(this,w,!1)}g([r.CF],InternalNavListGroupElement.prototype,"src",void 0),g([r.CF],InternalNavListGroupElement.prototype,"itemsPerPage",void 0),g([r.CF],InternalNavListGroupElement.prototype,"maxPages",void 0),g([r.CF],InternalNavListGroupElement.prototype,"currentPage",void 0),g([r.CF],InternalNavListGroupElement.prototype,"inputId",void 0),g([r.CF],InternalNavListGroupElement.prototype,"filterItemType",void 0),g([r.aC],InternalNavListGroupElement.prototype,"showMoreItem",void 0),g([r.aC],InternalNavListGroupElement.prototype,"list",void 0),g([r.zV],InternalNavListGroupElement.prototype,"focusMarkers",void 0),g([r.aC],InternalNavListGroupElement.prototype,"filterContainer",void 0),g([r.aC],InternalNavListGroupElement.prototype,"showFilterButton",void 0),g([r.aC],InternalNavListGroupElement.prototype,"hideFilterButton",void 0),g([r.aC],InternalNavListGroupElement.prototype,"queryBuilder",void 0),g([r.aC],InternalNavListGroupElement.prototype,"emptyResultsContainer",void 0),g([(0,d.s)(200)],InternalNavListGroupElement.prototype,"toggleEmptyResultsDisplay",null),InternalNavListGroupElement=g([r.p_],InternalNavListGroupElement)},74324:(e,t,i)=>{var r,s,n,o;i.d(t,{CN:()=>SearchItem,P$:()=>QueryEvent,VJ:()=>o,dS:()=>FetchDataEvent,k8:()=>a,m4:()=>s,nM:()=>l,o7:()=>r,qi:()=>FilterItem,yk:()=>n}),function(e){e.DIRECTORY="Search in this directory",e.ORG="Search in this organization",e.OWNER="Search in this owner",e.REPO="Search in this repository",e.GITHUB="Search all of GitHub",e.GENERAL="Submit search",e.COMMAND="Run command",e.COPILOT_CHAT="Start a new Copilot thread",e.COPILOT_SEARCH="Search with Copilot",e.EXPLORE="Learn More",e.DEFAULT="Jump to"}(r||(r={}));let a="Autocomplete";let FilterItem=class FilterItem extends Event{constructor({filter:e,value:t,name:i="",description:r="",inlineDescription:s=!1,priority:n=1/0,icon:o,avatar:a,action:l}){super("filter-item"),this.inlineDescription=!1,this.filter=e,this.value=t,this.name=i,this.description=r,this.inlineDescription=s,this.priority=n,this.icon=o,this.avatar=a,this.action=l}};function l(e){return e instanceof Object}!function(e){e.Apps="apps",e.Archived="archived",e.Book="book",e.Bookmark="bookmark",e.Branch="branch",e.Calendar="calendar",e.Circle="circle",e.Code="code",e.CodeReview="code-review",e.CodeSquare="code-square",e.Comment="comment",e.CommentDiscussion="comment-discussion",e.Copilot="copilot",e.CopilotError="copilot-error",e.Codespaces="codespaces",e.CreditCard="credit-card",e.Default="default",e.DeviceDesktop="device-desktop",e.DeviceMobile="device-mobile",e.Discussion="discussion",e.Draft="draft",e.FileCode="file-code",e.Filter="filter",e.Forbidden="forbidden",e.Gift="gift",e.Globe="globe",e.Heart="heart",e.History="history",e.Issue="issue",e.IssueOpened="issue-opened",e.IssueClosed="issueClosed",e.Iterations="iterations",e.Mention="mention",e.Merged="merged",e.Milestone="milestone",e.No="no",e.Not="not",e.Organization="organization",e.Package="package",e.Pencil="pencil",e.Person="person",e.Play="play",e.PlusCircle="plus-circle",e.Project="project",e.PullRequest="pullRequest",e.Question="question",e.Reaction="reaction",e.Repo="repo",e.Rocket="rocket",e.Search="search",e.Server="server",e.ShieldCheck="shield-check",e.SingleSelect="single-select",e.Sort="sort",e.Tag="tag",e.Team="team",e.Telescope="telescope",e.Trash="trash",e.Workflow="workflow"}(s||(s={})),function(e){e.Entity="--color-prettylights-syntax-entity",e.Constant="--color-prettylights-syntax-constant",e.Keyword="--color-prettylights-syntax-keyword",e.Variable="--color-prettylights-syntax-variable",e.String="--color-prettylights-syntax-string"}(n||(n={}));let SearchItem=class SearchItem extends Event{constructor({id:e,priority:t,value:i,action:r,description:s="",icon:n,scope:o="DEFAULT",prefixText:a,prefixColor:l,isFallbackSuggestion:h,isUpdate:u}){super(u?"update-item":"search-item"),this.id=e,this.priority=t,this.value=i,this.prefixText=a,this.prefixColor=l,this.action=r,this.description=s,this.icon=n,this.scope=o,this.isFallbackSuggestion=h||!1}};!function(e){e.Normal="normal",e.Entity="entity",e.Constant="constant",e.FilterValue="filter-value"}(o||(o={}));let FetchDataEvent=class FetchDataEvent extends Event{constructor(e){super("fetch-data"),this.fetchPromise=e}};let QueryEvent=class QueryEvent extends Event{toString(){return this.rawQuery}constructor(e,t,i){super("query"),this.parsedQuery=e,this.rawQuery=t,this.parsedMetadata=i}};Event}}]);
//# sourceMappingURL=app_components_primer_experimental_side_panel_nav_list_internal-nav-list-group-element_ts-df67b2a65ded.js.map