<%= render(Primer::Alpha::ActionMenu.new(display: :inline_block, with_caret: true, mr: [2], my: [2], test_selector: "customer-stories-filter-dropdown" )) do |menu| %>
   <% menu.with_show_button(bg: :default, border_color: :subtle, aria: {haspopup: "menu", label: "Show filter options by #{filter_display_title}"}, classes: "rounded-pill", box_shadow: :none, test_selector: "customer-stories-#{@filter_name}-filter-title") { |button|
      button.with_trailing_action_icon(icon: :"triangle-down")
        filter_display_title
    } %>

  <% if active_filter_option %>
    <% menu.with_item(tag: :summary, role: "menuitem", test_selector: "customer-stories-filter-dropdown-active-option") { active_filter_option } %>
    <% menu.with_item(divider: true) %>
  <% end %>
  <% filter_options_for(@filter_name).each do |option| %>
    <% menu.with_item(tag: :a, href: build_filter_option_link(@category, @filter_name, option, @existing_params), role: "menuitem", test_selector: "customer-stories-filter-dropdown-option:#{option}" ) { option } %>
  <% end %>
<% end %>
