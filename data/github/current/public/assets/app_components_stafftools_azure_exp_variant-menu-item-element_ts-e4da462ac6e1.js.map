{"version":3,"file":"chunk-app_components_stafftools_azure_exp_variant-menu-item-element_ts-xxxxxxxxxxxx.js","mappings":"gkBAIO,iCAAMA,+BAA+BC,YAG1CC,eAAgB,CACd,IAAI,CAACC,IAAI,EAAEC,gBACX,IAAI,CAACC,SAAS,EAChB,CAEAA,WAAY,CACVC,CAAAA,EAAAA,EAAAA,CAAAA,EAAYC,SAASC,aAAa,CAAC,0CAA0CC,UAAW,CACtFC,WAAY,GACd,EACF,CACF,E,GAZGC,EAAAA,EAAMA,C,CADIX,uBAAAA,SAAAA,CAAAA,OAAAA,KAAAA,GAAAA,uBAAAA,EAAAA,CADZY,EAAAA,EAAUA,C,CACEZ,uB,sBCJTa,EAEG,SAASP,EAAYQ,CAAa,CAAEC,CAA8B,EAEvE,GADAC,IACI,CAACF,EAAM,OAEX,IAAMG,EAAUV,SAASW,aAAa,CAAC,MACvCD,CAAAA,EAAQR,SAAS,CAAGK,EAChBP,SAASY,IAAI,EAAEZ,SAASY,IAAI,CAACC,MAAM,CAACH,GAExC,IAAMI,EAAQJ,EAAQT,aAAa,CAAC,UAChCa,GACFA,EAAMC,gBAAgB,CAAC,QAASN,EAAa,CAACO,KAAM,EAAI,GAG1DhB,SAASe,gBAAgB,CAAC,UAAW,IAIjB,WAAdE,EAAMC,GAAG,EACPT,KAAeQ,EAAME,wBAAwB,EAGrD,GAEAb,EAAiBI,EAEbF,GAASL,YACXiB,WAAW,KACLd,IAAmBI,GACrBD,GAEJ,EAAGD,EAAQL,UAAU,CAEzB,CAEA,SAASM,UACP,EAAKH,IACLA,EAAee,MAAM,GACrBf,EAAiB,KACV,GACT,C","sources":["app/components/stafftools/azure_exp/variant-menu-item-element.ts","ui/packages/toggle-toast/toggle-toast.ts"],"sourcesContent":["import {controller, target} from '@github/catalyst'\nimport {toggleToast} from '@github-ui/toggle-toast'\n\n@controller\nexport class VariantMenuItemElement extends HTMLElement {\n  @target form: HTMLFormElement\n\n  assignVariant() {\n    this.form?.requestSubmit()\n    this.showToast()\n  }\n\n  showToast() {\n    toggleToast(document.querySelector('.js-azure-exp-local-assignments-toast')?.innerHTML, {\n      closeAfter: 5000,\n    })\n  }\n}\n","let toastReference: HTMLElement | null\n\nexport function toggleToast(html?: string, options?: {closeAfter: number}) {\n  removeToast()\n  if (!html) return\n\n  const element = document.createElement('div')\n  element.innerHTML = html\n  if (document.body) document.body.append(element)\n\n  const close = element.querySelector('button')\n  if (close) {\n    close.addEventListener('click', removeToast, {once: true})\n  }\n\n  document.addEventListener('keydown', (event: KeyboardEvent) => {\n    // TODO: Refactor to use data-hotkey\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if (event.key === 'Escape') {\n      if (removeToast()) event.stopImmediatePropagation()\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  })\n\n  toastReference = element\n\n  if (options?.closeAfter) {\n    setTimeout(() => {\n      if (toastReference === element) {\n        removeToast()\n      }\n    }, options.closeAfter)\n  }\n}\n\nfunction removeToast(): boolean {\n  if (!toastReference) return false\n  toastReference.remove()\n  toastReference = null\n  return true\n}\n"],"names":["VariantMenuItemElement","HTMLElement","assignVariant","form","requestSubmit","showToast","toggleToast","document","querySelector","innerHTML","closeAfter","target","controller","toastReference","html","options","removeToast","element","createElement","body","append","close","addEventListener","once","event","key","stopImmediatePropagation","setTimeout","remove"],"sourceRoot":""}