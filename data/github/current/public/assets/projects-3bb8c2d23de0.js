"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["projects"],{40622:(e,t,n)=>{n.d(t,{Sz:()=>m,Z:()=>d,kn:()=>u});var o=n(23149),r=n(97797);let s="ontransitionend"in window;function l(e){return"height"===getComputedStyle(e).transitionProperty}function i(e,t){e.style.transition="none",t(),e.offsetHeight,e.style.transition=""}var c=n(95493);function a(e,t){if(e.classList.toggle("open",t),e.classList.toggle("Details--on",t),t){let t=e.querySelector(".js-details-initial-focus");t&&setTimeout(()=>{t.focus()},0)}for(let n of[...e.querySelectorAll(".js-details-target")].filter(t=>t.closest(".js-details-container")===e))n.setAttribute("aria-expanded",t.toString()),n.hasAttribute("data-aria-label-open")&&n.hasAttribute("data-aria-label-closed")&&n.setAttribute("aria-label",t?n.getAttribute("data-aria-label-open"):n.getAttribute("data-aria-label-closed"))}function u(e,t){let n=e.getAttribute("data-details-container")||".js-details-container",o=e.closest(n),r=t?.force??!o.classList.contains("open"),u=t?.withGroup??!1;!function(e,t){if(!s){t();return}let n=Array.from(e.querySelectorAll(".js-transitionable"));for(let t of(e.classList.contains("js-transitionable")&&n.push(e),n)){let e=l(t);t instanceof HTMLElement&&(t.addEventListener("transitionend",()=>{t.style.display="",t.style.visibility="",e&&i(t,function(){t.style.height=""})},{once:!0}),t.style.boxSizing="content-box",t.style.display="block",t.style.visibility="visible",e&&i(t,function(){t.style.height=getComputedStyle(t).height}),t.offsetHeight)}for(let e of(t(),n))if(e instanceof HTMLElement&&l(e)){let t=getComputedStyle(e).height;e.style.boxSizing="","0px"===t?e.style.height=`${e.scrollHeight}px`:e.style.height="0px"}}(o,()=>{a(o,r);let t=u?function(e,t){let n=e.getAttribute("data-details-container-group");return n?((0,c._H)(e,()=>{for(let o of[...document.querySelectorAll(".js-details-container")].filter(e=>e.getAttribute("data-details-container-group")===n))o!==e&&a(o,t)}),n):null}(o,r):null;Promise.resolve().then(()=>{!function(e,t){t.find(t=>{let n=Array.from(e.querySelectorAll(t)).findLast(e=>"none"!==window.getComputedStyle(e).display);if(n&&document.activeElement!==n)return n.focus(),!0})}(o,[".js-focus-on-dismiss","input[autofocus], textarea[autofocus]"]),e.classList.contains("tooltipped")&&(e.classList.remove("tooltipped"),e.addEventListener("mouseleave",()=>{e.classList.add("tooltipped"),e.blur()},{once:!0})),o.dispatchEvent(new CustomEvent("details:toggled",{bubbles:!0,cancelable:!1,detail:{open:r}})),t&&o.dispatchEvent(new CustomEvent("details:toggled-group",{bubbles:!0,cancelable:!1,detail:{open:r,group:t}}))})})}function d(e){let t=e.getAttribute("data-details-container")||".js-details-container",n=e.closest(t).classList;return n.contains("Details--on")||n.contains("open")}function m(e){let t=!1,n=e.parentElement;for(;n;)n.classList.contains("Details-content--shown")&&(t=!0),n.classList.contains("js-details-container")&&(n.classList.toggle("open",!t),n.classList.toggle("Details--on",!t),t=!1),n=n.parentElement}(0,r.on)("click",".js-details-target",function(e){let t=e.altKey;u(e.currentTarget,{withGroup:t}),e.preventDefault()}),(0,o.A)(function({target:e}){e&&m(e)})},23149:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5728),r=n(27260);let s=[],l=0;function i(e){!async function(){s.push(e),await o.G,function(){let e=l;l=s.length,c(s.slice(e),null,window.location.href)}()}()}function c(e,t,n){let o=window.location.hash.slice(1),r={oldURL:t,newURL:n,target:o?document.getElementById(o):null};for(let t of e)t.call(null,r)}i.clear=()=>{s.length=l=0};let a=window.location.href;window.addEventListener("popstate",function(){a=window.location.href}),window.addEventListener("hashchange",function(e){let t=window.location.href;try{c(s,e.oldURL||a,t)}finally{a=t}});let u=null;document.addEventListener(r.z.START,function(){u=window.location.href}),document.addEventListener(r.z.SUCCESS,function(){c(s,u,window.location.href)})},38147:(e,t,n)=>{n.d(t,{NB:()=>a,Up:()=>c,pk:()=>u});let o=new WeakMap;function r(e){let t=o.get(e);t&&(null!=t.timer&&clearTimeout(t.timer),t.timer=window.setTimeout(()=>{null!=t.timer&&(t.timer=null),t.inputed=!1,t.listener.call(null,e)},t.wait))}function s(e){let t=e.currentTarget,n=o.get(t);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function l(e){let t=e.currentTarget,n=o.get(t);n&&(n.keypressed=!1,n.inputed&&r(t))}function i(e){let t=e.currentTarget,n=o.get(t);n&&(n.inputed=!0,n.keypressed||r(t))}function c(e,t,n={wait:null}){o.set(e,{keypressed:!1,inputed:!1,timer:void 0,listener:t,wait:null!=n.wait?n.wait:100}),e.addEventListener("keydown",s),e.addEventListener("keyup",l),e.addEventListener("input",i)}function a(e,t){e.removeEventListener("keydown",s),e.removeEventListener("keyup",l),e.removeEventListener("input",i);let n=o.get(e);n&&(null!=n.timer&&n.listener===t&&clearTimeout(n.timer),o.delete(e))}function u(e){let t=o.get(e);t&&t.listener.call(null,e)}},14229:(e,t,n)=>{let o,r,s,l;var i,c,a,u=n(97797),d=n(40622);(0,u.on)("submit",".js-project-name-update",async function(e){let t,n;let o=e.currentTarget,r=o.closest(".js-details-container");e.preventDefault();try{t=await fetch(o.action,{method:o.method,body:new FormData(o),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),n=await t.json()}catch{}if(t&&!t.ok){let e=o.querySelector(".js-project-form-group"),t=r.querySelector(".js-project-form-error"),s=o.getAttribute("data-fallback-error-message");t&&(t.textContent=n.errors?.[0]||s),e&&e.classList.add("errored")}else if(n){r.querySelector(".js-project-name-label").textContent=n.project_name,(0,d.kn)(r,{force:!1});let e=r.querySelector(".js-project-hovercard");if(e){let t=e.getAttribute("data-hovercard-url"),n=/\?ts=(.+)$/;t?.match(n)&&e.setAttribute("data-hovercard-url",t.replace(n,`?ts=${Date.now()}`))}}(function(e){for(let t of e.elements)(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(t.defaultValue=t.value)})(o),(0,u.h)(o,"deprecatedAjaxComplete")});var m=n(70908);function p(e){let t=new WeakMap;for(let n of e)t.set(n,n.getBoundingClientRect());return t}async function f(e,t,n,o=500){let r=t.get(e),s=n.get(e),l=r.left-s.left,i=r.top-s.top;(0!==l||0!==i)&&(await (0,m.G$)(),e.style.transform=`translateZ(0) translate(${l}px, ${i}px)`,e.style.transition="transform 0s",await (0,m.G$)(),e.style.transform="",e.style.transition=`transform ${o}ms`,await new Promise(t=>e.addEventListener("transitionend",t,{once:!0})),e.style.transition="")}function j(e,t,n=500){let o=p(e),r=[];for(let s of e)r.push(f(s,t,o,n));return Promise.all(r)}var g=n(94147),h=n(70170);function v(e){if(!e)return;o&&clearTimeout(o);let t=document.querySelector(".js-project-updated-message");t.textContent=e,t.classList.remove("d-none"),o=window.setTimeout(function(){t.textContent="",t.classList.add("d-none")},3e3)}function y(e,t){let n=t.querySelector(".js-project-column-automation-footer");if(!n)return;let o=n.querySelector(".js-project-column-automation-summary");e.automation_summary&&e.purpose?(o.textContent=e.purpose,o.setAttribute("aria-label",e.automation_summary),n.classList.remove("d-none")):n.classList.add("d-none")}function b(e,t,n,o){e.setAttribute("data-column-id",t),e.setAttribute("data-column-name",n),e.href=encodeURI(`#column-${t}`),e.querySelector(".js-column-nav-name").textContent=n;let r=e.querySelector(".js-column-nav-card-count");r&&(r.textContent=o,r.setAttribute("aria-label",`Contains ${o} ${1===Number(o)?"item":"items"}`))}function S(e,t,n,o,r,s){let l=e.content.cloneNode(!0),i=l.querySelector(".js-project-column-navigation-item");i.classList.toggle("selected",s),b(i,n,o,r);let c=t.querySelectorAll(".js-project-column-navigation-item").length+1;l.querySelector(".js-column-nav-index").textContent=c.toString(),t.appendChild(l)}async function C(e,t){v(t.message);let n=e.querySelectorAll(".js-project-column"),o=p(n),r=e.getAttribute("data-url")||"",s=e.getAttribute("data-columns-url")||"",l=e.getAttribute("data-cards-url")||"",i=t.state;if(!i){let e=await fetch(r,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)return;i=await e.json()}(0,u.h)(e,"will-update-project",i);let c=document.activeElement;if(function(e,t){let n=Array.from(e.querySelectorAll(".js-project-column")).map(e=>e.getAttribute("data-id"));return t.columns.map(e=>String(e.id)).join(",")!==n.join(",")}(e,i)){(0,u.h)(e,"will-update-project-columns");let t={},r=document.createDocumentFragment();for(let e of i.columns){let n=function(e,t){let n=`column-${e.id}`,o=document.getElementById(n);if(o)return o;{let o=new g.T;return o.id=n,o.src=encodeURI(`${t}/${e.id}`),o}}(e,s),o=n.querySelector(".js-project-column-cards");o&&(t[o.id]=o.scrollTop),r.appendChild(n)}let l=e.querySelector(".js-new-project-column-container");l&&l.remove();let c=e.querySelector(".js-new-column-blankslate");for(let n in c.remove(),e.textContent="",e.appendChild(r),l&&(e.appendChild(l),l.querySelector(".js-new-column-button").classList.toggle("d-none",0===i.columns.length)),e.appendChild(c),c.classList.toggle("d-none",i.columns.length>0),!function(e){let t;let n=document.querySelector(".js-project-column-nav");if(!n)return;let o=n.querySelector(".js-column-nav-template"),r=n.scrollLeft;for(let e of document.querySelectorAll(".js-project-column-navigation-item"))e.remove(),e.classList.contains("selected")&&(t=e.getAttribute("data-column-id"));for(let r of e)S(o,n,r.id.toString(),r.name,r.card_ids.length.toString(),t===r.id.toString());n.scrollLeft=r}(i.columns),t)document.getElementById(n).scrollTop=t[n];await j(n,o)}let a=e.querySelectorAll(".js-project-column-card"),d=p(a),m={};for(let e of i.columns)for(let t of e.card_ids)m[t]=function(e,t){let n=`card-${e}`,o=document.getElementById(n);if(o)return o;{let o=new g.T;return o.id=n,o.src=encodeURI(`${t}/${e}`),o.onerror=function(){o.remove()},o}}(t.toString(),l);for(let e of i.columns){let t=document.getElementById(`column-${e.id}`);if(!t||"INCLUDE-FRAGMENT"===t.tagName)return;let n=t.querySelector(".js-project-column-name");if(n){n.textContent=e.name;let o=t.querySelector(".js-project-column-name-field");o instanceof HTMLInputElement&&(o.value=e.name,o.setAttribute("value",e.name))}let o=t.querySelector(".js-column-card-count");o&&(o.textContent=e.card_ids.length.toString()),y(e,t),function(e,t,n){let o=document.createDocumentFragment();for(let e of t)o.appendChild(n[e]);e.textContent="",e.appendChild(o)}(t.querySelector(".js-project-column-cards"),e.card_ids,m)}(0,u.h)(e,"update-project"),await j(a,d),c&&document.activeElement!==c&&c.focus()}let L=(0,h.s)(C,100);var q=n(38147),w=n(13937),A=n(8968);let k="linked",E="title",_=["assignee","author","is","label","milestone","repo","review","state","status","type",k],x={pr:"issue"},T=["issue","pr","note"],$=["assignee","label","milestone"],I=/[^\s:]+:("(?:\\"|.)*?"|[^\s]*)|[^\s]+/g;function D(e,t){let n=e[t];return n||(n={tokenFilters:[],matchIfMissing:!1},e[t]=n),n}function M(e,t,n){let o=e.tokenFilters.find(e=>e.token===t);o?o.negated=n:e.tokenFilters.push({token:t,negated:n}),e.matchIfMissing=!1}function B(e,t){let n=`^-?${t}:\\s*"?(.*?)"?\\s*$`;return e.replace(new RegExp(n),"$1").replace(/\\(")/g,"$1").toLowerCase()}function R(e){let t=e.match(I)||[],n={};for(let e of t){let o=_.find(t=>e.match(RegExp(`^-?${t}:.*`)));if(o){let r=B(e,o);if(r.length>0){if(M(D(n,o),r,e.startsWith("-")),o!==k)continue;let s=x[r],l=e=>e.some(e=>{let t=B(e,"is");return e!==t&&T.includes(t)});s&&!l(t)&&M(D(n,"is"),s,!1)}}else{let t=$.find(t=>e===`no:${t}`);t?D(n,t).matchIfMissing=!0:e.length>0&&M(D(n,E),e,!1)}}return n}function P(){return document.querySelector(".js-card-filter-input")?.value.trim().toLowerCase()||""}function H(e,t){for(let o in t){let r=e.getAttribute(`data-card-${o}`)||"",s=[];""!==r.trim()&&(s=JSON.parse(r));let l=t[o];if(l.matchIfMissing){if(s.length>0)return!1}else for(let e of l.tokenFilters)if(o===E){if(!function(e,t){return t.some(t=>t.startsWith(e))}(e.token,s))return!1}else{var n;if(o===k&&!x[e.token])return!1;let t=(n=e.token,-1!==s.indexOf(n));if(e.negated){if(t&&s.length>0)return!1}else if(!t)return!1}}return!0}function U(){let e=P();for(let t of document.querySelectorAll(".js-project-columns-container .js-project-column")){let n=t.querySelector(".js-filtered-column-card-count");if(n){if(e.length>0){let e=t.querySelectorAll(".js-project-column-card:not(.d-none)").length;n.textContent=`${e.toString()} result${1!==e?"s":""}`}n.classList.toggle("d-none",0===e.length)}}}function F(e){let t=function(){let e=P();return s!==e&&(s=e,r=R(e)),r}(),n=H(e,t);if(!n){for(let o of e.querySelectorAll(".js-issue-note, .js-issue-note-reference"))if(n=H(o,t))break}e.classList.toggle("d-none",!n)}function K(){let e=document.querySelector(".js-card-filter-input");if(!e)return;let t=P(),n=document.querySelector(".js-card-filter-clear");n?.classList.toggle("d-none",0===t.length),function(e,t){let n=new URL(window.location.href,window.location.origin),o=new URLSearchParams(n.search.slice(1));""===t?o.delete(e):o.set(e,t),n.search=o.toString(),(0,A.g5)((0,A.Gu)(),document.title,n.toString())}(e.name,t),function(e,t){for(let n of document.querySelectorAll(".js-project-fullscreen-link")){let o=new URL(n.getAttribute("href")||"",window.location.origin),r=new URLSearchParams(o.search.slice(1));""===t?r.delete(e):r.set(e,t),o.search=r.toString(),n.setAttribute("href",o.toString())}}(e.name,t)}function N(){for(let e of document.querySelectorAll(".js-project-columns-container .js-project-column-card"))F(e);U(),K()}let W=/:"[^"]*"?$/,O=/(^|\s+)[^\s:]+$/,G=/^(\s|$)/;function V(e){!function(e){if(document.activeElement!==e)return!1;let t=e.value.slice(0,e.selectionEnd),n=e.value.slice(e.selectionEnd),o=0===e.value.trim().length;if(W.test(t))return!1;let r=O.test(t)&&G.test(n);return o||r}(e)?J():function(e){let t=document.querySelector(".js-card-filter-suggester");if(t instanceof HTMLElement){t.classList.add("js-active-navigation-container"),t.classList.remove("d-none");let n=(e.value.slice(0,e.selectionEnd).match(z)||[])[0],o=t.querySelector(".js-card-filter-suggester-helper-container"),r=o.querySelector(".js-card-filter-suggester-helper");X.test(e.value)?(r.textContent=e.value,o.classList.remove("d-none")):o.classList.add("d-none");let s=t.querySelector(".js-card-filter-suggestions-header"),l=!1;for(let e of t.querySelectorAll(".js-card-filter-suggestion")){let t=e.getAttribute("data-value");t&&t.startsWith(n)?(e.classList.remove("d-none"),l=!0):e.classList.add("d-none")}s.classList.toggle("d-none",!l)}}(e)}let X=/(^|\s)[^\s:]+$/,z=/\S*$/;function J(){let e=document.querySelector(".js-card-filter-suggester");e instanceof HTMLElement&&(e.classList.remove("js-active-navigation-container"),e.classList.add("d-none"))}var Z=n(78350),Q=n(27193),Y=n(21232),ee=n(65024),et=n(98164);let en=!navigator.userAgent.match(/Macintosh/);function eo(e){switch(e){case" ":return"Space";case"ArrowUp":case"k":case"K":return"up";case"ArrowDown":case"j":case"J":return"down";case"ArrowLeft":case"h":case"H":return"left";case"ArrowRight":case"l":case"L":return"right";case"Enter":return"confirm";case"Escape":return"cancel";default:return e}}let er=class ItemMove{handleBlur(e){!this.moveInProgress&&e.relatedTarget&&(this.blurring=!0,this.cancel())}isMetaKeyPressed(e){return en?e.ctrlKey:e.metaKey}inPendingColumn(){return null!=this.item.closest(".js-project-pending-cards")}findColumn(e){return e?document.querySelector(`.js-project-column[data-id="${e}"]`):null}findCard(e){if(!e)return null;let t=document.querySelector(`.js-project-column-card[data-card-id="${e}"]`);return t||(t=document.querySelector(`.js-project-column-card[data-content-id="${e}"]`)),t}isColumn(e){return null!=e&&e.classList.contains("js-project-column")}getColumn(){return this.item.closest(".js-project-column")}getPane(){return this.item.closest(".js-project-pane")}getColumnName(){let e=this.getColumn(),t=e&&e.querySelector(".js-project-column-name");return t?t.textContent:""}getColumnsContainer(){return document.querySelector(".js-project-columns-container")}getNextColumn(){let e=this.getColumn();if(e){let t=e.nextElementSibling;if(this.isColumn(t))return t}return null}getPreviousColumn(){let e=this.getColumn();if(e){let t=e.previousElementSibling;if(this.isColumn(t))return t}return null}getFirstColumn(){return this.getColumnsContainer().querySelector(".js-project-column")}getLastColumn(){let e=this.getColumnsContainer().querySelectorAll(".js-project-column");return e[e.length-1]}getCardID(e){return e&&(e.getAttribute("data-card-id")||e.getAttribute("data-content-id"))||""}getColumnID(e){return e&&e.getAttribute("data-id")||""}isMoving(e){return e===this.item}updateAriaLabel(){}moveTransaction(e){try{this.moveInProgress=!0,e(this.item),this.blurring||(this.updateAriaLabel(),this.item.focus())}finally{this.moved=!0,this.moveInProgress=!1}}done(){this.item.removeEventListener("blur",this.blurListener),this.item.classList.remove("moving"),this.item.removeAttribute("aria-label"),this.onDone()}cancel(){}constructor(e,t){this.item=e,this.onDone=t,this.moved=!1,this.moveInProgress=!1,this.blurring=!1,this.blurListener=this.handleBlur.bind(this),this.item.addEventListener("blur",this.blurListener),this.item.classList.add("moving")}},es=class CardMove extends er{updateAriaLabel(){let e=this.getCardIndex(),t=e>=0?`to position ${e+1} of ${this.getCardCount()}`:"",n=`in ${this.getColumnName()} column`;this.item.setAttribute("aria-label",`Moved card ${t} ${n}`.trim())}handleUpdateStart(e){let t=this.getColumn();if(!t||!this.paneColumnCards&&!this.updatePreviousPosition(e.detail)){this.done();return}let n=this.getColumnID(t);if(!this.isColumnInState(e.detail,n)){this.done();return}this.updateSnapshot={columnID:n,indexInColumn:this.getCardIndex()}}handleUpdateEnd(){let e=this.updateSnapshot;if(this.updateSnapshot=null,!e||!this.getColumn()){this.done();return}let t=this.findCard(this.getCardID(this.item)),n=this.getColumnCards(this.findColumn(e.columnID));if(t&&n){this.moveToColumn(n);let o=n.children[e.indexInColumn];t!==o&&this.moveToBeforeCard(n,o)}}handleKeydown(e){let t=this.isMetaKeyPressed(e);if((0,et.$$)(e))switch(eo(e.key)){case"up":t?this.moveToTop():this.moveUp(),e.preventDefault();break;case"down":t?this.moveToBottom():this.moveDown(),e.preventDefault();break;case"left":t?this.moveToFirstColumn(e.shiftKey):this.moveLeft(e.shiftKey),e.preventDefault();break;case"right":t?this.moveToLastColumn(e.shiftKey):this.moveRight(e.shiftKey),e.preventDefault();break;case"confirm":this.confirm(),e.preventDefault();break;case"cancel":this.cancel(),e.preventDefault()}}updatePreviousPosition(e){if(!e||!e.columns)return!1;let t=this.getCardID(this.item);for(let n of e.columns)for(let e=0;e<n.card_ids.length;e++)if(t===n.card_ids[e].toString())return this.previousCardID=n.card_ids[e-1].toString(),this.columnID=n.id.toString(),!0;return!1}isColumnInState(e,t){if(!e||!e.columns)return!1;for(let n of e.columns)if(t===n.id.toString())return!0;return!1}getCardIndex(){let e=this.getColumnCards(this.getColumn());return e?Array.from(e.children).indexOf(this.item):-1}getCardCount(){let e=this.getColumnCards(this.getColumn());return e?e.querySelectorAll(".js-project-column-card").length:0}getColumnCards(e){return null!=e?e.querySelector(".js-project-column-cards"):null}moveToBeforeCard(e,t){this.moveTransaction(function(n){e.insertBefore(n,t)})}moveToColumn(e){this.moveTransaction(function(t){e.appendChild(t)})}moveUp(){let e=this.item.previousElementSibling,t=this.getColumnCards(this.getColumn());e&&t&&this.moveToBeforeCard(t,e)}moveToTop(){let e=this.getColumnCards(this.getColumn());e&&this.moveTransaction(function(t){e.prepend(t)})}moveDown(){let e=this.item.nextElementSibling,t=this.getColumnCards(this.getColumn());if(e&&t){let n=e.nextElementSibling;n?this.moveToBeforeCard(t,n):this.moveToBottom()}else this.moveToBottom()}moveToBottom(){let e=this.getColumnCards(this.getColumn());e&&this.moveToColumn(e)}moveToFirstColumn(e){let t=this.getColumnCards(this.getFirstColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}moveToLastColumn(e){let t=this.getColumnCards(this.getLastColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}moveLeft(e){let t=this.getColumnCards(this.getPane()?this.getLastColumn():this.getPreviousColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}moveRight(e){let t=this.getColumnCards(this.getNextColumn());t&&(this.moveToColumn(t),e&&this.moveToTop())}done(){super.done(),this.item.removeEventListener("keydown",this.keydownListener),this.getColumnsContainer().removeEventListener("will-update-project",this.updateStartListener),this.getColumnsContainer().removeEventListener("update-project",this.updateEndListener)}confirm(){if(this.moved){let e=this.findColumn(this.columnID);this.pendingCard&&!e&&(e=document.querySelector(".js-project-pending-cards-container.js-project-column")),this.moveCard(this.item,e,{keyboardMove:!0})}this.done()}cancel(){let e,t;if(this.moved){if(this.previousCardID){let n=this.findCard(this.previousCardID);n&&(e=n.closest(".js-project-column-cards"),t=n.nextElementSibling)}else this.columnID?(e=this.getColumnCards(this.findColumn(this.columnID)))&&(t=e.firstElementChild):this.paneColumnCards&&(t=(e=this.paneColumnCards).firstElementChild)}e&&(t?this.moveToBeforeCard(e,t):this.moveToColumn(e)),this.done()}constructor(e,t,n){super(e,n),this.moveCard=t,this.pendingCard=this.inPendingColumn(),this.getPane()&&(this.paneColumnCards=e.closest(".js-project-column-cards")),this.columnID=this.getColumnID(this.getColumn()),this.previousCardID=this.getCardID(e.previousElementSibling),this.keydownListener=this.handleKeydown.bind(this),this.item.addEventListener("keydown",this.keydownListener),this.updateStartListener=this.handleUpdateStart.bind(this),this.getColumnsContainer().addEventListener("will-update-project",this.updateStartListener),this.updateEndListener=this.handleUpdateEnd.bind(this),this.getColumnsContainer().addEventListener("update-project",this.updateEndListener)}},el=class ColumnMove extends er{updateAriaLabel(){let e=this.getColumnIndex(),t=e>=0?`to position ${e+1} of ${this.getColumnCount()}`:"";this.item.setAttribute("aria-label",`Moved ${this.getColumnName()} column ${t}`.trim())}getColumnIndex(){return Array.from(this.getColumnsContainer().querySelectorAll(".js-project-column")).indexOf(this.item)}getColumnCount(){return this.getColumnsContainer().querySelectorAll(".js-project-column").length}handleKeydown(e){if(!(0,et.$$)(e))return;let t=this.isMetaKeyPressed(e);switch(eo(e.key)){case"left":t?this.moveToFirstColumn():this.moveLeft(),e.preventDefault();break;case"right":t?this.moveToLastColumn():this.moveRight(),e.preventDefault();break;case"confirm":this.confirm(),e.preventDefault();break;case"cancel":this.cancel(),e.preventDefault()}}insertBefore(e){let t=this.getColumnsContainer();this.moveTransaction(function(n){t.insertBefore(n,e)})}moveLeft(){let e=this.getPreviousColumn();e&&this.insertBefore(e)}moveRight(){let e=this.getNextColumn();if(e){let t=e.nextElementSibling;t&&this.isColumn(t)?this.insertBefore(t):this.moveToLastColumn()}else this.moveToLastColumn()}moveToFirstColumn(){let e=this.getFirstColumn();e&&this.insertBefore(e)}moveToLastColumn(){let e=this.getLastColumn();if(e){let t=e.nextElementSibling;t&&this.insertBefore(t)}}done(){super.done(),this.item.removeEventListener("keydown",this.keydownListener),this.getColumnsContainer().removeEventListener("will-update-project-columns",this.updateListener)}confirm(){this.moved&&this.moveColumn(this.item,{keyboardMove:!0}),this.done()}cancel(){if(this.moved){let e=this.findColumn(this.nextColumnID);e?this.insertBefore(e):this.moveToLastColumn()}this.done()}constructor(e,t,n){super(e,n),this.moveColumn=t,this.nextColumnID=this.getColumnID(e.nextElementSibling),this.keydownListener=this.handleKeydown.bind(this),this.item.addEventListener("keydown",this.keydownListener),this.updateListener=this.done.bind(this),this.getColumnsContainer().addEventListener("will-update-project-columns",this.updateListener)}};var ei=n(22474),ec=n(18558),ea=n(79024),eu=n(23149),ed=n(21403),em=n(46650),ep=n(51528),ef=n(18292),ej=n(95353),eg=n(5728);let eh=document.querySelector(".js-client-uid");function ev(e,t){(0,w.JW)(e,async function(e,n,o){try{await t(e,n,o)}catch(e){throw e.response&&await eb("project-update-error"),e}})}function ey(e){e.closest("details-dialog").toggle(!1)}async function eb(e,t){let n=document.querySelector(`#${e}`),o=await (0,ee.r)({content:n.content.cloneNode(!0),dialogClass:"project-dialog"});return t&&t.setAttribute("aria-expanded","true"),o.addEventListener("dialog:remove",function(){t&&t.setAttribute("aria-expanded","false")},{once:!0}),o}function eS(e,t){let n;let o=e.querySelector(".js-column-card-count"),r=parseInt(o.textContent.trim()),s=e.getAttribute("data-id"),l=r+t;0===t&&(l=0),o.textContent=l.toString(),s&&(n=document.querySelector(`.js-project-column-navigation-item[data-column-id="${s}"] .js-column-nav-card-count`))&&(n.textContent=l.toString());let i=`Contains ${l} ${1===l?"item":"items"}`;o.setAttribute("aria-label",i),n&&n.setAttribute("aria-label",i)}function eC(e,t){let n=e.elements.namedItem("keyboard_move");t&&!0===t.keyboardMove?n.value="true":n.value=""}function eL(e,t,n){t&&(t.classList.contains("js-project-pending-cards-container")&&0===t.querySelectorAll(".js-project-column-card").length&&t.remove(),eS(t,-1));let o=e.closest(".js-project-column");if(!o)return;let r=o.getAttribute("data-id");e.setAttribute("data-column-id",r),eS(o,1),function(){for(let e of document.querySelectorAll(".js-project-search-cards")){let t=e.querySelector(".js-search-cards-next-page");t instanceof HTMLInputElement&&null==e.querySelector(".js-project-column-card")&&(t.value="1")}}();let s=o.querySelector(".js-project-content-form");s.reset(),function(e,t){let n=e.elements.namedItem("card_id"),o=e.elements.namedItem("content_id"),r=e.elements.namedItem("content_type");if(!t){n.value="",o.value="",r.value="";return}let s=t.getAttribute("data-card-id");s?(n.value=s,o.value="",r.value=""):(n.value="",o.value=t.getAttribute("data-content-id"),r.value=t.getAttribute("data-content-type")),e.elements.namedItem("client_uid").value=l}(s,e);let i=e.previousElementSibling,c=s.elements.namedItem("previous_card_id");i?c.value=i.getAttribute("data-card-id"):c.value="",eC(s,n),(0,Z.k_)(s)}function eq(e){let t=e.item;if(t.closest(".js-project-triage-pane"))return;let n=e.from;eL(t,n&&n.closest(".js-project-column")),t.focus()}function ew(e){let t=e.closest(".js-project-column");t&&eS(t,-1),e.remove()}eh&&(l=eh.getAttribute("data-uid"));let eA=/^#card-(\d+)$/;function ek(e,t){let n=document.querySelector(".js-reorder-columns-form");n.elements.namedItem("column_id").value=e.getAttribute("data-id");let o=e.previousElementSibling,r=n.elements.namedItem("previous_column_id");o?r.value=o.getAttribute("data-id"):r.value="",eC(n,t),(0,Z.k_)(n)}function eE(e){if(e.related&&!e.related.matches(".js-project-column"))return!1}function e_(e){let t=e.item;ek(t),t.focus()}function ex(){let e=document.querySelector(".js-project-search-form");e instanceof HTMLFormElement&&(0,Z.k_)(e)}function eT(){let e=document.querySelector(".js-project-archived-cards-search-form");e instanceof HTMLFormElement&&(0,Z.k_)(e)}function e$(e,t,n){let o;return e&&(o=document.querySelector(`.js-project-column-card[data-card-id="${e}"]`)),!o&&t&&n&&(o=document.querySelector(`.js-project-column-card[data-content-type="${n}"][data-content-id="${t}"]`)),o}function eI(e){let t=document.querySelector(".js-new-project-column-container"),n=document.querySelector(".js-new-column-blankslate"),o=t.querySelector(".js-new-column-button");n.classList.toggle("d-none",!e),o.classList.toggle("d-none",e),e&&eD(".js-project-triage-pane",!1)}function eD(e,t){for(let e of document.querySelectorAll(".js-project-header, .js-project-columns, .js-project-pane, .js-project-small-footer"))e.classList.toggle("hide-sm",t);for(let e of document.querySelectorAll(".js-project-columns"))e.classList.toggle("push-board-over",t);for(let n of document.querySelectorAll(e))n.classList.toggle("d-none",!t),n.classList.toggle("hide-sm",!t)}function eM(e){let t=document.querySelector(".js-project-archived-cards-results");if(t){let n=new URL(t.getAttribute("data-project-archived-cards-url"),window.location.origin),o=new URLSearchParams(n.search.slice(1));e&&o.append("card_id",e),n.search=o.toString(),t.setAttribute("src",n.toString())}}function eB(e,t){document.querySelector(".js-show-triage-field").value=t?"show":"",ex()}function eR(){for(let e of document.querySelectorAll(".js-project-search-cards")){let t=e.querySelectorAll(".js-project-column-card"),n={};for(let e of t){let t=e.getAttribute("id");t&&(n.hasOwnProperty(t)&&e.remove(),n[t]=!0)}}}function eP(e){let t=e.closest(".js-details-container");t&&t.classList.remove("open","Details--on")}function eH(e){"Escape"===(0,ec.Vy)(e)&&eP(e.currentTarget)}function eU(e){let t=e.closest(".js-project-column");if(!t)return;let n=e.value;if(e.setAttribute("data-preview-text",n),/(gh-|issues\/|pull\/|projects\/|discussions\/|#)\d+/.test(n)){let e=t.querySelector(".js-preview-note-form");e.elements.namedItem("note").value=n,(0,Z.k_)(e)}else t.querySelector(".js-note-preview").textContent=""}function eF(e){(0,ei.df)(e);let t=e.querySelector(".js-task-list-field");for(let n of(t.defaultValue=t.value,e.querySelectorAll(".task-list-item-checkbox")))n.defaultChecked=n.checked}(0,u.on)("change",".js-toggle-linked-repo-scope",function(e){let t;let n=e.currentTarget,o=n.form,r=o.querySelector(".js-project-triage-search-text"),s=r.value||"";(t=n.checked?s.replace(/(\s|^)repo:[^\s]*\s*/gi,"$1").trim():`${s.trim()} repo:*`)!==s&&(r.value=t,(0,Z.k_)(o))}),(0,u.on)("click",".js-project-show-all-archived-cards",eT),ev(".js-project-update-card",async function(e,t){let n=(await t.html()).html.querySelector("*"),o=e$(n.getAttribute("data-card-id"),n.getAttribute("data-content-id"),n.getAttribute("data-content-type")),r=!!o&&o===o.ownerDocument.activeElement;o&&o.replaceWith(n),r&&n.focus()}),i=".js-project-clone-form",c="project-clone-error",a=async function(e,t){let n=await t.json(),o=n.json.project_url,r=n.json.job_status_url;try{await (0,Q.Ee)(r),window.location=o}catch(e){o?(await eb("project-clone-partial-error")).querySelector(".js-cloned-board-link").setAttribute("href",o):await eb("project-clone-error")}},(0,w.JW)(i,async function(e,t,n){let o=e.querySelector(".form-actions"),r=e.querySelector(".js-project-loader");o.classList.add("d-none"),r.classList.remove("d-none");try{await a(e,t,n)}catch(e){throw e.response&&await eb(c),o.classList.remove("d-none"),r.classList.add("d-none"),e}}),ev(".js-convert-note-to-issue-form",async function(e,t){try{await t.text(),ey(e)}catch(t){if(function(e){try{return e&&e.json&&"note_already_converted_to_issue"===e.json.error_code}catch(e){return!1}}(t.response)){let n=e.querySelector(".js-convert-note-error-container");n.textContent="",n.append((0,em.B)(document,t.response.json.error_html))}else throw t}}),ev(".js-change-project-state-form",async function(e,t){let n=document.activeElement;n instanceof HTMLElement&&e.contains(n)&&n.blur(),await t.text(),ey(e)}),(0,u.on)("click",".js-add-project-description",async function(){let e=await eb("edit-project");e.querySelector("#edit-project-name").removeAttribute("autofocus"),e.querySelector("#edit-project-body").setAttribute("autofocus","")}),(0,u.on)("click",".js-project-target-owner",function(e){let t="repository"===e.currentTarget.getAttribute("data-owner-type"),n=e.currentTarget.closest(".js-project-clone-dialog");n.querySelector(".js-project-clone-visibility").classList.toggle("d-none",t),t&&(n.querySelector(".js-project-clone-private").checked=!0)}),(0,u.on)("click",".js-refresh-project",function(){window.location.reload()}),ev(".js-create-project-column",async function(e,t){let n=await t.html(),o=n.html.querySelector("*");if(o.classList.contains("js-column-form-container"))e.closest(".js-column-form-container").replaceWith(o),eN();else{document.querySelector(".js-new-project-column-container").before(n.html),ey(e),function(e){let t=document.querySelector(".js-project-column-nav");if(!t)return;let n=t.querySelector(".js-column-nav-template");S(n,t,e.getAttribute("data-id")||"",e.querySelector(".js-project-column-name").textContent,e.querySelector(".js-column-card-count").textContent,!0)}(o);let t=o.getAttribute("data-id");t&&(eX(t),eV(t),ez()),document.querySelector(".js-new-column-blankslate").classList.contains("d-none")||eI(!1)}}),ev(".js-update-project-column",async function(e,t){let n=(await t.html()).html.querySelector("*");if(n.classList.contains("js-column-form-container"))e.closest(".js-column-form-container").replaceWith(n),eN();else{let t=e.getAttribute("data-column-id");document.querySelector(`.js-project-column[data-id="${t}"]`).replaceWith(n),function(e){let t=e.getAttribute("data-id");if(!t)return;let n=document.querySelector(`.js-project-column-navigation-item[data-column-id="${t}"]`);n instanceof HTMLAnchorElement&&b(n,t,e.querySelector(".js-project-column-name").textContent,e.querySelector(".js-column-card-count").textContent)}(n),ey(e)}}),ev(".js-delete-project-column",async function(e,t){await t.text();let n=e.getAttribute("data-column-id"),o=document.querySelectorAll(".js-project-column");document.querySelector(`.js-project-column[data-id="${n}"]`).remove(),ey(e),function(e){for(let t of document.querySelectorAll(".js-project-column-navigation-item"))if(e===t.getAttribute("data-column-id")){t.remove();return}}(n),1===o.length&&eI(!0)}),ev(".js-archive-project-column",async function(e,t){var n;await t.text();let o=e.getAttribute("data-column-id");(n=document.querySelector(`.js-project-column[data-id="${o}"]`)).querySelector(".js-project-column-cards").textContent="",eS(n,0),ey(e)}),(0,ed.lB)(".js-project-column-card, .js-project-column",{constructor:HTMLElement,initialize(e){e.id===document.location.hash.substr(1)&&setTimeout(()=>{document.querySelector(".js-project-page-mobile")||e.focus()},1)}}),(0,u.on)("click",".js-show-migration-override-button",function(){(function(){let e=document.querySelector(".js-migrate-project-dialog");e&&e.close()})(),function(){let e=document.querySelector(".js-project-migration-override");e&&(e.open=!0)}()}),ev(".js-remove-card-after-request",async function(e,t){await t.text(),ew(e.closest(".js-project-column-card")),ex()}),ev(".js-archive-project-card",async function(e,t){ew(e.closest(".js-project-column-card")),await t.text(),eT()}),ev(".js-unarchive-project-card",async function(e,t){let n=e.closest(".js-project-column-card"),o=n.getAttribute("data-column-id"),r=document.querySelector(`.js-project-column[data-id="${o}"] .js-project-column-cards`);r&&(r.append(n),eL(n),n.focus()),t.text()}),ev(".js-project-archived-cards-search-form",async function(e,t){let n;let o=e.closest(".js-project-archived-cards-pane").querySelector(".js-project-column-cards");o.textContent="Loading\u2026",e.classList.add("loading");try{n=await t.html()}catch(e){}o.textContent="",n&&o.append(n.html),e.classList.remove("loading")}),(0,eu.A)(async function({target:e}){if(e instanceof HTMLElement)e.matches(".js-project-column-card")?e.focus():e.matches(".js-project-column")&&(eX(e.getAttribute("data-id")),ez());else if(document.location.hash.length>0){let e=function(){let e=document.location.hash.match(eA);return e?e[1]:null}();if(null!=e){let t=document.querySelector(".js-project-archived-cards-pane");if(t){let n=t.getAttribute("data-project-archived-card-url"),o=await fetch(n.replace("{card_id}",e),{headers:{"X-Requested-With":"XMLHttpRequest"}});o.ok&&null!=await o.text()&&(eM(e),eD(".js-project-archived-cards-pane",!0))}}}}),(0,u.on)("click",".js-show-project-triage",function(){eD(".js-project-pane",!1),eD(".js-project-menu-pane",!0),eD(".js-project-triage-pane",!0);let e=document.querySelector(".js-project-triage-pane");e.addEventListener("animationend",function(){e.querySelector(".js-project-triage-search-text").focus()},{once:!0})}),(0,u.on)("click",".js-show-archived-cards",function(){eM(),eD(".js-project-pane",!1),eD(".js-project-menu-pane",!0),eD(".js-project-archived-cards-pane",!0)}),(0,u.on)("click",".js-show-project-menu",function(){(function(){let e=document.querySelector(".js-project-activity-results");if(e){let t=new URL(e.getAttribute("data-project-activity-url"),window.location.origin);e.setAttribute("src",t.toString())}})(),eD(".js-project-pane",!1),eD(".js-project-menu-pane",!0)}),(0,u.on)("click",".js-hide-project-menu",function(){eD(".js-project-pane",!1)}),(0,u.on)("click",".js-show-triage",function(e){eB(e,!0)}),(0,u.on)("click",".js-hide-triage",function(e){eB(e,!1)}),ev(".js-project-search-form",async function(e,t){(function(e){let t=e.querySelector(".js-toggle-linked-repo-scope"),n=e.querySelector(".js-project-triage-search-text");return t instanceof HTMLInputElement&&!!t.checked&&null!=R(n.value).repo})(e)&&(e.querySelector(".js-toggle-linked-repo-scope").checked=!1),e.classList.add("loading");let n=await t.html(),o=e.closest(".js-project-triage-pane").querySelector(".js-project-search-results");o.textContent="",o.append(n.html),e.classList.remove("loading")}),ev(".js-project-activity-form",async function(e,t){let n=await t.html(),o=e.closest(".js-project-activity-pane"),r=o.querySelector(".js-project-activity-container");r&&(r.textContent="",r.append(n.html)),o&&o.classList.remove("Details--on")}),(0,ed.lB)(".js-project-column-card",function(e){if(e.getAttribute("data-card-id")){let t=e.getAttribute("data-content-type"),n=e.getAttribute("data-content-id"),o=document.getElementById(`card-${t}-${n}`);o&&o.remove()}}),(0,ed.lB)(".js-more-search-cards-form",{subscribe:e=>(0,ea.Rt)(e,"page:loaded",eR)}),(0,u.on)("click",".js-dismiss-note-form-button",function(e){eP(e.currentTarget)}),(0,Y.uE)(".js-note-text",function(e){(0,q.Up)(e,eU),e.addEventListener("blur",function(){(0,q.NB)(e,eU)},{once:!0})}),(0,ed.lB)(".js-project-note-form",{subscribe:e=>(0,ea.Rt)(e,"keyup",eH)}),ev(".js-preview-note-form",async function(e,t){let n;let o=e.closest(".js-project-column"),r=o.querySelector(".js-note-text"),s=o.querySelector(".js-note-preview");try{n=(await t.html()).html}catch(e){}s.textContent="",n&&r.getAttribute("data-preview-text")===r.value&&s.appendChild(n)}),(0,u.on)("tab-container-changed",".js-project-picker-tabs",async function(e){let t=e.currentTarget,n=e.detail.relatedTarget;if(!n)return;let o=t.querySelector("remote-input");o.setAttribute("aria-owns",n.id),o.src=n.getAttribute("data-filter-url")}),ev(".js-project-note-form",async function(e,t){var n;let o;let r=e.querySelector("textarea");r.disabled=!0;let s=e.querySelector("button");s.disabled=!0;let l=e.closest(".js-project-column");l&&l.querySelector(".js-note-text").removeAttribute("data-preview-text");try{o=await t.html()}catch(e){if(o=e.response,l&&o&&409===o.status&&o.html){let e=l.querySelector(".js-note-preview");e.textContent="",e.appendChild(o.html)}o&&422===o.status&&await eb("project-update-error"),s.disabled=!1,r.blur(),r.disabled=!1,r.focus();return}l?(l.querySelector(".js-note-preview").textContent="",n=o.html,l.querySelector(".js-project-column-cards").prepend(n),eS(l,1)):function(e,t){let n=t.querySelector("*");if(n&&n.classList.contains("js-note-form-container"))e.closest(".js-note-form-container").replaceWith(t);else{let n=e.getAttribute("data-card-id"),o=document.getElementById(`card-${n}`);o&&o.replaceWith(t),e.reset(),ey(e)}}(e,o.html),r.blur(),r.disabled=!1,(0,Z.m$)(r,""),r.focus()}),ev(".js-project-column-card .js-comment-update",async function(e,t,n){let o;let r=e.closest(".js-task-list-container"),s=e.closest(".js-project-column-card"),l=e.getAttribute("data-note-version");n.headers.set("X-Note-Version",l);try{o=await t.json()}catch(e){if((o=e.response)&&422===o.status&&o.json.stale){v(o.json.message),eF(r),(0,ef.le)(s);return}throw e}e.setAttribute("data-note-version",o.json.note_version);let i=o.json.note;r.querySelector(".js-task-list-field").value=i,s.querySelector(".js-edit-note-template").content.querySelector(".js-edit-note-input").textContent=i,eF(r)});let eK=(0,h.s)(function(){U(),K()},1);async function eN(e){let t=document.querySelector(".js-project-column-automation");if(!t)return;let n=t.closest(".js-column-settings-form"),o=t.querySelector(".js-project-automation-options"),r=n.querySelector(".js-project-autmoation-loader"),s=n.querySelector(".js-column-purpose-details"),l=e||t.getAttribute("data-src");function i(e){s.hidden=e,r.hidden=!e}o.src=encodeURI(l),o.addEventListener("loadstart",()=>i(!0)),o.addEventListener("loadend",()=>i(!1))}function eW(e){return e.matches(".js-drag-by-handle")?"position-fixed":void 0}function eO(e){return e.matches(".js-drag-by-handle")?".js-project-dragger":void 0}function eG(){let e;if(document.location.hash.startsWith("#column-")&&(e=document.getElementById(document.location.hash.substr(1))),e||(e=document.querySelector(".js-project-column")),e){let t=e.getAttribute("data-id");t&&(eX(t),ez())}}function eV(e){if(!document.querySelector(".js-project-page-mobile"))return;let t=document.createElement("a");t.href=encodeURI(`#column-${e}`),(0,A.g5)(null,"",t.href)}function eX(e){for(let t of document.querySelectorAll(".js-project-column"))t.classList.toggle("hide-sm",e!==t.getAttribute("data-id")),e===t.getAttribute("data-id")?t.setAttribute("data-active-column",""):t.removeAttribute("data-active-column");for(let t of document.querySelectorAll(".js-project-column-navigation-item"))t.classList.toggle("selected",e===t.getAttribute("data-column-id"))}function ez(){let e=document.querySelector(".js-project-column-navigation-item.selected");if(!e)return;let t=e.closest(".js-project-column-nav"),n=e.offsetLeft,o=e.offsetWidth,r=n+o,s=window.innerWidth;(r-t.scrollLeft>s||r<t.scrollLeft)&&(t.scrollLeft=n-s/2+o/2)}function eJ(){let e=document.querySelector(".js-project-issue-body-wrapper"),t=document.querySelector(".js-project-issue-body-container"),n=e.getBoundingClientRect().height,o=t.getBoundingClientRect().height>n;document.querySelector(".js-project-issue-body-blur").classList.toggle("d-none",!o),document.querySelector(".js-project-issue-body-details-target").classList.toggle("d-none",!o)}async function eZ(e,t){let n;let o=document.querySelector(".js-project-card-details-pane");if(!o)return!1;let r=e.getAttribute("href"),s=o.querySelector(".js-project-card-details"),l=e.closest(".js-project-pane"),i=null!=l;if(eD(".js-project-card-details-pane",!0),o.querySelector(".js-project-card-details-header").classList.toggle("d-none",!i),l&&function(e,t){let n=e.querySelector(".js-project-card-details-back-template").content.cloneNode(!0),o=t.getAttribute("data-back-to-label"),r=t.getAttribute("data-back-to-class");n.querySelector(".js-project-card-details-back-to-title").textContent=o,n.querySelector(".js-project-card-details-back-link").classList.add(r);let s=e.querySelector(".js-project-card-details-back-container");s.textContent="",s.appendChild(n)}(o,l),r===s.getAttribute("data-issue-url")){t&&eQ();return}let c=function(e,t){let n=e.closest(".js-project-issue-details-container"),o=document.querySelector(".js-project-card-details-loader-template").content.cloneNode(!0),r=n.querySelector(".js-issue-octicon").classList.contains("open");o.querySelector(".js-issue-title").textContent=e.textContent,o.querySelector(".js-issue-number").textContent=n.querySelector(".js-issue-number").textContent,o.querySelector(".js-issue-state").textContent=r?"Close":"Reopen";let s=e.getAttribute("data-content-label");for(let e of o.querySelectorAll(".js-issue-type"))e.textContent=s;for(let t of o.querySelectorAll(".js-project-card-details-external-link"))t.setAttribute("href",e.getAttribute("href")||"#"),t.setAttribute("data-ga-click",`Project board, go to ${s}, location:sidebar`);o.querySelector(".js-hide-project-menu").classList.toggle("d-none",t);let l=o.querySelector(".js-issue-repository");l.textContent=e.getAttribute("data-content-repo-label");let i=encodeURI(e.getAttribute("data-content-repo-url")||"#");l.setAttribute("href",i);let c=o.querySelector(".js-project-card-details-loader-octicon");return c.textContent="",c.appendChild(n.querySelector(".js-issue-octicon").cloneNode(!0)),o}(e,i);s.textContent="",s.appendChild(c),s.setAttribute("data-issue-url",r);try{n=await (0,Q.Ts)(document,`${r}/show_from_project`)}catch(t){s.querySelector(".js-project-card-details-error").classList.remove("d-none"),s.querySelector(".js-project-card-details-loader").classList.add("d-none"),s.querySelector(".js-project-card-details-retry").addEventListener("click",function(){s.removeAttribute("data-issue-url"),eZ(e,!1)},{once:!0});return}if(s.getAttribute("data-issue-url")===r){let e=n.querySelector(".js-hide-project-menu");e&&e.classList.toggle("d-none",i),s.textContent="",s.appendChild(n),eJ(),t&&eQ()}}function eQ(){let e=document.querySelector(".js-project-card-details-pane");e&&e.querySelector(".js-project-card-details-external-link").focus()}function eY(e){if("d"!==e.key)return;let t=e.currentTarget.querySelectorAll(".js-project-card-issue-link");1===t.length&&(eZ(t[0],!0),e.preventDefault())}function e0(){let e=document.querySelector(".js-project-create-linked-repo-list"),t=e.querySelector(".js-blankslate"),n=document.querySelector(".js-project-create-linked-repo-search-input-group"),o=document.querySelector(".js-project-create-linked-repo-max"),r=e.querySelectorAll(".js-project-repo-link-badge").length,s=r>=parseInt(o.getAttribute("data-max"),10);n.classList.toggle("d-none",s),o.classList.toggle("d-none",!s),t.classList.toggle("d-none",r>0)}function e1(){let e=document.querySelector(".js-migrate-project-dialog");e instanceof HTMLDialogElement?e.showModal():e&&e.show()}async function e2(){await eg.K;let e=new URLSearchParams(location.search);e.get("migrate")?.toLowerCase()==="confirm"&&(e.delete("migrate"),history.replaceState(null,"",location.pathname),e1())}(0,u.on)("click",".js-card-filter-clear",function(){let e=document.querySelector(".js-card-filter-input");e.value="",(0,u.h)(e,"input")}),(0,u.on)("change",".js-column-purpose-value",function(e){eN(e.currentTarget.getAttribute("data-preset-url"))}),(0,ed.lB)(".project-dialog .js-project-column-automation",function(){eN()}),(0,ed.lB)(".js-project-column-card",{constructor:HTMLElement,add(e){F(e),eK()},remove:eK}),(0,ed.lB)(".js-card-filter-input",{constructor:HTMLInputElement,add(e){e.addEventListener("input",(0,h.s)(N,500)),(0,q.Up)(e,function(){V(e)})}}),(0,u.on)("focusin",".js-card-filter-input",function(e){e.currentTarget instanceof HTMLInputElement&&V(e.currentTarget)}),(0,u.on)("focusout:delay",".js-card-filter-input",function(){J()}),(0,u.on)("click",".js-card-filter-suggestion",function(){document.querySelector(".js-card-filter-input").focus()}),(0,u.on)("click",".js-card-filter",function(e){let t=e.currentTarget.getAttribute("data-card-filter");t&&function(e){let t=document.querySelector(".js-card-filter-input"),n=t.value,o=e,r=!0;n.indexOf(o)>=0?(r=!1,o=n.replace(o,"")):n.length&&(o=`${n.trim()} ${o}`),t.value=o,function(e,t){for(let n of document.querySelectorAll(".js-card-filter[data-card-filter]"))n.getAttribute("data-card-filter")===t&&n.setAttribute("aria-pressed",e.toString())}(r,e),N()}(t)}),(0,u.on)("navigation:keydown",".js-card-filter-suggester",function(e){switch((0,ec.Vy)(e.detail.originalEvent)){case"Escape":e.preventDefault(),J();break;case"ArrowLeft":case"ArrowRight":case"Enter":J()}}),(0,u.on)("navigation:open",".js-card-filter-suggester",function(e){let t=document.querySelector(".js-card-filter-input");if(t instanceof HTMLInputElement){let n=document.querySelector(".js-card-filter-suggester"),o=e.target.getAttribute("data-value"),r=t.value.slice(0,t.selectionEnd).replace(/\S+$/,""),s=t.value.slice(t.selectionEnd);n.classList.contains("d-none")||(e.preventDefault(),t.value=r+o+s,(0,u.h)(t,"input"),V(t)),J()}}),(0,ed.lB)(".js-project-columns-container",{subscribe:e=>(0,ea.Rt)(e,"socket:message",async function(e){let t=e.detail.data;if(l!==t.client_uid){let n=e.currentTarget;ex(),eT(),await (0,ej.A)(),L(n,t)}else"column_automation_updated"===t.action&&null!=t.state&&function(e){for(let t of e.columns){let e=document.getElementById(`column-${t.id}`);e&&y(t,e)}}(t.state)})}),document.addEventListener("socket:message",function(e){let{data:t,name:n}=e.detail;if(t.locked&&function(){let e=document.querySelector(".js-project-lock-container");if(!e)return;let t=e.querySelector(".Popover"),n=t.classList.contains("d-none");if(t.classList.toggle("d-none",!0),!n){let t=document.activeElement;if(e.contains(t)){let e=document.querySelector(".js-project-header");e&&e.focus()}}}(),t.is_project_activity){let e=document.querySelector(".js-project-activity-pane");e?.classList.add("Details--on")}if(n.startsWith("projects:metadata:")&&(document.title=t.name,t.project_migration)){let e=document.querySelector(".js-migrate-menu-item");e&&(e.textContent=t.project_migration.message,e.setAttribute("disabled","disabled"))}},{capture:!0}),(0,ed.lB)(".js-project-columns-drag-container",{constructor:HTMLElement,async add(e){let{Sortable:t}=await Promise.all([n.e("vendors-node_modules_github_sortablejs_Sortable_js"),n.e("app_assets_modules_github_sortable-behavior_ts")]).then(n.bind(n,9407));t.create(e,{animation:150,draggable:".js-project-column",filter:".js-note-text, .js-redacted-project-column-card",preventOnFilter:!1,fallbackClass:eW(e),handle:eO(e),handleReplacedDragElement:!0,group:{name:"project-column",put:!1,pull:!1},onMove:eE,onUpdate:e_})}}),(0,ed.lB)(".js-card-drag-container",{constructor:HTMLElement,async add(e){let{Sortable:t}=await Promise.all([n.e("vendors-node_modules_github_sortablejs_Sortable_js"),n.e("app_assets_modules_github_sortable-behavior_ts")]).then(n.bind(n,9407));t.create(e,{animation:150,draggable:".js-project-column-card",filter:".js-redacted-project-column-card",preventOnFilter:!1,fallbackClass:eW(e),fallbackOnBody:e.matches(".js-drag-by-handle"),handle:eO(e),handleReplacedDragElement:!0,group:"project-card",onAdd:eq,onUpdate:eq})}}),(0,ed.lB)(".js-project-search-results-drag-container",{constructor:HTMLElement,async add(e){let{Sortable:t}=await Promise.all([n.e("vendors-node_modules_github_sortablejs_Sortable_js"),n.e("app_assets_modules_github_sortable-behavior_ts")]).then(n.bind(n,9407));t.create(e,{sort:!1,animation:150,draggable:".js-project-column-card",fallbackClass:eW(e),fallbackOnBody:e.matches(".js-drag-by-handle"),handle:eO(e),group:{name:"project-card",put:!1,pull:!0},onAdd:eq,onUpdate:eq})}}),(0,ed.lB)(".js-project-column-card",function(e){if(e.getAttribute("data-card-id")){let t=e.getAttribute("data-content-type"),n=e.getAttribute("data-content-id"),o=document.getElementById(`card-${t}-${n}`);o&&o.remove()}}),(0,ed.lB)(".js-client-uid-field",{constructor:HTMLInputElement,add(e){e.value=l}}),(0,ed.lB)(".js-project-column[data-active-column]",{remove(){document.querySelector(".js-project-column[data-active-column]")||eG()}}),(0,u.on)("click",".js-project-column-navigation-item",function(e){e.preventDefault();let t=e.currentTarget.getAttribute("data-column-id");eX(t),eV(t)}),(0,u.on)("click",".js-open-active-column-dialog",function(e){let t=document.querySelector(".js-project-column[data-active-column]");if(t){let n=t.getAttribute("data-id"),o=e.currentTarget.getAttribute("data-dialog-prefix");eb(`${o}-${n}`)}}),(0,u.on)("click",".js-toggle-project-edit-mode",function(e){e.currentTarget.classList.toggle("selected"),document.body.classList.toggle("project-edit-mode")}),(0,u.on)("click",".js-move-card-to-column-button",function(e){let t=e.currentTarget.getAttribute("data-card-id"),n=e.currentTarget.getAttribute("data-content-id"),o=e.currentTarget.getAttribute("data-content-type"),r=e.currentTarget.getAttribute("data-column-id"),s=e$(t,n,o),l=document.querySelector(`.js-project-column[data-id="${r}"] .js-project-column-cards`);if(s&&l){e.currentTarget.hasAttribute("data-change-active-column")&&(eX(r),eV(r),ez());let t=s.closest(".js-project-column");l.prepend(s),eL(s,t)}}),(0,u.on)("click",".js-add-note-button",function(e){e.preventDefault();let t=document.querySelector(".js-project-column[data-active-column] .js-add-note-container .js-details-target");t&&(0,d.kn)(t)}),(0,u.on)("click",".js-project-lock-info-button, .js-close-project-lock-popover",function(){let e=document.querySelector(".js-project-lock-container .Popover"),t=e.classList.contains("d-none");e.classList.toggle("d-none",!t)}),(0,w.ZV)(function(e){e.matches(".js-project-card-details-pane .js-comment .js-comment-update")&&eJ()}),(0,u.on)("click",".js-hide-project-card-details",function(){let e=document.querySelector(".js-project-card-details");e.removeAttribute("data-issue-url"),e.textContent=""}),(0,Y.uE)(".js-project-column-card",function(e){e.addEventListener("keydown",eY),e.addEventListener("blur",function(){e.removeEventListener("keydown",eY)},{once:!0})}),(0,u.on)("click",".js-project-card-issue-link",function(e){e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||0!==e.button||(eZ(e.currentTarget,!1),e.preventDefault())}),ev(".js-project-card-issue-details-title",async function(e,t){let n=e.closest(".js-details-container"),o=await t.json();for(let t of((0,d.kn)(n),null!=o.json.issue_title&&(n.querySelector(".js-issue-title").textContent=o.json.issue_title),e.elements))(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(t.defaultValue=t.value)}),(0,u.on)("auto-complete-change",".js-project-create-repo-link-auto-complete",function(e){let t=e.target,n=t.querySelector(`.js-project-repo-link-badge[data-repo-name="${t.value}"]`);if(!n)return;let o=document.querySelector(".js-project-create-linked-repo-list"),r=n.querySelector(".js-repo-id"),s=!1;for(let e of o.querySelectorAll(".js-repo-id"))if(e.value===r.value){s=!0;break}s||(r.disabled=!1,o.append(n),n.classList.remove("d-none")),t.value="",e0()}),(0,u.on)("click",".js-remove-project-repo-link",function(e){e.target.closest(".js-project-repo-link-badge").remove(),e0()}),(0,Y.Ff)("keydown",".js-project-create-linked-repo-search",function(e){"Enter"===e.key&&e.preventDefault()}),(0,u.on)("click",".js-project-dialog-button",function({currentTarget:e}){let t=e.getAttribute("data-dialog-id");if("migrate-project"===t){e1();return}eb(t,e)}),(0,u.on)("click",".js-project-migrate-banner-button",function({currentTarget:e}){"migrate-project"===e.getAttribute("data-dialog-id")&&e1()}),(0,u.on)("click",".js-project-card-closing-issue-summary",function({currentTarget:e}){e.closest(".js-project-column-card").focus()}),(0,u.on)("click",".js-project-active-column-dialog-button",async function({currentTarget:e}){let t=e.getAttribute("data-dialog-id");!function(e,t){let n=e.querySelector(".js-move-card-to-column-dialog-body"),o=t.closest(".js-project-column-card"),r=o.closest(".js-project-column"),s=r&&r.getAttribute("data-id"),l=document.querySelector("#move-card-to-column-button-template"),i=e.querySelector(".js-move-card-to-column-title");for(let e of(i.textContent=o.closest(".js-project-archived-cards-pane")?i.getAttribute("data-restore-title"):i.getAttribute("data-move-title"),n.textContent="",document.querySelectorAll(".js-project-column-navigation-item"))){let r=e.getAttribute("data-column-id"),i=l.content.cloneNode(!0).querySelector(".js-move-card-to-column-button");i.setAttribute("data-card-id",o.getAttribute("data-card-id")),i.setAttribute("data-content-id",o.getAttribute("data-content-id")),i.setAttribute("data-content-type",o.getAttribute("data-content-type")),i.setAttribute("data-column-id",r),t.hasAttribute("data-change-active-column")&&i.setAttribute("data-change-active-column",""),i.textContent=e.getAttribute("data-column-name"),i.disabled=null!=s&&r===s,n.appendChild(i)}}(await eb(t,e),e)}),(0,u.on)("details-menu-select",".js-project-change-state-sync-menu",function(e){let t=e.detail.relatedTarget,n=t.closest(".js-project-change-state-sync-menu-parent"),o=t.querySelector("[data-menu-button-text]").textContent.trim();n.querySelector(".js-project-change-state-sync-menu-button").textContent=o},{capture:!0}),(0,u.on)("click",".js-project-card-closing-issue-summary",function({currentTarget:e}){let t=!1===e.closest(".Details-element").hasAttribute("open"),n=e.getAttribute(t?"data-linked-pr-hmac-expanded":"data-linked-pr-hmac-collapsed")||"",o=e.getAttribute(t?"data-linked-pr-expanded":"data-linked-pr-collapsed")||"";(0,ep.i)({hydroEventPayload:o,hydroEventHmac:n,hydroClientContext:""},!0)}),function(e,t){let n,o;function r(t){if(n)return;let o=t.currentTarget;if((0,et.$$)(t))switch(eo(t.key)){case"confirm":case"Space":if(o.classList.contains("js-redacted-project-column-card")||!o.classList.contains("js-keyboard-movable"))return;n=new es(o,e,function(){n=null}),t.preventDefault();break;case"up":{let e=o.previousElementSibling;if(e&&e.classList.contains("js-project-column-card"))e.focus(),t.preventDefault();else{let e=o.closest(".js-project-column");e instanceof HTMLElement&&(e.focus(),t.preventDefault())}break}case"down":{let e=o.nextElementSibling;e&&e.classList.contains("js-project-column-card")&&(e.focus(),t.preventDefault())}}}function s(e){if(o||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)return;let n=e.currentTarget;switch(eo(e.key)){case"confirm":case"Space":if(!n.classList.contains("js-keyboard-movable"))return;o=new el(n,t,function(){o=null}),e.preventDefault();break;case"down":{let t=n.querySelector(".js-project-column-card");t&&(t.focus(),e.preventDefault());break}case"left":{let t=n.previousElementSibling;t&&t.classList.contains("js-project-column")&&(t.focus(),e.preventDefault());break}case"right":{let t=n.nextElementSibling;t&&t.classList.contains("js-project-column")&&(t.focus(),e.preventDefault())}}}(0,Y.uE)(".js-project-column-card",function(e){if(n){if(n.isMoving(e))return;n.cancel()}e.addEventListener("keydown",r),e.addEventListener("blur",function t(){n&&n.isMoving(e)||(e.removeEventListener("blur",t),e.removeEventListener("keydown",r))})}),(0,Y.uE)(".js-project-column",function(e){if(o){if(o.isMoving(e))return;o.cancel()}e.addEventListener("keydown",s),e.addEventListener("blur",function t(){o&&o.isMoving(e)||(e.removeEventListener("blur",t),e.removeEventListener("keydown",s))})})}(eL,ek),eG(),e2()},70908:(e,t,n)=>{function o(){return Promise.resolve()}function r(){return new Promise(window.requestAnimationFrame)}async function s(e,t){let n;let o=new Promise(t=>{n=self.setTimeout(t,e)});if(!t)return o;try{var r;await Promise.race([o,(r=t,new Promise((e,t)=>{let n=Error("aborted");n.name="AbortError",r.aborted?t(n):r.addEventListener("abort",()=>t(n))}))])}catch(e){throw self.clearTimeout(n),e}}function l(e){let t=[];return function(n){t.push(n),1===t.length&&queueMicrotask(()=>{let n=t.slice(0);t.length=0,e(n)})}}n.d(t,{G$:()=>r,k2:()=>o,rK:()=>l,uk:()=>s})}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_morphdom_dist_morphdom-e-7c534c","vendors-node_modules_scroll-anchoring_dist_scroll-anchoring_esm_js-node_modules_github_hotkey-1a1d91","vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-308e63","ui_packages_updatable-content_updatable-content_ts","app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_sso_ts-ui_packages-e1ce06"],()=>t(14229)),e.O()}]);
//# sourceMappingURL=projects-6ffad58ef9ee.js.map