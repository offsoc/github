{"version":3,"file":"stafftools-xxxxxxxxxxxx.js","mappings":"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AAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,KACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,IACN,OAAM,IACN,SAAM,IACN,OAAM,GACX,EAEMC,EAA0B,CAC3B,IAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,IACN,EAAM,GACX,EAEMC,EAAoB,CACtB,IAAK,QACL,IAAK,MACT,EACA,SAASC,EAAoBzX,CAAK,CAAE0X,EAAWC,UAAUD,QAAQ,EAC7D,IAAIE,EAAIC,EAAIC,EACZ,GAAM,CAAEC,QAAAA,CAAO,CAAEC,OAAAA,CAAM,CAAEC,QAAAA,CAAO,CAAEC,SAAAA,CAAQ,CAAEpQ,IAAAA,CAAG,CAAE,CAAG9H,EAC9CmY,EAAe,EAAE,CAEvB,IAAK,GAAM,CAACjB,EAAGkB,EAAI,EAAIC,CADJN,EAASC,EAAQC,EAASC,EAAS,CACrBI,OAAO,GAChCF,GACAD,EAAapJ,IAAI,CAACwJ,CAAgB,CAACrB,EAAE,EAE7C,GAAI,CAACqB,EAAiB9J,QAAQ,CAAC3G,GAAM,CACjC,IAAM0Q,EAAmBL,EAAa1J,QAAQ,CAAC,QAAUgK,EAAmBnY,IAAI,CAACoX,IAAY,OAACE,CAAAA,EAAKN,CAAoB,CAACxP,EAAI,GAAc8P,KAAY,IAAZA,EAAgBA,EAAK9P,EACzJ4Q,EAAqBP,EAAa1J,QAAQ,CAAC,UAAYgK,EAAmBnY,IAAI,CAACoX,IAC/E,OAACG,CAAAA,EAAKN,CAAuB,CAACiB,EAAiB,GAAcX,KAAY,IAAZA,EAAgBA,EAAKW,EAElFG,EAAe,OAACb,CAAAA,EAAKN,CAAiB,CAACkB,EAAmB,GAAcZ,KAAY,IAAZA,EAAgBA,EAAKY,EACnGP,EAAapJ,IAAI,CAAC4J,EACtB,CACA,OAAOR,EAAa9Q,IAAI,CAAC,IAC7B,CACA,IAAMkR,EAAmB,CAAC,UAAW,MAAO,OAAQ,QAAQ,CAC5D,SAASK,EAAgBpD,CAAM,CAAEkC,CAAQ,EAIrC,OADSmB,SAWUrD,CAAM,EACzB,IAAM1N,EAAM0N,EAAOhN,KAAK,CAAC,KAAKsQ,GAAG,GAC3BT,EAAY,EAAE,CACpB,IAAK,IAAMU,IAAY,CAAC,UAAW,MAAO,OAAQ,QAAQ,CAClDvD,EAAO/G,QAAQ,CAACsK,IAChBV,EAAUtJ,IAAI,CAACgK,GAKvB,OAFIjR,GACAuQ,EAAUtJ,IAAI,CAACjH,GACZuQ,EAAUhR,IAAI,CAAC,IAC1B,EAvBa2R,SAKQxD,CAAM,CAAEkC,CAAQ,EACjC,IAAIE,EACJ,IAAMqB,EAAgB,oBAAO7U,OAAyB8U,KAAAA,EAAY9U,OAE5D+U,EAAgBV,EAAmBnY,IAAI,CADxB,OAACsX,CAAAA,EAAKF,MAAAA,EAA2CA,EAAWuB,MAAAA,EAAqD,KAAK,EAAIA,EAActB,SAAS,CAACD,QAAQ,GAAcE,KAAY,IAAZA,EAAgBA,EAAK,IACpJ,OAAS,UACvE,OAAOpC,EAAOvQ,OAAO,CAAC,MAAOkU,EACjC,EAXyB3D,EAAQkC,GAGjC,CACA,IAAMe,EAAqB,wBAsB3B,0BAAMW,gBACFzI,YAAY,CAAE0I,QAAAA,CAAO,CAAE,CAAG,CAAC,CAAC,CAAE,CAC1B,IAAI,CAACC,KAAK,CAAG,EAAE,CACf,IAAI,CAACC,KAAK,CAAG,KACb,IAAI,CAACF,OAAO,CAAGA,CACnB,CACA,IAAIG,MAAO,CACP,OAAO,IAAI,CAACF,KAAK,CAErB,IAAIG,UAAW,CACX,OAAO,IAAI,CAACH,KAAK,CAACjS,IAAI,CAXH,IAYvB,CACAqS,iBAAiB1Z,CAAK,CAAE,CACpB,IAAI,CAACsZ,KAAK,CAAG,IAAI,IAAI,CAACA,KAAK,CAAE7B,EAAoBzX,GAAO,CACxD,IAAI,CAAC2Z,UAAU,EACnB,CACAC,OAAQ,CACJ,IAAIhC,EACJ,IAAI,CAACiC,SAAS,GACd,IAAI,CAACP,KAAK,CAAG,EAAE,CACf,OAAC1B,CAAAA,EAAK,IAAI,CAACyB,OAAO,GAAczB,KAAY,IAAZA,GAAyBA,EAAGkC,IAAI,CAAC,IAAI,CACzE,CACAD,WAAY,CACU,MAAd,IAAI,CAACN,KAAK,EACVnV,OAAO2V,YAAY,CAAC,IAAI,CAACR,KAAK,EAElC,IAAI,CAACA,KAAK,CAAG,IACjB,CACAI,YAAa,CACT,IAAI,CAACE,SAAS,GACd,IAAI,CAACN,KAAK,CAAGnV,OAAO5D,UAAU,CAAC,IAAM,IAAI,CAACoZ,KAAK,GAAIR,gBAAgBY,aAAa,CACpF,CACJ,EAEA,SAASC,EAAkBR,CAAQ,EAC/B,OAAOA,EACFjR,KAAK,CArCa,KAsClBrB,GAAG,CAAC+S,GAAKtB,EAAgBsB,IACzB7S,IAAI,CAvCc,IAwC3B,CAEA,SAAS8S,EAAYjF,CAAO,EACxB,GAAI,CAAEA,CAAAA,aAAmB9J,WAAU,EAC/B,MAAO,GAEX,IAAMtG,EAAOoQ,EAAQkF,QAAQ,CAACpV,WAAW,GACnCpC,EAAO,CAACsS,EAAQ5M,YAAY,CAAC,SAAW,EAAC,EAAGtD,WAAW,GAC7D,MAAQF,WAAAA,GACJA,aAAAA,GACCA,UAAAA,GACGlC,WAAAA,GACAA,UAAAA,GACAA,aAAAA,GACAA,UAAAA,GACAA,SAAAA,GACJsS,EAAQmF,iBAAiB,CAtBjCjB,gBAAgBY,aAAa,CAAG,KAgEhC,IAAMM,EAAkB,IAAIzD,UACtB0D,EAAiB,IAAIC,QACvBC,EAAsBH,EACpBI,EAAkB,IAAItB,gBAAgB,CACxCC,UACIoB,EAAsBH,CAC1B,CACJ,GACA,SAASK,EAAe3a,CAAK,EACzB,GAAIA,EAAMS,gBAAgB,EAEtB,CAAET,CAAAA,EAAMK,MAAM,YAAYua,IAAG,EAD7B,OAGJ,GAAIT,EAAYna,EAAMK,MAAM,EAAG,CAC3B,IAAMA,EAASL,EAAMK,MAAM,CAC3B,GAAI,CAACA,EAAOgV,EAAE,EAEV,CAAChV,EAAOwa,aAAa,CAACja,aAAa,CAAC,CAAC,oBAAoB,EAAEP,EAAOgV,EAAE,CAAC,EAAE,CAAC,EADxE,MAGR,CACA,IAAMyF,EAAkBL,EAAoB7S,GAAG,CAAC6P,EAAoBzX,IACpE,GAAI,CAAC8a,EAAiB,CAClBJ,EAAgBd,KAAK,GACrB,MACJ,CAGA,GAFAc,EAAgBhB,gBAAgB,CAAC1Z,GACjCya,EAAsBK,EAClBA,aAA2BvE,KAAM,KAG7BwE,EAFJ,IAAM1a,EAASL,EAAMK,MAAM,CACvB2a,EAAa,GAEXC,EAAYd,EAAY9Z,GAC9B,IAAK,IAAI6W,EAAI4D,EAAgB1X,QAAQ,CAACkE,MAAM,CAAG,EAAG4P,GAAK,EAAGA,GAAK,EAAG,CAE9D,IAAMgE,EAAQH,CADdA,EAAgBD,EAAgB1X,QAAQ,CAAC8T,EAAE,EACf5O,YAAY,CAAC,qBACzC,GAAI,CAAE2S,GAAa,CAACC,GAAWD,GAAa5a,EAAOgV,EAAE,GAAK6F,EAAQ,CAC9DF,EAAa,GACb,KACJ,CACJ,CACID,GAAiBC,IACjBG,SAjFkBzZ,CAAE,CAAE8X,CAAI,EAClC,IAAM4B,EAAgB,IAAIC,YAAY,cAAe,CAAEC,WAAY,GAAMnb,OAAQ,CAAEqZ,KAAAA,CAAK,CAAE,GACvE9X,EAAG6Z,aAAa,CAACH,KAGhCjB,EAAYzY,GACZA,EAAG2L,KAAK,GAGR3L,EAAG8Z,KAAK,GAEhB,EAsEiCT,EAAeL,EAAgBlB,IAAI,EACxDxZ,EAAMa,cAAc,IAExB6Z,EAAgBd,KAAK,EACzB,CACJ,CACA,SAAS6B,EAAQvG,CAAO,CAAEM,CAAM,EACyB,IAAjD4B,OAAOC,IAAI,CAACiD,EAAgBlX,QAAQ,EAAEkE,MAAM,EAC5C3H,SAAS2J,gBAAgB,CAAC,UAAWqR,GAGzC,IAAMe,EAASC,CAhFnB,SAA6BnG,CAAM,EAC/B,IAAMoG,EAAS,EAAE,CACbrV,EAAM,CAAC,GAAG,CACVsV,EAAmB,GACvB,IAAK,IAAI3E,EAAI,EAAGA,EAAI1B,EAAOlO,MAAM,CAAE4P,IAAK,CACpC,GAAI2E,GAAoBrG,MAAAA,CAAM,CAAC0B,EAAE,CAAU,CACvC0E,EAAO7M,IAAI,CAACxI,GACZA,EAAM,CAAC,GAAG,CACVsV,EAAmB,GACnB,QACJ,CACA,GAAIrG,MAAAA,CAAM,CAAC0B,EAAE,CAAyB,CAClC3Q,EAAIwI,IAAI,CAAC,IACT8M,EAAmB,GACnB,QACJ,CAEIA,EADKrG,MAAAA,CAAM,CAAC0B,EAAE,CAMlB3Q,CAAG,CAACA,EAAIe,MAAM,CAAG,EAAE,EAAIkO,CAAM,CAAC0B,EAAE,CAGpC,OADA0E,EAAO7M,IAAI,CAACxI,GACLqV,EAAOzU,GAAG,CAAC+S,GAAKA,EAAE/S,GAAG,CAAC2U,GAAKlD,EAAgBkD,IAAIrT,MAAM,CAACqT,GAAKA,KAAAA,IAAWrT,MAAM,CAACyR,GAAKA,EAAE5S,MAAM,CAAG,EACxG,GAqDwCkO,GAAUN,EAAQ5M,YAAY,CAAC,gBAAkB,IAC9DnB,GAAG,CAAC+S,GAAKI,EAAgBvD,MAAM,CAACmD,GAAG7Q,GAAG,CAAC6L,IAC9DqF,EAAewB,GAAG,CAAC7G,EAASwG,EAChC,CACA,SAASM,EAAU9G,CAAO,EACtB,IAAMwG,EAASnB,EAAe3S,GAAG,CAACsN,GAClC,GAAIwG,GAAUA,EAAOpU,MAAM,CACvB,IAAK,IAAM2U,KAAQP,EACfO,GAAQA,EAAKxF,MAAM,CAACvB,EAGyB,KAAjDkC,OAAOC,IAAI,CAACiD,EAAgBlX,QAAQ,EAAEkE,MAAM,EAC5C3H,SAASwW,mBAAmB,CAAC,UAAWwE,EAEhD,C","sources":["app/assets/modules/github/behaviors/ajax-error.ts","app/assets/modules/github/businesses/dormant-users-reports.ts","app/assets/modules/github/businesses/license-consumption.ts","app/assets/modules/github/businesses/members.ts","app/assets/modules/github/businesses/slug.ts","app/assets/modules/github/orgs/async-export.ts","app/assets/modules/github/search/advanced.ts","app/assets/modules/github/staff/advanced-security-state.ts","app/assets/modules/github/staff/stafftools.ts","app/assets/modules/github/staff/poll-synchronous-payment-element.ts","app/assets/modules/github/staff/businesses.ts","app/assets/modules/github/staff/indexing.ts","app/assets/modules/github/staff/repository-purgatory.ts","app/assets/modules/github/staff/ldap.ts","app/assets/modules/github/staff/reports.ts","app/assets/modules/github/staff/stafftools-seats.ts","app/assets/modules/github/staff/two-factor-recovery-modal.ts","app/assets/modules/github/staff/disable-repo-access.ts","app/assets/modules/github/staff/bulk-privatizations.ts","app/assets/modules/github/staff/sponsors.ts","app/assets/modules/github/staff/copilot.ts","app/assets/modules/github/staff/bulk-retired-namespaces.ts","ui/packages/hotkey/hotkey.ts","ui/packages/subscription/subscription.ts","node_modules/@github/hotkey/dist/index.js"],"sourcesContent":["// Global handler for uncaught AJAX errors.\n//\n// Only enabled by default on new style `data-remote` requests.\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nexport function showGlobalError() {\n  const ajaxErrorMessage = document.getElementById('ajax-error-message')\n  if (ajaxErrorMessage) {\n    ajaxErrorMessage.hidden = false\n  }\n}\n\nexport function hideGlobalError() {\n  const ajaxErrorMessage = document.getElementById('ajax-error-message')\n  if (ajaxErrorMessage) {\n    ajaxErrorMessage.hidden = true\n  }\n}\n\non('deprecatedAjaxError', '[data-remote]', function (event) {\n  const detail = (event as CustomEvent).detail\n  const {error, text} = detail\n\n  if (event.currentTarget !== event.target) {\n    return\n  }\n  if (error === 'abort' || error === 'canceled') {\n    return\n  }\n\n  if (/<html/.test(text)) {\n    showGlobalError()\n    event.stopImmediatePropagation()\n  } else {\n    setTimeout(function () {\n      if (event.defaultPrevented) {\n        return\n      }\n      showGlobalError()\n    }, 0)\n  }\n})\n\n// Clear any errors when the request is tried again\non('deprecatedAjaxSend', '[data-remote]', function () {\n  hideGlobalError()\n})\n\n// \"Dismiss\" button\non('click', '.js-ajax-error-dismiss', function () {\n  hideGlobalError()\n})\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {fromEvent} from '@github-ui/subscription'\n\non('submit', '.js-dormant-users-reports-form', async event => {\n  const form = event.currentTarget as HTMLFormElement\n  const errorFlash = form.querySelector<HTMLElement>('.js-dormant-users-reports-error')!\n  errorFlash.hidden = true\n\n  event.preventDefault()\n\n  try {\n    const response = await fetchSafeDocumentFragment(document, form.action, {\n      method: form.method,\n      body: new FormData(form),\n    })\n\n    form.replaceWith(response)\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.message.startsWith('HTTP 422')) {\n      // eslint-disable-next-line i18n-text/no-en\n      errorFlash.textContent = 'Only one report can be in progress at a time.'\n    } else {\n      // eslint-disable-next-line i18n-text/no-en\n      errorFlash.textContent = 'Something went wrong when creating your new report.'\n    }\n    errorFlash.hidden = false\n  }\n})\n\nobserve('.js-in-progress-report-status-container', {\n  subscribe: el =>\n    fromEvent(el, 'socket:message', async function (event: Event) {\n      const data = (event as CustomEvent).detail.data\n      const div = event.currentTarget as HTMLDivElement\n      const statusSpan = div.querySelector<HTMLElement>('.js-progress-status')!\n      statusSpan.textContent = `in progress… ${data.status} users`\n    }),\n})\n","import {remoteForm, type Kicker} from '@github/remote-form'\nimport {showGlobalError} from '../behaviors/ajax-error'\nimport {TemplateInstance} from '@github/template-parts'\n\nfunction fetchPoll(url: string, pollIntervalMs: number) {\n  return new Promise((resolve, reject) => {\n    setTimeout(async () => {\n      const request = new Request(url)\n      request.headers.append('X-Requested-With', 'XMLHttpRequest')\n      const response = await fetch(request)\n      if (response.status === 200) {\n        // Resource is ready.\n        resolve(response)\n      } else if (response.status === 202) {\n        // Resource isn't ready so we're gonna retry.\n        resolve(fetchPoll(url, pollIntervalMs))\n      } else {\n        // Something unexpected happened.\n        reject(response)\n      }\n    }, pollIntervalMs) // Poll the endpoint every intervalMs\n  })\n}\n\n/**\n * Create a new flash element and inject it into the dom,\n * since server-side flashes only populate after navigation\n */\nfunction flashMessage(message: string, type = 'notice') {\n  const template = new TemplateInstance(document.querySelector<HTMLTemplateElement>('.js-flash-template')!, {\n    className: `flash-${type}`,\n    message,\n  })\n  const node = document.importNode(template, true)\n  const flashContainer = document.querySelector<HTMLElement>('#js-flash-container')!\n  for (const child of flashContainer.children) {\n    if (!child.classList.contains('js-flash-template')) {\n      flashContainer.removeChild(child)\n    }\n  }\n  flashContainer.appendChild(node)\n}\n\nasync function generateConsumption(loadingClass: string, btnClass: string, wants: Kicker, pollIntervalMs: number) {\n  const loadingState = document.querySelector<HTMLElement>(loadingClass)!\n  const btn = document.querySelector<HTMLElement>(btnClass)!\n  const warning = document.getElementById('truncate-warning')!\n\n  // Show/hide loading state. Set to `true` to hide btn and show loading state.\n  function loading(toggle: boolean) {\n    if (btn) {\n      btn.hidden = toggle\n    }\n    loadingState.hidden = !toggle\n  }\n\n  loading(true)\n  if (warning != null) {\n    warning.hidden = true\n  }\n\n  let response\n  try {\n    response = await wants.json()\n  } catch (error) {\n    loading(false)\n    showGlobalError()\n    return\n  }\n\n  const data = response.json\n\n  if (data.notify) {\n    // Show message but don't stop polling. The file will eventually download if the user doesn't leave the page.\n    flashMessage(data.notify)\n  }\n\n  try {\n    await fetchPoll(data.job_url, pollIntervalMs)\n  } catch (error) {\n    loading(false)\n    showGlobalError()\n    return\n  }\n\n  loading(false)\n  window.location = data.export_url\n}\n\nremoteForm('.js-license-usage-download-form', async function (form, wants) {\n  await generateConsumption('.js-license-usage-generating', '.js-license-usage-download-btn', wants, 2000)\n})\n","import {remoteForm, type Kicker} from '@github/remote-form'\nimport {showGlobalError} from '../behaviors/ajax-error'\nimport {TemplateInstance} from '@github/template-parts'\n\nfunction fetchPoll(url: string, pollIntervalMs: number) {\n  return new Promise((resolve, reject) => {\n    setTimeout(async () => {\n      const request = new Request(url)\n      request.headers.append('X-Requested-With', 'XMLHttpRequest')\n      const response = await fetch(request)\n      if (response.status === 200) {\n        // Resource is ready.\n        resolve(response)\n      } else if (response.status === 202) {\n        // Resource isn't ready so we're gonna retry.\n        resolve(fetchPoll(url, pollIntervalMs))\n      } else {\n        // Something unexpected happened.\n        reject(response)\n      }\n    }, pollIntervalMs) // Poll the endpoint every intervalMs\n  })\n}\n\n/**\n * Create a new flash element and inject it into the dom,\n * since server-side flashes only populate after navigation\n */\nfunction flashMessage(message: string, type = 'notice') {\n  const template = new TemplateInstance(document.querySelector<HTMLTemplateElement>('.js-flash-template')!, {\n    className: `flash-${type}`,\n    message,\n  })\n  const node = document.importNode(template, true)\n  const flashContainer = document.querySelector<HTMLElement>('#js-flash-container')!\n  for (const child of flashContainer.children) {\n    if (!child.classList.contains('js-flash-template')) {\n      flashContainer.removeChild(child)\n    }\n  }\n  flashContainer.appendChild(node)\n}\n\nasync function generateMembers(loadingClass: string, btnClass: string, wants: Kicker, pollIntervalMs: number) {\n  const loadingState = document.querySelector<HTMLElement>(loadingClass)!\n  const btn = document.querySelector<HTMLElement>(btnClass)!\n\n  // Show/hide loading state. Set to `true` to hide btn and show loading state.\n  function loading(toggle: boolean) {\n    if (btn) {\n      btn.hidden = toggle\n    }\n    loadingState.hidden = !toggle\n  }\n\n  loading(true)\n\n  let response\n  try {\n    response = await wants.json()\n  } catch (error) {\n    loading(false)\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.message.startsWith('HTTP 422')) {\n      // eslint-disable-next-line i18n-text/no-en\n      flashMessage('Only one report can be in progress at a time.', 'error')\n    } else {\n      // eslint-disable-next-line i18n-text/no-en\n      flashMessage('Something went wrong when creating your new report.', 'error')\n    }\n    return\n  }\n\n  const data = response.json\n\n  if (data.notify) {\n    // Show message but don't stop polling so the file will eventually download if the user doesn't leave the page.\n    flashMessage(data.notify)\n  }\n\n  try {\n    await fetchPoll(data.job_url, pollIntervalMs)\n  } catch (error) {\n    loading(false)\n    showGlobalError()\n    return\n  }\n\n  loading(false)\n  window.location = data.export_url\n}\n\nremoteForm('.js-members-download-form', async function (form, wants) {\n  await generateMembers('.js-members-generating', '.js-members-download-btn', wants, 2000)\n})\n","import {onInput} from '@github-ui/onfocus'\n// eslint-disable-next-line no-restricted-imports\nimport {fire} from 'delegated-events'\n\nfunction parameterizeName(name: string): string {\n  return name\n    .trim()\n    .toLowerCase()\n    .replace(/[^a-z0-9 -]/g, '') // trim invalid characters\n    .replace(/\\s/g, '-') // convert spaces to hyphens\n}\n\n// auto update the slug input if needed\nonInput('.js-business-name', function (event) {\n  const nameInput = event.target as HTMLInputElement\n\n  const slugInput = document.querySelector('.js-business-slug[data-auto-update=\"true\"]')\n  if (!(slugInput instanceof HTMLInputElement)) return\n\n  slugInput.value = parameterizeName(nameInput.value)\n  fire(slugInput, 'input')\n})\n\nonInput('.js-business-slug', function (event) {\n  const slugInput = event.target as HTMLInputElement\n  const slugValue = slugInput.value\n  const hasEmptySlugValue = slugValue.trim() === ''\n  slugInput.setAttribute('data-auto-update', `${hasEmptySlugValue}`)\n  // sync icon is only used in stafftools\n  const icon = document.querySelector<HTMLElement>('.js-name-slug-sync-icon')\n  if (icon) {\n    if (hasEmptySlugValue) {\n      icon.removeAttribute('hidden')\n    } else {\n      icon.setAttribute('hidden', 'hidden')\n    }\n  }\n})\n","import {fetchPoll} from '@github-ui/fetch-utils'\nimport {remoteForm, type Kicker} from '@github/remote-form'\nimport {showGlobalError} from '../behaviors/ajax-error'\n\n/**\n * When the form submits, sets a loading state and then POSTs to create a new export job. Polls the url from the new job\n * until it's ready, finally redirecting the browser to the finished export results.\n */\nasync function exportEvents(loadingClass: string, menuClass: string, wants: Kicker, pollIntervalMs: number) {\n  const loadingState = document.querySelector<HTMLElement>(loadingClass)!\n  const menu = document.querySelector<HTMLDetailsElement>(menuClass)\n\n  // Show/hide loading state. Set to `true` to hide menu and show loading state.\n  function loading(toggle: boolean) {\n    if (menu) {\n      menu.hidden = toggle\n      menu.open = false\n    }\n    loadingState.hidden = !toggle\n  }\n\n  loading(true)\n\n  let response\n  try {\n    response = await wants.json()\n  } catch (error) {\n    loading(false)\n    showGlobalError()\n    return\n  }\n\n  const data = response.json\n\n  try {\n    await fetchPoll(data.job_url, {}, pollIntervalMs)\n  } catch (error) {\n    loading(false)\n    showGlobalError()\n    return\n  }\n\n  loading(false)\n\n  window.location = data.export_url\n}\n\nremoteForm('.js-organization-members-export-form', async function (form, wants) {\n  await exportEvents('.js-organization-members-exporting', '.js-organization-members-export-menu', wants, 2000)\n})\n","import {onFocus, onInput} from '@github-ui/onfocus'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction searchType(types: {[key: string]: number}): string {\n  const params = new URLSearchParams(window.location.search)\n  let type = params.get('type') || 'Repositories'\n  let max = 0\n  for (const key in types) {\n    if (types[key]! > max) {\n      max = types[key]!\n      type = key\n    }\n  }\n  return type\n}\n\nfunction termToken({prefix, value}: {prefix: string; value: string | string[]}): string {\n  if (prefix === '') {\n    return ''\n  }\n  if (Array.isArray(value)) {\n    const insides = value.map(v => `${prefix}${v}`).join(' OR ')\n    return value.length > 1 ? `(${insides})` : insides\n  } else if (value) {\n    return `${prefix}${value}`\n  }\n  return ''\n}\n\nfunction buildQuery() {\n  const inputs = Array.from(document.querySelectorAll<HTMLInputElement>('input[type=text].js-advanced-search-prefix'))\n  const selects = Array.from(document.querySelectorAll<HTMLSelectElement>('select.js-advanced-search-prefix'))\n  const checkboxes = Array.from(document.querySelectorAll<HTMLInputElement>('.js-advanced-search-prefix:checked'))\n\n  const searchTerms = [...terms(inputs), ...terms(selects), ...terms(checkboxes)]\n\n  const types = searchTerms.reduce(\n    (acc, term) => {\n      if (term.value && term.type) {\n        acc[term.type]!++\n      }\n      return acc\n    },\n    {Repositories: 0, Users: 0, Code: 0, Issues: 0} as Record<string, number>,\n  )\n\n  const tokens = searchTerms.reduce((acc, item) => `${acc} ${termToken(item)}`.trim(), '')\n\n  const keywords = document.querySelector<HTMLInputElement>('.js-advanced-search-input')!.value\n\n  document.querySelector<HTMLInputElement>('.js-type-value')!.value = searchType(types)\n  document.querySelector<HTMLInputElement>('.js-search-query')!.value = `${keywords} ${tokens}`.trim()\n\n  const text = document.querySelector<HTMLElement>('.js-advanced-query')!\n  text.textContent = ''\n  text.textContent = tokens\n\n  const span = document.createElement('span')\n  span.textContent = keywords.trim()\n  text.prepend(span, ' ')\n}\n\nfunction wrap(value: string, globPattern: string | null, regexPattern: string | null): string {\n  value = value.trim()\n  if (value.search(/\\s/g) !== -1) {\n    if (regexPattern) {\n      value = value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      return regexPattern.replace('$0', value)\n    }\n    return `\"${value}\"`\n  }\n  if (globPattern && value) {\n    return globPattern.replace('$0', value)\n  }\n  return value\n}\n\ninterface Term {\n  prefix: string\n  value: string | string[]\n  type: string | null\n}\n\nfunction terms(inputs: Array<HTMLInputElement | HTMLSelectElement>): Term[] {\n  return inputs\n    .map(input => {\n      const value = input.value.trim()\n      const prefix = input.getAttribute('data-search-prefix')!\n      const type = input.getAttribute('data-search-type')\n      // allows us to create a glob from input eg `ts` + `*.$0` -> `*.ts` (for Blackbird)\n      const globPattern = input.getAttribute('data-glob-pattern')\n      // Blackbird doesn't let us use spaces in glob patterns so if there's a space we'll use this pattern to make a\n      // regular expression if the value has spaces in it eg `foo bar.py` +`path:/(^|\\/)$0$/` -> `path:/(^|\\/)foo bar\\.py$/`\n      // (note the escaping of the `.`)\n      const regexPattern = input.getAttribute('data-regex-pattern')\n      // Blackbird implicitly ANDs its qualifiers together so if you want to search multiple extensions we have to\n      // combine them with OR eg (path:*.ts OR path:*.tsx)\n      const useOr = input.getAttribute('data-use-or') !== null\n\n      if (prefix === '') {\n        return {prefix, value, type}\n      } else if (value.search(/,/g) !== -1 && prefix !== 'location') {\n        if (useOr) {\n          return {\n            prefix,\n            value: value\n              .split(/,/)\n              .filter(v => !!v)\n              .map(key => wrap(key, globPattern, regexPattern)),\n            type,\n          }\n        } else {\n          return value.split(/,/).map(key => ({prefix, value: wrap(key.trim(), globPattern, regexPattern), type}))\n        }\n      } else {\n        return {prefix, value: wrap(value, globPattern, regexPattern), type}\n      }\n    })\n    .flatMap(x => x)\n}\n\nonInput('.js-advanced-search-prefix', function () {\n  buildQuery()\n})\n\non('change', '.js-advanced-search-prefix', buildQuery)\n\nfunction handleReasonChanged() {\n  const stateEl = document.querySelector<HTMLSelectElement>('#search_state')\n  const reasonEl = document.querySelector<HTMLSelectElement>('#search_state_reason')\n  // reasonEl is feature flagged and may not be present, this logic only applies when both selects are present\n  if (stateEl && reasonEl) {\n    const stateValue = stateEl.value\n    const reasonValue = reasonEl.value\n    if ((reasonValue === 'completed' || reasonValue === 'not planned') && stateValue !== 'closed') {\n      stateEl.value = 'closed'\n    } else if (reasonValue === 'reopened' && stateValue !== 'open') {\n      stateEl.value = 'open'\n    }\n  }\n}\n\nfunction handleStateChanged() {\n  const stateEl = document.querySelector<HTMLSelectElement>('#search_state')\n  const reasonEl = document.querySelector<HTMLSelectElement>('#search_state_reason')\n  // reasonEl is feature flagged and may not be present, this logic only applies when both selects are present\n  if (stateEl && reasonEl) {\n    const stateValue = stateEl.value\n    const reasonValue = reasonEl.value\n    if (stateValue === 'closed' && reasonValue === 'reopened') {\n      reasonEl.value = ''\n    } else if (stateValue === 'open' && reasonValue !== 'reopened') {\n      reasonEl.value = ''\n    }\n  }\n}\n\non('change', '.js-advanced-search-prefix', el => {\n  const prefix = el.currentTarget.getAttribute('data-search-prefix')!\n  if (prefix === 'reason:') {\n    handleReasonChanged()\n  } else if (prefix === 'state:') {\n    handleStateChanged()\n  }\n})\n\nonFocus('.js-advanced-search-input', function (el) {\n  const label = el.closest<HTMLElement>('.js-advanced-search-label')!\n  label.classList.add('focus')\n\n  el.addEventListener('blur', () => label.classList.remove('focus'), {once: true})\n})\n\nobserve('.js-advanced-search-input', function () {\n  buildQuery()\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// Handle select changed\non('change', '#js-ghas-state-select', function (event) {\n  const seatsFormGroup = document.getElementById('js-ghas-seats-form-group')\n  const seatsInput = document.getElementById('js-ghas-seats-input')\n  if (seatsFormGroup && seatsInput) {\n    // This value name needs to match one of the Stafftools::AdvancedSecurityHelper constants\n    const seatsSelected = (event.currentTarget as HTMLSelectElement).value === 'seats'\n    seatsFormGroup.style.display = seatsSelected ? 'block' : 'none'\n    const seatsInputElement = seatsInput as HTMLInputElement\n    seatsInputElement.min = seatsSelected ? '1' : '0'\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onKey} from '@github-ui/onfocus'\nimport {requestSubmit} from '@github-ui/form-utils'\n\non('click', '.js-minimize-target', function (e) {\n  const button = e.currentTarget\n\n  button.classList.toggle('btn')\n  button.classList.toggle('btn-link')\n\n  for (const elem of document.getElementsByClassName('js-minimize-toggle')) {\n    /* eslint-disable-next-line github/no-d-none */\n    elem.classList.toggle('d-none')\n  }\n})\n\non('click', '.js-submit-checkbox', function (e) {\n  const checkbox = e.currentTarget as HTMLInputElement\n  requestSubmit(checkbox.form!)\n})\n\non('click', 'input[type=\"radio\"].js-require-selection', function (e) {\n  const radio = e.currentTarget as HTMLInputElement\n  if (radio.form) {\n    const submitBtn = radio.form.querySelector<HTMLInputElement>('[type=submit]')\n    if (submitBtn) {\n      submitBtn.classList.remove('disabled')\n      submitBtn.disabled = false\n    }\n  }\n})\n\non('change', '#user_rename_reason', function (e) {\n  const reason = e.currentTarget as HTMLSelectElement\n  const originalUsername = document.querySelector<HTMLInputElement>('#original_login')!\n\n  const autoRename = reason.value === 'Dormant' && !originalUsername.value.endsWith('-zz')\n  const notesRequired =\n    reason.value === 'ATO remediation' || reason.value === 'Owner requested' || reason.value === 'Other'\n\n  const username = document.querySelector<HTMLInputElement>('#user_rename_login')!\n\n  if (autoRename) {\n    username.value = `${originalUsername.value}-zz`\n  } else {\n    username.value = originalUsername.value\n  }\n\n  const notes = document.querySelector<HTMLInputElement>('#user_rename_notes')!\n  notes.toggleAttribute('required', notesRequired)\n\n  const notesContainer = document.querySelector<HTMLElement>('#user_rename_notes_container')!\n  notesContainer.classList.toggle('required', notesRequired)\n})\n\non('change', '#access-request-reason', function (e) {\n  const reason = e.currentTarget as HTMLSelectElement\n  const notesRequired = reason.value === 'Other'\n\n  const notes = document.querySelector<HTMLInputElement>('#impersonate-user-notes')!\n  notes.toggleAttribute('required', notesRequired)\n  if (!notesRequired) {\n    notes.removeAttribute('placeholder')\n  }\n\n  const notesContainer = document.querySelector<HTMLElement>('#impersonate-user-notes-container')!\n  notesContainer.classList.toggle('required', notesRequired)\n})\n\nonKey('keydown', '.js-prevent-keyboard-submit', function (e) {\n  // TODO: Refactor to use data-hotkey\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  if (e.key === 'Enter') {\n    e.preventDefault()\n  }\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n})\n","import {controller, target} from '@github/catalyst'\nimport {html, render} from 'lit-html'\nimport {fetchPoll} from '@github-ui/fetch-utils'\n\ntype JobResponse = Response & {\n  job_url: string\n}\n\n@controller\nclass PollSynchronousPaymentElement extends HTMLElement {\n  @target buttonCTA: HTMLElement\n  @target loadingStatus: HTMLElement\n  @target completionMessage: HTMLElement\n  @target buttonElement: HTMLButtonElement\n  @target form: HTMLFormElement\n\n  connectedCallback() {\n    this.loadingStatus.style.display = 'none'\n  }\n\n  async collectPayment(e: Event) {\n    this.buttonElement.disabled = true\n    this.loadingStatus.style.display = ''\n    e.preventDefault()\n\n    try {\n      const job_url = await this.fetchPaymentCollectionJobUrl()\n      if (!job_url) return this.refreshPage()\n\n      const job_status = await this.pollPaymentCollectionJobStatus(job_url)\n      this.loadingStatus.style.display = 'none'\n\n      if (job_status.state === 'success') {\n        const successHTML = html`<p style=\"text-align:center\">\n          Success! <a class=\"Link--inTextBlock\" href=\"\" id=\"refresh-page-anchor\">Refresh the page to see changes</a>\n        </p>`\n        render(successHTML, this.completionMessage)\n        document.getElementById('refresh-page-anchor')?.addEventListener('click', () => this.refreshPage())\n      } else {\n        const failedHTML = html`<p style=\"text-align:center\">Error: ${job_status.error_message}</p>`\n        render(failedHTML, this.completionMessage)\n      }\n    } catch {\n      const errorHTML = html`<p style=\"text-align:center\">\n        An error occurred while waiting for a response. The change may or may not have been successful, please see the\n        audit log for details.\n      </p>`\n      render(errorHTML, this.completionMessage)\n    }\n  }\n\n  async pollPaymentCollectionJobStatus(url: string) {\n    const response = await fetchPoll(url, {headers: {accept: 'application/json'}}, 1000, [200, 500])\n    const responseData = await response.json()\n    return responseData.job\n  }\n\n  async fetchPaymentCollectionJobUrl() {\n    const response = await fetch(this.form.action, {\n      method: this.form.method,\n      body: new FormData(this.form),\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n    const responseData: JobResponse = await response.json()\n    return responseData.job_url\n  }\n\n  refreshPage() {\n    window.location.reload()\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onFocus} from '@github-ui/onfocus'\n\nonFocus('.js-business-tos-company-name', function (el) {\n  if (el instanceof HTMLInputElement && el.value === '') {\n    const nameInput = document.querySelector<HTMLInputElement>('.js-business-name')!\n    el.value = nameInput.value\n  }\n})\n\non('click', '#staff-admin-complete-results .member-suggestion-info', function ({currentTarget}) {\n  const form = currentTarget.closest<HTMLElement>('form')!\n  const addText = form.querySelector<HTMLElement>('.js-add-btn')!\n  const inviteText = form.querySelector<HTMLElement>('.js-invite-btn')!\n\n  const li = currentTarget.closest<HTMLElement>('li')!\n  const isEmail = li.classList.contains('email-suggestion')\n\n  addText.hidden = isEmail\n  inviteText.hidden = !isEmail\n})\n\non('click', '.js-submit-emubusinesstype', function () {\n  // get the radio button that is selected for business[seats_plan_type]\n  const selected = document.querySelector<HTMLInputElement>('input[name=\"business[seats_plan_type]\"]:checked')\n  const copilotMaxSeats = document.getElementsByName('copilot_max_seats')[0] as HTMLDataListElement\n  if (selected && selected.value === 'basic') {\n    // we need to show the DL copilot_max_seats\n    copilotMaxSeats.removeAttribute('style')\n  } else {\n    copilotMaxSeats.setAttribute('style', 'display:none;')\n  }\n})\n\non('click', '.js-submit-emucheckbox', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n  const shortcodeDl = document.getElementsByName('shortcode')[0] as HTMLDataListElement\n  const input = document.getElementsByName('business[shortcode]')[0] as HTMLInputElement\n  const seatsPlanType = document.getElementsByName('seats_plan_type')[0] as HTMLDataListElement\n  if (target !== null && input !== null && shortcodeDl !== null && target.checked) {\n    shortcodeDl.removeAttribute('style')\n    seatsPlanType.removeAttribute('style')\n    input.removeAttribute('disabled')\n    input.focus()\n  } else if (target !== null && input !== null && shortcodeDl !== null && !target.checked) {\n    shortcodeDl.setAttribute('style', 'display:none;')\n    if (!seatsPlanType.hasAttribute('data-create-basic')) {\n      seatsPlanType.setAttribute('style', 'display:none;')\n    }\n    input.setAttribute('disabled', 'true')\n    input.value = ''\n  }\n})\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nobserve('#js-repair-index', {\n  initialize(el) {\n    setInterval(async function refreshRepairStats() {\n      const indexName = el.getAttribute('data-index-name')!\n      const repairStatus = await fetchSafeDocumentFragment(document, `/stafftools/indexing/${indexName}/repair`)\n      el.textContent = ''\n      el.append(repairStatus)\n    }, 1000 * 5)\n  },\n})\n","import {fetchPoll, fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\nfunction disableRepositoryButtons(parent: Element) {\n  const buttons = parent.querySelectorAll<HTMLButtonElement>('form>button')\n  for (const button of buttons) {\n    button.disabled = true\n  }\n\n  const summaryToggles = parent.querySelectorAll('summary')\n  for (const summary of summaryToggles) {\n    summary.classList.add('disabled')\n  }\n\n  for (const detail of parent.querySelectorAll('details')) {\n    detail.removeAttribute('open')\n  }\n\n  const checkbox = parent.querySelector<HTMLInputElement>(\"li > input[type='checkbox']\")!\n  checkbox.disabled = true\n\n  const button = document.querySelector('.js-purgatory-restore-bulk-button')!\n  button.setAttribute('aria-disabled', 'true')\n}\n\nfunction populateStatus(parent: Element, response: {html: DocumentFragment | Element}) {\n  const container = parent.querySelector<HTMLElement>('.js-repository-status')!\n  container.textContent = ''\n  container.append(response.html)\n}\n\nfunction populateError(parent: Element, error: string) {\n  const container = parent.querySelector<HTMLElement>('.js-repository-status')!\n  container.textContent = ''\n  container.append(error)\n}\n\nfunction showStafftoolsLink(parent: Element) {\n  const stafftoolsLink = parent.querySelector<HTMLElement>('a.js-stafftools-repository-link')!\n  stafftoolsLink.classList.remove('v-hidden')\n}\n\nremoteForm('.js-purgatory-detach', async function (form, wants) {\n  const parent = form.closest<HTMLElement>('.js-repository-purgatory')!\n  disableRepositoryButtons(parent)\n\n  const response = await wants.html()\n  populateStatus(parent, response)\n})\n\nremoteForm('.js-purgatory-restore', async function (form, wants) {\n  const parent = form.closest<HTMLElement>('.js-repository-purgatory')!\n  disableRepositoryButtons(parent)\n\n  const response = await wants.html()\n  populateStatus(parent, response)\n  if (!response.text.includes('errors')) {\n    showStafftoolsLink(parent)\n  }\n})\n\nremoteForm('.js-purgatory-purge', async function (form, wants) {\n  const parent = form.closest<HTMLElement>('.js-repository-purgatory')!\n  disableRepositoryButtons(parent)\n\n  const response = await wants.html()\n  populateStatus(parent, response)\n})\n\n// highlight selected private forks and show bulk restore warning\non('change', \".js-private-fork > input[type='checkbox']\", event => {\n  const checkbox = event.target as HTMLInputElement\n  const parent = checkbox.closest<HTMLElement>('.js-repository-purgatory')!\n  parent.classList.toggle('flash-warn', checkbox.checked)\n\n  const message = document.querySelector<HTMLElement>('.js-purgatory-restore-bulk-private-fork-message')!\n  message.hidden = document.querySelector('.js-private-fork > input:checked') ? false : true\n})\n\non('change', \".js-no-deleted-at > input[type='checkbox']\", event => {\n  const checkbox = event.target as HTMLInputElement\n  const parent = checkbox.closest<HTMLElement>('.js-repository-purgatory')!\n  parent.classList.toggle('flash-warn', checkbox.checked)\n\n  const message = document.querySelector<HTMLElement>('.js-purgatory-restore-bulk-deleted-at-message')!\n  message.hidden = document.querySelector('.js-no-deleted-at > input:checked') ? false : true\n})\n\non('change', '.js-purgatory-repo-select-checkbox', () => {\n  const button = document.querySelector('.js-purgatory-restore-bulk-button')!\n\n  if (anySelectedRepositories()) {\n    button.setAttribute('aria-disabled', 'false')\n  } else {\n    button.setAttribute('aria-disabled', 'true')\n  }\n})\n\non('click', '.js-purgatory-restore-bulk-button', event => {\n  handleBulkRestoreClick(event)\n})\n\non('mousedown', '.js-purgatory-restore-bulk-button', event => {\n  handleBulkRestoreClick(event)\n})\n\nfunction handleBulkRestoreClick(event: MouseEvent) {\n  const button = event.currentTarget\n  if (button instanceof HTMLElement) {\n    if (!anySelectedRepositories() || button.getAttribute('aria-disabled') === 'true') {\n      event.preventDefault()\n      button.setAttribute('tabindex', '-1')\n    } else {\n      button.removeAttribute('tabindex')\n    }\n  }\n}\n\nfunction anySelectedRepositories() {\n  return !!document.querySelector('.js-purgatory-repo-select-checkbox:checked')\n}\n\non('click', 'button.js-purgatory-restore-bulk', async event => {\n  const button = event.currentTarget as HTMLButtonElement\n\n  // bulk repo restore\n  const checkedIdPrefix = 'purgatory-repository-'\n  const dialogText = document.querySelector<HTMLElement>('#js-purgatory-restore-bulk-status')!\n  const form = document.querySelector<HTMLFormElement>('form.js-purgatory-restore-bulk')!\n  button.disabled = true\n  const bulkJobs = []\n\n  const startedMessage = dialogText.getAttribute('data-started-message')!\n  dialogText.textContent = startedMessage\n\n  // add checked to form\n  const selected = document.querySelectorAll<HTMLInputElement>(`[id^='${checkedIdPrefix}'] > input:checked`)\n  for (const item of selected) {\n    const itemId = item.value\n    const input = document.createElement('input')\n    input.type = 'hidden'\n    input.name = 'ids[]'\n    input.value = itemId\n    form.appendChild(input)\n    const repoContainer = document.querySelector<HTMLElement>(`#${checkedIdPrefix}${itemId}`)!\n    disableRepositoryButtons(repoContainer)\n    bulkJobs.push(itemId)\n  }\n\n  if (bulkJobs.length === 0) {\n    const failureMessage = dialogText.getAttribute('data-nonselected-message')!\n    dialogText.textContent = failureMessage\n    return\n  }\n\n  async function onItemQueue(itemId: string) {\n    const repoContainer = document.querySelector<HTMLElement>(`#${checkedIdPrefix}${itemId}`)!\n    const partialPath = repoContainer.getAttribute('data-restore-partial')!\n    const pollStatusPartial = await fetchSafeDocumentFragment(document, partialPath)\n    populateStatus(repoContainer, {html: pollStatusPartial.firstElementChild!})\n    showStafftoolsLink(repoContainer)\n  }\n\n  const url = form.action\n  const method = form.method\n\n  try {\n    // start the bulk restore job\n    const response = await fetch(url, {method, body: new FormData(form), headers: {Accept: 'application/json'}})\n    if (!response.ok) throw new Error()\n\n    const data = await response.json()\n\n    // poll each restore JobStatus in turn\n    for (const itemId of bulkJobs) {\n      const restoreError = data.errors[itemId]\n      const repoContainer = document.querySelector<HTMLElement>(`#${checkedIdPrefix}${itemId}`)!\n\n      if (restoreError !== '') {\n        populateError(repoContainer, restoreError)\n      } else {\n        await onItemQueue(itemId)\n        const bulkJobStatusPath = repoContainer.getAttribute('data-bulk-job-status')!\n        await fetchPoll(bulkJobStatusPath, {headers: {accept: 'application/json'}})\n      }\n    }\n  } catch (error) {\n    const failureMessage = dialogText.getAttribute('data-failure-message')!\n    dialogText.textContent = failureMessage\n    return\n  }\n\n  button.closest<HTMLElement>('.js-purgatory-restore-bulk-details')!.removeAttribute('open')\n})\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-action-ldap-create-form', async function (form, wants) {\n  form.querySelector<HTMLElement>('.btn-sm')!.classList.add('disabled')\n\n  let msg\n  let success = false\n  try {\n    const response = await wants.text()\n    msg = response.text\n    success = true\n  } catch (error) {\n    msg = 'Oops, something went wrong.'\n  }\n\n  const container = form.closest<HTMLElement>('.js-action-ldap-create')!\n  const message = container.querySelector<HTMLElement>('.js-message')!\n  message.style.display = 'block'\n  message.innerHTML = ` &ndash; ${msg}`\n\n  if (success) {\n    form.querySelector<HTMLElement>('.btn')!.style.display = 'hidden'\n  }\n})\n","import {fetchPoll} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// Provides a delayed redirect to a report. Markup:\n//\n// <div class=\"js-report-container\">\n//   <button class=\"js-report\" data-url=\"/reports/foo\">Generate Report</button>\n//   <span class=\"js-report-progress\" style=\"display:none\">Generating report…</span>\n// </div>\n\non('click', '.js-report', async function (event) {\n  event.preventDefault()\n\n  const button = event.target\n  if (!(button instanceof HTMLElement)) return\n  const container = button.closest<HTMLElement>('.js-report-container')!\n  const progress = container.querySelector<HTMLElement>('.js-report-progress')!\n\n  try {\n    button.classList.add('disabled')\n    /* eslint-disable-next-line github/no-d-none */\n    progress.classList.remove('d-none')\n\n    const url = button.getAttribute('data-url')!\n    const response = await fetchPoll(url)\n    window.location.href = response.headers.get('Location') || ''\n  } finally {\n    button.classList.remove('disabled')\n    /* eslint-disable-next-line github/no-d-none */\n    progress.classList.add('d-none')\n  }\n})\n","import {addThrottledInputEventListener} from '../throttled-input'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nasync function updateTotals(baseUrl: string, seats: number, duration: string) {\n  const url = new URL(baseUrl, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('seats', seats.toString())\n  params.append('duration', duration)\n  url.search = params.toString()\n\n  const response = await fetch(url.toString(), {headers: {Accept: 'application/json'}})\n  if (!response.ok) return\n  /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n  const data = (await response.json()) as {[key: string]: any}\n\n  const ref = data.selectors\n  for (const selector in ref) {\n    const text = ref[selector]\n    const el = document.querySelector(selector)\n    if (el) el.textContent = text\n  }\n\n  for (const el of document.querySelectorAll('.js-altered-subscription')) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none', data.starting_new_subscription)\n  }\n\n  for (const el of document.querySelectorAll('.js-replaced-subscription')) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none', !data.starting_new_subscription)\n  }\n}\n\nfunction updateDuration(event: Event) {\n  const currentTarget = event.currentTarget as HTMLInputElement\n  const field = document.querySelector<HTMLInputElement>('.js-total-seats-field')!\n  const url = field.getAttribute('data-url')!\n  const seats = Math.max(0, parseInt(field.value) || 0)\n  const duration = currentTarget.value\n  updateTotals(url, seats, duration)\n}\n\nfunction updateSeatCount(el: HTMLInputElement) {\n  const seats = Math.max(0, parseInt(el.value) || 0)\n  const url = el.getAttribute('data-url')!\n  const durationField = document.querySelector('.js-plan-duration:checked')\n  if (durationField instanceof HTMLInputElement) {\n    updateTotals(url, seats, durationField.value)\n  }\n}\n\nobserve('.js-total-seats-field', {\n  constructor: HTMLInputElement,\n  initialize(el) {\n    updateSeatCount(el)\n\n    addThrottledInputEventListener(el, () => {\n      updateSeatCount(el)\n    })\n  },\n})\n\non('change', 'input.js-plan-duration', updateDuration)\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// Modify warning message based on warning type\nfunction toggleMailerWarning(canApprove: boolean) {\n  const warning = document.querySelector<HTMLElement>('#two-factor-approval-warning')!\n  const emailWarning = document.querySelector<HTMLElement>('#two-factor-approval-email-warning')!\n  if (canApprove) {\n    warning.hidden = false\n    emailWarning.hidden = true\n  } else {\n    emailWarning.hidden = false\n    warning.hidden = true\n  }\n}\n\n// Disable submission unless at least one email is selected\nfunction toggleApprovalButton(canApprove: boolean) {\n  const button = document.querySelector<HTMLElement>('#two-factor-approve-btn')!\n  if (canApprove) {\n    button.classList.remove('disabled')\n  } else {\n    button.classList.add('disabled')\n  }\n}\n\nfunction checkedInputsCount(el: HTMLElement) {\n  return el.querySelectorAll('input[type=checkbox]:checked').length\n}\n\nfunction requireMailer(el: HTMLElement) {\n  const canApprove = checkedInputsCount(el) > 0\n  toggleMailerWarning(canApprove)\n  toggleApprovalButton(canApprove)\n}\n\nfunction toggleChecked(el: HTMLInputElement) {\n  if (el.getAttribute('aria-checked') === 'true') {\n    el.setAttribute('aria-checked', 'false')\n  } else {\n    el.setAttribute('aria-checked', 'true')\n  }\n}\n\n// this automates checking of checkboxes when modal loads so that state is retained\nfunction setCheckedState(el: HTMLElement) {\n  const checks = el.querySelectorAll<HTMLInputElement>('input[type=checkbox]')\n\n  for (const check of checks) {\n    if (check.getAttribute('aria-checked') === 'true') {\n      check.checked = true\n    } else {\n      check.checked = false\n    }\n  }\n}\n\n// set selection state every time modal is opened\non('click', '.js-two-factor-recovery-review-btn', () => {\n  const el = document.querySelector<HTMLElement>('#js-2fa-recovery-emails-list')\n  if (!el) {\n    return\n  }\n  setCheckedState(el)\n  requireMailer(el)\n})\n\n// if any checkbox changes, ensure that at least one email is still selected\non('change', '#js-2fa-recovery-emails-list input', () => {\n  const el = document.querySelector<HTMLElement>('#js-2fa-recovery-emails-list')!\n  requireMailer(el)\n})\n\n// Set a checked attribute for state management when modal is closed when box is checked / unchecked\non('click', '#js-2fa-recovery-emails-list input', ({currentTarget}) => {\n  toggleChecked(currentTarget as HTMLInputElement)\n})\n","import {fromEvent} from '@github-ui/subscription'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nobserve('.js-bulk-takedown-status-channel', {\n  subscribe: el =>\n    fromEvent(el, 'socket:message', function (event: Event) {\n      const currentTarget = event.currentTarget as Element\n      const data = (event as CustomEvent).detail.data\n      for (const key in data) {\n        const status = currentTarget.querySelector(`.js-disable-repository-access-status[data-repo-id='${key}']`)\n        if (status) status.textContent = data[key]['user_display_status']\n      }\n    }),\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('click', '.js-bulk-privatizations-select-all-public', function (event) {\n  const selectAllCheckbox = event.currentTarget as HTMLInputElement\n  const form = selectAllCheckbox.closest<HTMLFormElement>('form')\n\n  if (form) {\n    const publicRepoCheckboxes = form.querySelectorAll<HTMLInputElement>('.js-bulk-privatizations-public-repo')\n\n    if (publicRepoCheckboxes) {\n      for (const checkbox of publicRepoCheckboxes) {\n        if (selectAllCheckbox.checked) {\n          checkbox.checked = true\n        } else {\n          checkbox.checked = false\n        }\n      }\n    }\n  }\n})\n\non('click', '.js-bulk-privatizations-public-repo', function (event) {\n  const repoCheckbox = event.currentTarget as HTMLInputElement\n  const form = repoCheckbox.closest<HTMLFormElement>('form')\n\n  if (form) {\n    const selectAllCheckbox = form.querySelector<HTMLInputElement>('.js-bulk-privatizations-select-all-public')\n\n    if (selectAllCheckbox && !repoCheckbox.checked) {\n      selectAllCheckbox.checked = false\n    }\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\nimport AutocompleteElement from '@github/auto-complete-element'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nfunction sponsorsBulkManageButtonClicked(clickedButton: EventTarget & Element, formSelector: string) {\n  const container = clickedButton.closest('.js-sponsors-bulk-manage-listings-container')!\n  const form = container.querySelector<HTMLFormElement>(formSelector)!\n  const listingsTable = container.querySelector('.js-sponsors-bulk-manage-listings-table')!\n  const bulkManageButtons = container.querySelectorAll<HTMLButtonElement>('.js-sponsors-bulk-manage-listings-button')\n  const otherBulkManageButtons = Array.from(bulkManageButtons).filter(button => button !== clickedButton)\n\n  form.hidden = !form.hidden\n  clickedButton.classList.toggle('selected')\n  listingsTable.classList.toggle('on')\n\n  const shouldDisableOthers = clickedButton.classList.contains('selected')\n  for (const otherButton of otherBulkManageButtons) {\n    otherButton.disabled = shouldDisableOthers\n  }\n}\n\nfunction sponsorsRetryOneTimeSubscriptionItemsButtonClicked(\n  clickedButton: EventTarget & HTMLElement,\n  formSelector: string,\n) {\n  const form = document.querySelector<HTMLFormElement>(formSelector)\n  if (!form) return\n\n  clickedButton.hidden = true\n\n  const subscriptionItemsTable = form.querySelector<HTMLTableElement>(\n    '.js-sponsors-retry-one-time-subscription-items-table',\n  )\n  if (subscriptionItemsTable) subscriptionItemsTable.classList.toggle('on')\n}\n\nfunction toggleSponsorsBulkActionCheckbox(tableRow: HTMLElement, tableSelector: string) {\n  const table = tableRow.closest(tableSelector)\n  if (!table || !table.classList.contains('on')) return\n\n  const checkbox = tableRow.querySelector<HTMLInputElement>('.js-sponsors-bulk-action-checkbox')\n  if (checkbox) checkbox.checked = !checkbox.checked\n}\n\non('click', '.js-sponsors-bulk-ban-listings-button', event => {\n  const button = event.currentTarget\n  sponsorsBulkManageButtonClicked(button, '.js-sponsors-bulk-ban-listings-form')\n})\n\non('click', '.js-sponsors-retry-one-time-subscription-items-button', event => {\n  const button = event.currentTarget as HTMLElement\n  sponsorsRetryOneTimeSubscriptionItemsButtonClicked(button, '.js-sponsors-retry-one-time-subscription-items-form')\n})\n\non('click', '.js-sponsors-bulk-approve-listings-button', event => {\n  const button = event.currentTarget\n  sponsorsBulkManageButtonClicked(button, '.js-sponsors-bulk-approve-listings-form')\n})\n\nfunction removeSponsorsMaintainerTag(tagInput: HTMLInputElement) {\n  const tagInputListItem = tagInput.closest<HTMLElement>('.js-tag-input-tag')!\n  const tagInputForm = tagInput.form!\n\n  tagInputListItem.remove()\n  fire(tagInputForm, 'tags:changed')\n}\n\nfunction normalizeSponsorableLogin(login: string) {\n  return login.toLowerCase().trim()\n}\n\nfunction findSponsorsMaintainerTagForCheckbox(checkbox: HTMLInputElement) {\n  const inputName = checkbox.name\n  const sponsorableLogin = normalizeSponsorableLogin(checkbox.value)\n  const container = checkbox.closest('.js-sponsors-bulk-manage-listings-container')!\n  const activeForm = container.querySelector('.js-sponsors-bulk-manage-listings-form:not([hidden])')!\n  const tagInputContainer = activeForm.querySelector('.js-sponsors-bulk-manage-listings-tag-input')!\n  const inputSelector = `input[name='${inputName}'][value='${sponsorableLogin}']`\n  return tagInputContainer.querySelector<HTMLInputElement>(inputSelector)\n}\n\non('change', '.js-sponsors-bulk-action-checkbox', event => {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const container = checkbox.closest('.js-sponsors-bulk-manage-listings-container')\n  if (!container) return\n\n  const activeForm = container.querySelector('.js-sponsors-bulk-manage-listings-form:not([hidden])')\n  if (!activeForm) return\n\n  const autocomplete = activeForm.querySelector<AutocompleteElement>('.js-sponsors-bulk-manage-listings-autocomplete')!\n  const sponsorableLogin = normalizeSponsorableLogin(checkbox.value)\n\n  if (checkbox.checked) {\n    autocomplete.value = sponsorableLogin\n  } else {\n    autocomplete.value = ''\n    const tagInput = findSponsorsMaintainerTagForCheckbox(checkbox)\n    if (tagInput) removeSponsorsMaintainerTag(tagInput)\n  }\n})\n\nfunction findSponsorsMaintainerCheckboxForTag(tagInputListItem: HTMLElement) {\n  const hiddenInput = tagInputListItem.querySelector<HTMLInputElement>('input[type=\"hidden\"]')!\n  const inputName = hiddenInput.name\n  const sponsorableLogin = hiddenInput.value\n  const container = document.querySelector('.js-sponsors-bulk-manage-listings-container')!\n  const listingsTable = container.querySelector('.js-sponsors-bulk-manage-listings-table')!\n  const checkboxSelector = `input.js-sponsors-bulk-action-checkbox[name='${inputName}'][value='${sponsorableLogin}']`\n  return listingsTable.querySelector<HTMLInputElement>(checkboxSelector)\n}\n\non('click', '.js-sponsors-bulk-manage-listings-remove-tag', event => {\n  const removeButton = event.currentTarget\n  const tagInputListItem = removeButton.closest<HTMLElement>('.js-tag-input-tag')!\n  const checkbox = findSponsorsMaintainerCheckboxForTag(tagInputListItem)\n  if (checkbox) {\n    checkbox.checked = false\n  }\n})\n\nfunction findSponsorsMaintainerCheckboxForLogin(sponsorableLogin: string) {\n  const listingsTable = document.querySelector('.js-sponsors-bulk-manage-listings-table')!\n  const inputName = 'sponsorable_logins[]'\n  const checkboxSelector = `input.js-sponsors-bulk-action-checkbox[name='${inputName}'][value='${sponsorableLogin}']`\n  return listingsTable.querySelector<HTMLInputElement>(checkboxSelector)\n}\n\nobserve('.js-sponsors-bulk-manage-listings-autocomplete', {\n  add(autocomplete) {\n    if (!(autocomplete instanceof AutocompleteElement)) return\n\n    autocomplete.addEventListener('auto-complete-change', function () {\n      const sponsorableLogin = autocomplete.value\n      if (sponsorableLogin.length < 1) return\n\n      const checkbox = findSponsorsMaintainerCheckboxForLogin(sponsorableLogin)\n      if (checkbox) {\n        checkbox.checked = true\n      }\n    })\n  },\n})\n\nfunction showPotentialSponsorableBannerPreview(fieldName: string, fieldValue: string) {\n  const previewForm = document.querySelector<HTMLFormElement>('.js-potential-sponsorship-banner-preview-form')\n  if (!previewForm) return\n\n  const input = previewForm.querySelector<HTMLInputElement>(`input[name='${fieldName}']`)\n  if (!input) return\n\n  input.value = fieldValue\n  requestSubmit(previewForm)\n}\n\non('change', '.js-potential-sponsorship-form textarea', event => {\n  const textarea = event.currentTarget as HTMLTextAreaElement\n  showPotentialSponsorableBannerPreview(textarea.name, textarea.value)\n})\n\nremoteForm('.js-potential-sponsorship-banner-preview-form', async function (form, wants) {\n  try {\n    const response = await wants.html()\n    const bannerPreviewHTML = response.html\n    form.textContent = ''\n    form.appendChild(bannerPreviewHTML)\n    form.hidden = false\n  } catch (responseError) {\n    form.hidden = true\n  }\n})\n\non('click', '.js-sponsors-bulk-action-row', event => {\n  const clickedElement = event.target as HTMLElement\n  if (clickedElement.closest('a') || clickedElement.tagName === 'INPUT') return\n\n  const row = clickedElement.closest<HTMLElement>('.js-sponsors-bulk-action-row')!\n  toggleSponsorsBulkActionCheckbox(row, '.js-sponsors-retry-one-time-subscription-items-table')\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction changeComplimentaryAccessRequiring(required: boolean) {\n  const complimentaryAccessTextarea = document.getElementById(`copilot-complimentary-access-textarea`)!\n  const complimentaryAccessDurationUnlimited = document.getElementById(`complimentary_access_duration_unlimited`)!\n  const complimentaryAccessDurationSpecified = document.getElementById(`complimentary_access_duration_specified`)!\n  const complimentaryAccessDurationMonth = document.getElementById(`complimentary_access_duration_month`)!\n  const complimentaryAccessDurationDay = document.getElementById(`complimentary_access_duration_day`)!\n  const complimentaryAccessDurationYear = document.getElementById(`complimentary_access_duration_year`)!\n\n  if (required) {\n    complimentaryAccessTextarea.setAttribute('required', 'required')\n    complimentaryAccessDurationUnlimited.setAttribute('required', 'required')\n    complimentaryAccessDurationSpecified.setAttribute('required', 'required')\n    complimentaryAccessDurationMonth.setAttribute('required', 'required')\n    complimentaryAccessDurationDay.setAttribute('required', 'required')\n    complimentaryAccessDurationYear.setAttribute('required', 'required')\n  } else {\n    complimentaryAccessTextarea.removeAttribute('required')\n    complimentaryAccessDurationUnlimited.removeAttribute('required')\n    complimentaryAccessDurationSpecified.removeAttribute('required')\n    complimentaryAccessDurationMonth.removeAttribute('required')\n    complimentaryAccessDurationDay.removeAttribute('required')\n    complimentaryAccessDurationYear.removeAttribute('required')\n  }\n}\n\non('click', '.js-free-access-reason', function (event) {\n  const button = event.currentTarget as HTMLInputElement\n  const selectedReason = button.value\n\n  const technicalPreviewExtensionDetails = document.getElementById(`technical_preview_extension_details`)!\n  const yCombinatorDetails = document.getElementById(`y_combinator_details`)!\n  const complimentaryAccessDetails = document.getElementById(`complimentary_access_details`)!\n\n  if (selectedReason === 'complimentary_access') {\n    complimentaryAccessDetails.removeAttribute('hidden')\n    changeComplimentaryAccessRequiring(true)\n  } else {\n    complimentaryAccessDetails.setAttribute('hidden', 'true')\n    changeComplimentaryAccessRequiring(false)\n  }\n\n  if (selectedReason === 'y_combinator') {\n    yCombinatorDetails.removeAttribute('hidden')\n  } else {\n    yCombinatorDetails.setAttribute('hidden', 'true')\n  }\n\n  if (selectedReason === 'technical_preview_extension') {\n    technicalPreviewExtensionDetails.removeAttribute('hidden')\n  } else {\n    technicalPreviewExtensionDetails.setAttribute('hidden', 'true')\n  }\n})\n\non('click', '.js-complimentary-access-duration', function (event) {\n  const button = event.currentTarget as HTMLInputElement\n  const selectedDuration = button.value\n\n  const complimentaryAccessDurationMonth = document.getElementById(`complimentary_access_duration_month`)!\n  const complimentaryAccessDurationDay = document.getElementById(`complimentary_access_duration_day`)!\n  const complimentaryAccessDurationYear = document.getElementById(`complimentary_access_duration_year`)!\n\n  if (selectedDuration === 'specified') {\n    complimentaryAccessDurationMonth.setAttribute('required', 'required')\n    complimentaryAccessDurationMonth.removeAttribute('disabled')\n    complimentaryAccessDurationDay.setAttribute('required', 'required')\n    complimentaryAccessDurationDay.removeAttribute('disabled')\n    complimentaryAccessDurationYear.setAttribute('required', 'required')\n    complimentaryAccessDurationYear.removeAttribute('disabled')\n  } else if (selectedDuration === 'unlimited') {\n    complimentaryAccessDurationMonth.setAttribute('disabled', 'disabled')\n    complimentaryAccessDurationMonth.removeAttribute('required')\n    complimentaryAccessDurationDay.setAttribute('disabled', 'disabled')\n    complimentaryAccessDurationDay.removeAttribute('required')\n    complimentaryAccessDurationYear.setAttribute('disabled', 'disabled')\n    complimentaryAccessDurationYear.removeAttribute('required')\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('change', '#js-select-all-retired-namespaces', function (event) {\n  const ids = []\n  const value = (event.currentTarget as HTMLInputElement).checked\n  const checkboxes = document.querySelectorAll<HTMLInputElement>('[data-check-all-item]')\n\n  for (const checkbox of checkboxes) {\n    checkbox.checked = value\n\n    if (value === true) {\n      ids.push(checkbox.value)\n    }\n  }\n\n  document.querySelector<HTMLInputElement>('#js-retired-namespaces-ids')!.value = `[${ids.join(',')}]`\n})\n\non('change', '[data-check-all-item]', function (event) {\n  const retiredIdsElement = document.querySelector<HTMLInputElement>('#js-retired-namespaces-ids')!\n  const element = event.currentTarget as HTMLInputElement\n  let ids = JSON.parse(retiredIdsElement.value) as number[]\n\n  if (element.checked) {\n    ids.push(parseInt((event.currentTarget as HTMLInputElement).value))\n  } else {\n    ids = ids.filter(id => id !== parseInt(element.value))\n  }\n\n  retiredIdsElement.value = `[${ids.join(',')}]`\n})\n","// this file is a shim to allow importing @github/hotkey and is the only allowed import for @github/hotkey\n// eslint-disable-next-line no-restricted-imports\nexport * from '@github/hotkey'\n\n// - (?:^|,)    Starting with the beginning of the string or the comma delineating the previous item\n// - ((?:[^,]|,(?=\\+| |$))*(?:,(?=,))?)    The target capture group, consisting of:\n//   - (?:[^,]|,(?=\\+| |$))*    Any number of characters that are not commas, or are commas that are followed by a\n//     plus sign, space, or end of string (ie, the commas in `,+Control` or `Control+, g` or `Control+,`)\n//   - (?:,(?=,))?    Optionally ending with a comma followed by another comma, like the commas in `Control+,,n` or\n//     `Control+,,,`\n// - (?=,|$)    Ending with a comma or the end of the string\nconst chordOrKeyRegex = /(?:^|,)((?:[^,]|,(?=\\+| |$))*(?:,(?=,))?)/g\n\nexport function splitHotkeyString(hotkey: string) {\n  // \",\" is a valid key name, so we can't just use `String.split()`. Even with a regular expression we can't split, for\n  // example \"Control+,,,\" into [\"Control+,\", \",\"] without a lookbehind (not supported in Safari).\n\n  // Instead, we match against all valid substrings:\n  return Array.from(hotkey.matchAll(chordOrKeyRegex)).map(([, chord]) => chord!)\n}\n","// TODO: Research replacing this module with a composable observable library.\n// The scope of this module simply returns a finalized subscription object.\n\n// Lightweight TC39 observable Subscription.\nexport class Subscription {\n  constructor(cleanup: () => void) {\n    this.closed = false\n    this.unsubscribe = () => {\n      cleanup()\n      this.closed = true\n    }\n  }\n\n  // A boolean value indicating whether the subscription is closed.\n  closed: boolean\n  // Cancels the subscription.\n  unsubscribe: () => void\n}\n\n// Create a Subscription from an event.\nexport function fromEvent(\n  target: EventTarget,\n  eventName: string,\n  onNext: EventListenerOrEventListenerObject,\n  options: AddEventListenerOptions = {capture: false},\n): Subscription {\n  target.addEventListener(eventName, onNext, options)\n  return new Subscription(() => {\n    target.removeEventListener(eventName, onNext, options)\n  })\n}\n\n// Combine several subscriptions into a single subscription.\n//\n// subscriptions - A list of subscriptions to combine.\n//\n// Returns a single, combined, subscription.\nexport function compose(...subscriptions: Subscription[]): Subscription {\n  return new Subscription(() => {\n    for (const subscription of subscriptions) {\n      subscription.unsubscribe()\n    }\n  })\n}\n","class Leaf {\n    constructor(trie) {\n        this.children = [];\n        this.parent = trie;\n    }\n    delete(value) {\n        const index = this.children.indexOf(value);\n        if (index === -1)\n            return false;\n        this.children = this.children.slice(0, index).concat(this.children.slice(index + 1));\n        if (this.children.length === 0) {\n            this.parent.delete(this);\n        }\n        return true;\n    }\n    add(value) {\n        this.children.push(value);\n        return this;\n    }\n}\nclass RadixTrie {\n    constructor(trie) {\n        this.parent = null;\n        this.children = {};\n        this.parent = trie || null;\n    }\n    get(edge) {\n        return this.children[edge];\n    }\n    insert(edges) {\n        let currentNode = this;\n        for (let i = 0; i < edges.length; i += 1) {\n            const edge = edges[i];\n            let nextNode = currentNode.get(edge);\n            if (i === edges.length - 1) {\n                if (nextNode instanceof RadixTrie) {\n                    currentNode.delete(nextNode);\n                    nextNode = null;\n                }\n                if (!nextNode) {\n                    nextNode = new Leaf(currentNode);\n                    currentNode.children[edge] = nextNode;\n                }\n                return nextNode;\n            }\n            else {\n                if (nextNode instanceof Leaf)\n                    nextNode = null;\n                if (!nextNode) {\n                    nextNode = new RadixTrie(currentNode);\n                    currentNode.children[edge] = nextNode;\n                }\n            }\n            currentNode = nextNode;\n        }\n        return currentNode;\n    }\n    delete(node) {\n        for (const edge in this.children) {\n            const currentNode = this.children[edge];\n            if (currentNode === node) {\n                const success = delete this.children[edge];\n                if (Object.keys(this.children).length === 0 && this.parent) {\n                    this.parent.delete(this);\n                }\n                return success;\n            }\n        }\n        return false;\n    }\n}\n\nconst macosSymbolLayerKeys = {\n    ['¡']: '1',\n    ['™']: '2',\n    ['£']: '3',\n    ['¢']: '4',\n    ['∞']: '5',\n    ['§']: '6',\n    ['¶']: '7',\n    ['•']: '8',\n    ['ª']: '9',\n    ['º']: '0',\n    ['–']: '-',\n    ['≠']: '=',\n    ['⁄']: '!',\n    ['€']: '@',\n    ['‹']: '#',\n    ['›']: '$',\n    ['ﬁ']: '%',\n    ['ﬂ']: '^',\n    ['‡']: '&',\n    ['°']: '*',\n    ['·']: '(',\n    ['‚']: ')',\n    ['—']: '_',\n    ['±']: '+',\n    ['œ']: 'q',\n    ['∑']: 'w',\n    ['®']: 'r',\n    ['†']: 't',\n    ['¥']: 'y',\n    ['ø']: 'o',\n    ['π']: 'p',\n    ['“']: '[',\n    ['‘']: ']',\n    ['«']: '\\\\',\n    ['Œ']: 'Q',\n    ['„']: 'W',\n    ['´']: 'E',\n    ['‰']: 'R',\n    ['ˇ']: 'T',\n    ['Á']: 'Y',\n    ['¨']: 'U',\n    ['ˆ']: 'I',\n    ['Ø']: 'O',\n    ['∏']: 'P',\n    ['”']: '{',\n    ['’']: '}',\n    ['»']: '|',\n    ['å']: 'a',\n    ['ß']: 's',\n    ['∂']: 'd',\n    ['ƒ']: 'f',\n    ['©']: 'g',\n    ['˙']: 'h',\n    ['∆']: 'j',\n    ['˚']: 'k',\n    ['¬']: 'l',\n    ['…']: ';',\n    ['æ']: \"'\",\n    ['Å']: 'A',\n    ['Í']: 'S',\n    ['Î']: 'D',\n    ['Ï']: 'F',\n    ['˝']: 'G',\n    ['Ó']: 'H',\n    ['Ô']: 'J',\n    ['']: 'K',\n    ['Ò']: 'L',\n    ['Ú']: ':',\n    ['Æ']: '\"',\n    ['Ω']: 'z',\n    ['≈']: 'x',\n    ['ç']: 'c',\n    ['√']: 'v',\n    ['∫']: 'b',\n    ['µ']: 'm',\n    ['≤']: ',',\n    ['≥']: '.',\n    ['÷']: '/',\n    ['¸']: 'Z',\n    ['˛']: 'X',\n    ['Ç']: 'C',\n    ['◊']: 'V',\n    ['ı']: 'B',\n    ['˜']: 'N',\n    ['Â']: 'M',\n    ['¯']: '<',\n    ['˘']: '>',\n    ['¿']: '?'\n};\n\nconst macosUppercaseLayerKeys = {\n    ['`']: '~',\n    ['1']: '!',\n    ['2']: '@',\n    ['3']: '#',\n    ['4']: '$',\n    ['5']: '%',\n    ['6']: '^',\n    ['7']: '&',\n    ['8']: '*',\n    ['9']: '(',\n    ['0']: ')',\n    ['-']: '_',\n    ['=']: '+',\n    ['[']: '{',\n    [']']: '}',\n    ['\\\\']: '|',\n    [';']: ':',\n    [\"'\"]: '\"',\n    [',']: '<',\n    ['.']: '>',\n    ['/']: '?',\n    ['q']: 'Q',\n    ['w']: 'W',\n    ['e']: 'E',\n    ['r']: 'R',\n    ['t']: 'T',\n    ['y']: 'Y',\n    ['u']: 'U',\n    ['i']: 'I',\n    ['o']: 'O',\n    ['p']: 'P',\n    ['a']: 'A',\n    ['s']: 'S',\n    ['d']: 'D',\n    ['f']: 'F',\n    ['g']: 'G',\n    ['h']: 'H',\n    ['j']: 'J',\n    ['k']: 'K',\n    ['l']: 'L',\n    ['z']: 'Z',\n    ['x']: 'X',\n    ['c']: 'C',\n    ['v']: 'V',\n    ['b']: 'B',\n    ['n']: 'N',\n    ['m']: 'M'\n};\n\nconst syntheticKeyNames = {\n    ' ': 'Space',\n    '+': 'Plus'\n};\nfunction eventToHotkeyString(event, platform = navigator.platform) {\n    var _a, _b, _c;\n    const { ctrlKey, altKey, metaKey, shiftKey, key } = event;\n    const hotkeyString = [];\n    const modifiers = [ctrlKey, altKey, metaKey, shiftKey];\n    for (const [i, mod] of modifiers.entries()) {\n        if (mod)\n            hotkeyString.push(modifierKeyNames[i]);\n    }\n    if (!modifierKeyNames.includes(key)) {\n        const altNormalizedKey = hotkeyString.includes('Alt') && matchApplePlatform.test(platform) ? (_a = macosSymbolLayerKeys[key]) !== null && _a !== void 0 ? _a : key : key;\n        const shiftNormalizedKey = hotkeyString.includes('Shift') && matchApplePlatform.test(platform)\n            ? (_b = macosUppercaseLayerKeys[altNormalizedKey]) !== null && _b !== void 0 ? _b : altNormalizedKey\n            : altNormalizedKey;\n        const syntheticKey = (_c = syntheticKeyNames[shiftNormalizedKey]) !== null && _c !== void 0 ? _c : shiftNormalizedKey;\n        hotkeyString.push(syntheticKey);\n    }\n    return hotkeyString.join('+');\n}\nconst modifierKeyNames = ['Control', 'Alt', 'Meta', 'Shift'];\nfunction normalizeHotkey(hotkey, platform) {\n    let result;\n    result = localizeMod(hotkey, platform);\n    result = sortModifiers(result);\n    return result;\n}\nconst matchApplePlatform = /Mac|iPod|iPhone|iPad/i;\nfunction localizeMod(hotkey, platform) {\n    var _a;\n    const ssrSafeWindow = typeof window === 'undefined' ? undefined : window;\n    const safePlatform = (_a = platform !== null && platform !== void 0 ? platform : ssrSafeWindow === null || ssrSafeWindow === void 0 ? void 0 : ssrSafeWindow.navigator.platform) !== null && _a !== void 0 ? _a : '';\n    const localModifier = matchApplePlatform.test(safePlatform) ? 'Meta' : 'Control';\n    return hotkey.replace('Mod', localModifier);\n}\nfunction sortModifiers(hotkey) {\n    const key = hotkey.split('+').pop();\n    const modifiers = [];\n    for (const modifier of ['Control', 'Alt', 'Meta', 'Shift']) {\n        if (hotkey.includes(modifier)) {\n            modifiers.push(modifier);\n        }\n    }\n    if (key)\n        modifiers.push(key);\n    return modifiers.join('+');\n}\n\nconst SEQUENCE_DELIMITER = ' ';\nclass SequenceTracker {\n    constructor({ onReset } = {}) {\n        this._path = [];\n        this.timer = null;\n        this.onReset = onReset;\n    }\n    get path() {\n        return this._path;\n    }\n    get sequence() {\n        return this._path.join(SEQUENCE_DELIMITER);\n    }\n    registerKeypress(event) {\n        this._path = [...this._path, eventToHotkeyString(event)];\n        this.startTimer();\n    }\n    reset() {\n        var _a;\n        this.killTimer();\n        this._path = [];\n        (_a = this.onReset) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    killTimer() {\n        if (this.timer != null) {\n            window.clearTimeout(this.timer);\n        }\n        this.timer = null;\n    }\n    startTimer() {\n        this.killTimer();\n        this.timer = window.setTimeout(() => this.reset(), SequenceTracker.CHORD_TIMEOUT);\n    }\n}\nSequenceTracker.CHORD_TIMEOUT = 1500;\nfunction normalizeSequence(sequence) {\n    return sequence\n        .split(SEQUENCE_DELIMITER)\n        .map(h => normalizeHotkey(h))\n        .join(SEQUENCE_DELIMITER);\n}\n\nfunction isFormField(element) {\n    if (!(element instanceof HTMLElement)) {\n        return false;\n    }\n    const name = element.nodeName.toLowerCase();\n    const type = (element.getAttribute('type') || '').toLowerCase();\n    return (name === 'select' ||\n        name === 'textarea' ||\n        (name === 'input' &&\n            type !== 'submit' &&\n            type !== 'reset' &&\n            type !== 'checkbox' &&\n            type !== 'radio' &&\n            type !== 'file') ||\n        element.isContentEditable);\n}\nfunction fireDeterminedAction(el, path) {\n    const delegateEvent = new CustomEvent('hotkey-fire', { cancelable: true, detail: { path } });\n    const cancelled = !el.dispatchEvent(delegateEvent);\n    if (cancelled)\n        return;\n    if (isFormField(el)) {\n        el.focus();\n    }\n    else {\n        el.click();\n    }\n}\nfunction expandHotkeyToEdges(hotkey) {\n    const output = [];\n    let acc = [''];\n    let commaIsSeparator = false;\n    for (let i = 0; i < hotkey.length; i++) {\n        if (commaIsSeparator && hotkey[i] === ',') {\n            output.push(acc);\n            acc = [''];\n            commaIsSeparator = false;\n            continue;\n        }\n        if (hotkey[i] === SEQUENCE_DELIMITER) {\n            acc.push('');\n            commaIsSeparator = false;\n            continue;\n        }\n        else if (hotkey[i] === '+') {\n            commaIsSeparator = false;\n        }\n        else {\n            commaIsSeparator = true;\n        }\n        acc[acc.length - 1] += hotkey[i];\n    }\n    output.push(acc);\n    return output.map(h => h.map(k => normalizeHotkey(k)).filter(k => k !== '')).filter(h => h.length > 0);\n}\n\nconst hotkeyRadixTrie = new RadixTrie();\nconst elementsLeaves = new WeakMap();\nlet currentTriePosition = hotkeyRadixTrie;\nconst sequenceTracker = new SequenceTracker({\n    onReset() {\n        currentTriePosition = hotkeyRadixTrie;\n    }\n});\nfunction keyDownHandler(event) {\n    if (event.defaultPrevented)\n        return;\n    if (!(event.target instanceof Node))\n        return;\n    if (isFormField(event.target)) {\n        const target = event.target;\n        if (!target.id)\n            return;\n        if (!target.ownerDocument.querySelector(`[data-hotkey-scope=\"${target.id}\"]`))\n            return;\n    }\n    const newTriePosition = currentTriePosition.get(eventToHotkeyString(event));\n    if (!newTriePosition) {\n        sequenceTracker.reset();\n        return;\n    }\n    sequenceTracker.registerKeypress(event);\n    currentTriePosition = newTriePosition;\n    if (newTriePosition instanceof Leaf) {\n        const target = event.target;\n        let shouldFire = false;\n        let elementToFire;\n        const formField = isFormField(target);\n        for (let i = newTriePosition.children.length - 1; i >= 0; i -= 1) {\n            elementToFire = newTriePosition.children[i];\n            const scope = elementToFire.getAttribute('data-hotkey-scope');\n            if ((!formField && !scope) || (formField && target.id === scope)) {\n                shouldFire = true;\n                break;\n            }\n        }\n        if (elementToFire && shouldFire) {\n            fireDeterminedAction(elementToFire, sequenceTracker.path);\n            event.preventDefault();\n        }\n        sequenceTracker.reset();\n    }\n}\nfunction install(element, hotkey) {\n    if (Object.keys(hotkeyRadixTrie.children).length === 0) {\n        document.addEventListener('keydown', keyDownHandler);\n    }\n    const hotkeys = expandHotkeyToEdges(hotkey || element.getAttribute('data-hotkey') || '');\n    const leaves = hotkeys.map(h => hotkeyRadixTrie.insert(h).add(element));\n    elementsLeaves.set(element, leaves);\n}\nfunction uninstall(element) {\n    const leaves = elementsLeaves.get(element);\n    if (leaves && leaves.length) {\n        for (const leaf of leaves) {\n            leaf && leaf.delete(element);\n        }\n    }\n    if (Object.keys(hotkeyRadixTrie.children).length === 0) {\n        document.removeEventListener('keydown', keyDownHandler);\n    }\n}\n\nexport { Leaf, RadixTrie, SequenceTracker, eventToHotkeyString, install, normalizeHotkey, normalizeSequence, uninstall };\n"],"names":["showGlobalError","ajaxErrorMessage","document","getElementById","hidden","hideGlobalError","on","event","error","text","detail","currentTarget","target","test","stopImmediatePropagation","setTimeout","defaultPrevented","form","errorFlash","querySelector","preventDefault","response","fetchSafeDocumentFragment","action","method","body","FormData","replaceWith","message","startsWith","textContent","observe","subscribe","el","fromEvent","data","div","status","generateConsumption","loadingClass","btnClass","wants","pollIntervalMs","loadingState","btn","warning","loading","toggle","json","notify","flashMessage","type","template","TemplateInstance","className","node","importNode","flashContainer","child","children","classList","contains","removeChild","appendChild","fetchPoll","url","Promise","resolve","reject","request","Request","headers","append","fetch","job_url","window","location","export_url","remoteForm","generateMembers","onInput","nameInput","slugInput","HTMLInputElement","value","name","trim","toLowerCase","replace","fire","hasEmptySlugValue","slugValue","setAttribute","icon","removeAttribute","exportEvents","menuClass","menu","open","buildQuery","inputs","Array","from","querySelectorAll","selects","checkboxes","searchTerms","terms","types","reduce","acc","term","Repositories","Users","Code","Issues","tokens","item","termToken","prefix","isArray","insides","map","v","join","length","keywords","searchType","params","URLSearchParams","search","get","max","key","span","createElement","prepend","wrap","globPattern","regexPattern","input","getAttribute","useOr","split","filter","flatMap","x","handleReasonChanged","stateEl","reasonEl","stateValue","reasonValue","handleStateChanged","onFocus","label","closest","add","addEventListener","remove","once","seatsFormGroup","seatsInput","seatsSelected","style","display","seatsInputElement","min","e","button","elem","getElementsByClassName","checkbox","requestSubmit","radio","submitBtn","disabled","reason","originalUsername","autoRename","endsWith","notesRequired","username","notes","toggleAttribute","notesContainer","onKey","PollSynchronousPaymentElement","HTMLElement","connectedCallback","loadingStatus","collectPayment","buttonElement","fetchPaymentCollectionJobUrl","refreshPage","job_status","pollPaymentCollectionJobStatus","state","successHTML","html","render","completionMessage","failedHTML","error_message","errorHTML","accept","responseData","job","Accept","reload","controller","addText","inviteText","isEmail","li","selected","copilotMaxSeats","getElementsByName","shortcodeDl","seatsPlanType","checked","focus","hasAttribute","initialize","setInterval","indexName","repairStatus","disableRepositoryButtons","parent","summary","populateStatus","container","showStafftoolsLink","stafftoolsLink","handleBulkRestoreClick","anySelectedRepositories","msg","success","innerHTML","progress","href","includes","checkedIdPrefix","dialogText","bulkJobs","startedMessage","itemId","push","failureMessage","onItemQueue","repoContainer","partialPath","pollStatusPartial","firstElementChild","ok","restoreError","errors","populateError","bulkJobStatusPath","updateTotals","baseUrl","seats","duration","URL","origin","slice","toString","ref","selectors","selector","starting_new_subscription","updateSeatCount","Math","parseInt","durationField","constructor","addThrottledInputEventListener","field","requireMailer","canApprove","checkedInputsCount","toggleMailerWarning","emailWarning","toggleApprovalButton","setCheckedState","check","toggleChecked","selectAllCheckbox","publicRepoCheckboxes","repoCheckbox","sponsorsBulkManageButtonClicked","clickedButton","formSelector","listingsTable","otherBulkManageButtons","shouldDisableOthers","otherButton","normalizeSponsorableLogin","login","changeComplimentaryAccessRequiring","required","complimentaryAccessTextarea","complimentaryAccessDurationUnlimited","complimentaryAccessDurationSpecified","complimentaryAccessDurationMonth","complimentaryAccessDurationDay","complimentaryAccessDurationYear","sponsorsRetryOneTimeSubscriptionItemsButtonClicked","subscriptionItemsTable","activeForm","autocomplete","sponsorableLogin","tagInput","findSponsorsMaintainerTagForCheckbox","inputName","tagInputContainer","inputSelector","removeSponsorsMaintainerTag","tagInputListItem","tagInputForm","findSponsorsMaintainerCheckboxForTag","hiddenInput","checkboxSelector","removeButton","AutocompleteElement","findSponsorsMaintainerCheckboxForLogin","textarea","showPotentialSponsorableBannerPreview","fieldName","fieldValue","previewForm","bannerPreviewHTML","responseError","clickedElement","tagName","toggleSponsorsBulkActionCheckbox","tableRow","tableSelector","table","selectedReason","technicalPreviewExtensionDetails","yCombinatorDetails","complimentaryAccessDetails","selectedDuration","ids","retiredIdsElement","element","JSON","parse","id","chordOrKeyRegex","splitHotkeyString","hotkey","matchAll","chord","Subscription","cleanup","closed","unsubscribe","eventName","onNext","options","capture","removeEventListener","compose","subscriptions","subscription","Leaf","trie","delete","index","indexOf","concat","RadixTrie","edge","insert","edges","currentNode","i","nextNode","Object","keys","macosSymbolLayerKeys","macosUppercaseLayerKeys","syntheticKeyNames","eventToHotkeyString","platform","navigator","_a","_b","_c","ctrlKey","altKey","metaKey","shiftKey","hotkeyString","mod","modifiers","entries","modifierKeyNames","altNormalizedKey","matchApplePlatform","shiftNormalizedKey","syntheticKey","normalizeHotkey","sortModifiers","pop","modifier","localizeMod","ssrSafeWindow","undefined","localModifier","SequenceTracker","onReset","_path","timer","path","sequence","registerKeypress","startTimer","reset","killTimer","call","clearTimeout","CHORD_TIMEOUT","normalizeSequence","h","isFormField","nodeName","isContentEditable","hotkeyRadixTrie","elementsLeaves","WeakMap","currentTriePosition","sequenceTracker","keyDownHandler","Node","ownerDocument","newTriePosition","elementToFire","shouldFire","formField","scope","fireDeterminedAction","delegateEvent","CustomEvent","cancelable","dispatchEvent","click","install","leaves","hotkeys","output","commaIsSeparator","k","set","uninstall","leaf"],"sourceRoot":""}