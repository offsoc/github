"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_graphs_code-frequency-graph-element_ts"],{82887:(t,e,n)=>{n.d(e,{A:()=>a});function a(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},44317:(t,e,n)=>{n.d(e,{A:()=>a});function a(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let a=-1;for(let r of t)null!=(r=e(r,++a,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}},33260:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(35058),r=n(12736),l=n(84653),i=n(71228),o=n(58679),u=n(59835);function s(t,e,n){var s=null,c=(0,l.A)(!0),f=null,d=i.A,p=null;function g(l){var i,o,u,g,h,y=(l=(0,r.A)(l)).length,m=!1,A=Array(y),v=Array(y);for(null==f&&(p=d(h=(0,a.A)())),i=0;i<=y;++i){if(!(i<y&&c(g=l[i],i,l))===m){if(m=!m)o=i,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),u=i-1;u>=o;--u)p.point(A[u],v[u]);p.lineEnd(),p.areaEnd()}}m&&(A[i]=+t(g,i,l),v[i]=+e(g,i,l),p.point(s?+s(g,i,l):A[i],n?+n(g,i,l):v[i]))}if(h)return p=null,h+""||null}function h(){return(0,o.A)().defined(c).curve(d).context(f)}return t="function"==typeof t?t:void 0===t?u.x:(0,l.A)(+t),e="function"==typeof e?e:void 0===e?(0,l.A)(0):(0,l.A)(+e),n="function"==typeof n?n:void 0===n?u.y:(0,l.A)(+n),g.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,l.A)(+e),s=null,g):t},g.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,l.A)(+e),g):t},g.x1=function(t){return arguments.length?(s=null==t?null:"function"==typeof t?t:(0,l.A)(+t),g):s},g.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,l.A)(+t),n=null,g):e},g.y0=function(t){return arguments.length?(e="function"==typeof t?t:(0,l.A)(+t),g):e},g.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:(0,l.A)(+t),g):n},g.lineX0=g.lineY0=function(){return h().x(t).y(e)},g.lineY1=function(){return h().x(t).y(n)},g.lineX1=function(){return h().x(s).y(e)},g.defined=function(t){return arguments.length?(c="function"==typeof t?t:(0,l.A)(!!t),g):c},g.curve=function(t){return arguments.length?(d=t,null!=f&&(p=d(f)),g):d},g.context=function(t){return arguments.length?(null==t?f=p=null:p=d(f=t),g):f},g}},83836:(t,e,n)=>{n.d(e,{A:()=>r});var a=n(82562);function r(t){return Intl.NumberFormat((0,a.mf)(),{maximumFractionDigits:2,maximumSignificantDigits:4,notation:"compact"}).format(t)}},45974:(t,e,n)=>{n.r(e);var a=n(82887),r=n(21671),l=n(44317),i=n(51889),o=n(39595),u=n(96020),s=n(4049),c=n(33260),f=n(27193),d=n(83836),p=n(5225),g=n(50183),h=n(22211);function y(t,e,n,a){var r,l=arguments.length,i=l<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(i=(l<3?r(i):l>3?r(e,n,i):r(e,n))||i);return l>3&&i&&Object.defineProperty(e,n,i),i}let m=(0,p.A)(A);async function A(t){let e=await (0,f.Ee)(t,{headers:{accept:"application/json"}});return await e.json()}let v=class CodeFrequencyGraphElement extends HTMLElement{async connectedCallback(){let t=this.graph,e=t.getAttribute("data-url");if(e){for(let e of t.querySelectorAll("svg.viz"))e.remove();t.classList.add("is-graph-loading"),t.classList.remove("is-graph-load-error","is-graph-empty");try{let n=await m(e);t.classList.remove("is-graph-loading"),null!=n&&n.unusable?t.classList.add("is-graph-without-usable-data"):null!=n&&n.tooLarge?t.classList.add("is-graph-too-large"):null!=n&&0===n.length||null!=n&&null!=n.summary&&0===n.summary.total||null!=n[0]&&null!=n[0].weeks&&0===n[0].weeks.length?t.classList.add("is-graph-empty"):function(t,e){let n=Math.round(t.getBoundingClientRect().width),[o,f,p,y]=[10,10,100,60],m=e.map(t=>[new Date(1e3*t[0]),t[1],t[2]]).sort((t,e)=>(0,a.A)(t[0],e[0])),A=m.map(t=>[t[0],t[1]]),v=m.map(t=>[t[0],t[2]]),b=(0,r.A)(A,t=>t[1]),w=(0,l.A)(v,t=>t[1]);if(!b||!w)throw new x("Graph has no valid max or min values");let k=m[0][0],L=m[m.length-1][0],S=(0,u.A)().domain([k,L]).range([0,n-y-f]),D=(0,s.A)().domain([w,b]).range([500-p-o,0]),E=(0,i.l7)(S).tickFormat(t=>{if(!(t instanceof Date)||!(k instanceof Date)||!(L instanceof Date))throw Error("invariant");return k.getFullYear()!==L.getFullYear()?(0,h.DC)("%B %Y")(t):(0,h.DC)("%d %B %Y")(t)}),C=(0,i.V4)(D).tickPadding(5).tickSize(n).tickFormat(t=>{if("number"!=typeof t)throw Error("invariant");return(0,d.A)(Math.abs(t))}),F=(0,c.A)().x(t=>S(t[0])).y0(t=>D(t[1])).y1(()=>D(0)),M=(0,g.A)(t).append("svg").attr("viewBox",`0 0 ${n} 500`).attr("preserveAspectRatio","xMinYMin meet").attr("class","viz code-frequency").append("g").attr("transform",`translate(${y},${o})`);M.append("g").attr("class","x axis").attr("transform",`translate(0, ${500-o-p})`).call(E).selectAll(".tick text").attr("fill","#6a737d").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),M.append("g").attr("class","y axis").attr("transform",`translate(${n}, 0)`).call(C).selectAll(".tick text").attr("fill","#6a737d"),M.selectAll("path.area").data([A,v]).enter().append("path").attr("class",(t,e)=>0===e?"addition":"deletion").attr("d",F)}(t,n)}catch(e){if(t.classList.remove("is-graph-loading"),e instanceof x)t.classList.add("is-graph-empty");else throw t.classList.add("is-graph-load-error"),e}}}};y([o.aC],v.prototype,"graph",void 0),v=y([o.p_],v);let x=class ValuesError extends Error{}},82562:(t,e,n)=>{n.d(e,{US:()=>r,mf:()=>l,mx:()=>a});let a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],l=()=>{try{return Intl.getCanonicalLocales(window.navigator.language)[0]}catch(t){return"en-US"}}}}]);
//# sourceMappingURL=app_assets_modules_github_graphs_code-frequency-graph-element_ts-93ca4dc0ad4a.js.map