"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_primer_navigation_list_lazy-load-section-element_ts"],{31725:(t,e,r)=>{r.r(e);var s=r(39595);function a(t,e,r,s){var a,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,s);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}let i=class LazyLoadSectionElement extends HTMLElement{get disabled(){return this.showMoreItem.hasAttribute("aria-disabled")}set disabled(t){t?this.showMoreItem.setAttribute("aria-disabled","true"):this.showMoreItem.removeAttribute("aria-disabled"),this.showMoreItem.classList.toggle("disabled",t)}set current_page(t){this.showMoreItem.setAttribute("data-current-page",t.toString())}get current_page(){return parseInt(this.showMoreItem.getAttribute("data-current-page"))||1}get total_pages(){return parseInt(this.showMoreItem.getAttribute("pages"))||1}get pagination_src(){return this.showMoreItem.getAttribute("src")||""}connectedCallback(){this.setShowMoreItemState()}async submit(t){let e;if(t.preventDefault(),this.disabled)return;this.disabled=!0;try{let t=new URL(this.pagination_src,window.location.origin);this.current_page++,t.searchParams.append("page",this.current_page.toString());let r=await fetch(t);if(!r.ok)return;e=await r.text(),this.current_page===this.total_pages&&(this.showMoreItem.hidden=!0)}catch(t){this.disabled=!1,this.current_page--;return}let r=this.parseHTML(document,e);r?.querySelector("li > a")?.setAttribute("data-targets","lazy-load-section.focusMarkers"),this.list.insertBefore(r,this.showMoreItem),this.focusMarkers.pop()?.focus(),this.disabled=!1}setShowMoreItemState(){this.current_page<this.total_pages?this.showMoreItem.hidden=!1:this.showMoreItem.hidden=!0}parseHTML(t,e){let r=t.createElement("template");return r.innerHTML=e,t.importNode(r.content,!0)}};a([s.aC],i.prototype,"list",void 0),a([s.aC],i.prototype,"showMoreItem",void 0),a([s.zV],i.prototype,"focusMarkers",void 0),i=a([s.p_],i)}}]);
//# sourceMappingURL=app_components_primer_navigation_list_lazy-load-section-element_ts-efb4058032f6.js.map