<%
  instrument_actions_page_view
  workflow_runs = local_assigns[:workflow_runs]
  page_title = local_assigns[:page_title]
  user_has_push_access = current_repository.writable_by?(current_user)
%>

<%= render layout: "layouts/actions_main", locals: {
  workflow_run_filters: workflow_run_filters,
  selected_workflow: selected_workflow,
  selected_workflow_name: selected_workflow_name,
  workflows: workflows,
  required_workflows: required_workflows,
  workflow_pages_count: workflow_pages_count,
  required_workflow_pages_count: required_workflow_pages_count,
  selected_section: :all_workflows,
  show_link_to_workflow: show_link_to_workflow,
  page_title: page_title,
  user_has_push_access: user_has_push_access,
  show_only_required_workflows: show_only_required_workflows,
  show_runners_view: show_runners_view,
  show_attestations_view: show_attestations_view,
  allow_pinning: allow_pinning,
} do %>
  <% track_render_partial("actions/workflow_list") do %>
    <%= render partial: "actions/workflow_list", locals: {
      workflow_run_filters: workflow_run_filters,
      workflow_runs: workflow_runs,
      selected_workflow: selected_workflow,
      show_survey_prompt: show_survey_prompt,
      page_title: page_title,
      repo_blocked: repo_blocked,
      user_blocked: user_blocked,
      show_link_to_workflow: show_link_to_workflow,
      page_limit_reached: page_limit_reached,
      recommended_date_filter: recommended_date_filter,
      user_has_push_access: user_has_push_access,
      show_only_required_workflows: show_only_required_workflows
    } %>
  <% end %>
<% end %>
