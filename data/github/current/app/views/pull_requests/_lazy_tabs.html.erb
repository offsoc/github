<% if pull.historical_comparison.init_diffs.summary_warm? %>
  <% GitHub.dogstats.increment("pull_request.lazy_tabs.inline") %>
  <%= render partial: "pull_requests/tabs", locals: { pull: pull, lazy_load_diff: false } %>
<% else %>
  <% GitHub.dogstats.increment("pull_request.lazy_tabs.async") %>
  <include-fragment src="<%= pull_request_tabs_partial_path(tab: params[:tab]) %>">
    <%= render partial: "pull_requests/tabs", locals: { pull: pull, lazy_load_diff: true } %>
  </include-fragment>
<% end %>
