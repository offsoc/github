<%= form_with(
  url: stafftools_trade_compliance_microsoft_trade_help_emails_path,
  method: :post,
  html: { class: "m-3" },
  namespace: "trade_controls",
) do |f| %>
  <%= hidden_field_tag 'cc_email', cc_email %>
  <%= render Primer::Alpha::TextField.new(
    disabled: true,
    name: "cc_email",
    label: "CC Email",
    value: cc_email,
    mb: 3,
    data: { test_selector: "contact-trade-help-cc-email" },
  ) %>
  <%= render Primer::Alpha::TextField.new(
    name: "bcc_email",
    label: "BCC additional emails",
    value: "",
    placeholder: "hubber1@github.com, hubber2@github.com",
    mb: 3,
    data: { test_selector: "contact-trade-help-bcc-email" },
  ) %>
  <%= render Primer::Alpha::TextField.new(
    name: "subject",
    label: "Subject",
    required: true,
    value: subject_line,
    mb: 3,
    data: { test_selector: "contact-trade-help-subject" },
  ) %>
  <%= render Primer::Alpha::TextArea.new(
    name: "email_content",
    label: "Message",
    required: true,
    value: email_content,
    style: "resize:vertical;min-height:160px",
    mb: 3,
    data: { test_selector: "contact-trade-help-email-content" },
  ) %>
  <%= render Primer::Beta::Button.new(
    type: :submit,
    block: true,
    test_selector: "contact-trade-help-button",
  ) do %>
    Contact Microsoft Trade Support
  <% end %>
<% end %>
