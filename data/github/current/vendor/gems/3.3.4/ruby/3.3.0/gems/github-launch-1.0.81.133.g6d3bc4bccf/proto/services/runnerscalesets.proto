syntax = "proto3";
package git_hub.launch.services.runnerscalesets;

option go_package = "github.com/github/launch/services/deploy/runnerscalesets";

import "pbtypes/github.proto";

service RunnerScaleSets {
  rpc ListRunnerScaleSets(ListRunnerScaleSetsRequest) returns (ListRunnerScaleSetsResponse) {}
  rpc GetRunnerScaleSet(GetRunnerScaleSetRequest) returns (GetRunnerScaleSetResponse) {}
}

message ListRunnerScaleSetsRequest {
  pbtypes.git_hub.Identity owner_id = 1;
  reserved 2;
  reserved 3;
  bool exclude_elastic_runners = 4;
}

message ListRunnerScaleSetsResponse {
  repeated RunnerScaleSet runner_scale_sets = 1;
}

message GetRunnerScaleSetRequest {
  pbtypes.git_hub.Identity owner_id = 1;
  int64 scale_set_id = 2;
}

message GetRunnerScaleSetResponse {
  RunnerScaleSet runner_scale_set = 1;
}

message RunnerScaleSet {
  int64 id = 1;
  string name = 2;
  int64 runner_group_id = 3;
  string runner_group_name = 4;
  string status = 5;
  RunnerScaleSetStatistics statistics = 6;
  repeated Label labels = 7;
}

message RunnerScaleSetStatistics {
  int64 total_available_jobs = 1;
  int64 total_acquired_jobs = 2;
  int64 total_assigned_jobs = 3;
  int64 total_running_jobs = 4;
  int64 total_registered_runners = 5;
  int64 total_busy_runners = 6;
  int64 total_idle_runners = 7;
}

message Label {
  int64 id = 1;
  string name = 2;
  string type = 3;
}
