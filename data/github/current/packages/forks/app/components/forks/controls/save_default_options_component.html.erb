<%= render Primer::Box.new(test_selector: "save-default-user-options") do %>
  <template hidden data-target="search-control-menu.successToast">
    <%= render partial: "shared/toast", locals: { text: "Your default options were saved successfully", state: "success", icon: "check" } %><%# erblint:disable A11yToastMigration %>
  </template>
  <template hidden data-target="search-control-menu.errorToast">
    <%= render partial: "shared/toast", locals: { text: "Your default options could not be updated", state: "warning", icon: "alert" } %><%# erblint:disable A11yToastMigration %>
  </template>
  <%= csrf_hidden_input_for action_path, data: { target: "search-control-menu.authenticityTokenInput" } %>
  <%= render Primer::Beta::Button.new(
    size: :small,
    name: "save-default-options",
    font_weight: :normal,
    disabled: allow_submit? ? nil : "disabled",
    data: {
      disable_with: DISABLED_VALUE,
      href: action_path,
      target: "search-control-menu.saveOptionsButton",
      action: "click:search-control-menu#saveDefaultOptions",
    },
  ) do %>
    <%= allow_submit? ? ACTIVE_VALUE : DISABLED_VALUE %>
  <% end %>
<% end %>
