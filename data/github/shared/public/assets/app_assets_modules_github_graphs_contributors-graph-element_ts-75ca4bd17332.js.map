{"version":3,"file":"chunk-app_assets_modules_github_graphs_contributors-graph-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/d3/format-symbol.ts","app/assets/modules/github/graphs/contributors-graph-element.ts","app/assets/modules/github/locale.ts","ui/packages/browser-history-state/browser-history-state.ts"],"sourcesContent":["import {getUserLanguage} from '../locale'\n\nexport default function formatSymbol(number: number): string {\n  const formatter = Intl.NumberFormat(getUserLanguage(), {\n    maximumFractionDigits: 2,\n    maximumSignificantDigits: 4,\n    notation: 'compact',\n  })\n\n  return formatter.format(number)\n}\n","import {axisBottom, axisLeft} from 'd3-axis'\nimport {controller, target} from '@github/catalyst'\nimport {curveBasis, area as d3area} from 'd3-shape'\nimport {max as d3max, descending} from 'd3-array'\nimport {scaleLinear, scaleTime} from 'd3-scale'\nimport {timeFormat, utcFormat} from 'd3-time-format'\nimport type {Selection} from 'd3-selection'\nimport {TemplateInstance} from '@github/template-parts'\nimport {brushX} from 'd3-brush'\nimport {entries} from 'd3-collection'\nimport {fetchPoll} from '@github-ui/fetch-utils'\nimport formatSymbol from '../d3/format-symbol'\nimport memoize from '@github/memoize'\nimport {months} from '../locale'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {pushState} from '@github-ui/browser-history-state'\nimport {select} from 'd3-selection'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype GraphNetworkData = any\n\nconst cachedData = memoize(fetchData)\nasync function fetchData(url: string): Promise<GraphNetworkData> {\n  const response = await fetchPoll(url, {headers: {accept: 'application/json'}})\n  return await response.json()\n}\n\n@controller\nclass ContributorsGraphElement extends HTMLElement {\n  @target graph: HTMLElement\n\n  async connectedCallback() {\n    const graph = this.graph\n    const url = graph.getAttribute('data-url')\n    if (!url) {\n      return\n    }\n\n    // Remove possibly existing cached graph.\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    for (const el of graph.querySelectorAll('svg.viz')) {\n      el.remove()\n    }\n\n    graph.classList.add('is-graph-loading')\n    graph.classList.remove('is-graph-load-error', 'is-graph-empty')\n\n    try {\n      const data = await cachedData(url)\n      graph.classList.remove('is-graph-loading')\n      if (data != null && data.unusable) {\n        graph.classList.add('is-graph-without-usable-data')\n      } else if (\n        (data != null && data.length === 0) ||\n        (data != null && data.summary != null && data.summary.total === 0) ||\n        (data[0] != null && data[0].weeks != null && data[0].weeks.length === 0)\n      ) {\n        graph.classList.add('is-graph-empty')\n      } else {\n        render(graph, data)\n      }\n    } catch (error) {\n      graph.classList.remove('is-graph-loading')\n      graph.classList.add('is-graph-load-error')\n      throw error\n    }\n  }\n}\n\ntype DateRange = [Date, Date]\n\ninterface Author {\n  id: number\n  login: string\n  avatar: string\n  path: string\n  hovercard_url: string\n}\n\ninterface Week {\n  c: number\n  a: number\n  d: number\n  w: number\n  date: Date\n}\n\ninterface Contributor {\n  author: Author\n  total: number\n  weeks: Week[]\n  c: number\n  a: number\n  d: number\n}\n\ntype Data = Contributor[]\n\nfunction formatUTCDate(date: Date) {\n  const month = months[date.getUTCMonth()]\n  return month ? `${month.slice(0, 3)} ${date.getUTCDate()}, ${date.getUTCFullYear()}` : ''\n}\n\n// Updates HTML page header with current date range\nfunction updatePageHeader(dateRange: DateRange) {\n  const start = formatUTCDate(dateRange[0])\n  const end = formatUTCDate(dateRange[1])\n  const element = document.querySelector<HTMLElement>('.js-date-range')\n  if (element) {\n    element.textContent = `${start} – ${end}`\n  }\n}\n\n// If we only have 1 week of data, we need to pad the data with a previous week\n// so we can have two points to draw a proper segment\nfunction padWeekData(data: Data) {\n  const date = data[0]!.weeks[0]!.date\n  const start = new Date(date.getTime() - 7 * 24 * 60 * 60 * 1000)\n  for (const author of data) {\n    author.weeks.unshift({\n      a: 0,\n      c: 0,\n      d: 0,\n      date: start,\n      w: start.getTime() / 1000,\n    })\n  }\n}\n\nconst formatDate = utcFormat('%Y-%m-%d')\n\nfunction parseDate(d: number): Date {\n  return new Date(~~d * 1000)\n}\n\nfunction filterWeeksWithRange(data: Data, range: DateRange): Data {\n  const [start, end] = range\n  return data.map(function (contributor) {\n    const cloned = Object.assign({}, contributor)\n    cloned.weeks = cloned.weeks.filter(w => w.date >= start && w.date <= end)\n    return cloned\n  })\n}\n\nfunction summarizeTotalsForWeeks(data: Data, dateRange: DateRange, contributionType: ContributionType): Data {\n  const filteredData = filterWeeksWithRange(data, dateRange)\n  for (const d of filteredData) {\n    let cmts = 0\n    let adds = 0\n    let dels = 0\n    for (const week of d.weeks) {\n      cmts += week.c\n      adds += week.a\n      dels += week.d\n    }\n    d.c = cmts\n    d.a = adds\n    d.d = dels\n  }\n  return filteredData.sort((a, b) => descending(a[contributionType], b[contributionType]))\n}\n\nfunction parseDates(data: Data) {\n  for (const author of data) {\n    for (const week of author.weeks) {\n      week.date = new Date(week.w * 1000)\n    }\n  }\n}\n\ninterface Total {\n  key: string\n  value: {c: number; a: number; d: number}\n}\n\nfunction calculateOverallTotals(data: Data): Total[] {\n  const totals: {[key: number]: {c: number; a: number; d: number}} = {}\n  for (const author of data) {\n    for (const week of author.weeks) {\n      let total = totals[week.w]\n      if (!total) {\n        total = totals[week.w] = {c: 0, a: 0, d: 0}\n      }\n      total.c += week.c\n      total.a += week.a\n      total.d += week.d\n    }\n  }\n  return entries(totals)\n}\n\nfunction updateURL(dateRange: DateRange, contributionType: string) {\n  const url = new URL(window.location.href, window.location.origin)\n  const params = new URLSearchParams(url.search)\n  params.set('from', formatDate(dateRange[0]))\n  params.set('to', formatDate(dateRange[1]))\n  params.set('type', contributionType)\n  url.search = params.toString()\n\n  pushState(null, '', url.toString())\n}\n\nfunction currentContributionType(): string {\n  const params = new URLSearchParams(window.location.search)\n  return params.get('type') || 'c'\n}\n\nfunction currentDateRange(): DateRange | undefined {\n  const params = new URLSearchParams(window.location.search)\n  const start = params.get('from')\n  const end = params.get('to')\n  if (start && end) {\n    return [new Date(start), new Date(end)]\n  }\n  return\n}\n\ninterface State {\n  data: Data\n  totals: Total[]\n  fullTimeSpan: DateRange\n  selectedTimeSpan: DateRange\n}\n\n// Additions, deletions and commits\ntype ContributionType = 'a' | 'd' | 'c'\n\nconst states = new WeakMap()\n\nfunction createRange(start: Date, end: Date): DateRange {\n  const now = new Date()\n  if (end > now) {\n    end = new Date(Date.UTC(now.getFullYear(), now.getMonth(), now.getDate()))\n  }\n  return [start, end]\n}\n\nfunction render(container: HTMLElement, data: Data) {\n  parseDates(data)\n\n  if (data[0]!.weeks.length === 1) {\n    padWeekData(data)\n  }\n\n  const totals = calculateOverallTotals(data)\n  const fullTimeSpan = createRange(\n    parseDate(Number(totals[0]!.key)),\n    parseDate(~~totals[totals.length - 1]!.key + 6 * 24 * 3600),\n  )\n  const dateRangeFromUrl = currentDateRange()\n  const selectedTimeSpan = dateRangeFromUrl || fullTimeSpan\n\n  const state = {data, totals, fullTimeSpan, selectedTimeSpan}\n  states.set(container, state)\n\n  updatePageHeader(selectedTimeSpan)\n  renderMasterChart(container, state)\n  renderContributorsList(container, state, dateRangeFromUrl)\n}\n\nfunction dateRangeSelected(container: Element, selectedRange?: DateRange) {\n  const state = states.get(container)!\n  if (!selectedRange || formatDate(selectedRange[0]) === formatDate(selectedRange[1])) {\n    state.selectedTimeSpan = state.fullTimeSpan\n  } else {\n    state.selectedTimeSpan = selectedRange\n  }\n  updateURL(state.selectedTimeSpan, currentContributionType())\n  updatePageHeader(state.selectedTimeSpan)\n  renderContributorsList(container, state, selectedRange)\n}\n\non(\n  'details-menu-selected',\n  '.js-contribution-menu',\n  function (event) {\n    const button = event.detail.relatedTarget as HTMLButtonElement\n    const container = document.querySelector<HTMLElement>('.js-graph')!\n    const state = states.get(container)!\n    if (state && currentContributionType() !== button.value) {\n      updateURL(state.selectedTimeSpan, button.value)\n      renderMasterChart(container, state)\n      renderContributorsList(container, state)\n    }\n  },\n  {capture: true},\n)\n\nfunction renderContributorsList(container: Element, state: State, selectedRange?: DateRange) {\n  const {selectedTimeSpan} = state\n  const [startDate, endDate] = selectedTimeSpan\n\n  // Remove old wrapper\n  const oldRoot = document.querySelector('#contributors ol')\n  if (oldRoot) {\n    oldRoot.remove()\n  }\n\n  // Get data\n  const params = new URLSearchParams(window.location.search)\n  const contributionType = (params.get('type') || 'c') as ContributionType\n  const data = summarizeTotalsForWeeks(state.data, selectedTimeSpan, contributionType)\n\n  // Set up wrapper and bounds\n  const root = document.createElement('ol')\n  const vis = select(root).attr('class', 'contrib-data list-style-none')\n\n  // Remove each previous graph\n  for (const person of document.querySelectorAll('.contrib-person')) {\n    person.remove()\n  }\n\n  // Accessors\n  const authorHoverCardUrlAccessor = (d: Contributor) => d.author.hovercard_url\n  const authorPathAccessor = (d: Contributor) => d.author.path\n  const authorAvatarUrlAccessor = (d: Contributor) => d.author.avatar\n  const authorLoginAccessor = (d: Contributor) => d.author.login\n\n  const graphElement = document.querySelector<HTMLElement>('.graphs')\n  let repoURL = ''\n\n  if (graphElement) {\n    repoURL = graphElement.getAttribute('data-repo-url') || ''\n  }\n\n  const template = document.querySelector<HTMLTemplateElement>('#graphs-contributors-person-item')!\n\n  // Create a graph for each person\n  const personSelection = vis\n    .selectAll('.contrib-person')\n    .data(data.filter((d: Contributor) => d[contributionType]))\n    .enter()\n    .append((d, i) => {\n      const contributorParams = new URLSearchParams()\n      contributorParams.set('author', authorLoginAccessor(d))\n\n      if (selectedRange) {\n        contributorParams.set('since', formatDate(selectedRange[0]))\n        contributorParams.set('until', formatDate(selectedRange[1]))\n      }\n\n      const instance = new TemplateInstance(template, {\n        hoverCardUrl: authorHoverCardUrlAccessor(d),\n        authorUrl: authorPathAccessor(d),\n        authorAvatarUrl: authorAvatarUrlAccessor(d),\n        authorLogin: authorLoginAccessor(d),\n        place: `#${i + 1}`,\n        contributorUrl: `${repoURL}/commits?${contributorParams.toString()}`,\n        contributorUrlText: `${new Intl.NumberFormat('en-US').format(d.c)} ${d.c === 1 ? 'commit' : 'commits'}`,\n        linesAdded: `${new Intl.NumberFormat('en-US').format(d.a)} ++`,\n        linesDeleted: `${new Intl.NumberFormat('en-US').format(d.d)} --`,\n      })\n\n      const li = instance.children[0]!\n      if ((i + 1) % 2) {\n        li.classList.add('pr-2')\n      } else {\n        li.classList.add('pl-2')\n      }\n\n      return li\n    })\n\n  renderContributorItem(\n    personSelection,\n    data,\n    parseInt(container.getAttribute('data-graph-width')!, 10),\n    startDate,\n    endDate,\n  )\n\n  container.appendChild(root)\n}\n\nfunction renderContributorItem(\n  container: Selection<Element, Contributor, HTMLOListElement, unknown>,\n  data: Contributor[],\n  width: number,\n  startDate: Date,\n  endDate: Date,\n) {\n  // Fetch the type state from the URL\n  const params = new URLSearchParams(window.location.search)\n  const contributionType = (params.get('type') || 'c') as ContributionType\n\n  // Set up accessors\n  const dateAccessor = (d: Week) => d.date\n  const typeAccessor = (d: Week) => d[contributionType]\n\n  // Set up dimensions of graph\n  const dimensions = {\n    width,\n    height: 140,\n    margin: {\n      top: 10,\n      left: 20,\n      right: 20,\n      bottom: 20,\n    },\n    boundedHeight: 0,\n    boundedWidth: 0,\n  }\n\n  dimensions.boundedHeight = dimensions.height - dimensions.margin.bottom - dimensions.margin.top\n  dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right\n\n  // Set up scales\n  const max = d3max(data, d => d3max(d.weeks, typeAccessor))!\n  const xScale = scaleTime().domain([startDate, endDate]).range([0, dimensions.width])\n  const yScale = scaleLinear().domain([0, max]).range([dimensions.boundedHeight, 0])\n\n  // Create area\n  const area = d3area<Week>()\n    .curve(curveBasis)\n    .x(d => xScale(dateAccessor(d)))\n    .y0(() => dimensions.boundedHeight)\n    .y1(d => yScale(typeAccessor(d)))\n\n  // Set up axis generators\n  const yAxisGenerator = axisLeft<number>(yScale)\n    .ticks(2)\n    .tickSize(-dimensions.width)\n    .tickPadding(10)\n    .tickFormat(formatSymbol)\n  const xAxisGenerator = axisBottom<Date>(xScale)\n  if (data[0]!.weeks.length < 5) {\n    xAxisGenerator.ticks(data[0]!.weeks.length).tickFormat(timeFormat('%x'))\n  }\n\n  // Create a viewbox to hold the graph\n  const svg = container\n    .select('span.Box')\n    .append('svg')\n    .attr(\n      'viewBox',\n      `0 0 ${dimensions.width + (dimensions.margin.left + dimensions.margin.right)} ${\n        dimensions.height + dimensions.margin.top + dimensions.margin.bottom\n      }`,\n    )\n    .attr('class', 'capped-card-content')\n    .attr('preserveAspectRatio', 'xMinYMin meet')\n    .append('g')\n    .attr('transform', `translate(${dimensions.margin.left},${dimensions.margin.top})`)\n\n  // Render x axis\n  const xAxis = svg\n    .append('g')\n    .attr('class', 'x axis')\n    // @ts-expect-error types should be validated here\n    .classed('dense', xAxisGenerator.ticks()[0] >= 10)\n    .attr('transform', `translate(0, ${dimensions.boundedHeight})`)\n    .call(xAxisGenerator)\n\n  // Customize x axis\n  xAxis\n    .selectAll('.tick text')\n    .attr('fill', '#6a737d')\n    .style('display', (_, i) => (i % 3 !== 0 ? 'none' : 'block'))\n  svg.select('.x.dense text').attr('dx', 7)\n\n  // Render y axis\n  const yAxis = svg.append('g').attr('class', 'y axis').call(yAxisGenerator)\n\n  // Customize y axis\n  yAxis\n    .selectAll('.y.axis g text')\n    .attr('fill', '#6a737d')\n    .attr('dx', dimensions.width / 2)\n    .style('display', (_, i) => (i === 0 ? 'none' : 'block'))\n    .classed('midlabel', true)\n\n  // Draw area\n  svg.append('path').attr('d', d => area(d.weeks))\n}\n\nfunction renderMasterChart(container: Element, state: State) {\n  const {totals, fullTimeSpan, selectedTimeSpan} = state\n  const [startDate, endDate] = fullTimeSpan\n\n  const dimensions = {\n    width: container.clientWidth,\n    height: 160,\n    margin: {\n      top: 20,\n      left: 50,\n      right: 20,\n      bottom: 50,\n    },\n    boundedWidth: 0,\n    boundedHeight: 0,\n  }\n  dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right\n  dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom\n\n  const params = new URLSearchParams(window.location.search)\n  const contributionType = (params.get('type') || 'c') as ContributionType\n\n  // Set up accessors\n  const dateAccessor = (d: Total) => parseDate(parseInt(d.key, 10))\n  const typeAccessor = (d: Total) => d.value[contributionType]\n\n  // Set up scales\n  const xScale = scaleTime().domain([startDate, endDate]).range([0, dimensions.boundedWidth])\n  const yScale = scaleLinear()\n    .domain([0, d3max(totals, typeAccessor)!])\n    .range([dimensions.height, 0])\n\n  // Create area\n  const area = d3area<Total>()\n    .curve(curveBasis)\n    .x(d => xScale(dateAccessor(d)))\n    .y0(() => dimensions.height)\n    .y1(d => yScale(typeAccessor(d)))\n\n  // Why remove master svg?\n  select('#contributors-master svg').remove()\n\n  // Set up a \"viewBox\". Not sure why this is needed.\n  const bounds = select('#contributors-master')\n    .data([totals])\n    .append('svg')\n    .attr('viewBox', `0 0 ${dimensions.width} ${dimensions.height + dimensions.margin.top + dimensions.margin.bottom}`)\n    .attr('preserveAspectRatio', 'xMinYMin meet')\n    .attr('class', 'viz')\n    .attr('data-hpc', '')\n    .append('g')\n    .attr('transform', `translate(${dimensions.margin.left},${dimensions.margin.top})`)\n\n  // Set up axis\n  const yAxisGenerator = axisLeft(yScale)\n    .ticks(4)\n    .tickSize(-dimensions.width + dimensions.margin.left + dimensions.margin.right)\n    .tickPadding(10)\n    // @ts-expect-error types should be validated here\n    .tickFormat(formatSymbol)\n\n  const xAxisGenerator = axisBottom(xScale)\n  if (totals.length < 5) {\n    xAxisGenerator.ticks(totals.length)\n  }\n\n  // Draw x axis\n  const xAxis = bounds\n    .append('g')\n    .attr('class', 'x axis')\n    .attr('transform', `translate(0, ${dimensions.height})`)\n    .call(xAxisGenerator)\n\n  // Change tick color. TODO: Do this in a graph utility class?\n  xAxis.selectAll('.tick text').attr('fill', '#6a737d')\n\n  // Draw y axis and change tick color\n  const yAxis = bounds.append('g').attr('class', 'y axis').call(yAxisGenerator)\n\n  // Change tick color. TODO: Do this in a graph utility class?\n  yAxis.selectAll('.tick text').attr('fill', '#6a737d')\n\n  // Draw the area\n  bounds.append('g').append('path').attr('class', 'area').attr('d', area)\n\n  // Selection\n  function selectionStart() {\n    bounds.classed('selecting', true)\n  }\n  function selectionEnd(event: {selection: number[]}) {\n    const isEmpty = new Boolean(event.selection && event.selection.length)\n    const selection = event.selection || []\n    bounds.classed('selecting', !isEmpty)\n    const dates = selection.map(xScale.invert)\n\n    let range: DateRange | undefined = undefined\n    if (dates.length === 2) {\n      const [start, end] = dates\n      if (!(start instanceof Date)) {\n        throw new Error('invariant')\n      }\n      if (!(end instanceof Date)) {\n        throw new Error('invariant')\n      }\n      range = [start, end]\n    }\n\n    dateRangeSelected(container, range)\n  }\n\n  // Brush\n  const brush = brushX<Total[]>()\n    .on('start', selectionStart)\n    .on('end', selectionEnd)\n    .extent([\n      [0, 0],\n      [dimensions.width - (dimensions.margin.left + dimensions.margin.right), dimensions.height],\n    ])\n\n  const gBrush = bounds.append('g').attr('class', 'selection').call(brush)\n\n  if (\n    formatDate(selectedTimeSpan[0]) !== formatDate(startDate) ||\n    formatDate(selectedTimeSpan[1]) !== formatDate(endDate)\n  ) {\n    gBrush.call(brush.move, selectedTimeSpan.map(xScale))\n  }\n}\n","export const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\nexport const months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n]\n\nexport const getUserLanguage = (): string => {\n  try {\n    // @ts-expect-error - `getCanonicalLocales` not TS supported but has browser support\n    return Intl.getCanonicalLocales(window.navigator.language)[0]\n  } catch (e) {\n    return 'en-US'\n  }\n}\n","import {ssrSafeWindow, ssrSafeHistory, ssrSafeLocation} from '@github-ui/ssr-utils'\n\nlet sessionHistoryEntries: Array<{url: string; state: unknown}> = []\nlet sessionHistoryOffset = 0\nlet state: State\n\ntype State = {\n  _id: number\n  turbo?: {\n    restorationIdentifier: string\n  }\n}\n\n/*\n * Array of history entries.\n *\n * Example:\n * {\n *   0: {\n *     url: \"/\",\n *     state: { ... }.\n *   },\n *   1: {\n *     url: \"/github/github/issues/123\",\n *     state: { ... }.\n *   },\n *   2: {\n *     url: \"/github/github/issues/123#comment-4\",\n *     state: { ... }.\n *   }.\n *  }.\n */\n\nexport function getState(): State {\n  return state\n}\n\nfunction safeGetHistory() {\n  try {\n    // Clamp history.length to 0<->9007199254740991 (Number.MAX_SAFE_INTEGER isn't supported in IE)\n    return Math.min(Math.max(0, ssrSafeHistory?.length || 0) || 0, 9007199254740991)\n  } catch (e) {\n    return 0\n  }\n}\n\nfunction initializeState(): State {\n  const newState = {_id: new Date().getTime(), ...ssrSafeHistory?.state}\n  setState(newState)\n  return newState\n}\n\n// Current index into history entries stack.\nfunction position(): number {\n  return safeGetHistory() - 1 + sessionHistoryOffset\n}\n\nfunction setState(newState: State) {\n  state = newState\n\n  // Update entry at current position\n  const url = ssrSafeLocation?.href\n  sessionHistoryEntries[position()] = {url, state}\n\n  // Trim entries to match history size\n  sessionHistoryEntries.length = safeGetHistory()\n\n  // Emit public statechange\n  ssrSafeWindow?.dispatchEvent(new CustomEvent('statechange', {bubbles: false, cancelable: false}))\n}\n\n// Generate unique id for state object.\n//\n// Use a timestamp instead of a counter since ids should still be unique\n// across page loads.\nfunction uniqueId(): number {\n  return new Date().getTime()\n}\n\n// Indirection for history.pushState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function pushState(oldState: State | null, title: string, url: string) {\n  // pushState drops any forward history entries\n  sessionHistoryOffset = 0\n  const newState = {_id: uniqueId(), ...oldState}\n  ssrSafeHistory?.pushState(newState, title, url)\n  setState(newState)\n}\n\n// Indirection for history.replaceState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function replaceState(oldState: Record<string, unknown> | null, title: string, url: string) {\n  const newState = {...getState(), ...oldState}\n  ssrSafeHistory?.replaceState(newState, title, url)\n  setState(newState)\n}\n\nstate = initializeState()\n\nssrSafeWindow?.addEventListener(\n  'popstate',\n  function onPopstate(event: PopStateEvent) {\n    const currentState: State = event.state\n\n    if (!currentState || (!currentState._id && !currentState.turbo?.restorationIdentifier)) {\n      // Unmanaged state in history entries\n      // Or could be a hashchange pop, ignore and let hashchange handle it\n      return\n    }\n\n    // Each state has a unique restorationIdentifier provided by Turbo. We compare the id\n    // to see if we are going backwards or forwards.\n    const id = currentState.turbo?.restorationIdentifier\n    const restoreId = (sessionHistoryEntries[position() - 1]?.state as State)?.turbo?.restorationIdentifier\n\n    if (restoreId === id) {\n      sessionHistoryOffset--\n    } else {\n      sessionHistoryOffset++\n    }\n\n    setState(currentState)\n  },\n  true,\n)\n\nlet turboAction: string\n\nssrSafeWindow?.addEventListener('turbo:visit', event => {\n  if (!(event instanceof CustomEvent)) return\n\n  turboAction = event.detail.action\n})\n\n// Listen turbo navigations to reset the `sessionHistoryOffset` in case we are doing a page load\n// instead of poping a state from the history stack.\nssrSafeWindow?.addEventListener('turbo:load', () => {\n  if (turboAction === 'restore') return\n\n  sessionHistoryOffset = 0\n  // Add turbo navigations to the state stack, so we can keep it complete without `empty` entries.\n  replaceState(ssrSafeHistory?.state, '', '')\n})\n\nssrSafeWindow?.addEventListener(\n  'hashchange',\n  function onHashchange() {\n    if (safeGetHistory() > sessionHistoryEntries.length) {\n      // Forward navigation\n      const newState = {_id: uniqueId()}\n      ssrSafeHistory?.replaceState(newState, '', ssrSafeLocation.href)\n      setState(newState)\n    }\n  },\n  true,\n)\n\n// We need to reset our history state on full-page loads to prevent our state from getting out of sync with the browser's history stack.\nssrSafeWindow?.addEventListener('pageshow', () => {\n  sessionHistoryEntries = []\n  sessionHistoryOffset = 0\n})\n"],"names":["formatSymbol","number","formatter","NumberFormat","getUserLanguage","maximumFractionDigits","maximumSignificantDigits","notation","format","cachedData","memoize","fetchData","url","response","fetchPoll","headers","accept","json","ContributorsGraphElement","HTMLElement","connectedCallback","graph","getAttribute","el","querySelectorAll","remove","classList","add","data","unusable","length","summary","total","weeks","render","container","parseDates","author","week","date","Date","w","padWeekData","start","getTime","unshift","a","c","d","totals","calculateOverallTotals","entries","fullTimeSpan","createRange","end","now","UTC","getFullYear","getMonth","getDate","parseDate","Number","key","dateRangeFromUrl","currentDateRange","params","URLSearchParams","window","location","search","get","selectedTimeSpan","state","states","set","updatePageHeader","renderMasterChart","renderContributorsList","error","formatUTCDate","month","months","getUTCMonth","slice","getUTCDate","getUTCFullYear","dateRange","element","document","querySelector","textContent","target","controller","formatDate","utcFormat","updateURL","contributionType","URL","href","origin","toString","pushState","currentContributionType","WeakMap","selectedRange","startDate","endDate","oldRoot","summarizeTotalsForWeeks","filteredData","filterWeeksWithRange","range","map","contributor","cloned","Object","assign","filter","cmts","adds","dels","sort","b","descending","root","createElement","vis","select","attr","person","authorHoverCardUrlAccessor","hovercard_url","authorPathAccessor","path","authorAvatarUrlAccessor","avatar","authorLoginAccessor","login","graphElement","repoURL","template","renderContributorItem","width","dateAccessor","typeAccessor","dimensions","height","margin","top","left","right","bottom","boundedHeight","boundedWidth","max","d3max","xScale","scaleTime","domain","yScale","scaleLinear","area","d3area","curve","curveBasis","x","y0","y1","yAxisGenerator","axisLeft","ticks","tickSize","tickPadding","tickFormat","xAxisGenerator","axisBottom","timeFormat","svg","append","xAxis","classed","call","selectAll","style","_","i","yAxis","enter","contributorParams","li","instance","TemplateInstance","hoverCardUrl","authorUrl","authorAvatarUrl","authorLogin","place","contributorUrl","contributorUrlText","Intl","linesAdded","linesDeleted","children","parseInt","appendChild","clientWidth","value","bounds","brush","brushX","on","event","isEmpty","Boolean","selection","dates","invert","dateRangeSelected","extent","gBrush","move","button","detail","relatedTarget","capture","weekdays","getCanonicalLocales","navigator","language","e","turboAction","sessionHistoryEntries","sessionHistoryOffset","getState","safeGetHistory","Math","min","ssrSafeHistory","setState","newState","ssrSafeLocation","ssrSafeWindow","dispatchEvent","CustomEvent","bubbles","cancelable","uniqueId","oldState","title","_id","replaceState","initializeState","addEventListener","currentState","turbo","restorationIdentifier","id","restoreId","position","action"],"sourceRoot":""}