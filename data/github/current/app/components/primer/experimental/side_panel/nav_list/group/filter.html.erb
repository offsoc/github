<%= render(Primer::BaseComponent.new(tag: :div, mb: 2, hidden: true, data: { target: "internal-nav-list-group.filterContainer" }, test_selector: "nav-list-filter")) do %>
  <%= render(Primer::BaseComponent.new(tag: :div, display: :flex)) do %>
    <%= render(Primer::BaseComponent.new(tag: :div, flex: 1)) do %>
      <%= render(Primer::Experimental::QueryBuilder.new(
        id: "query-#{@input_id}",
        input_name: @input_id,
        label_text: @label,
        visually_hide_label: true,
        placeholder: @placeholder,
        value: "",
        use_overlay: false,
        form_action_url: "",
        form_wrap: false,
        data: {
          target: "internal-nav-list-group.queryBuilder",
          search_path: @src,
          min_width: 120
        }
      )) do |component| %>
        <% component.with_leading_visual_icon(icon: :search) %>
      <% end %>
    <% end %>

  <%= render(Primer::Beta::IconButton.new(
    id: "button-hide-filter-#{@input_id}",
    icon: :"chevron-up",
    ml: 2,
    scheme: :invisible,
    aria: {
      label: "Close filter"
    },
    data: {
      action: "click:internal-nav-list-group#hideFilter",
      target: "internal-nav-list-group.hideFilterButton"
    }
  )) %>
  <% end %>

  <%= render(Primer::BaseComponent.new(tag: :div, color: :muted, pt: 2, pb: 4, text_align: :center, hidden: true, data: {target: "internal-nav-list-group.emptyResultsContainer"})) do %>
    No results found.
  <% end %>
<% end %>
