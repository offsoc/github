<%# erblint:counter DeprecatedComponentsCounter 1 %>
<%# See Also: merging_error.js %>

<% title ||= "Couldnâ€™t update branch" %>
<% hook_output ||= nil %>

<% message ||= if unretryable %>
  <% "Refresh the page and try again." %>
<% else %>
  <% "Oops, something went wrong." %>
<% end %>

<div class="ml-0 pl-0 ml-md-6 pl-md-3 my-3 branch-action branch-action-state-error pull-merging-error">
  <span class="branch-action-icon d-none d-md-flex flex-items-center flex-justify-center">
    <%= primer_octicon(:"git-merge", size: :medium) %>
  </span>
  <div class="branch-action-body timeline-comment--caret p-3">
    <% unless unretryable %>
      <%= render Primer::ButtonComponent.new(float: :right, classes: "js-merge-box-try-again", "data-form-target": form_target) do %>
        <%= primer_octicon(:sync) %>
        Try again
      <% end %>
    <% end %>
    <h4 class="merge-branch-heading"><%= title %></h4>
    <p class="merge-branch-description multi-line-error"><%= message&.strip %></p>
    <% if hook_output %><pre class="merge-branch-prh-output"><%= hook_output %></pre><% end %>
  </div>
</div>
