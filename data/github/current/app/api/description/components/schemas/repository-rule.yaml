---
# DO NOT EDIT MANUALLY
# This is an autogenerated file of the supported rule parameter schemas
# Please instead update this file by running `bin/dump-rules-schema`.

title: Repository Rule
type: object
description: A repository rule.
oneOf:
  - $ref: './repository-rule-creation.yaml'
  - $ref: './repository-rule-update.yaml'
  - $ref: './repository-rule-deletion.yaml'
  - $ref: './repository-rule-required-linear-history.yaml'
  - $ref: './repository-rule-merge-queue.yaml'
  - $ref: './repository-rule-required-deployments.yaml'
  - $ref: './repository-rule-required-signatures.yaml'
  - $ref: './repository-rule-pull-request.yaml'
  - $ref: './repository-rule-required-status-checks.yaml'
  - $ref: './repository-rule-non-fast-forward.yaml'
  - $ref: './repository-rule-commit-message-pattern.yaml'
  - $ref: './repository-rule-commit-author-email-pattern.yaml'
  - $ref: './repository-rule-committer-email-pattern.yaml'
  - $ref: './repository-rule-branch-name-pattern.yaml'
  - $ref: './repository-rule-tag-name-pattern.yaml'
  - title: file_path_restriction
    description: |-
      > [!NOTE]
      > `file_path_restriction` is in beta and subject to change.
    
      Prevent commits that include changes in specified file paths from being pushed to the commit graph.
    type: object
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - file_path_restriction
      parameters:
        type: object
        properties:
          restricted_file_paths:
            type: array
            description: The file paths that are restricted from being pushed to the commit graph.
            items:
              type: string
        required:
          - restricted_file_paths
  - title: max_file_path_length
    description: |-
      > [!NOTE]
      > `max_file_path_length` is in beta and subject to change.
    
      Prevent commits that include file paths that exceed a specified character limit from being pushed to the commit graph.
    type: object
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - max_file_path_length
      parameters:
        type: object
        properties:
          max_file_path_length:
            type: integer
            description: The maximum amount of characters allowed in file paths
            minimum: 1
            maximum: 256
        required:
          - max_file_path_length
  - title: file_extension_restriction
    description: |-
      > [!NOTE]
      > `file_extension_restriction` is in beta and subject to change.
    
      Prevent commits that include files with specified file extensions from being pushed to the commit graph.
    type: object
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - file_extension_restriction
      parameters:
        type: object
        properties:
          restricted_file_extensions:
            type: array
            description: The file extensions that are restricted from being pushed to the commit graph.
            items:
              type: string
        required:
          - restricted_file_extensions
  - title: max_file_size
    description: |-
      > [!NOTE]
      > `max_file_size` is in beta and subject to change.
    
      Prevent commits that exceed a specified file size limit from being pushed to the commit.
    type: object
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - max_file_size
      parameters:
        type: object
        properties:
          max_file_size:
            type: integer
            description: The maximum file size allowed in megabytes. This limit does not apply to Git Large File Storage (Git LFS).
            minimum: 1
            maximum: 100
        required:
          - max_file_size
  - title: commit_oid
    description: |-
      > [!NOTE]
      > `commit_oid` is in beta and subject to change.
    
      Prevent commits to targets by commit ID.
    type: object
    x-unpublished: Unpublished until the rule is in public beta or GA
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - commit_oid
      parameters:
        type: object
        properties:
          restricted_commits:
            type: array
            description: Restricted commits
            items:
              $ref: './repository-rule-params-restricted-commits.yaml'
        required:
          - restricted_commits
  - $ref: './repository-rule-workflows.yaml'
  - $ref: './repository-rule-code-scanning.yaml'
  - title: restrict_repo_delete
    description: |-
      > [!NOTE]
      > `restrict_repo_delete` is in beta and subject to change.
    
      Only allow users on the Allowed list to delete repositories.
    type: object
    x-unpublished: Unpublished until the rule is in public beta or GA
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - restrict_repo_delete
  - title: repository_transfer
    description: |-
      > [!NOTE]
      > `repository_transfer` is in beta and subject to change.
    
      Only allow users on the Allowed list to transfer repositories out of the organization
    type: object
    x-unpublished: Unpublished until the rule is in public beta or GA
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - repository_transfer
  - title: restrict_repository_name
    description: |-
      > [!NOTE]
      > `restrict_repository_name` is in beta and subject to change.
    
      New repository names and name changes are limited to the specific patterns, unless the actor is on the Allowed list.
    type: object
    x-unpublished: Unpublished until the rule is in public beta or GA
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - restrict_repository_name
      parameters:
        type: object
        properties:
          negate:
            type: boolean
            description: If true, the rule will fail if the pattern matches.
          pattern:
            type: string
            description: The regex pattern to match with.
        required:
          - pattern
  - title: restrict_repo_visibility
    description: |-
      > [!NOTE]
      > `restrict_repo_visibility` is in beta and subject to change.
    
      New repositories and visibility changes are limited to specified visibilities, unless the actor is on the Allowed list.
    type: object
    x-unpublished: Unpublished until the rule is in public beta or GA
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - restrict_repo_visibility
      parameters:
        type: object
        properties:
          internal:
            type: boolean
            description: Enterprise members can see this repository. You choose who can commit.
          private:
            type: boolean
            description: You choose who can see and commit to this repository.
          public:
            type: boolean
            description: Anyone on the internet can see this repository. You choose who can commit.
x-githubEnterpriseOverlays:
  "3.15":
    oneOf:
      - $ref: './repository-rule-creation.yaml'
      - $ref: './repository-rule-update.yaml'
      - $ref: './repository-rule-deletion.yaml'
      - $ref: './repository-rule-required-linear-history.yaml'
      - $ref: './repository-rule-merge-queue.yaml'
      - $ref: './repository-rule-required-deployments.yaml'
      - $ref: './repository-rule-required-signatures.yaml'
      - $ref: './repository-rule-pull-request.yaml'
      - $ref: './repository-rule-required-status-checks.yaml'
      - $ref: './repository-rule-non-fast-forward.yaml'
      - $ref: './repository-rule-commit-message-pattern.yaml'
      - $ref: './repository-rule-commit-author-email-pattern.yaml'
      - $ref: './repository-rule-committer-email-pattern.yaml'
      - $ref: './repository-rule-branch-name-pattern.yaml'
      - $ref: './repository-rule-tag-name-pattern.yaml'
      - $ref: './repository-rule-workflows.yaml'
      - $ref: './repository-rule-code-scanning.yaml'
  "3.14":
    oneOf:
      - $ref: './repository-rule-creation.yaml'
      - $ref: './repository-rule-update.yaml'
      - $ref: './repository-rule-deletion.yaml'
      - $ref: './repository-rule-required-linear-history.yaml'
      - $ref: './repository-rule-required-deployments.yaml'
      - $ref: './repository-rule-required-signatures.yaml'
      - $ref: './repository-rule-pull-request.yaml'
      - $ref: './repository-rule-required-status-checks.yaml'
      - $ref: './repository-rule-non-fast-forward.yaml'
      - $ref: './repository-rule-commit-message-pattern.yaml'
      - $ref: './repository-rule-commit-author-email-pattern.yaml'
      - $ref: './repository-rule-committer-email-pattern.yaml'
      - $ref: './repository-rule-branch-name-pattern.yaml'
      - $ref: './repository-rule-tag-name-pattern.yaml'
      - $ref: './repository-rule-workflows.yaml'
      - $ref: './repository-rule-code-scanning.yaml'
  "3.11 || 3.12 || 3.13":
    oneOf:
      - $ref: './repository-rule-creation.yaml'
      - $ref: './repository-rule-update.yaml'
      - $ref: './repository-rule-deletion.yaml'
      - $ref: './repository-rule-required-linear-history.yaml'
      - $ref: './repository-rule-required-deployments.yaml'
      - $ref: './repository-rule-required-signatures.yaml'
      - $ref: './repository-rule-pull-request.yaml'
      - $ref: './repository-rule-required-status-checks.yaml'
      - $ref: './repository-rule-non-fast-forward.yaml'
      - $ref: './repository-rule-commit-message-pattern.yaml'
      - $ref: './repository-rule-commit-author-email-pattern.yaml'
      - $ref: './repository-rule-committer-email-pattern.yaml'
      - $ref: './repository-rule-branch-name-pattern.yaml'
      - $ref: './repository-rule-tag-name-pattern.yaml'
      - $ref: './repository-rule-workflows.yaml'
