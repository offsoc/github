current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/google-protobuf-3.14.0.1.r907f12546/ext/google/protobuf_c
/usr/share/rbenv/versions/3.3.4/bin/ruby extconf.rb
creating Makefile

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/google-protobuf-3.14.0.1.r907f12546/ext/google/protobuf_c
make DESTDIR\= sitearchdir\=./.gem.20250114-113-7nu41k sitelibdir\=./.gem.20250114-113-7nu41k clean

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/google-protobuf-3.14.0.1.r907f12546/ext/google/protobuf_c
make DESTDIR\= sitearchdir\=./.gem.20250114-113-7nu41k sitelibdir\=./.gem.20250114-113-7nu41k
compiling protobuf.c
compiling defs.c
compiling storage.c
compiling message.c
compiling repeated_field.c
compiling map.c
compiling encode_decode.c
compiling upb.c
compiling wrap_memcpy.c
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
upb.c: In function ‘decode_reserve’:
upb.c:324:44: warning: comparison of integer expressions of different signedness: ‘size_t’ {aka ‘long unsigned int’} and ‘int’ [-Wsign-compare]
  324 |   bool need_realloc = arr->size - arr->len < elem;
      |                                            ^
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from protobuf.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from map.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from repeated_field.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from protobuf.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from map.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from message.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from repeated_field.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from message.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from protobuf.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from map.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from map.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from protobuf.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from map.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from protobuf.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from repeated_field.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from map.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from protobuf.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from message.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from repeated_field.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from message.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from repeated_field.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from repeated_field.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from message.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from message.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from storage.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from storage.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from storage.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/int.h:26,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from encode_decode.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘RB_INT2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:117:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  117 |     const unsigned long j = i;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_idiv’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:169:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  169 |     const SIGNED_VALUE y = x - RUBY_FIXNUM_FLAG;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h: In function ‘rbimpl_fix2long_by_shift’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/long.h:196:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  196 |     const SIGNED_VALUE y = x;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from storage.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/fl_type.h:38,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rstring.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/char.h:29,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:24,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from encode_decode.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h: In function ‘RB_BUILTIN_TYPE’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/value_type.h:190:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  190 |     VALUE ret = RBASIC(obj)->flags & RUBY_T_MASK;
      |     ^~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from storage.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from storage.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
upb.c: In function ‘make_layout’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
upb.c:4020:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
 4020 |     size_t case_size = sizeof(uint32_t);  /* Could potentially optimize this. */
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic.h:37,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:28,
                 from protobuf.h:34,
                 from encode_decode.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h: In function ‘RB_ST2FIX’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/arithmetic/st_data_t.h:71:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   71 |     unsigned long y = RBIMPL_CAST((unsigned long)x);
      |     ^~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:23,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from encode_decode.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_EMBED_LEN’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:240:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  240 |     VALUE f = RBASIC(ary)->flags;
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_PTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:370:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  370 |     VALUE tmp = RB_OBJ_WB_UNPROTECT_FOR(ARRAY, ary);
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h: In function ‘RARRAY_ASET’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:317:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  317 |     const VALUE rbimpl_ary = (ary);                          \
      |     ^~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:349:5: note: in expansion of macro ‘RBIMPL_RARRAY_STMT’
  349 |     RBIMPL_RARRAY_STMT(ary, ptr_name, expr)
      |     ^~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rarray.h:388:5: note: in expansion of macro ‘RARRAY_PTR_USE’
  388 |     RARRAY_PTR_USE(ary, ptr,
      |     ^~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:30,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from encode_decode.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h: In function ‘ROBJECT_IVPTR’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/robject.h:140:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  140 |     struct RObject *const ptr = ROBJECT(obj);
      |     ^~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core.h:31,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:29,
                 from protobuf.h:34,
                 from encode_decode.c:31:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h: In function ‘RREGEXP_SRC’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/core/rregexp.h:106:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
  106 |     VALUE ret = RREGEXP(rexp)->src;
      |     ^~~~~
upb.c: In function ‘build_filedef’:
upb.c:4880:17: warning: comparison of integer expressions of different signedness: ‘size_t’ {aka ‘long unsigned int’} and ‘int’ [-Wsign-compare]
 4880 |   for (i = 0; i < file->ext_count; i++) {
      |                 ^
upb.c:4884:17: warning: comparison of integer expressions of different signedness: ‘size_t’ {aka ‘long unsigned int’} and ‘int’ [-Wsign-compare]
 4884 |   for (i = 0; i < file->msg_count; i++) {
      |                 ^
upb.c:4893:19: warning: comparison of integer expressions of different signedness: ‘size_t’ {aka ‘long unsigned int’} and ‘int’ [-Wsign-compare]
 4893 |     for (i = 0; i < file->msg_count; i++) {
      |                   ^
upb.c: In function ‘_upb_msg_getraw’:
upb.c:5167:38: warning: operand of ?: changes signedness from ‘char’ to ‘long unsigned int’ due to unsignedness of other operand [-Wsign-compare]
 5167 |                                    : field_size[field->descriptortype];
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
upb.c: In function ‘upb_msg_set’:
upb.c:5275:38: warning: operand of ?: changes signedness from ‘char’ to ‘long unsigned int’ due to unsignedness of other operand [-Wsign-compare]
 5275 |                                    : field_size[field->descriptortype];
      |                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
defs.c: In function ‘MessageBuilderContext_map’:
defs.c:1741:19: warning: passing argument 5 of ‘rb_block_call’ from incompatible pointer type [-Wincompatible-pointer-types]
 1741 |                   make_mapentry, types);
      |                   ^~~~~~~~~~~~~
      |                   |
      |                   VALUE (*)(VALUE,  VALUE,  int,  VALUE *) {aka long unsigned int (*)(long unsigned int,  long unsigned int,  int,  long unsigned int *)}
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:41,
                 from protobuf.h:34,
                 from defs.c:33:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/iterator.h:324:90: note: expected ‘rb_block_call_func_t’ {aka ‘long unsigned int (*)(long unsigned int,  long unsigned int,  int,  const long unsigned int *, long unsigned int)’} but argument is of type ‘VALUE (*)(VALUE,  VALUE,  int,  VALUE *)’ {aka ‘long unsigned int (*)(long unsigned int,  long unsigned int,  int,  long unsigned int *)’}
  324 | VALUE rb_block_call(VALUE obj, ID mid, int argc, const VALUE *argv, rb_block_call_func_t proc, VALUE data2);
      |                                                                     ~~~~~~~~~~~~~~~~~~~~~^~~~
upb/json/parser.rl: In function ‘parse’:
upb/json/parser.rl:2586:5: warning: array subscript -1 is outside array bounds of ‘const char[1]’ [-Warray-bounds]
upb/json/parser.rl:98:19: note: while referencing ‘eof_ch’
linking shared-object google/protobuf_c.so

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/google-protobuf-3.14.0.1.r907f12546/ext/google/protobuf_c
make DESTDIR\= sitearchdir\=./.gem.20250114-113-7nu41k sitelibdir\=./.gem.20250114-113-7nu41k install
/usr/bin/install -c -m 0755 protobuf_c.so ./.gem.20250114-113-7nu41k/google

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/google-protobuf-3.14.0.1.r907f12546/ext/google/protobuf_c
make DESTDIR\= sitearchdir\=./.gem.20250114-113-7nu41k sitelibdir\=./.gem.20250114-113-7nu41k clean
