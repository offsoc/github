"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_packages_repository-selection-input-element_ts"],{6517:(e,t,n)=>{n.r(t);var r=n(79049),i=n(39595),o=n(26234);function l(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l}let a=class RepositorySelectionInputElement extends HTMLElement{connectedCallback(){this.virtualFilterInput.filter=(e,t)=>{if(!t||this.selectedIds.includes(e.id.toString()))return!0;let n=t.toLowerCase().trim();return e&&e.name.toLowerCase().trim().includes(n.toLowerCase())||null}}willLoad(){this.blankslate.hidden=!0,this.loading=!0}didLoad(){this.loading=!1}selectRepoItem(e){let t=e.target;if(t.checked)this.selectedIds.includes(t.value)||this.selectedIds.push(t.value);else{let e=this.selectedIds.indexOf(t.value);e>-1&&this.selectedIds.splice(e,1)}let n=this.checkbox.closest(".js-packages-repo-container-1").querySelector(".js-packages-repo-form-1"),r=n.getAttribute("name-scope"),i=document.querySelector(`#add-repo-button-${r}`),l=`#repository-selection-component-${r}`,a=document.querySelector(l);i&&a&&(i.disabled=!(0,o.Av)(a));let s=this.createRepoInput(this.checkbox,this.selectedIds),c=n.querySelector("[id='selected_ids']");c?c.replaceWith(s):n.append(s)}createRepoInput(e,t){let n=document.createElement("input");return n.type="hidden",n.name="selected_ids",n.value=t.toString(),n}willRenderItems(){this.blankslate.hidden=this.list.size>0||this.loading}renderItem(e){let t=new r.i4(this.itemTemplate,{id:e.detail.item.id,name:e.detail.item.name,repo_icon_hidden:"repo"!==e.detail.item.repo_type_icon,lock_icon_hidden:"lock"!==e.detail.item.repo_type_icon,forked_icon_hidden:"repo-forked"!==e.detail.item.repo_type_icon},r.xr);e.detail.fragment.append(t)}didRenderItems(){for(let e of document.querySelectorAll(".js-bulk-repo-selector"))this.selectedIds.includes(e.value)&&e.setAttribute("checked","true")}constructor(...e){super(...e),this.loading=!0,this.selectedIds=[]}};l([i.aC],a.prototype,"virtualFilterInput",void 0),l([i.aC],a.prototype,"itemTemplate",void 0),l([i.aC],a.prototype,"list",void 0),l([i.aC],a.prototype,"blankslate",void 0),l([i.aC],a.prototype,"checkbox",void 0),a=l([i.p_],a)},78350:(e,t,n)=>{n.d(t,{Cy:()=>a,K3:()=>u,Z8:()=>s,k_:()=>o,lK:()=>d,m$:()=>l});var r=n(41695);function i(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function o(e,t){t&&(function(e,t){if(!(e instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw Error("The specified element is not owned by the form element.")}(e,t),(0,r.A)(t)),i(e,"submit",!0)&&e.submit()}function l(e,t){if("boolean"==typeof t){if(e instanceof HTMLInputElement)e.checked=t;else throw TypeError("only checkboxes can be set to boolean value")}else{if("checkbox"===e.type)throw TypeError("checkbox can't be set to string value");e.value=t}i(e,"change",!1)}function a(e,t){for(let n in t){let r=t[n],i=e.elements.namedItem(n);i instanceof HTMLInputElement?i.value=r:i instanceof HTMLTextAreaElement&&(i.value=r)}}function s(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function c(e){return new URLSearchParams(e)}function u(e,t){let n=new URLSearchParams(e.search);for(let[e,r]of c(t))n.append(e,r);return n.toString()}function d(e){return c(new FormData(e)).toString()}},41695:(e,t,n)=>{function r(e){let t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=i(t);if(e.name){let r=e.matches("input[type=submit]")?"Submit":"",i=e.value||r;n||((n=document.createElement("input")).type="hidden",n.classList.add("js-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=i}else n&&n.remove()}function i(e){let t=e.querySelector("input.js-submit-button-value");return t instanceof HTMLInputElement?t:null}n.d(t,{A:()=>r,C:()=>i})},26234:(e,t,n)=>{let r,i,o;n.d(t,{Av:()=>u,it:()=>c});var l=n(74057),a=n(78350),s=n(97156);function c(e,t=!1,n=!1){var s;return!n&&u(e)||function(e,t){let n=r instanceof Element?r:e&&e.ownerDocument&&e.ownerDocument.activeElement?e.ownerDocument.activeElement:null;return null!==n&&(!t||n!==e)&&(!!(n===e&&(0,a.Z8)(n)||e.contains(n)&&!function(e){if(e instanceof l.A)return!0;let t=e instanceof HTMLAnchorElement||e instanceof HTMLButtonElement,n=e.parentElement?.classList.contains("task-list-item");if(t&&n)return!0;if(!(o instanceof Element))return!1;let r=e.closest(d);return!!r&&r===o.closest(d)}(n))||o instanceof Element&&e.contains(o)&&!!o.closest("details[open] > summary"))}(e,t)||(s=e).matches(":active:enabled")||s.contains(i)||!!(e.closest(".is-dirty")||e.querySelector(".is-dirty"))}function u(e){for(let t of e.querySelectorAll("input, textarea"))if((t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&function(e){if(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type)){if(e.checked!==e.defaultChecked)return!0}else if(e.value!==e.defaultValue)return!0;return!1}(t))return!0;return!1}s.XC?.addEventListener("mousedown",function(e){i=e.target},!0),s.XC?.addEventListener("mouseup",function(e){i=null,o=e.target},!0),s.XC?.addEventListener("contextmenu",function(e){i=null,o=e.target},!0),s.XC?.addEventListener("dragend",function(){i=null},!0);let d="a[href], button"},97156:(e,t,n)=>{n.d(t,{KJ:()=>r.KJ,Kn:()=>i.Kn,X3:()=>r.X3,XC:()=>i.XC,cg:()=>i.cg,fV:()=>i.fV,g5:()=>r.g5});var r=n(15572),i=n(86733)},86733:(e,t,n)=>{n.d(t,{Kn:()=>o,XC:()=>r,cg:()=>i,fV:()=>l});let r="undefined"==typeof document?void 0:document,i="undefined"==typeof window?void 0:window,o="undefined"==typeof history?void 0:history,l="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:"",href:""}:location},15572:(e,t,n)=>{n.d(t,{KJ:()=>o,X3:()=>i,g5:()=>l});var r=n(86733);let i=void 0===r.XC,o=!i;function l(){return!!i||!!r.XC.querySelector('react-app[data-ssr="true"]')}},74057:(e,t,n)=>{n.d(t,{A:()=>g});let r="data-close-dialog",i=`[${r}]`;function o(e){let t=Array.from(e.querySelectorAll("[autofocus]")).filter(a)[0];t||(t=e,e.setAttribute("tabindex","-1")),t.focus()}function l(e){let t=e.currentTarget;t instanceof Element&&("Escape"===e.key||"Esc"===e.key?(d(t,!1),e.stopPropagation()):"Tab"===e.key&&function(e){if(!(e.currentTarget instanceof Element))return;let t=e.currentTarget.querySelector("details-dialog");if(!t)return;e.preventDefault();let n=Array.from(t.querySelectorAll("*")).filter(a);if(0===n.length)return;let r=e.shiftKey?-1:1,i=t.getRootNode(),o=t.contains(i.activeElement)?i.activeElement:null,l=-1===r?-1:0;if(o instanceof HTMLElement){let e=n.indexOf(o);-1!==e&&(l=e+r)}l<0?l=n.length-1:l%=n.length,n[l].focus()}(e))}function a(e){var t;return e.tabIndex>=0&&!e.disabled&&!(t=e).hidden&&(!t.type||"hidden"!==t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}function s(e){let t=e.querySelector("details-dialog");return!(t instanceof DetailsDialogElement)||t.dispatchEvent(new CustomEvent("details-dialog-close",{bubbles:!0,cancelable:!0}))}function c(e){if(!(e.currentTarget instanceof Element))return;let t=e.currentTarget.closest("details");t&&t.hasAttribute("open")&&!s(t)&&(e.preventDefault(),e.stopPropagation())}function u(e){let t=e.currentTarget;if(!(t instanceof Element))return;let n=t.querySelector("details-dialog");if(n instanceof DetailsDialogElement){if(t.hasAttribute("open")){let e="getRootNode"in n?n.getRootNode():document;e.activeElement instanceof HTMLElement&&h.set(n,{details:t,activeElement:e.activeElement}),o(n),t.addEventListener("keydown",l)}else{for(let e of n.querySelectorAll("form"))e.reset();let e=function(e,t){let n=h.get(t);return n&&n.activeElement instanceof HTMLElement?n.activeElement:e.querySelector("summary")}(t,n);e&&e.focus(),t.removeEventListener("keydown",l)}}}function d(e,t){t!==e.hasAttribute("open")&&(t?e.setAttribute("open",""):s(e)&&e.removeAttribute("open"))}function p(e){let t=e.currentTarget;if(!(t instanceof Element))return;let n=t.querySelector("details-dialog");if(!(n instanceof DetailsDialogElement))return;let r=n.querySelector("include-fragment:not([src])");if(!r)return;let i=n.src;null!==i&&(r.addEventListener("loadend",()=>{t.hasAttribute("open")&&o(n)}),r.setAttribute("src",i),m(t))}function f(e,t,n){m(e),t&&e.addEventListener("toggle",p,{once:!0}),t&&n&&e.addEventListener("mouseover",p,{once:!0})}function m(e){e.removeEventListener("toggle",p),e.removeEventListener("mouseover",p)}let h=new WeakMap;let DetailsDialogElement=class DetailsDialogElement extends HTMLElement{static get CLOSE_ATTR(){return r}static get CLOSE_SELECTOR(){return i}constructor(){super(),h.set(this,{details:null,activeElement:null}),this.addEventListener("click",function({target:e}){if(!(e instanceof Element))return;let t=e.closest("details");t&&e.closest(i)&&d(t,!1)})}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e||"")}get preload(){return this.hasAttribute("preload")}set preload(e){e?this.setAttribute("preload",""):this.removeAttribute("preload")}connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");let e=h.get(this);if(!e)return;let t=this.parentElement;if(!t)return;let n=t.querySelector("summary");n&&(n.hasAttribute("role")||n.setAttribute("role","button"),n.addEventListener("click",c,{capture:!0})),t.addEventListener("toggle",u),e.details=t,f(t,this.src,this.preload)}disconnectedCallback(){let e=h.get(this);if(!e)return;let{details:t}=e;if(!t)return;t.removeEventListener("toggle",u),m(t);let n=t.querySelector("summary");n&&n.removeEventListener("click",c,{capture:!0}),e.details=null}toggle(e){let t=h.get(this);if(!t)return;let{details:n}=t;n&&d(n,e)}static get observedAttributes(){return["src","preload"]}attributeChangedCallback(){let e=h.get(this);if(!e)return;let{details:t}=e;t&&f(t,this.src,this.preload)}};let g=DetailsDialogElement;window.customElements.get("details-dialog")||(window.DetailsDialogElement=DetailsDialogElement,window.customElements.define("details-dialog",DetailsDialogElement))},79049:(e,t,n)=>{function*r(e){let t="",n=0,r=!1;for(let i=0;i<e.length;i+=1)"{"!==e[i]||"{"!==e[i+1]||"\\"===e[i-1]||r?"}"===e[i]&&"}"===e[i+1]&&"\\"!==e[i-1]&&r&&(r=!1,yield{type:"part",start:n,end:i+2,value:t.slice(2).trim()},t="",i+=2,n=i):(r=!0,t&&(yield{type:"string",start:n,end:i,value:t}),t="{{",n=i,i+=2),t+=e[i]||"";t&&(yield{type:"string",start:n,end:e.length,value:t})}n.d(t,{i4:()=>TemplateInstance,xr:()=>g});var i,o,l,a,s,c=function(e,t,n){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,n),n},u=function(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)};let AttributeTemplatePart=class AttributeTemplatePart{constructor(e,t){this.expression=t,i.set(this,void 0),o.set(this,""),c(this,i,e),u(this,i).updateParent("")}get attributeName(){return u(this,i).attr.name}get attributeNamespace(){return u(this,i).attr.namespaceURI}get value(){return u(this,o)}set value(e){c(this,o,e||""),u(this,i).updateParent(e)}get element(){return u(this,i).element}get booleanValue(){return u(this,i).booleanValue}set booleanValue(e){u(this,i).booleanValue=e}};i=new WeakMap,o=new WeakMap;let AttributeValueSetter=class AttributeValueSetter{constructor(e,t){this.element=e,this.attr=t,this.partList=[]}get booleanValue(){return this.element.hasAttributeNS(this.attr.namespaceURI,this.attr.name)}set booleanValue(e){if(1!==this.partList.length)throw new DOMException("Operation not supported","NotSupportedError");this.partList[0].value=e?"":null}append(e){this.partList.push(e)}updateParent(e){if(1===this.partList.length&&null===e)this.element.removeAttributeNS(this.attr.namespaceURI,this.attr.name);else{let e=this.partList.map(e=>"string"==typeof e?e:e.value).join("");this.element.setAttributeNS(this.attr.namespaceURI,this.attr.name,e)}}};var d=function(e,t,n){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,n),n},p=function(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)};let NodeTemplatePart=class NodeTemplatePart{constructor(e,t){this.expression=t,l.set(this,void 0),d(this,l,[e]),e.textContent=""}get value(){return p(this,l).map(e=>e.textContent).join("")}set value(e){this.replace(e)}get previousSibling(){return p(this,l)[0].previousSibling}get nextSibling(){return p(this,l)[p(this,l).length-1].nextSibling}replace(...e){let t=e.map(e=>"string"==typeof e?new Text(e):e);for(let e of(t.length||t.push(new Text("")),p(this,l)[0].before(...t),p(this,l)))e.remove();d(this,l,t)}};function f(e){return{createCallback(e,t,n){this.processCallback(e,t,n)},processCallback(t,n,r){var i;if("object"==typeof r&&r){for(let t of n)if(t.expression in r){let n=null!==(i=r[t.expression])&&void 0!==i?i:"";e(t,n)}}}}}function m(e,t){e.value=String(t)}l=new WeakMap;let h=f(m),g=f((e,t)=>{(function(e,t){return"boolean"==typeof t&&e instanceof AttributeTemplatePart&&"boolean"==typeof e.element[e.attributeName]&&(e.booleanValue=t,!0)})(e,t)||m(e,t)});var b=function(e,t,n){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,n),n},v=function(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)};let TemplateInstance=class TemplateInstance extends DocumentFragment{constructor(e,t,n=h){var i,o;super(),a.set(this,void 0),s.set(this,void 0),Object.getPrototypeOf(this!==TemplateInstance.prototype)&&Object.setPrototypeOf(this,TemplateInstance.prototype),this.appendChild(e.content.cloneNode(!0)),b(this,s,Array.from(function*(e){let t;let n=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null,!1);for(;t=n.nextNode();)if(t instanceof Element&&t.hasAttributes())for(let e=0;e<t.attributes.length;e+=1){let n=t.attributes.item(e);if(n&&n.value.includes("{{")){let e=new AttributeValueSetter(t,n);for(let t of r(n.value))if("string"===t.type)e.append(t.value);else{let n=new AttributeTemplatePart(e,t.value);e.append(n),yield n}}}else if(t instanceof Text&&t.textContent&&t.textContent.includes("{{"))for(let e of r(t.textContent)){e.end<t.textContent.length&&t.splitText(e.end),"part"===e.type&&(yield new NodeTemplatePart(t,e.value));break}}(this))),b(this,a,n),null===(o=(i=v(this,a)).createCallback)||void 0===o||o.call(i,this,v(this,s),t)}update(e){v(this,a).processCallback(this,v(this,s),e)}};a=new WeakMap,s=new WeakMap}}]);
//# sourceMappingURL=app_components_packages_repository-selection-input-element_ts-a84e0fb4104b.js.map