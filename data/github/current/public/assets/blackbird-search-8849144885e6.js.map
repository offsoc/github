{"version":3,"file":"blackbird-search-xxxxxxxxxxxx.js","mappings":"8JAcKA,E,ECwOAC,E,sDC/OE,SAASC,EACdC,CAAqB,EAErB,IAAMC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IAEjB,MAAOC,CAAAA,EAAAA,EAAAA,WAAAA,EACL,CAACC,EAASC,EAAeC,KACvB,GAAM,CAACC,SAAAA,CAAQ,CAAEC,OAAAA,CAAM,CAAEC,KAAAA,CAAI,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAOV,EAAMI,EAAMC,GAEpDJ,EADW,CAACM,SAAAA,EAAUC,OAAAA,EAAQC,KAAAA,CAAI,EACrBH,EACf,EACA,CAACL,EAAUD,EAAK,CAEpB,C,0BCXO,SAASW,EAAmBC,CAA6C,EAE9E,OAAOA,EAAMC,OAAO,EAAID,EAAME,OAAO,EAAI,MAA4BC,MAAM,CAMtE,SAASC,IAMd,IAAMC,EAAmBlB,EAAgBmB,EAAAA,EAAUA,EAC7CC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACjB,MAAOjB,CAAAA,EAAAA,EAAAA,WAAAA,EACL,MAAOE,EAAgBgB,EAAiBC,EAA+CC,KACrF,GAAM,CAACC,SAAAA,CAAQ,CAAEC,gBAAAA,CAAe,CAAC,CAAGC,EAAmBP,EAAUd,EAAOgB,EAAQC,GAEhFK,EAAgBH,GACZD,EACFK,OAAOC,IAAI,CAACnB,CAAAA,EAAAA,EAAAA,EAAAA,EAAOQ,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CAAC,GAAGL,CAAe,CAAEM,EAAGP,CAAQ,GAAGQ,IAAI,CAAE,UAEnFf,EAAiBa,KAAAA,EAAW,CAAC,GAAGL,CAAe,CAAEM,EAAGP,CAAQ,EAEhE,EACA,CAACP,EAAkBE,EAAS,CAEhC,CAmBO,SAASc,EAAyBC,CAAmB,EAC1D,IAAIC,EACJ,GAAI,CACFA,EAAeC,KAAKC,KAAK,CAACH,GAAe,MACpCI,MAAMC,OAAO,CAACJ,IACjBA,CAAAA,EAAe,EAAE,CAErB,CAAE,MAAOK,EAAG,CACVL,EAAe,EAAE,CAEnB,OAAOA,CACT,CAEA,SAAST,EACPP,CAAkB,CAClBd,CAAc,CACdgB,CAAe,CACfC,CAA6C,EAE7C,IAAMmB,EAAsB,IAAIC,gBAAgBvB,EAASX,MAAM,EAC3DgB,EAAWnB,GAASoC,EAAoBE,GAAG,CAAC,MAAQ,GACpDtB,GACFG,CAAAA,EAAWA,EAAW,CAAC,EAAEA,EAAS,CAAC,EAAEH,EAAO,CAAC,CAAGA,CAAK,EAGvD,IAAMI,EAAkBH,GAAgB,CAAC,EAEnCsB,EAAmBC,CAAAA,EAAAA,EAAAA,EAAAA,IAA0BC,IAAI,CAAC,IACpDF,CAAqB,KAArBA,EACFnB,EAAgB,WAAc,CAAGmB,EAGjCnB,EAAgB,WAAc,CAAG,KAGnC,IAAMS,EAAcO,EAAoBE,GAAG,CAAC,kBAC5C,GAAIT,EAAa,CACf,IAAMC,EAAeF,EAAyBC,GAC9C,GAAIC,EAAaY,MAAM,CAAG,EAAG,CAC3B,IAAMC,EAAMC,CAAAA,EAAAA,EAAAA,WAAAA,EAAYzB,EACxBC,CAAAA,EAAgB,cAAiB,CAAGyB,CAAAA,EAAAA,EAAAA,gBAAAA,EAAiB1B,EAAUW,EAAca,EAC/E,CACF,CAEA,MAAO,CACLxB,SAAAA,EACAC,gBAAAA,CACF,CACF,CClGA,IAAM0B,EAAkB,sCAalBC,EAAc,4BAMdC,EAA8B,+CAyD7B,SAAS1B,EAAgBnB,CAAc,EAC5CoB,OAAO0B,aAAa,CAAC,IAAIC,YA5DF,kCA4DwC,CAACC,OAAQhD,CAAM,GAChF,CAKO,SAASiD,IACd7B,OAAO0B,aAAa,CAAC,IAAIC,YA/DE,8BAgE7B,C,eCtFO,SAASG,EAAI,CAACC,SAAAA,CAAQ,CAA+B,GAC1DC,WD6BAC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KAGR,SAASC,IACPlC,OAAO0B,aAAa,CAAC,IAAIC,YA7BR,uCAgCjB3B,OAAO0B,aAAa,CAAC,IAAIC,YAAYF,EAA6B,CAACG,OAAQ,EAAK,GAClF,CAKA,OAFAM,IACAlC,OAAOmC,gBAAgB,CAACZ,EAAiBW,GAClC,KAELlC,OAAO0B,aAAa,CAAC,IAAIC,YAAYF,EAA6B,CAACG,OAAQ,EAAI,IAC/E5B,OAAOoC,mBAAmB,CAACb,EAAiBW,GAC5ClC,OAAO0B,aAAa,CAAC,IAAIC,YArCL,yCAsCtB,CACF,EAAG,EAAE,EAGL,IAAMU,EAAkBjD,IAExB6C,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,SAASK,EAAkB1B,CAAQ,EAC3BA,aAAae,aAEnBU,EAAgBzB,EAAEgB,MAAM,CAAChD,MAAM,CAAEsB,KAAAA,EAAWU,EAAEgB,MAAM,CAAClC,YAAY,CACnE,CAGA,OADAM,OAAOmC,gBAAgB,CAACX,EAAac,GAC9B,KACLtC,OAAOoC,mBAAmB,CAACZ,EAAac,EAC1C,CACF,EAAG,CAACD,EAAgB,EAEpB,GAAM,CAACzD,OAAAA,CAAM,CAAC,CAAGY,CAAAA,EAAAA,EAAAA,EAAAA,IACXf,EAAQ,IAAIqC,gBAAgBlC,GAAQmC,GAAG,CAAC,MAAQ,GACtDkB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRlC,EAAgBtB,EAClB,EAAG,CAACA,EAAM,CACZ,ICrEE,IAAM8D,EAAWC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAO,EAAC,GAAI,EAAE,EACvC,MACE,UAACC,EAAAA,CAAiBA,CAAAA,CAACC,QAAS,YAAaC,SAAU,GAAIJ,SAAUA,E,SAC/D,UAACK,EAAAA,CAAwBA,CAAAA,C,SAAEb,C,IAGjC,CAEA,GAAG,CAAED,EAAIe,WAAW,EAAff,CAAAA,EAAIe,WAAW,CAAK,KAAI,CAAE,CAAE,KAAM,CAAC,C,mJLdxC,IAAMC,EAAqBC,EAAAA,aAAmB,CAA0B7C,KAAAA,GAUxE,GAAG,CAAE4C,EAAmBD,WAAW,EAA9BC,CAAAA,EAAmBD,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,CACtE,GAAG,CAAE5E,CAAAA,EATE,SAA6B,CAAC+E,KAAAA,CAAI,CAAEjB,SAAAA,CAAQ,CAAgD,EACjG,MAAO,WAACe,EAAmBG,QAAQ,EAACC,MAAOF,E,UAAM,IAAEjB,EAAS,I,EAC9D,CAOuB,EAAEc,WAAW,EAA/B5E,CAAAA,EAAoB4E,WAAW,CAAK,qBAAoB,CAAE,CAAE,KAAM,CAAC,C,eMFjE,SAASM,IAMd,GAAM,CAACC,mBAAAA,CAAkB,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IACvBC,EAAoBC,WAsF1B,IAAMC,EAAYC,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBC,EAAAA,EAAeA,CAAExD,KAAAA,GAC7C,CAACyD,GAAAA,CAAE,CAAEC,MAAAA,CAAK,CAAC,CAAGC,ENhGbd,UAAgB,CAACD,IMgGgB,CAACa,GAAIzD,KAAAA,EAAW0D,MAAO1D,KAAAA,CAAS,EAExE,MAAO3B,CAAAA,EAAAA,EAAAA,WAAAA,EACL,CAACuF,EAA6BC,EAA0BC,KAEtD,IAAMC,EAAsB,CAC1BH,OAAAA,EACAC,YAAAA,EACAG,aAAcC,KAAKC,GAAG,GACtBC,UAAW,qBACXC,WAAY,iBACZC,SAAUZ,EACVa,YAAaZ,EACb,GAAGI,CAAS,CA8ChBS,IAAKzE,OAAOT,QAAQ,CAACa,IAAI,CACzBsE,WAAY1E,OAAO2E,SAAS,CAACC,SAAS,CACtCC,cAAe7E,OAAO8E,UAAU,CAChCC,kBAAmB/E,OAAO2E,SAAS,CAACK,SAAS,CAAC9D,IAAI,CAAC,IA/CjD,EAEA+D,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBzB,EAAW,CAAC0B,OAbf,OAauBjB,KAAAA,CAAI,EAC5C,EACA,CAACT,EAAWG,EAAIC,EAAM,CAE1B,IA3GQuB,EAAwBC,CAAAA,EAAAA,EAAAA,CAAAA,EAAe,sBAE7C,MAAO,CACLC,sBAAuB9G,CAAAA,EAAAA,EAAAA,WAAAA,EACrB,CAAC+G,EAASC,EAAUC,KAClBpC,EAAmB,sBAAuB,GAAI,CAC5CkC,QAAAA,EACAC,SAAAA,EACAnH,KAAMoH,EAAOpH,IAAI,CACjBqH,SAAUD,EAAOE,aAAa,CAC9BC,YAAaH,EAAOG,WAAW,CAC/BC,SAAUJ,EAAOI,QAAQ,CACzBC,WAAYL,EAAOK,UAAU,CAC7BC,SAAUN,EAAOM,QAAQ,CACzBC,SAAUP,EAAOO,QAAQ,GAEvBZ,GACF7B,EAAkB,sBAAuB,QAAS,CAChD0C,SAAUV,EACVW,YAAa,OACbC,aAAcX,EACdY,YAAaX,EAAOpH,IAAI,CACxBgI,gBAAiBZ,EAAOE,aAAa,CACrCW,mBAAoBb,EAAOG,WAAW,CACtCW,gBAAiBd,EAAOI,QAAQ,CAChCW,kBAAmBf,EAAOK,UAAU,CACpCW,gBAAiBhB,EAAOM,QAAQ,CAChCW,gBAAiBjB,EAAOO,QAAQ,EAGtC,EACA,CAAC3C,EAAoBE,EAAmB6B,EAAsB,EAEhEuB,yBAA0BnI,CAAAA,EAAAA,EAAAA,WAAAA,EACxB+G,IACElC,EAAmB,cAAe,GAAI,CAACkC,QAAAA,CAAO,GAC1CH,GACF7B,EAAkB,sBAAuB,QAAS,CAAC0C,SAAUV,CAAO,EAExE,EACA,CAAClC,EAAoBE,EAAmB6B,EAAsB,EAEhEwB,6BAA8BpI,CAAAA,EAAAA,EAAAA,WAAAA,EAC5B,CAAC+G,EAASsB,KACRxD,EAAmB,mBAAoB,GAAI,CAACkC,QAAAA,EAASsB,KAAAA,CAAI,GACrDzB,GACF7B,EAAkB,kBAAmB,QAAS,CAAC0C,SAAUV,EAASuB,WAAYD,CAAI,EAEtF,EACA,CAACxD,EAAoBE,EAAmB6B,EAAsB,EAEhE2B,wBAAyBvI,CAAAA,EAAAA,EAAAA,WAAAA,EACvB,CAAC+G,EAASC,EAAUC,KAClBpC,EAAmB,wBAAyB,GAAI,CAC9CkC,QAAAA,EACAC,SAAAA,EACAnH,KAAMoH,EAAOpH,IAAI,CACjBqH,SAAUD,EAAOE,aAAa,CAC9BC,YAAaH,EAAOG,WAAW,CAC/BC,SAAUJ,EAAOI,QAAQ,CACzBC,WAAYL,EAAOK,UAAU,CAC7BC,SAAUN,EAAOM,QAAQ,CACzBC,SAAUP,EAAOO,QAAQ,GAEvBZ,GACF7B,EAAkB,wBAAyB,UAAW,CACpD0C,SAAUV,EACVW,YAAa,OACbC,aAAcX,EACdY,YAAaX,EAAOpH,IAAI,CACxBgI,gBAAiBZ,EAAOE,aAAa,CACrCW,mBAAoBb,EAAOG,WAAW,CACtCW,gBAAiBd,EAAOI,QAAQ,CAChCW,kBAAmBf,EAAOK,UAAU,CACpCW,gBAAiBhB,EAAOM,QAAQ,CAChCW,gBAAiBjB,EAAOO,QAAQ,EAGtC,EACA,CAAC3C,EAAoBE,EAAmB6B,EAAsB,CAElE,CACF,CCpGA,IAAI4B,EAAoB,EA2BjB,SAASC,IACd,OAAO7C,KAAKC,GAAG,GAAK2C,CACtB,CC5Be,SAASE,EAAiB,CACvCC,KAAAA,CAAI,CACJnF,SAAAA,CAAQ,CACRoF,GAAAA,CAAE,CACFC,MAAAA,CAAK,CAMN,EACC,MACE,UAACC,EAAAA,CAAGA,CAAAA,CACFD,MAAOA,EACPD,GAAI,CACFG,QAAS,QACTC,SAAU,SACVC,aAAc,WACdC,UAAWP,SAAAA,EAAkB,MAAQ,MACrCQ,WAAY,SACZ,GAAIP,GAAM,CAAC,CAAC,E,SAGbpF,C,EAGP,CAEA,GAAG,CAAEkF,EAAiBpE,WAAW,EAA5BoE,CAAAA,EAAiBpE,WAAW,CAAK,kBAAiB,CAAE,CAAE,KAAM,CAAC,CC7BnD,SAAS8E,EAAe,CAACC,MAAAA,CAAK,CAA8B,EACzE,MACE,UAACP,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFU,GAAID,GAAS,qBACbE,aAAc,EACdC,YAAa,QACbC,YAAa,EACbC,YAAa,iCACbC,MAAO,GACPC,OAAQ,EACV,C,EAGN,CAEA,GAAG,CAAER,EAAe9E,WAAW,EAA1B8E,CAAAA,EAAe9E,WAAW,CAAK,gBAAe,CAAE,CAAE,KAAM,CAAC,CCf/C,SAASuF,EAAO,CAACrG,SAAAA,CAAQ,CAAEoF,GAAAA,CAAE,CAA8B,EACxE,MACE,UAACE,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,KAAKlB,GAAI,CAACG,QAAS,OAAQgB,SAAU,OAAQC,WAAY,SAAUC,GAAI,EAAG,GAAGrB,CAAE,E,SACpFpE,EAAAA,QAAc,CAAC0F,OAAO,CAAC1G,GACrBtC,MAAM,CAACiJ,GAAS,CAAC,CAACA,GAClBC,GAAG,CAAC,CAACD,EAAOE,KACX,IAAMC,EAAM,CAAC,YAAY,EAAEC,CAAAA,EAAAA,EAAAA,cAAAA,EAAeJ,GAASA,EAAMG,GAAG,CAAGD,EAAE,CAAC,CAC5DG,EAASH,IAAAA,EAAU,KAAO,UAACI,EAAAA,CAAAA,GACjC,MACE,WAACC,EAAAA,QAAQA,CAAAA,C,UACNF,EACAL,E,EAFYG,EAKnB,E,EAGR,CAEA,SAASG,IACP,MACE,UAACE,EAAAA,CAAIA,CAAAA,CAACC,cAAW,GAAChC,GAAI,CAACiC,GAAI,EAAGxB,MAAO,WAAW,E,SAAG,M,EAIvD,CAEO,SAASyB,EAAW,CAACtH,SAAAA,CAAQ,CAA6B,EAC/D,MACE,UAACsF,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,KAAKlB,GAAI,CAACmC,UAAW,OAAQhC,QAAS,OAAQiB,WAAY,SAAUgB,SAAU,EAAG3B,MAAO,UAAU,E,SACvG7F,C,EAGP,CAEA,GAAG,CAAEqG,EAAOvF,WAAW,EAAlBuF,CAAAA,EAAOvF,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAEmG,EAAanG,WAAW,EAAxBmG,CAAAA,EAAanG,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CAC1D,GAAG,CAAEwG,EAAWxG,WAAW,EAAtBwG,CAAAA,EAAWxG,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,C,mCCpCvC,SAAS2G,EAAO,CAACzH,SAAAA,CAAQ,CAA6B,EACnE,MACE,UAACsF,EAAAA,CAAGA,CAAAA,CACFgB,GAAG,KACHlB,GAAI,CACFG,QAAS,OACTmC,cAAe,SACfF,SAAU,GACVG,WAAY,GACd,E,SAEC3H,C,EAGP,CAKO,SAAS4H,EAAO,CAACC,GAAAA,CAAE,CAAE7H,SAAAA,CAAQ,CAAc,EAChD,MAAO,UAACsF,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQsC,GAAIA,GAAM,MAAM,E,SAAI7H,C,EACxD,CAUO,SAAS8H,EAAM,CAAC9H,SAAAA,CAAQ,CAAEwH,SAAAA,CAAQ,CAAgC,EACvE,MACE,UAAClC,EAAAA,CAAGA,CAAAA,CACFyC,UAAU,eACV3C,GAAI,CACFK,aAAc,WACdE,WAAY,SACZJ,QAAS,OACTiB,WAAY,SACZgB,SAAUA,GAAY,EACtBG,WAAY,WACZnC,SAAU,QACZ,E,SAECxF,C,EAGP,CAKO,SAASgI,GAAa,CAAChI,SAAAA,CAAQ,CAA6B,EACjE,MACE,WAACiI,EAAAA,CAAUA,CAAAA,C,UACT,UAACA,EAAAA,CAAUA,CAACC,MAAM,E,SAEhB,UAACC,EAAAA,CAAUA,CAAAA,CAACC,qBAAsB,GAAMC,KAAMC,EAAAA,mBAAmBA,CAAEC,aAAW,OAAOC,QAAQ,W,KAG/F,UAACP,EAAAA,CAAUA,CAACQ,OAAO,E,SACjB,UAACC,EAAAA,CAAUA,CAAAA,C,SAAE1I,C,OAIrB,CAEA,GAAG,CAAEyH,EAAO3G,WAAW,EAAlB2G,CAAAA,EAAO3G,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAE8G,EAAO9G,WAAW,EAAlB8G,CAAAA,EAAO9G,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAEgH,EAAMhH,WAAW,EAAjBgH,CAAAA,EAAMhH,WAAW,CAAK,OAAM,CAAE,CAAE,KAAM,CAAC,CAC5C,GAAG,CAAEkH,GAAalH,WAAW,EAAxBkH,CAAAA,GAAalH,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CCxE3C,SAAS6H,GAAQ,CAAC3I,SAAAA,CAAQ,CAA6B,EACpE,MAAO,UAACsF,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACqB,GAAI,EAAGe,SAAU,CAAC,E,SAAIxH,C,EACzC,CAEA,GAAG,CAAE2I,GAAQ7H,WAAW,EAAnB6H,CAAAA,GAAQ7H,WAAW,CAAK,SAAQ,CAAE,CAAE,KAAM,CAAC,CCCzC,SAAS8H,GAAkBC,CAA6B,EAC7D,MACE,UAACvD,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,SAAUgB,SAAU,EAAGsB,GAAI,CAAC,E,SACjE,UAACC,GAAAA,CAAgB,GAAGF,CAAK,CAAEzD,GAAI,CAACS,MAAO,UAAU,C,IAGvD,CAIO,SAASkD,GAAe,CAACC,MAAAA,CAAK,CAAEC,KAAAA,CAAI,CAAE,GAAGC,EAA+B,EAC7E,MACE,UAACC,EAAAA,CAAIA,CAAAA,CACH9K,KAAM+K,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,CAACJ,MAAAA,EAAOK,KAAMJ,CAAI,GACvCK,qBAAoBF,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,CAACJ,MAAAA,EAAOK,KAAMJ,EAAMM,OAAQ,WAAW,GACzE,GAAGL,CAAS,C,SAEb,UAACM,OAAAA,C,SAAM,CAAC,EAAER,EAAM,CAAC,EAAEC,EAAK,CAAC,E,EAG/B,CAEA,GAAG,CAAEL,GAAkB9H,WAAW,EAA7B8H,CAAAA,GAAkB9H,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CACpE,GAAG,CAAEiI,GAAejI,WAAW,EAA1BiI,CAAAA,GAAejI,WAAW,CAAK,gBAAe,CAAE,CAAE,KAAM,CAAC,CC5B/C,SAAS2I,GAAO,CAACzJ,SAAAA,CAAQ,CAAoB,EAC1D,MACE,sB,SACE,UAACsF,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACTmC,cAAe,SACfgC,SAAU,EACV3D,aAAc,EACdG,YAAa,iBACbD,YAAa,EACbD,YAAa,QACb2D,EAAG,EACHC,GAAI,EACJzD,MAAO,OACP0D,SAAU,MACZ,E,SAEC7J,C,IAIT,CAEA,GAAG,CAAEyJ,GAAO3I,WAAW,EAAlB2I,CAAAA,GAAO3I,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CCZ/B,SAASgJ,GAAgB,CAACC,KAAAA,CAAI,CAAEpC,WAAAA,CAAU,CAAEvC,GAAAA,CAAE,CAAuB,EAClF,MAAO,UAAC4E,EAAAA,EAAYA,CAAAA,CAACjC,UAAU,eAAekC,KAAMF,EAAM3E,GAAI,CAACuC,WAAAA,EAAY,WAAY,CAACH,SAAU,CAAC,EAAG,GAAGpC,CAAE,C,EAC7G,CAEA,GAAG,CAAE0E,GAAgBhJ,WAAW,EAA3BgJ,CAAAA,GAAgBhJ,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CCbjD,SAASoJ,GAAU,CAAClK,SAAAA,CAAQ,CAA6B,EAEtE,IAAMmK,EAAgBnJ,EAAAA,QAAc,CAAC0F,OAAO,CAAC1G,GAAUtC,MAAM,CAACiJ,GAAS,CAAC,CAACA,GACzE,MACE,UAACrB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC0D,GAAI,EAAGrC,GAAI,EAAGlB,QAAS,OAAQgB,SAAU,OAAQ6D,IAAK,CAAC,E,SAC9DD,EAAcvD,GAAG,CAAC,CAACD,EAAOE,KACzB,IAAMwD,EAAWtD,CAAAA,EAAAA,EAAAA,cAAAA,EAAeJ,GAASA,EAAMG,GAAG,CAAGD,EACrD,MAAO,UAACyD,MAAAA,C,SAAoB3D,C,EAAX0D,EACnB,E,EAGN,CAEA,GAAG,CAAEH,GAAUpJ,WAAW,EAArBoJ,CAAAA,GAAUpJ,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CChBrC,SAASyJ,GAAK,CAACvK,SAAAA,CAAQ,CAAEoF,GAAAA,CAAE,CAAE,GAAGoF,EAAsC,EACnF,MACE,UAAClF,EAAAA,CAAGA,CAAAA,CACD,GAAGkF,CAAQ,CACZC,cAAY,eACZrF,GAAI,CAACG,QAAS,OAAQ6E,IAAK,EAAGV,SAAU,EAAGgB,oBAAqB,MAAO,GAAGtF,CAAE,E,SAE3EpF,C,EAGP,CAEA,GAAG,CAAEuK,GAAKzJ,WAAW,EAAhByJ,CAAAA,GAAKzJ,WAAW,CAAK,MAAK,CAAE,CAAE,KAAM,CAAC,CCiB1C6J,OAAOC,MAAM,CAACnB,GAdC,CACb7B,OAAMA,EACNe,QAAOA,GACPtC,OAAMA,EACNiB,WAAUA,EACVG,OAAMA,EACN8C,KAAIA,GACJvC,aAAYA,GACZY,kBAAiBA,GACjBG,eAAcA,GACde,gBAAeA,GACfhC,MAAKA,EACLoC,UAASA,EACX,G,gBC5Be,SAASW,KACtB,IAAMC,EAAYC,CAAAA,EAAAA,GAAAA,CAAAA,IAQZC,EAAqBvK,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACjC,UAAQqK,EAAUA,SAAS,CAJA,kCAHC,mCAc3B,CAACA,EAAU,EAERG,EAAuBxK,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACnC,UAAQqK,EAAUA,SAAS,CAbE,oCAHC,qCAuB7B,CAACA,EAAU,EAEd,MACE,UAACI,MAAAA,CACCC,IAAI,iDACJC,IAAKJ,EACLK,OAAQ,CAAC,EAAEL,EAAmB,KAAK,EAAEC,EAAqB,GAAG,CAAC,CAC9D9E,MAAM,OACNmF,MAAO,CAAC/F,QAAS,OAAO,C,EAG9B,CAEA,GAAG,CAAEsF,GAAmB/J,WAAW,EAA9B+J,CAAAA,GAAmB/J,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,C,gBChBvD,SAASyK,GAAK,CAC3BC,QAAAA,CAAO,CACPC,aAAAA,CAAY,CAIb,MbxBKC,EAAAA,EAAsB,EAE1BxL,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMyL,EAAU,KACd,IAAMC,EAAY3N,OAAO4N,YAAY,IAAIC,WAAW1M,QAAU,EAC1DwM,IAAcF,IAIhBA,EAAsBE,EACtB5G,EAAoB5C,KAAKC,GAAG,GAEhC,EAEA,OADA0J,SAAS3L,gBAAgB,CAAC,kBAAmBuL,GACtC,KACLI,SAAS1L,mBAAmB,CAAC,kBAAmBsL,EAClD,CACF,GaaA,GAAM,CAACK,EAAoBC,EAAsB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACvD,CAACC,EAAeC,EAAgBC,EAAqB,CAAG5L,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KACpE,IAAI6L,EAAa,EACbC,EAAc,GACZC,EAAoC,EAAE,CAE5C,GAAIhB,EAAQiB,YAAY,EA1BY,GA0ByB,CAC3DH,EAAad,EAAQA,OAAO,EAAEkB,OAAO,CAACC,EAAKC,IAAMD,EAAMC,EAAEC,mBAAmB,CAACzN,MAAM,CAAE,GACrF,IAAM0N,EAAMtB,EAAQA,OAAO,EAAE,CAAC,EAAE,EAAExH,UAAY,GAC9CuI,EAAcf,EAAQA,OAAO,EAAEuB,KAC7BH,GAAKA,EAAE5I,QAAQ,GAAK8I,GAAOF,EAAEC,mBAAmB,CAACE,IAAI,CAACC,GAAKA,EAAEhJ,QAAQ,GAAK8I,GAE9E,CAEA,GAAI,CAACd,GAAsBM,IAAAA,EACzB,MAAO,CAACd,EAAQA,OAAO,EAAI,EAAE,CAAEc,EAAYC,EAAY,CAIzD,GAAIf,EAAQA,OAAO,CACjB,IAAK,IAAM/H,KAAU+H,EAAQA,OAAO,CAElC,IAAK,IAAMyB,KADXT,EAAgBU,IAAI,CAACzJ,GACHA,EAAOoJ,mBAAmB,EAC1CL,EAAgBU,IAAI,CAACvC,OAAOC,MAAM,CAAC,CAAC,EAAGnH,EAAQwJ,IAIrD,MAAO,CAACT,EAAiBF,EAAYC,EAAY,EAChD,CAACf,EAASQ,EAAmB,EAEhC9L,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KAER+L,EAAsBT,EAAQiB,YAAY,EAjDD,EAkD3C,EAAG,CAACR,EAAuBT,EAAQ,EAEnC,GAAM,CAACzG,wBAAAA,CAAuB,CAAC,CAAG3D,UAClClB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAIsL,EAAQA,OAAO,CAAE,CAEnB,IAAMhI,EAAW2J,KAAKC,KAAK,CAACD,KAAKE,MAAM,GAAK7B,EAAQA,OAAO,CAACpM,MAAM,EAC5DkO,EAAgB9B,EAAQA,OAAO,CAAChI,EAAS,CAC3C8J,GACFvI,EAAwByG,EAAQvH,QAAQ,CAAET,EAAU8J,EAExD,CACF,EAAG,CAAC9B,EAASzG,EAAwB,EAO9ByG,EAAQ+B,SAAS,CACtB,WAAC9D,GAAOc,IAAI,EAACnF,GAAI,CAACgF,IAAK,CAAC,EAAG,EAAG,EAAG,EAAE,E,UAChC+B,GAAevF,IAAI,CAAC4G,EAAM3G,IACzB,MAAC4G,GAAAA,CAAmBD,KAAMA,EAAMhK,SAAUqD,EAAGtD,QAASiI,EAAQvH,QAAQ,CAAEyJ,iBAAkB,CAACjC,C,EAA1E5E,IAElB,CAACmF,GAAsBI,EAAiB,GACvC,UAAC9G,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFc,YAAa,iBACbD,YAAa,EACb2D,GAAI,OACJ+D,GAAI,OACJnG,SAAU,EACVrB,MAAO,OACPJ,aAAc,EACdC,YAAa,QACbT,QAAS,OACTmC,cAAe,MACflB,WAAY,SACZa,GAAI,MACN,E,SAEA,WAACF,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,UAAU,E,UAC1B,UAAC+H,EAAAA,CAAOA,CAAAA,CAACvF,KAAMwF,EAAAA,QAAQA,CAAEC,KAAM,GAAI1I,GAAI,CAACyC,GAAI,CAAC,C,GAAK,mBAAsBuE,EAAe,mBACtFC,EAAuB,6BAA+B,GAAG,IAAE,IAC5D,UAAClD,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAACzH,GAAG,SAAS0H,QAAS,IAAM/B,EAAsB,IA3BrD5N,KAAM,I,SA2BqE,sB,WAQ5F,WAACiH,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CAACG,QAAS,OAAQmC,cAAe,SAAUtB,OAAQ,OAAQI,WAAY,SAAUyH,eAAgB,QAAQ,E,UAE7G,UAAC3I,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACyE,SAAU,OAAO,E,SACzB,UAACqE,GAAeA,CAAAA,E,GAElB,UAAC/G,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,OAAQH,SAAU,EAAGf,GAAI,CAAC,E,SAAG,kC,GACpD,UAACU,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAYgE,SAAU,QAASsE,UAAW,SAAU1H,GAAI,CAAC,E,SAAG,8F,GAG9E,WAACnB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQkB,GAAI,CAAC,E,UAC9B,UAAC2H,EAAAA,CAAMA,CAAAA,CAAC9H,GAAG,IAAIjI,KAAMmN,EAAQ6C,YAAY,C,SAAE,S,GAG1C7C,EAAQ8C,YAAY,EACnB,UAACF,EAAAA,CAAMA,CAAAA,CAAC9H,GAAG,IAAIjI,KAAMmN,EAAQ8C,YAAY,CAAElJ,GAAI,CAACmJ,GAAI,CAAC,EAAG/F,QAAQ,U,SAAU,S,QAOpF,CAYA,SAASiF,GAAW,CAClBD,KAAAA,CAAI,CACJjK,QAAAA,CAAO,CACPC,SAAAA,CAAQ,CACRkK,iBAAAA,CAAgB,CAMjB,EACC,GAAM,CAACc,EAAQC,EAAU,CAAGvC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAE/BwC,EAAWlB,EAAKnR,IAAI,CACpB2M,EAAQwE,EAAKxJ,QAAQ,CAAC2K,KAAK,CAAC,IAAI,CAAC,EAAE,CACnCC,EAAWpB,EAAKxJ,QAAQ,CAAC2K,KAAK,CAAC,IAAI,CAAC,EAAE,CACtCE,EAA2B,CAAC,CAAC,EAAE7F,EAAM,IAAI,CAAC,CAC1C8F,EAAgB,CAAC,CAAC,EAAEtB,EAAKxJ,QAAQ,CAAC,CAAC,CACnC+K,EAAcC,CAxBlB,IACA,IACD,CACiCC,QAAQ,CAqBOzB,EAAK0B,WAAW,EAAI,WAAa,GAC5EC,EAAU,CAAC,EAAEL,EAAc,MAAM,EAAEtB,EAAK1J,UAAU,CAAC,CAAC,EAAEsL,CAAAA,EAAAA,EAAAA,EAAAA,EAAWV,GAAU,EAAEK,EAAY,CAAC,CAG1FM,EAAaC,EADMzL,QAAQ,CAAC8K,KAAK,CAAC,KAAKY,KAAK,CAAC,GACpBpQ,IAAI,CAAC,KAE9BqQ,EAAwBhC,EAAKiC,QAAQ,CAAC1C,IAAI,CAAClG,GAAKA,EAAE6I,KAAK,EAAI,IAAMlC,EAAKiC,QAAQ,CAAC1C,IAAI,CAAClG,GAAKA,EAAE6I,KAAK,CAAG,GACnGC,EAAkBnC,EAAKiC,QAAQ,CAACrQ,MAAM,CA9Jf,GA8J4CoQ,EACnE,CAACI,EAAWC,EAAa,CAAG3D,CAAAA,EAAAA,EAAAA,QAAAA,EAASyD,GAErCG,EAAkBF,EACpBpC,EAAKiC,QAAQ,CAAC/R,MAAM,CAACqS,GAAMP,CAAAA,GAAwBO,EAAEL,KAAK,EAAI,GAAWH,KAAK,CAAC,EAlKtD,GAmKzB/B,EAAKiC,QAAQ,CACXO,EAAoBF,EAAgBpD,MAAM,CAAC,CAACC,EAAKoD,IAAMpD,EAAMoD,EAAEE,WAAW,CAAE,GAC5EC,EAAkB1C,EAAKyC,WAAW,CAClCE,EAAeR,GAAmBO,EAAkBF,EAAoB,GAAK,CAACJ,EAC9E,CAACtM,sBAAAA,CAAqB,CAAC,CAAGlC,IAC1BgP,EAAyB5T,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KACzC8G,EAAsBC,EAASC,EAAUgK,EAC3C,EAAG,CAAClK,EAAuBC,EAASC,EAAUgK,EAAK,EAI/C6C,EAAmB7C,EAAK5J,WAAW,CAAG,EAAI,CAAC,EAAE,EAAE4J,EAAK5J,WAAW,CAAC,CAAC,CAAG,GACxE,GAAIkM,EAAgB1Q,MAAM,CAAG,EAAG,CAC9B,IAAMkR,EAAeR,CAAe,CAAC,EAAE,CACjCS,EAAapD,KAAKC,KAAK,CAAC,CAACkD,EAAaE,kBAAkB,CAAGF,EAAaG,oBAAoB,EAAI,GACtGJ,EAAmBE,EAAa,EAAI,CAAC,EAAE,EAAEA,EAAW,CAAC,CAAG,EAC1D,CACA,IAAMG,EAAa,CAAC,EAAEvB,EAAQ,EAAEkB,EAAiB,CAAC,CAE5CM,EAAuBC,CAAAA,EAAAA,EAAAA,EAAAA,IAE7B,MACE,WAACtL,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACsE,SAAU,CAAC,E,UACnB,WAACpE,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFU,GAAI,gBACJ+K,GAAI,EACJC,GAAI,EACJ1K,OAAQ,GACRmB,UAAW,OACXwJ,oBAAqB,EACrBC,qBAAsB,EACtBC,wBAAyBzC,EAAS,EAAI,EACtC0C,uBAAwB1C,EAAS,EAAI,EACrCtI,YAAa,iBACbD,YAAa,EACbD,YAAa,QACbT,QAAS,OACTiB,WAAY,QACd,E,UAEA,UAAC2K,GAAAA,CAAgB3C,OAAQA,EAAQR,QAAS,IAAMS,EAAU,CAACD,GAASvF,KAAM,CAAC,EAAEuE,EAAKxJ,QAAQ,CAAC,MAAG,EAAE0K,EAAS,CAAC,GAC1G,WAACpJ,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,EAAG5K,WAAY,SAAUjB,QAAS,OAAQgJ,GAAI,EAAG7E,SAAU,CAAC,E,UAC1E,UAACD,GAAO7B,MAAM,EAACC,GAAI,E,SACjB,UAACwJ,GAAAA,CAAYA,CAAAA,CAACC,OAAM,GAAClM,GAAI,CAACmJ,GAAI,KAAK,EAAGT,KAAM,GAAI1C,IAAKyD,C,KAEvD,WAACpF,GAAO3B,KAAK,EAACN,SAAU,E,UACtB,WAACtC,EAAgBA,CAACC,KAAK,OAAOE,MAAO,CAAC,EAAEmI,EAAKxJ,QAAQ,CAAC,MAAG,EAAE0K,EAAS,CAAC,C,UAClEhB,GACC,uB,UACE,UAACjE,GAAOV,cAAc,EACpBC,MAAOA,EACPC,KAAM2F,EACNxJ,GAAI,CAACS,MAAO,aAAc8B,WAAY,OAAQjC,UAAW,MAAO6L,YAAa,eAAe,C,GAC5F,e,GAIN,UAACpI,EAAAA,CAAIA,CAAAA,CACH9K,KAAMqS,EACNtL,GAAI,CAACS,MAAO,aAAc8B,WAAY,SAAUjC,UAAW,MAAO6L,YAAa,eAAe,EAC9F9G,cAAY,wB,SAEXiE,C,MAIJiC,GACC,UAACrL,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACyL,GAAI,CAAC,E,SAAI,CAAC,MAAM,EAAErD,EAAKgE,UAAU,EAAE9B,MAAM+B,QAAQ,GAAG,MAAM,EAAEjE,EAAKgE,UAAU,EACjFE,mBAAmB,CAAC,G,MAI9B,UAACpM,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuM,WAAY,EAAGd,GAAI,EAAGtL,QAAS,CAAC,OAAQ,OAAQ,OAAO,E,SAC/D,WAACkE,GAAOpD,MAAM,EAACjB,GAAI,CAACqB,GAAI,CAAC,E,UACvB,UAACgD,GAAOnC,UAAU,E,SAChB,UAACsK,GAAAA,CAAaC,UAAW,CAAC,EAAErE,EAAK7J,aAAa,CAAC,SAAS,CAAC,CAAEoG,KAAMyD,EAAK7J,aAAa,C,SACjF,UAAC2B,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACyC,GAAI,CAAC,E,SACb,UAACjC,EAAcA,CAACC,MAAO2H,EAAKsE,cAAc,E,OAI/CtE,EAAK3J,QAAQ,EACZ,UAAC4F,GAAOnC,UAAU,E,SAChB,UAACsK,GAAAA,CACCC,UAAW,CAAC,EAAExC,EAAW,OAAO,CAAC,CACjCtF,KAAMsF,EACN0C,QAAS,CAAC,EAAEjD,EAAc,MAAM,EAAEO,EAAW,CAAC,C,SAE9C,UAACzB,EAAAA,CAAOA,CAAAA,CACNvF,KAAM2J,EAAAA,aAAaA,CACnBlE,KAAM,GACN1I,GAAI,CACFyC,GAAI,CACN,C,eASb2G,GACC,uB,UACE,UAAClJ,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFc,YAAa,iBACb+L,kBAAmBtC,EAAkB,EAAI,EACzCuB,uBAAwBvB,EAAkB,EAAI,EAC9CsB,wBAAyBtB,EAAkB,EAAI,EAC/CuC,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClBpM,YAAa,OACf,E,SAEA,UAACqM,GAAAA,CACC3B,WAAYA,EACZhO,IAAKyM,EACLM,SAAUK,EACVM,uBAAwBA,C,KAI3BD,GACC,WAACmC,EAAAA,CAAKA,CAAAA,CAAC9J,QAAQ,UAAUpD,GAAI,CAACoC,SAAU,EAAGzB,aAAc,EAAG4H,GAAI,EAAG/D,GAAI,CAAC,E,UAAG,sBACrDsG,EAAkBF,EAAkB,QAAM,IAC7DE,EAAkBF,GAAsB,EAAI,QAAU,UAAU,cAAY,IAC5EE,IAAAA,EACC,UAAC/G,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMqS,E,SAAY,kC,GAExB,WAACvH,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMqS,E,UAAY,WAASR,EAAgB,4B,MAItDP,GACC,WAACxG,EAAAA,CAAIA,CAAAA,CACH6E,QAASnP,IACPA,EAAE0T,cAAc,GAChB1C,EAAa,CAACD,EAChB,EACAvR,KAAK,IACL+G,GAAI,CACFG,QAAS,OACTiB,WAAY,SACZmH,GAAI,EACJ7H,GAAI,iBACJ8D,GAAI,EACJxD,OAAQ,GACRP,MAAO,WACPK,YAAa,iBACbD,YAAa,EACbiM,eAAgB/B,EAAe,EAAI,EACnCnK,YAAa,QACbiL,wBAAyB,EACzBC,uBAAwB,EACxB1J,SAAU,EACV,SAAU,CACR1B,GAAI,eACN,CACF,E,UAEA,UAAC8H,EAAAA,CAAOA,CAAAA,CACNvF,KAAMuH,EAAY4C,EAAAA,UAAUA,CAAGC,EAAAA,QAAQA,CACvC3E,KAAM,GACN1I,GAAI,CACFyC,GAAI,CACN,C,GAED+H,EACG,CAAC,KAAK,EAAEM,EAAkBF,EAAkB,WAAW,EACrDE,EAAkBF,GAAsB,EAAI,GAAK,KAClD,CAAC,CACF,Y,QAOlB,CAEA,SAASmB,GAAgB,CAAC3C,OAAAA,CAAM,CAAER,QAAAA,CAAO,CAAE/E,KAAAA,CAAI,CAAuD,EACpG,MACE,UAAC3D,EAAAA,CAAGA,CAAAA,CACFgB,GAAG,SACH0H,QAASA,EACTzF,aAAYiG,EAAS,CAAC,SAAS,EAAEvF,EAAK,CAAC,CAAG,CAAC,OAAO,EAAEA,EAAK,CAAC,CAC1D7D,GAAI,CACFgB,OAAQ,GACRL,aAAc,EACdI,MAAO,GACPN,MAAO,WACPN,QAAS,OACT0I,eAAgB,SAChBzH,WAAY,SACZV,GAAI,gBACJ4M,OAAQ,OACR,SAAU,CACR5M,GAAI,aACN,CACF,E,SAEC0I,EAAS,UAACmE,EAAAA,eAAeA,CAAAA,CAAC7E,KAAM,E,GAAS,UAAC8E,EAAAA,gBAAgBA,CAAAA,CAAC9E,KAAM,E,IAGxE,CAEA,SAASuE,GAAa,CACpB3P,IAAAA,CAAG,CACHgO,WAAAA,CAAU,CACVjB,SAAAA,CAAQ,CACRW,uBAAAA,CAAsB,CAMvB,MAIKyC,EAHJ,IAAMC,EAAMvW,CAAAA,EAAAA,EAAAA,CAAAA,IAENwW,EAAkB,EAAE,CAEtBC,EAAwB,GAC5B,IAAK,IAAMC,KAAWxD,EACGtR,KAAAA,IAAnB0U,GAAgCA,IAAmBI,EAAQxC,oBAAoB,GACjFuC,EAAwB,CAACA,EACzBD,EAAgB7F,IAAI,CAClB,UAACgG,KAAAA,CAA6CC,KAAK,M,SACjD,UAACC,KAAAA,CAAGC,QAAS,EAAGF,KAAK,O,SACnB,UAAC7I,MAAAA,CAAIgB,MAAO,CAACgI,UAAW,EAAGC,aAAc,CAAC,C,MAFrC,CAAC,QAAQ,EAAER,EAAgB3T,MAAM,CAAC,CAAC,IAOhDyT,EAAiBI,EAAQxC,oBAAoB,CAAGwC,EAAQO,KAAK,CAACpU,MAAM,CAEpE2T,EAAgB7F,IAAI,CAClB+F,EAAQO,KAAK,CAAC5M,GAAG,CAAC,CAAC6M,EAAM5M,KACvB,IAAM0J,EAAa1J,EAAIoM,EAAQxC,oBAAoB,CAC7CiD,EAAW,CAAC,EAAEhR,EAAI,EAAE,EAAE6N,EAAW,CAAC,CAElCoD,EAAoB,IACxB,GAAI,CAAC1V,OAAO4N,YAAY,IAAI+H,aAOxB3O,IAAAA,IAPqC,CACvCpG,EAAEgV,eAAe,GACjB,MACF,CASAzD,IAIIvR,EAAE3B,OAAO,EAAI2B,EAAE1B,OAAO,CACxBc,OAAOC,IAAI,CAACwV,EAAU,UAEtBZ,EAAIY,GAGN7U,EAAEgV,eAAe,EACnB,EAEA,MACE,WAACX,KAAAA,CAAkBlF,QAAS2F,EAAmBR,KAAK,M,UAClD,UAACC,KAAAA,CAAGrL,UAAU,WAAWoL,KAAK,O,SAC5B,UAAChK,EAAAA,CAAIA,CAAAA,CAAC6E,QAASnP,GAAKA,EAAEgV,eAAe,GAAIxV,KAAMqV,E,SAC7C,UAACvM,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAOmN,EAAwB,aAAe,UAAU,E,SAAIzC,C,OAG3E,UAAC6C,KAAAA,CAAGrL,UAAU,4BAA4BoL,KAAK,O,SAC5CF,wBAAAA,EAAQa,MAAM,CACb,UAAC9J,EAAAA,EAAYA,CAAAA,CACX1D,GAAG,OACH2D,KAAMgJ,EAAQO,KAAK,CAAC3M,EAAE,CACtBzB,GAAI,CACF2O,OAAQ,OACRC,SAAU,aACVnO,MAAO,aACPoO,aAAc,WACdC,KAAM,CACJC,gBAAiB,mEACjBtO,MAAO,iDACT,CACF,C,GAGF,UAACsB,EAAAA,CAAIA,CAAAA,CACHb,GAAG,OACHlB,GAAI,CACF2O,OAAQ,OACRC,SAAU,aACVnO,MAAO,aACPoO,aAAc,WACdC,KAAM,CACJC,gBAAiB,mEACjBtO,MAAO,iDACT,CACF,E,SAEC4N,C,OApCAC,EA0Cb,IAIJ,MACE,UAACpO,EAAAA,CAAGA,CAAAA,CACFyC,UAAU,YACV3C,GAAI,CACFO,WAAY,WACZyO,WAAY,YACZ1K,SAAU,EACVqK,OAAQ,UACRpG,GAAI,CACN,EACAK,QAAS,KAGH/I,CAAAA,IAAAA,GAA6B,GAI7BhH,OAAO4N,YAAY,IAAI+H,cACzBxD,IAKIvR,EAAE3B,OAAO,EAAI2B,EAAE1B,OAAO,CACxBc,OAAOC,IAAI,CAACwS,EAAY,UAExBoC,EAAIpC,GAGV,E,SAEA,UAAC2D,QAAAA,CAAMlB,KAAK,Q,SAKR,UAACmB,QAAAA,CAAMnB,KAAK,W,SAAYJ,C,MAKlC,CAQA,SAASnB,GAAa,CAACC,UAAAA,CAAS,CAAE9H,KAAAA,CAAI,CAAEgI,QAAAA,CAAO,CAAE/R,SAAAA,CAAQ,CAAoB,EAC3E,IAAMuU,EACJ,WAACjP,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC5CxG,EAED,UAACwJ,OAAAA,CAAKjB,aAAYsJ,E,SAAY9H,C,aAIlC,EAGE,UAACZ,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM0T,EAAS3M,GAAI,CAACS,MAAO,UAAU,E,SACxC0O,C,GAJgBA,CAOvB,CAEA,GAAG,CAAEhJ,GAAKzK,WAAW,EAAhByK,CAAAA,GAAKzK,WAAW,CAAK,MAAK,CAAE,CAAE,KAAM,CAAC,CAC1C,GAAG,CAAE2M,GAAW3M,WAAW,EAAtB2M,CAAAA,GAAW3M,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CACtD,GAAG,CAAEqQ,GAAgBrQ,WAAW,EAA3BqQ,CAAAA,GAAgBrQ,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEuR,GAAavR,WAAW,EAAxBuR,CAAAA,GAAavR,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CAC1D,GAAG,CAAE8Q,GAAa9Q,WAAW,EAAxB8Q,CAAAA,GAAa9Q,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,C,+DCvjBnD,SAAS0T,GAAc,CAC5BC,cAAAA,CAAa,CACbC,qBAAAA,CAAoB,CACpB5F,cAAAA,CAAa,CACb6F,UAAAA,CAAS,CACTC,cAAAA,CAAa,CACbC,SAAAA,CAAQ,CAQT,EAgCC,IAAMC,EAAeH,EAAU9S,KAAK,CAAG,CAAC,EAAEiN,EAAc,gBAAgB,EAAE6F,EAAU9S,KAAK,CAAC,CAAC,CAAG1D,KAAAA,EAE9F,MACE,WAACmH,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACmB,SAAU,OAAQhB,QAAS,OAAQiB,WAAY,QAAQ,E,UAC9DiO,IAAAA,EAAcrV,MAAM,EAAWqV,CAAAA,IAAAA,EAAcrV,MAAM,EAAWsV,CAAmB,EAGhF,UAACK,GAAAA,CAAOA,CAAAA,CAAChL,KAAM6K,EAAelP,UAAU,I,SACtC,WAACyB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,OAAQmJ,GAAI,CAAC,E,UAAI2D,EAAcrV,MAAM,CAAC,U,KAH/D4V,CApCuB,KAC3B,IAAMC,EAAoB,EAAE,CAC5B,IAAK,IAAMC,KAAUT,EAAe,CAClC,IAAMU,EAAYD,EAAOrT,KAAK,CAAG,CAAC,EAAEiN,EAAc,gBAAgB,EAAEoG,EAAOrT,KAAK,CAAC,CAAC,CAAG1D,KAAAA,EAC/EiX,EAAaF,EAAOrT,KAAK,EAAIqT,EAAOpU,WAAW,CAC/CuU,EAAYZ,EAAca,SAAS,CAACC,GAAKA,IAAML,KAAYT,EAAcrV,MAAM,CAAG,EAExF6V,EAAkB/H,IAAI,CACpB,WAAClM,EAAAA,QAAc,E,UACb,UAACqQ,GAAAA,CAAYA,CAAAA,CACXvD,KAAM,GACN1C,IAAK8J,EAAOM,iBAAiB,EAAIN,EAAOO,SAAS,CACjDrQ,GAAI,CACFI,SAAU,SACZ,C,GACA,OAED2P,EACC,UAAChM,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM,CAAC,CAAC,EAAE8W,EAAU,CAAC,C,SACzB,WAAChO,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAY8B,WAAY,UAAU,E,UAAIyN,EAAW,O,KAGrE,WAACjO,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAY8B,WAAY,UAAU,E,UAAIyN,EAAW,O,GAEpE,CAACC,GAAa,sB,SAAE,S,KAhBE,CAAC,EAAER,EAAS,CAAC,EAAEO,EAAW,CAAC,EAmBpD,CACA,OAAOH,CACT,KAaK,EAGC,uB,UACE,UAACzL,OAAAA,C,SAAK,kB,GACN,UAAC6H,GAAAA,CAAYA,CAAAA,CACXvD,KAAM,GACN1C,IAAKuJ,EAAUe,kBAAkB,EAAIf,EAAUgB,UAAU,CACzDvQ,GAAI,CACFyC,GAAI,CACN,C,GAEDiN,EACC,UAAC3L,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM,CAAC,CAAC,EAAEyW,EAAa,CAAC,C,SAC5B,WAAC3N,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAY8B,WAAY,UAAU,E,UAAIgN,EAAU9S,KAAK,CAAC,O,KAG1E,WAACsF,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAY8B,WAAY,UAAU,E,UAAIgN,EAAUiB,YAAY,CAAC,O,GAEjF,UAACpM,OAAAA,C,SAAK,e,MAlBR,UAACA,OAAAA,C,SAAK,e,KAuBd,CAEA,GAAG,CAAEgL,GAAc1T,WAAW,EAAzB0T,CAAAA,GAAc1T,WAAW,CAAK,eAAc,CAAE,CAAE,KAAM,CAAC,C,gBCzF5D,SAAS+U,GAAYC,CAAa,EAChC,MAAOA,SAAAA,CACT,CAEO,SAASC,GAAkBD,CAAa,CAAEE,CAAsB,CAAEC,CAAgB,CAAEC,CAAwB,SACjH,EACE,UAAIA,EACK,WACED,EACF,UACEJ,GAAYC,GACd,UAEA,YAEJ,GAAgBA,GACd,aAEA,SAEX,CAEO,SAASK,GAAaL,CAAa,CAAEE,CAAsB,EAChE,OAAOA,EAAgBI,EAAAA,kBAAkBA,CAAGP,GAAYC,GAASO,EAAAA,eAAeA,CAAGC,EAAAA,eAAeA,CCpBrF,SAASC,GAAgB,CAACC,UAAAA,CAAS,CAAoC,EACpF,GAAI,CAACA,GAAaA,IAAAA,EAAUpX,MAAM,CAAQ,MAAO,yBACjD,GAAM,CAACqX,EAAcC,EAAO,CAAGC,SAqENH,CAA+B,EACxD,IAAMC,EAAqC,EAAE,CACvCC,EAA+B,EAAE,CACvC,IAAK,IAAME,KAASJ,EAClBI,EAAMC,eAAe,CAAGJ,EAAavJ,IAAI,CAAC0J,GAASF,EAAOxJ,IAAI,CAAC0J,GAEjE,MAAO,CAACH,EAAcC,EAAO,EA3EoBF,GAEjD,MACE,WAACvO,EAAAA,CAAUA,CAAAA,C,UACT,UAACA,EAAAA,CAAUA,CAACC,MAAM,E,SAEhB,UAACC,EAAAA,CAAUA,CAAAA,CACTC,qBAAsB,GACtBC,KAAMC,EAAAA,mBAAmBA,CACzBE,QAAQ,YACRD,aAAW,oB,KAIf,UAACN,EAAAA,CAAUA,CAACQ,OAAO,EAACrD,GAAI,CAACsE,SAAU,OAAO,E,SACxC,uB,UACGgN,EAAQtX,MAAM,CAAG,GAChB,UAACsJ,EAAAA,CAAUA,CAAAA,C,SACT,WAACA,EAAAA,CAAUA,CAACoO,KAAK,E,UACf,UAACpO,EAAAA,CAAUA,CAACqO,YAAY,E,SAAC,e,GACxBL,EAAQ9P,GAAG,CAAC,CAACgQ,EAAO/P,IACZ,UAACmQ,GAAAA,CAAeJ,MAAOA,C,EAAY/P,I,KAKjD6P,EAAQtX,MAAM,CAAG,GAAKqX,EAAcrX,MAAM,CAAG,GAAK,UAACsJ,EAAAA,CAAUA,CAACuO,OAAO,KACrER,EAAcrX,MAAM,CAAG,GACtB,UAACsJ,EAAAA,CAAUA,CAAAA,CAACtD,GAAI,CAAC8R,GAAI,CAAC,E,SACpB,WAACxO,EAAAA,CAAUA,CAACoO,KAAK,E,UACf,UAACpO,EAAAA,CAAUA,CAACqO,YAAY,E,SAAC,sB,GACxBN,EAAc7P,GAAG,CAAC,CAACgQ,EAAO/P,IAClB,UAACmQ,GAAAA,CAAeJ,MAAOA,C,EAAY/P,I,YAS5D,CAEA,SAASmQ,GAAe,CAACJ,MAAAA,CAAK,CAA8B,EAC1D,IAAMO,EAAYpB,GAAkBa,EAAMd,KAAK,CAAEc,EAAMC,eAAe,CAAED,EAAMX,MAAM,CAAEW,EAAMQ,gBAAgB,EACtG/O,EAAa8N,GAAaS,EAAMd,KAAK,CAAEc,EAAMC,eAAe,EAElE,MACE,WAACnO,EAAAA,CAAUA,CAAC2O,IAAI,E,UACd,UAAC3O,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAAC1J,EAAAA,CAAOA,CAAAA,CACNvF,KAAMA,EACNyF,KAAM,GACN1I,GAAI,CACFyC,GAAI,EACJhC,MAAOsR,CACT,C,KAGJ,UAACI,GAAAA,CAAQA,CAAAA,CAAClS,MAAOuR,EAAMvR,KAAK,CAAED,GAAI,CAACyE,SAAU,OAAO,E,SAClD,UAACV,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMuY,EAAMY,SAAS,CAAEC,MAAK,G,SAC/Bb,EAAMvR,KAAK,E,GAGhB,WAACqD,EAAAA,CAAUA,CAACgP,cAAc,E,UAAC,IAAEd,EAAMhV,EAAE,C,KAG3C,CAWA,GAAG,CAAE2U,GAAgBzV,WAAW,EAA3ByV,CAAAA,GAAgBzV,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEkW,GAAelW,WAAW,EAA1BkW,CAAAA,GAAelW,WAAW,CAAK,gBAAe,CAAE,CAAE,KAAM,CAAC,CCrE/C,SAAS6W,GAAQ,CAACnM,QAAAA,CAAO,CAA4B,EAClE,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC,CAAC4G,EAAM3G,IAC1B,UAAC+Q,GAAAA,CAAapK,KAAMA,C,EAAW3G,G,EAIvC,CAEA,SAAS+Q,GAAa,CAACpK,KAAAA,CAAI,CAA2B,EACpD,IAAMqK,EAAiBrK,EAAKsK,UAAU,CAACA,UAAU,CAAC7O,IAAI,CAChD8O,EAAsBvK,EAAKsK,UAAU,CAACA,UAAU,CAACE,WAAW,CAC5DlJ,EAAgB,CAAC,EAAEiJ,EAAoB,CAAC,EAAEF,EAAe,CAAC,CAC1DI,EAAazK,EAAK0K,GAAG,CAAC3I,KAAK,CAAC,EAAG,GAC/B4I,EAAO,IAAI/V,KAAKoL,EAAK4K,WAAW,EAChCC,EAAqB7K,EAAK8K,mBAAmB,CAC7CC,EAAe/K,EAAKgL,mBAAmB,EAAE1C,MACzC2C,EAAYjL,EAAKkL,6BAA6B,CA0E7C,CACLC,4BAA6BnL,EAAKkL,6BAA6B,CAACE,WAAW,GAC3EC,aAAcrL,EAAKsL,aAAa,CAChCC,SAAUvL,EAAKwL,SAAS,CACxBC,WAAYzL,EAAK0L,WAAW,CAC5BC,MAAO3L,EAAK4L,MAAM,CAClBC,WAAY7L,EAAK8L,WAAW,CAC5BC,eAAgB/L,EAAKgM,gBAAgB,CACrCC,gBAAiBjM,EAAKkM,iBAAiB,CACvCC,YAAanM,EAAKoM,YAAY,CAC9BC,4BAA6BrM,EAAKsM,6BAA6B,CAC/DC,2BAA4BvM,EAAKwM,4BAA4B,CAC7DC,cAAezM,EAAK0M,cAAc,CAClCC,QAAS3M,EAAK4M,QAAQ,EAvF6Djc,KAAAA,EAC/Ekc,EA2FC,CACLC,oBAAqB9M,EAAK+M,qBAAqB,CAC/CC,kBAAmBhN,EAAKiN,mBAAmB,CAC3CC,UAAWlN,EAAKmN,UAAU,CAAC/T,GAAG,CAACgU,GACjC,EA9FMnG,EAkGCjH,EAAKqN,OAAO,CAACjU,GAAG,CAACsO,GAAW,EACjCrT,MAAOqT,EAAOrT,KAAK,CACnB4T,UAAWP,EAAOS,UAAU,CAC5B7U,YAAaoU,EAAOU,YAAY,CAChCJ,kBAAmBN,EAAOQ,kBAAkB,CAC9C,GArGM,CAACoF,EAAQC,EAAU,CAAG/Z,EAAAA,QAAc,CAAC,IACrCga,EAAa,IACjBC,CAAAA,EAAAA,GAAAA,CAAAA,EAASne,GACTie,EAAU,IACVG,WAAW,KACTH,EAAU,GACZ,EAAG,KACL,EAEA,MACE,WNdWtR,GMcJA,C,UACL,WAACA,GAAOhC,MAAM,E,UACZ,UAACgC,GAAOb,iBAAiB,EAACK,KAAM4O,EAAgB7O,MAAO+O,C,GACvD,UAACvO,OAAAA,CAAKzB,UAAU,U,SAAU,O,GAC1B,WAAC0B,GAAO3B,KAAK,E,UACVyQ,GACC,UAAC4C,GAAAA,EAAiBA,CAAAA,CAAC3S,QAAQ,UAAU+P,aAAcA,EAAc8B,eAAgBA,C,GAEnF,UAAC5Q,GAAOK,eAAe,EAACC,KAAMyD,EAAK4N,UAAU,GAC7C,UAAC7E,GAAeA,CAACC,UAAWhJ,EAAK6N,gBAAgB,G,MAIpD7N,EAAK8N,OAAO,EACX,UAAC7R,GAAOd,OAAO,E,SACb,UAACc,GAAOK,eAAe,EAACC,KAAMyD,EAAK8N,OAAO,E,GAI9C,WAAC7R,GAAOpD,MAAM,E,UACZ,WAACoD,GAAOnC,UAAU,E,UAChB,UAACkN,GAAaA,CACZC,cAAeA,EACfC,qBAAsBlH,EAAK+N,qBAAqB,CAChDzM,cAAeA,EACf6F,UAAWnH,EAAKmH,SAAS,CACzBC,cAAepH,EAAKgO,qBAAqB,CACzC3G,SAAUrH,EAAK5L,EAAE,GAEnB,UAAC6Z,GAAAA,CAAGA,CAAAA,CAACC,UAAWvD,C,MAGlB,WAAC1O,GAAOnC,UAAU,E,UAChB,UAAChC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC0L,GAAI,CAAC,EAAG,EAAE,E,SAClB,UAAC1C,EAAAA,CAAMA,CAAAA,CACLhJ,GAAI,CAACuE,EAAG,EAAG9D,MAAO,YAAa2B,SAAU,OAAQG,WAAY,QAAQ,EACrEqG,QAAS,IAAMgN,EAAWxN,EAAK0K,GAAG,EAClCpK,KAAK,QACLtF,QAAQ,Y,SAER,UAACuM,GAAAA,CAAOA,CAAAA,CAACrP,UAAU,IAAI6C,aAAW,wB,SAC/BuS,EAAS,UAAY7C,C,OAI3BQ,GACC,UAACkD,GAAAA,CAAiBA,CAAAA,CAChBC,UAAWpO,EAAK0K,GAAG,CACnBW,aAAcrL,EAAKsL,aAAa,CAChCT,mBAAoBA,EACpBI,UAAWA,C,WAOzB,CAqCA,SAASmC,GAAeiB,CAA8B,EACpD,MAAO,CACL5S,KAAM4S,EAAe5S,IAAI,CACzB6M,MAAO+F,EAAe/F,KAAK,CAC3BgG,YAAaD,EAAeC,WAAW,CACvCC,UAAWF,EAAeG,UAAU,CACpC3T,KAAMwT,EAAexT,IAAI,CACzBoN,UAAWoG,EAAelG,UAAU,CACpCsG,kBAAmBJ,EAAeK,kBAAkB,CACpDC,WAAYN,EAAeO,WAAW,CACtCC,kBAAmBR,EAAeS,kBAAkB,CACpDC,QAASV,EAAeU,OAAO,CAC/BC,sBAAuBX,EAAeY,uBAAuB,CAEjE,CAEA,GAAG,CAAE9E,GAAQ7W,WAAW,EAAnB6W,CAAAA,GAAQ7W,WAAW,CAAK,SAAQ,CAAE,CAAE,KAAM,CAAC,CAChD,GAAG,CAAE8W,GAAa9W,WAAW,EAAxB8W,CAAAA,GAAa9W,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,C,gBCvJ3C,SAAS4b,GAAO,CAAClR,QAAAA,CAAO,CAA2B,EAChE,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC,CAAC4G,EAAuB3G,IAC3C,UAAC8V,GAAAA,CAAoBnP,KAAMA,EAAMwI,cAAe,E,EAA9BnP,G,EAI1B,CAEO,SAAS8V,GAAY,CAACnP,KAAAA,CAAI,CAAEwI,cAAAA,CAAa,CAAkD,EAChG,IAAM6B,EAAiBrK,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAC1C8O,EAAsBvK,EAAKnE,IAAI,CAACyO,UAAU,CAACE,WAAW,CACtDlJ,EAAgB,CAAC,CAAC,EAAEiJ,EAAoB,CAAC,EAAEF,EAAe,CAAC,CAC3D+E,EAAcpP,EAAKqP,MAAM,CACzBC,EAAW,CAAC,EAAEhO,EAAc,CAAC,EAAEkH,EAAgB,OAAS,SAAS,CAAC,EAAE4G,EAAY,CAAC,CACjFG,EAAavP,EAAKwP,QAAQ,CAC1BC,EAAmBzP,EAAK0P,OAAO,CAC/BC,EAAc3P,EAAK4P,WAAW,CAC9BC,EAAuB7P,EAAKkI,kBAAkB,EAAIlI,EAAK8P,iBAAiB,CACxEC,EAAY,CAAC,CAAC/P,EAAKoJ,KAAK,CAACA,KAAK,CAAC4G,eAAe,CAC9CC,EAAc,IAAIrb,KAAKoL,EAAKkQ,OAAO,EACnCC,EAAcnQ,EAAKoQ,YAAY,CAE/BzG,EAAYpB,GAAkBvI,EAAKsI,KAAK,CAAEyH,EAAW/P,EAAKyI,MAAM,CAAEzI,EAAK4J,gBAAgB,EAE7F,MACE,WPDW3N,GOCJA,C,UACL,WAACA,GAAOhC,MAAM,E,UACZ,UAACgC,GAAOb,iBAAiB,EAACK,KAAM4O,EAAgB7O,MAAO+O,C,GACvD,WAACtO,GAAO3B,KAAK,E,UACX,UAAC8F,EAAAA,CAAOA,CAAAA,CACNvF,KAAM8N,GAAa3I,EAAKsI,KAAK,CAAEyH,GAC/BzP,KAAM,GACN1I,GAAI,CACFyC,GAAI,EACJhC,MAAOsR,CACT,C,GAEF,UAAChO,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMye,E,SACV,UAACrT,GAAOK,eAAe,EAACC,KAAMgT,C,WAInCE,GACC,UAACxT,GAAOd,OAAO,E,SACb,UAACc,GAAOK,eAAe,EAACC,KAAMkT,C,KAGjCzP,EAAKqQ,MAAM,CAACze,MAAM,CAAG,GACpB,UAACqK,GAAOS,SAAS,E,SACdsD,EAAKqQ,MAAM,CAACjX,GAAG,CAAC,CAACkX,EAAOjX,IACvB,UAACkX,GAAAA,CAAKA,CAAAA,C,SACJ,UAACtU,GAAOK,eAAe,EAACC,KAAM+T,C,IADpBjX,G,GAMlB,WAAC4C,GAAOpD,MAAM,E,UACZ,WAACoD,GAAOnC,UAAU,E,UAChB,UAAC+J,GAAAA,CAAYA,CAAAA,CACXC,OAAM,GACNxD,KAAM,GACN1C,IAAKiS,EACLjY,GAAI,CACFyC,GAAI,CACN,C,GAEDsV,E,GAEFQ,EAAc,GACb,WAAClU,GAAOnC,UAAU,E,UAChB,UAACsG,EAAAA,CAAOA,CAAAA,CAACvF,KAAM2V,EAAAA,qBAAqBA,CAAElQ,KAAM,GAAI1I,GAAI,CAACyC,GAAI,CAAC,C,GACzD8V,E,GAGL,WAAClU,GAAOnC,UAAU,E,UAAC,cACJ,UAACmU,GAAAA,CAAGA,CAAAA,CAACC,UAAW+B,C,MAE/B,UAAChU,GAAOnC,UAAU,E,SAChB,WAAC6B,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMye,EAAU/a,OAAO,SAASqD,GAAI,CAACS,MAAO,UAAU,E,UAAG,IAC3D+W,E,UAMd,CAEA,GAAG,CAAEF,GAAO5b,WAAW,EAAlB4b,CAAAA,GAAO5b,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAE6b,GAAY7b,WAAW,EAAvB6b,CAAAA,GAAY7b,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,C,gBC3EjD,SAASmd,GAAYC,CAAQ,EAClC,MAAM,MAAU,CAAC,mBAAmB,EAAEA,EAAE,CAAC,CAC3C,CCRO,SAASC,GAAM,CAAChd,MAAAA,CAAK,CAAEid,KAAAA,EAAO,CAAe,CAAEvM,UAAAA,CAAS,CAAEzM,GAAAA,CAAE,CAAa,SAC9E,OAAYiZ,QAAQ,CAACld,GAInB,WAACgG,EAAAA,CAAIA,CAAAA,CAACoB,aAAYsJ,EAAWzM,GAAIA,E,UAC9BkZ,GAAand,GACbid,IAAAA,EAAgC,KAAO,K,GANR,IAStC,CAMO,SAASE,GAAand,CAAa,CAAEod,CAAY,SACtD,KAAYpgB,IAARogB,GAAqBpd,GAASod,EACzB,CAAC,EAAED,GAAaC,GAAK,CAAC,CAAC,CAG5Bpd,EAAQ,EACH,CAAC,CAAC,EAAEmd,GAAanR,KAAKqR,GAAG,CAACrd,IAAQ,CAAC,CAGxCA,GAAS,IACJ,CAAC,EAAEsd,GAAuBtd,EAAQ,KAAe,CAAC,CAAC,CAGxDA,GAAS,IACJ,CAAC,EAAEgM,KAAKuR,KAAK,CAACvd,EAAQ,KAAW,CAAC,CAAC,CAGxCA,GAAS,IACJ,CAAC,EAAEsd,GAAuBtd,EAAQ,KAAW,CAAC,CAAC,CAGpDA,GAAS,IACJ,CAAC,EAAEgM,KAAKuR,KAAK,CAACvd,EAAQ,KAAO,CAAC,CAAC,CAGpCA,GAAS,IACJ,CAAC,EAAEsd,GAAuBtd,EAAQ,KAAO,CAAC,CAAC,CAG7C,CAAC,EAAEgM,KAAKuR,KAAK,CAACvd,GAAO,CAAC,CAG/B,SAASsd,GAAuBtd,CAAa,EAC3C,OAAOgM,KAAKuR,KAAK,CAACvd,GAAAA,GAAc,EAClC,E,SAzDYwd,CAAS,E,sFAATA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,GA2DZ,GAAG,CAAER,GAAMrd,WAAW,EAAjBqd,CAAAA,GAAMrd,WAAW,CAAK,OAAM,CAAE,CAAE,KAAM,CAAC,CChE7B,SAAS8d,GAAW,CAAC5e,SAAAA,CAAQ,CAAE3B,KAAAA,CAAI,CAAqC,EACrF,MACE,UAAC8K,EAAAA,CAAIA,CAAAA,CACH9K,KAAMA,EACN+G,GAAI,CACFoC,SAAU,EACVjC,QAAS,eACTqE,GAAI,OACJ+D,GAAI,MACJhG,WAAY,WACZ5B,aAAc,MACd8Y,WAAY,OACZhZ,MAAO,YACPC,GAAI,gBACJH,WAAY,SACZ,SAAU,CACRG,GAAI,kBACJD,MAAO,gBACPiZ,eAAgB,MAClB,CACF,E,SAEC9e,C,EAGP,CAEA,GAAG,CAAE4e,GAAW9d,WAAW,EAAtB8d,CAAAA,GAAW9d,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CCrBvC,SAASie,GAAoB,CAACvT,QAAAA,CAAO,CAAgC,EAClF,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC4G,GACnB,UAACwR,GAAAA,CAA4DxR,KAAMA,C,EAAvC,CAAC,mBAAmB,EAAEA,EAAK5L,EAAE,CAAC,CAAC,E,EAInE,CAEO,SAASod,GAAsB,CAACxR,KAAAA,CAAI,CAA4B,EACrE,MACE,WXWW/D,GWXJA,C,UACL,UAACA,GAAOhC,MAAM,E,SACZ,WAACnC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC7C,UAACiD,GAAO7B,MAAM,E,SACZ,UAACqX,GAAAA,CAAwBzR,KAAMA,C,KAGjC,UAAC/D,GAAO3B,KAAK,E,SACX,UAACqB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMmP,EAAK0R,aAAa,C,SAAG1R,EAAKvE,IAAI,E,GAG3CuE,wBAAAA,EAAK2R,IAAI,EAA8B3R,aAAAA,EAAKsI,KAAK,EAChD,UAACxL,MAAAA,C,SACC,UAACyK,GAAAA,CAAOA,CAAAA,CAACxM,aAAW,qB,SAClB,UAACqF,EAAAA,CAAOA,CAAAA,CACNvF,KAAM+W,EAAAA,YAAYA,CAClBtR,KAAM,GACN1I,GAAI,CACFia,WAAY,EACZxZ,MAAO,YACT,C,YAQZ,UAAC4D,GAAOd,OAAO,E,SACb,UAACa,OAAAA,C,SAAMgE,wBAAAA,EAAK2R,IAAI,CAA6B3R,EAAK8R,iBAAiB,CAAG9R,EAAKsO,WAAW,E,GAGtFtO,CAAAA,EAAK+R,gBAAgB,EAAI/R,EAAKgS,kBAAkB,GAChD,WAAC/V,GAAOS,SAAS,E,UACdsD,EAAK+R,gBAAgB,EACpB,UAACX,GAAUA,CAACvgB,KAAMohB,CAAAA,EAAAA,EAAAA,EAAAA,EAAwB,CAACC,aAAclS,EAAK+R,gBAAgB,G,SAC3E/R,EAAK+R,gBAAgB,GAGzB/R,EAAKgS,kBAAkB,EACtB,UAACZ,GAAUA,CAACvgB,KAAMohB,CAAAA,EAAAA,EAAAA,EAAAA,EAAwB,CAACC,aAAclS,EAAKgS,kBAAkB,G,SAC7EhS,EAAKgS,kBAAkB,G,GAMhC,WAAC/V,GAAOpD,MAAM,E,UACZ,WAACoD,GAAOnC,UAAU,E,UAAC,SAEjB,UAAC6B,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAC1P,KAAMshB,CAAAA,EAAAA,EAAAA,EAAAA,EAAU,CAAC3W,MAAOwE,EAAKwK,WAAW,G,SAClDxK,EAAKwK,WAAW,G,GAGrB,UAACvO,GAAOnC,UAAU,E,SACfkG,wBAAAA,EAAK2R,IAAI,CACN,cACA3R,sBAAAA,EAAK2R,IAAI,CACP,gBACA,c,GAEP3R,wBAAAA,EAAK2R,IAAI,EACR,UAAC1V,GAAOnC,UAAU,E,SAChB,WAAChC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC7C,UAACoH,EAAAA,CAAOA,CAAAA,CACNvF,KAAMuX,EAAAA,YAAYA,CAClB9R,KAAM,GACN1I,GAAI,CACFyC,GAAI,CACN,C,GAEF,UAACsW,GAAKA,CAACtM,UAAW,CAAC,EAAErE,EAAKqS,kBAAkB,CAAC,UAAU,CAAC,CAAE1e,MAAOqM,EAAKqS,kBAAkB,G,UAOtG,CAEA,SAASZ,GAAwB,CAACzR,KAAAA,CAAI,CAA4B,MA2B1C3H,EAAAA,EAAAA,EAxBtB,OAAQ2H,EAAK2R,IAAI,EACf,IAAK,sBACH,MACE,UAACW,GAAAA,CAAuBja,KAAK,EAqBbA,EArB8B2H,EAAKuS,mBAAmB,CAACC,OAAO,CAACC,OAAO,CAsBrF,CAAC,CAAC,EAAEpa,EAAM,CAAC,E,SArBV,UAACwL,GAAAA,CAAYA,CAAAA,CAACvD,KANH,GAMqB1C,IAAKoC,EAAK0S,gBAAgB,EAAI1S,EAAK2S,gBAAgB,E,EAGzF,KAAK,oBACH,OAAO3S,EAAK4S,QAAQ,CAClB,UAACN,GAAAA,CAAuBja,KAAK,EAebA,EAf8B2H,EAAK6S,iBAAiB,CAACA,iBAAiB,CAACxa,KAAK,CAgB3F,CAAC,CAAC,EAAEA,EAAM,CAAC,E,SAfV,UAACya,GAAAA,CAAqBxS,KAZX,GAY6ByS,IAAK/S,EAAK4S,QAAQ,E,GAE1D,IACN,KAAK,mBACH,OAAO5S,EAAK4S,QAAQ,CAClB,UAACN,GAAAA,CAAuBja,KAAK,EASbA,EAT8B2H,EAAKgT,gBAAgB,CAACA,gBAAgB,CAAC3a,KAAK,CAUzF,CAAC,CAAC,EAAEA,EAAM,CAAC,E,SATV,UAACya,GAAAA,CAAqBxS,KAlBX,GAkB6ByS,IAAK/S,EAAK4S,QAAQ,E,GAE1D,IACN,SACEnC,GAAYzQ,EAChB,CACF,CAMA,SAASsS,GAAuB,CAACja,MAAAA,CAAK,CAAE7F,SAAAA,CAAQ,CAAqC,EACnF,MACE,UAACygB,GAAAA,CAAWA,CAAAA,CACV3S,KAAM,GACN1I,GAAI,CACF+O,gBAAiBtO,EACjB6M,OAAQ,YACRxM,YAAa,gBACbwa,UAAW,OACX7a,MAAO,OACT,E,SAEC7F,C,EAGP,CAEA,SAASsgB,GAAqB,CAACxS,KAAAA,CAAI,CAAEyS,IAAAA,CAAG,CAAsC,EAC5E,MACE,UAACI,EAAAA,EAAWA,CAAAA,CACV1W,KAAMsW,EACNnb,GAAI,CACFG,QAAS,OACT0I,eAAgB,SAEhB,MAAO,CACL7H,OAAQ0H,EACR3H,MAAO2H,CACT,CACF,C,EAGN,CAEA,GAAG,CAAEiR,GAAoBje,WAAW,EAA/Bie,CAAAA,GAAoBje,WAAW,CAAK,qBAAoB,CAAE,CAAE,KAAM,CAAC,CACxE,GAAG,CAAEke,GAAsBle,WAAW,EAAjCke,CAAAA,GAAsBle,WAAW,CAAK,uBAAsB,CAAE,CAAE,KAAM,CAAC,CAC5E,GAAG,CAAEme,GAAwBne,WAAW,EAAnCme,CAAAA,GAAwBne,WAAW,CAAK,yBAAwB,CAAE,CAAE,KAAM,CAAC,CAChF,GAAG,CAAEgf,GAAuBhf,WAAW,EAAlCgf,CAAAA,GAAuBhf,WAAW,CAAK,wBAAuB,CAAE,CAAE,KAAM,CAAC,CAC9E,GAAG,CAAEwf,GAAqBxf,WAAW,EAAhCwf,CAAAA,GAAqBxf,WAAW,CAAK,sBAAqB,CAAE,CAAE,KAAM,CAAC,CC7KnE,SAAS8f,GAAoB3X,CAAY,CAAE4X,CAAiB,EACjE,OAAQ5X,GACN,IAAK,SACH,MAAO,UAAC6X,GAAAA,CAAAA,EACV,KAAK,QACH,MAAO,UAACC,GAAAA,CAAUF,SAAUA,C,EAC9B,KAAK,WACH,MAAO,UAACG,GAAAA,CAAAA,EACV,KAAK,QACH,MAAO,UAACC,GAAAA,CAAAA,EACV,KAAK,MACH,MAAO,UAACC,GAAAA,CAAAA,EACV,KAAK,UACH,MAAO,UAACC,GAAAA,CAAAA,EACV,KAAK,YACH,MAAO,UAACC,GAAAA,CAAAA,EACV,SACE,MAAO,UAACC,GAAAA,CAAAA,EACZ,CACF,CAEA,SAASP,KACP,MAEE,WAACP,MAAAA,CAAIe,MAAM,6BAA6Bnb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,OAAOC,QAAQ,Y,UACjF,UAACC,OAAAA,CAAKtb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,UAAUG,GAAG,G,GAC/C,UAACrlB,OAAAA,CACCklB,KAAK,OACLI,EAAE,sf,GAEJ,UAACtlB,OAAAA,CACCklB,KAAK,OACLI,EAAE,g0C,KAIV,CAEA,SAASZ,GAAU,CAACF,SAAAA,CAAQ,CAAsB,EAEhD,OADAA,EAAWA,GAAY,GAGrB,WAACN,MAAAA,CAAIe,MAAM,6BAA6Bnb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,OAAOC,QAAQ,Y,UACjF,WAACI,IAAAA,CAAEC,SAAU,CAAC,UAAU,EAAEhB,EAAS,CAAC,CAAC,C,UACnC,UAACxkB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,0N,GAEJ,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,e,GACvB,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,gBAAgBG,QAAQ,M,GAC/C,UAACzlB,OAAAA,CACCklB,KAAK,UACLI,EAAE,mH,GAEJ,UAACtlB,OAAAA,CACCklB,KAAK,UACLI,EAAE,oHACFG,QAAQ,M,GAEV,UAACzlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,2O,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,4X,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,yY,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,sa,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,28B,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,oS,GAEJ,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,gE,GACvB,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,iEAAiEG,QAAQ,M,GAChG,UAACzlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,gE,GAEJ,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,oE,GACvB,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,qEAAqEG,QAAQ,M,GACpG,UAACzlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,oE,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,kBAAkB,EAAEV,EAAS,CAAC,CAAC,CACtCc,EAAE,0N,GAEJ,UAACtlB,OAAAA,CACCklB,KAAK,UACLI,EAAE,wF,GAEJ,UAACtlB,OAAAA,CACCklB,KAAK,UACLI,EAAE,yFACFG,QAAQ,M,GAEV,UAACzlB,OAAAA,CACCklB,KAAK,UACLI,EAAE,2G,GAEJ,UAACtlB,OAAAA,CACCklB,KAAK,UACLI,EAAE,4GACFG,QAAQ,M,GAEV,UAACzlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,0P,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,uX,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,8X,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,ma,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,q9B,GAEJ,UAACtlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,oS,GAEJ,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,iD,GACvB,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,kDAAkDG,QAAQ,M,GACjF,UAACzlB,OAAAA,CAAKklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CAAEc,EAAE,iD,GACjD,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,gE,GACvB,UAACtlB,OAAAA,CAAKklB,KAAK,UAAUI,EAAE,iEAAiEG,QAAQ,M,GAChG,UAACzlB,OAAAA,CACCklB,KAAM,CAAC,mBAAmB,EAAEV,EAAS,CAAC,CAAC,CACvCc,EAAE,gE,MAGN,WAACI,OAAAA,C,UACC,WAACC,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,QACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKC,UAAU,S,GAChB,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,MAEjC,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,QACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKC,UAAU,S,GAChB,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,MAEjC,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,QACHC,GAAG,OACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKC,UAAU,S,GAChB,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,MAEjC,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,OACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,aAAa,EAAEif,EAAS,CAAC,CAC9BoB,GAAG,SACHC,GAAG,SACHC,GAAG,QACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKC,UAAU,S,GAChB,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,MAEjC,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,SACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,SACHC,GAAG,OACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKC,UAAU,S,GAChB,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,MAEjC,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,SACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKC,UAAU,S,GAChB,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,MAEjC,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,SACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,QACHC,GAAG,SACHC,GAAG,OACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,SACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,WAACP,iBAAAA,CACCpgB,GAAI,CAAC,cAAc,EAAEif,EAAS,CAAC,CAC/BoB,GAAG,QACHC,GAAG,SACHC,GAAG,SACHC,GAAG,QACHC,cAAc,iB,UAEd,UAACC,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,OAAOD,UAAU,S,GAC9B,UAACD,OAAAA,CAAKE,OAAO,QAAQD,UAAU,S,GAC/B,UAACD,OAAAA,CAAKE,OAAO,IAAID,UAAU,S,MAE7B,UAACV,WAAAA,CAASjgB,GAAI,CAAC,KAAK,EAAEif,EAAS,CAAC,C,SAC9B,UAACxkB,OAAAA,CAAKklB,KAAK,OAAOI,EAAE,e,UAK9B,CAEA,SAAST,KACP,MAEE,WAACX,MAAAA,CAAIe,MAAM,6BAA6Bnb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,OAAOC,QAAQ,Y,UACjF,UAACC,OAAAA,CAAKtb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,UAAUG,GAAG,G,GAC/C,UAACrlB,OAAAA,CAAKklB,KAAK,OAAOI,EAAE,mE,KAG1B,CAEA,SAASV,KACP,MAEE,WAACV,MAAAA,CAAIe,MAAM,6BAA6Bnb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,OAAOC,QAAQ,Y,UACjF,UAACnlB,OAAAA,CACCklB,KAAK,UACLkB,SAAS,UACTd,EAAE,gQACFe,SAAS,S,GAEX,UAACC,OAAAA,CACC/gB,GAAG,oBACH0J,MAAO,CAACsX,SAAU,OAAO,EACzBzc,MAAM,IACNC,OAAO,IACP8X,EAAE,IACF2E,EAAE,IACFC,UAAU,iB,SAEV,UAACzmB,OAAAA,CAAKklB,KAAK,OAAOI,EAAE,mC,KAEtB,UAACC,IAAAA,CAAEe,KAAK,0B,SACN,UAACtmB,OAAAA,CACCklB,KAAK,UACLkB,SAAS,UACTd,EAAE,0DACFe,SAAS,S,OAKnB,CAEA,SAASrB,KACP,MAEE,UAACd,MAAAA,CAAIe,MAAM,6BAA6Bnb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,OAAOC,QAAQ,Y,SACjF,UAACnlB,OAAAA,CACCklB,KAAK,UACLkB,SAAS,UACTd,EAAE,qpBACFe,SAAS,S,IAIjB,CAEA,SAAS1B,KACP,MAEE,WAACT,MAAAA,CAAIe,MAAM,6BAA6Bnb,MAAM,KAAKC,OAAO,KAAKmb,KAAK,OAAOC,QAAQ,Y,UACjF,WAACI,IAAAA,CAAEL,KAAK,UAAUM,SAAS,0B,UACzB,UAACxlB,OAAAA,CAAKslB,EAAE,qG,GACR,UAACtlB,OAAAA,CAAKslB,EAAE,gH,MAEV,UAACI,OAAAA,C,SACC,UAACF,WAAAA,CAASjgB,GAAG,oB,SACX,UAACvF,OAAAA,CAAKklB,KAAK,OAAOI,EAAE,e,SAK9B,CAEA,SAASR,KACP,MAEE,UAACZ,MAAAA,CAAIe,MAAM,6BAA6BE,QAAQ,YAAYrb,MAAM,KAAKC,OAAO,K,SAC5E,UAAC/J,OAAAA,CACComB,SAAS,UACTd,EAAE,8K,IAIV,CAEA,SAASP,KACP,MAEE,UAACb,MAAAA,CAAIe,MAAM,6BAA6BE,QAAQ,YAAYrb,MAAM,KAAKC,OAAO,K,SAC5E,UAAC/J,OAAAA,CACComB,SAAS,UACTd,EAAE,kpB,IAIV,CAEA,GAAG,CAAEb,GAAWhgB,WAAW,EAAtBggB,CAAAA,GAAWhgB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CACtD,GAAG,CAAEigB,GAAUjgB,WAAW,EAArBigB,CAAAA,GAAUjgB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CACpD,GAAG,CAAEogB,GAAQpgB,WAAW,EAAnBogB,CAAAA,GAAQpgB,WAAW,CAAK,SAAQ,CAAE,CAAE,KAAM,CAAC,CAChD,GAAG,CAAEmgB,GAAUngB,WAAW,EAArBmgB,CAAAA,GAAUngB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CACpD,GAAG,CAAEugB,GAAYvgB,WAAW,EAAvBugB,CAAAA,GAAYvgB,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CACxD,GAAG,CAAEkgB,GAAalgB,WAAW,EAAxBkgB,CAAAA,GAAalgB,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CAC1D,GAAG,CAAEqgB,GAAWrgB,WAAW,EAAtBqgB,CAAAA,GAAWrgB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CACtD,GAAG,CAAEsgB,GAActgB,WAAW,EAAzBsgB,CAAAA,GAActgB,WAAW,CAAK,eAAc,CAAE,CAAE,KAAM,CAAC,CCjfrD,SAASiiB,GAAsBC,CAAc,EAClD,OAAOA,EAAOC,MAAM,CAAC,GAAGrK,WAAW,GAAKoK,EAAOzT,KAAK,CAAC,EACvD,CAEO,SAAS2T,GAAmBF,CAAc,EAC/C,MAAOA,QAAAA,EAAOG,WAAW,GAAeH,EAAOG,WAAW,GAAKJ,GAAsBC,EACvF,CCGA,SAASI,GAAS,CAAC5X,QAAAA,CAAO,CAA6B,EACrD,MAAO,UAAC/B,GAAOc,IAAI,E,SAAEiB,EAAQA,OAAO,EAAE5E,IAAI,CAAC4G,EAAM3G,IAAM,MAACwc,GAAAA,CAAsB7V,KAAMA,C,EAAT3G,G,EAC7E,CAEA,SAASwc,GAAc,CAAC7V,KAAAA,CAAI,CAA4B,EACtD,IAAM8V,EAAY,IAAIlhB,KAAKoL,EAAK+V,UAAU,EAEpC1L,EAAiBrK,EAAKnE,IAAI,CAACJ,IAAI,CAC/B8O,EAAsBvK,EAAKnE,IAAI,CAAC2O,WAAW,CAC3CwL,EAAiBhW,EAAKiW,MAAM,CAACC,QAAQ,CAAChmB,MAAM,CAACimB,GAAWA,EAAQC,MAAM,EACtEC,EAAgB,IAAIL,EAAe,CAACM,GAAG,IAAIH,QAEjD,MACE,WdaWla,GcbJA,C,UACL,WAACA,GAAOhC,MAAM,E,UACXsQ,GAAuBF,GACtB,UAACpO,GAAOb,iBAAiB,EAACI,MAAO+O,EAAqB9O,KAAM4O,C,GAE9D,UAACrO,OAAAA,CAAKzB,UAAU,U,SAAU,O,GAC1B,WAAC0B,GAAO3B,KAAK,E,UACX,UAACqB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMmP,EAAKuW,WAAW,C,SAC1B,UAACva,OAAAA,C,SAAMgE,EAAKvE,IAAI,E,GAEjB,CAACuE,EAAKwW,MAAM,EAAI,UAACjG,GAAAA,CAAKA,CAAAA,CAAC3Y,GAAI,CAACmJ,GAAI,CAAC,E,SAAIf,EAAKiW,MAAM,CAACQ,UAAU,G,MAI/DzW,EAAK0W,OAAO,EACX,UAACza,GAAOd,OAAO,E,SACb,UAACa,OAAAA,C,SAAMgE,EAAK0W,OAAO,E,GAIvB,WAACza,GAAOpD,MAAM,E,UACZ,WAACoD,GAAOnC,UAAU,E,UACfkG,EAAK3H,KAAK,EAAI,UAACP,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgB,OAAQ,GAAIyB,GAAI,CAAC,E,SAAI+Y,GAAoBpT,EAAKiW,MAAM,CAACU,YAAY,C,GAE1F,UAAC3a,OAAAA,CAAKjB,aAAY,CAAC,EAAEiF,EAAKiW,MAAM,CAACU,YAAY,CAAC,KAAK,CAAC,C,SAAGjB,GAAmB1V,EAAKiW,MAAM,CAACU,YAAY,C,MAEnGN,GACC,UAACpa,GAAOnC,UAAU,E,SAChB,UAACkC,OAAAA,C,SAAMqa,C,KAGX,WAACpa,GAAOnC,UAAU,E,UAChB,UAACsG,EAAAA,CAAOA,CAAAA,CACNvF,KAAMuX,EAAAA,YAAYA,CAClB9R,KAAM,GACN1I,GAAI,CACFiC,GAAI,MACJxB,MAAO,WACT,C,GAEF,UAACsY,GAAKA,CAACtM,UAAW,CAAC,EAAErE,EAAK4W,SAAS,CAAC,UAAU,CAAC,CAAEjjB,MAAOqM,EAAK4W,SAAS,G,GAExE,UAAC3a,GAAOnC,UAAU,E,SAChB,WAACkC,OAAAA,C,UAAK,WACI,UAACiS,GAAAA,CAAGA,CAAAA,CAACC,UAAW4H,C,aAMpC,CAIA,GAAG,CAAEF,GAAStiB,WAAW,EAApBsiB,CAAAA,GAAStiB,WAAW,CAAK,UAAS,CAAE,CAAE,KAAM,CAAC,CAClD,GAAG,CAAEuiB,GAAcviB,WAAW,EAAzBuiB,CAAAA,GAAcviB,WAAW,CAAK,eAAc,CAAE,CAAE,KAAM,CAAC,CCzE7C,SAASujB,GAAa,CAAC7Y,QAAAA,CAAO,CAAiC,EAC5E,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC,CAAC4G,EAAuB3G,IAE3C,UAAC8V,GAAWA,CAASnP,KAAMA,EAAMwI,cAAe,E,EAA9BnP,G,EAI1B,CAEA,GAAG,CAAEwd,GAAavjB,WAAW,EAAxBujB,CAAAA,GAAavjB,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CCP1D,SAASwjB,GAAY,CAAC9Y,QAAAA,CAAO,CAAgC,EAC3D,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC,CAAC4G,EAAM3G,IAC1B,UAAC0d,GAAAA,CAAiB/W,KAAMA,C,EAAW3G,G,EAI3C,CAEA,SAAS0d,GAAiB,CAAC/W,KAAAA,CAAI,CAA+B,EAC5D,IAAMqK,EAAiBrK,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAC1C8O,EAAsBvK,EAAKnE,IAAI,CAACyO,UAAU,CAACE,WAAW,CACtDyF,EAAc,IAAIrb,KAAKoL,EAAKkQ,OAAO,EAEzC,MACE,WhBWWjU,GgBXJA,C,UACL,WAACA,GAAOhC,MAAM,E,UACZ,UAACgC,GAAOb,iBAAiB,EAACK,KAAM4O,EAAgB7O,MAAO+O,C,GACvD,UAACvO,OAAAA,CAAKzB,UAAU,U,SAAU,O,GAC1B,UAAC0B,GAAO3B,KAAK,E,SACX,UAACqB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMmP,EAAK9K,GAAG,C,SAAG8K,EAAKnI,KAAK,E,MAIpCmI,EAAK0P,OAAO,EACX,UAACzT,GAAOd,OAAO,E,SACb,UAACa,OAAAA,C,SACC,UAACC,GAAOK,eAAe,EAACC,KAAMyD,EAAK0P,OAAO,E,KAKhD,WAACzT,GAAOpD,MAAM,E,UACZ,WAACoD,GAAOnC,UAAU,E,UAChB,UAAC+J,GAAAA,CAAYA,CAAAA,CACXvD,KAAM,GACN1C,IAAKoC,EAAKkI,kBAAkB,EAAIlI,EAAKgX,eAAe,CACpDpf,GAAI,CACFyC,GAAI,CACN,C,GAEF,UAACsB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM,CAAC,CAAC,EAAEmP,EAAKiX,UAAU,CAAC,CAAC,C,SAC/B,UAACtd,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,aAAc8B,WAAY,WAAYmJ,GAAI,CAAC,E,SAAItD,EAAKiX,UAAU,E,GAElF,UAACtd,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAAC0L,GAAI,CAAC,E,SAAG,Q,GACnB,UAAC2K,GAAAA,CAAGA,CAAAA,CAACC,UAAW+B,C,MAGlB,WAAChU,GAAOnC,UAAU,E,UAChB,UAACsG,EAAAA,CAAOA,CAAAA,CACNvF,KAAM2V,EAAAA,qBAAqBA,CAC3BlQ,KAAM,GACN1I,GAAI,CACFyC,GAAI,EACJhC,MAAO,UACT,C,GAEF,UAACsY,GAAKA,CAACtM,UAAW,CAAC,EAAErE,EAAKoQ,YAAY,CAAC,SAAS,CAAC,CAAEzc,MAAOqM,EAAKoQ,YAAY,G,QAKrF,CAIA,GAAG,CAAE0G,GAAYxjB,WAAW,EAAvBwjB,CAAAA,GAAYxjB,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CACxD,GAAG,CAAEyjB,GAAiBzjB,WAAW,EAA5ByjB,CAAAA,GAAiBzjB,WAAW,CAAK,kBAAiB,CAAE,CAAE,KAAM,CAAC,C,gBChE3D,SAAS4jB,GAAW,CAACroB,KAAAA,CAAI,CAAEsoB,QAAAA,CAAO,CAAEC,iBAAAA,CAAgB,CAAEC,WAAAA,CAAU,CAAE,GAAGC,EAA6B,EACvG,GAAM,CAACC,EAAkBC,EAAoB,CAAG9Y,CAAAA,EAAAA,EAAAA,QAAAA,EAASyY,GACnDM,EAAOC,CAAAA,EAAAA,GAAAA,CAAAA,EAAuB,CAAC,EAAE7oB,EAAK,KAAK,CAAC,CAAE,QAC9C8oB,EAASD,CAAAA,EAAAA,GAAAA,CAAAA,EAAuB,CAAC,EAAE7oB,EAAK,OAAO,CAAC,CAAE,QAElD+oB,EAAW5oB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAC3B,IAAM+M,EAASwb,EAAmBI,EAASF,EAG3C,GAFAD,EAAoB,CAACD,GAEjB,CAACM,CADO,MAAM9b,GAAO,EAChB+b,EAAE,CAAE,CAEXN,EAAoBD,GACpB,MACF,CACAH,IAAmB,CAACG,EACtB,EAAG,CAACA,EAAkBH,EAAkBK,EAAME,EAAO,EAErD,OAAON,EACL,UAACzW,EAAAA,CAAMA,CAAAA,CAACN,KAAK,QAAQyX,cAAeC,EAAAA,QAAQA,CAAG,GAAGV,CAAW,CAAExe,GAAG,IAAIjI,KAAMwmB,E,SACzEE,EAAmB,SAAW,M,GAGjC,UAAC3W,EAAAA,CAAMA,CAAAA,CAACN,KAAK,QAAQE,QAASoX,EAAUG,cAAeR,EAAmBU,EAAAA,YAAYA,CAAGD,EAAAA,QAAQA,CAAG,GAAGV,CAAW,C,SAC/GC,EAAmB,SAAW,M,EAGrC,CAEA,GAAG,CAAEL,GAAW5jB,WAAW,EAAtB4jB,CAAAA,GAAW5jB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CCvBtD,SAAS4kB,GAAa,CAACla,QAAAA,CAAO,CAAkD,EAC9E,GAAM,CAACma,EAAkBC,EAAoB,CAAG5kB,EAAAA,QAAc,GAExD6kB,EAAcX,CAAAA,EAAAA,GAAAA,CAAAA,EAClB,2CACA,QAIIY,EAAa,GACjBtY,EAAKuY,gBAAgB,CACjB,CAAC,EAAEvY,EAAKnE,IAAI,CAACyO,UAAU,CAACkO,QAAQ,CAAC,CAAC,EAAExY,EAAKnE,IAAI,CAACyO,UAAU,CAAClW,EAAE,CAAC,CAAC,CAC7D,CAAC,EAAE4L,EAAKnE,IAAI,CAACyO,UAAU,CAACkO,QAAQ,CAAC,CAAC,CAqCxC,OAnCAhlB,EAAAA,SAAe,CAAC,KACd,eAAeilB,EAAyBC,CAAkB,EACxD,IAAMC,EAAkB,MAAMN,EAAY,CAAC3jB,KAAMgkB,CAAQ,EAErDC,CAAAA,EAAgBb,EAAE,EAGpBM,EAFuB,MAAMO,EAAgBC,IAAI,GAIrD,CAEA,IAAMC,EAAkB,IAAIC,SAE5B,IAAK,IAAM7iB,KAAU+H,EAAQA,OAAO,CAAE,CACpC,IAAMsM,EAAarU,EAAO4F,IAAI,CAACyO,UAAU,CAEnCyO,EAAc,CAAC,WAAW,EAAET,EAAWriB,GAAQ,CAAC,CAAC,CAElDA,CAAAA,EAAO+iB,WAAW,EAAI/iB,EAAOsiB,gBAAgB,GAAK,CAACM,EAAgBI,GAAG,CAAC,CAAC,EAAEF,EAAY,gBAAgB,CAAC,IACrGF,EAAgBI,GAAG,CAAC,YACvBJ,EAAgBK,GAAG,CAAC,UAAW,OAGjCL,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,gBAAgB,CAAC,CAAEzO,EAAWkO,QAAQ,EACzEK,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,mBAAmB,CAAC,CAAEzO,EAAWE,WAAW,EAC/EqO,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,WAAW,CAAC,CAAEzO,EAAW7O,IAAI,EAChEod,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,kBAAkB,CAAC,CAAE,CAAC,EAAE9iB,EAAOsiB,gBAAgB,CAAC,CAAC,EACpFM,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,UAAU,CAAC,CAAE,8BAEpD,CAEIF,EAAgBI,GAAG,CAAC,YACtBR,EAAyBI,EAE7B,EAAG,CAAC7a,EAASqa,EAAY,EAEvB,UAACpc,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,EAAE5E,IAAI4G,IACpB,IAAImZ,EAKJ,OAJIhB,GACFgB,CAAAA,EAAoBhB,CAAgB,CAAC,CAAC,KAAK,EAAEG,EAAWtY,GAAM,CAAC,CAAC,EAIhE,MAACoZ,GAAAA,CAECpZ,KAAMA,EACNmZ,kBAAmBA,EACnB9B,WAAY,EAAStX,SAAS,CAA0B,GAAvB/B,EAAQ6C,YAAY,EAHhDb,EAAKnE,IAAI,CAACyO,UAAU,CAAClW,EAAE,CAMlC,E,EAGN,CAEA,SAASglB,GAAiB,CACxBpZ,KAAAA,CAAI,CACJmZ,kBAAAA,CAAiB,CACjB9B,WAAAA,CAAU,CAKX,EACC,IAAM/M,EAAatK,EAAKnE,IAAI,CAACyO,UAAU,CAEjCD,EAAiBC,EAAW7O,IAAI,CAChC8O,EAAsBD,EAAWE,WAAW,CAC5CnJ,EAA2BiJ,EAAWpC,kBAAkB,EAAI,CAAC,EAAEqC,EAAoB,IAAI,CAAC,CACxFjJ,EAAgB,CAAC,CAAC,EAAEiJ,EAAoB,CAAC,EAAEF,EAAe,CAAC,CAE3DyL,EAAY,IAAIlhB,KAAK0V,EAAWyL,UAAU,EAG1C,CAACsD,EAAWC,EAAa,CAAG5a,CAAAA,EAAAA,EAAAA,QAAAA,EAASsB,EAAKuZ,SAAS,EAEzD,MACE,UlB1EWtd,GkB0EJA,C,SACL,WAACnE,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,MAAM,E,UACvB,WAACD,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQmC,cAAe,SAAU0J,KAAM,EAAG1H,SAAU,CAAC,E,UACtE,UAACD,GAAOhC,MAAM,E,SACZ,WAACnC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC7C,UAACiD,GAAO7B,MAAM,E,SACZ,UAACyJ,GAAAA,CAAYA,CAAAA,CAACC,OAAQ9D,EAAKwZ,qBAAqB,CAAElZ,KAAM,GAAI1C,IAAKyD,C,KAEnE,UAACpF,GAAO3B,KAAK,E,SACX,UAACqB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMyQ,E,SACV,UAACrF,GAAOK,eAAe,EAACC,KAAMyD,EAAKyZ,OAAO,CAAE7hB,GAAI,CAACI,SAAU,SAAUC,aAAc,UAAU,C,OAG/F,EAAC+H,EAAKwW,MAAM,EAAIxW,EAAK0Z,QAAQ,GAC7B,UAACnJ,GAAAA,CAAKA,CAAAA,CAAC3Y,GAAI,CAACmJ,GAAI,CAAC,EAAG/F,QAASgF,EAAK0Z,QAAQ,CAAG,YAAc/oB,KAAAA,E,SACxDqP,EAAK2R,IAAI,G,KAMjB3R,EAAK2Z,oBAAoB,EACxB,UAAC1d,GAAOd,OAAO,E,SACb,UAACc,GAAOK,eAAe,EAACC,KAAMyD,EAAK2Z,oBAAoB,E,GAI1D3Z,IAAAA,EAAK4Z,MAAM,CAAChoB,MAAM,EACjB,UAAC8K,GAASA,C,SACPsD,EAAK4Z,MAAM,CAAC7X,KAAK,CAAC,EAlCN,GAkC2B3I,GAAG,CAACygB,GAC1C,UAACzI,GAAUA,CAAavgB,KAAMipB,CAAAA,EAAAA,EAAAA,EAAAA,EAAU,CAACC,UAAWF,CAAK,G,SACtDA,C,EADcA,G,GAOvB,WAAC5d,GAAOpD,MAAM,E,UACXmH,EAAK9J,QAAQ,EACZ,WAAC+F,GAAOnC,UAAU,E,UAChB,UAAChC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACyC,GAAI,CAAC,E,SACb,UAACjC,EAAcA,CAACC,MAAO2H,EAAK3H,KAAK,E,GAGnC,UAAC2D,OAAAA,CAAKjB,aAAY,CAAC,EAAEiF,EAAK9J,QAAQ,CAAC,SAAS,CAAC,C,SAAG8J,EAAK9J,QAAQ,G,GAGjE,UAAC+F,GAAOnC,UAAU,E,SAChB,WAAC6B,EAAAA,CAAIA,CAAAA,CACH9K,KAAM,CAAC,EAAEyQ,EAAc,WAAW,CAAC,CACnCvG,aAAY,CAAC,EAAEiF,EAAKuZ,SAAS,CAAC,MAAM,CAAC,CACrC3hB,GAAI,CAEF,SAAU,CACRsb,UAAW,mBACX,MAAO,CACL7a,MAAO,WACT,CACF,EACAN,QAAS,OACTiB,WAAY,SACZX,MAAO,UACT,E,UAEA,UAAC+H,EAAAA,CAAOA,CAAAA,CACNvF,KAAMmd,EAAAA,QAAQA,CACdpe,cAAa,GACb0G,KAAM,GACN1I,GAAI,CACFS,MAAO,YACPgC,GAAI,KACN,C,GAEF,UAACsW,GAAKA,CAAChd,MAAO0lB,C,QAGlB,UAACpd,GAAOnC,UAAU,E,SAChB,WAACkC,OAAAA,C,UAAK,WACI,UAACiS,GAAAA,CAAGA,CAAAA,CAACC,UAAW4H,C,cAKhC,WAAChe,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQ0I,eAAgB,WAAYvE,SAAU,CAAC,E,UAChE,UAACpE,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC8R,GAAI,EAAGrG,GAAI,CAAC,E,SACpB,UAAC6T,GAAUA,CACTC,QAASnX,EAAKga,uBAAuB,CACrCve,KAAMuE,EAAKvE,IAAI,CACf5M,KAAM+M,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,CAACJ,MAAOwE,EAAKnE,IAAI,CAACyO,UAAU,CAACE,WAAW,CAAE3O,KAAMmE,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,GAC9F2b,iBAAkBD,IACZA,EAIFmC,EAAatZ,EAAKga,uBAAuB,CAAGha,EAAKuZ,SAAS,CAAGvZ,EAAKuZ,SAAS,CAAG,GAI9ED,EAAatZ,EAAKga,uBAAuB,CAAGha,EAAKuZ,SAAS,CAAG,EAAIvZ,EAAKuZ,SAAS,CAEnF,EACAlC,WAAYA,C,KAGdrX,CAAAA,EAAKgZ,WAAW,EAAIhZ,EAAKuY,gBAAgB,GAAKY,GAC9C,UAACrhB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACT2R,GAAI,EACJrG,GAAI,CACN,E,SAEA,UAAC8P,EAAAA,EAAWA,CAAAA,CAAC1W,KAAM0c,C,YAOjC,CAIA,GAAG,CAAEjB,GAAa5kB,WAAW,EAAxB4kB,CAAAA,GAAa5kB,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CAC1D,GAAG,CAAE8lB,GAAiB9lB,WAAW,EAA5B8lB,CAAAA,GAAiB9lB,WAAW,CAAK,kBAAiB,CAAE,CAAE,KAAM,CAAC,CC9NnD,SAAS2mB,GAAO,CAACjc,QAAAA,CAAO,CAA4C,EACjF,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC4G,GACnB,UAACka,GAAAA,CAECla,KAAMA,EACNqX,WAAY,EAAStX,SAAS,CAA0B,GAAvB/B,EAAQ6C,YAAY,EAFhD,CAAC,aAAa,EAAEb,EAAK5L,EAAE,CAAC,CAAC,E,EAOxC,CAEO,SAAS8lB,GAAY,CAACla,KAAAA,CAAI,CAAEqX,WAAAA,CAAU,CAAqC,EAChF,MACE,WnBQWpb,GmBRJA,C,UACL,UAACA,GAAOhC,MAAM,E,SACZ,WAACnC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC5CgH,EAAKma,QAAQ,EACZ,UAACle,GAAO7B,MAAM,E,SACZ,UAACyJ,GAAAA,CAAYA,CAAAA,CAACjG,IAAKoC,EAAKma,QAAQ,E,GAIpC,UAACle,GAAO3B,KAAK,E,SACX,UAAC8f,GAAAA,CAAU3e,KAAMuE,EAAKvE,IAAI,CAAEnI,YAAa0M,EAAKqa,eAAe,E,GAG/D,UAACnD,GAAUA,CACTtf,GAAI,CAACia,WAAY,MAAM,EACvBsF,QAASnX,EAAKga,uBAAuB,CACrCve,KAAMuE,EAAKvE,IAAI,CACf5M,KAAMirB,CAAAA,EAAAA,EAAAA,EAAAA,EAAU,CAACC,UAAW/Z,EAAKvE,IAAI,GACrC4b,WAAYA,C,QAKjBrX,EAAKsa,oBAAoB,CACxB,UAACre,GAAOd,OAAO,E,SACb,UAACc,GAAOK,eAAe,EAACC,KAAMyD,EAAKsa,oBAAoB,E,GAEvD,KACJ,WAACre,GAAOpD,MAAM,E,UACZ,UAACoD,GAAOnC,UAAU,E,SAChB,UAACygB,GAAAA,CAAgB5mB,MAAOqM,EAAKwa,gBAAgB,CAAEC,aAAcza,EAAK0a,qCAAqC,E,GAGxG1a,IAAAA,EAAK2a,OAAO,CAAC/oB,MAAM,CAAS,KAC3B,UAACqK,GAAOnC,UAAU,E,SAChB,UAAC8gB,GAAAA,CAAchB,OAAQ5Z,EAAK2a,OAAO,CAAEE,KAAM,C,UAMvD,CAEA,SAAST,GAAU,CAAC3e,KAAAA,CAAI,CAAEnI,YAAAA,CAAW,CAA+C,EAClF,MACE,UAACqI,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMipB,CAAAA,EAAAA,EAAAA,EAAAA,EAAU,CAACC,UAAWte,CAAI,G,SACnCnI,EAAc,UAAC2I,GAAOK,eAAe,EAACC,KAAMjJ,C,GAAkB,UAAC0I,OAAAA,C,SAAMP,C,IAG5E,CAEA,SAAS8e,GAAgB,CAAC5mB,MAAAA,CAAK,CAAE8mB,aAAAA,CAAY,CAAyC,EACpF,MACE,WAAC3iB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC7C,UAACoH,EAAAA,CAAOA,CAAAA,CACNvF,KAAMigB,EAAAA,QAAQA,CACdxa,KAAM,GACN1I,GAAI,CACFyC,GAAI,CACN,C,GAEF,UAACsW,GAAKA,CACJtM,UAAW,CAAC,EAAE1Q,EAAM,aAAa,CAAC,CAClCA,MAAOA,EACPid,KAAM6J,EAAetJ,EAAU4J,UAAU,CAAG5J,EAAU6J,KAAK,G,EAInE,CAEA,SAASJ,GAAc,CAAChB,OAAAA,CAAM,CAAEiB,KAAAA,CAAI,CAA4C,EAC9E,IAAMI,EAAO,IAAIrB,EAAO,CAAC7X,KAAK,CAAC,EAAG8Y,GAC5BK,EAAO,IAAItB,EAAO,CAAC7X,KAAK,CAAC8Y,GAE/B,MACE,WAAC/d,MAAAA,C,UACEme,EAAK7hB,GAAG,CAAC,CAACygB,EAAOxgB,IAChB,WAACK,EAAAA,QAAQA,CAAAA,C,UACP,UAAC0gB,GAAAA,CAAU3e,KAAMoe,C,GAChBxgB,IAAM4hB,EAAKrpB,MAAM,CAAG,EAAI,UAACoK,OAAAA,C,SAAM,I,GAAe,K,EAFlC,CAAC,cAAc,EAAE6d,EAAM,CAAC,GAKxCqB,EAAKtpB,MAAM,CAAG,EACb,WAACoK,OAAAA,C,UACE,IAAI,OACD,UAAC2U,GAAKA,CAAChd,MAAOunB,EAAKtpB,MAAM,GAAI,Q,EAFzB,uBAIR,K,EAGV,CAEA,GAAG,CAAEqoB,GAAO3mB,WAAW,EAAlB2mB,CAAAA,GAAO3mB,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAE4mB,GAAY5mB,WAAW,EAAvB4mB,CAAAA,GAAY5mB,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CACxD,GAAG,CAAE8mB,GAAU9mB,WAAW,EAArB8mB,CAAAA,GAAU9mB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CACpD,GAAG,CAAEinB,GAAgBjnB,WAAW,EAA3BinB,CAAAA,GAAgBjnB,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEsnB,GAActnB,WAAW,EAAzBsnB,CAAAA,GAActnB,WAAW,CAAK,eAAc,CAAE,CAAE,KAAM,CAAC,C,gBCjH5D,SAAS6nB,GAAM,CAACnd,QAAAA,CAAO,CAA2C,EAChE,GAAM,CAACma,EAAkBC,EAAoB,CAAG5kB,EAAAA,QAAc,GAExD6kB,EAAcX,CAAAA,EAAAA,GAAAA,CAAAA,EAClB,2CACA,QAqCF,OAlCAlkB,EAAAA,SAAe,CAAC,KACd,eAAeilB,EAAyBC,CAAkB,EACxD,IAAMC,EAAkB,MAAMN,EAAY,CAAC3jB,KAAMgkB,CAAQ,EAErDC,CAAAA,EAAgBb,EAAE,EAGpBM,EAFuB,MAAMO,EAAgBC,IAAI,GAIrD,CAEA,IAAMC,EAAkB,IAAIC,SAE5B,IAAK,IAAM7iB,KAAU+H,EAAQA,OAAO,CAAE,CACpC,IAAM+a,EAAc,CAAC,WAAW,EAAE9iB,EAAO7B,EAAE,CAAC,CAAC,CAAC,CAE1C6B,EAAO+iB,WAAW,EAAI,CAACH,EAAgBI,GAAG,CAAC,CAAC,EAAEF,EAAY,gBAAgB,CAAC,IACxEF,EAAgBI,GAAG,CAAC,YACvBJ,EAAgBK,GAAG,CAAC,UAAW,OAGjCL,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,gBAAgB,CAAC,CAAE9iB,EAAO7B,EAAE,EAC/DykB,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,mBAAmB,CAAC,CAAE9iB,EAAO5B,KAAK,EACrEwkB,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,WAAW,CAAC,CAAE,IACjDF,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,kBAAkB,CAAC,CAAE,SACxDF,EAAgBK,GAAG,CAAC,CAAC,EAAEH,EAAY,UAAU,CAAC,CAAE,8BAEpD,CAEIF,EAAgBI,GAAG,CAAC,YACtBR,EAAyBI,EAE7B,EAAG,CAAC7a,EAASqa,EAAY,EAGvB,UAACpc,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC,CAAC4G,EAAM3G,KAC1B,IAAI8f,EAKJ,OAJIhB,GACFgB,CAAAA,EAAoBhB,CAAgB,CAAC,CAAC,KAAK,EAAEnY,EAAK5L,EAAE,CAAC,CAAC,CAAC,EAIvD,UAACgnB,GAAAA,CACCpb,KAAMA,EAENmZ,kBAAmBA,EACnB9B,WAAY,EAAStX,SAAS,CAA0B,GAAvB/B,EAAQ6C,YAAY,EAFhDxH,EAKX,E,EAGN,CAEA,SAAS+hB,GAAW,CAClBpb,KAAAA,CAAI,CACJmZ,kBAAAA,CAAiB,CACjB9B,WAAAA,CAAU,CAKX,EACC,MACE,UpBhDWpb,GoBgDJA,C,SACL,WAACnE,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQmC,cAAe,KAAK,E,UAC7C,WAACpC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQmC,cAAe,MAAOmC,SAAUgf,CAAAA,EAAAA,GAAAA,EAAAA,EAAS,gBAAgB,E,UAClF,UAACvjB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuM,WAAY,CAAC,E,SACrB,UAACN,GAAAA,CAAYA,CAAAA,CAACjG,IAAKoC,EAAKkI,kBAAkB,EAAIlI,EAAKmI,UAAU,CAAE7H,KAAM,GAAI1I,GAAI,CAACyC,GAAI,EAAGpB,GAAI,CAAC,C,KAE5F,WAACnB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CAACG,QAAS,OAAQmC,cAAe,SAAUohB,SAAU,EAAGC,eAAgB,iBAAkBrf,SAAU,CAAC,E,UAEzG,UAACD,GAAOhC,MAAM,E,SACZ,UAACgC,GAAO3B,KAAK,E,SACX,UAACA,GAAKA,CAAC7G,KAAMuM,C,OAIhBA,EAAKwb,cAAc,EAClB,UAACvf,GAAOd,OAAO,E,SACb,UAACa,OAAAA,C,SACC,UAACC,GAAOK,eAAe,EAACC,KAAMyD,EAAKwb,cAAc,E,KAKtDxb,EAAKhQ,QAAQ,EACZ,WAACiM,GAAOpD,MAAM,E,UACZ,UAACoD,GAAOnC,UAAU,E,SAChB,UAACkC,OAAAA,C,SAAMgE,EAAKhQ,QAAQ,E,GAGtB,WAACiM,GAAOnC,UAAU,E,UAChB,UAACsG,EAAAA,CAAOA,CAAAA,CACNvF,KAAMigB,EAAAA,QAAQA,CACdxa,KAAM,GACN1I,GAAI,CACFS,MAAO,YACPgC,GAAI,KACN,C,GAEF,UAACsW,GAAKA,CAACtM,UAAW,CAAC,EAAErE,EAAKyb,KAAK,CAAC,aAAa,CAAC,CAAE9nB,MAAOqM,EAAKyb,KAAK,G,GAGnE,WAACxf,GAAOnC,UAAU,E,UAChB,UAACsG,EAAAA,CAAOA,CAAAA,CACNvF,KAAM6gB,EAAAA,UAAUA,CAChBpb,KAAM,GACN1I,GAAI,CACFS,MAAO,YACPgC,GAAI,KACN,C,GAEF,UAACsW,GAAKA,CAACtM,UAAW,CAAC,EAAErE,EAAKuZ,SAAS,CAAC,UAAU,CAAC,CAAE5lB,MAAOqM,EAAKuZ,SAAS,G,YAMhF,WAACzhB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,EAAG7L,QAAS,OAAQ0I,eAAgB,WAAYkb,UAAW,MAAM,E,UAC9E,CAAC3b,EAAK4b,eAAe,EACpB,UAAC9e,MAAAA,C,SACC,UAAC+e,GAAAA,CAAaC,eAAgB9b,EAAK+b,wBAAwB,CAAE1nB,MAAO2L,EAAK3L,KAAK,CAAEgjB,WAAYA,C,KAG/F8B,GAAqB,UAAChG,EAAAA,EAAWA,CAAAA,CAAC1W,KAAM0c,EAAmBvhB,GAAI,CAACmJ,GAAI,CAAC,C,UAKhF,CAEA,SAASzG,GAAM,CAAC7G,KAAAA,CAAI,CAAyB,EAC3C,IAAMuoB,EAAW,CAAC,CAAC,EAAEvoB,EAAKwoB,aAAa,CAAC,CAAC,CACzC,MACE,uB,UACGxoB,EAAKgmB,OAAO,EACX,UAAC9d,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMmrB,E,SACV,UAACriB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAGG,WAAY,UAAU,E,SAAI1G,EAAKgI,IAAI,E,GAG/D,UAACE,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMmrB,E,SACV,UAACriB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAY0I,GAAItN,EAAKgI,IAAI,CAAG,EAAI9K,KAAAA,EAAWwJ,WAAY,QAAQ,E,SAC/E,UAACR,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAGG,WAAY,OAAO,E,SAAI1G,EAAKwoB,aAAa,E,OAK3E,CAEA,SAASJ,GAAa,CACpBC,eAAAA,CAAc,CACdznB,MAAAA,CAAK,CACLgjB,WAAAA,CAAU,CAKX,EACC,GAAM,CAAC6E,EAAUC,EAAY,CAAG3oB,EAAAA,QAAc,CAACsoB,GACzC/f,EAAS2b,CAAAA,EAAAA,GAAAA,CAAAA,EAAuB,CAAC,OAAO,EAAEwE,EAAW,WAAa,SAAS,QAAQ,EAAE7nB,EAAM,CAAC,CAAE,QAE9FujB,EAAWpkB,EAAAA,WAAiB,CAAC,UACjC2oB,EAAY,CAACD,GAERrE,CADO,MAAM9b,GAAO,EAChB+b,EAAE,EAETqE,EAAYD,EAGhB,EAAG,CAACA,EAAS,EAEb,OAAO7E,EACL,UAACzW,EAAAA,CAAMA,CAAAA,CAACN,KAAK,QAAQxH,GAAG,IAAIjI,KAAMwmB,E,SAC/B6E,EAAW,WAAa,Q,GAG3B,UAACtb,EAAAA,CAAMA,CAAAA,CAACJ,QAASoX,EAAUtX,KAAK,Q,SAC7B4b,EAAW,WAAa,Q,EAG/B,CAIA,GAAG,CAAEf,GAAM7nB,WAAW,EAAjB6nB,CAAAA,GAAM7nB,WAAW,CAAK,OAAM,CAAE,CAAE,KAAM,CAAC,CAC5C,GAAG,CAAE8nB,GAAW9nB,WAAW,EAAtB8nB,CAAAA,GAAW9nB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CACtD,GAAG,CAAEgH,GAAMhH,WAAW,EAAjBgH,CAAAA,GAAMhH,WAAW,CAAK,OAAM,CAAE,CAAE,KAAM,CAAC,CAC5C,GAAG,CAAEuoB,GAAavoB,WAAW,EAAxBuoB,CAAAA,GAAavoB,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CC1M1D,SAAS8oB,GAAM,CAACpe,QAAAA,CAAO,CAA0B,EAC/C,MACE,UAAC/B,GAAOc,IAAI,E,SACTiB,EAAQA,OAAO,CAAC5E,GAAG,CAAC4G,GACnB,UAACqc,GAAAA,CAA0Crc,KAAMA,C,EAAhC,CAAC,YAAY,EAAEA,EAAK5L,EAAE,CAAC,CAAC,E,EAIjD,CAEA,SAASioB,GAAW,CAACrc,KAAAA,CAAI,CAAyB,EAChD,IAAMqK,EAAiBrK,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAC1C8O,EAAsBvK,EAAKnE,IAAI,CAACyO,UAAU,CAACE,WAAW,CAEtD8R,EAAWtc,EAAKuc,QAAQ,CAACC,SAAS,CAAC,EAAGxc,EAAKuc,QAAQ,CAACE,WAAW,CAAC,MAChEC,EAAU,CAAC,CAAC,EAAEnS,EAAoB,CAAC,EAAEF,EAAe,MAAM,EAAEzI,CAAAA,EAAAA,EAAAA,EAAAA,EAAW0a,GAAU,CAAC,CAClFK,EAAkB,IAAI/nB,KAAKoL,EAAK+V,UAAU,EAChD,MACE,WrBWW9Z,GqBXJA,C,UACL,WAACA,GAAOhC,MAAM,E,UACZ,UAACgC,GAAOb,iBAAiB,EAACI,MAAO+O,EAAqB9O,KAAM4O,C,GAC5D,UAACpO,GAAO3B,KAAK,E,SACX,UAACqB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM6rB,EAASnoB,OAAO,S,SAC1B,UAAC0H,GAAOK,eAAe,EAACC,KAAMyD,EAAKwP,QAAQ,E,QAIhDxP,EAAK8N,OAAO,EACX,UAAC7R,GAAOd,OAAO,E,SACb,UAACc,GAAOK,eAAe,EAACC,KAAMyD,EAAK8N,OAAO,E,GAG9C,UAAC7R,GAAOpD,MAAM,E,SACZ,UAACoD,GAAOnC,UAAU,E,SAChB,WAACkC,OAAAA,C,UACE,gBACD,UAACiS,GAAAA,CAAGA,CAAAA,CAACC,UAAWyO,C,YAM5B,CAIA,GAAG,CAAEP,GAAM9oB,WAAW,EAAjB8oB,CAAAA,GAAM9oB,WAAW,CAAK,OAAM,CAAE,CAAE,KAAM,CAAC,CAC5C,GAAG,CAAE+oB,GAAW/oB,WAAW,EAAtB+oB,CAAAA,GAAW/oB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CtC1CvC,SAASspB,GAAW,CAAC5e,QAAAA,CAAO,CAA+B,EACxE,MACE,sB,SACE,UAAC/B,GAAOc,IAAI,EAACnF,GAAI,CAACgF,IAAK,CAAC,EAAG,EAAG,EAAG,EAAE,E,SAChCoB,EAAQA,OAAO,CAAC5E,GAAG,CAAC4G,GACnB,UAAC6c,GAAAA,CAA+B7c,KAAMA,C,EAAfA,EAAK5L,EAAE,E,IAKxC,CAEA,SAASyoB,GAAiB,CAAC7c,KAAAA,CAAI,CAA+B,EAC5D,GAAM,CAACgB,EAAQC,EAAU,CAAGvC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAE/Boe,EAAkBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAS,CAC/BvhB,MAAOwE,EAAKwK,WAAW,CACvB3O,KAAMmE,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAC/BuhB,UAAWhd,EAAK1J,UAAU,CAC1B4K,SAAUlB,EAAKnR,IAAI,GAGrB,MACE,WAACiJ,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACsE,SAAU,CAAC,E,UACnB,WAACpE,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFU,GAAI,gBACJ2kB,WAAY,OACZ5Z,GAAI,EACJC,GAAI,EACJ1K,OAAQ,GACRmB,UAAW,OACXwJ,oBAAqB,EACrBC,qBAAsB,EACtBC,wBAAyBzC,EAAS,EAAI,EACtC0C,uBAAwB1C,EAAS,EAAI,EACrCtI,YAAa,iBACbD,YAAa,EACbD,YAAa,QACbT,QAAS,OACTiB,WAAY,QACd,E,UAEA,UAAC2K,GAAeA,CACd3C,OAAQA,EACRR,QAAS,IAAMS,EAAU,CAACD,GAC1BvF,KAAM,CAAC,EAAEuE,EAAKwK,WAAW,CAAC,CAAC,EAAExK,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAAC,CAAC,GAE1D,WAAC3D,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,EAAG5K,WAAY,SAAUjB,QAAS,OAAQgJ,GAAI,EAAG7E,SAAU,CAAC,E,UAC1E,UAACD,GAAO7B,MAAM,EAACC,GAAG,M,SAChB,UAACwJ,GAAAA,CAAYA,CAAAA,CAACC,OAAM,GAAClM,GAAI,CAACmJ,GAAI,KAAK,EAAGT,KAAM,GAAI1C,IAAKsf,CAAAA,EAAAA,EAAAA,EAAAA,EAAgB,CAAC1hB,MAAOwE,EAAKwK,WAAW,E,KAE/F,UAACvO,GAAO3B,KAAK,EAACN,SAAU,E,SACtB,WAACtC,EAAgBA,CAACC,KAAK,OAAOE,MAAO,CAAC,EAAEmI,EAAKwK,WAAW,CAAC,CAAC,EAAExK,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAAC,kBAAe,CAAC,C,UACpG,UAACQ,GAAOV,cAAc,EACpBC,MAAOwE,EAAKwK,WAAW,CACvB/O,KAAMuE,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAC/B7D,GAAI,CAACS,MAAO,aAAc8B,WAAY,MAAM,C,GAC5C,eAEF,UAACwB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMisB,EAAiBllB,GAAI,CAACgP,WAAY,OAAQvO,MAAO,aAAc2B,SAAU,CAAC,E,SACnFgG,EAAKmd,OAAO,CAAG,UAAClhB,GAAOK,eAAe,EAACC,KAAMyD,EAAKmd,OAAO,GAAO,UAACnhB,OAAAA,C,SAAMgE,EAAKnR,IAAI,E,WAKzF,UAACiJ,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuM,WAAY,EAAGd,GAAI,EAAGtL,QAAS,CAAC,OAAQ,OAAQ,OAAO,E,SAC/D,WAACkE,GAAOpD,MAAM,E,UACXmH,EAAK9J,QAAQ,EACZ,UAAC+F,GAAOnC,UAAU,E,SAChB,UAACsK,GAAYA,CAACC,UAAW,CAAC,EAAErE,EAAK9J,QAAQ,CAAC,SAAS,CAAC,CAAEqG,KAAMyD,EAAK9J,QAAQ,C,SACvE,UAAC4B,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACyC,GAAI,CAAC,E,SACb,UAACjC,EAAcA,CAACC,MAAO2H,EAAKsE,cAAc,EAAI,M,SAKrDtE,EAAKod,mBAAmB,EACvB,UAACnhB,GAAOnC,UAAU,E,SAChB,UAACsK,GAAYA,CACXC,UAAW,CAAC,EAAErE,EAAKod,mBAAmB,CAAC,OAAO,CAAC,CAC/C7gB,KAAMyD,EAAKod,mBAAmB,CAC9B7Y,QAAS,CAAC,EAAEvE,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAAC,MAAM,EAAEmG,CAAAA,EAAAA,EAAAA,EAAAA,EAAW5B,EAAKod,mBAAmB,EAAE,CAAC,C,SAEpF,UAAChd,EAAAA,CAAOA,CAAAA,CACNvF,KAAM2J,EAAAA,aAAaA,CACnBlE,KAAM,GACN1I,GAAI,CACFyC,GAAI,CACN,C,eAQd,UAAC4B,GAAOhC,MAAM,KAEb+G,GACC,sB,SACE,UAAClJ,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFc,YAAa,iBACb+L,kBAAmB,EACnBC,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClBpM,YAAa,OACf,E,SAEA,UAAC6kB,GAAAA,C,SACC,UAACC,GAAAA,CAAkBtd,KAAMA,C,WAOvC,CAEA,SAAS2D,GAAgB,CAAC3C,OAAAA,CAAM,CAAER,QAAAA,CAAO,CAAE/E,KAAAA,CAAI,CAAuD,EACpG,MACE,UAAC3D,EAAAA,CAAGA,CAAAA,CACFgB,GAAG,SACH0H,QAASA,EACTzF,aAAYU,EACZ8hB,gBAAevc,EACfpJ,GAAI,CACFgB,OAAQ,GACRL,aAAc,EACdI,MAAO,GACPN,MAAO,WACPN,QAAS,OACT0I,eAAgB,SAChBzH,WAAY,SACZV,GAAI,gBACJ4M,OAAQ,OACR,SAAU,CACR5M,GAAI,aACN,CACF,E,SAEC0I,EAAS,UAACmE,EAAAA,eAAeA,CAAAA,CAAC7E,KAAM,E,GAAS,UAAC8E,EAAAA,gBAAgBA,CAAAA,CAAC9E,KAAM,E,IAGxE,CAEA,SAASgd,GAAkB,CAACtd,KAAAA,CAAI,CAA+B,EAC7D,MACE,UAAC6G,QAAAA,C,SACC,UAACC,QAAAA,C,SACE9G,EAAKwd,YAAY,CAACpkB,GAAG,CAAC,CAACqkB,EAAUpkB,IAChC,WAACK,EAAAA,QAAQA,CAAAA,C,UACN+jB,EAASzX,KAAK,CAAC5M,GAAG,CAAC,CAAC,CAAChD,YAAAA,CAAW,CAAE6P,KAAAA,CAAI,CAAC,GACtC,WAACP,KAAAA,C,UACC,UAAC5N,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,KAAKyB,UAAU,WAAW3C,GAAI,CAAC8lB,aAAc,CAAC,E,SACpD,UAAC/hB,EAAAA,CAAIA,CAAAA,CACH9K,KAAMksB,CAAAA,EAAAA,EAAAA,EAAAA,EAAS,CACbvhB,MAAOwE,EAAKwK,WAAW,CACvB3O,KAAMmE,EAAKnE,IAAI,CAACyO,UAAU,CAAC7O,IAAI,CAC/BuhB,UAAWhd,EAAK1J,UAAU,CAC1B4K,SAAUlB,EAAKnR,IAAI,GAErB+I,GAAI,CAACS,MAAO,WAAW,E,SAEtBjC,EAAc,C,KAGnB,UAAC+c,EAAAA,EAAWA,CAAAA,CAACra,GAAG,KAAKyB,UAAU,4BAA4BkC,KAAMwJ,C,KAd1D7P,IAiBViD,IAAM2G,EAAKwd,YAAY,CAAC5rB,MAAM,CAAG,EAAI,KAAO,UAACjD,EAAAA,CAAAA,G,EAnBjC0K,G,KA0BvB,SAAS1K,IACP,MACE,WAACmJ,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,KAAKlB,GAAI,CAACgB,OAAQ,CAAC,E,UACzB,UAACd,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,KAAKyB,UAAU,WAAW3C,GAAI,CAAC8lB,aAAc,CAAC,E,SAAG,Q,GAGzD,UAAC9X,KAAAA,CAAGrL,UAAU,2B,KAGpB,CACF,CAEA,SAAS8iB,GAAiB,CAAC7qB,SAAAA,CAAQ,CAA6B,EAC9D,MACE,UAACsF,EAAAA,CAAGA,CAAAA,CACFyC,UAAU,YACV3C,GAAI,CACFO,WAAY,WACZyO,WAAY,YACZ1K,SAAU,EACViE,GAAI,CACN,E,SAEC3N,C,EAGP,CAQA,SAAS4R,GAAa,CAACC,UAAAA,CAAS,CAAE9H,KAAAA,CAAI,CAAEgI,QAAAA,CAAO,CAAE/R,SAAAA,CAAQ,CAAoB,EAC3E,IAAMuU,EACJ,WAACjP,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC5CxG,EAED,UAACwJ,OAAAA,CAAKjB,aAAYsJ,E,SAAY9H,C,aAIlC,EAGE,UAACZ,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM0T,EAAS3M,GAAI,CAACS,MAAO,UAAU,E,SACxC0O,C,GAJgBA,CAOvB,CAEA,GAAG,CAAE6V,GAAWtpB,WAAW,EAAtBspB,CAAAA,GAAWtpB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CACtD,GAAG,CAAEupB,GAAiBvpB,WAAW,EAA5BupB,CAAAA,GAAiBvpB,WAAW,CAAK,kBAAiB,CAAE,CAAE,KAAM,CAAC,CAClE,GAAG,CAAEqQ,GAAgBrQ,WAAW,EAA3BqQ,CAAAA,GAAgBrQ,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEgqB,GAAkBhqB,WAAW,EAA7BgqB,CAAAA,GAAkBhqB,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CACpE,GAAG,CAAE3E,CAAAA,EAAAA,eAAc,EAAE2E,WAAW,EAA3B3E,CAAAA,EAAgB2E,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAE+pB,GAAiB/pB,WAAW,EAA5B+pB,CAAAA,GAAiB/pB,WAAW,CAAK,kBAAiB,CAAE,CAAE,KAAM,CAAC,CAClE,GAAG,CAAE8Q,GAAa9Q,WAAW,EAAxB8Q,CAAAA,GAAa9Q,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,C,gBuCpP3C,SAASqqB,KACtB,IAAMC,EAAkC/nB,CAAAA,EAAAA,EAAAA,CAAAA,EAAe,2BACvD,MACE,UAACiH,MAAAA,CACCvC,UAAU,iDACVuD,MAAO,CAAC/F,QAAS,OAAQ8lB,QAAS,MAAM,EACxClY,KAAMiY,EAAkC,SAAWjtB,KAAAA,EACnDmtB,aAAYF,EAAAA,GAAyCjtB,KAAAA,E,SAErD,UAACmM,MAAAA,CACCvC,UAAU,6FACVuD,MAAO,CAACnF,MAAO,OAAO,EACtBolB,SAAUH,EAAkCjtB,KAAAA,EAAY,C,IAIhE,CAEA,GAAG,CAAEgtB,GAAUrqB,WAAW,EAArBqqB,CAAAA,GAAUrqB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,C,gBClBrC,SAAS0qB,KACtB,MACE,WAAC9iB,EAAAA,CAAUA,CAAC+iB,QAAQ,EAClBptB,KAAK,qCACL+G,GAAI,CACFoE,KAAM,CACJ3D,MAAO,WACT,CACF,E,UAEA,UAAC6C,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACoU,EAAAA,gBAAgBA,CAAAA,CAAAA,E,GACQ,kB,EAIjC,CAEA,GAAG,CAAEF,GAAe1qB,WAAW,EAA1B0qB,CAAAA,GAAe1qB,WAAW,CAAK,gBAAe,CAAE,CAAE,KAAM,CAAC,C,4BCnB9D,IAAM6qB,GAAQC,CAAAA,EAAAA,GAAAA,EAAAA,EAASA,C,oDAMjBC,GAAYC,CAAAA,EAAAA,GAAAA,EAAAA,EAAOxmB,EAAAA,CAAGA,EAAAA,UAAAA,CAAAA,C,8HAEbqmB,IAGA,SAASI,GAAKljB,CAAe,EAC1C,MAAO,UAACgjB,GAAAA,CAAU1lB,MAAM,OAAOL,GAAG,iBAAkB,GAAG+C,CAAK,EAC9D,CAEA,GAAG,CAAEgjB,GAAU/qB,WAAW,EAArB+qB,CAAAA,GAAU/qB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CACpD,GAAG,CAAEirB,GAAKjrB,WAAW,EAAhBirB,CAAAA,GAAKjrB,WAAW,CAAK,MAAK,CAAE,CAAE,KAAM,CAAC,CCf3B,SAASkrB,GAAY,CAClCC,aAAAA,CAAY,CACZC,UAAAA,CAAS,CACTC,wBAAAA,CAAuB,CAKxB,SACC,EACS,UAACJ,GAAIA,CAAC3mB,GAAI,CAACgB,OAAQ,GAAID,MAAO,GAAIoI,GAAI,EAAGxI,aAAc,CAAC,C,GAI/D,UAACqmB,GAAAA,CAAYA,CAAAA,CAAC3hB,cAAY,uBAAuBrF,GAAI,CAACgB,OAAQ,GAAIyY,WAAY,OAAQlR,GAAI,EAAG/D,GAAI,CAAC,E,SAChG,UAACuU,GAAKA,CAAC8J,aAAckE,EAAyBhrB,MAAO8qB,C,IAG3D,CAEA,GAAG,CAAED,GAAYlrB,WAAW,EAAvBkrB,CAAAA,GAAYlrB,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CCHjD,SAASurB,GACdhwB,CAAqB,CACrBiwB,CAAS,CACT5vB,CAAa,EAEb,IAAM6vB,EAAanwB,EAAgBC,GAUnC,MAAO,CATMoE,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAMiB,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBrF,EAAMiwB,EAAQ5vB,GAAQ,CAACL,EAAMiwB,EAAQ5vB,EAAM,EAC/DF,CAAAA,EAAAA,EAAAA,WAAAA,EACrB,IACE+vB,EAAWD,EAAQ5vB,GACnBmC,GAAG0T,gBACL,EACA,CAAC+Z,EAAQ5vB,EAAO6vB,EAAW,EAGA,CClC/B,IAAMC,GAAkBC,CAAAA,EAAAA,EAAAA,aAAAA,EAAuB,IAIxC,SAASC,KACd,MAAOC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWH,GACpB,CAEA,GAAG,CAAEA,GAAgB1rB,WAAW,EAA3B0rB,CAAAA,GAAgB1rB,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CCGjD,SAAS8rB,GAAU,CAChCC,kBAAAA,CAAiB,CACjBC,aAAAA,CAAY,CACZC,SAAAA,CAAQ,CACRC,YAAAA,CAAW,CAMZ,EAEC,IAAMC,EAAiBD,EAAY1X,SAAS,CAAC4X,GAAQA,EAAKjkB,IAAI,GAAK6jB,GAC7D,CAACK,EAAYC,EAAc,CAAGpsB,EAAAA,QAAc,CAACisB,GAFvB,GAItBI,EAGJF,GAAcH,IAAAA,EAAY5tB,MAAM,CAC5B4tB,EACAA,EAAYzd,KAAK,CAAC,EATI,GAWtB+d,EAAmBP,EAAWC,EAAcK,EAYlD,MAVAntB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACH2sB,GAECU,IAAAA,CADoBP,GAAaQ,KAAKN,GAAQA,EAAKjkB,IAAI,GAAK6jB,IAAiBE,CAAW,CAAC,EAAE,EAC3ES,KAAK,EACvBL,EAAc,GAIpB,EAAG,CAACP,EAAkB,EAGpB,WAACnkB,EAAAA,CAAUA,CAACoO,KAAK,EAACrM,cAAY,a,UAC3B6iB,EAAiB1mB,GAAG,CAAC,CAAC,CAACqC,KAAAA,CAAI,CAAEykB,mBAAAA,CAAkB,CAAErlB,KAAAA,CAAI,CAAEolB,MAAAA,CAAK,CAAC,GAE1D,UAACE,GAAAA,CAECb,aAAcA,EACd3N,KAAMlW,GAAQ,aACd5D,MAAOqoB,EACPrlB,KAAMA,EACN6jB,UAAWW,EACXZ,aAAcwB,GAAS,EACvBV,SAAUA,C,EAPL9jB,IAWV,CAACkkB,GAAc,CAACJ,GAAYC,EAAY5tB,MAAM,CAAGwuB,GAKhD,WAACllB,EAAAA,CAAUA,CAAC2O,IAAI,EAACrJ,QAAS,IAAMof,EAAc,IAAOS,SAAU,IAAMT,EAAc,I,UACjF,UAAC1kB,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAAC1J,EAAAA,CAAOA,CAAAA,CAACvF,KAAMsK,EAAAA,eAAeA,CAAE7E,KAAM,GAAI1I,GAAI,CAACyC,GAAI,EAAGhC,MAAO,UAAU,C,KAC9C,O,KAMrC,CAEA,SAAS8nB,GAAS,CAChBtoB,MAAAA,CAAK,CACLgD,KAAAA,CAAI,CACJykB,aAAAA,CAAY,CACZC,SAAAA,CAAQ,CACR5N,KAAAA,CAAI,CACJ2O,eAAAA,CAAc,CACd7B,aAAAA,CAAY,CACZC,UAAAA,CAAS,CACTC,wBAAAA,CAAuB,CAWxB,EACC,GAAM,EAAG4B,EAAqB,CAAG1B,GAAkB9uB,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CACxEwL,EAAG,KACHwV,KAAAA,EACAnS,EAAG,KACH+C,EAAG,KACHie,EAAG,IACL,GACMC,EAAWvB,KAEXhqB,EAAM3F,CAAAA,EAAAA,EAAAA,EAAAA,EAAOQ,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CAACwL,EAAG,KAAMwV,KAAAA,EAAMnS,EAAG,KAAM+C,EAAG,KAAMie,EAAG,IAAI,GAAGliB,QAAQ,GACxFxP,EAAW,IACXU,EAAmB6B,GACrBZ,OAAOC,IAAI,CAACwE,EAAK,UAIjBqrB,EAAqBlvB,GACrBA,EAAE0T,cAAc,GAChB1T,EAAEgV,eAAe,GAEfia,GAAgBA,GACtB,EAEMI,EAAW,UAACtgB,EAAAA,CAAOA,CAAAA,CAACvF,KAAMA,EAAMyF,KAAM,GAAI1I,GAAI,CAACyC,GAAI,EAAGhC,MAAO,UAAU,C,GACvEsoB,EACJ,uB,UACGpL,GAAsB1d,GAEtB,CAAC6mB,GACA,WAAC1iB,OAAAA,CAAKzB,UAAU,U,UAAU,KACtB,UAACoW,GAAKA,CAAC8J,aAAckE,EAAyBhrB,MAAO8qB,C,GAAgB,W,MAKzEmC,EACJ,GAAajP,SAAAA,EAKX,UAAC6M,GAAWA,CACVG,wBAAyBA,EACzBF,aAAcA,EACdC,UAAWA,C,GAPb,UAACE,GAAAA,CAAYA,CAAAA,CAAC3hB,cAAY,uBAAuBrF,GAAI,CAACgB,OAAQ,GAAIyY,WAAY,OAAQlR,GAAI,EAAG/D,GAAI,CAAC,E,SAAG,K,UAWzG,EAEI,WAAClB,EAAAA,CAAUA,CAAC2O,IAAI,EAEd5M,cAAa,CAAC,SAAS,EAAE0U,EAAK,CAAC,CAC/BhM,KAAK,gBACLkb,SAAUvB,IAAiB3N,EAC3BmP,eAAcxB,IAAiB3N,EAC/B0O,SAAUvxB,E,UAEV,UAACoM,EAAAA,CAAUA,CAAC4O,aAAa,E,SAAE4W,C,GAC1BC,EACD,UAACzlB,EAAAA,CAAUA,CAACgP,cAAc,EAACtS,GAAI,CAACG,QAAS,MAAM,E,SAAI6oB,C,KAT9CjP,GAeT,WAACzW,EAAAA,CAAUA,CAAC+iB,QAAQ,EAACzd,QAAS1R,EAAU+B,KAAMqE,EAAK6rB,OAAQzB,IAAiB3N,EAAM1U,cAAa,CAAC,SAAS,EAAE0U,EAAK,CAAC,C,UAC/G,UAACzW,EAAAA,CAAUA,CAAC4O,aAAa,E,SAAE4W,C,GAC1BC,EACD,UAACzlB,EAAAA,CAAUA,CAACgP,cAAc,EAACtS,GAAI,CAACG,QAAS,MAAM,E,SAAI6oB,C,KAGzD,CAEA,GAAG,CAAExB,GAAU9rB,WAAW,EAArB8rB,CAAAA,GAAU9rB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CACpD,GAAG,CAAE6sB,GAAS7sB,WAAW,EAApB6sB,CAAAA,GAAS7sB,WAAW,CAAK,UAAS,CAAE,CAAE,KAAM,CAAC,C,gBCmc3C,IAAM0tB,GAAoB,sBACpBC,GAAgB,kBAChBC,GAAgB,kBAGhBC,GAAuB,0BAE9BC,GAAgB,OASTC,GAA4B,CACvC/Q,MAAO,aACPgR,KAAM,GACNC,MAAOH,EACT,EAEMI,GAA8B,CAClC,CACElR,MAAO,SACPgR,KAAM,UACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,SACPgR,KAAM,UACNC,MAvBiB,KAwBnB,EACD,CAEKE,GAAuC,CAC3C,CACEnR,MAAO,mBACPgR,KAAM,UACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,yBACPgR,KAAM,UACNC,MApCiB,KAqCnB,EACD,CAEYG,GAA4B,CACvCL,GACA,CACE/Q,MAAO,aACPgR,KAAM,QACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,eACPgR,KAAM,QACNC,MAlDiB,KAmDnB,EACA,CACEjR,MAAO,aACPgR,KAAM,QACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,eACPgR,KAAM,QACNC,MA5DiB,KA6DnB,KACGE,GACJ,CAEYE,GAA4B,CACvCN,GACA,CACE/Q,MAAO,mBACPgR,KAAM,UACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,yBACPgR,KAAM,UACNC,MA3EiB,KA4EnB,EACD,CAEYK,GAA8B,CACzCP,GACA,CACE/Q,MAAO,qBACPgR,KAAM,iBACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,2BACPgR,KAAM,iBACNC,MAzFiB,KA0FnB,EACA,CACEjR,MAAO,oBACPgR,KAAM,cACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,0BACPgR,KAAM,cACNC,MAnGiB,KAoGnB,EACD,CAEYM,GAA6B,CACxCR,GACA,CACE/Q,MAAO,iBACPgR,KAAM,WACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,kBACPgR,KAAM,WACNC,MAjHiB,KAkHnB,KACGC,MACAC,GACJ,CAEYK,GAAkC,CAC7CT,GACA,CACE/Q,MAAO,gBACPgR,KAAM,MACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,eACPgR,KAAM,MACNC,MAjIiB,KAkInB,EACA,CACEjR,MAAO,iBACPgR,KAAM,WACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,kBACPgR,KAAM,WACNC,MA3IiB,KA4InB,EACA,CACEjR,MAAO,SACPgR,KAAM,eACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,SACPgR,KAAM,eACNC,MArJiB,KAsJnB,KACGE,GACJ,CAEYM,GAA+B,CAC1CV,GACA,CACE/Q,MAAO,iBACPgR,KAAM,YACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,mBACPgR,KAAM,YACNC,MApKiB,KAqKnB,KACGC,MACAC,GACJ,CAEYO,GAA4B,CACvCX,GACA,CACE/Q,MAAO,iBACPgR,KAAM,YACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,mBACPgR,KAAM,YACNC,MApLiB,KAqLnB,EACA,CACEjR,MAAO,uBACPgR,KAAM,SACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,wBACPgR,KAAM,SACNC,MA9LiB,KA+LnB,EACA,CACEjR,MAAO,oBACPgR,KAAM,eACNC,MAAOH,EACT,EACA,CACE9Q,MAAO,sBACPgR,KAAM,eACNC,MAxMiB,KAyMnB,EACD,CAEYU,GAA4B,CAACZ,MAAoBI,GAAyB,CAE1ES,GAAkB,aCh0B/B,GAAe1uB,EAAAA,UAAgB,CAAC2uB,IAEhC,SAASA,GACP,CAAC9d,UAAAA,CAAS,CAAE7D,QAAAA,CAAO,CAAyB,CAC5C4hB,CAA0C,EAE1C,MACE,UAAC7a,GAAAA,CAAOA,CAAAA,CAACxM,aAAW,uBAAuB7C,UAAU,K,SAEnD,UAACyC,EAAAA,CAAUA,CAAAA,CACTC,qBAAsB,GACtBhD,GAAI,CACFS,MAAO,WACPkL,oBAAqB,EACrBG,uBAAwB,EACxB9K,OAAQ,GACRD,MAAO,EACT,EACAoC,aAAYsJ,EACZxJ,KAAMwnB,EAAAA,KAAKA,CACX7hB,QAASA,EACT4hB,IAAKA,EACL9hB,KAAK,QACLyd,SAAU,GACV/iB,QAAQ,W,IAIhB,CAEA,GAAG,CAAEmnB,GAAyB7uB,WAAW,EAApC6uB,CAAAA,GAAyB7uB,WAAW,CAAK,0BAAyB,CAAE,CAAE,KAAM,CAAC,CCNnE,SAASgvB,GAAY,CAACC,UAAAA,CAAS,CAAE7C,KAAAA,CAAI,CAAE1f,KAAAA,CAAI,CAAEnP,KAAAA,CAAI,CAAEwvB,SAAAA,CAAQ,CAAEmC,cAAAA,CAAa,CAAEC,OAAAA,CAAM,CAAmB,EAClH,IAAM3vB,EAAkBjD,IAElB6yB,EAAkBlvB,EAAAA,MAAY,CAAoB,MAClDmvB,EAAcnvB,EAAAA,MAAY,CAAqB,MAEjDukB,EAAgB,KAChB6K,EAAW5iB,EAAKvE,IAAI,CAExB,OAAQikB,GACN,KAAKsB,GACHjJ,EAAgB,UAAC3f,EAAcA,CAACC,MAAO2H,EAAKsE,cAAc,GAC1D,KACF,MAAK2c,GACHlJ,EAAgB,UAAC3X,EAAAA,CAAOA,CAAAA,CAACvF,KAAMgoB,EAAAA,iBAAiBA,CAAEviB,KAAM,E,GACxD,KACF,KFqkB2B,SEpkBzBkiB,EAAgB,GAChBzK,EAAgB,UAAC+K,EAAAA,cAAcA,CAAAA,CAAAA,GAC/B,KACF,KFkkB0B,QEjkBxBN,EAAgB,GAChBzK,EAAgB/X,EAAK+iB,MAAM,CAC3B,KACF,MAAK5B,GACHqB,EAAgB,GAChBzK,EAAgB3E,GAAoBpT,EAAKvE,IAAI,CAAE,CAAC,QAAQ,EAAEgnB,EAAS,SAAW,UAAU,CAAC,EACzFG,EAAWlN,GAAmBkN,EAClC,CAMA,OAJI5iB,EAAKxE,KAAK,EACZuc,CAAAA,EAAgB,UAAClU,GAAAA,CAAYA,CAAAA,CAACvD,KAAM,GAAI1C,IAAK,CAAC,CAAC,EAAEoC,EAAKxE,KAAK,CAAC,IAAI,CAAC,E,EAIjE,WAACN,EAAAA,CAAUA,CAAC+iB,QAAQ,EAClBnlB,GAAIkH,EAAKgjB,cAAc,CAAG,IAAM,SAChCnyB,KAAMmP,EAAKgjB,cAAc,CAAGnyB,EAAOF,KAAAA,EACnCsyB,uBAAsBV,EAAAA,GAAmB,KACzC/hB,QAAS6f,EACT6C,WAAY7C,EACZtC,SAAU,EACVoF,UAAW,IAGS,eAAd1zB,EAAM6J,GAAG,EACXopB,EAAgBU,OAAO,EAAEC,QAIT,cAAd5zB,EAAM6J,GAAG,EACXqpB,EAAYS,OAAO,EAAEC,OAEzB,EACAjB,IAAK,IACHO,EAAYS,OAAO,CAAGhB,CACxB,EACAxqB,GAAI,CACFoB,WAAY,SACZJ,OA7D+B,GA8D/BsD,SAAU,EACVC,EAAG,EACHwE,UAAW,OAEX,iBAAkB,CAChB5I,QAAS,MACX,EAEA,eAAgB,CACdA,QAAS,MACX,EAEA,6EAA8E,CAC5EA,QAAS,OACX,CACF,E,UAEA,UAACmD,EAAAA,CAAUA,CAAC4O,aAAa,EAAClS,GAAI,CAACiC,GAAI,EAAGxB,MAAO,UAAU,E,SAAI0f,C,GAC3D,WAACjgB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC7C,UAAClB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,IAAK1H,SAAU,CAAC,E,SAC9B,WAACxE,EAAgBA,CAACG,MAAO+qB,EAAUjrB,KAAK,OAAOC,GAAI,CAACyE,SAAU,MAAM,E,UAAG,SAC/DumB,EAAS,S,KAGlBJ,GAEC,UAAC1qB,EAAAA,CAAGA,CAAAA,CACFyC,UAAU,gBACV3C,GAAI,CAACe,MA1FsB,GA0FUC,OA1FV,GA0F2C5C,SAAU,UAAU,EAC1F+E,aAAY,CAAC,uBAAuB,EAAE6nB,EAAS,CAAC,C,SAEhD,UAAC9qB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,MACX,E,SAEA,UAACurB,GAAiBA,CAChBjf,UAAW,CAAC,QAAQ,EAAEue,EAAS,CAAC,CAChCR,IAAKM,EACLliB,QAAS/Q,IACFuQ,IAAQvQ,EAAM8zB,gBAAgB,GAEnCzwB,EAAgBnC,KAAAA,EADO,CAAC,IAAI,EAAEqP,EAAK9Q,KAAK,CAAC,CAAC,EAE1CO,EAAMsV,cAAc,GACtB,C,YAQhB,CAEA,GAAG,CAAEud,GAAYhvB,WAAW,EAAvBgvB,CAAAA,GAAYhvB,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CC/IzC,SAASkwB,KACtB,MACE,WAAC1mB,MAAAA,CAAIG,cAAY,kB,UACf,UAACqM,GAAAA,CAAMma,OAAQ,CAAC,IAAK,IAAK,IAAI,GAC9B,UAACna,GAAAA,CAAMma,OAAQ,CAAC,IAAK,IAAK,IAAI,G,EAGpC,CAEA,SAASna,GAAM,CAACma,OAAAA,CAAM,CAAqB,EACzC,MACE,WAAC3rB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFwE,GAAI,CACN,E,UAEA,UAACmiB,GAAIA,CACH3mB,GAAI,CACFqB,GAAI,EACJN,MAAO,GACPJ,aAAc,EACdK,OAAQ,EACV,C,GAEF,UAACd,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACT6E,IAAK,EACL8M,GAAI,CACN,E,SAEC+Z,EAAOrqB,GAAG,CAAC,CAACT,EAAO+qB,IAClB,UAAC7Z,GAAAA,CAAelR,MAAOA,C,EAAZ+qB,G,GAGf,UAACnF,GAAIA,CAAC3lB,OAAQ,EAAG0C,GAAI,EAAGrC,GAAI,C,KAGlC,CAEA,SAAS4Q,GAAK,CAAClR,MAAAA,CAAK,CAAkB,EACpC,MACE,WAACb,EAAAA,CAAGA,CAAAA,CACFyC,UAAU,OACV3C,GAAI,CACFG,QAAS,OACTa,OAAQ,GACRI,WAAY,QACd,E,UAEA,UAACulB,GAAIA,CAAC5lB,MAAO,GAAIJ,aAAc,EAAGK,OAAQ,GAAIyB,GAAI,C,GAClD,UAACkkB,GAAIA,CAAChmB,aAAc,EAAGK,OAAQ,GAAIyD,SAAU1D,C,KAGnD,CAEA,GAAG,CAAE6qB,GAAqBlwB,WAAW,EAAhCkwB,CAAAA,GAAqBlwB,WAAW,CAAK,sBAAqB,CAAE,CAAE,KAAM,CAAC,CAC1E,GAAG,CAAEgW,GAAMhW,WAAW,EAAjBgW,CAAAA,GAAMhW,WAAW,CAAK,OAAM,CAAE,CAAE,KAAM,CAAC,CAC5C,GAAG,CAAEuW,GAAKvW,WAAW,EAAhBuW,CAAAA,GAAKvW,WAAW,CAAK,MAAK,CAAE,CAAE,KAAM,CAAC,CCvC1C,IAAMqwB,GAAiB,CAAC,EAAEzB,GAAgB,KAAK,CAAC,CAchD,SAAS0B,GAAa,CACpBC,OAAAA,CAAM,CACNrB,cAAAA,CAAa,CACbsB,WAAAA,CAAU,CACVpF,UAAAA,CAAS,CACTqF,YAAAA,CAAW,CACXtB,OAAAA,CAAM,CAQP,EACC,IAAMuB,EAAYxwB,EAAAA,MAAY,CAAoB,MAC5CV,EAAkBjD,IAClBo0B,EAAcC,WhDRpB,IAAMl0B,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IAEjB,MAAOjB,CAAAA,EAAAA,EAAAA,WAAAA,EACL,CAACE,EAAgBgB,EAAiBC,KAChC,GAAM,CAACE,SAAAA,CAAQ,CAAEC,gBAAAA,CAAe,CAAC,CAAGC,EAAmBP,EAAUd,EAAOgB,EAAQC,GAEhF,MAAOZ,CAAAA,EAAAA,EAAAA,EAAAA,EAAOQ,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CAAC,GAAGL,CAAe,CAAEM,EAAGP,CAAQ,GAAGQ,IAAI,EAE9E,CAACb,EAAS,CAEd,IgDDQ,CAACm0B,UAAAA,CAAS,CAAEC,QAASC,CAAY,CAAEC,aAAAA,CAAY,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IAEzD,GAAI7F,EACF,MAAO,UAAC8E,GAAoBA,CAAAA,GAG9B,IAAMgB,EAAqB,GAAeC,SA0J1CX,CAAkC,CAClChxB,CAKS,EAET,OAAQgxB,GACN,IAAK,SACL,IAAK,eACH,MAAO,CACL,CACEjsB,MAAO,QACP6sB,MAAO,CACL,CACEjpB,KAAM,OACNvM,MAAO,GACP8zB,eAAgB,GAChBD,OAAQ,UAAC3iB,EAAAA,CAAOA,CAAAA,CAACvF,KAAMgO,EAAAA,eAAeA,CAAEjR,GAAI,CAACS,MAAO,YAAY,EAAGiI,KAAM,E,GACzEnQ,aAAc,CAACmY,MAAO,MAAM,CAC9B,EACA,CACE7M,KAAM,SACNvM,MAAO,GACP8zB,eAAgB,GAChBD,OAAQ,UAAC3iB,EAAAA,CAAOA,CAAAA,CAACvF,KAAMiO,EAAAA,eAAeA,CAAElR,GAAI,CAACS,MAAO,SAAS,EAAGiI,KAAM,E,GACtEnQ,aAAc,CAACmY,MAAO,QAAQ,CAChC,EACD,CACDoX,KAAM,QACNlf,QAAS,CAAC/Q,EAAyEuQ,KACjFlN,EAAgBnC,KAAAA,EAAW,CAAC,CAAC,EAAEqP,EAAK9Q,KAAK,CAAC,CAAC,CAAE,CAACiN,EAAG,KAAM,GAAG6D,EAAK7P,YAAY,EAAGX,EAAmBC,GACnG,CACF,EACD,SAED,MAAO,EAAE,CAEf,EAjMkEq0B,EAAYhxB,IAAqB,EAAE,CAC7F6xB,EAAU,GAAeC,SC1DNjT,CAA4B,EACrD,OAAQA,GACN,IAAK,OACL,IAAK,aACH,MAAO,CACL,CACElW,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,SACNvM,MAAO,SACT,EACA,CACEuM,KAAM,mBACNvM,MAAO,kBACP8zB,eAAgB,EAClB,EACD,KACE,eACH,MAAO,CACL,CACEvnB,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,OACNvM,MAAO,OACT,EACA,CACEuM,KAAM,sBACNvM,MAAO,YACT,EACA,CACEuM,KAAM,kBACNvM,MAAO,QACT,EACA,CACEuM,KAAM,kBACNvM,MAAO,QACT,EACA,CACEuM,KAAM,eACNvM,MAAO,UACT,EACA,CACEuM,KAAM,cACNvM,MAAO,SACT,EACA,CACEuM,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,UACNvM,MAAO,UACT,EACA,CACEuM,KAAM,WACNvM,MAAO,WACT,EACA,CACEuM,KAAM,SACNvM,MAAO,YACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,UACNvM,MAAO,aACP8zB,eAAgB,EAClB,EACD,KACE,SACH,MAAO,CACL,CACEvnB,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,eACNvM,MAAO,SACT,EACA,CACEuM,KAAM,0BACNvM,MAAO,YACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,SACNvM,MAAO,SACT,EACA,CACEuM,KAAM,WACNvM,MAAO,WACT,EACA,CACEuM,KAAM,iBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,iBACNvM,MAAO,OACT,EACA,CACEuM,KAAM,YACNvM,MAAO,YACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,YACNvM,MAAO,YACT,EACA,CACEuM,KAAM,qBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,yBACNvM,MAAO,eACT,EACD,KACE,eACH,MAAO,CACL,CACEuM,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,YACNvM,MAAO,SACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,SACT,EACA,CACEuM,KAAM,eACNvM,MAAO,SACT,EACA,CACEuM,KAAM,SACNvM,MAAO,SACT,EACA,CACEuM,KAAM,WACNvM,MAAO,WACT,EACA,CACEuM,KAAM,iBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,iBACNvM,MAAO,OACT,EACA,CACEuM,KAAM,YACNvM,MAAO,YACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,QACNvM,MAAO,QACT,EACA,CACEuM,KAAM,YACNvM,MAAO,YACT,EACA,CACEuM,KAAM,qBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,yBACNvM,MAAO,eACT,EACA,CACEuM,KAAM,SACNvM,MAAO,YACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,aACNvM,MAAO,cACP8zB,eAAgB,EAClB,EACD,KACE,UACH,MAAO,CACL,CACEvnB,KAAM,eACNvM,MAAO,MACT,EACA,CACEuM,KAAM,SACNvM,MAAO,SACT,EACA,CACEuM,KAAM,YACNvM,MAAO,YACT,EACA,CACEuM,KAAM,eACNvM,MAAO,eACT,EACA,CACEuM,KAAM,kBACNvM,MAAO,kBACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,QACT,EACA,CACEuM,KAAM,OACNvM,MAAO,OACT,EACA,CACEuM,KAAM,cACNvM,MAAO,SACT,EACA,CACEuM,KAAM,YACNvM,MAAO,OACT,EACA,CACEuM,KAAM,SACNvM,MAAO,YACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,UACNvM,MAAO,aACP8zB,eAAgB,EAClB,EACD,KACE,cACH,MAAO,CACL,CACEvnB,KAAM,eACNvM,MAAO,MACT,EACA,CACEuM,KAAM,SACNvM,MAAO,SACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,YACNvM,MAAO,YACT,EACA,CACEuM,KAAM,qBACNvM,MAAO,WACT,EACA,CACEuM,KAAM,SACNvM,MAAO,YACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,UACNvM,MAAO,aACP8zB,eAAgB,EAClB,EACD,KACE,mBACH,MAAO,CACL,CACEvnB,KAAM,eACNvM,MAAO,MACT,EACA,CACEuM,KAAM,OACNvM,MAAO,OACT,EACA,CACEuM,KAAM,SACNvM,MAAO,YACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,UACNvM,MAAO,aACP8zB,eAAgB,EAClB,EACD,KACE,QACH,MAAO,CACL,CACEvnB,KAAM,eACNvM,MAAO,MACT,EACA,CACEuM,KAAM,YACNvM,MAAO,WACT,EACA,CACEuM,KAAM,yBACNvM,MAAO,QACT,EACA,CACEuM,KAAM,sBACNvM,MAAO,YACT,EACA,CACEuM,KAAM,WACNvM,MAAO,WACT,EACA,CACEuM,KAAM,WACNvM,MAAO,WACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,UACT,EACA,CACEuM,KAAM,cACNvM,MAAO,iBACP8zB,eAAgB,EAClB,EACD,KACE,SACH,MAAO,CACL,CACEvnB,KAAM,iBACNvM,MAAO,aACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,kBACNvM,MAAO,cACP8zB,eAAgB,EAClB,EACA,CACEvnB,KAAM,yBACNvM,MAAO,eACT,EACA,CACEuM,KAAM,gBACNvM,MAAO,UACT,EACD,KACE,QACH,MAAO,CACL,CACEuM,KAAM,OACNvM,MAAO,OACT,EACA,CACEuM,KAAM,eACNvM,MAAO,MACT,EACA,CACEuM,KAAM,aACNvM,MAAO,OACT,EACA,CACEuM,KAAM,oBACNvM,MAAO,UACT,EACD,CAGL,MAAO,EAAE,EDxUiC40B,IAAgB,EAAE,CAG5D,GAAI,CAACpF,GAAamG,IAFMd,CAAAA,GAAe,GAGrC,OAAO,KAKT,GAAIF,EACF,IAAK,IAAMiB,KAASjB,EAAQ,KAGtBkB,CAFyB,KAAzBD,EAAME,OAAO,CAACpzB,MAAM,GAIpBkzB,EAAMpF,IAAI,GAAKsB,GACjB+D,EAAa,CACXxoB,KAAM,oBACN6lB,IAAK4B,EACLxjB,QAAS,KACPykB,CAAAA,EAAAA,GAAAA,CAAAA,EAAwB,CACtBC,YAAa,YACbC,aAAcnB,EAAUZ,OAAO,EAAIzyB,KAAAA,CACrC,EACF,CACF,EACSm0B,EAAMpF,IAAI,GAAKwB,GACxB6D,EAAa,CACXxoB,KAAM,uBACN6lB,IAAK4B,EACLxjB,QAAS,KACPykB,CAAAA,EAAAA,GAAAA,CAAAA,EAAwB,CAACC,YAAa,QAASC,aAAcnB,EAAUZ,OAAO,EAAIzyB,KAAAA,CAAS,EAC7F,CACF,EACSm0B,EAAMpF,IAAI,GAAKuB,IACxB8D,CAAAA,EAAa,CACXxoB,KAAM,sBACN6lB,IAAK4B,EACLxjB,QAAS,KACPykB,CAAAA,EAAAA,GAAAA,CAAAA,EAAwB,CAACC,YAAa,QAASC,aAAcnB,EAAUZ,OAAO,EAAIzyB,KAAAA,CAAS,EAC7F,CACF,GAGFy0B,EAAU1lB,IAAI,CAAC,CACbglB,MAAOI,EAAME,OAAO,CAAC5rB,GAAG,CAACisB,GAAU,EAAC,GAAGA,CAAK,CAAErC,eAAgB,EAAI,IAClExiB,QAAS,CAAC/Q,EAAyEuQ,KACjF,GAAI,CAACA,GAAQvQ,EAAM8zB,gBAAgB,CAAE,OACrC,IAAM9nB,EAAOqpB,EAAMpF,IAAI,GAAKsB,GAAoBhhB,EAAKvE,IAAI,CAAG,KAC5D3I,EAAgBnC,KAAAA,EAAWqP,EAAK9Q,KAAK,CAAE,CAACsQ,EAAG/D,EAAM,GAAGuE,EAAK7P,YAAY,EAAGX,EAAmBC,IAC3FA,EAAMsV,cAAc,EACtB,EACAggB,WAAAA,EACArF,KAAMoF,EAAMpF,IAAI,CAChB7nB,MACE,CACE,CAACmpB,GAAkB,CAAE,YACrB,CAACE,GAAc,CAAE,eACjB,CAACD,GAAc,CAAE,QACjB,CAACE,GAAqB,CAAE,OAC1B,CAAC,CAAC2D,EAAMpF,IAAI,CAAC,EAAI,EACrB,GACF,CAoBF,OAjBIiF,GAAWA,EAAQ/yB,MAAM,EAC3BwzB,EAAU1lB,IAAI,CAAC,CACb7H,MAAO,WACP6sB,MAAOC,EACPnkB,QAAS,CAAC/Q,EAAyEuQ,KAC5EA,IAAQvQ,EAAM8zB,gBAAgB,GAC/BvjB,EAAKgjB,cAAc,CACrBlwB,EAAgBnC,KAAAA,EAAW,CAAC,CAAC,EAAEqP,EAAK9Q,KAAK,CAAC,CAAC,CAAE,CAACiN,EAAG,IAAI,EAAG3M,EAAmBC,IAE3Ew1B,CAAAA,EAAAA,GAAAA,CAAAA,EAAwB,CAACC,YAAallB,EAAK9Q,KAAK,GAElDO,EAAMsV,cAAc,GACtB,EACA2a,KAAM,QACR,GAIA,uB,UACG0F,EAAUxzB,MAAM,CAAG,GAAK,UAACsJ,EAAAA,CAAUA,CAACuO,OAAO,EAAC7R,GAAI,CAACiC,GAAI,EAAGyrB,GAAI,EAAGvtB,QAAS,CAAC,OAAQ,OAAQ,QAAQ,C,GACjGqtB,EAAUhsB,GAAG,CAAC,CAAC0rB,EAAOS,EAAOC,IAC5B,WAACtqB,EAAAA,CAAUA,CAACoO,KAAK,E,UACf,UAACpO,EAAAA,CAAUA,CAACqO,YAAY,EAACzQ,GAAG,K,SAAMgsB,EAAMjtB,KAAK,GAC5CitB,EAAMJ,KAAK,CAACtrB,GAAG,CAAC,CAAC4G,EAAMylB,IACtB,UAACnD,GAAWA,CACVtiB,KAAMA,EAENuiB,UAAW4B,IAAcR,IAAkBU,IAAiBkB,GAASE,IAAAA,EACrEpF,SAAUhvB,IACRizB,EAAaX,GAAgB4B,GAC7BT,EAAMtkB,OAAO,GAAGnP,EAAG2O,GACnB3O,EAAE0T,cAAc,GAChB1T,EAAEgV,eAAe,EACnB,EACAxV,KAAMozB,EAAYtzB,KAAAA,EAAWqP,EAAK9Q,KAAK,CAAE,CACvC,GAAG8Q,EAAK7P,YAAY,CACpBqP,EAAG,KACHrD,EAAG,IACL,GACAujB,KAAMoF,EAAMpF,IAAI,CAChB8C,cAAeA,EACfC,OAAQA,C,EAfH,CAAC,EAAEgD,EAAS,CAAC,GAmBrBX,EAAMC,UAAU,EACf,WAAC7pB,EAAAA,CAAUA,CAAC+iB,QAAQ,EAClBnlB,GAAG,SACHilB,SAAU,EACVvd,QAAS,IACPskB,EAAMC,UAAU,EAAEvkB,UAIlBnP,EAAE0T,cAAc,GAChB1T,EAAEgV,eAAe,EACnB,EACAzO,GAAI,CACFoB,WAAY,SACZJ,OF3JuB,GE4JvBsD,SAAU,EACVyE,UAAW,OAEX,eAAgB,CACd5I,QAAS,MACX,CACF,EACAqqB,IAAK0C,EAAMC,UAAU,CAAC3C,GAAG,C,UAEzB,UAAClnB,EAAAA,CAAUA,CAAC4O,aAAa,EAAClS,GAAI,CAACiC,GAAI,EAAGxB,MAAO,UAAU,E,SACrD,UAACyqB,EAAAA,cAAcA,CAAAA,CAAAA,E,GAEjB,UAACprB,EAAgBA,CAACG,MAAOitB,EAAMC,UAAU,CAACxoB,IAAI,CAAE5E,KAAK,QAAQC,GAAI,CAACyE,SAAU,MAAM,E,SAC/EyoB,EAAMC,UAAU,CAACxoB,IAAI,G,GAK3BgpB,IAAUC,EAAI5zB,MAAM,CAAG,GACtB,UAACsJ,EAAAA,CAAUA,CAACuO,OAAO,EAAyC7R,GAAI,CAACiC,GAAI,EAAGyrB,GAAI,CAAC,C,EAApD,CAAC,EAAER,EAAMjtB,KAAK,CAAC,CAAC,EAAE0tB,EAAM,QAAQ,CAAC,E,EA1DvC,CAAC,EAAET,EAAMjtB,KAAK,CAAC,CAAC,EAAE0tB,EAAM,CAAC,G,EAgExD,CA6CA,OAAe/xB,EAAAA,IAAU,CAACowB,IAE1B,GAAG,CAAEA,GAAatwB,WAAW,EAAxBswB,CAAAA,GAAatwB,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CElP1D,SAASoyB,GAAU,CACjB7B,OAAAA,CAAM,CACNrB,cAAAA,CAAa,CACblD,aAAAA,CAAY,CACZE,YAAAA,CAAW,CACXsE,WAAAA,CAAU,CACVC,YAAAA,CAAW,CACXrF,UAAAA,CAAS,CACTW,kBAAAA,CAAiB,CACF,EACf,MACE,UAACvnB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoC,SAAU,EACVG,WAAY,SACZpC,QAAS,OACTmC,cAAe,QACjB,E,SAEA,UAAC4C,MAAAA,CAAIG,cAAY,kB,SACf,WAAC/B,EAAAA,CAAUA,CAAAA,CAACyqB,kBAAgB,uBAAuB1oB,cAAa,gB,UAC9D,UAACmiB,GAASA,CACRC,kBAAmBA,EACnBE,SAAU,GACVD,aAAcA,EACdE,YAAaA,C,GAEf,UAACoG,GAAYA,CACX/B,OAAQA,EACRC,WAAYA,EACZtB,cAAeA,EACf9D,UAAWA,EACXqF,YAAaA,C,GAEf,UAAC7oB,EAAAA,CAAUA,CAACuO,OAAO,EAAC7R,GAAI,CAACiC,GAAI,EAAGyrB,GAAI,CAAC,C,GACrC,UAACtH,GAAcA,CAAAA,G,MAKzB,CAEO,SAAS6H,GAAW,CACzBvG,aAAAA,CAAY,CACZE,YAAAA,CAAW,CACXd,UAAAA,CAAS,CACTW,kBAAAA,CAAiB,CACjBwE,OAAAA,CAAM,CACNC,WAAAA,CAAU,CACVC,YAAAA,CAAW,CASZ,EACC,MACE,WAAC+B,GAAAA,CAAUA,CAACC,IAAI,EACdJ,kBAAgB,uBAChB3vB,SAAS,QACTgwB,QAAQ,OACRrtB,MAAM,SACNstB,UAAS,GACTC,gBAAgB,uBAChBC,OAAQ,GACRC,OAAQ,CAACC,OAAQ,GAAMC,QAAS,GAAOC,KAAM,EAAK,E,UAElD,UAAC5sB,EAAAA,CAAIA,CAAAA,CAACb,GAAG,KAAK1E,GAAG,uBAAuBwD,GAAI,CAACuC,WAAY,WAAYiC,GAAI,EAAGsN,GAAI,EAAG8c,GAAI,EAAGxsB,SAAU,CAAC,E,SAAG,W,GAGxG,UAAClC,EAAAA,CAAGA,CAAAA,CAACmF,cAAY,cAAcrF,GAAI,CAAC8R,GAAI,EAAGtN,GAAI,EAAGrE,QAAS,OAAQmC,cAAe,QAAQ,E,SACxF,UAACpC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,CAAC,E,SACf,UAAC8hB,GAAAA,CACC7B,OAAQA,EACRE,YAAaA,EACbvB,cAAesB,SAAAA,EACfxE,aAAcA,EACdwE,WAAYA,EACZtE,YAAaA,EACbd,UAAWA,EACXW,kBAAmBA,C,SAM/B,CAUA,SAASoH,GAAgB,CAAC5C,OAAAA,CAAM,CAAErB,cAAAA,CAAa,CAAEsB,WAAAA,CAAU,CAAEC,YAAAA,CAAW,CAAErF,UAAAA,CAAS,CAAiB,EAClG,MACE,UAAC5mB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoC,SAAU,EACVG,WAAY,SACZpC,QAAS,OACTmC,cAAe,QACjB,E,SAEA,UAAC4C,MAAAA,CAAIG,cAAY,iB,SACf,UAAC/B,EAAAA,CAAUA,CAAAA,CAACyqB,kBAAgB,uBAAuB1oB,cAAa,uB,SAC9D,UAAC2oB,GAAYA,CACX/B,OAAQA,EACRC,WAAYA,EACZtB,cAAeA,EACf9D,UAAWA,EACXqF,YAAaA,EACbtB,OAAM,E,QAMlB,CAEO,SAASiE,GAAoB,CAClCpH,aAAAA,CAAY,CACZE,YAAAA,CAAW,CACXd,UAAAA,CAAS,CACTW,kBAAAA,CAAiB,CACjBwE,OAAAA,CAAM,CACNC,WAAAA,CAAU,CACVC,YAAAA,CAAW,CASZ,EACC,MACE,UAACjsB,EAAAA,CAAGA,CAAAA,CAACmF,cAAY,cAAcrF,GAAI,CAACG,QAAS,OAAQmC,cAAe,QAAQ,E,SAC1E,UAACpC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,CAAC,E,SACf,UAAC6iB,GAAAA,CACC5C,OAAQA,EACRE,YAAaA,EACbvB,cAAesB,SAAAA,EACfxE,aAAcA,EACdwE,WAAYA,EACZtE,YAAaA,EACbd,UAAWA,EACXW,kBAAmBA,C,MAK7B,CAEA,GAAG,CAAEqG,GAAUpyB,WAAW,EAArBoyB,CAAAA,GAAUpyB,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CACpD,GAAG,CAAEuyB,GAAWvyB,WAAW,EAAtBuyB,CAAAA,GAAWvyB,WAAW,CAAK,YAAW,CAAE,CAAE,KAAM,CAAC,CACtD,GAAG,CAAEmzB,GAAgBnzB,WAAW,EAA3BmzB,CAAAA,GAAgBnzB,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEozB,GAAoBpzB,WAAW,EAA/BozB,CAAAA,GAAoBpzB,WAAW,CAAK,qBAAoB,CAAE,CAAE,KAAM,CAAC,C,gBC5KzD,SAAS2G,GAAO,CAC7B0sB,WAAAA,CAAU,CACVnH,YAAAA,CAAW,CACXH,kBAAAA,CAAiB,CAKlB,EACC,IAAI/Q,EAA+B,CAAC,uCAAuC,EAAEqY,EAAWzG,kBAAkB,CAAC,CAAC,CAE5G,GAAI,CAACb,EAAmB,KAKlBuH,EAJJ,IAAMC,EAAcrH,EAAYtvB,MAAM,CAACwvB,GAAQA,EAAKjkB,IAAI,GAAKkrB,EAAWlrB,IAAI,EAAIikB,EAAKO,KAAK,EAAIP,EAAKO,KAAK,CAAG,GAM3G,OALA4G,EAAYvF,IAAI,CAAC,SAAUvZ,CAAC,CAAE+e,CAAC,EAC7B,MAAO,CAACA,EAAE7G,KAAK,EAAI,GAAMlY,CAAAA,EAAEkY,KAAK,EAAI,EACtC,GAGQ4G,EAAYj1B,MAAM,EACxB,KAAK,EACHg1B,EAAc,KACd,KACF,MAAK,EACHA,EACE,sB,SACE,UAACG,GAAAA,CAA2CrH,KAAMmH,CAAW,CAAC,EAAE,EAA1CA,CAAW,CAAC,EAAE,CAAEprB,IAAI,C,GAG9C,KACF,SACEmrB,EACE,uB,UACE,UAACG,GAAAA,CAA2CrH,KAAMmH,CAAW,CAAC,EAAE,EAA1CA,CAAW,CAAC,EAAE,CAAEprB,IAAI,EAA2B,OAAK,IAC1E,UAACsrB,GAAAA,CAA2CrH,KAAMmH,CAAW,CAAC,EAAE,EAA1CA,CAAW,CAAC,EAAE,CAAEprB,IAAI,E,EAWlD,CAGE6S,EADEsY,EAEA,uB,UAAE,oBAAkBA,EAAY,4E,GAGpB,sB,SAAE,sC,EAEpB,CAEA,MACE,UAAC9uB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACTmC,cAAe,CAAC,SAAU,SAAU,SAAU,MAAM,CACpDlB,WAAY,QACd,E,SAEA,WAAClB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACqB,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,CAAEutB,GAAI,CAAC,E,UAC/B,WAACQ,GAAAA,CAAOA,CAAAA,CACNluB,GAAG,KACHlB,GAAI,CACFoC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CACzB2G,UAAW,CAAC,SAAU,SAAU,SAAU,SAAU,OAAO,E,UAE9D,iCACgCgmB,EAAWzG,kBAAkB,C,GAE9D,UAACvmB,EAAAA,CAAIA,CAAAA,CACHb,GAAG,IACHlB,GAAI,CACFqB,GAAI,EACJlB,QAAS,QACTiC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CACzB3B,MAAO,WACPsI,UAAW,CAAC,SAAU,SAAU,SAAU,SAAU,OAAO,E,SAG5D2N,C,OAKX,CAEA,SAASyY,GAAgB,CAACrH,KAAAA,CAAI,CAA0B,EACtD,GAAM,CAACuH,EAAgB1G,EAAqB,CAAG1B,GAAkB9uB,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CACtFwL,EAAG,KACHwV,KAAM+N,EAAKjkB,IAAI,CACf+D,EAAG,KACH+C,EAAG,KACHie,EAAG,IACL,GACI0G,EAAWxH,IAAAA,EAAKO,KAAK,CAASP,EAAKyH,YAAY,CAAGzH,EAAKQ,kBAAkB,CAM7E,MAJiB,SAAbgH,GACFA,CAAAA,EAAWxH,IAAAA,EAAKO,KAAK,CAAS,cAAgB,cAAa,EAI3D,WAACtkB,EAAAA,CAAIA,CAAAA,CAAC6E,QAAS,GAA6B+f,EAAqBlvB,GAAIR,KAAMo2B,E,UACxEnW,GAAa4O,EAAKO,KAAK,EAAI,GAAG,IAAEiH,EAASvR,WAAW,G,EAG3D,CAEA,GAAG,CAAE1b,GAAO3G,WAAW,EAAlB2G,CAAAA,GAAO3G,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAEyzB,GAAgBzzB,WAAW,EAA3ByzB,CAAAA,GAAgBzzB,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CClHjD,SAASuF,GAAO,CAAC8tB,WAAAA,CAAU,CAA2B,EACnE,GAAM,CAACt3B,OAAAA,CAAM,CAAC,CAAGY,CAAAA,EAAAA,EAAAA,EAAAA,IACXf,EAAQ,IAAIqC,gBAAgBlC,GAAQmC,GAAG,CAAC,KACxCX,EAAOqD,CAAAA,EAAAA,EAAAA,EAAAA,EAAgBkzB,EAAAA,EAAkBA,CAAEz2B,KAAAA,EAAW,CAACC,EAAG1B,CAAK,SAErE,SAAIy3B,EAAWlrB,IAAI,CACV,KAIP,WAAC9B,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACqB,GAAI,EAAG0H,UAAW,CAAC,SAAU,SAAU,SAAU,OAAO,CAAEhI,MAAO,OAAQZ,QAAS,QAASiC,SAAU,CAAC,E,UAAG,mBACjG,IACjB,UAAC2B,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAC1P,KAAMA,E,SAAM,iB,GAElB,I,EAIb,CAEA,GAAG,CAAEgI,GAAOvF,WAAW,EAAlBuF,CAAAA,GAAOvF,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,C,4BCnB/B,SAAS+zB,GAAK,CAACC,KAAAA,CAAI,CAA6B,EAC7D,MACE,UAACxvB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACT0I,eAAgB,CAAC,SAAU,SAAU,SAAU,aAAa,CAC5DxH,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,E,SAGrB,UAACnB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFqB,GAAI,EACJN,MAAO,MACT,E,SAEC2uB,EAAKluB,GAAG,CAAC,CAACmuB,EAAGhC,IAEV,UAACiC,GAAAA,CAAQ/rB,KAAM8rB,EAAE9rB,IAAI,CAAegsB,YAAalC,IAAAA,EAAamC,WAAYnC,EAAQ,IAAM+B,EAAK11B,MAAM,C,SAChG21B,EAAEI,OAAO,EADgBJ,EAAE9rB,IAAI,E,IAQ9C,CASA,SAAS+rB,GAAQ,CAACh1B,SAAAA,CAAQ,CAAEiJ,KAAAA,CAAI,CAAEisB,WAAAA,CAAU,CAAED,YAAAA,EAAc,EAAK,CAAe,EAC9E,GAAM,CAACG,gBAAAA,CAAe,CAAEl3B,KAAAA,CAAI,CAAC,CAAGm3B,CAAAA,EAAAA,GAAAA,CAAAA,EAAW,CAACC,oBAAqB,EAAK,GAChE,CAAClQ,SAAAA,CAAQ,CAAEwK,IAAAA,CAAG,CAAE,GAAG2F,EAAa,CAAGH,IAEzC,MACE,WAACI,GAAAA,CAAOA,CAAAA,CACL,GAAGD,CAAY,CAChB3F,IAAKA,EACL1xB,KAAM+2B,EACN7P,SAAUA,EACVhgB,GAAI,CACF,uBAAwB,CACtB2L,oBAAqB,EACrBC,qBAAsB,CACxB,EACA,sBAAuB,CACrBE,uBAAwBgkB,GAAch3B,EAAO,EAAI,EACjD+S,wBAAyBikB,GAAch3B,EAAO,EAAI,EAClD+T,kBAAmB,CACrB,CACF,E,UAEA,WAAC3M,EAAAA,CAAGA,CAAAA,CACFgB,GAAG,UACHlB,GAAI,CACFuI,GAAI,EACJ8c,WAAY,OACZ7gB,GAAI,EACJxD,OAAQlI,EAAO,GAAK,GACpBqJ,UAAW,OACXrB,YAAa,iBACbD,YAAa,EACbgM,kBAAmB/T,EAAO,EAAI,EAC9B8H,YAAa,QACb+N,OAAQ,UACRxO,QAAS,OACTiB,WAAY,SACZ,SAAU,CACRV,GAAI,cACN,EACA,WAAY,CACVP,QAAS,MACX,EACA,2BAA4B,CAC1BA,QAAS,MACX,CACF,E,UAEA,UAAC4B,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAGG,WAAY,WAAYyJ,KAAM,CAAC,E,SAAInI,C,GAC1D/K,EAAO,UAACu3B,EAAAA,aAAaA,CAAAA,CAAC3nB,KAAM,E,GAAS,UAAC6E,EAAAA,eAAeA,CAAAA,CAAC7E,KAAM,E,MAE9D5P,GACC,UAACoH,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFc,YAAa,iBACbF,YAAa,QACbkM,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClBlB,uBAAwBgkB,GAAch3B,EAAO,EAAI,EACjD+S,wBAAyBikB,GAAch3B,EAAO,EAAI,EAClD+T,kBAAmBijB,GAAch3B,EAAO,EAAI,EAC5CyL,EAAG,EACHnC,SAAU,CACZ,E,SAECxH,C,KAKX,CAEA,GAAG,CAAE60B,GAAK/zB,WAAW,EAAhB+zB,CAAAA,GAAK/zB,WAAW,CAAK,MAAK,CAAE,CAAE,KAAM,CAAC,CAC1C,GAAG,CAAEk0B,GAAQl0B,WAAW,EAAnBk0B,CAAAA,GAAQl0B,WAAW,CAAK,SAAQ,CAAE,CAAE,KAAM,CAAC,CC1GjC,SAAS40B,GAAgB,CAACZ,KAAAA,CAAI,CAA+B,EAC1E,MACE,UAACxvB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACTmF,oBAAqB,CAAC,OAAQ,OAAQ,aAAa,E,SAGpDoqB,EAAKluB,GAAG,CAAC,CAAC+a,EAAGoR,KACZ,IAAM4C,EAAQ5C,EAAQ,IAAM+B,EAAK11B,MAAM,CACvC,MACE,WAAC4B,EAAAA,QAAc,E,UACb,UAACsE,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACF4uB,GAAI,CAAC,EAAG,EAAG,EAAE,CACb5tB,OAAQ,CAAC,OAAQ,OAAQ,GAAG,CAC5Bb,QAAS,OACTiB,WAAY,SACZ0Q,GAAI6b,IAAAA,EAAc,EAAI,CACxB,E,SAEA,UAAC5rB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAGG,WAAY,UAAU,E,SAAIga,EAAE1Y,IAAI,E,GAE1D,UAAC3D,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFwwB,kBAAmB,gBACnB3jB,kBAAmB,CAAC,EAAG,EAAG0jB,EAAQ,EAAI,EAAE,CACxCE,kBAAmB,QACnB7B,GAAI,CAAC,EAAG,EAAG,EAAE,CACblrB,GAAI,CAAC,EAAG,EAAG,EAAE,CACboO,GAAI,CAAC,EAAG,EAAG6b,IAAAA,EAAc,EAAI,EAAE,CAC/BxtB,QAAS,OACTiB,WAAY,QACd,E,SAEA,UAACW,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAG4M,WAAY,OAAQyK,WAAY,CAAC,E,SAAI8C,EAAExgB,KAAK,E,KAxBnDwgB,EAAE1Y,IAAI,CA4B/B,E,EAGN,CAEA,GAAG,CAAEysB,GAAgB50B,WAAW,EAA3B40B,CAAAA,GAAgB50B,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CC3CjD,SAASg1B,GAAU,CAChC3B,WAAAA,CAAU,CACVnH,YAAAA,CAAW,CACXH,kBAAAA,CAAiB,CAKlB,EACC,MACE,WAACvnB,EAAAA,CAAGA,CAAAA,CACFywB,WAAQ,GACR3wB,GAAI,CACFe,MAAO,OACPiL,KAAM,EACN7L,QAAS,OACTmF,oBAAqB,CAAC,MAAO,MAAO,MAAO,MAAO,WAAW,CAC7DsrB,QAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CACxBllB,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAG,CACpBD,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CACnB7K,YAAa,QACbC,YAAa,CAAC,EAAG,EAAG,EAAG,EAAE,CACzBF,aAAc,EACdG,YAAa,iBACbyH,GAAI,CAAC,EAAG,EAAG,EAAG,GAAI,GAAG,E,UAGvB,UAACrI,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACT0I,eAAgB,SAChBzH,WAAY,YACd,E,SAEA,UAAClB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,MACX,E,SAEA,UAACD,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFyE,SAAU,CAAC,IAAK,IAAK,IAAK,IAAK,IAAI,CACnC1D,MAAO,OACP6tB,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,E,SAGrB,UAAC9lB,GAAeA,CAAAA,E,OAItB,WAAC5I,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFyE,SAAU,CAAC,OAAQ,OAAQ,OAAQ,IAAI,CACvCH,SAAU,CAAC,OAAQ,OAAQ,OAAQ,IAAI,CACvCrC,GAAI,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,EAAE,E,UAGzC,UAACI,GAAMA,CAAC0sB,WAAYA,EAAYnH,YAAaA,EAAaH,kBAAmBA,C,GAC7E,UAACgI,GAAIA,CAACC,KAAMmB,SCvDS,CAAC9B,WAAAA,CAAU,CAA2B,EACjE,MAAO+B,CAKL,CACEjtB,KAAM,6BACNof,KAAM,CACJ,OACA,aACA,SACA,eACA,UACA,cACA,mBACA,cACA,SACA,QACA,QACD,CACD8M,QACE,uB,UACE,UAACO,GAAeA,CACdZ,KAAM,CACJ,CACE7rB,KAAM,uBACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,kB,EAIlD,EACA,CACEoD,KAAM,kBACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,mBAC5B,UAACsB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,SAAS,E,SAAG,I,GAAS,IAAC,UAACsB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,e,EAI1G,EACD,GAEH,WAACP,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFqB,GAAI,EACJe,SAAU,EACV3B,MAAO,UACT,E,UACD,yIAEuC,IACtC,UAACsD,EAAAA,CAAIA,CAAAA,CACH4E,OAAM,GACN1P,KAAK,mG,SACN,c,GAEM,I,KAKf,EACA,CACE4K,KAAM,gCACNof,KAAM,CACJ,OACA,aACA,eACA,SACA,eACA,UACA,cACA,mBACA,cACA,SACA,QACA,QACD,CACD8M,QACE,uB,UACE,UAACO,GAAeA,CACdZ,KAAM,CACJ,CACE7rB,KAAM,0BACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,M,GAAW,Q,EAIjD,EACA,CACEoD,KAAM,eACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,O,EAIlD,EACD,GAEH,WAACP,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFqB,GAAI,EACJe,SAAU,EACV3B,MAAO,UACT,E,UACD,yIAEuC,IACtC,UAACsD,EAAAA,CAAIA,CAAAA,CACH4E,OAAM,GACN1P,KAAK,mG,SACN,c,GAEM,I,KAKf,EACA,CACE4K,KAAM,mCACNof,KAAM,CAAC,OAAQ,aAAa,CAC5B8M,QACE,uB,UACE,UAACO,GAAeA,CACdZ,KAAM,CACJ,CACE7rB,KAAM,wBACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,Q,EAIlD,EACA,CACEoD,KAAM,mCACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,QACvC,UAACsB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,SAAS,E,SAAG,I,GAAS,IAAC,UAACsB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,O,EAG/F,EACD,GAEH,WAACP,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFqB,GAAI,EACJe,SAAU,EACV3B,MAAO,UACT,E,UACD,8IAE4C,IAC3C,UAACsD,EAAAA,CAAIA,CAAAA,CACH4E,OAAM,GACN1P,KAAK,mG,SACN,c,GAEM,I,KAKf,EACA,CACE4K,KAAM,4BACNof,KAAM,CAAC,OAAO,CACd8M,QACE,uB,UACE,WAAChuB,EAAAA,CAAIA,CAAAA,CACHb,GAAG,IACHlB,GAAI,CACFoC,SAAU,CACZ,E,UACD,8GAC6G,IAC5G,UAACL,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,sC,GAA4C,I,GAE9E,UAACR,EAAAA,CAAIA,CAAAA,CAACb,GAAG,IAAIlB,GAAI,CAACG,QAAS,OAAO,E,SAAG,qI,GAIrC,UAACoE,IAAAA,C,SAAE,mE,GACH,UAACrE,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,IAAIlB,GAAI,CAACyL,GAAI,CAAC,E,SACpB,WAACslB,KAAAA,C,UACC,UAACC,KAAAA,C,SAAG,yC,GACJ,UAACA,KAAAA,C,SAAG,iD,GACJ,UAACA,KAAAA,C,SAAG,sC,GACJ,UAACA,KAAAA,C,SAAG,4C,QAIR,WAACjvB,EAAAA,CAAIA,CAAAA,CACHb,GAAG,IACHlB,GAAI,CACFoC,SAAU,EACV3B,MAAO,UACT,E,UACD,gKAEoD,IACnD,UAACsD,EAAAA,CAAIA,CAAAA,CACH4E,OAAM,GACN1P,KAAK,IACL2P,QAAS,IACPlO,IACAjB,EAAE0T,cAAc,GAGhB1T,EAAEgV,eAAe,EACnB,E,SACD,uB,GAEM,I,KAKf,EACA,CACE5K,KAAM,4BACNof,KAAM,CAAC,aAAa,CACpB8M,QACE,uB,UACE,UAAChuB,EAAAA,CAAIA,CAAAA,CACHb,GAAG,IACHlB,GAAI,CACFoC,SAAU,CACZ,E,SACD,0E,GAGD,UAAClC,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,IAAIlB,GAAI,CAACyL,GAAI,CAAC,E,SACpB,WAACslB,KAAAA,C,UACC,UAACC,KAAAA,C,SAAG,iD,GACJ,UAACA,KAAAA,C,SAAG,4C,UAKd,EACA,CACEntB,KAAM,sBACNof,KAAM,CAAC,OAAQ,aAAa,CAC5B8M,QACE,uB,UACE,UAACO,GAAeA,CACdZ,KAAM,CACJ,CACE7rB,KAAM,4BACN9H,MAAO,iBACT,EACA,CACE8H,KAAM,8BACN9H,MAAO,YACT,EACA,CACE8H,KAAM,uBACN9H,MACE,uB,UACE,UAACgG,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAW,E,SAAG,O,GAAY,wC,EAIlD,EACD,GAEH,WAACP,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFqB,GAAI,EACJe,SAAU,EACV3B,MAAO,UACT,E,UACD,0FAC8F,IAC7F,UAACsD,EAAAA,CAAIA,CAAAA,CACH4E,OAAM,GACN1P,KAAK,mG,SACN,c,GAEM,I,KAKf,EACA,CACE4K,KAAM,iBACNof,KAAM,CACJ,OACA,aACA,eACA,SACA,eACA,UACA,cACA,mBACA,cACA,SACA,QACA,QACD,CACD8M,QACE,mJACJ,EACD,CAzTiBz3B,MAAM,CAACq3B,GAAKA,EAAE1M,IAAI,CAACpZ,QAAQ,CAACklB,EAAWlrB,IAAI,EAC/D,EDqDiC,CAACkrB,WAAAA,CAAU,E,GACpC,UAAC7uB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC8R,GAAI,EAAG8c,GAAI,CAAC,EAAG,EAAG,EAAE,E,SAC5B,UAAC3tB,GAAMA,CAAC8tB,WAAYA,C,UAK9B,CAEA,GAAG,CAAE2B,GAAUh1B,WAAW,EAArBg1B,CAAAA,GAAUh1B,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,CEtErC,SAASu1B,GAAY,CAACC,MAAAA,CAAK,CAAEvD,MAAAA,CAAK,CAAqC,EACpF,GAAM,CAACl2B,OAAAA,CAAM,CAAC,CAAGY,CAAAA,EAAAA,EAAAA,EAAAA,IAEXf,EAAQ65B,IADcx3B,gBAAgBlC,GACdmC,GAAG,CAAC,KAE5BwJ,EAAU,EAAO2W,IAAI,EAAImX,IAAAA,EAAMnX,IAAI,CAAoC,UAAX,SAElE,MACE,WAAC7M,EAAAA,CAAKA,CAAAA,CACJlN,GAAI,CACFW,aAAc,EACdE,YAAa,EACbD,YAAa,QACbE,YAAa,eACf,EAEAsC,QAASA,EACT5G,GAAG,6B,UAEH,UAACgM,EAAAA,CAAOA,CAAAA,CAACvF,KAAMmuB,EAAAA,SAASA,GACvBF,EAAMG,OAAO,CACd,UAACC,GAAAA,CAAmBh6B,MAAOA,EAAOi6B,OAAQL,EAAMK,MAAM,GACtD,UAACC,GAAAA,CAAoBC,WAAYP,EAAMO,UAAU,G,EAP5C9D,EAUX,CAEA,SAAS2D,GAAmB,CAACh6B,MAAAA,CAAK,CAAEi6B,OAAAA,CAAM,CAAgD,EAwCxF,MAvC2Bl2B,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KACjC,IAAMq2B,EAAgC,EAAE,CACxC,GAAIH,GAAUj6B,EAAO,CACnB,IAAI8lB,EAAS,EACb,IAAK,IAAMuU,KAASJ,EAAQ,CAC1B,IAAMK,EAAQD,EAAMC,KAAK,EAAI,EACvBC,EAAMF,EAAME,GAAG,EAAI,EAGnB1iB,EAAQ7X,EAAM6S,KAAK,CAACiT,EAAQwU,EAC9BziB,CAAAA,EAAMnV,MAAM,CAAG,GAAG03B,EAAe5pB,IAAI,CAAC,UAAC1D,OAAAA,C,SAAkC+K,C,EAAxB,CAAC,WAAW,EAAEA,EAAM,CAAC,GAC1EiO,EAASwU,EAGT,IAAME,EAAOx6B,EAAM6S,KAAK,CAACwnB,EAAMC,KAAK,CAAEC,EAClCC,CAAAA,EAAK93B,MAAM,CAAG,GAChB03B,EAAe5pB,IAAI,CACjB,UAAC/F,EAAAA,CAAIA,CAAAA,CAA8B/B,GAAI,CAAC0Z,eAAgB,sBAAsB,E,SAC3EoY,C,EADQ,CAAC,aAAa,EAAEA,EAAK,CAAC,GAIrC1U,EAASyU,CACX,CAGA,IAAME,EAASz6B,EAAM6S,KAAK,CAACiT,GAG3B,GAFI2U,EAAO/3B,MAAM,CAAG,GAAG03B,EAAe5pB,IAAI,CAAC,UAAC1D,OAAAA,C,SAA6B2tB,C,EAAnB,CAAC,KAAK,EAAEA,EAAO,CAAC,GAElEL,EAAe13B,MAAM,CAAG,EAC1B,MACE,UAACkG,EAAAA,CAAGA,CAAAA,CAACyC,UAAU,iBAAiB3C,GAAI,CAACgP,WAAY,OAAQ3N,GAAI,CAAC,E,SAC3DqwB,C,EAIT,CACA,OAAO,IACT,EAAG,CAACH,EAAQj6B,EAAM,CAGpB,CAEA,SAASk6B,GAAoB,CAACC,WAAAA,CAAU,CAAwB,EA8B9D,MA7B4Bp2B,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAClC,GAAIo2B,EAAY,CACd,IAAMn0B,EAAM,CAAC,GAAG,EAAE00B,mBAAmBP,GAAY,CAAC,CAalD,MACE,UAACvxB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACqB,GAAI,CAAC,E,SACb,WAACU,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,CAAC,E,UAAG,cACX,IACZ,UAAC2B,EAAAA,CAAIA,CAAAA,CAACpB,UAAU,iBAAiB1J,KAAMqE,EAAK0C,GAAI,CAACgP,WAAY,MAAM,E,SAChEyiB,C,OAKX,CACA,OAAO,IACT,EAAG,CAACA,EAAW,CAGjB,CAEA,GAAG,CAAER,GAAYv1B,WAAW,EAAvBu1B,CAAAA,GAAYv1B,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CACxD,GAAG,CAAE41B,GAAmB51B,WAAW,EAA9B41B,CAAAA,GAAmB51B,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,CACtE,GAAG,CAAE81B,GAAoB91B,WAAW,EAA/B81B,CAAAA,GAAoB91B,WAAW,CAAK,qBAAoB,CAAE,CAAE,KAAM,CAAC,C,gBCxGxE,IAAMu2B,GAAoB,CAAC,EAAE3H,GAAgB,mBAAmB,CAAC,CAElD,SAAS4H,GAAS,CAACC,UAAAA,CAAS,CAAEC,UAAAA,CAAS,CAA8C,EAClG,GAAM,CAAC36B,OAAAA,CAAM,CAAC,CAAGY,CAAAA,EAAAA,EAAAA,EAAAA,IACX84B,EAAkB,IAAIx3B,gBAAgBlC,GACtC46B,EAAclB,EAAgBv3B,GAAG,CAAC,MAAQ6vB,GAAgBC,IAAI,CAC9D4I,EAAenB,EAAgBv3B,GAAG,CAAC,MAAQ6vB,GAAgBE,KAAK,CAChE4I,EAAoBJ,EAAUjiB,SAAS,CAAC9H,GAAQA,EAAKshB,IAAI,GAAK2I,GAAejqB,EAAKuhB,KAAK,GAAK2I,IAAiB,EAC7GE,EAAYL,CAAS,CAACI,EAAkB,EAAE7Z,OAAS,GACnD,CAAC6T,UAAAA,CAAS,CAAEG,aAAAA,CAAY,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IAE5BG,EAAQqF,EAAU3wB,GAAG,CAAC,CAAC,CAACkX,MAAAA,CAAK,CAAEgR,KAAAA,CAAI,CAAEC,MAAAA,CAAK,CAAC,CAAEgE,IACjD,UAAC8E,GAAAA,CAEC/Z,MAAOA,EACPgR,KAAMA,EACNC,MAAOA,EACP+I,WAAYH,IAAsB5E,EAClCjB,aAAcA,C,EALT,CAAC,EAAEhD,EAAK,CAAC,EAAEC,EAAM,CAAC,UAS3B,EAEI,WAACrmB,EAAAA,CAAUA,CAACoO,KAAK,EAACihB,iBAAiB,SAAS3yB,GAAI,CAACG,QAAS,CAAC,QAAS,QAAS,OAAO,E,UAClF,UAACmD,EAAAA,CAAUA,CAACqO,YAAY,E,SAAC,S,GACxBmb,E,GAML,WAACjqB,EAAAA,CAAUA,CAAAA,C,UACT,WAACA,EAAAA,CAAUA,CAACmG,MAAM,EAChB3D,cAAY,cACZqD,KAAK,QACL1I,GAAI,CAACU,GAAI,QAAQ,EACjB2qB,uBAAsBkB,IAAc0F,IAA2B,K,UAE/D,UAAClwB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,UAAU,E,SAAG,W,GAAgB,IAAE+xB,E,GAGnD,UAAC3vB,EAAAA,CAAUA,CAACQ,OAAO,EAACuvB,MAAM,MAAM7xB,MAAM,Q,SACpC,UAACuC,EAAAA,CAAUA,CAAAA,CAACqvB,iBAAiB,S,SAAU7F,C,OAI/C,CAEA,SAAS2F,GAAa,CACpB/Z,MAAAA,CAAK,CACLgR,KAAAA,CAAI,CACJC,MAAAA,CAAK,CACL+I,WAAAA,CAAU,CACVhG,aAAAA,CAAY,CAOb,EACC,GAAM,EAAGmG,EAAwB,CAAG5L,GAAkB9uB,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CAC3EwL,EAAG,KACHoG,EAAG+e,EACHd,EAAGe,CACL,GAEA,MACE,UAACrmB,EAAAA,CAAUA,CAAC2O,IAAI,EACdwW,SAAU,KACRiE,EAAauF,IACbY,GACF,EACA5J,SAAUyJ,E,SAETha,C,EAGP,CAEA,GAAG,CAAEwZ,GAASx2B,WAAW,EAApBw2B,CAAAA,GAASx2B,WAAW,CAAK,UAAS,CAAE,CAAE,KAAM,CAAC,CAClD,GAAG,CAAE+2B,GAAa/2B,WAAW,EAAxB+2B,CAAAA,GAAa/2B,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,C,gBC1D3C,SAASo3B,GAAU,CAChCC,OAAAA,CAAM,CACNC,YAAAA,CAAW,CACXb,UAAAA,CAAS,CACTxK,SAAAA,CAAQ,CACRsL,sBAAAA,CAAqB,CACrBC,cAAAA,CAAa,CACC,EACd,IAAMC,EAAc93B,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACnB+3B,CAAAA,EAAAA,GAAAA,CAAAA,IACN,EAAE,EAECvK,EAAWvB,KAEX/b,EAAuBC,CAAAA,EAAAA,EAAAA,EAAAA,IAE7B,MACE,WAAC3I,EAAAA,CAAUA,CAAAA,C,UACT,UAACA,EAAAA,CAAUA,CAACC,MAAM,E,SAEhB,UAACC,EAAAA,CAAUA,CAAAA,CACTC,qBAAsB,GACtBC,KAAMC,EAAAA,mBAAmBA,CACzBwF,KAAK,QACLvF,aAAW,sBACXnD,GAAI,CAACS,MAAO,UAAU,C,KAI1B,UAACoC,EAAAA,CAAUA,CAACQ,OAAO,EAACuvB,MAAM,MAAM7xB,MAAOgyB,EAAS,SAAW,Q,SACzD,WAACzvB,EAAAA,CAAUA,CAAAA,C,UACR6uB,GAAaxK,GACZ,uB,UACE,UAACuK,GAAQA,CAACE,UAAW,GAAMD,UAAWA,C,GACrCxK,GAAY,UAACrkB,EAAAA,CAAUA,CAACuO,OAAO,K,GAGpC,WAACvO,EAAAA,CAAUA,CAACoO,KAAK,E,UACdqhB,GAAWZ,GAAaxK,EAAY,UAACrkB,EAAAA,CAAUA,CAACqO,YAAY,E,SAAC,c,GAAyC,KACtGgW,GACC,WAACrkB,EAAAA,CAAUA,CAAC2O,IAAI,EAACwW,SAAUuK,E,UACzB,UAAC1vB,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACmhB,EAAAA,YAAYA,CAAAA,CAAAA,E,GACY,QACrB1L,GAAY,c,GAGtB,WAACrkB,EAAAA,CAAUA,CAAC+iB,QAAQ,EAACptB,KAAK,wC,UACxB,UAACqK,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACohB,EAAAA,QAAQA,CAAAA,CAAAA,E,GACgB,mB,GAG5BzK,GACC,WAACvlB,EAAAA,CAAUA,CAAC+iB,QAAQ,EAClBptB,KAAK,IACL2P,QAAS,IACPlO,IACAjB,EAAE0T,cAAc,GAEhB1T,EAAEgV,eAAe,EACnB,E,UAEA,UAACnL,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACqhB,EAAAA,WAAWA,CAAAA,CAAAA,E,GACa,gB,GAI/B,WAACjwB,EAAAA,CAAUA,CAAC+iB,QAAQ,EAACptB,KAAK,qC,UACxB,UAACqK,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACoU,EAAAA,gBAAgBA,CAAAA,CAAAA,E,GACQ,kB,GAI5B6M,GACC,uB,UACE,UAAC7vB,EAAAA,CAAUA,CAACuO,OAAO,KACnB,WAACvO,EAAAA,CAAUA,CAACoO,KAAK,E,UACf,UAACpO,EAAAA,CAAUA,CAACqO,YAAY,E,SAAC,O,GACzB,WAACrO,EAAAA,CAAUA,CAAC2O,IAAI,EAACwW,SAAU,IAAMwK,I,UAC/B,UAAC3vB,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACshB,EAAAA,UAAUA,CAAAA,CAAAA,E,GACc,c,GAG7B,WAAClwB,EAAAA,CAAUA,CAAC2O,IAAI,EACdwW,SAAU,KACRgL,CAAAA,EAAAA,EAAAA,EAAAA,EAA2B,CAACloB,GAC5B2nB,GACF,E,UAEA,UAAC5vB,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACshB,EAAAA,UAAUA,CAAAA,CAAAA,E,GAEZjoB,EAAuB,OAAS,OAAO,sB,mBAU5D,CAEA,GAAG,CAAEunB,GAAUp3B,WAAW,EAArBo3B,CAAAA,GAAUp3B,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,C,gBChIrC,SAASg4B,GAAmB,CACzChM,aAAAA,CAAY,CACZE,YAAAA,CAAW,CACXH,kBAAAA,CAAiB,CAKlB,EACC,IAAMU,EAAkBP,GAAaQ,KAAKN,GAAQA,EAAKjkB,IAAI,GAAK6jB,IAAiBE,CAAW,CAAC,EAAE,CACzFiB,EAAWvB,KAEjB,MACE,WAACzkB,EAAAA,CAAUA,CAAAA,C,UACT,UAACA,EAAAA,CAAUA,CAACC,MAAM,E,SAChB,WAACkG,EAAAA,CAAMA,CAAAA,CACLN,KAAK,QACLirB,eAAgBpmB,EAAAA,eAAeA,CAC/BlI,cAAY,gBACZlC,aAAW,iBACXnD,GAAI,CAACyC,GAAI,EAAG2B,KAAM,CAACwvB,EAAG,CAAC,CAAC,E,UAEvBjW,GAAsBwK,EAAgBG,kBAAkB,EACzD,UAACpoB,EAAAA,CAAGA,CAAAA,CAACgB,GAAG,OAAOlB,GAAI,CAACyL,GAAI,CAAC,E,SACtBic,SAAAA,GAA4BmB,EAK3B,UAACjC,GAAWA,CACVG,wBAAyBoB,EAAgBnP,IAAI,GAAKO,EAAU4J,UAAU,CACtE0D,aAAcsB,EAAgBE,KAAK,EAAI,EACvCvB,UAAWqB,KAA0BpvB,IAA1BovB,EAAgBE,KAAK,GAPlC,UAACrB,GAAAA,CAAYA,CAAAA,CAAC3hB,cAAY,uBAAuBrF,GAAI,CAACgB,OAAQ,GAAIyY,WAAY,OAAQlR,GAAI,EAAG/D,GAAI,CAAC,E,SAAG,K,UAa7G,UAAC3B,EAAAA,CAAUA,CAACQ,OAAO,EAACtC,MAAM,Q,SACxB,UAACuC,EAAAA,CAAUA,CAAAA,CAACqvB,iBAAiB,SAASttB,cAAY,wB,SAChD,UAACmiB,GAASA,CACRC,kBAAmBA,EACnBC,aAAcA,EACdE,YAAaA,EACbD,SAAU,E,SAMtB,CAEA,GAAG,CAAE+L,GAAmBh4B,WAAW,EAA9Bg4B,CAAAA,GAAmBh4B,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,C,4BCvD/D,IAAMm4B,GAAoB,CAAC,CAACC,UAAAA,CAAS,CAAEC,OAAAA,CAAM,CAA8C,IAChG,GAAM,CAACC,EAAaC,EAAe,CAAGntB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAAMhN,CAAAA,EAAAA,EAAAA,EAAAA,IAA0BC,IAAI,CAAC,MAC9E,CAACm6B,EAAeC,EAAiB,CAAGrtB,CAAAA,EAAAA,EAAAA,QAAAA,EAA6B/N,KAAAA,GACjEq7B,EAAkB,KACtB,IAAMC,EAAmB,EAAE,CAC3B,IAAK,IAAMC,KAAQN,EAAYzqB,KAAK,CAAC,KACnC,GAAI+qB,KAAAA,EAAKC,IAAI,IAEb,GAAID,IAAAA,EAAK/qB,KAAK,CAAC,KAAKvP,MAAM,CAAQ,CAChCm6B,EAAiB,qCACjB,MACF,CACAE,EAAiBvsB,IAAI,CAACwsB,GAGxBE,CAAAA,EAAAA,EAAAA,EAAAA,EAAwBH,GACxBN,IACAD,GACF,EAEA,MACE,UAACW,GAAAA,CAAMA,CAAAA,C,SACL,WAACC,GAAAA,CAAMA,CAAAA,CAACC,QAASb,EAAW7zB,MAAO,cAAec,MAAM,S,UACtD,UAAC2zB,GAAAA,CAAMA,CAACE,IAAI,E,SACV,WAAC10B,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuE,EAAG,CAAC,E,UACZ,WAACH,OAAAA,C,UAAK,uCACgC,UAACywB,OAAAA,C,SAAK,W,GAAgB,wCAAsC,IAChG,UAAC9wB,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAChM,OAAO,SAAS1D,KAAM,CAAC,UAAU,EAAE+4B,mBA7BrC,6DA6B0E,CAAC,C,SAAE,gB,GAEjF,I,GAGT,UAAC8C,GAAAA,CAASA,CAAAA,CACR90B,GAAI,CAACe,MAAO,OAAQ2sB,GAAI,CAAC,EACzBvqB,aAAW,cACXU,KAAK,cACL9H,MAAOi4B,EACPe,SAAUt7B,GAAKw6B,EAAex6B,EAAEkD,MAAM,CAACZ,KAAK,EAC5CwvB,UAAW9xB,IAEK,UAAVA,EAAEiI,GAAG,EACP0yB,GAEJ,C,GAEF,UAAChwB,OAAAA,C,SAAM8vB,C,QAGX,UAACQ,GAAAA,CAAMA,CAACzzB,MAAM,E,SACZ,UAACyzB,GAAAA,CAAMA,CAACM,OAAO,EACbC,QAAS,CACP,CAAClb,KAAM,SAAUnR,QAASkrB,EAAW/D,QAAS,QAAQ,EACtD,CAAChW,KAAM,SAAUnR,QAASwrB,EAAiBrE,QAAS,OAAQmF,WAAY,SAAS,EAClF,E,OAMb,EAEA,GAAG,CAAErB,GAAkBn4B,WAAW,EAA7Bm4B,CAAAA,GAAkBn4B,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CCpC7D,SAASy5B,GAAgB,CAC9BC,QAAAA,CAAO,CACP1N,aAAAA,CAAY,CACZE,YAAAA,CAAW,CACXH,kBAAAA,CAAiB,CACjBX,UAAAA,CAAS,CAOV,EACC,GAAM,CAAC1d,EAAQC,EAAU,CAAGzN,EAAAA,QAAc,CAAC,IACrC,CAACq3B,EAAuBoC,EAAyB,CAAGz5B,EAAAA,QAAc,CAAC,IACnE05B,EAAa15B,EAAAA,WAAiB,CAAC,IAAMyN,EAAU,IAAO,CAACA,EAAU,EACjEksB,EAAc35B,EAAAA,WAAiB,CAAC,IAAMyN,EAAU,IAAQ,CAACA,EAAU,EACnEwf,EAAWvB,KACXpsB,EAAkBjD,IAElBk6B,EAAYqD,SAmSSzb,CAAY,EACvC,OAAQA,GACN,IAAK,aACH,OAAOgQ,EACT,KAAK,UACH,OAAOC,EACT,KAAK,cACH,OAAOE,EACT,KAAK,mBACH,OAAOC,EACT,KAAK,eACH,OAAOL,EACT,KAAK,QACH,OAAOM,EACT,KAAK,QACH,OAAOC,EACT,KAAK,SAEL,IAAK,eADH,OAAOJ,EAGT,SACE,MACJ,CACF,EA1TwCmL,EAAQrb,IAAI,EAC5CgZ,EAASqC,SAAAA,EAAQrb,IAAI,CACrB0b,EAAeL,eAAAA,EAAQrb,IAAI,CAC3B2b,EAAY3C,GAAU0C,EAEtBE,EAAyB,IAC7B,IAAMl8B,EAAI,IAAIe,YAAY,gDAAiD,CAACC,OAAQ5C,EAAM+9B,aAAa,GACvG/8B,OAAO0B,aAAa,CAACd,EACvB,EAIMnC,EAAQ65B,IADcx3B,gBAAgBvB,CAD3BC,EAAAA,EAAAA,EAAAA,IACoCZ,MAAM,EAC7BmC,GAAG,CAAC,MAAQ,GACpCuuB,EAAkBP,GAAaQ,KAAKN,GAAQA,EAAKjkB,IAAI,GAAK6jB,IAAiBE,CAAW,CAAC,EAAE,CACzFrc,EAAuBC,CAAAA,EAAAA,EAAAA,EAAAA,IAEvB,CAAC+gB,UAAAA,CAAS,CAAC,CAAGI,CAAAA,EAAAA,EAAAA,CAAAA,IAWpB,MAVA7xB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KAER,GAAI,CAACgsB,EAAW,CACd,IAAM+O,EAAelvB,SAASmvB,cAAc,CAAC,wBACxCvJ,GAAWwJ,WAAWzL,KACzBuL,GAAcpK,OAElB,CACF,GAGE,UAACvmB,MAAAA,CAAIG,cAAY,oB,SACf,WAACnF,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoB,WAAY,SACZjB,QAAS,OACTmC,cAAe,MACfnB,SAAU,OACV6D,IAAK,CACP,E,UAEC6jB,GAAY,CAACkK,EACZ,UAACiD,GAAAA,CACCvO,kBAAmBA,EACnBwO,oBAAqBb,EAAQc,cAAc,CAC3CtO,YAAaA,EACbO,gBAAiBA,EACjB7wB,MAAOA,C,GAGT,UAAC4I,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,CAAC,E,SACf,UAAC9L,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,QAAS,QAAS,OAAO,E,SAC3C,UAACuzB,GAAkBA,CACjBhM,aAAcS,EAAgBtkB,IAAI,CAClC+jB,YAAaA,EACbH,kBAAmBA,C,OAK1BsL,GAAUxnB,GACT,UAACrG,MAAAA,C,SACE,CAAC,KAAK,EAAEkwB,EAAQh6B,QAAQ,EAAE+6B,WAAW,SAAS,EAAEf,EAAQh6B,QAAQ,EAAEg7B,QAAQ,eAAe,EAAEhB,EAAQh6B,QAAQ,EAAEi7B,cAAc,CAAC,GAGjI,WAACn2B,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACToM,WAAY,CACd,E,UAEC4lB,GACC,UAACjyB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,OAAQ,OAAQ,QAAQ,CAAEsC,GAAI,CAAC,E,SACjD,UAACyvB,GAAQA,CAACE,UAAW,GAAOD,UAAWA,C,KAG1CtJ,GACC,UAAC3oB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,OAAQ,OAAQ,QAAQ,CAAEsC,GAAI,CAAC,E,SACjD,UAACuG,EAAAA,CAAMA,CAAAA,CAACJ,QAAS+sB,EAAwBjtB,KAAK,Q,SAC5C,WAACxI,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACsC,cAAe,MAAOlB,WAAY,QAAQ,E,UAClD,UAACoH,EAAAA,CAAOA,CAAAA,CAACvF,KAAMowB,EAAAA,YAAYA,CAAErzB,GAAI,CAACyC,GAAI,CAAC,C,GAAK,O,OAOpD,WAACvC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,IAACgoB,CAAAA,EAAgBE,KAAK,EAAI,GAAW,OAAS,CAAC,QAAS,QAAS,OAAO,CAAE5lB,GAAI,CAAC,E,UAChG,UAACuG,EAAAA,CAAMA,CAAAA,CAACJ,QAAS0sB,EAAY5sB,KAAK,QAAQrD,cAAY,gBAAgB8a,cAAemW,EAAAA,UAAUA,C,SAAE,Q,GAGhGltB,GACC,UAACsrB,GAAAA,CAAMA,CAAAA,CACLz0B,MAAM,UACNs2B,WAAY,IA0LxB,UAACr2B,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACI,SAAU,QAAQ,E,SAC1B,UAAC0uB,GAAmBA,CAClB7C,OAAQmJ,EAAQnJ,MAAM,CACtBC,WAAYkJ,EAAQrb,IAAI,CACxB+M,UA7L0CA,EA8L1CW,kBA9LqDA,EA+LrDG,YA/LsFA,EAgMtFF,aAhMwEA,EAiMxEyE,YAAaiJ,EAAQ/tB,YAAY,E,GA/LzBstB,QAASY,EACTn3B,SAAU,CAACqwB,OAAQ,SAAUE,KAAM,QAAQ,C,MAIjD,UAACzuB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,QAAS,QAAS,OAAO,E,SAC3C,UAAC2yB,GAASA,CACRX,UAAWA,EACXY,OAAQ2C,EACR1C,YAAa2C,EACb1C,sBAAuB,IAAMoC,EAAyB,IACtDnC,cAAe,IAAMh4B,EAAgB5D,EAAOyB,KAAAA,GAC5C4uB,SAAU,E,KAGbsL,GACC,UAACY,GAAiBA,CAChBC,UAAW,IAAMuB,EAAyB,IAC1CtB,OAAQ,IAAM74B,EAAgB5D,EAAOyB,KAAAA,E,GAIzC,UAACmH,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,OAAQ,OAAQ,QAAQ,E,SAC1C,UAAC2yB,GAASA,CACRC,OAAQ2C,EACRvD,UAAWA,EACXa,YAAa2C,EACb1C,sBAAuB,IAAMoC,EAAyB,IACtDnC,cAAe,IAAMh4B,EAAgB5D,EAAOyB,KAAAA,GAC5C4uB,SAAU,E,YAOxB,CAEA,SAASqO,GAAY,CACnBC,oBAAAA,CAAmB,CACnBrO,YAAAA,CAAW,CACXO,gBAAAA,CAAe,CACfV,kBAAAA,CAAiB,CACjBnwB,MAAAA,CAAK,CAON,EACC,GAAM,CAACi1B,UAAAA,CAAS,CAAC,CAAGI,CAAAA,EAAAA,EAAAA,CAAAA,IACd6J,EAAoBP,GAAuB,IAE3CQ,EAAO1D,SADE5K,EAAgBtkB,IAAI,CACb,OAAS,SACzB6yB,EAAcvO,IAAAA,EAAgBE,KAAK,CAAS,CAAC,CAAC,EAAEoO,EAAK,CAAC,CAAC,CAAG,CAAC,CAAC,EAAEA,EAAK,EAAE,CAAC,CACtEE,EAAkBH,EAAoBzuB,KAAKuR,KAAK,CAAC2c,EAAsB,KAAQA,EAE/EW,EACJ,CAACzO,EAAgBnP,IAAI,GAAKO,EAAUsd,WAAW,CAAG,SAAW,EAAC,EAC7D1O,CAAAA,EAAgBnP,IAAI,GAAKO,EAAU4J,UAAU,CAAG,aAAe,EAAC,EACjE2T,StClLyB/6B,CAAa,CAAEid,EAAO,CAAe,EAChE,OAAOE,GAAand,GAAUid,CAAAA,IAAAA,EAAgC,IAAM,EAAC,CACvE,EsCgLiBmP,EAAgBE,KAAK,EAAI,GACtCqO,EAEF,MACE,sB,SACE,WAAC30B,EAAAA,CAAIA,CAAAA,CACH/B,GAAI,CACFG,QAAS,OACTmC,cAAe,MACflB,WAAY,WACZ4K,KAAM,EACN+qB,OAAQ,EACR30B,SAAU,EACVjB,SAAU,MACZ,E,UAEA,UAACjB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,QAAS,QAAS,OAAO,E,SAC3C,UAACuzB,GAAkBA,CACjBhM,aAAcS,EAAgBtkB,IAAI,CAClC+jB,YAAaA,EACbH,kBAAmBA,C,KAIvB,WAAC1lB,EAAAA,CAAIA,CAAAA,CACH/B,GAAI,CACFuC,WAAY,WACZmJ,GAAI,EACJvL,QAAS,CAAC,OAAQ,OAAQ,OAAO,CACjC0I,eAAgB,SAChB0D,WAAY,EACZnL,WAAY,UACd,E,UAEA,UAAClB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,QAAQ,E,SAAIy2B,C,GAC/B,WAAC70B,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAGG,WAAY,SAAU9B,MAAO,UAAU,E,UAAG,QACxDk2B,EAAgB,IAxCjBH,EAAoB,IAAM,KAwCE,I,MAGvC,UAACQ,KAAAA,CACCx6B,GAAG,uBACHmG,UAAU,UACV0oB,uBAAsBkB,CAAAA,GAAWwJ,WAAWzL,KAAmB,KAC/DnE,SAAU,G,SAETyQ,C,GAEH,UAACK,GAAAA,CAAY3/B,MAAOA,C,OAI5B,CAEA,SAAS2/B,GAAY,CAAC3/B,MAAAA,CAAK,CAAkB,EAC3C,IAAM4D,EAAkBjD,IAClBi/B,EAA4Bh9B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY5C,GAAS,IAGvD,GAAI,CAAC4/B,EAAQt8B,QAAQ,EAAIs8B,IAAAA,EAAQt8B,QAAQ,CAACZ,MAAM,CAC9C,OAAO,KAIT,IAAMm9B,EAAwB,CAAC,MAAO,KAAM,MAAO,QAAQ,CAE3D,GAAI,IADkBD,EAAQt8B,QAAQ,CAACtC,MAAM,CAAC8+B,GAAQD,EAAsBttB,QAAQ,CAACutB,EAAKtP,IAAI,GAAG9tB,MAAM,CAErG,OAAO,KAGT,IAAMq9B,EAAiBH,EAAQt8B,QAAQ,CAACtC,MAAM,CAC5C8+B,GACEA,cAAAA,EAAKtP,IAAI,EAAqBsP,CAAAA,SAAAA,EAAKE,SAAS,EAAeF,QAAAA,EAAKE,SAAS,EAAcF,SAAAA,EAAKE,SAAS,GAKzG,GAAI,CAACD,GAAkBA,IAAAA,EAAer9B,MAAM,EAAUq9B,YAAAA,CAAc,CAAC,EAAE,CAAEtH,OAAO,CAACjI,IAAI,CACnF,OAAO,KAGT,IAAMyP,EAAgBF,CAAc,CAAC,EAAE,CAEjCG,EAAyBD,EAAcn/B,QAAQ,CAACw5B,KAAK,CACrD6F,EAAuB,EAAe1H,OAAO,CAAiB33B,QAAQ,CAACy5B,GAAG,CAEhF,MACE,WAAC9vB,EAAAA,CAAIA,CAAAA,CACH/B,GAAI,CACFoC,SAAU,EACVG,WAAY,SACZ9B,MAAO,WACPN,QAAS,cACTiB,WAAY,SACZqD,SAAU,MACZ,E,UACD,KAEC,UAACizB,GAAAA,CAAKA,CAAAA,CACJx2B,GAAG,IACHwH,KAAK,SACLzP,KAAM,CAAC,CAAC,EAAE,EAAe82B,OAAO,CAAiBh0B,KAAK,CAAC2K,QAAQ,GAAG,CAAC,CACnE/B,KAAM,EAAeorB,OAAO,CAAiBh0B,KAAK,CAAC2K,QAAQ,GAC3DixB,SAAU,KAERz8B,EADA5D,EAAQ,CAACA,EAAMstB,SAAS,CAAC,EAAG4S,GAA0BlgC,EAAMstB,SAAS,CAAC6S,EAAoB,EAAGlD,IAAI,GAC1Ex7B,KAAAA,EACzB,EACAiH,GAAI,CACFmJ,GAAI,CACN,C,KAIR,CAiDA,GAAG,CAAEgsB,GAAgBz5B,WAAW,EAA3By5B,CAAAA,GAAgBz5B,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEs6B,GAAYt6B,WAAW,EAAvBs6B,CAAAA,GAAYt6B,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CACxD,GAAG,CAAEu7B,GAAYv7B,WAAW,EAAvBu7B,CAAAA,GAAYv7B,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CChXzC,SAASk8B,KACtB,MACE,WAAC13B,EAAAA,CAAGA,CAAAA,CAACmF,cAAY,sBAAsBrF,GAAI,CAAC8R,GAAI,CAAC,E,UAC/C,UAAC6U,GAAIA,CACH3mB,GAAI,CACF0D,GAAI,EACJ3C,MAAO,IACPJ,aAAc,EACdK,OAAQ,EACV,C,GAEF,WAACd,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQ6E,IAAK,CAAC,E,UAC/B,UAAC6yB,GAAAA,CAAShM,OAAQ,CAAC,IAAK,IAAI,GAC5B,UAACgM,GAAAA,CAAShM,OAAQ,CAAC,IAAK,IAAI,GAC5B,UAACgM,GAAAA,CAAShM,OAAQ,CAAC,IAAK,IAAI,G,KAIpC,CAEA,SAASgM,GAAS,CAAChM,OAAAA,CAAM,CAA6B,EACpD,MACE,WAAC3mB,MAAAA,C,UACC,WAAChF,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,UAC7C,UAACulB,GAAIA,CAAC5lB,MAAO,GAAIJ,aAAc,EAAGK,OAAQ,E,GAC1C,UAAC2lB,GAAIA,CAAChmB,aAAc,EAAGK,OAAQ,GAAIyD,SAAUonB,CAAM,CAAC,EAAE,CAAE1iB,GAAI,C,MAE9D,UAACwd,GAAIA,CAAChmB,aAAc,EAAGK,OAAQ,IAAKK,GAAI,C,GACxC,UAACnB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQkB,GAAI,CAAC,E,SAC9B,UAACslB,GAAIA,CAAC3lB,OAAQ,GAAIL,aAAc,EAAG8D,SAAUonB,CAAM,CAAC,EAAE,E,KAI9D,CAEA,GAAG,CAAE+L,GAAkBl8B,WAAW,EAA7Bk8B,CAAAA,GAAkBl8B,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CACpE,GAAG,CAAEm8B,GAASn8B,WAAW,EAApBm8B,CAAAA,GAASn8B,WAAW,CAAK,UAAS,CAAE,CAAE,KAAM,CAAC,CCjClD,SAASo8B,GAAc,CAAC7V,MAAAA,CAAK,CAAE8V,YAAAA,CAAW,CAAsC,EAC9E,GAAM,CAACl0B,KAAAA,CAAI,CAAE2M,aAAAA,CAAY,CAAE0J,kBAAAA,CAAiB,CAAE8d,WAAAA,CAAU,CAAEzV,SAAAA,CAAQ,CAAE0V,qBAAAA,CAAoB,CAAE36B,IAAAA,CAAG,CAAE46B,cAAAA,CAAa,CAAC,CAAGjW,EAE1Gva,EAAMswB,EAAa,IAAIG,IAAIH,GAAYxgC,QAAQ,CAACotB,SAAS,CAAC,GAAK,KAE/DwT,EAAU96B,EAAM,IAAI66B,IAAI76B,GAAK+6B,QAAQ,CAACC,OAAO,CAAC,OAAQ,IAAM,KAC5DC,EAAWrW,CAAAA,EAAAA,EAAAA,EAAAA,EAAU,CAACC,UAAW4V,CAAW,GAC5CS,EAAOP,GAAwB1V,EACrC,MACE,sB,SACE,WAACriB,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFU,GAAI,iBACJG,YAAa,EACbD,YAAa,QACbE,YAAa,iBACbH,aAAc,MACdR,QAAS,OACTmC,cAAe,SACfwP,GAAI,EACJ8c,GAAI,CACN,E,UAEA,WAAC1uB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,SAAUsC,GAAI,EAAGzB,GAAI,CAAC,E,UAC1Du2B,GAAQ,UAACvsB,GAAAA,CAAYA,CAAAA,CAAClG,IAAKgyB,EAAa/xB,IAAKwyB,EAAM9vB,KAAM,GAAIwD,OAAM,GAAClM,GAAI,CAACyC,GAAI,CAAC,C,GAC/E,UAACV,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,aAAc8B,WAAY,WAAYH,SAAU,CAAC,E,SAAIoO,GAAgB3M,C,MAEzF,UAAC3D,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACiC,GAAI,CAAC,E,SACb,UAACF,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,UAAU,E,SAAIyZ,C,KAGlC,WAAC5W,EAAAA,CAAUA,CAAAA,C,UACRhG,GACC,WAACgG,EAAAA,CAAUA,CAAC+iB,QAAQ,EAClBptB,KAAMqE,EACN0C,GAAI,CACFoE,KAAM,CACJ3D,MAAO,WACT,CACF,E,UAEA,UAAC6C,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACumB,EAAAA,QAAQA,CAAAA,CAAAA,E,GAEVL,E,GAIJF,GACC,WAAC50B,EAAAA,CAAUA,CAAC+iB,QAAQ,EAClBptB,KAAMi/B,EACNl4B,GAAI,CACFoE,KAAM,CACJ3D,MAAO,WACT,CACF,E,UAEA,UAAC6C,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACumB,EAAAA,QAAQA,CAAAA,CAAAA,E,GACgB,Y,GAK9BT,GACC,WAAC10B,EAAAA,CAAUA,CAAC+iB,QAAQ,EAACptB,KAAM++B,EAAYh4B,GAAI,CAACS,MAAO,UAAU,E,UAC3D,UAAC6C,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACgR,EAAAA,QAAQA,CAAAA,CAAAA,E,GAEVxb,E,GAGL,WAACpE,EAAAA,CAAUA,CAAC+iB,QAAQ,EAACptB,KAAMs/B,EAAUv4B,GAAI,CAACS,MAAO,UAAU,E,UACzD,UAAC6C,EAAAA,CAAUA,CAAC4O,aAAa,E,SACvB,UAACwmB,EAAAA,QAAQA,CAAAA,CAAAA,E,GACgB,a,UAOvC,CAIA,GAAG,CAAEZ,GAAcp8B,WAAW,EAAzBo8B,CAAAA,GAAcp8B,WAAW,CAAK,eAAc,CAAE,CAAE,KAAM,CAAC,CCzF7C,SAASi9B,GAAmB,CAACvD,QAAAA,CAAO,CAA2B,QAC5E,iBAAIA,EAAQrb,IAAI,EAAuBqb,EAAQpT,MAAM,CAC5C,UDqFI8V,GCrFUA,CAAC7V,MAAOmT,EAAQpT,MAAM,CAAC4W,aAAa,CAAEb,YAAa3C,EAAQpT,MAAM,EAAE6W,iB,GAGnF,IACT,CAEA,GAAG,CAAEF,GAAmBj9B,WAAW,EAA9Bi9B,CAAAA,GAAmBj9B,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,CCDtE,IAAMo9B,GAAc,CAClB,CACE/I,QACE,uB,UAAE,YACU,IACV,UAAC7vB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,cAAc,EAAGwC,UAAU,S,SAAS,G,GAEhD,IAAI,gE,GAIfsgB,KAAM,CACJ,OACA,aACA,eACA,UACA,SACA,eACA,cACA,mBACA,SACA,QACA,QACA,cACD,EAEH,CACE8M,QAAS,qEACT9M,KAAM,CAAC,SAAU,eAAe,EAEnC,CAEc,SAAS8V,GAAQ,CAAC3D,QAAAA,CAAO,CAA2B,EACjE,IAAMrb,EAAOqb,EAAQrb,IAAI,CACnBif,EAAcF,GAAKxgC,MAAM,CAAC2gC,GAAOA,EAAIhW,IAAI,CAACpZ,QAAQ,CAACkQ,IACnDmf,EAAYF,CAAW,CAACjxB,KAAKC,KAAK,CAACD,KAAKE,MAAM,GAAK+wB,EAAYh/B,MAAM,EAAE,QAE7E,EAIE,sB,SACE,WAACkG,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACoC,SAAU,EAAG3B,MAAO,WAAY8D,EAAG,CAAC,EAAG,EAAG,EAAG,EAAE,E,UACvD,WAACrE,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,eAAgBM,MAAO,cAAc,E,UACtD,UAAC+H,EAAAA,CAAOA,CAAAA,CAACvF,KAAMk2B,EAAAA,aAAaA,CAAEzwB,KAAM,GAAI1I,GAAI,CAACS,MAAO,cAAc,C,GAClE,UAACsB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACyL,GAAI,EAAGlJ,WAAY,MAAM,E,SAAG,S,GAAc,O,GAEvD,UAAC6B,OAAAA,C,SAAM80B,EAAUnJ,OAAO,G,KATrB,IAaX,CAEA,GAAG,CAAEgJ,GAAQr9B,WAAW,EAAnBq9B,CAAAA,GAAQr9B,WAAW,CAAK,SAAQ,CAAE,CAAE,KAAM,CAAC,CC5DjC,SAAS09B,GAAoB,CAC1Cn5B,MAAAA,CAAK,CACLyW,YAAAA,CAAW,CACX2iB,IAAAA,CAAG,CACHpgC,KAAAA,CAAI,CACJqgC,UAAAA,CAAS,CACTC,gBAAAA,CAAe,CACfC,SAAAA,CAAQ,CAST,EACC,IAAIvzB,EAAS,CAAC,EAAEqzB,EAAU,GAAG,CAAC,CAI9B,OAHIC,GACFtzB,CAAAA,GAAU,CAAC,EAAE,EAAEszB,EAAgB,GAAG,CAAC,EAGnC,sB,SACE,WAACr5B,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFU,GAAI,iBACJG,YAAa,EACbD,YAAa,QACbE,YAAa,iBACbH,aAAc,MACdR,QAAS,OACTmC,cAAe,SACfiC,EAAG,CACL,E,UAEA,UAACW,MAAAA,C,SACC,UAACY,MAAAA,CAAIE,IAAKszB,EAAWvzB,IAAKyzB,EAAUvzB,OAAQA,C,KAE9C,UAACmpB,GAAAA,CAAOA,CAAAA,CAACluB,GAAG,KAAKlB,GAAI,CAACoC,SAAU,EAAGmG,GAAI,EAAGhG,WAAY,UAAU,E,SAC7DtC,C,GAEH,UAAC8B,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,EAAG3B,MAAO,WAAYmuB,GAAI,CAAC,E,SAAIlY,C,GACpD,WAAC3S,EAAAA,CAAIA,CAAAA,CAAC/D,GAAI,CAACoC,SAAU,EAAGG,WAAY,WAAYqsB,GAAI,EAAGzuB,QAAS,OAAQiB,WAAY,QAAQ,EAAGnI,KAAMA,E,UAClGogC,EAAI,IAAC,UAAC7wB,EAAAA,CAAOA,CAAAA,CAACvF,KAAMw2B,EAAAA,cAAcA,CAAE/wB,KAAM,GAAI1I,GAAI,CAACS,MAAO,YAAa0I,GAAI,CAAC,C,UAKvF,CAEA,GAAG,CAAEiwB,GAAoB19B,WAAW,EAA/B09B,CAAAA,GAAoB19B,WAAW,CAAK,qBAAoB,CAAE,CAAE,KAAM,CAAC,CCjDzD,SAASg+B,KACtB,MACE,WAACx5B,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFU,GAAI,iBACJG,YAAa,EACbD,YAAa,QACbE,YAAa,iBACbH,aAAc,MACd4D,EAAG,EACHgE,GAAI,CACN,E,UAEA,UAAC6mB,GAAAA,CAAOA,CAAAA,CAACluB,GAAG,KAAKlB,GAAI,CAACoC,SAAU,EAAGjC,QAAS,eAAgBoC,WAAY,WAAW,E,SAAG,4B,GAE3E,IACX,UAACwB,EAAAA,CAAIA,CAAAA,CACH/D,GAAI,CAACoC,SAAU,EAAGG,WAAY,UAAU,EACxCrB,GAAG,SACH0H,QAAS,IACPlO,IACAjB,EAAE0T,cAAc,GAGhB1T,EAAEgV,eAAe,EACnB,E,SAEA,UAAC1M,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,CAAC,E,SAAG,e,OAIjC,CAEA,GAAG,CAAEs3B,GAASh+B,WAAW,EAApBg+B,CAAAA,GAASh+B,WAAW,CAAK,UAAS,CAAE,CAAE,KAAM,CAAC,CCnBlD,IAAMi+B,GAA8C,CAClD,CACE15B,MAAO,wBACPyW,YACE,6KACF4iB,UAAW,qCACXE,SAAU,eACVH,IAAK,mCACLpgC,KAAM,qBACNgqB,KAAM,CAAC,mBAAmB,EAE5B,CACEhjB,MAAO,6CACPyW,YACE,2IACF4iB,UAAW,uCACXC,gBAAiB,0CACjBC,SAAU,eACVH,IAAK,+BACLpgC,KAAM,sCACNgqB,KAAM,CAAC,eAAgB,QAAQ,EAEjC,CACEhjB,MAAO,mEACPyW,YACE,2IACF4iB,UAAW,oCACXC,gBAAiB,uCACjBC,SAAU,qBACVH,IAAK,iCACLpgC,KAAM,iCACNgqB,KAAM,CAAC,SAAS,EAEnB,CAEc,SAAS2W,GAAqB,CAACxE,QAAAA,CAAO,CAA2B,EAC9E,IAAMrb,EAAOqb,EAAQrb,IAAI,CACnB0X,EAAakI,GAAqBvR,IAAI,CAAC6Q,GAAOA,EAAIhW,IAAI,CAACpZ,QAAQ,CAACkQ,IAChE8O,EAAWvB,YAEjB,EAKE,WAACpnB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQ6E,IAAK,CAAC,E,UAC9BysB,GACC,UAAC2H,GAAmBA,CAClBn5B,MAAOwxB,EAAWxxB,KAAK,CACvByW,YAAa+a,EAAW/a,WAAW,CACnC4iB,UAAW7H,EAAW6H,SAAS,CAC/BC,gBAAiB9H,EAAW8H,eAAe,CAC3CC,SAAU/H,EAAW+H,QAAQ,CAC7BH,IAAK5H,EAAW4H,GAAG,CACnBpgC,KAAMw4B,EAAWx4B,IAAI,GAGxB4vB,GAAY,UAAC6Q,GAAQA,CAAAA,GACtB,UAACX,GAAOA,CAAC3D,QAASA,C,MAjBb,IAoBX,CAEA,GAAG,CAAEwE,GAAqBl+B,WAAW,EAAhCk+B,CAAAA,GAAqBl+B,WAAW,CAAK,sBAAqB,CAAE,CAAE,KAAM,CAAC,CCzDnE,IAAMm+B,GAAwB,CAAC,CACpC3N,WAAAA,CAAU,CACV4N,MAAAA,CAAK,CACLxiC,MAAAA,CAAK,CACLyiC,OAAAA,CAAM,CACN3E,QAAAA,CAAO,CAOR,IACC,GAAM,CAACtO,EAAWkT,EAAa,CAAGlzB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACrC,CAACmzB,EAAQC,EAAU,CAAGpzB,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,KACnC,IAAM8sB,EAAI,IAAIuG,IACd,IAAK,IAAMrS,KAAQgS,EACjBlG,EAAEtS,GAAG,CAACwG,EAAKjkB,IAAI,CAAE,CAACwkB,MAAO,EAAGrP,KAAMO,EAAU6J,KAAK,CAAE8N,MAAO,GAAOkJ,MAAO,EAAK,GAE/E,OAAOxG,CACT,GACMyG,EAAYC,CAAAA,EAAAA,EAAAA,MAAAA,EAAO,IACnBC,EAAcD,CAAAA,EAAAA,EAAAA,MAAAA,EAA8B,MAC5CE,EAAiBF,CAAAA,EAAAA,EAAAA,MAAAA,EAAOpO,GAG9B7wB,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAEHo/B,GAAc,CACbD,eAAAA,EACAtO,WAAAA,EACAmO,UAAAA,EACA/iC,MAAAA,EACAijC,YAAAA,EACAnF,QAAAA,CACF,IAKGA,IAKDlJ,SAAAA,GAAyBkJ,MAAAA,EAAQ/tB,YAAY,CAE/C4yB,EAAO3Y,GAAG,CAAC4K,EAAY,CACrB7D,MAAO+M,EAAQ/tB,YAAY,CAC3B2R,KAAMO,EAAU4J,UAAU,CAC1BiX,MAAO,GACPlJ,MAAO,EACT,GAEA+I,EAAO3Y,GAAG,CAAC4K,EAAY,CACrB7D,MAAO+M,EAAQ/tB,YAAY,CAC3B2R,KAAMO,EAAU6J,KAAK,CACrBgX,MAAO,GACPlJ,MAAO,EACT,GAEJ,EAAG,CAAC+I,EAAQ7E,EAAS99B,EAAO40B,EAAW,EAGvCpxB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GACE,CAAC2/B,GAAc,CACbD,eAAAA,EACAtO,WAAAA,EACAmO,UAAAA,EACA/iC,MAAAA,EACAijC,YAAAA,EACAnF,QAAAA,CACF,GAEA,OAGF,GAAI,CAAC99B,EAAO,CACV0iC,EAAa,IACb,MACF,CAEA,GAAI,CAAC5E,EAAS,CACZ4E,EAAa,IACb,MACF,CAEAK,EAAU7O,OAAO,CAAGl0B,EACpBijC,EAAY/O,OAAO,CAAG4J,EACtBoF,EAAehP,OAAO,CAAGU,EACzB8N,EAAa,IAEb,IAAIU,EAAgBpjC,EACpB,GAAIyiC,EAAQ,CACV,IAAM3gC,EAAeF,EAAyB6gC,GAC9C,GAAI3gC,EAAaY,MAAM,CAAG,EAAG,CAC3B,IAAMC,EAAMC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY5C,GACxBojC,EAAgBvgC,CAAAA,EAAAA,EAAAA,gBAAAA,EAAiB7C,EAAO8B,EAAca,EACxD,CACF,CAEE,WACA,IAAM0gC,EAAeb,EAAMxhC,MAAM,CAACwvB,GAAQA,EAAKjkB,IAAI,GAAKqoB,GAGlD0O,EAAeC,SAuFH,CACtBf,MAAAA,CAAK,CACLxiC,MAAAA,CAAK,CACLojC,cAAAA,CAAa,CACbX,OAAAA,CAAM,CACNlR,SAAAA,CAAQ,CAOT,EAEC,OAAOiS,QAAQC,UAAU,CADHjB,EAAMt4B,GAAG,CAACsmB,GAAQkT,GAAW,CAACjhB,KAAM+N,EAAKjkB,IAAI,CAAEvM,MAAAA,EAAOojC,cAAAA,EAAeX,OAAAA,EAAQlR,SAAAA,CAAQ,IAE7G,EAtG0C,CAClCiR,MAAOa,EACPrjC,MAAAA,EACAojC,cAAAA,EACAX,OAAQA,GAAU,GAClBlR,SAAU,CAAC,CAACuM,EAAQjtB,SAAS,GAI/B,GAAIitB,EAAQjtB,SAAS,EAAI+jB,SAAAA,GAAyBkJ,MAAAA,EAAQ/tB,YAAY,CAA0B,CAC9F,IAAM4zB,EAAiB,MAAMD,GAAW,CACtCjhB,KAAM,OACNziB,MAAAA,EACAojC,cAAAA,EACAX,OAAQA,GAAU,GAClBlR,SAAU,EACZ,EACKoS,CAAAA,EAAe/J,KAAK,EACvB+I,EAAO3Y,GAAG,CAAC4K,EAAY+O,EAE3B,CAEA,IAAM70B,EAAU,MAAMw0B,EACtB,IAAK,IAAIn5B,EAAI,EAAGA,EAAI2E,EAAQpM,MAAM,CAAEyH,IAAK,CACvC,IAAMpD,EAAS+H,CAAO,CAAC3E,EAAE,CACH,cAAlBpD,EAAO68B,MAAM,CACfjB,EAAO3Y,GAAG,CAACqZ,CAAY,CAACl5B,EAAE,CAAEoC,IAAI,CAAE,CAChCwkB,MAAOhqB,EAAOtC,KAAK,CAACssB,KAAK,CACzBrP,KAAM3a,EAAOtC,KAAK,CAACid,IAAI,CACvBohB,MAAO,GACPlJ,MAAO,EACT,GAEA+I,EAAO3Y,GAAG,CAACqZ,CAAY,CAACl5B,EAAE,CAAEoC,IAAI,CAAE,CAChCwkB,MAAO,EACPrP,KAAMO,EAAU6J,KAAK,CACrBgX,MAAO,GACPlJ,MAAO,EACT,EAEJ,CAEAgJ,EAAUD,GACVD,EAAa,GACf,IAGF,EAAG,CAACF,EAAO1E,EAAS2E,EAAQziC,EAAOijC,EAAaF,EAAWnO,EAAW,EAEtE,IAAMiP,EAAS,EAAE,CACjB,IAAK,IAAMrT,KAAQgS,EAAO,CACxB,IAAMsB,EAAQnB,EAAOrgC,GAAG,CAACkuB,EAAKjkB,IAAI,EAC9Bu3B,GACFD,EAAOrzB,IAAI,CAAC,CAAC,GAAGggB,CAAI,CAAE,GAAGsT,CAAK,EAElC,CACA,MAAO,CAACtU,EAAWqU,EAAQlB,EAAOrgC,GAAG,CAACsyB,GAAa,EAGrD,SAASuO,GAAc,CACrBD,eAAAA,CAAc,CACdtO,WAAAA,CAAU,CACVmO,UAAAA,CAAS,CACT/iC,MAAAA,CAAK,CACLijC,YAAAA,CAAW,CACXnF,QAAAA,CAAO,CAQR,QAQK,SAJF,EAAgB5J,OAAO,EAAeU,eAAAA,GACrCsO,eAAAA,EAAehP,OAAO,EAAqBU,SAAAA,GAGZmO,EAAU7O,OAAO,GAAKl0B,GAASijC,EAAY/O,OAAO,GAAK4J,CAI3F,CAmBA,eAAe4F,GAAW,CACxBjhB,KAAAA,CAAI,CACJziB,MAAAA,CAAK,CACLojC,cAAAA,CAAa,CACbX,OAAAA,CAAM,CACNlR,SAAAA,CAAQ,CAOT,EAGC,GAAI9O,SAAAA,EAAiB,CACnB,GAAI,CAAC8O,EACH,MAAO,CAACR,MAAO,EAAGrP,KAAMO,EAAU6J,KAAK,CAAEgX,MAAO,GAAMlJ,MAAO,EAAK,EAEpE,IAAM5zB,EAAM,IAAI66B,IAAI,0BAA2Bt/B,OAAOT,QAAQ,CAACa,IAAI,EACnEqE,EAAI/E,YAAY,CAAC8iC,MAAM,CAAC,iBAAkBtB,GAC1Cz8B,EAAI/E,YAAY,CAAC8iC,MAAM,CAAC,IAAK/jC,GAC7B,IAAMgkC,EAAW,MAAMC,MAAMj+B,EAAIoJ,QAAQ,GAAI,CAC3C80B,QAAS,CAACC,OAAQ,mBAAoB,mBAAoB,gBAAgB,CAC5E,GACMza,EAAO,MAAMsa,EAASta,IAAI,GAChC,MAAO,CAACqH,MAAOqT,OAAO1a,EAAKoa,KAAK,EAAGpiB,KAAMgI,EAAKhI,IAAI,CAAEohB,MAAO,GAAMlJ,MAAOlQ,EAAK2a,MAAM,CACrF,CAEI5hB,WAAAA,EACF2gB,GAAiB,YACC,iBAAT3gB,GACT2gB,CAAAA,GAAiB,QAAO,EAG1B,IAAMp9B,EAAM,IAAI66B,IAAI,gBAAiBt/B,OAAOT,QAAQ,CAACa,IAAI,EACzDqE,EAAI/E,YAAY,CAAC8iC,MAAM,CAAC,IAAKX,GAC7Bp9B,EAAI/E,YAAY,CAAC8iC,MAAM,CAAC,OAxBNthB,eAAAA,EAAwB,OAASA,GA0BnD,IAAMuhB,EAAW,MAAMC,MAAMj+B,GAE7B,GAAI,CAACg+B,EAASpb,EAAE,CACd,MAAM,MAAU,CAAC,EAAEob,EAASJ,MAAM,CAAC,CAAC,EAItC,OAAOU,SAGe/3B,CAAuB,CAAEgB,CAAY,EAC3D,IAAMg3B,EAAKl1B,SAASm1B,aAAa,CAAC,OAClCD,CAAAA,EAAGE,SAAS,CAAGl3B,EACf,IAAIF,EAAO,CAACk3B,EAAGG,WAAW,EAAI,GAAE,EAAGje,WAAW,GAC1Cke,EAAa,EACbpZ,EAAe,GAkBnB,OAhBIle,EAAKu3B,QAAQ,CAAC,OAChBrZ,EAAe,GACfle,EAAOA,EAAKwF,KAAK,CAAC,EAAG,KAGnBxF,EAAKu3B,QAAQ,CAAC,MAChBD,EAAa,IACbt3B,EAAOA,EAAKwF,KAAK,CAAC,EAAG,KACZxF,GAAMu3B,SAAS,MACxBD,EAAa,IACbt3B,EAAOA,EAAKwF,KAAK,CAAC,EAAG,KACZxF,GAAMu3B,SAAS,OACxBD,EAAa,IACbt3B,EAAOA,EAAKwF,KAAK,CAAC,EAAG,KAGhB,CACL6O,KAAM6J,EAAetJ,EAAU4J,UAAU,CAAG5J,EAAU6J,KAAK,CAC3DiF,MAAOqT,OAAO/2B,GAAQs3B,EACtB7B,MAAO,GACPlJ,MAAO,EACT,CACF,EAhCwBnX,EADP,MAAMuhB,EAAS32B,IAAI,GAEpC,C,wCCrRe,SAASw3B,GAAe,CACrC/yB,OAAAA,CAAM,CACNgzB,eAAAA,CAAc,CACdC,YAAAA,CAAW,CACXvI,UAAAA,CAAS,CAMV,EACC,MACE,WAACY,GAAAA,CAAMA,CAAAA,CACL10B,GAAI,CAACe,MAAO,QAASu7B,UAAW,OAAQC,UAAW,MAAM,EACzDH,eAAgBA,EAChBhzB,OAAQA,EACR0qB,UAAWA,EACX/F,kBAAgB,YAChB1oB,cAAY,kB,UAEZ,UAACqvB,GAAAA,CAAMA,CAACryB,MAAM,EAAC7F,GAAG,Y,SAAY,oB,GAC9B,WAAC0D,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuE,EAAG,GAAIwE,UAAW,QAASuzB,UAAW,MAAM,EAAG35B,UAAU,8B,UACjE,UAAC4B,IAAAA,C,SAAE,mI,GAIH,WAACA,IAAAA,C,UAAE,kCAC+B,IAChC,UAAC4L,IAAAA,CAAExN,UAAU,oBAAoB1J,KAAM,CAAC,EAAEojC,EAAY,mCAAmC,CAAC,C,SAAE,qB,GAExF,I,GAIN,UAACrF,KAAAA,C,SAAG,c,GACJ,WAAC/nB,QAAAA,C,UACC,UAACutB,QAAAA,C,SACC,WAAC1uB,KAAAA,C,UACC,UAAC2uB,KAAAA,C,SAAG,a,GACJ,UAACA,KAAAA,C,SAAG,+B,QAGR,WAACvtB,QAAAA,C,UACC,WAACpB,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,oD,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,c,GACJ,UAACA,KAAAA,C,SAAG,6C,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,kC,GACJ,UAACA,KAAAA,C,SAAG,4C,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,uB,GACJ,UAACA,KAAAA,C,SAAG,2D,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,S,GACJ,UAACA,KAAAA,C,SAAG,sC,YAKV,UAAC0uB,KAAAA,CAAAA,GAED,WAAC1F,KAAAA,C,UAAG,oBAEF,UAAC7mB,IAAAA,CAAElX,KAAM,CAAC,EAAEojC,EAAY,gCAAgC,CAAC,C,SACvD,UAAC7zB,EAAAA,CAAOA,CAAAA,CACNvF,KAAMqjB,EAAAA,gBAAgBA,CACtBnjB,aAAW,OACXnD,GAAI,CACFmJ,GAAI,CACN,C,QAIN,UAAC5E,IAAAA,C,SAAE,6G,GAGH,WAAC0K,QAAAA,C,UACC,UAACutB,QAAAA,C,SACC,WAAC1uB,KAAAA,C,UACC,UAAC2uB,KAAAA,C,SAAG,a,GACJ,UAACA,KAAAA,C,SAAG,+B,QAGR,WAACvtB,QAAAA,C,UACC,WAACpB,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,oD,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,c,GACJ,UAACA,KAAAA,C,SAAG,6C,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,yB,GACJ,UAACA,KAAAA,C,SAAG,iD,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,oB,GACJ,UAACA,KAAAA,C,SAAG,yD,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,wB,GACJ,UAACA,KAAAA,C,SAAG,8D,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,2C,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,+C,YAKV,UAAC0uB,KAAAA,CAAAA,GAED,WAAC1F,KAAAA,C,UAAG,cAEF,UAAC7mB,IAAAA,CAAElX,KAAM,CAAC,EAAEojC,EAAY,wBAAwB,CAAC,C,SAC/C,UAAC7zB,EAAAA,CAAOA,CAAAA,CACNvF,KAAMqjB,EAAAA,gBAAgBA,CACtBnjB,aAAW,OACXnD,GAAI,CACFmJ,GAAI,CACN,C,QAIN,UAAC5E,IAAAA,C,SAAE,wF,GACH,WAAC0K,QAAAA,C,UACC,UAACutB,QAAAA,C,SACC,WAAC1uB,KAAAA,C,UACC,UAAC2uB,KAAAA,C,SAAG,a,GACJ,UAACA,KAAAA,C,SAAG,+B,QAGR,WAACvtB,QAAAA,C,UACC,WAACpB,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,kC,GACJ,UAACA,KAAAA,C,SAAG,gF,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,oB,GACJ,UAACA,KAAAA,C,SAAG,gE,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,uB,GACJ,UAACA,KAAAA,C,SAAG,2D,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,mB,GACJ,UAACA,KAAAA,C,SAAG,yE,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,sB,GACJ,UAACA,KAAAA,C,SAAG,uC,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,mB,GACJ,UAACA,KAAAA,C,SAAG,6C,YAKV,UAAC0uB,KAAAA,CAAAA,GAED,WAAC1F,KAAAA,C,UAAG,eAEF,UAAC7mB,IAAAA,CAAElX,KAAM,CAAC,EAAEojC,EAAY,0BAA0B,CAAC,C,SACjD,UAAC7zB,EAAAA,CAAOA,CAAAA,CACNvF,KAAMqjB,EAAAA,gBAAgBA,CACtBnjB,aAAW,OACXnD,GAAI,CACFmJ,GAAI,CACN,C,QAIN,UAAC5E,IAAAA,C,SAAE,iG,GACH,WAAC0K,QAAAA,C,UACC,UAACutB,QAAAA,C,SACC,WAAC1uB,KAAAA,C,UACC,UAAC2uB,KAAAA,C,SAAG,a,GACJ,UAACA,KAAAA,C,SAAG,oB,QAGR,WAACvtB,QAAAA,C,UACC,WAACpB,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,sB,GACJ,UAACA,KAAAA,C,SAAG,iD,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,a,GACJ,UAACA,KAAAA,C,SAAG,gC,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,sB,GACJ,UAACA,KAAAA,C,SAAG,oC,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,+B,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,iC,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,8B,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,mB,GACJ,UAACA,KAAAA,C,SAAG,kC,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,+B,GACJ,UAACA,KAAAA,C,SAAG,sC,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,+B,GACJ,UAACA,KAAAA,C,SAAG,2B,YAKV,UAAC0uB,KAAAA,CAAAA,GAED,WAAC1F,KAAAA,C,UAAG,cAEF,UAAC7mB,IAAAA,CAAElX,KAAM,CAAC,EAAEojC,EAAY,yBAAyB,CAAC,C,SAChD,UAAC7zB,EAAAA,CAAOA,CAAAA,CACNvF,KAAMqjB,EAAAA,gBAAgBA,CACtBnjB,aAAW,OACXnD,GAAI,CACFmJ,GAAI,CACN,C,QAIN,UAAC5E,IAAAA,C,SAAE,qF,GACH,WAAC0K,QAAAA,C,UACC,UAACutB,QAAAA,C,SACC,WAAC1uB,KAAAA,C,UACC,UAAC2uB,KAAAA,C,SAAG,a,GACJ,UAACA,KAAAA,C,SAAG,+B,QAGR,WAACvtB,QAAAA,C,UACC,WAACpB,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,2B,GACJ,UAACA,KAAAA,C,SAAG,iD,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,kC,GACJ,UAACA,KAAAA,C,SAAG,4C,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,0B,GACJ,UAACA,KAAAA,C,SAAG,0D,MAEN,WAACF,KAAAA,C,UACC,UAACE,KAAAA,C,SAAG,gB,GACJ,UAACA,KAAAA,C,SAAG,qD,iBAOlB,CAEA,GAAG,CAAEmuB,GAAezgC,WAAW,EAA1BygC,CAAAA,GAAezgC,WAAW,CAAK,gBAAe,CAAE,CAAE,KAAM,CAAC,CClR/C,SAASihC,KACtB,GAAM,CAAC5gC,EAAO6gC,EAAS,CAAG91B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC7BsuB,EAAUyH,CAAAA,EAAAA,GAAAA,CAAAA,IACVT,EAAiBxgC,EAAAA,MAAY,CAAC,MAC9B,CAACkhC,EAAcC,EAAgB,CAAGj2B,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC3C5L,EAAkBjD,IAuWxB6C,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMkiC,EACJr2B,SAASs2B,aAAa,CAAC,eAAiBt2B,SAASs2B,aAAa,CAAC,YAAct2B,SAASs2B,aAAa,CAAC,eACtG,GAAKD,EAIL,OADAA,EAAUxO,MAAM,CAAG,GACZ,KACLwO,EAAUxO,MAAM,CAAG,EACrB,CACF,EAAG,EAAE,EArWL,IAAM9oB,EAAYC,CAAAA,EAAAA,GAAAA,CAAAA,IAsBZC,EAAqBvK,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACjC,UAAQqK,EAAUA,SAAS,CAhBA,+CALC,gDA4B3B,CAACA,EAAU,EAERw3B,EAA2B7hC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACvC,UAAQqK,EAAUA,SAAS,CAhBM,8CALC,+CA4BjC,CAACA,EAAU,EAERy3B,EAAyB9hC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACrC,UAAQqK,EAAUA,SAAS,CAlCI,gDALC,iDA8C/B,CAACA,EAAU,EAER03B,EAA+B/hC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC3C,UAAQqK,EAAUA,SAAS,CAlCU,+CALC,gDA8CrC,CAACA,EAAU,EAERG,EAAuBxK,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACnC,UAAQqK,EAAUA,SAAS,CAvDE,iDALC,kDAmE7B,CAACA,EAAU,EAER23B,EAA6BhiC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACzC,UAAQqK,EAAUA,SAAS,CAvDQ,gDALC,iDAmEnC,CAACA,EAAU,EAER43B,EAA2BjiC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACvC,UAAQqK,EAAUA,SAAS,CAzEM,kDALC,mDAqFjC,CAACA,EAAU,EAER63B,EAAiCliC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC7C,UAAQqK,EAAUA,SAAS,CAzEY,iDALC,kDAqFvC,CAACA,EAAU,EAEd,MACE,WAACxF,EAAAA,CAAGA,CAAAA,CACFywB,WAAQ,GACR3wB,GAAI,CACFw9B,UAAW,QACXl5B,SAAU,IACVnE,QAAS,OACTmC,cAAe,SACflB,WAAY,SACZyH,eAAgB,QAClB,E,UAEA,UAAC3I,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFe,MAAO,OACPiL,KAAM,EACN7L,QAAS,OACTiB,WAAY,SACZyH,eAAgB,SAChBvG,cAAe,MACfkC,GAAI,EACJ+D,GAAI,EACN,E,SAEA,WAACrI,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACe,MAAO,OAAQZ,QAAS,OAAQiB,WAAY,SAAUkB,cAAe,QAAQ,E,UACrF,WAACpC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC0D,GAAI,CAAC,EAAG,EAAG,EAAE,E,UACrB,UAACxD,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,OAAQ,OAAQ,QAAQ,E,SAC1C,UAACs9B,EAAAA,cAAcA,CAAAA,CAAC/0B,KAAM,E,KAExB,UAACxI,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,QAAS,QAAS,OAAO,E,SAC3C,UAACs9B,EAAAA,cAAcA,CAAAA,CAAC/0B,KAAM,E,QAG1B,UAACxI,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACwE,GAAI,EAAGzD,MAAO,OAAQ0D,SAAU,IAAKsE,UAAW,QAAQ,E,SAChE,UAAC+rB,GAAAA,CAASA,CAAAA,CACR3xB,aAAW,gBACXnD,GAAI,CACFe,MAAO,OACPC,OAAQ,EACV,EACA08B,WAtJiCjkC,IAGvCsC,GAAStC,UAAAA,EAAEiI,GAAG,EAChBxG,EAAgBa,EAEpB,EAiJY4hC,UAAS,GACTxd,cAAe,IACb,UAACjgB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,SAAUyH,eAAgB,QAAQ,E,SACvE,UAACL,EAAAA,CAAOA,CAAAA,CACNvF,KAAM26B,EAAAA,UAAUA,CAChB59B,GAAI,CACFe,MAAO,CAAC,GAAI,GAAG,CACfC,OAAQ,CAAC,GAAI,GAAG,CAChBP,MAAO,UACT,C,KAINkzB,eAAgB,IACd,UAACzzB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,QAAQ,E,SAC5CrF,GACC,UAACmE,EAAAA,CAAGA,CAAAA,CACF0I,QAAS,IAAMg0B,EAAS,IACxB58B,GAAI,CACFG,QAAS,MACX,E,SAEA,UAACqI,EAAAA,CAAOA,CAAAA,CACNvF,KAAM46B,EAAAA,eAAeA,CACrB79B,GAAI,CACFS,MAAO,WACPkO,OAAQ,UACR5N,MAAO,CAAC,GAAI,GAAG,CACfC,OAAQ,CAAC,GAAI,GAAG,CAEhB,UAAW,CACTP,MAAO,YACT,CACF,C,OAMVq9B,YAAY,gBACZ/hC,MAAOA,EACPg5B,SAAU,GAAoC6H,EAASnjC,EAAEm8B,aAAa,CAAC75B,KAAK,C,KAIhF,WAACmE,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC+I,UAAW,SAAU1H,GAAI,CAAC,EAAG,EAAG,EAAE,E,UAC1C,WAACnB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACyC,GAAI,CAAC,EAAG,EAAE,CAAEtC,QAAS,cAAc,E,UAC3C,UAACqI,EAAAA,CAAOA,CAAAA,CACNvF,KAAM86B,EAAAA,QAAQA,CACd/9B,GAAI,CACFS,MAAO,eACPgC,GAAI,EACJ1B,MAAO,CAAC,GAAI,GAAG,CACfC,OAAQ,CAAC,GAAI,GAAG,C,GAGpB,UAACe,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,eAAgB2B,SAAU,CAAC,EAAG,EAAE,E,SAAG,K,MAEvD,WAACL,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,WAAY2B,SAAU,CAAC,EAAG,EAAE,E,UAAG,SACxC,IACP,UAAC2B,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAC1P,KAAK,mB,SAAmB,iB,GAE9B,YACG,IACV,UAAC8K,EAAAA,CAAIA,CAAAA,CACH7C,GAAG,SACHyH,OAAM,GACN6hB,IAAK4R,EACLxzB,QAAS,KACPm0B,EAAgB,GAClB,E,SACD,U,MAIH,UAACZ,GAAcA,CACb/yB,OAAQ0zB,EACRV,eAAgBA,EAChBC,YAAajH,GAASrgB,QACtB+e,UAAW,IAAMiJ,EAAgB,G,MAGrC,WAAC78B,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACqB,GAAI,CAAC,EAAG,EAAG,EAAE,CAAElB,QAAS,OAAQ0I,eAAgB,QAAQ,E,UAChE,UAAC3I,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,QAAS,QAAS,QAAS,OAAQ,OAAO,CAAEsE,SAAU,CAAC,IAAI,E,SAC7E,WAACu5B,UAAAA,C,UACC,UAAC3f,SAAAA,CACCpY,OAAQ,CAAC,EAAEm3B,EAA6B,KAAK,EAAEG,EAA+B,GAAG,CAAC,CAClFxjB,KAAK,Y,GAEP,UAACjU,MAAAA,CACCE,IAAKk3B,EACLj3B,OAAQ,CAAC,EAAEi3B,EAAyB,KAAK,EAAEG,EAA2B,GAAG,CAAC,CAC1Et3B,IAAI,6FACJhF,MAAM,M,QAIZ,UAACb,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,OAAQ,OAAQ,OAAQ,QAAS,QAAQ,CAAEsE,SAAU,CAAC,IAAK,IAAK,IAAK,IAAK,IAAI,E,SAChG,WAACu5B,UAAAA,C,UACC,UAAC3f,SAAAA,CAAOpY,OAAQ,CAAC,EAAEk3B,EAAuB,KAAK,EAAEG,EAAyB,GAAG,CAAC,CAAEvjB,KAAK,Y,GACrF,UAACjU,MAAAA,CACCE,IAAKJ,EACLK,OAAQ,CAAC,EAAEL,EAAmB,KAAK,EAAEC,EAAqB,GAAG,CAAC,CAC9DE,IAAI,6FACJhF,MAAM,M,gBAQlB,UAACE,GAAMA,CAAC8T,QAASqgB,GAASrgB,QAAmBkpB,qBAAsB7I,GAAS8I,sB,KAGlF,CAEA,SAASj9B,GAAO,CAAC8T,QAAAA,CAAO,CAAEkpB,qBAAAA,CAAoB,CAA+D,EAC3G,IAAME,EAAc,IAAInhC,OAAOohC,WAAW,GAE1C,MACE,sB,SACE,WAACl+B,EAAAA,CAAGA,CAAAA,CACFgB,GAAG,SACHlB,GAAI,CACFG,QAAS,OACT0I,eAAgB,CAAC,SAAS,CAC1BzH,WAAY,SACZD,SAAU,OACVmB,cAAe,CAAC,MAAM,CACtBvB,MAAO,OACPyD,GAAI,CAAC,EAAG,EAAG,EAAE,CACb+D,GAAI,EACJnG,SAAU,EACV3B,MAAO,UACT,E,UAEA,WAACP,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACTiB,WAAY,SACZkB,cAAe,CAAC,MAAM,CACtB+7B,QAAS,GACX,E,UAEA,UAACt6B,EAAAA,CAAIA,CAAAA,CAACZ,aAAW,SAASlK,KAAK,IAAIoZ,MAAK,GAACrS,GAAI,CAACs+B,YAAa,GAAG,E,SAC5D,UAAC91B,EAAAA,CAAOA,CAAAA,CACNvF,KAAMs7B,EAAAA,cAAcA,CACpBv+B,GAAI,CACFe,MAAO,GACPC,OAAQ,GACRP,MAAO,UACT,C,KAIJ,WAAC2D,OAAAA,C,UAAK,qBAAgB+5B,E,MAGxB,UAACp6B,EAAAA,CAAIA,CAAAA,CAAC9K,KAAK,qEAAqEoZ,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,O,GAI1G,UAACt6B,EAAAA,CAAIA,CAAAA,CACH9K,KAAK,gFACLoZ,MAAK,GACLrS,GAAI,CAACq+B,QAAS,GAAG,E,SAClB,S,GAID,UAACt6B,EAAAA,CAAIA,CAAAA,CAAC9K,KAAK,YAAYoZ,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,U,GAIjD,UAACt6B,EAAAA,CAAIA,CAAAA,CAAC9K,KAAK,+BAA+BoZ,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,Q,GAIpE,UAACt6B,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM8b,EAAS1C,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,M,GAI/C,UAACt6B,EAAAA,CAAIA,CAAAA,CAAC9K,KAAK,iDAAiDoZ,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,S,GAIrFJ,EACC,uB,UACE,UAACl6B,EAAAA,CAAIA,CAAAA,CAAC7C,GAAG,SAAS0H,QAAS,IAAM41B,CAAAA,EAAAA,GAAAA,EAAAA,IAAmBnsB,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,gB,GAI9E,UAACt6B,EAAAA,CAAIA,CAAAA,CAAC7C,GAAG,SAAS0H,QAAS,IAAM41B,CAAAA,EAAAA,GAAAA,EAAAA,IAAmBnsB,MAAK,GAACrS,GAAI,CAACq+B,QAAS,GAAG,E,SAAG,sC,MAI9E,K,IAIZ,CAgBA,GAAG,CAAE1B,GAAKjhC,WAAW,EAAhBihC,CAAAA,GAAKjhC,WAAW,CAAK,MAAK,CAAE,CAAE,KAAM,CAAC,CAC1C,GAAG,CAAEuF,GAAOvF,WAAW,EAAlBuF,CAAAA,GAAOvF,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,C,gBCnXvC,SAAS+iC,GAA+B,CAAC7jC,SAAAA,CAAQ,CAAE3D,KAAAA,CAAI,CAAEK,MAAAA,CAAK,CAAE0I,GAAAA,CAAE,CAAE4I,QAAAA,CAAO,CAAE,GAAGvR,EAAuB,EAG5G,GAAM,CAAC4B,EAAMylC,EAAe,CAAGzX,GAAkBhwB,EAAyBI,EAAsBC,GAEhG,MACE,UAACyM,EAAAA,CAAIA,CAAAA,CACH9K,KAAMA,EACN2P,QAASnP,IACPmP,IAAUnP,GACVilC,EAAejlC,EACjB,EACAuG,GAAIA,E,SAEHpF,C,EAGP,CAEA,GAAG,CAAE6jC,GAAS/iC,WAAW,EAApB+iC,CAAAA,GAAS/iC,WAAW,CAAK,UAAS,CAAE,CAAE,KAAM,CAAC,CCgCnC,SAASijC,GAAgB,CAACtN,QAAAA,CAAO,CAAEI,WAAAA,CAAU,CAAEmN,oBAAAA,CAAmB,CAAyB,EAGxG,IAAMtnC,EAAQ65B,IADcx3B,gBAAgBvB,CAD3BC,EAAAA,EAAAA,EAAAA,IACoCZ,MAAM,EAC7BmC,GAAG,CAAC,YAElC,EAGE,WAACsT,EAAAA,CAAKA,CAAAA,CACJ9J,QAAQ,UACRpD,GAAI,CACFW,aAAc,EACdE,YAAa,EACbD,YAAa,QACbE,YAAa,eACf,E,UAEA,UAACsD,OAAAA,C,SAAMitB,C,GACNI,EACC,WAACrtB,OAAAA,C,UACE,IACD,UAACq6B,GAAQA,CAACxnC,KAAMkB,EAAAA,EAAUA,CAAEb,MAAO,CAACA,MAAAA,EAAOyiB,KAAM6kB,CAAmB,E,SAClE,UAACx6B,OAAAA,C,SAAMqtB,C,QAGT,K,GApBW,IAuBrB,CAEA,GAAG,CAAEkN,GAAgBjjC,WAAW,EAA3BijC,CAAAA,GAAgBjjC,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,C,gBClCjD,SAASmjC,KACtB,IAAMzJ,EAAUyH,CAAAA,EAAAA,GAAAA,CAAAA,IACV,CAACiC,EAAiBC,EAAmB,CAAGj4B,CAAAA,EAAAA,EAAAA,QAAAA,EAAwC,MAChF1O,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACX2mC,EAAiBhoC,EAAgBmB,EAAAA,EAAUA,EAC3CV,EAAS4D,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAM,IAAI1B,gBAAgBvB,EAASX,MAAM,EAAG,CAACW,EAASX,MAAM,CAAC,EAC9Ey0B,EAAaz0B,EAAOmC,GAAG,CAAC,QACxBqlC,EAAcxnC,EAAOmC,GAAG,CAAC,KACzBmgC,EAAStiC,EAAOmC,GAAG,CAAC,kBACpB,CAAC4F,6BAAAA,CAA4B,CAAED,yBAAAA,CAAwB,CAAC,CAAGvD,IAE3DkjC,EAAuB,CAAC,CAAE9J,CAAAA,GAAWA,EAAQjtB,SAAS,EAG5DrN,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMsyB,EAAUv0B,QAAQsmC,aAAaC,YAAcvmC,OAAOsmC,WAAW,CAACC,UAAU,GAC5EhS,GAAWA,EAAQpzB,MAAM,CAAG,GAAK,kBAAQ,CAAC,EAAE,CAAiC+f,IAAI,EAC/Eqb,GAASrb,OAAS,QACpBxa,EAAyB61B,GAASv2B,SAGxC,EAAG,CAACU,EAA0B61B,EAAQ,EAEtC,IAAMtO,EAAY,CAACsO,EACbiK,EAAahkC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KACzB,IAAM67B,EAAUh9B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY+kC,GAAe,IAC3C,GAAI7J,GAASrb,OAAS,OACpB,MAAO,GAIT,IAAMulB,EAAaC,CAAAA,EAAAA,GAAAA,EAAAA,EAAqBrI,UACpCoI,IAAAA,EAAWtlC,MAAM,EAAUslC,CAAU,CAAC,EAAE,EAAExX,OAAS,MAKzD,EAAG,CAACmX,EAAa7J,GAASrb,KAAK,EAEzBylB,EAAgBnkC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAC5B,GACE,CAAC+5B,GACDA,SAAAA,EAAQrb,IAAI,EACZ,CAACqb,EAAQqK,oBAAoB,EAC7BrK,IAAAA,EAAQqK,oBAAoB,CAACzlC,MAAM,CAEnC,MAAO,EAAE,CAEX,IAAMk9B,EAAUh9B,CAAAA,EAAAA,EAAAA,WAAAA,EAAY+kC,GAAe,IAC3C,MAAOS,CAAAA,EAAAA,GAAAA,EAAAA,EAAqBxI,EAAS9B,GAASqK,qBAChD,EAAG,CAACrK,EAAS6J,EAAY,EAEnBrX,EAAcvsB,CAAAA,EAAAA,EAAAA,OAAAA,EAClB,IACE,CACE,CACEwI,KAAM,OACN0rB,aAAc,OACdjH,mBAAoB,OACpBrlB,KAAM08B,EAAAA,QAAQA,EAEhBN,EACI,KACC,CACCx7B,KAAM,eACN0rB,aAAc,aACdjH,mBAAoB,eACpBrlB,KAAMigB,EAAAA,QAAQA,EAEpB,CACErf,KAAM,SACN0rB,aAAc,QACdjH,mBAAoB,SACpBrlB,KAAMgO,EAAAA,eAAeA,EAEvB,CACEpN,KAAM,eACN0rB,aAAc,eACdjH,mBAAoB,gBACpBrlB,KAAM+N,EAAAA,kBAAkBA,EAE1B,CACEnN,KAAM,cACN0rB,aAAc,aACdjH,mBAAoB,cACpBrlB,KAAM2V,EAAAA,qBAAqBA,EAE7BymB,EACI,KACC,CAACx7B,KAAM,QAAS0rB,aAAc,OAAQjH,mBAAoB,QAASrlB,KAAM6gB,EAAAA,UAAUA,EACxF,CAACjgB,KAAM,UAAW0rB,aAAc,SAAUjH,mBAAoB,UAAWrlB,KAAM28B,EAAAA,aAAaA,EAC5F,CACE/7B,KAAM,mBACN0rB,aAAc,UACdjH,mBAAoB,WACpBrlB,KAAMgZ,EAAAA,WAAWA,EAEnB,CAACpY,KAAM,QAAS0rB,aAAc,OAAQjH,mBAAoB,QAASrlB,KAAMqwB,EAAAA,QAAQA,EACjF+L,EACI,KACC,CAACx7B,KAAM,SAAU0rB,aAAc,QAASjH,mBAAoB,SAAUrlB,KAAM48B,EAAAA,aAAaA,EAC9FR,EACI,KACC,CACCx7B,KAAM,cACN0rB,aAAc,cACdjH,mBAAoB,cACpBrlB,KAAM68B,EAAAA,aAAaA,EAE1B,CAACxnC,MAAM,CAAC,GAA2CwgB,OAAAA,GACtD,CAACumB,EAAW,EAERtQ,EAAanH,EAAYQ,IAAI,CAACN,GAAQA,EAAKjkB,IAAI,GAAKqoB,IAAetE,CAAW,CAAC,EAAE,CAEjF,CAACH,EAAmBwS,EAAO,CAAGJ,GAAsB,CACxD3N,WAAYA,EACZ4N,MAAOlS,EACPtwB,MAAO2nC,EACPlF,OAAAA,EACA3E,QAASA,CACX,GAEAt6B,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI,CAACoxB,GAAc+S,GAAe7J,GAASrb,OAAS,OAAQ,CAG1D,IAAIziB,EAAQG,EAAOmC,GAAG,CAAC,KACjBK,EAAMC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY5C,GAAS,IAC3ByoC,EAAgBC,CAAAA,EAAAA,EAAAA,gBAAAA,EAAiB/lC,EAAK,CAAC,CAACm7B,GAASjtB,WAIvD,GAAI43B,SAAAA,EAA0B,CAC5B,IAAIE,EAAOxoC,EAAOmC,GAAG,CAAC,KAClBqmC,IACEA,EAAKp2B,QAAQ,CAAC,MAAMo2B,CAAAA,EAAO,CAAC,CAAC,EAAEA,EAAK,CAAC,CAAC,EAC1C3oC,EAAQ,CAAC,EAAEA,EAAM,MAAM,EAAE2oC,EAAK,CAAC,CAEnC,CAIIF,IAAkBG,EAAAA,UAAUA,CAACC,OAAO,EACtCnB,EACEjmC,KAAAA,EACA,CAACC,EAAG1B,EAAOyiB,KAAMqmB,CAAAA,EAAAA,EAAAA,uBAAAA,EAAwBL,GAAgBn4B,EAAG7O,KAAAA,EAAWwL,EAAGxL,KAAAA,CAAS,EACnF,CAACu/B,QAAS,EAAI,GAGlB,MACF,CAEAyG,EACEsB,SDpMJC,CAAmC,CACnChpC,CAAa,CACbuxB,CAAiB,EAEjB,GAAI,CAACvxB,EACH,OAAO,KAGT,IAAM2C,EAAMC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY5C,GAClB40B,EAAaqU,CAAAA,EAAAA,EAAAA,uBAAAA,EAAwBD,GACrCE,EAAwBC,CAAAA,EAAAA,EAAAA,4BAAAA,EAA6BxmC,EAAKiyB,GAIhE,GAAIA,IAAegU,EAAAA,UAAUA,CAACC,OAAO,EAIjCK,IAAAA,EAAsBxmC,MAAM,CAH9B,OAAO,KAOT,IAAM+lC,EAAgBC,CAAAA,EAAAA,EAAAA,gBAAAA,EAAiB/lC,EAAK4uB,GACxC4I,EAAa,CAAC,kBAAkB,EAAEiP,CAAAA,EAAAA,EAAAA,kBAAAA,EAAmBX,GAAe,SAAS,CAAC,CAC9EA,IAAkBG,EAAAA,UAAUA,CAACS,WAAW,CAC1ClP,EAAa,4CACJsO,IAAkBG,EAAAA,UAAUA,CAACC,OAAO,EAC7C1O,CAAAA,EAAa,EAAC,EAGhB,IAAIJ,EAAU,CAAC,+BAA+B,EAAEmP,EAC7Cr2B,KAAK,CAAC,EAAG,GACT3I,GAAG,CAACxI,GAAKA,EAAE+kB,WAAW,IACtBhkB,IAAI,CAAC,MAAM,mCAAmC,EAAE2mC,CAAAA,EAAAA,EAAAA,kBAAAA,EAAmBxU,GAAY,CAAC,CAAC,CAOpF,OANqC,IAAjCsU,EAAsBxmC,MAAM,EAC9Bq3B,CAAAA,EAAU,CAAC,IAAI,EAAEmP,CAAqB,CAAC,EAAE,CAAEziB,WAAW,GAAG,2CAA2C,EAAE2iB,CAAAA,EAAAA,EAAAA,kBAAAA,EACpGxU,GACA,CAAC,CAAC,EAGC,CACLmF,QAAAA,EACAI,WAAAA,EACAmN,oBAAqBwB,CAAAA,EAAAA,EAAAA,uBAAAA,EAAwBL,EAC/C,CACF,ECuJyB7T,EAAsC+S,EAAuB,CAAC,CAAC7J,GAASjtB,WAE/F,EAAG,CAACitB,EAAS39B,EAAQy0B,EAAY+S,EAAaD,EAAe,EAE7D,IAAM4B,EAAexpC,CAAAA,EAAAA,EAAAA,WAAAA,EACnB,CAACqC,EAA0C8K,KACzC1L,OAAOgoC,QAAQ,CAAC,EAAG,GACnB7B,EAAejmC,KAAAA,EAAW,CAACwL,EAAAA,CAAC,GACxB6wB,GAASrb,OAAS,QACpBva,EAA6B41B,EAAQv2B,QAAQ,CAAE0F,GAEjD9K,EAAE0T,cAAc,EAClB,EACA,CAAC6xB,EAAgBx/B,EAA8B41B,EAAQ,EAGzD,GAAIA,GAASrb,OAAS,OACpB,MAAO,UAAC4iB,GAAIA,CAAAA,GAGd,IAAMmE,EAAyB,CAAC1L,GAASjtB,WAAaitB,GAASrb,OAAS,OAClEA,EAAOqb,GAASrb,KAChBgZ,EAAShZ,SAAAA,EACTgnB,EACJ3L,GAAWA,EAAQ4L,UAAU,CAAG,GAAK,CAAC,CAAC5L,EAAQ31B,IAAI,EAAI21B,EAAQ4L,UAAU,CAAG,GAAK,CAACF,EAC9EG,EAAY,GAAY7L,EAAQ8L,MAAM,EAAElnC,OAAS,GAAM8kC,OAAAA,EAE7D,MACE,UAAC1X,GAAgBtrB,QAAQ,EAACC,MAAOmjC,E,SAC/B,WAACh/B,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CAACU,GAAI,iBAAkBM,OAAQigC,EAAY,OAAS,OAAQ9gC,QAAS,OAAQmC,cAAe,QAAQ,EACxGK,UAAU,sB,UAEV,UAACuD,QAAAA,C,SAAOi7B,E,GACR,WAACC,KAAAA,CAAGz+B,UAAU,U,UACXyyB,EAAU,CAAC,EAAEA,EAAQrb,IAAI,CAAC,CAAC,CAAC,CAAG,GAAG,mBAAiBklB,GAAe,CAAC,KAAE,EAAEA,EAAY,CAAC,C,GAEvF,WAACoC,EAAAA,EAAeA,CAAAA,CACdrhC,GAAI,CACFshC,QAAS,EACT9D,UAAW,OACX,QAAS,CACPA,UAAW,MACb,CACF,E,UAEA,UAACvP,GAAUA,CACTnH,UAAWA,EACXW,kBAAmBA,EACnBG,YAAaqS,EACb9N,YAAaiJ,GAAWA,EAAQ/tB,YAAY,CAC5CqgB,aAAc3N,GAAQwnB,KACtBtV,OAAQmJ,GAAWA,EAAQnJ,MAAM,CACjCC,WAAYkJ,GAAWA,EAAQrb,IAAI,GAErC,UAACsnB,EAAAA,EAAeA,CAAC99B,OAAO,EAACrC,GAAG,MAAMlB,GAAI,CAACsE,SAAU,CAAC,EAAGg9B,QAAQ,OAAOvgC,MAAM,O,SACxE,UAACygC,GAAAA,CACCC,UAAW1O,GAAU,CAACqC,GAAWsM,GAAQtM,GACzCuM,WAAYb,EACZc,kBAAmBxM,GAAW,UAACuD,GAAkBA,CAACvD,QAASA,C,GAC3DyM,oBAAqBzM,GAAW,UAACwE,GAAoBA,CAACxE,QAASA,C,GAC/D0M,OACE1M,GACE,UAACD,GAAeA,CACdC,QAASA,EACTtO,UAAWA,EACXW,kBAAmBA,EACnBG,YAAaqS,EACbvS,aAAc3N,GAAQwnB,I,GAI5BQ,QAAS,CACP3M,GACE,UAAC4M,GAAAA,CAAkBA,CAAAA,CAEjBxC,cAAeA,EACfyC,YAAap6B,GACX,CAAC,2CAA2C,EAAEmqB,mBAC5C,CAAC,OAAO,EAAEnqB,EAAIpQ,MAAM,CAAGoQ,EAAInQ,IAAI,CAAC,CAAC,EACjC,CAAC,EALD,kBASR09B,GAAW,UAAC8M,GAAAA,CAAoBC,UAAWrD,EAAiB1J,QAASA,C,EAA9C,UACvBA,GAASgN,sBACP,UAACC,GAAAA,CAAMA,CAAAA,CAA4Bj/B,QAAQ,UAAUk/B,UAAS,GAACriC,MAAM,6B,SACnE,WAACoiC,GAAAA,CAAMA,CAACE,WAAW,E,UAAC,4DACuC,UAAC1N,OAAAA,C,SAAK,M,GAAW,KAAE,UAACA,OAAAA,C,SAAK,O,GAAY,OAAK,IACnG,UAACA,OAAAA,C,SAAK,O,GAAY,gGACJ,IACd,UAAC9wB,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAC1P,KAAK,mB,SAAmB,sB,OAL7B,wBAWf,CACDupC,WACEzB,GACE,UAAC7gC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC4uB,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,E,SACxB,UAAC6T,EAAAA,CAAUA,CAAAA,CACTC,UAAWtN,EAAQ4L,UAAU,CAC7B2B,YAAavN,EAAQ31B,IAAI,CACzBmhC,aAAcA,EACdgC,YAAar+B,GAAK5M,CAAAA,EAAAA,EAAAA,EAAAA,EAAOQ,EAAAA,EAAUA,CAAEY,KAAAA,EAAW,CAACwL,EAAAA,CAAC,GAAGtL,IAAI,E,GAKjE4pC,WACE,sB,SACG,EAEGnB,GAAQtM,IAAY,CAAC0L,EACvB,UC1ULpQ,GD0UeA,CAAC3B,WAAYA,EAAYnH,YAAaqS,EAAQxS,kBAAmBA,C,GAE3E,UAACvnB,EAAAA,CAAGA,CAAAA,CACFywB,WAAQ,GACR3wB,GAAI,CACFe,MAAO,OACPuD,SAAU,EACVtD,OAAQ8/B,EAAyB,OAAS/nC,KAAAA,CAC5C,E,SAEA,UAAC+pC,GAAAA,CAAuB1N,QAASA,EAAS/uB,aAAcg5B,C,KAZ1D,UAACzH,GAAiBA,CAAAA,E,UAoB9B,UAAC7R,GAASA,CAAAA,G,IAIlB,CAEA,SAASyb,GAAgB,CACvBqB,WAAAA,CAAU,CACVjB,kBAAAA,CAAiB,CACjBC,oBAAAA,CAAmB,CACnBC,OAAAA,CAAM,CACNL,UAAAA,CAAS,CACTE,WAAAA,CAAU,CACVI,QAAAA,CAAO,CACPS,WAAAA,CAAU,CAUX,EACC,MACE,WAACtiC,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACTqE,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,CAChB+D,GAAI,EACJnH,WAAY,aACZJ,OAAQ2gC,EAAa,OAAS5oC,KAAAA,CAChC,E,UAEA,WAACmH,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFyE,SAAU,OACVH,SAAU,EACVtD,OAAQ2gC,EAAa,OAAS5oC,KAAAA,EAC9BqH,SAAU,SACV4L,KAAM,EACN7L,QAAS,OACTmC,cAAe,QACjB,E,UAECw/B,EACD,UAAC5hC,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACTmC,cAAe,SACfwP,GAAI,EACJ9M,IAAK,EACL,UAAW,CACT7E,QAAS,MACX,CACF,E,SAEC4hC,C,GAEH,UAAC7hC,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,CAAC,eAAgB,eAAgB,eAAgB,OAAO,CACjE2R,GAAI,EACJ,UAAW,CACT3R,QAAS,MACX,CACF,E,SAECyhC,C,GAEH,UAAC1hC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC8R,GAAI,EAAG9Q,OAAQ2gC,EAAa,OAAS5oC,KAAAA,CAAS,E,SAAI8pC,C,GAC5D,UAAC3iC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuI,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,E,SAAIi6B,C,GAC7B,CAACf,GACA,UAACvhC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,CAAC,OAAQ,OAAQ,OAAQ,OAAO,CAAE6E,IAAK,EAAG8M,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,E,SAAI+vB,C,MAGpF,CAACJ,GACA,WAACvhC,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,CAAC,OAAQ,OAAQ,OAAQ,OAAO,CACzCmC,cAAe,SACf6G,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,CAChBnE,IAAK,EACLjE,MAAO,OACP+Q,GAAI,CAAC,EAAG,EAAG,EAAG,GAAG,CACjBzQ,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,CAChBoD,SAAU,CAAC,OAAQ,OAAQ,OAAQ,MAAO,MAAM,CAChDH,SAAU,CAAC,OAAQ,OAAQ,OAAQ,IAAK,IAAI,CAC5C,UAAW,CACTnE,QAAS,MACX,CACF,E,UAECyhC,EACAC,E,KAKX,CAEA,SAASK,GAAO,CAACC,UAAAA,CAAS,CAAE/M,QAAAA,CAAO,CAAqE,SACtG,EACS,UAACuJ,GAAeA,CAAE,GAAGwD,CAAS,GAGnC/M,GAAS8L,QAAU9L,EAAQ8L,MAAM,CAAClnC,MAAM,CAAG,EAG3C,sB,SACGo7B,EAAQ8L,MAAM,CAAC/2B,KAAK,CAAC,EAAG,GAAG3I,GAAG,CAAC,CAAC0vB,EAAOpF,IAC/B,UAACmF,GAAWA,CAACC,MAAOA,EAAiBvD,MAAO7B,C,EAAZA,G,GAKxC,IACT,CAEA,SAASgX,GAAuB,CAAC1N,QAAAA,CAAO,CAAE/uB,aAAAA,CAAY,CAAkD,EACtG,OAAQ+uB,EAAQrb,IAAI,EAClB,IAAK,OACH,MAAO,UAAC5T,GAAIA,CAACE,aAAcA,EAAcD,QAASgvB,C,EACpD,KAAK,aACH,MAAO,UAACpQ,GAAUA,CAAC5e,QAASgvB,C,EAC9B,KAAK,UACH,MAAO,UAAC7iB,GAAOA,CAACnM,QAASgvB,C,EAC3B,KAAK,cACH,MAAO,U5CtZElW,G4CsZUA,CAAC9Y,QAASgvB,C,EAC/B,KAAK,SACH,MAAO,UAAC/S,GAAMA,CAACjc,QAASgvB,C,EAC1B,KAAK,mBACH,MAAO,U9CzZEpX,G8CyZOA,CAAC5X,QAASgvB,C,EAC5B,KAAK,eACH,MAAO,U1C/PE9U,G0C+PWA,CAACla,QAASgvB,C,EAChC,KAAK,QACH,MAAO,UxC5RE7R,GwC4RIA,CAACnd,QAASgvB,C,EACzB,KAAK,QACH,MAAO,UvCvbE5Q,GuCubIA,CAACpe,QAASgvB,C,EACzB,KAAK,SACH,MAAO,UAAC9d,GAAMA,CAAClR,QAASgvB,C,EAC1B,KAAK,eACH,MAAO,UAACnW,GAAYA,CAAC7Y,QAASgvB,C,EAChC,KAAK,cACH,MAAO,UAACzb,GAAmBA,CAACvT,QAASgvB,C,EACvC,SACEvc,GAAYuc,EAChB,CACF,CAEA,IAAM+L,GAAiB,CAAC;;;;;;;;;;AAUxB,CAAC,CAED,SAASO,GAAQtM,CAAsB,EACrC,OAAOA,EAAQhvB,OAAO,EAAEpM,SAAW,CACrC,CAEA,SAASunC,KACP,OAAO,IAAIpJ,IAAIxxB,SAASvO,QAAQ,CAACa,IAAI,CAAEJ,OAAOT,QAAQ,CAAC2qC,MAAM,EAAExqC,YAAY,CAACqB,GAAG,CAAC,SAASmkB,aAC3F,CAEA,GAAG,CAAE8gB,GAAOnjC,WAAW,EAAlBmjC,CAAAA,GAAOnjC,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAE8lC,GAAgB9lC,WAAW,EAA3B8lC,CAAAA,GAAgB9lC,WAAW,CAAK,iBAAgB,CAAE,CAAE,KAAM,CAAC,CAChE,GAAG,CAAEwmC,GAAOxmC,WAAW,EAAlBwmC,CAAAA,GAAOxmC,WAAW,CAAK,QAAO,CAAE,CAAE,KAAM,CAAC,CAC9C,GAAG,CAAEonC,GAAuBpnC,WAAW,EAAlConC,CAAAA,GAAuBpnC,WAAW,CAAK,wBAAuB,CAAE,CAAE,KAAM,CAAC,C,wCEtgB9EsnC,CAAAA,EAAAA,GAAAA,CAAAA,EAAwB,mBAAoB,IAAO,EACjDroC,IAAGA,EACHsoC,OAAQ,CACNC,CAAAA,EAAAA,GAAAA,CAAAA,EAAU,CAACjsC,KAAM,UAAWksC,UAAWtE,GAAQuE,eAAgBC,GAAAA,CAAcA,CAACC,yBAAyB,GACvGJ,CAAAA,EAAAA,GAAAA,CAAAA,EAAU,CACRjsC,KAAM,sBACNksC,UAAWtE,GACXuE,eAAgBC,GAAAA,CAAcA,CAACC,yBAAyB,GAE3D,CACH,E,mCCeO,SAASztB,EAASlR,CAAY,EACnC,GAAI,cAAenH,UACjB,OAAOA,UAAU+lC,SAAS,CAACC,SAAS,CAAC7+B,GAGvC,IAAM7H,EAAO6J,SAAS7J,IAAI,CAC1B,GAAI,CAACA,EACH,OAAOg+B,QAAQ2I,MAAM,CAAC,SAGxB,IAAMrM,EAAOsM,SAzCK/+B,CAAY,EAC9B,IAAMyyB,EAAOzwB,SAASm1B,aAAa,CAAC,OAMpC,OALA1E,EAAKlxB,KAAK,CAACnF,KAAK,CAAG,MACnBq2B,EAAKlxB,KAAK,CAAClF,MAAM,CAAG,MACpBo2B,EAAKlxB,KAAK,CAAC9H,QAAQ,CAAG,QACtBg5B,EAAKlxB,KAAK,CAACy9B,GAAG,CAAG,MACjBvM,EAAK4E,WAAW,CAAGr3B,EACZyyB,CACT,EAiC0BzyB,GAIxB,OAHA7H,EAAK8mC,WAAW,CAACxM,IACjByM,SAjCgBzM,CAAa,EAC7B,GAAI,cAAe55B,UACjB,OAAOA,UAAU+lC,SAAS,CAACC,SAAS,CAACpM,EAAK4E,WAAW,EAAI,IAG3D,IAAM8H,EAAYr9B,eAClB,GAAIq9B,MAAAA,EACF,OAAOhJ,QAAQ2I,MAAM,CAAC,SAGxBK,EAAUC,eAAe,GAEzB,IAAMpS,EAAQhrB,SAASq9B,WAAW,GAClCrS,EAAMsS,kBAAkB,CAAC7M,GACzB0M,EAAUI,QAAQ,CAACvS,GAEnBhrB,SAASw9B,WAAW,CAAC,QACrBL,EAAUC,eAAe,GAClBjJ,QAAQsJ,OAAO,EACxB,EAcWhN,GACTt6B,EAAKunC,WAAW,CAACjN,GACV0D,QAAQsJ,OAAO,EACxB,C,8EC5CA,IAAME,EAA6B,wBAC7BC,EAA6B,0BAE5B,SAASzqC,IACd,IAAMk6B,EAAcwQ,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBC,OAAO,CAACH,UACxD,EAEOtQ,EAAYzqB,KAAK,CAAC,KAFA,EAAE,CAKtB,SAASirB,EAAwBR,CAAqB,EAC3DwQ,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBE,OAAO,CAACJ,EAA4BtQ,EAAYj6B,IAAI,CAAC,KACnF,CAEO,SAASyR,IAEd,OAAOm5B,OADSH,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBC,OAAO,CAACF,EAEtD,CAEO,SAAS9Q,EAA2BkR,CAAgB,EACrDA,EACFH,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBE,OAAO,CAACH,EAA4B,KAEhEC,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBI,UAAU,CAACL,EAE3C,C,wBCZO,SAASM,EAAYzN,CAAc,EACxC,MAAO,CAAC,CAAC,EAAwBE,SAAS,CAGrC,SAASwN,EAAiB1N,CAAc,EAC7C,MAAO,CAAC,CAACyN,EAAYzN,IAASA,UAAAA,EAAKE,SAAS,C,qFAuDvC,SAASyN,EAAkB3N,CAAc,CAAE4N,CAAqB,EACrE,GAAIH,EAAYzN,IAASA,EAAKE,SAAS,GAAK0N,EAC1C,MAAO,GAGT,GAAIC,EAAY7N,GACd,KAAK,IAAM71B,KAAS61B,EAAKx8B,QAAQ,CAC/B,GAAImqC,EAAkBxjC,EAAOyjC,GAC3B,MAAO,EAEX,CAEF,MAAO,EACT,E,oBArFkBE,CAAiB,E,sNAAjBA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,GAoBlB,IAAMC,EAAa,OAAW,MAAO,KAE9B,SAASC,EAA8BhO,CAAc,CAAEngC,CAAY,EAIxE,GAAI4tC,EAAYzN,IAASiO,EAAcjO,EAAKrH,OAAO,EAAG,CACpD,GAAIqH,SAAAA,EAAKE,SAAS,CAEhB,IAAI,OAAIF,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,GAAG4+B,QAAQ,CAACH,GAAY,CAACnrC,MAAM,CAChE,OAAO,IACT,MACK,GAAIo9B,QAAAA,EAAKE,SAAS,CAOvB,OAAO,UALP,GAAI,OAAIF,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,GAAG4+B,QAAQ,CAACH,GAAY,CAACnrC,MAAM,CAChE,OAAO,KASX,GAAIo9B,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,GAAGqvB,UAAU,CAAC,KAC3C,OAAO,KAGT,IAAMwP,EAAc,CAAC,CAAC,EAAEnO,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,GAAG6C,KAAK,CAAC,KAAK/H,GAAG,CAACwwB,oBAAoBj4B,IAAI,CAAC,KAAK,CAAC,QAIpG,IAAoB9C,EACX,KAGFsuC,CACT,CAEA,OAAO,IACT,CAIO,SAASF,EAAcjO,CAAc,EAC1C,OAAO,KAAgCr+B,IAAhC,EAAsBgD,KAAK,CAG7B,SAASkpC,EAAY7N,CAAc,EACxC,MAAO,CAAC,CAAC,EAA2Bx8B,QAAQ,CAoBvC,SAAS4qC,EAAiBpO,CAAc,SAC7C,EAAgBA,GACPA,EAAKx8B,QAAQ,CACjB4G,GAAG,CAACgkC,GACJltC,MAAM,CAACwgB,GAAKA,EAAE9e,MAAM,CAAG,GACvBD,IAAI,CAAC,KAGN8qC,EAAYzN,IAASA,UAAAA,EAAKtP,IAAI,CACzB,GAGLud,EAAcjO,GACTA,EAAKr7B,KAAK,CAAC2K,QAAQ,GAGrB,EACT,CAQO,SAAS64B,EAAqBnI,CAAc,EACjD,GAAIA,QAAAA,EAAKtP,IAAI,CACX,MAAO,EAAE,CAGX,GAAImd,EAAY7N,GACd,OAAOA,EAAKx8B,QAAQ,CAAC4G,GAAG,CAAC+9B,GAAsBkG,IAAI,GAGrD,GAAIZ,EAAYzN,GAAO,CACrB,GAAIA,SAAAA,EAAKE,SAAS,EAAe+N,EAAcjO,EAAKrH,OAAO,EACzD,MAAO,CAAC,CAACjI,KAAM,OAAQ/rB,MAAOq7B,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,EAAE,EAAE,CACxD,GAAI0wB,QAAAA,EAAKE,SAAS,EAAc+N,EAAcjO,EAAKrH,OAAO,EAC/D,MAAO,CAAC,CAACjI,KAAM,MAAO/rB,MAAOq7B,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,EAAE,EAAE,CACvD,GAAIo+B,EAAiB1N,IAASiO,EAAcjO,EAAKrH,OAAO,EAC7D,MAAO,CAAC,CAACjI,KAAM,QAAS/rB,MAAOq7B,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,EAAE,EAAE,CAGlE,MAAO,EAAE,CAGJ,SAASg5B,EAAqBtI,CAAc,CAAEsO,CAAc,EACjE,IAAMC,EAAgB,IAAIC,IACxBrG,EAAqBnI,GAClB51B,GAAG,CAACqkC,GACH,QAAIA,EAAM/d,IAAI,CACL+d,EAAM9pC,KAAK,CACT8pC,SAAAA,EAAM/d,IAAI,EAAe+d,EAAM9pC,KAAK,CAAC8N,QAAQ,CAAC,KAChDg8B,EAAM9pC,KAAK,CAACwN,KAAK,CAAC,IAAI,CAAC,EAAE,CAEzB,MAGVjR,MAAM,CAACqS,GAAKA,OAAAA,GACZnJ,GAAG,CAACmJ,GAAKA,GAAGoT,uBAGjB,IAAI4nB,EAAcj9B,IAAI,CACbg9B,EAGFA,EAAKptC,MAAM,CAACwtC,GAAOH,EAActkB,GAAG,CAACykB,EAAI/nB,WAAW,IAC7D,C,+aC5HA,IAAMgoB,EAAmBC,OAAOC,YAAY,CAAC,KAEtC,SAAS/rC,EAAY6B,CAAa,EAGvC,IAAMmqC,EAAQ,OAAWH,EAAkB,KAC3C,MAAOzsC,CAAAA,EAAAA,EAAAA,EAAAA,EAAMyC,EAAMu8B,OAAO,CAAC4N,EAAO,KACpC,CAEO,SAASC,EAAiBpqC,CAAa,EAC5C,IAAMqqC,EAAOlsC,EAAY6B,GACnBsqC,EAAaC,EAAcF,IACjCG,SA+IsBF,CAAuB,EAC7CA,EAAW3c,IAAI,CAAC,CAACvZ,EAAG+e,IAAM/e,EAAE/X,QAAQ,CAACw5B,KAAK,CAAG1C,EAAE92B,QAAQ,CAACw5B,KAAK,CAC/D,EAjJiByU,GAEf,IAAMG,EAAQ,EAAE,CAGZ1a,EAAM,EAEV,IAAK,IAAM2a,KAAMJ,EACf,GAAIva,GAAO2a,EAAGruC,QAAQ,CAACw5B,KAAK,CAAE,CAE5B4U,EAAM1+B,IAAI,CAAC/L,EAAM6oB,SAAS,CAACkH,EAAK2a,EAAGruC,QAAQ,CAACw5B,KAAK,EAAE0G,OAAO,CAAC,IAAK0N,OAAOC,YAAY,CAAC,OACpFna,EAAM2a,EAAGruC,QAAQ,CAACw5B,KAAK,CAGvB,IAAMxtB,EAAOuC,SAASm1B,aAAa,CAAC,QACpC13B,EAAKsiC,SAAS,CAACC,GAAG,CAACF,EAAG9jC,SAAS,EAC/ByB,EAAK43B,WAAW,CAAGjgC,EAAM6oB,SAAS,CAAC6hB,EAAGruC,QAAQ,CAACw5B,KAAK,CAAE6U,EAAGruC,QAAQ,CAACy5B,GAAG,EACrE2U,EAAM1+B,IAAI,CAAC1D,GACX0nB,EAAM2a,EAAGruC,QAAQ,CAACy5B,GAAG,CAQzB,OAJI/F,EAAM/vB,EAAM/B,MAAM,EACpBwsC,EAAM1+B,IAAI,CAAC/L,EAAM6oB,SAAS,CAACkH,GAAKwM,OAAO,CAAC,IAAKyN,IAGxC,CAACK,EAAMI,EAAM,CAGf,SAASI,EAAoB3sC,CAAa,EAC/C,IAAMusC,EAAyB,EAAE,CAMjC,OALAK,EAAqBL,EAAOvsC,GAKrB,IAAI,IAAI2rC,IAHUY,EAAMhlC,GAAG,CAAC41B,GAAQ,EAAMrH,OAAO,CAAiBh0B,KAAK,CAAC2K,QAAQ,KAGlD,CAGvC,SAASmgC,EAAqBL,CAAsB,CAAEpP,CAAc,EAIlE,GAHI0N,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB1N,IAASiO,CAAAA,EAAAA,EAAAA,EAAAA,EAAcjO,EAAKrH,OAAO,GACtDyW,EAAM1+B,IAAI,CAACsvB,GAET6N,CAAAA,EAAAA,EAAAA,EAAAA,EAAY7N,GACd,IAAKA,KAAQA,EAAKx8B,QAAQ,CACxBisC,EAAqBL,EAAOpP,EAGlC,CAOO,SAASj9B,EACd7C,CAAa,CACb8B,CAAkD,CAClDa,CAAa,EAEb,IAAIygC,EAAgB,GAEdoM,EAAoC,EAAE,CAE5CD,EAAqBC,EAAkB7sC,GAEvC,IAAI0zB,EAAQ,EACZ,IAAK,IAAMyJ,KAAQ0P,EACjB,GAAIzB,CAAAA,EAAAA,EAAAA,EAAAA,EAAcjO,EAAKrH,OAAO,EAAG,CAC/B2K,GAAiBpjC,EAAMstB,SAAS,CAAC+I,EAAOyJ,EAAKh/B,QAAQ,CAACw5B,KAAK,EAC3D,IAAMmV,EAAa3tC,EAAagvB,IAAI,CAACyd,GAASR,EAAAA,EAAAA,CAAcjO,EAAKrH,OAAO,GAAK8V,EAAMhiC,IAAI,GAAKuzB,EAAKrH,OAAO,CAACh0B,KAAK,GAC1GzE,MACAyvC,GACFrM,CAAAA,GAYCpjC,EAAM0vC,UAAU,CAAC,OAAQ,IAZ6B,EAEzDrZ,EAAQyJ,EAAKrH,OAAO,CAAC33B,QAAQ,CAACy5B,GAAG,CAKrC,OAFA6I,EAAiBpjC,EAAMstB,SAAS,CAAC+I,EAGnC,CASO,SAASsZ,EAAoBC,CAAsB,CAAE9oC,CAAgB,EAC1E,IAAMzB,EAASyB,KAAAA,EAAkB8oC,EAAKnrC,KAAK,CAAC/B,MAAM,CAAGoE,EACrD8oC,EAAKzb,KAAK,GACVyb,EAAKC,iBAAiB,CAACxqC,EAAQA,EAEjC,CAUA,IAAMyqC,EAAiH,CACrHC,IAAK,CAAC1kC,UAAW,QAAS2kC,SAAU,kBAAkB,EACtDC,IAAK,CAAC5kC,UAAW,QAAS2kC,SAAU,kBAAkB,EACtDE,GAAI,CAAC7kC,UAAW,QAAS2kC,SAAU,kBAAkB,EACrDG,MAAO,CAAC9kC,UAAW,QAAS2kC,SAAU,UAAU,CAClD,EAEO,SAAShB,EAAclP,CAAc,EAC1C,IAAIiP,EACJ,GAAIxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAYzN,IAASsQ,EAAYtQ,EAAKrH,OAAO,EAC/CsW,EAAa,CAAC,CAAC1jC,UAAW,sBAAuBvK,SAAUg/B,EAAKrH,OAAO,CAAC33B,QAAQ,EAAE,MAC7E,GAAIuvC,EAgCiB5rC,KAAK,EAhCDq7B,CAAAA,QAAAA,EAAKr7B,KAAK,EAAcq7B,OAAAA,EAAKr7B,KAAK,EAAaq7B,QAAAA,EAAKr7B,KAAK,EACvFsqC,EAAa,CAAC,CAAC1jC,UAAW,QAASvK,SAAUg/B,EAAKh/B,QAAQ,EAAE,KACvD,CACL,IAAMwvC,EAAOR,CAAgB,CAAChQ,EAAKtP,IAAI,CAAC,CACpC8f,IACoB,aAAlBA,EAAKN,QAAQ,EAAmBI,EAAYtQ,IAC9CiP,CAAAA,EAAa,CAAC,CAAC1jC,UAAWilC,EAAKjlC,SAAS,CAAEvK,SAAUg/B,EAAKh/B,QAAQ,EAAE,EAE/C,qBAAlBwvC,EAAKN,QAAQ,EAgCZ,EAAoCO,iBAAiB,EA/BxDxB,CAAAA,EAAajP,EAAKyQ,iBAAiB,CAACrmC,GAAG,CAACpJ,GAAa,EACnDuK,UAAWilC,EAAKjlC,SAAS,CACzBvK,SAAAA,CACF,GAAE,EAGR,OAGA,CADAiuC,EAAaA,GAAc,EAAE,CACzBpB,CAAAA,EAAAA,EAAAA,EAAAA,EAAY7N,IACPiP,EAAWyB,MAAM,CAAC1Q,EAAKx8B,QAAQ,CAACmtC,OAAO,CAACzB,IACtCzB,CAAAA,EAAAA,EAAAA,EAAAA,EAAYzN,GACdiP,EAAWyB,MAAM,CAACxB,EAAclP,EAAKrH,OAAO,GAE5CsW,CAEX,CAUA,SAASqB,EAAYtQ,CAAc,EACjC,MAAO,CAAC,CAAC,EAA2Bh/B,QAAQ,CAOvC,SAAS4vC,EACd5B,CAAe,CACfta,CAAW,EA0BX,IAAMmc,EAAcC,SAxBXA,EAAiB9Q,CAAc,CAAEzJ,CAAa,EACrD,GAAIsX,CAAAA,EAAAA,EAAAA,EAAAA,EAAY7N,GACd,IAAK,IAAM71B,KAAS61B,EAAKx8B,QAAQ,CAAE,CACjC,IAAMutC,EAAQD,EAAiB3mC,EAAOosB,GACtC,GAAIwa,EACF,OAAOA,CAEX,CAGF,GAAIT,EAAYtQ,GAAO,CACrB,IAAMxF,EAAQwF,EAAKh/B,QAAQ,CAACw5B,KAAK,CAC7BC,EAAMuF,EAAKh/B,QAAQ,CAACy5B,GAAG,CAM3B,GAJIgT,CAAAA,EAAAA,EAAAA,EAAAA,EAAYzN,IAASsQ,EAAYtQ,EAAKrH,OAAO,GAC/C8B,CAAAA,EAAMuF,EAAKrH,OAAO,CAAC33B,QAAQ,CAACy5B,GAAG,EAG7BlE,GAASiE,GAASjE,GAASkE,EAC7B,OAAOuF,CAEX,CACF,EAEqCgP,EAAMta,GAC3C,GAAI,CAACmc,EACH,MAAO,CAACngB,KAAMod,EAAAA,CAAiBA,CAACnjC,IAAI,EAGtC,GAAIkmC,UAAAA,EAAYngB,IAAI,CAClB,MAAO,CAACA,KAAMod,EAAAA,CAAiBA,CAACuC,KAAK,EAGvC,GAAI5C,CAAAA,EAAAA,EAAAA,EAAAA,EAAYoD,GAAc,CAC5B,GAAIA,OAAAA,EAAY3Q,SAAS,CACvB,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACkD,EAAE,CAAEhR,KAAM6Q,CAAW,EAChD,GAAIA,aAAAA,EAAY3Q,SAAS,CAC9B,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACmD,QAAQ,CAAEjR,KAAM6Q,CAAW,EACtD,GAAIA,SAAAA,EAAY3Q,SAAS,CAC9B,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACoD,IAAI,CAAElR,KAAM6Q,CAAW,EAClD,GAAIA,SAAAA,EAAY3Q,SAAS,CAC9B,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACqD,UAAU,CAAEnR,KAAM6Q,CAAW,OACxD,GAAIA,UAAAA,EAAY3Q,SAAS,CAC9B,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACsD,KAAK,CAAEpR,KAAM6Q,CAAW,OACnD,GAAIA,QAAAA,EAAY3Q,SAAS,CAC9B,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACsD,KAAK,CAAEpR,KAAM6Q,CAAW,OACnD,GAAIA,UAAAA,EAAY3Q,SAAS,CAC9B,MAAO,CAACxP,KAAMod,EAAAA,CAAiBA,CAACuD,KAAK,CAAErR,KAAM6Q,CAAW,OAExD,MAAO,CAACngB,KAAMod,EAAAA,CAAiBA,CAACwD,cAAc,CAAEtR,KAAM6Q,CAAW,CAErE,CAEA,MAAO,CAACngB,KAAMod,EAAAA,CAAiBA,CAACnjC,IAAI,CAAEq1B,KAAM6Q,CAAW,CACzD,CAEO,SAASxH,EAA6B2F,CAAc,CAAErsB,CAAgB,EAC3E,IAAM4uB,EAAgB,EAAE,CA4BxB,OAFAC,SAzBSA,EAAiBxR,CAAc,EACtC,GAAIyN,CAAAA,EAAAA,EAAAA,EAAAA,EAAYzN,IAAS,CAACyR,CAAAA,EAAAA,EAAAA,EAAAA,EAAsB9uB,EAAMqd,EAAKE,SAAS,EAAG,CACrE,IAAMA,EAAYF,EAAK0R,GAAG,CAAC/qB,WAAW,GAAG6G,SAAS,CAAC,EAAGwS,EAAK0R,GAAG,CAAC9uC,MAAM,CAAG,GACnE2uC,EAAI9+B,QAAQ,CAACytB,IAChBqR,EAAI7gC,IAAI,CAACwvB,EAEb,MAAO,GAAIuN,CAAAA,EAAAA,EAAAA,EAAAA,EAAYzN,IAASA,OAAAA,EAAKE,SAAS,CAAW,CAEvD,IAAMyR,EAAc3R,EAAKrH,OAAO,CAChC,GAAIsV,CAAAA,EAAAA,EAAAA,EAAAA,EAAc0D,GAAc,CAC9B,IAAMhtC,EAAQgtC,EAAYhtC,KAAK,CAC3Bge,IAASmmB,EAAAA,EAAUA,CAAC5oB,MAAM,EAAIvb,UAAAA,EAChC4sC,EAAI7gC,IAAI,CAAC,YACAiS,IAASmmB,EAAAA,EAAUA,CAAC8I,GAAG,EAAIjtC,OAAAA,GACpC4sC,EAAI7gC,IAAI,CAAC,QAEb,CACF,CAEA,GAAIm9B,CAAAA,EAAAA,EAAAA,EAAAA,EAAY7N,GACd,IAAK,IAAM71B,KAAS61B,EAAKx8B,QAAQ,CAC/BguC,EAAiBrnC,EAGvB,EACiB6kC,GAEVuC,CACT,CASO,SAAS3I,EAAiB/lC,CAAa,CAAE4uB,CAAiB,EAE/D,IAAMogB,EAAoD,CACxD,CAAC/I,EAAAA,EAAUA,CAAC5f,YAAY,CAAC,CAAE,GAC3B,CAAC4f,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,CAAE,GAEnB,CAAC+5B,EAAAA,EAAUA,CAAC5oB,MAAM,CAAC,CAAE,GACrB,CAAC4oB,EAAAA,EAAUA,CAAC8I,GAAG,CAAC,CAAE,EAClB,CAAC9I,EAAAA,EAAUA,CAAChhB,WAAW,CAAC,CAAE,EAC1B,CAACghB,EAAAA,EAAUA,CAAC3tB,OAAO,CAAC,CAAE,EACtB,CAAC2tB,EAAAA,EAAUA,CAACliB,QAAQ,CAAC,CAAE,EACvB,CAACkiB,EAAAA,EAAUA,CAAC7d,MAAM,CAAC,CAAE,EACrB,CAAC6d,EAAAA,EAAUA,CAAC3c,KAAK,CAAC,CAAE,EACpB,CAAC2c,EAAAA,EAAUA,CAACgJ,IAAI,CAAC,CAAE,EACnB,CAAChJ,EAAAA,EAAUA,CAAC1b,KAAK,CAAC,CAAE,EAEpB,CAAC0b,EAAAA,EAAUA,CAACS,WAAW,CAAC,CAAE,IAC1B,CAACT,EAAAA,EAAUA,CAACC,OAAO,CAAC,CAAE,GACtB,CAACD,EAAAA,EAAUA,CAACiJ,UAAU,CAAC,CAAE,EAC3B,EAGKtgB,GACHogB,CAAAA,CAAqB,CAAC/I,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,EAAI,GAG5C,IAAMijC,EAAqD,EAAE,CAE7D,IAAK,IAAMC,KADXC,SAyHOA,EAA6BlS,CAAc,CAAEuR,CAA0C,EAC9F,GAAI9D,CAAAA,EAAAA,EAAAA,EAAAA,EAAYzN,GAAO,CAarB,GAZuB,SAAnBA,EAAKE,SAAS,EAChBqR,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC5f,YAAY,CAAC,C,EAAuB,EAGxD8W,CAAAA,SAAAA,EAAKE,SAAS,EAAeF,QAAAA,EAAKE,SAAS,GAC7CqR,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,C,EAAsB,EAG5B,UAAnBixB,EAAKE,SAAS,EAChBqR,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,C,EAA4B,EAGrDk/B,CAAAA,EAAAA,EAAAA,EAAAA,EAAcjO,EAAKrH,OAAO,EAAG,CAEL,UAAtBqH,EAAKrH,OAAO,CAACjI,IAAI,EACnB6gB,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,C,EAA4B,EAGzD,IAAMpK,EAAQq7B,EAAKrH,OAAO,CAACh0B,KAAK,CAAC2K,QAAQ,GAAGqX,WAAW,GACvD,GAAIqZ,OAAAA,EAAKE,SAAS,CACZv7B,OAAAA,EACF4sC,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC8I,GAAG,CAAC,C,EAA4B,EAC7CjtC,UAAAA,EACT4sC,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC5oB,MAAM,CAAC,C,EAA4B,EACtC,gBAAVvb,GACT4sC,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC3c,KAAK,CAAE2c,EAAAA,EAAUA,CAAC5f,YAAY,CAAC,C,EAA4B,OAE9E,GAAI8W,SAAAA,EAAKE,SAAS,CAAa,CACpC,IAAMiS,EAAU,IAAIpP,IAAI,CACtB,CAAC,SAAU+F,EAAAA,EAAUA,CAAC3tB,OAAO,CAAC,CAC9B,CAAC,aAAc2tB,EAAAA,EAAUA,CAAChhB,WAAW,CAAC,CACtC,CAAC,QAASghB,EAAAA,EAAUA,CAAC5oB,MAAM,CAAC,CAC5B,CAAC,cAAe4oB,EAAAA,EAAUA,CAACS,WAAW,CAAC,CACvC,CAAC,MAAOT,EAAAA,EAAUA,CAACgJ,IAAI,CAAC,CACxB,CAAC,UAAWhJ,EAAAA,EAAUA,CAACliB,QAAQ,CAAC,CAChC,CAAC,KAAMkiB,EAAAA,EAAUA,CAAC8I,GAAG,CAAC,CACtB,CAAC,QAAS9I,EAAAA,EAAUA,CAAC7d,MAAM,CAAC,CAC5B,CAAC,OAAQ6d,EAAAA,EAAUA,CAAC3c,KAAK,CAAC,CAC1B,CAAC,OAAQ2c,EAAAA,EAAUA,CAAC1b,KAAK,CAAC,CAC3B,EACG+kB,EAAQloB,GAAG,CAACtlB,IACd4sC,EAAI7gC,IAAI,CAAC,CAAC,CAACyhC,EAAQ3vC,GAAG,CAACmC,GAAQ,C,EAAuB,CAE1D,CACF,CAEA,IAAMytC,EAAwBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAyBrS,EAAKE,SAAS,CACjEkS,CAAAA,EAAsBxvC,MAAM,CAAG,GACjC2uC,EAAI7gC,IAAI,CAAC,CAAC0hC,E,EAAiD,CAE/D,KAAyB,UAAdpS,EAAKtP,IAAI,EAClB6gB,EAAI7gC,IAAI,CAAC,CAAC,CAACo4B,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,C,EAA4B,EAGzD,GAAI8+B,CAAAA,EAAAA,EAAAA,EAAAA,EAAY7N,GACd,IAAK,IAAM71B,KAAS61B,EAAKx8B,QAAQ,CAC/B0uC,EAA6B/nC,EAAOonC,EAG1C,EAtL+B1uC,EAAKmvC,GACTA,GAAa,CACpC,GAAM,CAACM,EAAO5hB,EAAK,CAAGuhB,EACtB,GAAIvhB,IAAAA,EACF,IAAK,IAAM/N,KAAQ2vB,EACjBT,CAAqB,CAAClvB,EAAK,EAAI,OAE5B,GAAI+N,IAAAA,EAGT,IAAK,IAAM/N,KAAQ2vB,EACjBT,CAAqB,CAAClvB,EAAK,EAAI,SAE5B,GAAI+N,IAAAA,EACT,IAAK,IAAM/N,KAAQ2vB,EACjBT,CAAqB,CAAClvB,EAAK,EAAI,MAE5B,CACL,IAAMwvB,EAAmC,CAAC,EAC1C,IAAK,IAAMxvB,KAAQ2vB,EACjBH,CAAO,CAACxvB,EAAK,CAAG,GAElB,IAAK,IAAM4vB,KAAepkC,OAAOqkC,IAAI,CAACX,GAC/BM,CAAO,CAACI,EAAY,EACvB,OAAOV,CAAqB,CAACU,EAA0B,CAI/D,CAEA,IAAME,EAA8CtkC,OAAOqkC,IAAI,CAACX,GAAuBznC,GAAG,CAACE,GAAO,CAChGA,EACAunC,CAAqB,CAACvnC,EAAkB,CACzC,EAEGooC,EAAa5J,EAAAA,EAAUA,CAACC,OAAO,CAMnC,OALI0J,EAAe7vC,MAAM,CAAG,IAC1B6vC,EAAengB,IAAI,CAAC,CAACvZ,EAAG+e,IAAMA,CAAC,CAAC,EAAE,CAAG/e,CAAC,CAAC,EAAE,EACzC25B,EAAaD,CAAc,CAAC,EAAE,CAAE,EAAE,EAG7BC,CACT,CAiBO,SAAS1J,EAAwBrmB,CAAgB,EAEtD,MAAQ,EACN,CAACmmB,EAAAA,EAAUA,CAACC,OAAO,CAAC,CAAE,GACtB,CAACD,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,CAAE,OACnB,CAAC+5B,EAAAA,EAAUA,CAAC5f,YAAY,CAAC,CAAE,eAC3B,CAAC4f,EAAAA,EAAUA,CAAC8I,GAAG,CAAC,CAAE,eAClB,CAAC9I,EAAAA,EAAUA,CAAC5oB,MAAM,CAAC,CAAE,SACrB,CAAC4oB,EAAAA,EAAUA,CAAChhB,WAAW,CAAC,CAAE,cAC1B,CAACghB,EAAAA,EAAUA,CAAC3tB,OAAO,CAAC,CAAE,UACtB,CAAC2tB,EAAAA,EAAUA,CAACliB,QAAQ,CAAC,CAAE,mBACvB,CAACkiB,EAAAA,EAAUA,CAACS,WAAW,CAAC,CAAE,cAC1B,CAACT,EAAAA,EAAUA,CAAC7d,MAAM,CAAC,CAAE,SACrB,CAAC6d,EAAAA,EAAUA,CAAC3c,KAAK,CAAC,CAAE,QACpB,CAAC2c,EAAAA,EAAUA,CAACgJ,IAAI,CAAC,CAAE,QACnB,CAAChJ,EAAAA,EAAUA,CAAC1b,KAAK,CAAC,CAAE,QACpB,CAAC0b,EAAAA,EAAUA,CAACiJ,UAAU,CAAC,CAAE,YAC3B,EAAC,CAACpvB,EAAK,EAAI,EACb,CAEO,SAAS2mB,EAAmB3mB,CAAgB,EACjD,MACE,EACE,CAACmmB,EAAAA,EAAUA,CAACC,OAAO,CAAC,CAAE,GACtB,CAACD,EAAAA,EAAUA,CAAC/5B,IAAI,CAAC,CAAE,OACnB,CAAC+5B,EAAAA,EAAUA,CAAC5f,YAAY,CAAC,CAAE,eAC3B,CAAC4f,EAAAA,EAAUA,CAAC8I,GAAG,CAAC,CAAE,gBAClB,CAAC9I,EAAAA,EAAUA,CAAC5oB,MAAM,CAAC,CAAE,SACrB,CAAC4oB,EAAAA,EAAUA,CAAChhB,WAAW,CAAC,CAAE,cAC1B,CAACghB,EAAAA,EAAUA,CAAC3tB,OAAO,CAAC,CAAE,UACtB,CAAC2tB,EAAAA,EAAUA,CAACliB,QAAQ,CAAC,CAAE,WACvB,CAACkiB,EAAAA,EAAUA,CAACS,WAAW,CAAC,CAAE,kBAC1B,CAACT,EAAAA,EAAUA,CAAC7d,MAAM,CAAC,CAAE,SACrB,CAAC6d,EAAAA,EAAUA,CAAC3c,KAAK,CAAC,CAAE,QACpB,CAAC2c,EAAAA,EAAUA,CAACgJ,IAAI,CAAC,CAAE,QACnB,CAAChJ,EAAAA,EAAUA,CAAC1b,KAAK,CAAC,CAAE,QACpB,CAAC0b,EAAAA,EAAUA,CAACiJ,UAAU,CAAC,CAAE,MAC3B,EAAC,CAACpvB,EAAK,EAAI,EAEf,CAEO,SAASwmB,EAAwBxmB,CAA4B,EAClE,MACE,EACE,GAAImmB,EAAAA,EAAUA,CAACC,OAAO,CACtBtL,KAAMqL,EAAAA,EAAUA,CAAC/5B,IAAI,CACrB4jC,aAAc7J,EAAAA,EAAUA,CAAC5f,YAAY,CACrC0pB,aAAc9J,EAAAA,EAAUA,CAAC8I,GAAG,CAC5B13B,OAAQ4uB,EAAAA,EAAUA,CAAC5oB,MAAM,CACzB2yB,YAAa/J,EAAAA,EAAUA,CAAChhB,WAAW,CACnCgrB,QAAShK,EAAAA,EAAUA,CAAC3tB,OAAO,CAC3B43B,iBAAkBjK,EAAAA,EAAUA,CAACliB,QAAQ,CACrCosB,YAAalK,EAAAA,EAAUA,CAACS,WAAW,CACnC3e,OAAQke,EAAAA,EAAUA,CAAC7d,MAAM,CACzBgoB,MAAOnK,EAAAA,EAAUA,CAAC3c,KAAK,CACvBmiB,KAAMxF,EAAAA,EAAUA,CAACgJ,IAAI,CACrBoB,MAAOpK,EAAAA,EAAUA,CAAC1b,KAAK,CACvB+lB,WAAYrK,EAAAA,EAAUA,CAACiJ,UAAU,CACnC,CAAC,CAACpvB,EAAK,EAAImmB,EAAAA,EAAUA,CAACC,OAAO,C,mCCvb1B,SAAS9S,EAAwB,CACtCC,YAAAA,CAAW,CACXkd,qBAAAA,CAAoB,CACpBjd,aAAAA,CAAY,CAKb,EACC10B,OAAO0B,aAAa,CAClB,IAAIC,YAhBoB,4CAgBa,CACnCC,OAAQ,CACN6yB,YAAAA,EACAkd,qBAAAA,EACAjd,aAAAA,CACF,CACF,GAEJ,C,kNCZe,SAASkd,EAAa,CAACC,SAAAA,CAAQ,CAAuB,EACnE,GAAM,CAACznC,KAAAA,CAAI,CAAE8O,UAAAA,CAAS,CAAC,CAAG44B,SAoDM1nC,CAAY,EAC5C,OAAQA,GACN,IAAK,QACH,MAAO,CAACA,KAAM2nC,EAAAA,SAASA,CAAE74B,UAAW,YAAY,CAClD,KAAK,WACH,MAAO,CAAC9O,KAAM4nC,EAAAA,WAAWA,CAAE94B,UAAW,cAAc,CACtD,KAAK,OACH,MAAO,CAAC9O,KAAM6nC,EAAAA,QAAQA,CAAE/4B,UAAW,UAAU,CAC/C,KAAK,iBACH,MAAO,CAAC9O,KAAM8nC,EAAAA,iBAAiBA,CAAEh5B,UAAW,UAAU,CACxD,KAAK,QACH,MAAO,CAAC9O,KAAM+nC,EAAAA,SAASA,CAAEj5B,UAAW,cAAc,CACpD,KAAK,cACH,MAAO,CAAC9O,KAAMgoC,EAAAA,cAAcA,CAAEl5B,UAAW,YAAY,CACvD,KAAK,OACH,MAAO,CAAC9O,KAAMioC,EAAAA,QAAQA,CAAEn5B,UAAW,UAAU,CAC/C,KAAK,QACH,MAAO,CAAC9O,KAAMmuB,EAAAA,SAASA,CAAErf,UAAW,WAAW,CACjD,SACE,MAAO,CAAC9O,KAAMwnB,EAAAA,KAAKA,CAAE1Y,UAAW,WAAW,CAC/C,CACF,EAzEqD24B,EAASznC,IAAI,EAC1DkoC,EAAaT,gBAAAA,EAASh6B,KAAK,CACjC,MACE,WAACxQ,EAAAA,CAAGA,CAAAA,CACFmF,cAAY,iBACZnE,GAAG,KACHlB,GAAI,CACFG,QAAS,OACT0M,kBAAmB,MACnB4jB,kBAAmB,QACnBD,kBAAmB,iBACnBzhB,gBAAiB,gBACjBxG,GAAI,EACJmD,GAAI,EACJD,GAAI,OACJrK,WAAY,QACd,E,UAEA,WAAClB,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACorC,UAAW,SAAUjrC,QAAS,MAAM,E,UAC3CgrC,EA0DL,UAACjrC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgB,OAAQ,OAAQD,MAAO,OAAQuD,SAAU,OAAQ8mC,UAAW,SAAUnpC,GAAI,KAAK,E,SACvF,WAACkZ,MAAAA,CAAIgB,KAAK,OAAOC,QAAQ,YAAYzZ,UAAU,cAAcX,cAAY,OAAO+L,KAAK,M,UACnF,UAAC9W,OAAAA,CAAKylB,QAAQ,KAAKH,EAAE,oCAAoC8uB,OAAO,UAAUC,YAAY,G,GACtF,UAACr0C,OAAAA,CAAKslB,EAAE,qBAAqB8uB,OAAO,UAAUC,YAAY,G,GAC1D,UAACr0C,OAAAA,CAAKslB,EAAE,iCAAiCJ,KAAK,S,QA3D5C,UAAC3T,EAAAA,CAAOA,CAAAA,CAACvF,KAAMA,EAAMjD,GAAI,CAACS,MAAOsR,EAAWw5B,OAAQ,UAAWH,UAAW,QAAQ,C,GAEpF,UAACz7B,EAAAA,CAAOA,CAAAA,CAACxM,aAAYunC,EAAS7zB,iBAAiB,CAAEvW,UAAU,I,SACzD,UAACyD,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMyxC,EAASr6B,SAAS,CAAErQ,GAAI,CAACyC,GAAI,CAAC,EAAGU,aAAW,S,SACtD,UAAC8I,EAAAA,CAAYA,CAAAA,CAACC,OAAM,GAAClG,IAAK0kC,EAAS3zB,UAAU,CAAE/W,GAAI,CAAC+O,gBAAiB27B,EAAStzB,qBAAqB,C,UAIzG,WAACrV,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACoC,SAAU,OAAQ3B,MAAO,UAAU,E,UAC5C,WAACsB,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,OAAQ9B,MAAO,aAAcgC,GAAI,KAAK,E,UAAIioC,EAAS7mC,IAAI,CAAC,I,GAC9E6mC,EAASvzB,OAAO,CACf,UAACpV,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACwrC,UAAW,QAAQ,E,SAAId,EAASzzB,iBAAiB,GAE5DyzB,EAASzzB,iBAAiB,CAE3ByzB,EAASh0B,WAAW,EACnB,WAACtS,OAAAA,C,UACE,IAAI,KACFsmC,EAASvzB,OAAO,CAAG,UAACpV,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACwrC,UAAW,QAAQ,E,SAAId,EAASh0B,WAAW,GAAWg0B,EAASh0B,WAAW,C,MAKjH,UAAC3S,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMyxC,EAAS/zB,SAAS,CAAE3W,GAAI,CAACyL,GAAI,OAAQrJ,SAAU,OAAQ6X,WAAY,MAAM,E,SAAG,S,KAK9F,CAqCA,GAAG,CAAEwwB,EAAa/uC,WAAW,EAAxB+uC,CAAAA,EAAa/uC,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,CCnG3C,SAAS+vC,EAAwB,CAACn2B,UAAAA,CAAS,CAA0B,EAClF,MACE,UAACpV,EAAAA,CAAGA,CAAAA,CACFgB,GAAG,KACHlB,GAAI,CACFG,QAAS,OACTmC,cAAe,SACfg6B,UAAW,CAAC,QAAS,QAAQ,CAC7Bl8B,SAAU,MACZ,E,SAECkV,EAAU9T,GAAG,CAAC,CAACkpC,EAAUjpC,IAExB,UAACgpC,EAAYA,CAASC,SAAUA,C,EAAbjpC,G,EAI3B,CAEA,GAAG,CAAEgqC,EAAwB/vC,WAAW,EAAnC+vC,CAAAA,EAAwB/vC,WAAW,CAAK,yBAAwB,CAAE,CAAE,KAAM,CAAC,CCtBjE,SAASgwC,EAAY,CAACt2B,kBAAAA,CAAiB,CAA8B,EAClF,OAAQA,GACN,IAAK,YACH,MAAO,UAACrT,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,OAAQH,SAAU,CAAC,E,SAAG,wB,EACtD,KAAK,SACH,MACE,UAACL,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,gDAAiD8B,WAAY,OAAQH,SAAU,CAAC,E,SAAG,wB,EAIzG,KAAK,UACH,MACE,UAACL,EAAAA,CAAIA,CAAAA,CACH/B,GAAI,CACFS,MAAO,sDACP8B,WAAY,OACZH,SAAU,CACZ,E,SACD,wC,EAIL,SACE,MACE,UAACL,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,gDAAiD8B,WAAY,OAAQH,SAAU,CAAC,E,SAAG,iC,EAI3G,CACF,CAEA,GAAG,CAAEspC,EAAYhwC,WAAW,EAAvBgwC,CAAAA,EAAYhwC,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CCpBjD,SAASiwC,EAAkBloC,CAA6B,EAC7D,GAAM,CAACwR,eAAAA,CAAc,CAAE7L,OAAAA,CAAM,CAAE0qB,UAAAA,CAAS,CAAC,CAAGrwB,EAEtCxD,EAAQgV,EAAiB,UAACy2B,EAAWA,CAACt2B,kBAAmBH,EAAeG,iBAAiB,GAAO,aAEtG,OAAOhM,EACL,UAACsrB,EAAAA,CAAMA,CAAAA,CACLC,QAASb,EACT9zB,GAAI,CACFu8B,UAAW,OACXxtB,gBAAiB,iBACjBuM,UAAW,OACXhO,OAAQ,YACRxM,YAAa,iBACb8qC,aAAc,CAChB,EACA3rC,MAAOA,EACP4rC,SAAU52B,EAAiBA,EAAeC,mBAAmB,CAAGnc,KAAAA,EAChEgI,MAAM,SACNw1B,WAAY,IACV,UAAC7B,EAAAA,CAAMA,CAACE,IAAI,EAAC50B,GAAI,CAACshC,QAAS,CAAC,E,SACzBrsB,EACC,UAACw2B,EAAuBA,CAACn2B,UAAWL,EAAeK,SAAS,GAE5D,UAACpV,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQ0I,eAAgB,SAAUtE,EAAG,CAAC,E,SACvD,UAACunC,EAAAA,CAAOA,CAAAA,CAACpjC,KAAK,Q,SAMtB,IACN,CAEA,GAAG,CAAEijC,EAAkBjwC,WAAW,EAA7BiwC,CAAAA,EAAkBjwC,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CCZpE,IAAMqwC,EAAa,CACjBC,QAAS,CACPC,QAAS/6B,EAAAA,eAAeA,CACxBg7B,OAAQC,EAAAA,mBAAmBA,CAC3BC,QAASxB,EAAAA,SAASA,CAClBnqC,MAAO,gEACT,EACA0W,QAAS,CACP80B,QAASI,EAAAA,UAAUA,CACnBH,OAAQrB,EAAAA,WAAWA,CACnBuB,QAASvB,EAAAA,WAAWA,CACpBpqC,MAAO,gEACT,EACA6rC,QAAS,CACPL,QAASM,EAAAA,WAAWA,CACpBL,OAAQrO,EAAAA,eAAeA,CACvBuO,QAAS3hB,EAAAA,KAAKA,CACdhqB,MAAO,0DACT,EACAywB,MAAO,CACL+a,QAASO,EAAAA,YAAYA,CACrBN,OAAQM,EAAAA,YAAYA,CACpBJ,QAASI,EAAAA,YAAYA,CACrB/rC,MAAO,kDACT,CACF,EAQA,SAASgsC,EAAe,CAAC9pC,UAAAA,CAAS,CAAE+pC,gBAAAA,CAAe,CAAEzpC,KAAAA,CAAI,CAAE8O,UAAAA,CAAS,CAAE46B,YAAAA,CAAW,CAAsB,EACrG,IAAMC,EAAYC,CAAAA,EAAAA,EAAAA,KAAAA,IAEdC,EACF,UAACtkC,EAAAA,CAAOA,CAAAA,CACNulB,kBAAiB4e,EAAcC,EAAY7zC,KAAAA,EAC3CkK,KAAMA,EACNE,aAAYwpC,EAAc5zC,KAAAA,EAAY2zC,GAAoC,iBAC1E1sC,GAAI,CAACS,MAAOsR,CAAS,C,GAYzB,OARI46B,GACFG,CAAAA,EACE,UAACn9B,EAAAA,CAAOA,CAAAA,CAACnT,GAAIowC,EAAWzpC,aAAYwpC,EAAarsC,UAAU,I,SACxDwsC,C,IAML,WAAC1oC,OAAAA,CAAKzB,UAAWoqC,CAAAA,EAAAA,EAAAA,CAAAA,EAAKpqC,EAAW,kCAAmC0C,cAAY,gC,UAC7EynC,EACAJ,GAAmB,WAACtoC,OAAAA,C,UAAK,IAAEsoC,E,KAGlC,CAEO,SAAS32B,EAAkBtS,CAA6B,EAC7D,GAAM,CACJ0P,aAAAA,CAAY,CACZ8B,eAAAA,CAAc,CACd7R,QAAAA,EAAU,SAAS,CACnB4pC,eAAAA,CAAc,CACdC,SAAAA,CAAQ,CACRvkC,KAAAA,EAAO,QAAQ,CACfgkC,gBAAAA,EAAkB,EAAE,CACpBQ,gBAAiBC,CAAS,CAC3B,CAAG1pC,EACE,CAAC2F,EAAQC,EAAU,CAAGvC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/B8lC,EAAYC,CAAAA,EAAAA,EAAAA,KAAAA,IACZO,EAAiB9S,CAAAA,EAAAA,EAAAA,MAAAA,EAA0B,MAC3C+S,EAAYtB,CAAU,CAAC54B,EAAwC,CAC/D,CAAClQ,KAAAA,CAAI,CAAE8O,UAAAA,CAAS,CAAC,CAAG,CACxB9O,KAAMoqC,GAAW,CAACjqC,EAAQ,EAAI2oC,EAAW7a,KAAK,CAAC9tB,EAAQ,CACvD2O,UAAWs7B,GAAW5sC,OAASsrC,EAAW7a,KAAK,CAACzwB,KAAK,QAGvD,UAAI0S,EAEA,UAACs5B,EAAAA,CACC9pC,UAAW,EAA0B5J,KAAAA,EAAR,MAC7B2zC,gBAAgB,MAChBzpC,KAAMA,EACN8O,UAAWA,EACX46B,YAAY,6C,GAKdK,EACK,UAACP,EAAAA,CAAeC,gBAAiBA,EAAiBzpC,KAAMA,EAAM8O,UAAWA,C,GAIhF,uB,UACG26B,EACC,UAAC1jC,EAAAA,CAAMA,CAAAA,CACL3D,cAAY,6BACZ8a,cAAeld,EACfG,QAAQ,YACRsF,KAAMA,EACNvF,aAAY8R,GAAgBC,qBAAuB,CAAC,eAAe,EAAE/B,EAAa,CAAC,CACnFnT,GAAI,CACFuE,EAAG,EACH9D,MAAO,aACP8B,WAAY,SACZ4Y,IAAK,CAAC1a,MAAOsR,CAAS,EACtB,GAAGk7B,CAAQ,EAEbziB,IAAK4iB,EACLxkC,QAAS,KACPukC,MACA9jC,EAAU,GACZ,E,SAECqjC,C,GAGH,UAAC/8B,EAAAA,CAAOA,CAAAA,CACNnT,GAAIowC,EACJzpC,aAAY8R,GAAgBC,qBAAuB/B,EACnD7S,UAAU,KACVN,GAAI,CAACyC,GAAI,CAAC,E,SAGV,UAACM,EAAAA,CAAUA,CAAAA,CACTC,qBAAsB,GACtBqC,cAAY,2BACZpC,KAAMA,EACNG,QAAQ,YACRsF,KAAMA,EACNqlB,kBAAiB6e,EACjB5sC,GAAI,CACFuI,GAAI,EACJ/D,GAAI,EACJ2W,IAAK,CAAC1a,MAAOsR,CAAS,EACtB,yBAA0B,CAACrR,GAAI,cAAc,EAC7C,GAAGusC,CAAQ,EAEbziB,IAAK4iB,EACLxkC,QAAS,KACPukC,MACA9jC,EAAU,GACZ,C,KAILD,GACC,UAACuiC,EAAiBA,CAChB12B,eAAgBA,EAChB7L,OAAQA,EACR0qB,UAAW,KACTzqB,EAAU,IACVyM,WAAW,KACTs3B,EAAe5hB,OAAO,EAAEC,OAC1B,EAAG,EACL,C,KAKV,CAEA,GAAG,CAAEghB,EAAe/wC,WAAW,EAA1B+wC,CAAAA,EAAe/wC,WAAW,CAAK,gBAAe,CAAE,CAAE,KAAM,CAAC,CAC9D,GAAG,CAAEqa,EAAkBra,WAAW,EAA7Bqa,CAAAA,EAAkBra,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,C,0BCnM7D,SAAS4xC,EACdC,CAAW,CACXtpC,CAAmB,EAEnB,GAAM,CAACupC,EAASC,EAAW,CAAG3mC,CAAAA,EAAAA,EAAAA,QAAAA,IACxB,CAAC4mC,EAAYC,EAAc,CAAG7mC,CAAAA,EAAAA,EAAAA,QAAAA,IAgBpC,MAAO,CAAC0mC,EAdap2C,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAC/B,GAAIs2C,IAAeH,IACjBI,EAAcJ,GAEdE,EAAW10C,KAAAA,GAEPw0C,GAAK,CACP,IAAMjwC,EAAMswC,CAAAA,EAAAA,EAAAA,EAAAA,EAAwB3pC,EAAMspC,GACpCjS,EAAW,MAAMx9B,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBR,GACzCmwC,EAAW,MAAMnS,EAASta,IAAI,GAChC,CAEJ,EAAG,CAACusB,EAAKG,EAAYzpC,EAAK,EAEI,C,sBCd5B4pC,E,yHCbCC,CAAgB,E,uGAAhBA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,G,SAOAC,CAAkB,E,wGAAlBA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,GAOL,IAAMC,EAAmB,gFAKZC,EAAsC,CACjD,CACEzxC,GAAI,WACJqH,KAAM,WACNqqC,SACE,obACFC,eAAgB,EAClB,EACA,CACE3xC,GAAI,YACJqH,KAAM,YACNqqC,SACE,6TACJ,EACA,CACE1xC,GAAI,cACJqH,KAAM,eACNqqC,SACE,4ZACJ,EACA,CACE1xC,GAAI,cACJqH,KAAM,cACNqqC,SACE,gdACJ,EACD,CAYYE,EAAkC,CAC7CC,cAXoC,CACpCC,kBAAmB,8uBAA0iBN,qJAAoG,CACjqBO,eAAgB,SAChBC,eAAgB,SAChBC,cAAe,iBACfC,4BAA6B,QAC7BC,uBAAwB,4BACxBC,0BAA2B,CAAC,2YAA2Y,EAAEZ,EAAiB,wBAAwB,CAAC,EAKnda,OAAQ,CAKNC,OAAQ,CAEN,qBAAsB,UACtB,oCAAqC,MACrC,gCAAiC,OACjC,kCAAmC,MACnC,8BAA+B,wBAC/B,iCAAkC,wBAClC,8BAA+B,OAC/B,0BAA2B,UAC3B,0BAA2B,UAC3B,uBAAwB,UACxB,aAAc,UACd,yBAA0B,UAC1B,kCAAmC,UACnC,0BAA2B,oBAG3B,2CAA4C,wBAC5C,sBAAuB,UACvB,uBAAwB,UACxB,+BAAgC,UAChC,gCAAiC,oBACjC,mCAAoC,oBACpC,sCAAuC,UACvC,8BAA+B,UAC/B,uCAAwC,UACxC,6BAA8B,UAC9B,gCAAiC,UACjC,wBAAyB,oBACzB,oCAAqC,UACrC,4BAA6B,UAC7B,qCAAsC,UACtC,4BAA6B,UAC7B,wCAAyC,UACzC,kCAAmC,UACnC,sCAAuC,UACvC,8BAA+B,2BAC/B,qCAAsC,0BACxC,CACF,EACAC,aAAc,QAChB,EAgBaC,EAAkC,CAC7CC,SAf+D,CAC9D,SAA4B,GAC5B,UAA6B,GAC7B,YAA+B,GAC/B,YAA+B,EAClC,EAWEC,YATkE,CACjE,SAA4B,GAC5B,UAA6B,GAC7B,YAA+B,GAC/B,YAA+B,EAClC,CAKA,EDrHaC,EAAsB,OAG7BC,EAAiC,IAAIpyC,KAAK,IAAIA,OAAOqyC,OAAO,GAD/C,SAKbC,EAAqB,MAAOC,IAChCC,EAAuBD,GACvB1B,GAAwB4B,YAC1B,EAEO,eAAeC,IACpB,GAAM,CAACC,eAAAA,CAAc,CAAC,CAAG,MAAM,6FAI/B,OAFA9B,EAAyB,IAAI8B,EAAe,OAAQ,KAAML,EAAoBrB,EAAkBG,EAGlG,CAEO,SAAS5P,IACdqP,GAAwBrP,gBAAgBoR,KAA8B,CAAC,EACzE,CAEO,SAASC,IACdhC,GAAwBiC,WAAWd,EAAgCC,QAAQ,CAC7E,CAEO,SAASc,IACdP,EAAuBR,EAAgCE,WAAW,CACpE,CAEO,SAASc,IACd,OAAOJ,OAAAA,GACT,CAEA,IAAMK,EAAkB,IAAIC,EAAAA,CAAQA,CAE7B,SAASC,IACd,OAAOF,EAAgBG,OAAO,CAGhC,SAASZ,EAAuBD,CAAyC,EACvE,IAAMc,EAAqB9qC,OAAOqkC,IAAI,CAAC2F,GACpC/tC,GAAG,CAAC8uC,GAAoB,CAAC,EAAEA,EAAiB,CAAC,EAAEf,CAAW,CAACe,EAAiB,CAAG,IAAM,IAAI,CAAC,EAC1Fv2C,IAAI,CAAC,KAERw2C,CAAAA,EAAAA,EAAAA,EAAAA,EAAUpB,EAAqBkB,EAAoBjB,EAA+BoB,WAAW,IAC7FP,EAAgB7L,OAAO,CAACmL,EAC1B,CAEO,SAASK,IACd,IAAMa,EAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAUvB,GAEpC,GAAI,CAACsB,EACH,OAAO,KAGT,IAAMlB,EAAckB,EAAkB10C,KAAK,CAACwN,KAAK,CAAC,KAC5ConC,EAA4D,CAAC,EAEnE,IAAK,IAAMC,KAAerB,EAAa,CACrC,GAAM,CAACe,EAAkBO,EAAW,CAAGD,EAAYrnC,KAAK,CAAC,KAErD+mC,GACFK,CAAAA,CAA2B,CAACL,EAAiB,CAAGO,MAAAA,CAAiB,CAErE,CAEA,OAAOF,CACT,CAEA,IAAMG,EAAiBlB,IAEnBkB,GACFb,EAAgB7L,OAAO,CAAC0M,E,kBE3EnB,SAASJ,EAAU7sC,CAAY,EACpC,OAAOktC,EAAWltC,EAAK,CAAC,EAAE,CAQrB,SAASktC,EAAWltC,CAAY,EACrC,IAAMmtC,EAAU,EAAE,CAClB,IAAK,IAAMC,KAAUC,WAUrB,GAAI,CACF,OAAOvqC,SAASsqC,MAAM,CAAC1nC,KAAK,CAAC,IAC/B,CAAE,KAAM,CAEN,MAAO,EAAE,CAEb,IAhBsC,CAClC,GAAM,CAAC7H,EAAK3F,EAAM,CAAGk1C,EAAO1c,IAAI,GAAGhrB,KAAK,CAAC,KACrC1F,IAASnC,GAAO,KAAiB,IAAV3F,GACzBi1C,EAAQlpC,IAAI,CAAC,CAACpG,IAAAA,EAAK3F,MAAAA,CAAK,EAE5B,CACA,OAAOi1C,CACT,CAmBO,SAAST,EACd1sC,CAAY,CACZ9H,CAAa,CACbo1C,EAA4B,IAAI,CAChCC,EAAe,EAAK,CACpBC,EAAW,KAAK,EAEhB,IAAIC,EAAS3qC,SAAS2qC,MAAM,CAC5B,GAAIA,MAAAA,EACF,MAAM,MAAU,iCAIdA,EAAOpV,QAAQ,CAAC,gBAClBoV,CAAAA,EAAS,YAAW,EAGtB,IAAMC,EAASn5C,WAAAA,SAASo5C,QAAQ,CAAgB,WAAa,GACvDC,EAASN,EAAa,CAAC,UAAU,EAAEA,EAAW,CAAC,CAAG,EACnC,MAAjBC,GACFE,CAAAA,EAAS,CAAC,CAAC,EAAEA,EAAO,CAAC,EAEvB,GAAI,CACF3qC,SAASsqC,MAAM,CAAG,CAAC,EAAEptC,EAAK,CAAC,EAAE9H,EAAM,iBAAiB,EAAEu1C,EAAO,EAAEG,EAAO,EAAEF,EAAO,WAAW,EAAEF,EAAS,CAAC,CACtG,KAAM,CAER,CACF,CAQO,SAASK,EAAa7tC,CAAY,CAAEutC,EAAe,EAAK,EAC7D,IAAIE,EAAS3qC,SAAS2qC,MAAM,CAC5B,GAAIA,MAAAA,EACF,MAAM,MAAU,iCAIdA,EAAOpV,QAAQ,CAAC,gBAClBoV,CAAAA,EAAS,YAAW,EAItB,IAAMH,EAAa,IAAIn0C,KAAK20C,IADX30C,OAAOqyC,OAAO,GACI,GAAGmB,WAAW,GAC3Ce,EAASn5C,WAAAA,SAASo5C,QAAQ,CAAgB,WAAa,GACvDC,EAAS,CAAC,UAAU,EAAEN,EAAW,CAAC,EACnB,IAAjBC,GACFE,CAAAA,EAAS,CAAC,CAAC,EAAEA,EAAO,CAAC,EAEvB,GAAI,CACF3qC,SAASsqC,MAAM,CAAG,CAAC,EAAEptC,EAAK,oBAAoB,EAAEytC,EAAO,EAAEG,EAAO,EAAEF,EAAO,CAAC,CAC1E,KAAM,CAER,CACF,C,sFCzGO,mBAAMrB,SAKX0B,aAAc,CACZ,IAAI,CAACxB,OAAO,CAAG,IAAItV,QAAW,CAACsJ,EAASX,KACtC,IAAI,CAACW,OAAO,CAAGA,EACf,IAAI,CAACX,MAAM,CAAGA,CAChB,EACF,CACF,C,mCCAA,MAVyB,CAACoO,EAAoBl7B,KAC5C,IAAM6U,EAAU,IAAI2M,IAAI0Z,EAAYh5C,OAAOT,QAAQ,CAAC2qC,MAAM,EACpDpmC,EAAS,IAAIw7B,IAAIxhB,EAAW9d,OAAOT,QAAQ,CAAC2qC,MAAM,EAGxD,OACE+O,EAHqB74C,IAAI,CAAC4Q,QAAQ,CAAC,MAGxB2hB,EAAQumB,IAAI,GAAKp1C,EAAOo1C,IAAI,EAAIvmB,EAAQh0B,QAAQ,GAAKmF,EAAOnF,QAAQ,EAAIg0B,EAAQ/zB,MAAM,GAAKkF,EAAOlF,MAAM,C,0DCKhH,IAAMu6C,EAAkB,IAAMC,EAAAA,CAAAA,IAA6CC,kBAAoB,CAAC,EAS1Fj0C,EAAiB,GAAyB,CAAC,CAAC+zC,GAAiB,CAACG,EAAY,E,uICjBxE,SAASC,EAAY,CAClCC,OAAAA,CAAM,CACN1+B,SAAAA,CAAQ,CACRF,aAAAA,CAAY,CACZR,mBAAAA,CAAkB,CAClB4B,cAAAA,CAAa,CACbV,eAAAA,CAAc,CACdN,WAAAA,CAAU,CACVI,WAAAA,CAAU,CAUX,EAIC,IAAMq+B,EAAuBz+B,EAC3B,WAACzP,OAAAA,C,UAAK,uBAAqB6P,GAAc,UAAC7P,OAAAA,C,SAAK,uB,GAA6B,I,GAC1E6P,EACF,UAAC7P,OAAAA,C,SAAK,4B,GAEN,yBAEF,GAAI6O,eAAAA,EAAqC,CACvC,GAAIQ,GAAgB4+B,0BAAAA,EAClB,MAAO,UAACjuC,OAAAA,C,SAAK,4D,GACR,GAAI,CAACqP,EACV,MACE,UAACrP,OAAAA,C,SAAK,2G,GAKR,OAAQiuC,GACN,IAAK,UACH,MAAO,UAACjuC,OAAAA,C,SAAK,yF,EAEf,KAAK,gBACH,MAAO,UAACA,OAAAA,C,SAAK,uD,EAEf,KAAK,cACH,GAAIuP,EACF,MACE,WAACvP,OAAAA,C,UACC,WAACL,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAC1P,KA/BD,iB,UA+B0B,8BA7BpC4b,iBAAAA,EAAmC,MAAQ,MA8BP,O,GAC9B,IAAI,4B,GAKhB,MAAO,UAACzQ,OAAAA,C,SAAK,0D,EAGjB,KAAK,YACH,MAAO,UAACA,OAAAA,C,SAAK,qE,EAEf,KAAK,mBACH,GAAIuP,EACF,MACE,WAACvP,OAAAA,C,UACC,UAACL,EAAAA,CAAIA,CAAAA,CAAC4E,OAAM,GAAC1P,KA/CC,mB,SA+C0B,2B,GAEhC,IAAI,4B,GAKhB,MAAO,UAACmL,OAAAA,C,SAAK,8C,EAGjB,KAAK,UACH,MAAO,UAACA,OAAAA,C,SAAK,iD,EAEf,KAAK,mBACH,MACE,UAACA,OAAAA,C,SAAK,0F,EAGV,KAAK,kBACH,MAAO,UAACA,OAAAA,C,SAAK,oE,EAEf,KAAK,kBACH,MAAO,UAACA,OAAAA,C,SAAK,uE,EAEf,KAAK,cACH,MAAO,UAACA,OAAAA,C,SAAK,sC,EAEf,KAAK,aACH,MAAO,UAACA,OAAAA,C,SAAK,6E,EAEf,KAAK,eACH,MAAO,UAACA,OAAAA,C,SAAK,yD,EAEf,KAAK,WACH,MAAO,UAACA,OAAAA,C,SAAK,6D,EAEf,KAAK,wBACL,IAAK,WAEH,MAAO,UAACA,OAAAA,C,SAAK,0C,EACjB,CAEJ,MAAO,GAAI6O,uBAAAA,SACT,EACE,CAAIs/B,EAAAA,EAAAA,CAAAA,IAEA,WAACnuC,OAAAA,C,UAAK,wEACkE,IACtE,UAACrC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,oB,GAAyB,IAAE+vC,E,GAK7D,WAACluC,OAAAA,C,UAAK,iEACgE,IACpE,UAACrC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,oB,GAAyB,IAAE+vC,E,GAM/D,WAACluC,OAAAA,C,UAAK,+CAC6C,UAACrC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,oB,GAAyB,IACzG+vC,E,QAIF,GAAIr/B,aAAAA,EACT,OAAQo/B,GACN,IAAK,QACH,IAAIl+B,EAiBF,MACE,WAAC/P,OAAAA,C,UAAK,+CAC6C,UAACrC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,oB,GAAyB,IACxG+vC,E,GAnBN,GAAIC,CAAAA,EAAAA,EAAAA,CAAAA,IACF,MACE,WAACnuC,OAAAA,C,UAAK,wEACkE,IACtE,UAACrC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,oB,GAAyB,IAAE+vC,E,GAI/D,MACE,WAACluC,OAAAA,C,UAAK,iEACgE,IACpE,UAACrC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,MAAM,E,SAAG,oB,GAAyB,IAAE+vC,E,EAYrE,KAAK,eACH,MACE,UAACluC,OAAAA,C,SAAK,kH,EAKZ,CAEF,MAAO,UAACA,OAAAA,CAAAA,EACV,CAEA,GAAG,CAAEguC,EAAY12C,WAAW,EAAvB02C,CAAAA,EAAY12C,WAAW,CAAK,aAAY,CAAE,CAAE,KAAM,CAAC,CC5KzC,SAAS82C,EAAmB,CACzCvvC,KAAAA,CAAI,CACJ8O,UAAAA,CAAS,CACTsgC,OAAAA,CAAM,CACN1+B,SAAAA,CAAQ,CACRF,aAAAA,CAAY,CACZR,mBAAAA,CAAkB,CAClB4B,cAAAA,CAAa,CACbV,eAAAA,CAAc,CACdN,WAAAA,CAAU,CACVI,WAAAA,CAAU,CAYX,EACC,MACE,WAAC/T,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFG,QAAS,OACToE,EAAG,CACL,EACAc,cAAY,uB,UAEZ,UAACnF,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC0L,GAAI,CAAC,E,SACb,UAAClD,EAAAA,CAAOA,CAAAA,CAACvF,KAAMA,EAAMjD,GAAI,CAACS,MAAOsR,CAAS,C,KAE5C,UAAC7R,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoC,SAAU,EACVshB,SAAU,CACZ,E,SAEA,UAAC0uB,EAAWA,CACVC,OAAQA,EACR1+B,SAAUA,EACVF,aAAcA,EACdR,mBAAoBA,EACpB4B,cAAeA,EACfV,eAAgBA,EAChBN,WAAYA,EACZI,WAAYA,C,OAKtB,CAEA,GAAG,CAAEu+B,EAAmB92C,WAAW,EAA9B82C,CAAAA,EAAmB92C,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,C,0BClDvD,SAAS+2C,EAAmB,CACzCC,OAAAA,CAAM,CACN79B,cAAAA,CAAa,CACb89B,OAAAA,CAAM,CACNC,6BAAAA,CAA4B,CAC5BC,qBAAAA,CAAoB,CACpBh/B,WAAAA,CAAU,CACVI,WAAAA,CAAU,CAUX,EAGC,MACE,UAAC/T,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,MAAM,EAAGkF,cAAY,uB,SACtC,UAACnF,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoC,SAAU,EACVshB,SAAU,EACVjf,SAAU,MACZ,E,SAECmuC,GAAgCD,EAC/B,uB,UACE,UAACzyC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuI,GAAI,CAAC,E,SACb,WAACrI,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,MAAM,E,UACvB,UAAC8L,EAAAA,CAAYA,CAAAA,CAACjG,IAAK2sC,EAAOpiC,UAAU,CAAE7H,KAAM,GAAI1I,GAAI,CAACyC,GAAI,EAAG0G,GAAI,CAAC,C,GACjE,WAACjJ,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACgM,KAAM,CAAC,E,UACf,UAACjI,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM,CAAC,CAAC,EAAE05C,EAAOl2C,KAAK,CAAC,CAAC,CAAEuD,GAAI,CAACoC,SAAU,EAAG3B,MAAO,aAAc8B,WAAY,MAAM,E,SACtFowC,EAAOl2C,KAAK,GAEf,WAAC2H,OAAAA,C,UAAK,yCAnBNyQ,iBAAAA,EAAmC,MAAQ,MAmBe,Q,WAIhE,WAAC3U,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACF+O,gBAAiB,mBACjB5O,QAAS,OACToE,EAAG,CACL,E,UAEA,UAACiE,EAAAA,CAAOA,CAAAA,CAACvF,KAAMwF,EAAAA,QAAQA,CAAEzI,GAAI,CAACyC,GAAI,CAAC,C,GAAK,wI,MAM5C,uB,UACGkwC,EACC,UAACzyC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACwE,GAAI,EAAGsN,GAAI,CAAC,E,SACpB,uB,UACE,UAAC7F,EAAAA,CAAYA,CAAAA,CAACjG,IAAK2sC,EAAOpiC,UAAU,CAAE7H,KAAM,GAAI1I,GAAI,CAACyC,GAAI,CAAC,C,GAC1D,UAACsB,EAAAA,CAAIA,CAAAA,CAAC9K,KAAM,CAAC,CAAC,EAAE05C,EAAOl2C,KAAK,CAAC,CAAC,CAAEuD,GAAI,CAACoC,SAAU,EAAG3B,MAAO,aAAc8B,WAAY,MAAM,E,SACtFowC,EAAOl2C,KAAK,G,KAKnB,yBAEF,WAACyD,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuE,EAAG,EAAGjC,cAAe,QAAQ,E,UACpCowC,GACC,WAACxtC,MAAAA,C,UApDE2P,iBAAAA,EAAmC,uBAAyB,cAqDnD,IAAC,UAAC9S,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACS,MAAO,UAAU,E,SAAIiyC,C,MAG9CA,GAAW7+B,CAAAA,GAAcI,CAAS,GACjC,WAAC/T,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACuI,GAAI,CAAC,E,UACZsL,GACC,UAAC8E,EAAAA,CAAKA,CAAAA,CAAC3Y,GAAI,CAACyC,GAAI,CAAC,EAAGW,QAAQ,S,SAAS,S,GAItC6Q,GAAc,UAAC0E,EAAAA,CAAKA,CAAAA,CAACvV,QAAQ,Y,SAAY,S,MAG7CyvC,E,SAOf,CAEA,GAAG,CAAEJ,EAAmB/2C,WAAW,EAA9B+2C,CAAAA,EAAmB/2C,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,CCpGvD,SAASo3C,EAAkB,CACxCC,QAAAA,CAAO,CACPC,OAAAA,CAAM,CACNH,qBAAAA,CAAoB,CAKrB,MACKI,EASAC,EASJ,OAjBIH,EAAQI,YAAY,EAAIJ,EAAQK,iBAAiB,CACnDH,EAAoB,OACXF,EAAQI,YAAY,CAC7BF,EAAoB,IACXF,EAAQK,iBAAiB,EAClCH,CAAAA,EAAoB,IAAG,EAIrBD,EAAOG,YAAY,EAAIH,EAAOI,iBAAiB,CACjDF,EAAmB,OACVF,EAAOG,YAAY,CAC5BD,EAAmB,IACVF,EAAOI,iBAAiB,EACjCF,CAAAA,EAAmB,IAAG,EAItB,UAAChzC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,MAAM,EAAGkF,cAAY,sB,SACtC,WAACnF,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoC,SAAU,EACVmC,EAAG,CACL,E,UAEA,UAACxC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,OAAQH,SAAU,CAAC,E,SAAG,qB,GAC7C,WAAClC,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,QAASlB,GAAI,CAAC0D,GAAI,CAAC,E,UACzBqvC,EAAQM,WAAW,EAClB,WAACvlC,KAAAA,C,UACC,UAAC5N,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,OAAQrlB,MAAO,UAAU,E,SAAG,I,GAG7E,UAACP,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,MAAM,E,SACpDitB,EAAQM,WAAW,G,GAIzBN,EAAQO,aAAa,EACpB,WAACxlC,KAAAA,C,UACC,UAAC5N,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,OAAQrlB,MAAO,UAAU,E,SAAG,c,GAG7E,UAACP,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,MAAM,E,SACpDitB,EAAQO,aAAa,G,GAI3BL,GACC,WAACnlC,KAAAA,C,UACC,UAAC5N,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,OAAQrlB,MAAO,UAAU,E,SACvEwyC,C,GAEH,WAACjlC,KAAAA,C,UACE+kC,EAAQI,YAAY,CACpBF,SAAAA,GAAgC,IAChCF,EAAQK,iBAAiB,C,SAMlC,UAACrxC,EAAAA,CAAIA,CAAAA,CAAC/B,GAAI,CAACuC,WAAY,OAAQH,SAAU,CAAC,E,SAAG,oB,GAC7C,WAAClC,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,QAASlB,GAAI,CAAC0D,GAAI,CAAC,E,UACzBsvC,EAAOK,WAAW,EACjB,WAACvlC,KAAAA,C,UACC,UAAC5N,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,OAAQrlB,MAAO,UAAU,E,SAAG,I,GAG7E,UAACuN,KAAAA,C,SAAIglC,EAAOK,WAAW,G,GAG1BH,GACC,WAACplC,KAAAA,C,UACC,UAAC5N,EAAAA,CAAGA,CAAAA,CAACgB,GAAI,KAAMlB,GAAI,CAACe,MAAO,OAAQ+kB,aAAc,OAAQrlB,MAAO,UAAU,E,SACvEyyC,C,GAEH,WAACllC,KAAAA,C,UACEglC,EAAOG,YAAY,CACnBD,SAAAA,GAA+B,IAC/BF,EAAOI,iBAAiB,C,SAMhCP,E,IAIT,CAEA,GAAG,CAAEC,EAAkBp3C,WAAW,EAA7Bo3C,CAAAA,EAAkBp3C,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CCvF7D,SAAS63C,EAAmB9vC,CAA6B,MA0G9BsR,MA7F5B49B,EAZJ,GAAM,CAAClmC,UAAAA,CAAS,CAAEgH,aAAAA,CAAY,CAAErK,OAAAA,CAAM,CAAE0qB,UAAAA,CAAS,CAAEzgB,UAAAA,CAAS,CAAEJ,mBAAAA,CAAkB,CAAC,CAAGxP,EAE9E,CAAC+vC,YAAAA,CAAW,CAAEC,UAAAA,CAAS,CAAC,EAuGE1+B,EAvG0B1B,EAAU0B,OAAO,CAwGpE,CACLy+B,YAAa,4BACbC,UAAW,CAAC,EAAE1+B,EAAQ,yFAAyF,CAAC,GAxG5Gs9B,EAASh/B,EAAUE,2BAA2B,CAACC,WAAW,GAC1DW,EAAiBd,EAAUc,cAAc,CAEzC,CAAClR,KAAAA,CAAI,CAAEywC,WAAAA,CAAU,CAAC,CACtBzgC,eAAAA,EACI,CAAChQ,KAAM0wC,EAAAA,cAAcA,CAAED,WAAY,UAAU,EAC7C,CAACzwC,KAAM+W,EAAAA,YAAYA,CAAE05B,WAAY,YAAY,CAGxB,gBAAvBzgC,GAAwCkB,GAC1Cw+B,CAAAA,EAAS,CAACpiC,WAAY8C,EAAUgB,eAAe,CAAE5X,MAAO4W,EAAUkB,WAAW,GAG/E,IAAMq/B,EACJ,UAAC7vC,EAAAA,CAAIA,CAAAA,CAAC9K,KAAMw6C,EAAWpuC,cAAY,iBAAiB1C,UAAU,oB,SAC3D6wC,C,GAIL,OAAOpqC,EACL,UAACsrB,EAAAA,CAAMA,CAAAA,CACLC,QAASb,EACT9zB,GAAI,CACFu8B,UAAW,OACXxtB,gBAAiB,iBACjBuM,UAAW,MACb,EACArb,MAAOgT,EACPlS,MAAM,QACN8yC,aAAc,CAAC,CAACC,cAAAA,CAAa,CAAoB,GAC/C,WAAC5zC,EAAAA,CAAGA,CAAAA,CACFmF,cAAY,uBACZrF,GAAI,CACFG,QAAS,OACT6E,IAAK,EACL5D,WAAY,aACZmD,EAAG,EACHwK,gBAAiB,gBACjBlC,kBAAmB,MACnB4jB,kBAAmB,QACnBD,kBAAmB,eACrB,E,UAEA,UAACkE,EAAAA,CAAMA,CAAChyB,KAAK,EAAClG,GAAIs3C,EAAenxC,UAAU,U,SACxC8J,GAAawG,C,GAEhB,UAACu/B,EAAkBA,CACjBH,OAAQA,EACRpvC,KAAMA,EACN8O,UAAW2hC,EACXzgC,mBAAoBA,EACpBU,SAAUN,EAAUM,QAAQ,CAC5BF,aAAcA,EACdoB,cAAexB,EAAUwB,aAAa,CACtCV,eAAgBA,EAChBN,WAAYR,EAAUQ,UAAU,CAChCI,WAAYZ,EAAUY,UAAU,GAElC,UAACygB,EAAAA,CAAMA,CAACqf,WAAW,EAACpf,QAASb,C,MAGjCyC,WAAY,IAER,UAAC7B,EAAAA,CAAMA,CAACE,IAAI,EAAC50B,GAAI,CAACshC,QAAS,CAAC,E,SACzBjuB,iBAAAA,EAAUwB,aAAa,EAAuBxB,iBAAAA,EAAUwB,aAAa,CACpE,UAAC49B,EAAkBA,CACjBC,OAAQr/B,EAAUU,KAAK,CACvBc,cAAexB,EAAUwB,aAAa,CACtC89B,OAAQA,EACRC,6BAA8B3/B,uBAAAA,EAC9B4/B,qBAAsBe,EACtB//B,WAAYR,EAAUQ,UAAU,CAChCI,WAAYZ,EAAUY,UAAU,GAEhCZ,mBAAAA,EAAUwB,aAAa,EACzBxB,EAAUoB,2BAA2B,EACrCpB,EAAUsB,0BAA0B,CACpC,UAACm+B,EAAiBA,CAChBE,OAAQ3/B,EAAUsB,0BAA0B,CAC5Co+B,QAAS1/B,EAAUoB,2BAA2B,CAC9Co+B,qBAAsBe,C,GAGxB,UAAC1zC,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,MAAM,E,SACvB,UAACD,EAAAA,CAAGA,CAAAA,CACFF,GAAI,CACFoC,SAAU,EACVmC,EAAG,CACL,E,SAECqvC,C,SAQb,IACN,CASA,GAAG,CAAEL,EAAmB73C,WAAW,EAA9B63C,CAAAA,EAAmB73C,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,C,eCnH/D,SAAS6a,EAAkB,CAChC9C,aAAAA,CAAY,CACZR,mBAAAA,CAAkB,CAClBI,UAAAA,CAAS,CACTmD,UAAAA,CAAS,CACTw9B,UAAAA,EAAY,OAAO,CACI,EACvB,GAAM,CAAC5qC,EAAQC,EAAU,CAAGvC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAC/BmtC,EAAW3Z,CAAAA,EAAAA,EAAAA,MAAAA,EAA0B,MAE3C,GAAI,CAACrnB,GAAsB,CAACI,EAC1B,MACE,UAAC1D,EAAAA,CAAOA,CAAAA,CAACxM,aAAW,oCAAoC7C,UAAU,IAAI4zC,QAAO,G,SAC3E,UAACC,EAAAA,CAAkBlhC,mBAAmB,QAAQmhC,WAAY,CAAC1rC,KAAM,OAAO,C,KAK9E,GAAIuK,aAAAA,EACF,MAAO,yBAWT,IAAMohC,EAAqB,UAACF,EAAAA,CAAkBC,WAAY,CAPxDlzC,GAAI,SACJ0H,QAAS,IAAMS,EAAU,IACzBmhB,IAAKypB,EACLvrC,KAAMsrC,EACNh0C,GAAI,CAAC2O,OAAQ,SAAS,CAGgD,EAAGsE,mBAAoBA,C,GAE/F,MACE,uB,UACGohC,EACAjrC,GACC,UAACmqC,EAAkBA,CACjBnqC,OAAQA,EACR0qB,UAAW,KACTzqB,EAAU,IACVyM,WAAW,KACTm+B,EAASzoB,OAAO,EAAEC,OACpB,EAAG,EACL,EACAxY,mBAAoBA,EACpBI,UAAWA,EACXI,aAAcA,EACdhH,UAAW,CAAC,EAAEwG,EAAmBqlB,OAAO,CAAC,IAAK,KAAK,EAAE,EAAE9hB,EAAUrM,KAAK,CAAC,EAAG,GAAG,CAAC,G,EAKxF,CAEA,IAAMmqC,EAAkB,CACtBC,SAAU,CACR77B,MAAO,WACPtV,QAAS,SACX,EACAoxC,WAAY,CACV97B,MAAO,aACPtV,QAAS,WACX,EACAqxC,mBAAoB,CAClB/7B,MAAO,qBACPtV,QAAS,SACX,EACA8tB,MAAO,CACLxY,MAAO,qBACPtV,QAAS,WACX,CACF,EAEM+wC,EAAoBO,CAAAA,EAAAA,EAAAA,UAAAA,EACxB,CACE,CAACzhC,mBAAAA,CAAkB,CAAEmhC,WAAAA,CAAU,CAA6E,CAC5G5pB,KAEA,IAAMmqB,EAAkBL,CAAe,CAACrhC,EAAmD,QAE3F,EAKE,UAAC0F,EAAAA,CAAKA,CAAAA,CAAC6R,IAAKA,EAAKpnB,QAASuxC,EAAgBvxC,OAAO,CAAwB,GAAGgxC,CAAU,C,SACnFO,EAAgBj8B,KAAK,GALjB,wBAQX,EAGFy7B,CAAAA,EAAkBz4C,WAAW,CAAG,oBAEhC,GAAG,CAAE6a,EAAkB7a,WAAW,EAA7B6a,CAAAA,EAAkB7a,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,C,gFCzE7D,SAASQ,IAId,IAAM04C,EAAcrtB,CAAAA,EAAAA,EAAAA,UAAAA,EAAWstB,EAAAA,CAAgBA,EAE/C,GAAI,CAACD,EACH,MAAM,MAAU,wDAElB,GAAM,CAACr5C,QAAAA,CAAO,CAAEC,SAAAA,CAAQ,CAAEJ,SAAAA,CAAQ,CAAC,CAAGw5C,EAEtC,MAAO,CACL34C,mBAAoB7E,CAAAA,EAAAA,EAAAA,WAAAA,EAClB,CAAC09C,EAAWn4C,EAASy4B,EAAU,CAAC,CAAC,IAC/B,IAAM5I,EAAU,CACduoB,MAAO,GACN,SAAax5C,EACdC,SAAAA,EACA,GAAGJ,CAAQ,EAEb45C,CAAAA,EAAAA,EAAAA,EAAAA,EAAUF,EAAW,CAAC,GAAGtoB,CAAO,CAAE,GAAG4I,CAAO,CAAEz4B,OAAAA,CAAM,EACtD,EACA,CAACpB,EAASC,EAAUJ,EAAS,CAEjC,CACF,CAqBO,SAAS65C,IAGd,GAAM,CAACh5C,mBAAAA,CAAkB,CAAC,CAAGC,IAC7B,MAAO,CACLg5C,wBAAyB99C,CAAAA,EAAAA,EAAAA,WAAAA,EACvB,CAACg+B,EAAU,CAAC,CAAC,IACXn5B,EAAmB,kBAAmBlD,KAAAA,EAAWq8B,EACnD,EACA,CAACn5B,EAAmB,CAExB,CACF,C,kDClFO,SAASk5C,EAAal+C,CAAY,CAAE8G,CAAc,EACvD,GAAM,CAACq3C,YAAAA,CAAW,CAAC,CAAGvY,CAAAA,EAAAA,EAAAA,CAAAA,IACtB,OAAOuY,GAAa,CAACn+C,EAAK,EAAE,CAAC8G,EAAO,C,uICQ/B,IAAM5G,EAAc,KACzB,GAAM,CAAC8rC,OAAAA,CAAM,CAAEoS,QAAAA,CAAO,CAAC,CAAGz5C,EAAAA,UAAgB,CAAC05C,EAAAA,CAAUA,EAC/CC,EAAsBC,CAAAA,EAAAA,EAAAA,EAAAA,IAC5B,OAAO55C,EAAAA,WAAiB,CACtB,CAAC65C,EAAIC,EAAkB,CAAC,CAAC,IACvB,IAAMl+C,EAAWm+C,CAAAA,EAAAA,EAAAA,EAAAA,EAAYF,GAAIj+C,QAAQ,CAGzC,GAFyBo+C,CAAAA,EAAAA,EAAAA,EAAAA,EAAY3S,EAAQzrC,GAQtC,CACAq+C,CAAAA,EAAAA,EAAAA,CAAAA,EAAiBz9C,SAASa,IAAI,CAAEw8C,EAAG/uC,QAAQ,KAC9CovC,CAAAA,EAAAA,EAAAA,EAAAA,EAAa,SAEf,GAAM,CAACC,iBAAAA,CAAgB,CAAE,GAAGx+C,EAAQ,CAAGm+C,EACvCM,CAAAA,EAAAA,EAAAA,eAAAA,EAAgB,KACdT,EACEE,EACAM,EACI,CACE,GAAGx+C,CAAO,CACVmZ,MAAO,CACL,CAACulC,EAAAA,CAAqBA,CAAC,CAAE,GACzB,GAAG1+C,EAAQmZ,KAAK,CAEpB,EACAnZ,GAEN,GAAM,CAAC2+C,MAAAA,CAAK,CAAE,GAAGxlC,EAAM,CAAG7X,OAAOw8C,OAAO,CAAC3kC,KAAK,CAC9C7X,OAAOw8C,OAAO,CAACc,YAAY,CAAC,CAAC,GAAGzlC,CAAK,CAAE0lC,UAAW,EAAI,EAAG,GAAIh+C,SAASa,IAAI,CAC5E,EACF,KA3BqB,CACnB,IAAMA,EAAOo8C,EAAQgB,UAAU,CAACZ,GAC9B,WACA,GAAM,CAACa,aAAcC,CAAiB,CAAC,CAAG,MAAM,yJAChDA,EAAkBt9C,EACpB,IACF,CAsBF,EACA,CAACo8C,EAASE,EAAqBtS,EAAO,CAE1C,EAMauT,EAAkB,KAC7B,GAAM,CAACj+C,EAAa,CAAGk+C,CAAAA,EAAAA,EAAAA,EAAAA,IACjBv/C,EAAWC,IACX,CAACK,SAAAA,CAAQ,CAAC,CAAGa,CAAAA,EAAAA,EAAAA,EAAAA,IAEbq+C,EAAkB96C,EAAAA,WAAiB,CAMvC,CAAC+6C,EAAUjB,EAAkB,CAAC,CAAC,IAE7Bx+C,EACE,CACEM,SAAAA,EACAC,OAAQiB,CAJYk+C,EAAAA,EAAAA,EAAAA,EAAmB,mBAAOD,EAA0BA,EAASp+C,GAAgBo+C,GAIzEjwC,QAAQ,EAClC,EACAgvC,EAEJ,EACA,CAACn9C,EAAcrB,EAAUM,EAAS,EAGpC,MAAO,CAACe,EAAcm+C,EAAgB,C,6DCzEjC,SAAS52B,EACd7oB,CAAY,CACZ8G,CAAiC,EAEjC,IAAM84C,EAAQ1B,CAAAA,EAAAA,EAAAA,CAAAA,EAAal+C,EAAM8G,GAEjC,MAAO3G,CAAAA,EAAAA,EAAAA,WAAAA,EACL,MAAO0/C,IACL,IAAIC,EAAgBh5C,EAGpB,GAAI,CAAC84C,EAAO,MAAM,MAAU,CAAC,uCAAuC,EAAEE,EAAc,UAAU,EAAE9/C,EAAK,CAAC,EAsBtG,OApBK6/C,GACHA,CAAAA,EAAO,CAAC,GAIVE,EAAUF,EAAM,mBAAoB,kBAGhCA,EAAKh6C,IAAI,YAAYnD,iBAAmBo9C,WAAAA,IAC1CD,EAAKh6C,IAAI,CAACu+B,MAAM,CAAC,UAAW,UAC5B0b,EAAgB,QAGdD,EAAKh6C,IAAI,YAAYnD,iBAAmBm9C,EAAKh6C,IAAI,YAAYokB,SAE/D41B,EAAKh6C,IAAI,CAACu+B,MAAM,CAAC,qBAAsBwb,GAEvCG,EAAUF,EAAM,oBAAqBD,GAGhC,MAAMtb,MAAMtkC,EAAM,CAAC,GAAG6/C,CAAI,CAAE/4C,OAAQg5C,CAAa,EAC1D,EACA,CAAC9/C,EAAM8G,EAAQ84C,EAAM,CAEzB,CAEA,SAASG,EAAUF,CAAiB,CAAEp1C,CAAW,CAAE3F,CAAa,EAC9D+6C,EAAKtb,OAAO,EAAZsb,CAAAA,EAAKtb,OAAO,CAAK,IAAIyb,OAAQ,EAC7B,IAAMzb,EAAUsb,EAAKtb,OAAO,CAE5B,GAAIA,aAAmByb,QACrBzb,EAAQla,GAAG,CAAC5f,EAAK3F,QACZ,GAAIxC,MAAMC,OAAO,CAACgiC,GAAU,CACjC,IAAM0b,EAAgB1b,EAAQtrB,SAAS,CAAC,CAAC,CAACinC,EAAE,GAAKA,IAAMz1C,EACnDw1C,CAAkB,KAAlBA,EACF1b,EAAQ1zB,IAAI,CAAC,CAACpG,EAAK3F,EAAM,EAEzBy/B,CAAO,CAAC0b,EAAc,CAAG,CAACx1C,EAAK3F,EAAM,MAGvCy/B,CAAO,CAAC95B,EAAI,CAAG3F,CAEnB,C,kBC1DO,SAASq7C,EAAcngD,CAAY,CAAE6/C,EAAoB,CAAC,CAAC,GAChEO,SAesCpgD,CAAY,EAGlD,GAAIqG,IADY66B,IAAIlhC,EAAM4B,OAAOT,QAAQ,CAAC2qC,MAAM,EACxCA,MAAM,GAAKlqC,OAAOT,QAAQ,CAAC2qC,MAAM,CACvC,MAAM,MAAU,wDAEpB,EArBiC9rC,GAE/B,IAAMukC,EAAuB,CAC3B,GAAGsb,EAAKtb,OAAO,CACf,wBAAyB,OACzB,mBAAoB,gBACtB,EAEA,OAAOD,MAAMtkC,EAAM,CAAC,GAAG6/C,CAAI,CAAEtb,QAAAA,CAAO,EACtC,CA2BO,SAAS19B,EAAkB7G,CAAY,CAAE6/C,CAAsB,EAGpE,IAAMtb,EAAuB,CAFuB,GAAnBsb,GAAMtb,SAAW,CAAC,CAGjD,CACAC,OAAQ,mBACR,eAAgB,kBAClB,EAEM3+B,EAAOg6C,GAAMh6C,KAAOzD,KAAKi+C,SAAS,CAACR,EAAKh6C,IAAI,EAAI/D,KAAAA,EAEtD,OAAOq+C,EAAcngD,EAAM,CAAC,GAAG6/C,CAAI,CAAEh6C,KAAAA,EAAM0+B,QAAAA,CAAO,EACpD,CASO,SAAS+b,EAAWtgD,CAAY,CAAE6/C,EAAoB,CAAC,CAAC,EAC7D,IAAMtb,EAAuB,CAC3B,GAAGsb,EAAKtb,OAAO,CACf,kBAAmB,MACrB,EAEA,OAAO4b,EAAcngD,EAAM,CAAC,GAAG6/C,CAAI,CAAEtb,QAAAA,CAAO,EAC9C,CASO,SAASgc,EAAevgD,CAAY,CAAE6/C,CAAsB,EAGjE,IAAMtb,EAAuB,CAFuB,GAAnBsb,GAAMtb,SAAW,CAAC,CAGjD,CACA,kBAAmB,MACrB,EAEA,OAAO19B,EAAkB7G,EAAM,CAAC,GAAG6/C,CAAI,CAAEtb,QAAAA,CAAO,EAClD,C,sIC9FA,IAKMic,EAAgB,CACpB,CAAChhB,KAAM,QAASihB,GAFJC,MAEa,EACzB,CAAClhB,KAAM,MAAOihB,GAJJE,KAIW,EACrB,CAACnhB,KAAM,OAAQihB,GANJG,IAMY,EACvB,CAACphB,KAAM,SAAUihB,GARJI,GAQc,EAC3B,CAACrhB,KAAM,SAAUihB,GAVJK,GAUc,EAC5B,CACKC,EAAoB,IAAIC,KAAKC,cAAc,CAACn/C,KAAAA,EAAW,CAC3Do/C,KAAM,UACNC,MAAO,QACPT,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ/+C,KAAAA,EACRs/C,aAAc,OAChB,GACMC,EAAoB,IAAIL,KAAKC,cAAc,CAACn/C,KAAAA,EAAW,CAACo/C,KAAM,UAAWC,MAAO,QAAST,IAAK,SAAS,GACvGY,EAAqB,IAAIN,KAAKC,cAAc,CAACn/C,KAAAA,EAAW,CAACq/C,MAAO,QAAST,IAAK,SAAS,GAQtF,SAASa,EAAUliC,CAAe,CAAEmiC,EAAiB,EAAI,EAC9D,IAAIC,EAAa,GACXz7C,EAAM,IAAID,KACV27C,EAAa17C,EAAIoyC,OAAO,GAAK/4B,EAAU+4B,OAAO,GAC9CuJ,EAAWnB,EAAcrvB,IAAI,CAAC3mB,GAAKA,EAAEi2C,EAAE,CAAGiB,GAGhD,GAAIC,GAAYA,UAAAA,EAASniB,IAAI,CAAc,CACzC,IAAMoiB,EAAM9wC,KAAKC,KAAK,CAAC2wC,EAAaC,EAASlB,EAAE,EAE7CgB,EADEE,QAAAA,EAASniB,IAAI,EAAcoiB,IAAAA,EAChB,YAEA,CAAC,EAAEA,EAAI,CAAC,EAAED,EAASniB,IAAI,CAAC,EAAEoiB,EAAM,EAAI,IAAM,GAAG,IAAI,CAAC,KAE5D,CACL,IAAMC,EAAYxiC,EAAU8nB,WAAW,KAAOnhC,EAAImhC,WAAW,GAAKma,EAAqBD,EACvFI,EAAa,CAAC,EAAED,EAAiB,MAAQ,GAAG,EAAEK,EAAUpqC,MAAM,CAAC4H,GAAW,CAAC,CAG7E,OAAOoiC,CACT,CAOO,SAASriC,EAAI,CAACC,UAAAA,CAAS,CAAEmiC,eAAAA,EAAiB,EAAI,CAAEM,QAAAA,CAAO,CAAE/4C,GAAAA,CAAE,CAAW,EAC3E,IAAM04C,EAAaF,EAAUliC,EAAWmiC,GAClCO,EAAiBhB,EAAkBtpC,MAAM,CAAC4H,UAEhD,EAWE,UAACvS,EAAAA,CAAIA,CAAAA,CACH/D,GAAI,CACFS,MAAO,WACP,GAAGT,CAAE,EAEP/G,KAAM8/C,EACNp8C,OAAO,S,SAEP,UAACwV,EAAAA,CAAQA,CAAAA,CAACxJ,OAAM,GAAC1I,MAAO+4C,E,SACtB,UAACj3C,EAAAA,CAAIA,CAAAA,CACH9B,MAAO+4C,EACPh5C,GAAI,CACF,mBAAoB,CAClBS,MAAO,YACPiZ,eAAgB,WAClB,CACF,E,SAECg/B,C,OA3BL,UAACvmC,EAAAA,CAAQA,CAAAA,CAACxJ,OAAM,GAAC1I,MAAO+4C,E,SACtB,UAACj3C,EAAAA,CAAIA,CAAAA,CAAC9B,MAAO+4C,EAAgBh5C,GAAIA,E,SAC9B04C,C,IA8BX,CAEA,GAAG,CAAEriC,EAAI3a,WAAW,EAAf2a,CAAAA,EAAI3a,WAAW,CAAK,KAAI,CAAE,CAAE,KAAM,CAAC,C,+EC5FxC,IAAMu9C,EAAmBr9C,EAAAA,aAAmB,CAAuB,CACjE2wB,UAAW,KACXG,aAAc,IAAM,KAAK,CAC3B,GAEO,SAASjxB,EAAyB,CAACb,SAAAA,CAAQ,CAA0B,EAC1E,IAAMxC,EAAW,CAACsJ,IAAKw3C,EAAAA,EAAeA,CAAC1hD,QAAQ,CAAG0hD,EAAAA,EAAeA,CAACzhD,MAAM,EAClE0hD,EAAkB7e,CAAAA,EAAAA,EAAAA,MAAAA,EAAOliC,EAASsJ,GAAG,EACrC03C,EAAqB9e,CAAAA,EAAAA,EAAAA,MAAAA,EAAOliC,EAASsJ,GAAG,EAExC6qB,EAAY+N,CAAAA,EAAAA,EAAAA,MAAAA,EAA0E,CAC1F+e,KAAM,KACNjhD,SAAU,IACZ,GACMkhD,EAAkBliD,CAAAA,EAAAA,EAAAA,WAAAA,EACtB,CAACiiD,EAAqB7sB,KACpBD,EAAUf,OAAO,CAAG,CAAC6tB,KAAAA,EAAM7sB,QAAAA,EAASp0B,SAAUA,EAASsJ,GAAG,CAC5D,EACA,CAACtJ,EAASsJ,GAAG,CAAC,CAGZ03C,CAAAA,EAAmB5tB,OAAO,GAAKpzB,EAASsJ,GAAG,GAC7Cy3C,EAAgB3tB,OAAO,CAAG4tB,EAAmB5tB,OAAO,CACpD4tB,EAAmB5tB,OAAO,CAAGpzB,EAASsJ,GAAG,EAG3C,IAAM63C,EAAYhtB,EAAUf,OAAO,CAACpzB,QAAQ,GAAK+gD,EAAgB3tB,OAAO,CAClEguB,EAAYD,EAAYhtB,EAAUf,OAAO,CAAC6tB,IAAI,CAAG,KACjDI,EAAeF,EAAYhtB,EAAUf,OAAO,CAACgB,OAAO,CAAG,KAEvDzwB,EAAQV,CAAAA,EAAAA,EAAAA,OAAAA,EACZ,IAAO,EAACkxB,UAAWitB,EAAWhtB,QAASitB,EAAc/sB,aAAc4sB,CAAe,GAClF,CAACE,EAAWC,EAAcH,EAAgB,EAE5C,MAAO,UAACL,EAAiBn9C,QAAQ,EAACC,MAAOA,E,SAAQnB,C,EACnD,CASO,SAAS+xB,IACd,MAAOpF,CAAAA,EAAAA,EAAAA,UAAAA,EAAW0xB,EACpB,CAEA,GAAG,CAAEA,EAAiBv9C,WAAW,EAA5Bu9C,CAAAA,EAAiBv9C,WAAW,CAAK,kBAAiB,CAAE,CAAE,KAAM,CAAC,CAClE,GAAG,CAAED,EAAyBC,WAAW,EAApCD,CAAAA,EAAyBC,WAAW,CAAK,0BAAyB,CAAE,CAAE,KAAM,CAAC,C,kFChD3E,IAAMuQ,EAAeyoC,CAAAA,EAAAA,EAAAA,UAAAA,EAAgD,SAC1E,CAAC1uC,IAAAA,CAAG,CAAE0C,KAAAA,EAAO,EAAE,CAAE,GAAGgxC,EAA8B,CAClDlvB,CAAG,EAEH,IAAMna,EAAYhV,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,KAGxB,IAAMiC,EAAM,IAAI66B,IAAInyB,EAAKkzC,EAAAA,EAAeA,CAACnW,MAAM,EAQ/C,OALKzlC,EAAI/E,YAAY,CAAC8oB,GAAG,CAAC,SAAY/jB,EAAI/E,YAAY,CAAC8oB,GAAG,CAAC,MAEzD/jB,EAAI/E,YAAY,CAAC+oB,GAAG,CAAC,OAAQ0kB,OAAOtK,EAAAA,OAAOhzB,KAGtCpL,EAAIoJ,QAAQ,EACrB,EAAG,CAACV,EAAK0C,EAAK,EAEd,MAAO,UAAClG,EAAAA,CAAMA,CAAAA,CAACgoB,IAAKA,EAAKxkB,IAAKqK,EAAW3H,KAAMA,EAAMrD,cAAY,gBAAiB,GAAGq0C,CAAU,EACjG,GAEA,GAAG,CAAEztC,EAAavQ,WAAW,EAAxBuQ,CAAAA,EAAavQ,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,C,mCChBnD,SAASwnC,EAAqC,CACnDjsC,KAAAA,CAAI,CACJksC,UAAAA,CAAS,CAMTwW,sBAAAA,CAAqB,CACrBvW,eAAAA,CAAc,CACdxoC,SAAAA,CAAQ,CACO,EAmDf,MAAO,CACL3D,KAAAA,EAGAksC,UAAAA,EACAyW,WAvDF,eAA0B,CAACxhD,SAAAA,CAAQ,CAAuB,EACxD,IAAIkjC,EACJ,GAAI,CACF,IAAMue,EAAY,CAAC,EAAEzhD,EAASZ,QAAQ,CAAC,EAAEY,EAASX,MAAM,CAAC,CAAC,CAC1D6jC,EAAW,MAAMziC,OAAO0iC,KAAK,CAACse,EAAW,CACvCre,QAAS,CACPC,OAAQ,mBACR,mBAAoB,iBACpB,kBAAmB,SACnB,iBAAkB,MACpB,CACF,EACF,CAAE,MAAOvK,EAAO,CACd,MAAO,CACLnX,KAAM4/B,EAAwB,sBAAwB,QACtDzoB,MAAO,CAACnX,KAAM,YAAY,CAC5B,CACF,CACA,GAAIuhB,EAASwe,UAAU,CACrB,MAAO,CACL//B,KAAM,WACNzc,IAAKg+B,EAASh+B,GAAG,EAEd,GAAI,CAACg+B,EAASpb,EAAE,CACrB,MAAO,CACLnG,KAAM4/B,EAAwB,sBAAwB,QACtDzoB,MAAO,CAACnX,KAAM,YAAaggC,WAAYze,EAASJ,MAAM,CACxD,EAEA,GAAI,CACF,IAAM8e,EAAe,MAAM1e,EAASta,IAAI,GACxC,MAAO,CACLjH,KAAM,SACN2V,KAAMsqB,EACN/5C,MAAO+5C,EAAa/5C,KAAK,CAE7B,CAAE,MAAOixB,EAAO,CACd,MAAO,CACLnX,KAAM4/B,EAAwB,sBAAwB,QACtDzoB,MAAO,CAACnX,KAAM,kBAAkB,CAClC,CACF,CAEJ,EAaEkgC,qBAXF,SAA8B,CAACC,aAAAA,CAAY,CAAgC,EAEzE,MAAO,CAACxqB,KADKwqB,EACCj6C,MAAOyvB,EAAKzvB,KAAK,CACjC,EASEmjC,eAAAA,EACAxoC,SAAAA,CACF,CACF,C,0DCqEKu/C,E,+DA3GL,SAASC,EAAuBC,CAA+B,EAS7D,GAAI,SAAUA,GAAiBA,KAAuBthD,IAAvBshD,EAAcx1C,IAAI,CAAgB,CAC/D,GAAM,CAACA,KAAAA,CAAI,CAAE,GAAGpB,EAAM,CAAG42C,EACzB,MAAO,CAELC,SAAUz1C,EACVpB,MAAOA,CACT,CACF,CAEA,GAAM,CAAC82C,eAAAA,CAAc,CAAEC,qBAAAA,CAAoB,CAAE,GAAG/2C,EAAM,CAAG42C,EACnDI,EAAS,CACb,GAAGD,CAAoB,CAEvBE,WAAY,GACZC,oBAAqB,EACvB,EAEA,MAAO,CAELL,SAAUM,IAAAA,QAAkB,CAACL,EAAgBE,GAC7Ch3C,MAAOA,CACT,CACF,CAcO,IAAM8X,EAAcs/B,EAAuB36C,EAAAA,CAAGA,CAIrDqb,CAAAA,EAAY7f,WAAW,CAAG,cAcnB,IAAMkJ,EAAei2C,EAAwB94C,EAAAA,CAAIA,EAUxD,SAAS84C,EAAgB1X,CAAiC,EAUxD,MAP0BuR,CAAAA,EAAAA,EAAAA,UAAAA,EAA8C,CAAC2F,EAAe7vB,KACtF,GAAM,CAAC8vB,SAAAA,CAAQ,CAAE72C,MAAAA,CAAK,CAAC,CAAG22C,EAAoBC,GAG9C,MAAO,UAAClX,EAAAA,CAAU3Y,IAAKA,EAAM,GAAG/mB,CAAK,CAAEq3C,wBAAyBR,EAAW,CAACS,OAAQT,CAAQ,EAAIvhD,KAAAA,C,EAClG,EAGF,CAjBA6L,EAAalJ,WAAW,CAAG,eA8BpB,IAAMs/C,EAActG,CAAAA,EAAAA,EAAAA,UAAAA,EAGzB,CAAC2F,EAAe7vB,KAChB,GAAM,CAAC8vB,SAAAA,CAAQ,CAAE72C,MAAAA,CAAK,CAAC,CAAG22C,EAAoBC,GAE9C,MAAO,UAACn1C,MAAAA,CAAIslB,IAAKA,EAAM,GAAG/mB,CAAK,CAAEq3C,wBAAyBR,EAAW,CAACS,OAAQT,CAAQ,EAAIvhD,KAAAA,C,EAC5F,EACAiiD,CAAAA,EAAYt/C,WAAW,CAAG,cAE1B,GAAG,CAAEy+C,CAAAA,EAAAA,iBAAgB,EAAEz+C,WAAW,EAA7By+C,CAAAA,EAAkBz+C,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,C,uICvJ7D,SAASsmC,EAAmB,CACjCxC,cAAAA,CAAa,CACbyC,YAAAA,CAAW,CACXjiC,GAAAA,CAAE,CAIM,EACR,IAAM5H,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IAEjB,GAAI,CAACmnC,GAAiBA,IAAAA,EAAcxlC,MAAM,CACxC,OAAO,KAIT,IAAIihD,EAAkB,UAAC/rB,IAAAA,C,SAAGsQ,EAAcr1B,KAAK,CAAC,EAAG,GAAGpQ,IAAI,CAAC,K,GAkBzD,OAhB6B,IAAzBylC,EAAcxlC,MAAM,EACtBihD,CAAAA,EACE,WAAC72C,OAAAA,C,UACC,UAAC8qB,IAAAA,C,SAAGsQ,CAAa,CAAC,EAAE,GAAK,QAAK,UAACtQ,IAAAA,C,SAAGsQ,CAAa,CAAC,EAAE,G,IAK3B,IAAzBA,EAAcxlC,MAAM,EACtBihD,CAAAA,EACE,WAAC72C,OAAAA,C,UACC,UAAC8qB,IAAAA,C,SAAGsQ,EAAcr1B,KAAK,CAAC,EAAG,GAAGpQ,IAAI,CAAC,K,GAAU,SAAM,UAACm1B,IAAAA,C,SAAGsQ,CAAa,CAAC,EAAE,G,IAM3E,UAACt/B,EAAAA,CAAGA,CAAAA,CAACF,GAAIA,EAAIqF,cAAY,a,SACvB,UAACnF,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACoC,SAAU,CAAC,E,SACnB,UAAC84C,UAAAA,CAAQ/3C,aAAW,6B,SAClB,UAAC+J,EAAAA,CAAKA,CAAAA,CACJlN,GAAI,CACFuE,EAAG,EACH5D,aAAc,EACdE,YAAa,EACbD,YAAa,QACbE,YAAa,eACbsB,SAAU,CACZ,E,SAECo9B,IAAAA,EAAcxlC,MAAM,CACnB,WAACkL,MAAAA,C,UACC,UAACsD,EAAAA,CAAOA,CAAAA,CAACvF,KAAMk4C,EAAAA,cAAcA,GAC7B,UAACp3C,EAAAA,CAAIA,CAAAA,CACH4E,OAAM,GACN1P,KAAM,CAAC,MAAM,EAAEumC,CAAa,CAAC,EAAE,CAAC,eAAe,EAAE4b,EAAmB,CAAChjD,SAAAA,EAAU6pC,YAAAA,CAAW,GAAG,CAAC,C,SAC/F,gB,GAEM,6BACqB,UAAC/S,IAAAA,C,SAAGsQ,CAAa,CAAC,EAAE,GAAK,iB,GAGvD,WAACt/B,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACG,QAAS,OAAQiB,WAAY,WAAYD,SAAU,OAAQ6D,IAAK,CAAC,E,UACzE,WAAC9E,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAAC0jB,SAAU,CAAC,E,UACnB,UAAClb,EAAAA,CAAOA,CAAAA,CAACvF,KAAMk4C,EAAAA,cAAcA,GAAI,wCACKF,EAAiB,IACtDzb,EAAcxlC,MAAM,CAAG,EAAI,CAAC,IAAI,EAAEwlC,EAAcxlC,MAAM,CAAG,EAAE,OAAO,CAAC,CAAG,GACtEwlC,EAAcxlC,MAAM,CAAG,EAAI,gBAAkB,eAAe,I,GAE/D,UAACkG,EAAAA,CAAGA,CAAAA,CAACF,GAAI,CAACqB,GAAI,CAAC,EAAG,EAAG,EAAE,E,SACrB,UAACg6C,EAAAA,CAAmB7b,cAAeA,EAAeyC,YAAaA,C,eASjF,CACA,SAASoZ,EAAmB,CAC1B7b,cAAAA,CAAa,CACbyC,YAAAA,CAAW,CAIZ,EACC,IAAM7pC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACjB,MACE,WAACwK,EAAAA,CAAUA,CAAAA,C,UACT,UAACA,EAAAA,CAAUA,CAACmG,MAAM,EAACN,KAAK,Q,SAAQ,wB,GAChC,UAAC7F,EAAAA,CAAUA,CAACQ,OAAO,E,SACjB,UAACC,EAAAA,CAAUA,CAAAA,C,SACRk8B,EAAch+B,GAAG,CAACskC,GACjB,UAACxiC,EAAAA,CAAUA,CAAC2O,IAAI,EAEdwW,SAAU,IACP5vB,OAAOT,QAAQ,CAACa,IAAI,CAAG,CAAC,MAAM,EAAE6sC,EAAI,eAAe,EAAEsV,EAAmB,CAAChjD,SAAAA,EAAU6pC,YAAAA,CAAW,GAAG,CAAC,C,SAGpG6D,C,EALI,CAAC,IAAI,EAAEA,EAAI,CAAC,E,OAY/B,CAEA,SAASsV,EAAmB,CAC1BhjD,SAAAA,CAAQ,CACR6pC,YAAAA,CAAW,CAIZ,EACC,OAAOjQ,mBAAmBiQ,EAAcA,EAAY7pC,GAAYA,EAASZ,QAAQ,CAAGY,EAASX,MAAM,CAAGW,EAASV,IAAI,CACrH,CAEA,GAAG,CAAEsqC,EAAmBtmC,WAAW,EAA9BsmC,CAAAA,EAAmBtmC,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,CACtE,GAAG,CAAE2/C,EAAmB3/C,WAAW,EAA9B2/C,CAAAA,EAAmB3/C,WAAW,CAAK,oBAAmB,CAAE,CAAE,KAAM,CAAC,C","sources":["app/assets/modules/react-shared/Repos/CurrentUser.tsx","app/assets/modules/blackbird-monolith/components/results/LegacyCode.tsx","app/assets/modules/blackbird-monolith/hooks/use-soft-navigate.ts","app/assets/modules/blackbird-monolith/hooks/use-navigate-to-query.ts","app/assets/modules/blackbird-monolith/hooks/use-search-bar-events.ts","app/assets/modules/blackbird-monolith/App.tsx","app/assets/modules/blackbird-monolith/hooks/use-search-analytics.ts","app/assets/modules/blackbird-monolith/hooks/use-track-selection.ts","app/assets/modules/blackbird-monolith/components/EllipsisOverflow.tsx","app/assets/modules/blackbird-monolith/components/LanguageCircle.tsx","app/assets/modules/blackbird-monolith/components/search-result/Footer.tsx","app/assets/modules/blackbird-monolith/components/search-result/Header.tsx","app/assets/modules/blackbird-monolith/components/search-result/Content.tsx","app/assets/modules/blackbird-monolith/components/search-result/RepositoryContext.tsx","app/assets/modules/blackbird-monolith/components/search-result/Result.tsx","app/assets/modules/blackbird-monolith/components/search-result/SearchMatchText.tsx","app/assets/modules/blackbird-monolith/components/search-result/TokenList.tsx","app/assets/modules/blackbird-monolith/components/search-result/List.tsx","app/assets/modules/blackbird-monolith/components/search-result/index.ts","app/assets/modules/blackbird-monolith/components/NoResults/MonaSearchImage.tsx","app/assets/modules/blackbird-monolith/components/results/Code.tsx","app/assets/modules/blackbird-monolith/components/search-result/CommitAuthors.tsx","app/assets/modules/blackbird-monolith/utilities/issue-utils.ts","app/assets/modules/blackbird-monolith/components/search-result/IssueReferences.tsx","app/assets/modules/blackbird-monolith/components/results/Commits.tsx","app/assets/modules/blackbird-monolith/components/results/Issues.tsx","app/assets/modules/blackbird-monolith/utilities/assert-never.ts","app/assets/modules/react-shared/Count.tsx","app/assets/modules/blackbird-monolith/components/search-result/TopicLabel.tsx","app/assets/modules/blackbird-monolith/components/results/MarketplaceListings.tsx","app/assets/modules/blackbird-monolith/components/PackageIcons.tsx","app/assets/modules/blackbird-monolith/utilities/format-type-title.ts","app/assets/modules/blackbird-monolith/components/results/Packages.tsx","app/assets/modules/blackbird-monolith/components/results/PullRequests.tsx","app/assets/modules/blackbird-monolith/components/results/Discussions.tsx","app/assets/modules/blackbird-monolith/components/results/StarButton.tsx","app/assets/modules/blackbird-monolith/components/results/Repositories.tsx","app/assets/modules/blackbird-monolith/components/results/Topics.tsx","app/assets/modules/blackbird-monolith/components/results/Users.tsx","app/assets/modules/blackbird-monolith/components/results/Wikis.tsx","app/assets/modules/react-shared/HoverCard.tsx","app/assets/modules/blackbird-monolith/components/FacetsPane/EducationGroup.tsx","app/assets/modules/blackbird-monolith/components/skeletons/Base.tsx","app/assets/modules/blackbird-monolith/components/LazyCounter.tsx","app/assets/modules/blackbird-monolith/hooks/use-soft-navigate-to.ts","app/assets/modules/blackbird-monolith/contexts/LoggedInContext.tsx","app/assets/modules/blackbird-monolith/components/FacetsPane/TypeGroup.tsx","app/assets/modules/blackbird-monolith/types/blackbird-types.ts","app/assets/modules/blackbird-monolith/components/FacetsPane/FacetNegateButton.tsx","app/assets/modules/blackbird-monolith/components/FacetsPane/FacetOption.tsx","app/assets/modules/blackbird-monolith/components/skeletons/FacetsSkeletonGroups.tsx","app/assets/modules/blackbird-monolith/components/FacetsPane/FilterGroups.tsx","app/assets/modules/blackbird-monolith/components/FacetsPane/utils/get-filters.ts","app/assets/modules/blackbird-monolith/components/FacetsPane/FacetsPane.tsx","app/assets/modules/blackbird-monolith/components/NoResults/Header.tsx","app/assets/modules/blackbird-monolith/components/NoResults/Footer.tsx","app/assets/modules/blackbird-monolith/components/NoResults/Tips.tsx","app/assets/modules/blackbird-monolith/components/NoResults/TipsContentList.tsx","app/assets/modules/blackbird-monolith/components/NoResults/NoResults.tsx","app/assets/modules/blackbird-monolith/components/NoResults/data.tsx","app/assets/modules/blackbird-monolith/components/SearchError.tsx","app/assets/modules/blackbird-monolith/components/SortMenu.tsx","app/assets/modules/blackbird-monolith/components/ExtraMenu.tsx","app/assets/modules/blackbird-monolith/components/FacetsPane/TypeMobileDropdown.tsx","app/assets/modules/blackbird-monolith/components/ExperimentsDialog.tsx","app/assets/modules/blackbird-monolith/components/SearchSubHeader.tsx","app/assets/modules/blackbird-monolith/components/skeletons/CodeItemsSkeleton.tsx","app/assets/modules/blackbird-monolith/components/suggestions/FeaturedTopic.tsx","app/assets/modules/blackbird-monolith/components/suggestions/PrimarySuggestions.tsx","app/assets/modules/blackbird-monolith/components/suggestions/MiniTip.tsx","app/assets/modules/blackbird-monolith/components/suggestions/MarketingSuggestion.tsx","app/assets/modules/blackbird-monolith/components/suggestions/Feedback.tsx","app/assets/modules/blackbird-monolith/components/suggestions/SecondarySuggestions.tsx","app/assets/modules/blackbird-monolith/hooks/use-search-result-counts.ts","app/assets/modules/blackbird-monolith/components/PrefixesDialog.tsx","app/assets/modules/blackbird-monolith/pages/Home.tsx","app/assets/modules/blackbird-monolith/components/SoftLink.tsx","app/assets/modules/blackbird-monolith/components/SearchTypeError.tsx","app/assets/modules/blackbird-monolith/pages/Search.tsx","app/assets/modules/blackbird-monolith/components/NoResults/index.ts","app/assets/modules/blackbird-monolith/index.ts","app/assets/modules/github/command-palette/copy.ts","app/components/search/experiments.ts","app/components/search/parsing/common.ts","app/components/search/parsing/parsing.ts","ui/packages/append-and-focus-search-bar/append-and-focus-search-bar.ts","ui/packages/commit-checks-status/components/CheckRunItem.tsx","ui/packages/commit-checks-status/components/ChecksStatusBadgeFooter.tsx","ui/packages/commit-checks-status/components/ChecksStatusBadgeHeader.tsx","ui/packages/commit-checks-status/CheckStatusDialog.tsx","ui/packages/commit-checks-status/ChecksStatusBadge.tsx","ui/packages/commit-checks-status/hooks/use-commit-checks-status-details.ts","ui/packages/cookie-consent/cookie-consent.ts","ui/packages/cookie-consent/lib/configuration.ts","ui/packages/cookies/cookies.ts","ui/packages/deferred/deferred.ts","ui/packages/is-hash-navigation/is-hash-navigation.ts","ui/packages/react-core/use-feature-flag.ts","ui/packages/signed-commit-badge/components/ReasonLabel.tsx","ui/packages/signed-commit-badge/components/SignedCommitHeader.tsx","ui/packages/signed-commit-badge/components/SignedCommitFooter.tsx","ui/packages/signed-commit-badge/components/SmimeCommitFooter.tsx","ui/packages/signed-commit-badge/SignedCommitDialog.tsx","ui/packages/signed-commit-badge/SignedCommitBadge.tsx","ui/packages/use-analytics/use-analytics.ts","ui/packages/use-csrf-token/use-csrf-token.ts","ui/packages/use-navigate/use-navigate.ts","ui/packages/use-verified-fetch/use-verified-fetch.ts","ui/packages/verified-fetch/verified-fetch.ts","ui/packages/ago/Ago.tsx","ui/packages/focus-hint-context/FocusHintContext.tsx","ui/packages/github-avatar/GitHubAvatar.tsx","ui/packages/react-core/JsonRoute.tsx","ui/packages/safe-html/SafeHTML.tsx","ui/packages/single-sign-on-banner/SingleSignOnBanner.tsx"],"sourcesContent":["import type {CurrentUser} from '@github-ui/repos-types'\nimport React from 'react'\n\nconst CurrentUserContext = React.createContext<CurrentUser | undefined>(undefined)\n\nexport function CurrentUserProvider({user, children}: React.PropsWithChildren<{user?: CurrentUser}>) {\n  return <CurrentUserContext.Provider value={user}> {children} </CurrentUserContext.Provider>\n}\n\nexport function useCurrentUser() {\n  return React.useContext(CurrentUserContext)\n}\n\ntry{ CurrentUserContext.displayName ||= 'CurrentUserContext' } catch {}\ntry{ CurrentUserProvider.displayName ||= 'CurrentUserProvider' } catch {}","import {Fragment, type PropsWithChildren, useState} from 'react'\nimport {Box, Link, Octicon} from '@primer/react'\nimport {ChevronRightIcon, GitBranchIcon, ChevronDownIcon} from '@primer/octicons-react'\nimport type {LegacyCodeResults, LegacyCodeResultItem} from '../../types/blackbird-types'\nimport Result from '../search-result'\nimport LanguageCircle from '../LanguageCircle'\nimport {SafeHTMLBox} from '@github-ui/safe-html'\nimport {blobPath, encodePart, ownerAvatarPath} from '@github-ui/paths'\nimport EllipsisOverflow from '../EllipsisOverflow'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nexport default function LegacyCode({results}: {results: LegacyCodeResults}) {\n  return (\n    <>\n      <Result.List sx={{gap: [3, 3, 4, 4]}}>\n        {results.results.map(item => (\n          <LegacyCodeResult key={item.id} item={item} />\n        ))}\n      </Result.List>\n    </>\n  )\n}\n\nfunction LegacyCodeResult({item}: {item: LegacyCodeResultItem}) {\n  const [isOpen, setIsOpen] = useState(true)\n\n  const destinationPath = blobPath({\n    owner: item.owner_login,\n    repo: item.repo.repository.name,\n    commitish: item.commit_sha,\n    filePath: item.path,\n  })\n\n  return (\n    <Box sx={{minWidth: 0}}>\n      <Box\n        sx={{\n          bg: 'canvas.subtle',\n          userSelect: 'none',\n          pl: 2,\n          pr: 3,\n          height: 40,\n          listStyle: 'none',\n          borderTopLeftRadius: 2,\n          borderTopRightRadius: 2,\n          borderBottomRightRadius: isOpen ? 0 : 2,\n          borderBottomLeftRadius: isOpen ? 0 : 2,\n          borderColor: 'border.default',\n          borderWidth: 1,\n          borderStyle: 'solid',\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <OpenCloseButton\n          isOpen={isOpen}\n          onClick={() => setIsOpen(!isOpen)}\n          name={`${item.owner_login}/${item.repo.repository.name}`}\n        />\n        <Box sx={{flex: 1, alignItems: 'center', display: 'flex', ml: 1, minWidth: 0}}>\n          <Result.Avatar mr=\"6px\">\n            <GitHubAvatar square sx={{ml: '1px'}} size={16} src={ownerAvatarPath({owner: item.owner_login})} />\n          </Result.Avatar>\n          <Result.Title fontSize={1}>\n            <EllipsisOverflow side=\"left\" title={`${item.owner_login}/${item.repo.repository.name}  item.hl_path`}>\n              <Result.RepositoryLink\n                owner={item.owner_login}\n                name={item.repo.repository.name}\n                sx={{color: 'fg.default', fontWeight: 'bold'}}\n              />\n              &nbsp;&nbsp;\n              <Link href={destinationPath} sx={{fontFamily: 'mono', color: 'fg.default', fontSize: 0}}>\n                {item.hl_path ? <Result.SearchMatchText text={item.hl_path} /> : <span>{item.path}</span>}\n              </Link>\n            </EllipsisOverflow>\n          </Result.Title>\n        </Box>\n        <Box sx={{flexShrink: 0, pl: 4, display: ['none', 'none', 'flex']}}>\n          <Result.Footer>\n            {item.language && (\n              <Result.FooterItem>\n                <IconWithText ariaLabel={`${item.language} language`} text={item.language}>\n                  <Box sx={{mr: 2}}>\n                    <LanguageCircle color={item.language_color ?? 'gray'} />\n                  </Box>\n                </IconWithText>\n              </Result.FooterItem>\n            )}\n            {item.repo_default_branch && (\n              <Result.FooterItem>\n                <IconWithText\n                  ariaLabel={`${item.repo_default_branch} branch`}\n                  text={item.repo_default_branch}\n                  textUrl={`${item.repo.repository.name}/tree/${encodePart(item.repo_default_branch)}`}\n                >\n                  <Octicon\n                    icon={GitBranchIcon}\n                    size={16}\n                    sx={{\n                      mr: 1,\n                    }}\n                  />\n                </IconWithText>\n              </Result.FooterItem>\n            )}\n          </Result.Footer>\n        </Box>\n      </Box>\n      <Result.Header />\n\n      {isOpen && (\n        <>\n          <Box\n            sx={{\n              borderColor: 'border.default',\n              borderBottomWidth: 1,\n              borderTopWidth: 0,\n              borderLeftWidth: 1,\n              borderRightWidth: 1,\n              borderStyle: 'solid',\n            }}\n          >\n            <CodeSnippetFrame>\n              <LegacyCodeSnippet item={item} />\n            </CodeSnippetFrame>\n          </Box>\n        </>\n      )}\n    </Box>\n  )\n}\n\nfunction OpenCloseButton({isOpen, onClick, name}: {isOpen: boolean; onClick: () => void; name: string}) {\n  return (\n    <Box\n      as=\"button\"\n      onClick={onClick}\n      aria-label={name}\n      aria-expanded={isOpen}\n      sx={{\n        height: 24,\n        borderRadius: 2,\n        width: 24,\n        color: 'fg.muted',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        bg: 'canvas.subtle',\n        border: 'none',\n        ':hover': {\n          bg: 'btn.hoverBg',\n        },\n      }}\n    >\n      {isOpen ? <ChevronDownIcon size={16} /> : <ChevronRightIcon size={16} />}\n    </Box>\n  )\n}\n\nfunction LegacyCodeSnippet({item}: {item: LegacyCodeResultItem}) {\n  return (\n    <table>\n      <tbody>\n        {item.hl_fragments.map((fragment, i) => (\n          <Fragment key={i}>\n            {fragment.lines.map(({line_number, line}) => (\n              <tr key={line_number}>\n                <Box as=\"td\" className=\"blob-num\" sx={{paddingRight: 2}}>\n                  <Link\n                    href={blobPath({\n                      owner: item.owner_login,\n                      repo: item.repo.repository.name,\n                      commitish: item.commit_sha,\n                      filePath: item.path,\n                    })}\n                    sx={{color: 'accent.fg'}}\n                  >\n                    {line_number + 1}\n                  </Link>\n                </Box>\n                <SafeHTMLBox as=\"td\" className=\"blob-code blob-code-inner\" html={line} />\n              </tr>\n            ))}\n            {i === item.hl_fragments.length - 1 ? null : <FragmentDivider />}\n          </Fragment>\n        ))}\n      </tbody>\n    </table>\n  )\n\n  function FragmentDivider() {\n    return (\n      <Box as=\"tr\" sx={{height: 1}}>\n        <Box as=\"td\" className=\"blob-num\" sx={{paddingRight: 2}}>\n          &hellip;\n        </Box>\n        <td className=\"blob-code blob-code-inner\" />\n      </Box>\n    )\n  }\n}\n\nfunction CodeSnippetFrame({children}: PropsWithChildren<unknown>) {\n  return (\n    <Box\n      className=\"code-list\"\n      sx={{\n        whiteSpace: 'pre-wrap',\n        fontFamily: 'monospace',\n        minWidth: 0,\n        py: 2,\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ninterface IconWithTextProps extends PropsWithChildren<unknown> {\n  ariaLabel: string\n  text: string\n  textUrl?: string\n}\n\nfunction IconWithText({ariaLabel, text, textUrl, children}: IconWithTextProps) {\n  const inner = (\n    <Box sx={{display: 'flex', alignItems: 'center'}}>\n      {children}\n      {/* eslint-disable-next-line github/a11y-role-supports-aria-props */}\n      <span aria-label={ariaLabel}>{text}</span>\n    </Box>\n  )\n\n  if (!textUrl) return inner\n\n  return (\n    <Link href={textUrl} sx={{color: 'fg.muted'}}>\n      {inner}\n    </Link>\n  )\n}\n\ntry{ LegacyCode.displayName ||= 'LegacyCode' } catch {}\ntry{ LegacyCodeResult.displayName ||= 'LegacyCodeResult' } catch {}\ntry{ OpenCloseButton.displayName ||= 'OpenCloseButton' } catch {}\ntry{ LegacyCodeSnippet.displayName ||= 'LegacyCodeSnippet' } catch {}\ntry{ FragmentDivider.displayName ||= 'FragmentDivider' } catch {}\ntry{ CodeSnippetFrame.displayName ||= 'CodeSnippetFrame' } catch {}\ntry{ IconWithText.displayName ||= 'IconWithText' } catch {}","import {useCallback} from 'react'\nimport {type NavigateOptions, useNavigate} from 'react-router-dom'\nimport {getUrl, type PathFunction, type PathParams, type Query} from '@github-ui/paths'\n\n/**\n * Given a path function, returns a function that will perform a soft navigation for a set of parameters for that path.\n */\nexport function useSoftNavigate<T extends PathParams | void>(\n  path: PathFunction<T>,\n): (params: T, query?: Query, options?: NavigateOptions) => void {\n  const navigate = useNavigate()\n\n  return useCallback(\n    (args: T, query?: Query, options?: NavigateOptions) => {\n      const {pathname, search, hash} = getUrl(path, args, query)\n      const to = {pathname, search, hash}\n      navigate(to, options)\n    },\n    [navigate, path],\n  )\n}\n","import {getUrl, searchPath} from '@github-ui/paths'\nimport {useLocation, type Location} from 'react-router-dom'\nimport {updateSearchBar} from '../hooks/use-search-bar-events'\nimport {useCallback} from 'react'\nimport {useSoftNavigate} from './use-soft-navigate'\nimport type {CustomScope} from '../types/blackbird-types'\nimport {getExpandedQuery, parseString} from '../../../../../app/components/search/parsing/parsing'\nimport {getBlackbirdExperiments} from '../../../../components/search/experiments'\n\nexport function shouldOpenInNewTab(event: React.MouseEvent | React.KeyboardEvent) {\n  // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n  return event.ctrlKey || event.metaKey || (event as React.MouseEvent).button === 1\n}\n\n/**\n * Returns a function that will update the search results and the search header with the new query.\n */\nexport function useNavigateToQuery(): (\n  query?: string,\n  filter?: string,\n  searchParams?: {[key: string]: string | null},\n  openInNewTab?: boolean,\n) => void {\n  const navigateToSearch = useSoftNavigate(searchPath)\n  const location = useLocation()\n  return useCallback(\n    async (query?: string, filter?: string, searchParams?: {[key: string]: string | null}, openInNewTab?: boolean) => {\n      const {newQuery, newSearchParams} = getNewQueryUrlInfo(location, query, filter, searchParams)\n\n      updateSearchBar(newQuery)\n      if (openInNewTab) {\n        window.open(getUrl(searchPath, undefined, {...newSearchParams, q: newQuery}).href, '_blank')\n      } else {\n        navigateToSearch(undefined, {...newSearchParams, q: newQuery})\n      }\n    },\n    [navigateToSearch, location],\n  )\n}\n\nexport function useQueryUrl(): (\n  query?: string,\n  filter?: string,\n  searchParams?: {[key: string]: string | null},\n) => string {\n  const location = useLocation()\n\n  return useCallback(\n    (query?: string, filter?: string, searchParams?: {[key: string]: string | null}) => {\n      const {newQuery, newSearchParams} = getNewQueryUrlInfo(location, query, filter, searchParams)\n\n      return getUrl(searchPath, undefined, {...newSearchParams, q: newQuery}).href\n    },\n    [location],\n  )\n}\n\nexport function getCustomScopesFromParam(scopesParam: string): CustomScope[] {\n  let customScopes: CustomScope[]\n  try {\n    customScopes = JSON.parse(scopesParam || '[]')\n    if (!Array.isArray(customScopes)) {\n      customScopes = []\n    }\n  } catch (e) {\n    customScopes = []\n  }\n  return customScopes\n}\n\nfunction getNewQueryUrlInfo(\n  location: Location,\n  query?: string,\n  filter?: string,\n  searchParams?: {[key: string]: string | null},\n) {\n  const currentSearchParams = new URLSearchParams(location.search)\n  let newQuery = query ?? currentSearchParams.get('q') ?? ''\n  if (filter) {\n    newQuery = newQuery ? `${newQuery} ${filter}` : filter\n  }\n\n  const newSearchParams = searchParams || {}\n\n  const experimentsParam = getBlackbirdExperiments().join(',')\n  if (experimentsParam !== '') {\n    newSearchParams['experiments'] = experimentsParam\n  } else {\n    // Must forcibly unset, in case the user has previously set experiments on the last pageload\n    newSearchParams['experiments'] = null\n  }\n\n  const scopesParam = currentSearchParams.get('saved_searches')\n  if (scopesParam) {\n    const customScopes = getCustomScopesFromParam(scopesParam)\n    if (customScopes.length > 0) {\n      const ast = parseString(newQuery)\n      newSearchParams['expanded_query'] = getExpandedQuery(newQuery, customScopes, ast)\n    }\n  }\n\n  return {\n    newQuery,\n    newSearchParams,\n  }\n}\n","import {useEffect} from 'react'\nimport {useNavigateToQuery} from '../hooks/use-navigate-to-query'\nimport {useLocation} from 'react-router-dom'\n\n/**\n * An event dispatched from the search bar to check if our app is mounted\n */\nconst retransmitEvent = 'blackbird_monolith_retransmit_react'\n/**\n * An event which we dispatch in response to the retransmit event to confirm that our app is mounted\n */\nconst connectedEvent = 'blackbird_monolith_react_connected'\n\n/**\n * An event dispatched when react DISCONNECTS from the page. This can happen e.g. during a turbo page load\n */\nconst disconnectedEvent = 'blackbird_monolith_react_disconnected'\n/**\n * An event dispatched from the search bar to indicate that a search has been initiated\n */\nconst searchEvent = 'blackbird_monolith_search'\n/**\n * An event which we dispatch to inform the search bar that it should update its contents\n */\nconst inputUpdateEvent = 'blackbird_monolith_update_input'\n\nconst setGlobalNavVisibilityEvent = 'blackbird_monolith_set_global_nav_visibility'\n\nconst provideFeedbackEvent = 'blackbird_provide_feedback'\n\n/**\n * This hook handles transmitting events between the search bar and this react app to\n * confirm that the app is mounted and to respond to searches initiated in the search bar.\n */\nexport function useSearchBarEvents(): void {\n  // Setup React Search Bar\n  useEffect(() => {\n    // If the search bar renders after us, it will check if react is loaded. Need to respond\n    // with the right custom event.\n    function handleRetransmitReactConnection() {\n      window.dispatchEvent(new CustomEvent(connectedEvent))\n\n      // Hide the global nav while in the search UI\n      window.dispatchEvent(new CustomEvent(setGlobalNavVisibilityEvent, {detail: false}))\n    }\n\n    // Emit a custom event to tell the search bar that we're connected\n    handleRetransmitReactConnection()\n    window.addEventListener(retransmitEvent, handleRetransmitReactConnection)\n    return () => {\n      // Restore the global nav to the visible state\n      window.dispatchEvent(new CustomEvent(setGlobalNavVisibilityEvent, {detail: true}))\n      window.removeEventListener(retransmitEvent, handleRetransmitReactConnection)\n      window.dispatchEvent(new CustomEvent(disconnectedEvent))\n    }\n  }, [])\n\n  // Handle Search\n  const navigateToQuery = useNavigateToQuery()\n\n  useEffect(() => {\n    function handleSearchEvent(e: Event) {\n      if (!(e instanceof CustomEvent)) return\n\n      navigateToQuery(e.detail.search, undefined, e.detail.searchParams)\n    }\n\n    window.addEventListener(searchEvent, handleSearchEvent)\n    return () => {\n      window.removeEventListener(searchEvent, handleSearchEvent)\n    }\n  }, [navigateToQuery])\n\n  const {search} = useLocation()\n  const query = new URLSearchParams(search).get('q') ?? ''\n  useEffect(() => {\n    updateSearchBar(query)\n  }, [query])\n}\n\n/**\n * Update the search bar's contents based on the new search.\n */\nexport function updateSearchBar(search: string): void {\n  window.dispatchEvent(new CustomEvent<string>(inputUpdateEvent, {detail: search}))\n}\n\n/**\n * Trigger the \"provide feedback\" dialog\n */\nexport function provideFeedback(): void {\n  window.dispatchEvent(new CustomEvent<string>(provideFeedbackEvent))\n}\n","import type React from 'react'\nimport {useMemo} from 'react'\nimport {AnalyticsProvider} from '@github-ui/analytics-provider'\nimport {useSearchBarEvents} from './hooks/use-search-bar-events'\nimport {FocusHintContextProvider} from '@github-ui/focus-hint-context'\n\nexport function App({children}: {children?: React.ReactNode}) {\n  useSearchBarEvents()\n\n  const metadata = useMemo(() => ({}), [])\n  return (\n    <AnalyticsProvider appName={'blackbird'} category={''} metadata={metadata}>\n      <FocusHintContextProvider>{children}</FocusHintContextProvider>\n    </AnalyticsProvider>\n  )\n}\n\ntry{ App.displayName ||= 'App' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useCallback} from 'react'\nimport {useAnalytics} from '@github-ui/use-analytics'\nimport {useCurrentUser} from '../../react-shared/Repos/CurrentUser'\nimport {useFeatureFlag} from '@github-ui/react-core/use-feature-flag'\nimport {getRelativeHref, searchStatsPath} from '@github-ui/paths'\nimport type {CodeResult} from '../types/blackbird-types'\n\ntype SendSearchResultFunction = (queryId: string, position: number, result: CodeResult) => void\ntype SendSearchBackNavigationFunction = (queryId: string) => void\ntype SendSearchNextPageNavigationFunction = (queryId: string, page: number) => void\n\nexport function useSearchAnalytics(): {\n  sendSearchResultClick: SendSearchResultFunction\n  sendSearchBackNavigation: SendSearchBackNavigationFunction\n  sendSearchNextPageNavigation: SendSearchNextPageNavigationFunction\n  sendSampledSearchResult: SendSearchResultFunction\n} {\n  const {sendAnalyticsEvent} = useAnalytics()\n  const sendSearchUIEvent = useSendSearchUIEvent()\n  const shouldUseUIEventTable = useFeatureFlag('code_nav_ui_events')\n\n  return {\n    sendSearchResultClick: useCallback(\n      (queryId, position, result) => {\n        sendAnalyticsEvent('search.result-click', '', {\n          queryId,\n          position,\n          path: result.path,\n          language: result.language_name,\n          line_number: result.line_number,\n          ref_name: result.ref_name,\n          commit_sha: result.commit_sha,\n          blob_sha: result.blob_sha,\n          repo_nwo: result.repo_nwo,\n        })\n        if (shouldUseUIEventTable) {\n          sendSearchUIEvent('SEARCH_RESULT.CLICK', 'click', {\n            query_id: queryId,\n            result_type: 'code', // Currently we only record telemetry for code results\n            result_index: position,\n            result_path: result.path,\n            result_language: result.language_name,\n            result_line_number: result.line_number,\n            result_ref_name: result.ref_name,\n            result_commit_sha: result.commit_sha,\n            result_blob_sha: result.blob_sha,\n            result_repo_nwo: result.repo_nwo,\n          })\n        }\n      },\n      [sendAnalyticsEvent, sendSearchUIEvent, shouldUseUIEventTable],\n    ),\n    sendSearchBackNavigation: useCallback(\n      queryId => {\n        sendAnalyticsEvent('search.back', '', {queryId})\n        if (shouldUseUIEventTable) {\n          sendSearchUIEvent('PREVIOUS_PAGE.CLICK', 'click', {query_id: queryId})\n        }\n      },\n      [sendAnalyticsEvent, sendSearchUIEvent, shouldUseUIEventTable],\n    ),\n    sendSearchNextPageNavigation: useCallback(\n      (queryId, page) => {\n        sendAnalyticsEvent('search.next-page', '', {queryId, page})\n        if (shouldUseUIEventTable) {\n          sendSearchUIEvent('NEXT_PAGE.CLICK', 'click', {query_id: queryId, page_index: page})\n        }\n      },\n      [sendAnalyticsEvent, sendSearchUIEvent, shouldUseUIEventTable],\n    ),\n    sendSampledSearchResult: useCallback(\n      (queryId, position, result) => {\n        sendAnalyticsEvent('search.sampled-result', '', {\n          queryId,\n          position,\n          path: result.path,\n          language: result.language_name,\n          line_number: result.line_number,\n          ref_name: result.ref_name,\n          commit_sha: result.commit_sha,\n          blob_sha: result.blob_sha,\n          repo_nwo: result.repo_nwo,\n        })\n        if (shouldUseUIEventTable) {\n          sendSearchUIEvent('SEARCH_RESULT.SAMPLED', 'sampled', {\n            query_id: queryId,\n            result_type: 'code', // Currently we only record telemetry for code results\n            result_index: position,\n            result_path: result.path,\n            result_language: result.language_name,\n            result_line_number: result.line_number,\n            result_ref_name: result.ref_name,\n            result_commit_sha: result.commit_sha,\n            result_blob_sha: result.blob_sha,\n            result_repo_nwo: result.repo_nwo,\n          })\n        }\n      },\n      [sendAnalyticsEvent, sendSearchUIEvent, shouldUseUIEventTable],\n    ),\n  }\n}\n\nfunction useSendSearchUIEvent() {\n  const statsPath = getRelativeHref(searchStatsPath, undefined)\n  const {id, login} = useCurrentUser() || {id: undefined, login: undefined}\n\n  return useCallback(\n    (target: SearchUIEventTarget, interaction: Interaction, eventData: SearchEventMetadata) => {\n      const method = 'POST'\n      const body: SearchUIEvent = {\n        target,\n        interaction,\n        performed_at: Date.now(),\n        react_app: 'blackbird-monolith',\n        react_page: 'search-results',\n        actor_id: id,\n        actor_login: login,\n        ...eventData,\n        ...getBrowserEventMetadata(),\n      }\n\n      verifiedFetchJSON(statsPath, {method, body})\n    },\n    [statsPath, id, login],\n  )\n}\n\ntype EventContext = Record<string, string | number | boolean>\n\ntype SearchUIEventTarget = 'SEARCH_RESULT.CLICK' | 'NEXT_PAGE.CLICK' | 'PREVIOUS_PAGE.CLICK' | 'SEARCH_RESULT.SAMPLED'\n\ntype Interaction = 'click' | 'keydown' | 'stats' | 'sampled'\n\ninterface SearchUIEvent {\n  target: SearchUIEventTarget\n  interaction: Interaction\n  performed_at: number\n  context?: EventContext\n  query_id?: string\n  page_index?: number\n  result_index?: number\n  result_type?: string\n  result_path?: string\n  result_language?: string\n  result_line_number?: number\n  result_ref_name?: string\n  result_commit_sha?: string\n  result_blob_sha?: string\n  result_repo_nwo?: string\n  react_app: 'blackbird-monolith'\n  react_page: 'home' | 'search-results'\n  actor_id?: number\n  actor_login?: string\n  url: string\n  user_agent: string\n  browser_width: number\n  browser_languages: string\n}\n\ntype BrowserEventMetadata = Pick<SearchUIEvent, 'url' | 'user_agent' | 'browser_width' | 'browser_languages'>\n\nfunction getBrowserEventMetadata(): BrowserEventMetadata {\n  return {\n    url: window.location.href,\n    user_agent: window.navigator.userAgent,\n    browser_width: window.innerWidth,\n    browser_languages: window.navigator.languages.join(','),\n  }\n}\n\ntype SearchEventMetadata = Pick<\n  SearchUIEvent,\n  | 'query_id'\n  | 'page_index'\n  | 'result_index'\n  | 'result_type'\n  | 'result_path'\n  | 'result_path'\n  | 'result_language'\n  | 'result_ref_name'\n  | 'result_commit_sha'\n  | 'result_blob_sha'\n  | 'result_repo_nwo'\n  | 'result_line_number'\n>\n","import {useEffect} from 'react'\n\nlet lastSelectionTime = 0\n\n// The purpose of this effect is to track when the user changes their selection,\n// e.g. by highlighting or dismissing a highlight on a page. This is used to avoid\n// triggering navigation to a search result if the user is trying to copy part\n// of the snippet.\nexport function useTrackSelection() {\n  let lastSelectionLength = 0\n\n  useEffect(() => {\n    const handler = () => {\n      const newLength = window.getSelection()?.toString().length || 0\n      if (newLength !== lastSelectionLength) {\n        // There's no need to track this variable or trigger rerenders with it, since\n        // it just stores the time of the last selection change.\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        lastSelectionLength = newLength\n        lastSelectionTime = Date.now()\n      }\n    }\n    document.addEventListener('selectionchange', handler)\n    return () => {\n      document.removeEventListener('selectionchange', handler)\n    }\n  })\n}\n\nexport function timeSinceLastSelection() {\n  return Date.now() - lastSelectionTime\n}\n","import type React from 'react'\nimport {Box} from '@primer/react'\n\nexport default function EllipsisOverflow({\n  side,\n  children,\n  sx,\n  title,\n}: {\n  side: 'left' | 'right'\n  children: React.ReactNode\n  sx?: object\n  title: string\n}) {\n  return (\n    <Box\n      title={title}\n      sx={{\n        display: 'block',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        direction: side === 'left' ? 'rtl' : 'ltr',\n        whiteSpace: 'nowrap',\n        ...(sx || {}),\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ntry{ EllipsisOverflow.displayName ||= 'EllipsisOverflow' } catch {}","import {Box} from '@primer/react'\n\nexport default function LanguageCircle({color}: {color: string | undefined}) {\n  return (\n    <Box\n      sx={{\n        bg: color || 'attention.emphasis',\n        borderRadius: 8,\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor: 'var(--borderColor-translucent)',\n        width: 10,\n        height: 10,\n      }}\n    />\n  )\n}\n\ntry{ LanguageCircle.displayName ||= 'LanguageCircle' } catch {}","import {Box, Text, type BoxProps} from '@primer/react'\nimport React, {Fragment, type PropsWithChildren, isValidElement} from 'react'\n\nexport default function Footer({children, sx}: PropsWithChildren<BoxProps>) {\n  return (\n    <Box as=\"ul\" sx={{display: 'flex', flexWrap: 'wrap', alignItems: 'center', mt: 1, ...sx}}>\n      {React.Children.toArray(children)\n        .filter(child => !!child) // Filter out falsy children to avoid putting spacers around `null` or `false`\n        .map((child, i) => {\n          const key = `footer-item-${isValidElement(child) ? child.key : i}`\n          const spacer = i === 0 ? null : <FooterSpacer />\n          return (\n            <Fragment key={key}>\n              {spacer}\n              {child}\n            </Fragment>\n          )\n        })}\n    </Box>\n  )\n}\n\nfunction FooterSpacer() {\n  return (\n    <Text aria-hidden sx={{mx: 2, color: 'fg.subtle'}}>\n      \n    </Text>\n  )\n}\n\nexport function FooterItem({children}: PropsWithChildren<unknown>) {\n  return (\n    <Box as=\"li\" sx={{listStyle: 'none', display: 'flex', alignItems: 'center', fontSize: 0, color: 'fg.muted'}}>\n      {children}\n    </Box>\n  )\n}\n\ntry{ Footer.displayName ||= 'Footer' } catch {}\ntry{ FooterSpacer.displayName ||= 'FooterSpacer' } catch {}\ntry{ FooterItem.displayName ||= 'FooterItem' } catch {}","import {ActionList, ActionMenu, Box, IconButton} from '@primer/react'\nimport type {PropsWithChildren} from 'react'\nimport {KebabHorizontalIcon} from '@primer/octicons-react'\n\nexport default function Header({children}: PropsWithChildren<unknown>) {\n  return (\n    <Box\n      as=\"h3\"\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        fontSize: 16,\n        fontWeight: 500,\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ninterface AvatarProps extends PropsWithChildren<unknown> {\n  mr?: string | number\n}\nexport function Avatar({mr, children}: AvatarProps) {\n  return <Box sx={{display: 'flex', mr: mr ?? '10px'}}>{children}</Box>\n}\n\ninterface TitleProps {\n  /**\n   * Optional fontSize override\n   * @default 2\n   */\n  fontSize?: number\n}\n\nexport function Title({children, fontSize}: PropsWithChildren<TitleProps>) {\n  return (\n    <Box\n      className=\"search-title\"\n      sx={{\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: fontSize ?? 2,\n        fontWeight: 'semibold',\n        overflow: 'hidden',\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\n/**\n * For best results, children should be ActionList.Item components.\n */\nexport function OverflowMenu({children}: PropsWithChildren<unknown>) {\n  return (\n    <ActionMenu>\n      <ActionMenu.Anchor>\n        {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n        <IconButton unsafeDisableTooltip={true} icon={KebabHorizontalIcon} aria-label=\"More\" variant=\"invisible\" />\n      </ActionMenu.Anchor>\n\n      <ActionMenu.Overlay>\n        <ActionList>{children}</ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ Header.displayName ||= 'Header' } catch {}\ntry{ Avatar.displayName ||= 'Avatar' } catch {}\ntry{ Title.displayName ||= 'Title' } catch {}\ntry{ OverflowMenu.displayName ||= 'OverflowMenu' } catch {}","import type {PropsWithChildren} from 'react'\nimport {Box} from '@primer/react'\n\nexport default function Content({children}: PropsWithChildren<unknown>) {\n  return <Box sx={{mt: 1, fontSize: 1}}>{children}</Box>\n}\n\ntry{ Content.displayName ||= 'Content' } catch {}","import {Box, Link, type LinkProps} from '@primer/react'\nimport {repositoryPath} from '@github-ui/paths'\n\ninterface RepositoryContextProps {\n  owner: string\n  name: string\n}\n\nexport function RepositoryContext(props: RepositoryContextProps) {\n  return (\n    <Box sx={{display: 'flex', alignItems: 'center', fontSize: 0, mb: 1}}>\n      <RepositoryLink {...props} sx={{color: 'fg.muted'}} />\n    </Box>\n  )\n}\n\ntype RepositoryLinkProps = RepositoryContextProps & LinkProps\n\nexport function RepositoryLink({owner, name, ...linkProps}: RepositoryLinkProps) {\n  return (\n    <Link\n      href={repositoryPath({owner, repo: name})}\n      data-hovercard-url={repositoryPath({owner, repo: name, action: 'hovercard'})}\n      {...linkProps}\n    >\n      <span>{`${owner}/${name}`}</span>\n    </Link>\n  )\n}\n\ntry{ RepositoryContext.displayName ||= 'RepositoryContext' } catch {}\ntry{ RepositoryLink.displayName ||= 'RepositoryLink' } catch {}","import type {PropsWithChildren} from 'react'\nimport {Box} from '@primer/react'\n\nexport default function Result({children}: PropsWithChildren) {\n  return (\n    <>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          minWidth: 0,\n          borderRadius: 2,\n          borderColor: 'border.default',\n          borderWidth: 1,\n          borderStyle: 'solid',\n          p: 3,\n          px: 3,\n          width: '100%',\n          maxWidth: '100%',\n        }}\n      >\n        {children}\n      </Box>\n    </>\n  )\n}\n\ntry{ Result.displayName ||= 'Result' } catch {}","import {type SafeHTMLString, SafeHTMLText} from '@github-ui/safe-html'\nimport type {SxProp} from '@primer/react'\n\ntype SearchMatchTextProps = {\n  /**\n   * An escaped HTML string with an <em> around the matching substring.\n   */\n  text: SafeHTMLString\n\n  /**\n   * Optional prop to pass into the text component for fontWeight.\n   */\n  fontWeight?: string\n} & SxProp\n\nexport default function SearchMatchText({text, fontWeight, sx}: SearchMatchTextProps) {\n  return <SafeHTMLText className=\"search-match\" html={text} sx={{fontWeight, '.g-emoji': {fontSize: 1}, ...sx}} />\n}\n\ntry{ SearchMatchText.displayName ||= 'SearchMatchText' } catch {}","import React, {type PropsWithChildren, isValidElement} from 'react'\nimport {Box} from '@primer/react'\n\n/**\n * A styled wrapper for a row of tokens in a search result, such as the list of topics associated with a repo.\n */\nexport default function TokenList({children}: PropsWithChildren<unknown>) {\n  // Filter out falsy children to avoid wrapping `null` or `false` in a Box.\n  const childrenArray = React.Children.toArray(children).filter(child => !!child)\n  return (\n    <Box sx={{mb: 1, mt: 2, display: 'flex', flexWrap: 'wrap', gap: 2}}>\n      {childrenArray.map((child, i) => {\n        const childKey = isValidElement(child) ? child.key : i\n        return <div key={childKey}>{child}</div>\n      })}\n    </Box>\n  )\n}\n\ntry{ TokenList.displayName ||= 'TokenList' } catch {}","import type {PropsWithChildren} from 'react'\nimport {Box, type BoxProps} from '@primer/react'\n\nexport default function List({children, sx, ...boxProps}: PropsWithChildren<BoxProps>) {\n  return (\n    <Box\n      {...boxProps}\n      data-testid=\"results-list\"\n      sx={{display: 'grid', gap: 3, minWidth: 0, gridTemplateColumns: '1fr', ...sx}}\n    >\n      {children}\n    </Box>\n  )\n}\n\ntry{ List.displayName ||= 'List' } catch {}","import Footer, {FooterItem} from './Footer'\nimport Header, {Avatar, OverflowMenu, Title} from './Header'\nimport Content from './Content'\nimport {RepositoryContext, RepositoryLink} from './RepositoryContext'\nimport Result from './Result'\nimport SearchMatchText from './SearchMatchText'\nimport TokenList from './TokenList'\nimport List from './List'\n\n// Expose subcomponents as properties on the top-level Result component so that\n// they can be used like this with only a single import:\n// ```\n// <Result>\n//   <Result.Header>\n//     <Result.Title>Title</Result.Title>\n//   </Result.Header>\n// </Result>\n// ```\nconst pieces = {\n  Avatar,\n  Content,\n  Footer,\n  FooterItem,\n  Header,\n  List,\n  OverflowMenu,\n  RepositoryContext,\n  RepositoryLink,\n  SearchMatchText,\n  Title,\n  TokenList,\n}\nObject.assign(Result, pieces)\n\n// This type assertion ensures that autocomplete will pick up the subcomponents like <Result.Content/>\nexport default Result as typeof Result & typeof pieces\n","import useColorModes from '@github-ui/react-core/use-color-modes'\nimport {useMemo} from 'react'\n\nexport default function MonaSearchImageNew() {\n  const colorMode = useColorModes()\n\n  const lightIllustrationPath = '/images/modules/search/light.png'\n  const lightIllustration2xPath = '/images/modules/search/light2x.png'\n\n  const darkIllustrationPath = '/images/modules/search/dark.png'\n  const darkIllustration2xPath = '/images/modules/search/dark2x.png'\n\n  const colorModeAwareMona = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPath\n      case 'day':\n      default:\n        return lightIllustrationPath\n    }\n  }, [colorMode])\n\n  const colorModeAwareMona2x = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustration2xPath\n      case 'day':\n      default:\n        return lightIllustration2xPath\n    }\n  }, [colorMode])\n\n  return (\n    <img\n      alt=\"Mona looking through a globe hologram for code\"\n      src={colorModeAwareMona}\n      srcSet={`${colorModeAwareMona} 1x, ${colorModeAwareMona2x} 2x`}\n      width=\"100%\"\n      style={{display: 'block'}}\n    />\n  )\n}\n\ntry{ MonaSearchImageNew.displayName ||= 'MonaSearchImageNew' } catch {}","import {ChevronDownIcon, ChevronRightIcon, FoldIcon, GitBranchIcon, InfoIcon, UnfoldIcon} from '@primer/octicons-react'\nimport {Box, Button, Flash, Link, Octicon, Text} from '@primer/react'\nimport type {PropsWithChildren} from 'react'\nimport type React from 'react'\nimport {useCallback, useEffect, useMemo, useState} from 'react'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {encodePart} from '@github-ui/paths'\nimport {SafeHTMLText} from '@github-ui/safe-html'\nimport {useSearchAnalytics} from '../../hooks/use-search-analytics'\nimport {timeSinceLastSelection, useTrackSelection} from '../../hooks/use-track-selection'\nimport type {BlackbirdResults, CodeResult as CodeResultType, SearchResponse, Snippet} from '../../types/blackbird-types'\nimport EllipsisOverflow from '../EllipsisOverflow'\nimport LanguageCircle from '../LanguageCircle'\nimport Result from '../search-result'\nimport MonaSearchImage from '../NoResults/MonaSearchImage'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\nimport {debugScoringInfoEnabled} from '../../../../../components/search/experiments'\n\n// If there are more than this many results, don't bother indicating that duplicates exist\nconst DUPLICATE_LOCATION_RESULT_LIMIT = 20\n\n// If there are fewer than this many results, automatically expand duplicates\nconst DUPLICATE_LOCATION_AUTO_EXPAND_LIMIT = 5\n\n// The number of snippets to render by default\nconst NUM_SNIPPETS_COLLAPSED = 8\n\nexport default function Code({\n  results,\n  isRepoSearch,\n}: {\n  results: BlackbirdResults & SearchResponse\n  isRepoSearch: boolean\n}) {\n  // Track the user's last interaction with text selection, so that we can\n  // accommodate copying parts of result snippets while also allowing navigation\n  // when users directly click on a result.\n  useTrackSelection()\n\n  const [duplicatesExpanded, setDuplicatesExpanded] = useState(false)\n  const [searchResults, duplicateCount, isAcrossRepositories] = useMemo(() => {\n    let duplicates = 0\n    let acrossRepos = false\n    const expandedResults: CodeResultType[] = []\n    // Don't bother trying to expand duplicates if we have tons of results\n    if (results.result_count <= DUPLICATE_LOCATION_RESULT_LIMIT) {\n      duplicates = results.results?.reduce((acc, r) => acc + r.duplicate_locations.length, 0)\n      const nwo = results.results?.[0]?.repo_nwo || ''\n      acrossRepos = results.results?.some(\n        r => r.repo_nwo !== nwo || r.duplicate_locations.some(l => l.repo_nwo !== nwo),\n      )\n    }\n\n    if (!duplicatesExpanded || duplicates === 0) {\n      return [results.results || [], duplicates, acrossRepos]\n    }\n\n    // Expand duplicate locations into separate results\n    if (results.results) {\n      for (const result of results.results) {\n        expandedResults.push(result)\n        for (const loc of result.duplicate_locations) {\n          expandedResults.push(Object.assign({}, result, loc))\n        }\n      }\n    }\n    return [expandedResults, duplicates, acrossRepos]\n  }, [results, duplicatesExpanded])\n\n  useEffect(() => {\n    // Automatically expand duplicates if there are fewer than 10 results\n    setDuplicatesExpanded(results.result_count <= DUPLICATE_LOCATION_AUTO_EXPAND_LIMIT)\n  }, [setDuplicatesExpanded, results])\n\n  const {sendSampledSearchResult} = useSearchAnalytics()\n  useEffect(() => {\n    if (results.results) {\n      // Randomly select one of the results to sample impressions of\n      const position = Math.floor(Math.random() * results.results.length)\n      const sampledResult = results.results[position]\n      if (sampledResult) {\n        sendSampledSearchResult(results.query_id, position, sampledResult)\n      }\n    }\n  }, [results, sendSampledSearchResult])\n\n  // workaround for tsc complaining about the href prop being set when as: 'button' is set\n  // as this does not match the semantics of a button\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const linkProps = {href: '#'} as any\n\n  return results.logged_in ? (\n    <Result.List sx={{gap: [3, 3, 4, 4]}}>\n      {searchResults?.map((item, i) => (\n        <CodeResult key={i} item={item} position={i} queryId={results.query_id} shouldRenderRepo={!isRepoSearch} />\n      ))}\n      {!duplicatesExpanded && duplicateCount > 0 && (\n        <Box\n          sx={{\n            borderColor: 'border.default',\n            borderWidth: 1,\n            px: '12px',\n            py: '12px',\n            fontSize: 0,\n            width: '100%',\n            borderRadius: 2,\n            borderStyle: 'solid',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            mx: 'auto',\n          }}\n        >\n          <Text sx={{color: 'fg.muted'}}>\n            <Octicon icon={InfoIcon} size={16} sx={{mr: 1}} /> We&apos;ve excluded {duplicateCount} identical files\n            {isAcrossRepositories ? ' found across repositories' : ''}.{' '}\n            <Link inline as=\"button\" onClick={() => setDuplicatesExpanded(true)} {...linkProps}>\n              Show identical files\n            </Link>\n          </Text>\n        </Box>\n      )}\n    </Result.List>\n  ) : (\n    <Box\n      sx={{display: 'flex', flexDirection: 'column', height: '100%', alignItems: 'center', justifyContent: 'center'}}\n    >\n      <Box sx={{maxWidth: '400px'}}>\n        <MonaSearchImage />\n      </Box>\n      <Text sx={{fontWeight: 'bold', fontSize: 4, mt: 3}}>Sign in to search code on GitHub</Text>\n      <Text sx={{color: 'fg.muted', maxWidth: '400px', textAlign: 'center', mt: 2}}>\n        Before you can access our code search functionality please sign in or create a free account.\n      </Text>\n      <Box sx={{display: 'flex', mt: 3}}>\n        <Button as=\"a\" href={results.sign_in_path}>\n          Sign in\n        </Button>\n        {results.sign_up_path && (\n          <Button as=\"a\" href={results.sign_up_path} sx={{ml: 2}} variant=\"primary\">\n            Sign up\n          </Button>\n        )}\n      </Box>\n    </Box>\n  )\n}\n\nfunction shouldUsePlainRepresentation(languageId: number) {\n  // NOTE: Specially renderable filetypes come from here:\n  // https://github.com/github/viewscreen#renderables-supported-so-far\n  const specialRenderedLanguageIds = [\n    222, // Markdown\n    337, // SVG\n  ]\n  return specialRenderedLanguageIds.includes(languageId)\n}\n\nfunction CodeResult({\n  item,\n  queryId,\n  position,\n  shouldRenderRepo,\n}: {\n  item: CodeResultType\n  queryId: string\n  position: number\n  shouldRenderRepo: boolean\n}) {\n  const [isOpen, setIsOpen] = useState(true)\n\n  const filePath = item.path\n  const owner = item.repo_nwo.split('/')[0]!\n  const repoName = item.repo_nwo.split('/')[1]!\n  const repositoryOwnerAvatarUrl = `/${owner}.png`\n  const repositoryUrl = `/${item.repo_nwo}`\n  const plainSuffix = shouldUsePlainRepresentation(item.language_id) ? '?plain=1' : ''\n  const htmlUrl = `${repositoryUrl}/blob/${item.commit_sha}/${encodePart(filePath)}${plainSuffix}`\n  // remove \"ref/heads/\" from branch name\n  const branchSplit = item.ref_name.split('/').slice(2)\n  const branchName = branchSplit.join('/')\n\n  const hasGoodAndBadSnippets = item.snippets.some(i => i.score >= 0) && item.snippets.some(i => i.score < 0)\n  const hasMoreSnippets = item.snippets.length > NUM_SNIPPETS_COLLAPSED || hasGoodAndBadSnippets\n  const [collapsed, setCollapsed] = useState(hasMoreSnippets)\n\n  const visibleSnippets = collapsed\n    ? item.snippets.filter(s => (hasGoodAndBadSnippets ? s.score >= 0 : true)).slice(0, NUM_SNIPPETS_COLLAPSED)\n    : item.snippets\n  const visibleMatchCount = visibleSnippets.reduce((acc, s) => acc + s.match_count, 0)\n  const totalMatchCount = item.match_count\n  const reachedLimit = hasMoreSnippets && totalMatchCount - visibleMatchCount > 0 && !collapsed\n  const {sendSearchResultClick} = useSearchAnalytics()\n  const clickAnalyticsCallback = useCallback(() => {\n    sendSearchResultClick(queryId, position, item)\n  }, [sendSearchResultClick, queryId, position, item])\n\n  // The default URL should link to the line number of the first visible snippet, which\n  // can change if the snippets are expanded.\n  let lineNumberSuffix = item.line_number > 1 ? `#L${item.line_number}` : ''\n  if (visibleSnippets.length > 0) {\n    const firstSnippet = visibleSnippets[0]!\n    const lineNumber = Math.floor((firstSnippet.ending_line_number + firstSnippet.starting_line_number) / 2)\n    lineNumberSuffix = lineNumber > 1 ? `#L${lineNumber}` : ''\n  }\n  const defaultUrl = `${htmlUrl}${lineNumberSuffix}`\n\n  const showDebugScoringInfo = debugScoringInfoEnabled()\n\n  return (\n    <Box sx={{minWidth: 0}}>\n      <Box\n        sx={{\n          bg: 'canvas.subtle',\n          pl: 2,\n          pr: 3,\n          height: 40,\n          listStyle: 'none',\n          borderTopLeftRadius: 2,\n          borderTopRightRadius: 2,\n          borderBottomRightRadius: isOpen ? 0 : 2,\n          borderBottomLeftRadius: isOpen ? 0 : 2,\n          borderColor: 'border.default',\n          borderWidth: 1,\n          borderStyle: 'solid',\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <OpenCloseButton isOpen={isOpen} onClick={() => setIsOpen(!isOpen)} name={`${item.repo_nwo}  ${filePath}`} />\n        <Box sx={{flex: 1, alignItems: 'center', display: 'flex', ml: 1, minWidth: 0}}>\n          <Result.Avatar mr={2}>\n            <GitHubAvatar square sx={{ml: '1px'}} size={16} src={repositoryOwnerAvatarUrl} />\n          </Result.Avatar>\n          <Result.Title fontSize={1}>\n            <EllipsisOverflow side=\"left\" title={`${item.repo_nwo}  ${filePath}`}>\n              {shouldRenderRepo && (\n                <>\n                  <Result.RepositoryLink\n                    owner={owner}\n                    name={repoName}\n                    sx={{color: 'fg.default', fontWeight: 'bold', direction: 'ltr', unicodeBidi: 'bidi-override'}}\n                  />\n                  &nbsp;&nbsp;\n                </>\n              )}\n              <Link\n                href={defaultUrl}\n                sx={{color: 'fg.default', fontWeight: 'normal', direction: 'ltr', unicodeBidi: 'bidi-override'}}\n                data-testid=\"link-to-search-result\"\n              >\n                {filePath}\n              </Link>\n            </EllipsisOverflow>\n\n            {showDebugScoringInfo && (\n              <Box sx={{pl: 2}}>{`score=${item.debug_info?.score.toFixed(2)} rpos=${item.debug_info\n                ?.retrieval_position}`}</Box>\n            )}\n          </Result.Title>\n        </Box>\n        <Box sx={{flexShrink: 0, pl: 4, display: ['none', 'none', 'flex']}}>\n          <Result.Footer sx={{mt: 0}}>\n            <Result.FooterItem>\n              <IconWithText ariaLabel={`${item.language_name} language`} text={item.language_name}>\n                <Box sx={{mr: 2}}>\n                  <LanguageCircle color={item.language_color} />\n                </Box>\n              </IconWithText>\n            </Result.FooterItem>\n            {item.ref_name && (\n              <Result.FooterItem>\n                <IconWithText\n                  ariaLabel={`${branchName} branch`}\n                  text={branchName}\n                  textUrl={`${repositoryUrl}/tree/${branchName}`}\n                >\n                  <Octicon\n                    icon={GitBranchIcon}\n                    size={16}\n                    sx={{\n                      mr: 1,\n                    }}\n                  />\n                </IconWithText>\n              </Result.FooterItem>\n            )}\n          </Result.Footer>\n        </Box>\n      </Box>\n\n      {isOpen && (\n        <>\n          <Box\n            sx={{\n              borderColor: 'border.default',\n              borderBottomWidth: hasMoreSnippets ? 0 : 1,\n              borderBottomLeftRadius: hasMoreSnippets ? 0 : 2,\n              borderBottomRightRadius: hasMoreSnippets ? 0 : 2,\n              borderTopWidth: 0,\n              borderLeftWidth: 1,\n              borderRightWidth: 1,\n              borderStyle: 'solid',\n            }}\n          >\n            <MatchSnippet\n              defaultUrl={defaultUrl}\n              url={htmlUrl}\n              snippets={visibleSnippets}\n              clickAnalyticsCallback={clickAnalyticsCallback}\n            />\n          </Box>\n\n          {reachedLimit && (\n            <Flash variant=\"warning\" sx={{fontSize: 0, borderRadius: 0, py: 2, px: 3}}>\n              This file contains {totalMatchCount - visibleMatchCount} more{' '}\n              {totalMatchCount - visibleMatchCount === 1 ? 'match' : 'matches'} not shown.{' '}\n              {totalMatchCount === 1 ? (\n                <Link href={defaultUrl}>See all matches in the full file</Link>\n              ) : (\n                <Link href={defaultUrl}>See all {totalMatchCount} matches in the full file</Link>\n              )}\n            </Flash>\n          )}\n          {hasMoreSnippets && (\n            <Link\n              onClick={e => {\n                e.preventDefault()\n                setCollapsed(!collapsed)\n              }}\n              href=\"#\"\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                py: 2,\n                bg: 'canvas.default',\n                px: 3,\n                height: 40,\n                color: 'fg.muted',\n                borderColor: 'border.default',\n                borderWidth: 1,\n                borderTopWidth: reachedLimit ? 0 : 1,\n                borderStyle: 'solid',\n                borderBottomRightRadius: 2,\n                borderBottomLeftRadius: 2,\n                fontSize: 0,\n                ':hover': {\n                  bg: 'canvas.subtle',\n                },\n              }}\n            >\n              <Octicon\n                icon={collapsed ? UnfoldIcon : FoldIcon}\n                size={16}\n                sx={{\n                  mr: 2,\n                }}\n              />\n              {collapsed\n                ? `Show ${totalMatchCount - visibleMatchCount} more match${\n                    totalMatchCount - visibleMatchCount === 1 ? '' : 'es'\n                  }`\n                : `Show less`}\n            </Link>\n          )}\n        </>\n      )}\n    </Box>\n  )\n}\n\nfunction OpenCloseButton({isOpen, onClick, name}: {isOpen: boolean; onClick: () => void; name: string}) {\n  return (\n    <Box\n      as=\"button\"\n      onClick={onClick}\n      aria-label={isOpen ? `Collapse ${name}` : `Expand ${name}`}\n      sx={{\n        height: 24,\n        borderRadius: 2,\n        width: 24,\n        color: 'fg.muted',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        bg: 'canvas.subtle',\n        border: 'none',\n        ':hover': {\n          bg: 'btn.hoverBg',\n        },\n      }}\n    >\n      {isOpen ? <ChevronDownIcon size={16} /> : <ChevronRightIcon size={16} />}\n    </Box>\n  )\n}\n\nfunction MatchSnippet({\n  url,\n  defaultUrl,\n  snippets,\n  clickAnalyticsCallback,\n}: {\n  url: string | undefined\n  snippets: Snippet[]\n  defaultUrl: string\n  clickAnalyticsCallback: () => void\n}) {\n  const nav = useNavigate()\n\n  const snippetElements = []\n  let nextLineNumber: number | undefined = undefined\n  let lineNumberAlternation = false\n  for (const snippet of snippets) {\n    if (nextLineNumber !== undefined && nextLineNumber !== snippet.starting_line_number) {\n      lineNumberAlternation = !lineNumberAlternation\n      snippetElements.push(\n        <tr key={`divider-${snippetElements.length}`} role=\"row\">\n          <td colSpan={2} role=\"cell\">\n            <div style={{marginTop: 4, marginBottom: 7}} />\n          </td>\n        </tr>,\n      )\n    }\n    nextLineNumber = snippet.starting_line_number + snippet.lines.length\n\n    snippetElements.push(\n      snippet.lines.map((line, i) => {\n        const lineNumber = i + snippet.starting_line_number\n        const fileLink = `${url}#L${lineNumber}`\n\n        const navigateToSnippet = (e: React.MouseEvent) => {\n          if (!window.getSelection()?.isCollapsed) {\n            e.stopPropagation()\n            return\n          }\n\n          // Allow users to select and manipulate their selection without\n          // triggering navigation\n          if (timeSinceLastSelection() < 100) {\n            e.stopPropagation()\n            return\n          }\n\n          clickAnalyticsCallback()\n\n          // NOTE: I have to disable these checks bc this has nothing to do with hotkeys\n          // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n          if (e.ctrlKey || e.metaKey) {\n            window.open(fileLink, '_blank')\n          } else {\n            nav(fileLink)\n          }\n\n          e.stopPropagation()\n        }\n\n        return (\n          <tr key={fileLink} onClick={navigateToSnippet} role=\"row\">\n            <td className=\"blob-num\" role=\"cell\">\n              <Link onClick={e => e.stopPropagation()} href={fileLink}>\n                <Text sx={{color: lineNumberAlternation ? 'fg.default' : 'ft.muted'}}>{lineNumber}</Text>\n              </Link>\n            </td>\n            <td className=\"blob-code blob-code-inner\" role=\"cell\">\n              {snippet.format === 'SNIPPET_FORMAT_HTML' ? (\n                <SafeHTMLText\n                  as=\"span\"\n                  html={snippet.lines[i]!}\n                  sx={{\n                    cursor: 'text',\n                    wordWrap: 'break-word',\n                    color: 'fg.default',\n                    overflowWrap: 'anywhere',\n                    mark: {\n                      backgroundColor: 'var(--highlight-neutral-bgColor, var(--color-search-keyword-hl))',\n                      color: 'var(--fgColor-default, var(--color-fg-default))',\n                    },\n                  }}\n                />\n              ) : (\n                <Text\n                  as=\"span\"\n                  sx={{\n                    cursor: 'text',\n                    wordWrap: 'break-word',\n                    color: 'fg.default',\n                    overflowWrap: 'anywhere',\n                    mark: {\n                      backgroundColor: 'var(--highlight-neutral-bgColor, var(--color-search-keyword-hl))',\n                      color: 'var(--fgColor-default, var(--color-fg-default))',\n                    },\n                  }}\n                >\n                  {line}\n                </Text>\n              )}\n            </td>\n          </tr>\n        )\n      }),\n    )\n  }\n\n  return (\n    <Box\n      className=\"code-list\"\n      sx={{\n        whiteSpace: 'pre-wrap',\n        fontFamily: 'monospace',\n        minWidth: 0,\n        cursor: 'pointer',\n        py: 2,\n      }}\n      onClick={(e: React.MouseEvent) => {\n        // Allow users to select and manipulate their selection without\n        // triggering navigation\n        if (timeSinceLastSelection() < 100) {\n          return\n        }\n        // Only trigger a navigation if the user isn't selecting something\n        if (window.getSelection()?.isCollapsed) {\n          clickAnalyticsCallback()\n\n          // Open in a new tab if ctrl or cmd key are pressed\n          // NOTE: I have to disable these checks bc this has nothing to do with hotkeys\n          // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n          if (e.ctrlKey || e.metaKey) {\n            window.open(defaultUrl, '_blank')\n          } else {\n            nav(defaultUrl)\n          }\n        }\n      }}\n    >\n      <table role=\"table\">\n        {\n          // We need to add role=\"rowgroup\" because we don't have table headers\n          // And in order to screen readers to know that we really mean for this to be a table\n          // We must define it explicitly\n          <tbody role=\"rowgroup\">{snippetElements}</tbody>\n        }\n      </table>\n    </Box>\n  )\n}\n\ninterface IconWithTextProps extends PropsWithChildren<unknown> {\n  ariaLabel: string\n  text: string\n  textUrl?: string\n}\n\nfunction IconWithText({ariaLabel, text, textUrl, children}: IconWithTextProps) {\n  const inner = (\n    <Box sx={{display: 'flex', alignItems: 'center'}}>\n      {children}\n      {/* eslint-disable-next-line github/a11y-role-supports-aria-props */}\n      <span aria-label={ariaLabel}>{text}</span>\n    </Box>\n  )\n\n  if (!textUrl) return inner\n\n  return (\n    <Link href={textUrl} sx={{color: 'fg.muted'}}>\n      {inner}\n    </Link>\n  )\n}\n\ntry{ Code.displayName ||= 'Code' } catch {}\ntry{ CodeResult.displayName ||= 'CodeResult' } catch {}\ntry{ OpenCloseButton.displayName ||= 'OpenCloseButton' } catch {}\ntry{ MatchSnippet.displayName ||= 'MatchSnippet' } catch {}\ntry{ IconWithText.displayName ||= 'IconWithText' } catch {}","import {Box, Link, Text, Tooltip} from '@primer/react'\nimport React from 'react'\nimport type {Author, CommitAuthor} from '../../types/blackbird-types'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\n/*\n * This component is responsible for rendering the commit authors, logic the same as attribution_info_component.html.erb\n */\nexport function CommitAuthors({\n  commitAuthors,\n  committerAttribution,\n  repositoryUrl,\n  committer,\n  authorTooltip,\n  commitId,\n}: {\n  commitAuthors: CommitAuthor[]\n  committerAttribution: boolean\n  repositoryUrl: string\n  committer: Author\n  authorTooltip: string\n  commitId: string\n}) {\n  const getCommitAuthorsList = () => {\n    const commitAuthorsList = []\n    for (const author of commitAuthors) {\n      const authorUrl = author.login ? `${repositoryUrl}/commits?author=${author.login}` : undefined\n      const authorName = author.login ?? author.displayName\n      const lastIndex = commitAuthors.findIndex(a => a === author) === commitAuthors.length - 1\n\n      commitAuthorsList.push(\n        <React.Fragment key={`${commitId}-${authorName}`}>\n          <GitHubAvatar\n            size={16}\n            src={author.developmentAvatar || author.avatarUrl}\n            sx={{\n              overflow: 'visible',\n            }}\n          />\n          &nbsp;\n          {authorUrl ? (\n            <Link href={`/${authorUrl}`}>\n              <Text sx={{color: 'fg.muted', fontWeight: 'semibold'}}>{authorName}&nbsp;</Text>\n            </Link>\n          ) : (\n            <Text sx={{color: 'fg.muted', fontWeight: 'semibold'}}>{authorName}&nbsp;</Text>\n          )}\n          {!lastIndex && <>and&nbsp;</>}\n        </React.Fragment>,\n      )\n    }\n    return commitAuthorsList\n  }\n\n  const committerUrl = committer.login ? `${repositoryUrl}/commits?author=${committer.login}` : undefined\n\n  return (\n    <Box sx={{flexWrap: 'wrap', display: 'flex', alignItems: 'center'}}>\n      {commitAuthors.length === 1 || (commitAuthors.length === 2 && !committerAttribution) ? (\n        getCommitAuthorsList()\n      ) : (\n        <Tooltip text={authorTooltip} direction=\"e\">\n          <Text sx={{fontWeight: 'bold', pr: 1}}>{commitAuthors.length} people</Text>\n        </Tooltip>\n      )}\n      {!committerAttribution ? (\n        <span>committed&nbsp;</span>\n      ) : (\n        <>\n          <span>authored and&nbsp;</span>\n          <GitHubAvatar\n            size={16}\n            src={committer.development_avatar || committer.avatar_url}\n            sx={{\n              mr: 1,\n            }}\n          />\n          {committerUrl ? (\n            <Link href={`/${committerUrl}`}>\n              <Text sx={{color: 'fg.muted', fontWeight: 'semibold'}}>{committer.login}&nbsp;</Text>\n            </Link>\n          ) : (\n            <Text sx={{color: 'fg.muted', fontWeight: 'semibold'}}>{committer.display_name}&nbsp;</Text>\n          )}\n          <span>committed&nbsp;</span>\n        </>\n      )}\n    </Box>\n  )\n}\n\ntry{ CommitAuthors.displayName ||= 'CommitAuthors' } catch {}","import {GitPullRequestIcon, IssueOpenedIcon, CheckCircleIcon, type Icon} from '@primer/octicons-react'\n\nfunction issueIsOpen(state: string) {\n  return state === 'open'\n}\n\nexport function getIssueIconColor(state: string, isPullRequest: boolean, merged?: boolean, reviewableState?: string) {\n  if (isPullRequest) {\n    if (reviewableState === 'draft') {\n      return 'fg.muted'\n    } else if (merged) {\n      return 'done.fg'\n    } else if (issueIsOpen(state)) {\n      return 'open.fg'\n    } else {\n      return 'closed.fg'\n    }\n  } else if (issueIsOpen(state)) {\n    return 'success.fg'\n  } else {\n    return 'done.fg'\n  }\n}\n\nexport function getIssueIcon(state: string, isPullRequest: boolean): Icon {\n  return isPullRequest ? GitPullRequestIcon : issueIsOpen(state) ? IssueOpenedIcon : CheckCircleIcon\n}\n","import {ActionMenu, ActionList, IconButton, Link, Octicon, Truncate} from '@primer/react'\nimport {type Icon, KebabHorizontalIcon} from '@primer/octicons-react'\nimport type {IssueReference as IssueReferenceType} from '../../types/blackbird-types'\nimport {getIssueIconColor, getIssueIcon} from '../../utilities/issue-utils'\n\nexport default function IssueReferences({issueRefs}: {issueRefs: IssueReferenceType[]}) {\n  if (!issueRefs || issueRefs.length === 0) return <></>\n  const [pullRequests, issues] = splitIssuesAndPRs(issueRefs)\n\n  return (\n    <ActionMenu>\n      <ActionMenu.Anchor>\n        {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n        <IconButton\n          unsafeDisableTooltip={true}\n          icon={KebabHorizontalIcon}\n          variant=\"invisible\"\n          aria-label=\"Open linked issues\"\n        />\n      </ActionMenu.Anchor>\n\n      <ActionMenu.Overlay sx={{minWidth: '350px'}}>\n        <>\n          {issues!.length > 0 && (\n            <ActionList>\n              <ActionList.Group>\n                <ActionList.GroupHeading>Linked issues</ActionList.GroupHeading>\n                {issues!.map((issue, i) => {\n                  return <IssueReference issue={issue} key={i} />\n                })}\n              </ActionList.Group>\n            </ActionList>\n          )}\n          {issues!.length > 0 && pullRequests!.length > 0 && <ActionList.Divider />}\n          {pullRequests!.length > 0 && (\n            <ActionList sx={{pt: 0}}>\n              <ActionList.Group>\n                <ActionList.GroupHeading>Linked pull requests</ActionList.GroupHeading>\n                {pullRequests!.map((issue, i) => {\n                  return <IssueReference issue={issue} key={i} />\n                })}\n              </ActionList.Group>\n            </ActionList>\n          )}\n        </>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\nfunction IssueReference({issue}: {issue: IssueReferenceType}) {\n  const iconColor = getIssueIconColor(issue.state, issue.is_pull_request, issue.merged, issue.reviewable_state)\n  const icon: Icon = getIssueIcon(issue.state, issue.is_pull_request)\n\n  return (\n    <ActionList.Item>\n      <ActionList.LeadingVisual>\n        <Octicon\n          icon={icon}\n          size={16}\n          sx={{\n            mr: 2,\n            color: iconColor,\n          }}\n        />\n      </ActionList.LeadingVisual>\n      <Truncate title={issue.title} sx={{maxWidth: '250px'}}>\n        <Link href={issue.permalink} muted>\n          {issue.title}\n        </Link>\n      </Truncate>\n      <ActionList.TrailingVisual>#{issue.id}</ActionList.TrailingVisual>\n    </ActionList.Item>\n  )\n}\n\nfunction splitIssuesAndPRs(issueRefs: IssueReferenceType[]) {\n  const pullRequests: IssueReferenceType[] = []\n  const issues: IssueReferenceType[] = []\n  for (const issue of issueRefs) {\n    issue.is_pull_request ? pullRequests.push(issue) : issues.push(issue)\n  }\n  return [pullRequests, issues]\n}\n\ntry{ IssueReferences.displayName ||= 'IssueReferences' } catch {}\ntry{ IssueReference.displayName ||= 'IssueReference' } catch {}","import {Ago} from '@github-ui/ago'\nimport {Box, Button, Tooltip} from '@primer/react'\nimport type {\n  CheckRun as ServerCheckRun,\n  CommitAuthor,\n  CommitResultItem,\n  CommitsResults,\n} from '../../types/blackbird-types'\nimport React from 'react'\nimport Result from '../search-result'\n// eslint-disable-next-line no-restricted-imports\nimport {copyText} from '../../../github/command-palette/copy'\nimport {SignedCommitBadge, type SignatureResult} from '@github-ui/signed-commit-badge'\nimport {ChecksStatusBadge, type CombinedStatusResult, type CheckRun} from '@github-ui/commit-checks-status'\nimport {CommitAuthors} from '../search-result/CommitAuthors'\nimport IssueReferences from '../search-result/IssueReferences'\n\nexport default function Commits({results}: {results: CommitsResults}) {\n  return (\n    <Result.List>\n      {results.results.map((item, i) => (\n        <CommitResult item={item} key={i} />\n      ))}\n    </Result.List>\n  )\n}\n\nfunction CommitResult({item}: {item: CommitResultItem}) {\n  const repositoryName = item.repository.repository.name\n  const repositoryOwnerName = item.repository.repository.owner_login\n  const repositoryUrl = `${repositoryOwnerName}/${repositoryName}`\n  const commitHash = item.sha.slice(0, 7)\n  const date = new Date(item.author_date)\n  const verificationStatus = item.verification_status\n  const statusRollup = item.status_check_rollup?.state\n  const signature = item.signature_verification_reason ? createCommitSignature(item) : undefined\n  const combinedStatus = createCombinedStatus(item)\n  const commitAuthors = createCommitAuthors(item)\n\n  const [copied, setCopied] = React.useState(false)\n  const copyCommit = (hash: string) => {\n    copyText(hash)\n    setCopied(true)\n    setTimeout(() => {\n      setCopied(false)\n    }, 1500)\n  }\n\n  return (\n    <Result>\n      <Result.Header>\n        <Result.RepositoryContext name={repositoryName} owner={repositoryOwnerName} />\n        <span className=\"sr-only\">:&nbsp;</span>\n        <Result.Title>\n          {statusRollup && (\n            <ChecksStatusBadge variant=\"circled\" statusRollup={statusRollup} combinedStatus={combinedStatus} />\n          )}\n          <Result.SearchMatchText text={item.hl_subject} />\n          <IssueReferences issueRefs={item.issue_references} />\n        </Result.Title>\n      </Result.Header>\n\n      {item.hl_body && (\n        <Result.Content>\n          <Result.SearchMatchText text={item.hl_body} />\n        </Result.Content>\n      )}\n\n      <Result.Footer>\n        <Result.FooterItem>\n          <CommitAuthors\n            commitAuthors={commitAuthors}\n            committerAttribution={item.committer_attribution}\n            repositoryUrl={repositoryUrl}\n            committer={item.committer}\n            authorTooltip={item.commit_author_tooltip}\n            commitId={item.id}\n          />\n          <Ago timestamp={date} />\n        </Result.FooterItem>\n\n        <Result.FooterItem>\n          <Box sx={{pr: [2, 2]}}>\n            <Button\n              sx={{p: 0, color: 'fg.subtle', fontSize: '12px', fontWeight: 'normal'}}\n              onClick={() => copyCommit(item.sha)}\n              size=\"small\"\n              variant=\"invisible\"\n            >\n              <Tooltip direction=\"s\" aria-label=\"Copy full commit hash\">\n                {copied ? 'Copied!' : commitHash}\n              </Tooltip>\n            </Button>\n          </Box>\n          {signature && (\n            <SignedCommitBadge\n              commitOid={item.sha}\n              hasSignature={item.has_signature}\n              verificationStatus={verificationStatus}\n              signature={signature}\n            />\n          )}\n        </Result.FooterItem>\n      </Result.Footer>\n    </Result>\n  )\n}\n\nfunction createCommitSignature(item: CommitResultItem): SignatureResult {\n  return {\n    signatureVerificationReason: item.signature_verification_reason.toUpperCase(),\n    hasSignature: item.has_signature,\n    isViewer: item.is_viewer,\n    keyExpired: item.key_expired,\n    keyId: item.key_id,\n    keyRevoked: item.key_revoked,\n    signedByGitHub: item.signed_by_github,\n    signerAvatarUrl: item.signer_avatar_url,\n    signerLogin: item.signer_login,\n    signatureCertificateSubject: item.signature_certificate_subject,\n    signatureCertificateIssuer: item.signature_certificate_issuer,\n    signatureType: item.signature_type,\n    helpUrl: item.help_url,\n  }\n}\n\nfunction createCombinedStatus(item: CommitResultItem): CombinedStatusResult {\n  return {\n    checksStatusSummary: item.checks_status_summary,\n    checksHeaderState: item.checks_header_state,\n    checkRuns: item.check_runs.map(createCheckRun),\n  }\n}\n\nfunction createCommitAuthors(item: CommitResultItem): CommitAuthor[] {\n  return item.authors.map(author => ({\n    login: author.login,\n    avatarUrl: author.avatar_url,\n    displayName: author.display_name,\n    developmentAvatar: author.development_avatar,\n  }))\n}\n\nfunction createCheckRun(serverCheckRun: ServerCheckRun): CheckRun {\n  return {\n    name: serverCheckRun.name,\n    state: serverCheckRun.state,\n    description: serverCheckRun.description,\n    targetUrl: serverCheckRun.target_url,\n    icon: serverCheckRun.icon,\n    avatarUrl: serverCheckRun.avatar_url,\n    avatarDescription: serverCheckRun.avatar_description,\n    avatarLogo: serverCheckRun.avatar_logo,\n    additionalContext: serverCheckRun.additional_context,\n    pending: serverCheckRun.pending,\n    avatarBackgroundColor: serverCheckRun.avatar_background_color,\n  }\n}\n\ntry{ Commits.displayName ||= 'Commits' } catch {}\ntry{ CommitResult.displayName ||= 'CommitResult' } catch {}","import {Ago} from '@github-ui/ago'\nimport {Label, Link, Octicon} from '@primer/react'\nimport {CommentDiscussionIcon} from '@primer/octicons-react'\nimport type {IssueResultItem, IssuesResults} from '../../types/blackbird-types'\nimport Result from '../search-result'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nimport {getIssueIcon, getIssueIconColor} from '../../utilities/issue-utils'\n\nexport default function Issues({results}: {results: IssuesResults}) {\n  return (\n    <Result.List>\n      {results.results.map((item: IssueResultItem, i: number) => (\n        <IssueResult key={i} item={item} isPullRequest={false} />\n      ))}\n    </Result.List>\n  )\n}\n\nexport function IssueResult({item, isPullRequest}: {item: IssueResultItem; isPullRequest: boolean}) {\n  const repositoryName = item.repo.repository.name\n  const repositoryOwnerName = item.repo.repository.owner_login\n  const repositoryUrl = `/${repositoryOwnerName}/${repositoryName}`\n  const issueNumber = item.number\n  const issueUrl = `${repositoryUrl}/${isPullRequest ? 'pull' : 'issues'}/${issueNumber}`\n  const issueTitle = item.hl_title\n  const issueDescription = item.hl_text\n  const issueAuthor = item.author_name\n  const issueAuthorAvatarUrl = item.development_avatar || item.author_avatar_url\n  const issueIsPr = !!item.issue.issue.pull_request_id\n  const createdDate = new Date(item.created)\n  const numComments = item.num_comments\n\n  const iconColor = getIssueIconColor(item.state, issueIsPr, item.merged, item.reviewable_state)\n\n  return (\n    <Result>\n      <Result.Header>\n        <Result.RepositoryContext name={repositoryName} owner={repositoryOwnerName} />\n        <Result.Title>\n          <Octicon\n            icon={getIssueIcon(item.state, issueIsPr)}\n            size={16}\n            sx={{\n              mr: 2,\n              color: iconColor,\n            }}\n          />\n          <Link href={issueUrl}>\n            <Result.SearchMatchText text={issueTitle} />\n          </Link>\n        </Result.Title>\n      </Result.Header>\n      {issueDescription && (\n        <Result.Content>\n          <Result.SearchMatchText text={issueDescription} />\n        </Result.Content>\n      )}\n      {item.labels.length > 0 && (\n        <Result.TokenList>\n          {item.labels.map((label, i) => (\n            <Label key={i}>\n              <Result.SearchMatchText text={label} />\n            </Label>\n          ))}\n        </Result.TokenList>\n      )}\n      <Result.Footer>\n        <Result.FooterItem>\n          <GitHubAvatar\n            square\n            size={16}\n            src={issueAuthorAvatarUrl}\n            sx={{\n              mr: 2,\n            }}\n          />\n          {issueAuthor}\n        </Result.FooterItem>\n        {numComments > 0 && (\n          <Result.FooterItem>\n            <Octicon icon={CommentDiscussionIcon} size={16} sx={{mr: 1}} />\n            {numComments}\n          </Result.FooterItem>\n        )}\n        <Result.FooterItem>\n          Opened&nbsp; <Ago timestamp={createdDate} />\n        </Result.FooterItem>\n        <Result.FooterItem>\n          <Link href={issueUrl} target=\"_blank\" sx={{color: 'fg.muted'}}>\n            #{issueNumber}\n          </Link>\n        </Result.FooterItem>\n      </Result.Footer>\n    </Result>\n  )\n}\n\ntry{ Issues.displayName ||= 'Issues' } catch {}\ntry{ IssueResult.displayName ||= 'IssueResult' } catch {}","/**\n * Helper function for exhaustive checks of discriminated unions.\n *\n * @example\n * ```\n *    type A = {type: 'a'};\n *    type B = {type: 'b'};\n *    type Union = A | B;\n *\n *    function doSomething(arg: Union) {\n *      if (arg.type === 'a') {\n *        return something;\n *      }\n *\n *      if (arg.type === 'b') {\n *        return somethingElse;\n *      }\n *\n *      // TS will error if there are other types in the union\n *      // Will throw an Error when called at runtime.\n *      return assertNever(arg);\n *    }\n * ```\n */\nexport function assertNever(x: never): never {\n  throw new Error(`Unexpected object: ${x}`)\n}\n","import type {TextProps} from '@primer/react'\nimport {Text} from '@primer/react'\n\ninterface CountProps {\n  value: number\n  mode?: CountMode\n  isLowerBound?: boolean\n  ariaLabel?: string\n  sx?: TextProps['sx']\n}\n\nexport enum CountMode {\n  Exact = 0,\n  Approximate = 1,\n  LowerBound = 2,\n}\n\n// Primer Pattern Request: https://github.com/github/primer/issues/956\nexport function Count({value, mode = CountMode.Exact, ariaLabel, sx}: CountProps) {\n  if (!Number.isFinite(value)) return null\n\n  return (\n    // eslint-disable-next-line github/a11y-role-supports-aria-props\n    <Text aria-label={ariaLabel} sx={sx}>\n      {getValueText(value)}\n      {mode === CountMode.LowerBound ? '+ ' : null}\n    </Text>\n  )\n}\n\nexport function getCountText(value: number, mode = CountMode.Exact) {\n  return getValueText(value) + (mode === CountMode.LowerBound ? '+' : '')\n}\n\nexport function getValueText(value: number, max?: number): string {\n  if (max !== undefined && value >= max) {\n    return `${getValueText(max)}+`\n  }\n\n  if (value < 0) {\n    return `-${getValueText(Math.abs(value))}`\n  }\n\n  if (value >= 1_000_000_000) {\n    return `${roundToOneDecimalPlace(value / 1_000_000_000)}B`\n  }\n\n  if (value >= 100_000_000) {\n    return `${Math.round(value / 1_000_000)}M`\n  }\n\n  if (value >= 1_000_000) {\n    return `${roundToOneDecimalPlace(value / 1_000_000)}M`\n  }\n\n  if (value >= 100_000) {\n    return `${Math.round(value / 1_000)}k`\n  }\n\n  if (value >= 1_000) {\n    return `${roundToOneDecimalPlace(value / 1_000)}k`\n  }\n\n  return `${Math.round(value)}`\n}\n\nfunction roundToOneDecimalPlace(value: number) {\n  return Math.round(value * 10) / 10\n}\n\ntry{ Count.displayName ||= 'Count' } catch {}","import type {PropsWithChildren} from 'react'\nimport {Link} from '@primer/react'\n\n// This component doesn't exist right now in any of the Primer implementations\n// However it's been used in a lot of places right now.\n\nexport default function TopicLabel({children, href}: PropsWithChildren<{href?: string}>) {\n  return (\n    <Link\n      href={href}\n      sx={{\n        fontSize: 0,\n        display: 'inline-block',\n        px: '10px',\n        py: '0px',\n        fontWeight: 'semibold',\n        borderRadius: '2em',\n        lineHeight: '22px',\n        color: 'fg.accent',\n        bg: 'accent.subtle',\n        whiteSpace: 'nowrap',\n        ':hover': {\n          bg: 'accent.emphasis',\n          color: 'fg.onEmphasis',\n          textDecoration: 'none',\n        },\n      }}\n    >\n      {children}\n    </Link>\n  )\n}\n\ntry{ TopicLabel.displayName ||= 'TopicLabel' } catch {}","import {Box, CircleBadge, Link, Octicon, Tooltip} from '@primer/react'\nimport {DownloadIcon, VerifiedIcon} from '@primer/octicons-react'\nimport type {MarketplaceResult, MarketplaceResults} from '../../types/blackbird-types'\nimport {assertNever} from '../../utilities/assert-never'\nimport {Count} from '../../../react-shared/Count'\nimport type {PropsWithChildren} from 'react'\nimport Result from '../search-result'\nimport TopicLabel from '../search-result/TopicLabel'\nimport {marketplaceCategoryPath, ownerPath} from '@github-ui/paths'\nimport {SafeHTMLBox, type SafeHTMLString} from '@github-ui/safe-html'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nexport default function MarketplaceListings({results}: {results: MarketplaceResults}) {\n  return (\n    <Result.List>\n      {results.results.map(item => (\n        <MarketplaceResultItem key={`marketplace-result-${item.id}`} item={item} />\n      ))}\n    </Result.List>\n  )\n}\n\nexport function MarketplaceResultItem({item}: {item: MarketplaceResult}) {\n  return (\n    <Result>\n      <Result.Header>\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          <Result.Avatar>\n            <MarketplaceResultAvatar item={item} />\n          </Result.Avatar>\n\n          <Result.Title>\n            <Link href={item.resource_path}>{item.name}</Link>\n          </Result.Title>\n\n          {item.type === 'marketplace_listing' && item.state === 'verified' && (\n            <div>\n              <Tooltip aria-label=\"Verified by GitHub\">\n                <Octicon\n                  icon={VerifiedIcon}\n                  size={16}\n                  sx={{\n                    marginLeft: 1,\n                    color: 'success.fg',\n                  }}\n                />\n              </Tooltip>\n            </div>\n          )}\n        </Box>\n      </Result.Header>\n\n      <Result.Content>\n        <span>{item.type === 'marketplace_listing' ? item.short_description : item.description}</span>\n      </Result.Content>\n\n      {(item.primary_category || item.secondary_category) && (\n        <Result.TokenList>\n          {item.primary_category && (\n            <TopicLabel href={marketplaceCategoryPath({categoryName: item.primary_category})}>\n              {item.primary_category}\n            </TopicLabel>\n          )}\n          {item.secondary_category && (\n            <TopicLabel href={marketplaceCategoryPath({categoryName: item.secondary_category})}>\n              {item.secondary_category}\n            </TopicLabel>\n          )}\n        </Result.TokenList>\n      )}\n\n      <Result.Footer>\n        <Result.FooterItem>\n          By&nbsp;\n          <Link inline href={ownerPath({owner: item.owner_login})}>\n            {item.owner_login}\n          </Link>\n        </Result.FooterItem>\n        <Result.FooterItem>\n          {item.type === 'marketplace_listing'\n            ? 'Application'\n            : item.type === 'repository_action'\n              ? 'GitHub Action'\n              : 'GitHub Stack'}\n        </Result.FooterItem>\n        {item.type === 'marketplace_listing' && (\n          <Result.FooterItem>\n            <Box sx={{display: 'flex', alignItems: 'center'}}>\n              <Octicon\n                icon={DownloadIcon}\n                size={16}\n                sx={{\n                  mr: 1,\n                }}\n              />\n              <Count ariaLabel={`${item.installation_count} downloads`} value={item.installation_count} />\n            </Box>\n          </Result.FooterItem>\n        )}\n      </Result.Footer>\n    </Result>\n  )\n}\n\nfunction MarketplaceResultAvatar({item}: {item: MarketplaceResult}) {\n  const avatarSize = 12\n\n  switch (item.type) {\n    case 'marketplace_listing':\n      return (\n        <MarketplaceCircleBadge color={addHashToColor(item.marketplace_listing.listing.bgcolor)}>\n          <GitHubAvatar size={avatarSize} src={item.development_logo || item.listing_logo_url} />\n        </MarketplaceCircleBadge>\n      )\n    case 'repository_action':\n      return item.icon_svg ? (\n        <MarketplaceCircleBadge color={addHashToColor(item.repository_action.repository_action.color)}>\n          <MarketplaceSvgAvatar size={avatarSize} svg={item.icon_svg} />\n        </MarketplaceCircleBadge>\n      ) : null\n    case 'repository_stack':\n      return item.icon_svg ? (\n        <MarketplaceCircleBadge color={addHashToColor(item.repository_stack.repository_stack.color)}>\n          <MarketplaceSvgAvatar size={avatarSize} svg={item.icon_svg} />\n        </MarketplaceCircleBadge>\n      ) : null\n    default:\n      assertNever(item)\n  }\n}\n\nfunction addHashToColor(color: string): string {\n  return `#${color}`\n}\n\nfunction MarketplaceCircleBadge({color, children}: PropsWithChildren<{color: string}>) {\n  return (\n    <CircleBadge\n      size={20}\n      sx={{\n        backgroundColor: color,\n        border: '1px solid',\n        borderColor: 'border.subtle',\n        boxShadow: 'none',\n        color: 'white',\n      }}\n    >\n      {children}\n    </CircleBadge>\n  )\n}\n\nfunction MarketplaceSvgAvatar({size, svg}: {size: number; svg: SafeHTMLString}) {\n  return (\n    <SafeHTMLBox\n      html={svg}\n      sx={{\n        display: 'flex',\n        justifyContent: 'center',\n        // Override the size of the SVG\n        '> *': {\n          height: size,\n          width: size,\n        },\n      }}\n    />\n  )\n}\n\ntry{ MarketplaceListings.displayName ||= 'MarketplaceListings' } catch {}\ntry{ MarketplaceResultItem.displayName ||= 'MarketplaceResultItem' } catch {}\ntry{ MarketplaceResultAvatar.displayName ||= 'MarketplaceResultAvatar' } catch {}\ntry{ MarketplaceCircleBadge.displayName ||= 'MarketplaceCircleBadge' } catch {}\ntry{ MarketplaceSvgAvatar.displayName ||= 'MarketplaceSvgAvatar' } catch {}","export function packageIconFromName(name: string, idSuffix?: string) {\n  switch (name) {\n    case 'docker':\n      return <DockerIcon />\n    case 'maven':\n      return <MavenIcon idSuffix={idSuffix} />\n    case 'rubygems':\n      return <RubyGemsIcon />\n    case 'nuget':\n      return <NuGetIcon />\n    case 'npm':\n      return <NPMIcon />\n    case 'actions':\n      return <ActionIcon />\n    case 'container':\n      return <ContainerIcon />\n    default:\n      return <PackageIcon />\n  }\n}\n\nfunction DockerIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\">\n      <rect width=\"16\" height=\"16\" fill=\"#2497ED\" rx=\"4\" />\n      <path\n        fill=\"#fff\"\n        d=\"M14.627 6.401c-.034-.027-.35-.265-1.018-.265-.176 0-.352.015-.525.045-.13-.886-.861-1.317-.894-1.337l-.18-.103-.117.17c-.148.229-.256.48-.32.745-.119.506-.046.98.21 1.387-.31.172-.807.215-.907.218H2.64a.391.391 0 00-.39.39c-.01.72.112 1.438.36 2.115.284.744.706 1.292 1.255 1.627.615.377 1.615.592 2.747.592a8.217 8.217 0 001.526-.138 6.398 6.398 0 001.991-.723 5.47 5.47 0 001.359-1.113c.652-.738 1.041-1.56 1.33-2.292h.115c.714 0 1.154-.285 1.395-.525.162-.153.287-.339.368-.545l.053-.15-.123-.098z\"\n      />\n      <path\n        fill=\"#fff\"\n        d=\"M3.405 7.004H4.52a.096.096 0 00.097-.096v-.982a.095.095 0 00-.06-.09.098.098 0 00-.037-.007H3.405a.096.096 0 00-.097.096v.984c0 .052.044.095.097.095zm1.536 0h1.115a.096.096 0 00.097-.096v-.982a.095.095 0 00-.06-.09.097.097 0 00-.037-.007H4.941a.098.098 0 00-.09.06.096.096 0 00-.008.037v.983c.001.052.045.095.098.095zm1.56 0h1.114a.096.096 0 00.097-.096v-.982a.095.095 0 00-.06-.09.098.098 0 00-.036-.007H6.5c-.026 0-.05.01-.07.028a.096.096 0 00-.028.068v.984c0 .052.044.095.098.095zm1.54 0h1.114a.096.096 0 00.098-.096v-.982a.096.096 0 00-.06-.09.098.098 0 00-.038-.007H8.041a.096.096 0 00-.097.096v.984c0 .052.043.095.097.095zm-3.1-1.413h1.115a.097.097 0 00.097-.097V4.51a.098.098 0 00-.097-.096H4.94a.096.096 0 00-.098.096v.983c.001.053.045.097.098.097zm1.56 0h1.114a.097.097 0 00.097-.097V4.51c0-.025-.01-.05-.028-.068a.098.098 0 00-.069-.028H6.501c-.026 0-.05.01-.07.028a.096.096 0 00-.028.068v.983c0 .053.044.097.098.097zm1.54 0h1.114a.098.098 0 00.098-.097V4.51a.098.098 0 00-.098-.096H8.041a.096.096 0 00-.097.096v.983c0 .053.043.097.097.097zm0-1.415h1.114a.096.096 0 00.098-.096v-.984A.098.098 0 009.155 3H8.041a.096.096 0 00-.097.096v.983c0 .054.043.097.097.097zm1.555 2.828h1.114c.026 0 .05-.01.07-.028a.096.096 0 00.028-.068v-.982a.097.097 0 00-.098-.097H9.596a.096.096 0 00-.097.096v.984a.095.095 0 00.06.088.097.097 0 00.037.007\"\n      />\n    </svg>\n  )\n}\n\nfunction MavenIcon({idSuffix}: {idSuffix?: string}) {\n  idSuffix = idSuffix ?? ''\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\">\n      <g clipPath={`url(#clip0${idSuffix})`}>\n        <path\n          fill={`url(#paint0_linear${idSuffix})`}\n          d=\"M2.896.87c-.101.238-.18.755-.217 1.447l.778.377a9.772 9.772 0 01.056-1.385l.006-.05c-.001.017-.005.033-.006.05-.016.14-.049.577-.004 1.366.322-.262.786-.707 1.152-1.088-.387-.79-.869-.929-.869-.929S3.103.38 2.896.87z\"\n        />\n        <path fill=\"#BE202E\" d=\"M5.592 6.844z\" />\n        <path fill=\"#BE202E\" d=\"M5.592 6.844z\" opacity=\"0.35\" />\n        <path\n          fill=\"#BE202E\"\n          d=\"M5.307 6.224c-.002.002-.002.002 0 0 .007-.005.011-.012.018-.016.024-.025.049-.05.07-.075-.027.03-.058.06-.088.09z\"\n        />\n        <path\n          fill=\"#BE202E\"\n          d=\"M5.307 6.224c-.002.002-.002.002 0 0 .007-.005.011-.012.018-.016.024-.025.049-.05.07-.075-.027.03-.058.06-.088.09z\"\n          opacity=\"0.35\"\n        />\n        <path\n          fill={`url(#paint1_linear${idSuffix})`}\n          d=\"M3.66 4.99a38.6 38.6 0 01-.098-.764 17.466 17.466 0 01-.108-1.533l-.777-.374c-.001.047-.005.096-.007.146-.008.186-.014.384-.015.592-.002.234 0 .478.004.734a26.533 26.533 0 00.072 1.38l.002.025 1.039.526c-.036-.246-.075-.49-.111-.732z\"\n        />\n        <path\n          fill={`url(#paint2_linear${idSuffix})`}\n          d=\"M5.195 11.132c.057.194.116.394.179.596.002.002.001.006.003.008.008.03.015.057.026.086.042.136.082.258.167.536.168-.035.378.04.597.142a.852.852 0 00-.567-.308c.636-.424 1.054-.97.995-1.622a2.239 2.239 0 00-.025-.178c-.01.25-.114.43-.418.628l-.002.001.002-.001c.287-.506.367-.85.333-1.294a4.238 4.238 0 00-.041-.337c-.092.661-.447 1.089-.966 1.342l-.315.29c.011.038.02.073.032.11z\"\n        />\n        <path\n          fill={`url(#paint3_linear${idSuffix})`}\n          d=\"M4.79 10.245l-.198-.749a48.91 48.91 0 01-.361-1.479c-.06-.254-.115-.509-.169-.765-.054-.252-.103-.507-.153-.759a32.065 32.065 0 01-.133-.745c-.003-.007-.004-.017-.006-.025l-1.033-.527c.001.016.004.033.004.05.02.234.04.471.068.71a21.4 21.4 0 00.192 1.35l.022.125a14.896 14.896 0 00.483 1.908c.039.116.082.232.123.346.098.269.208.53.326.784l1.043.529c-.055-.192-.107-.387-.163-.585l-.045-.168z\"\n        />\n        <path\n          fill={`url(#paint4_linear${idSuffix})`}\n          d=\"M3.97 10.503a8.1 8.1 0 00.48.887c.007.008.012.02.019.03-.289-.117-.8-.063-.796-.062.527.183.99.407 1.282.746-.116.128-.333.225-.606.305.377.04.588-.026.665-.06-.197.165-.308.466-.405.79.222-.363.443-.604.657-.696.313 1.04.69 2.165 1.109 3.347a.314.314 0 00.049-.295 71.552 71.552 0 01-1.142-3.526c-.016-.053-.03-.108-.048-.164l-.014-.046c-.058-.2-.118-.405-.178-.617l-.04-.144L5 10.996l-1.043-.529a.195.195 0 00.013.036z\"\n        />\n        <path\n          fill={`url(#paint5_linear${idSuffix})`}\n          d=\"M3.893 5.744l.019.101c.02.104.038.208.06.314.021.115.045.232.068.353l.036.183.12.57c.052.24.11.488.17.745.057.243.118.496.183.754.062.246.126.498.196.758.06.23.126.467.193.71.002.012.008.024.01.036a92.063 92.063 0 00.215.753l.315-.29c-.008.002-.014.007-.025.011.374-.353.694-1.06.768-1.697.033-.294.03-.606-.01-.947a6.5 6.5 0 00-.152-.81c-.062-.25-.138-.514-.232-.793-.058.118-.14.233-.24.347l-.055.06c-.018.02-.038.037-.058.058.276-.428.308-.888.227-1.366a1.73 1.73 0 01-.312.54c-.02.026-.045.05-.07.075-.006.004-.011.011-.02.018a1.918 1.918 0 00.226-.537 1.9 1.9 0 00.026-.143c.003-.032.008-.061.01-.093a1.34 1.34 0 000-.225c-.003-.025-.003-.048-.007-.071-.006-.035-.01-.068-.017-.1a4.719 4.719 0 00-.122-.532c-.007-.018-.01-.036-.017-.054-.017-.05-.03-.095-.045-.134a1.34 1.34 0 00-.058-.131.29.29 0 01-.022.062 2.043 2.043 0 01-.355.51l.29-.266-.29.265c-.002.002-.004.004-.004.007-.014.013-.03.028-.043.045 0-.004.005-.007.005-.01l-.992.908c.009.007.01.012.009.016z\"\n        />\n        <path\n          fill={`url(#paint6_linear${idSuffix})`}\n          d=\"M3.51 2.675c.011.218.03.463.055.733.002.015.001.029.005.042a28.913 28.913 0 00.198 1.533c.035.237.079.484.124.746l.992-.909c.206-.374.252-.607.249-.897a7.805 7.805 0 00-.101-1.027 6.791 6.791 0 00-.148-.702 3.721 3.721 0 00-.114-.355 4.047 4.047 0 00-.11-.248c-.365.377-.829.822-1.15 1.084z\"\n        />\n        <path fill=\"#BE202E\" d=\"M5.54 6.902c-.018.02-.038.038-.059.06.019-.02.037-.04.059-.06z\" />\n        <path fill=\"#BE202E\" d=\"M5.54 6.902c-.018.02-.038.038-.059.06.019-.02.037-.04.059-.06z\" opacity=\"0.35\" />\n        <path\n          fill={`url(#paint7_linear${idSuffix})`}\n          d=\"M5.54 6.902c-.018.02-.038.038-.059.06.019-.02.037-.04.059-.06z\"\n        />\n        <path fill=\"#BE202E\" d=\"M5.305 6.226c.007-.005.011-.012.02-.018-.007.004-.011.011-.02.018z\" />\n        <path fill=\"#BE202E\" d=\"M5.305 6.226c.007-.005.011-.012.02-.018-.007.004-.011.011-.02.018z\" opacity=\"0.35\" />\n        <path\n          fill={`url(#paint8_linear${idSuffix})`}\n          d=\"M5.305 6.226c.007-.005.011-.012.02-.018-.007.004-.011.011-.02.018z\"\n        />\n        <path\n          fill={`url(#paint9_linear${idSuffix})`}\n          d=\"M13.06 1.065c-.27.112-.745.465-1.324.993l.327.921c.384-.409.769-.77 1.145-1.07l.045-.036c-.014.013-.03.023-.045.036-.123.1-.497.425-1.088 1.097.468.044 1.194.054 1.792.04.317-.945.039-1.44.039-1.44s-.334-.77-.89-.54z\"\n        />\n        <path\n          fill=\"#BE202E\"\n          d=\"M10.484 8.017c-.06.003-.121.003-.181.003.03.002.063 0 .093-.001.03.001.06 0 .088-.002z\"\n        />\n        <path\n          fill=\"#BE202E\"\n          d=\"M10.484 8.017c-.06.003-.121.003-.181.003.03.002.063 0 .093-.001.03.001.06 0 .088-.002z\"\n          opacity=\"0.35\"\n        />\n        <path\n          fill=\"#BE202E\"\n          d=\"M10.748 7.29c-.003 0-.003 0 0 0 .009.002.018 0 .027.002.04 0 .079 0 .115-.004-.045.002-.093.001-.142.003z\"\n        />\n        <path\n          fill=\"#BE202E\"\n          d=\"M10.748 7.29c-.003 0-.003 0 0 0 .009.002.018 0 .027.002.04 0 .079 0 .115-.004-.045.002-.093.001-.142.003z\"\n          opacity=\"0.35\"\n        />\n        <path\n          fill={`url(#paint10_linear${idSuffix})`}\n          d=\"M10.403 4.99c.177-.237.352-.468.527-.693.183-.234.367-.457.553-.675a17.928 17.928 0 01.578-.646l-.328-.918-.122.112c-.154.143-.316.298-.482.464-.187.187-.38.385-.58.595-.182.193-.37.398-.557.61-.16.182-.32.367-.481.557l-.018.022.418 1.249.492-.677z\"\n        />\n        <path\n          fill={`url(#paint11_linear${idSuffix})`}\n          d=\"M6.758 11.153c-.108.201-.22.409-.33.622 0 .003-.003.005-.004.008-.017.031-.033.06-.046.09-.076.143-.14.273-.292.565.163.105.272.333.367.588a.963.963 0 00-.211-.698c.849.164 1.62.056 2.09-.515.041-.052.082-.106.12-.164-.206.193-.433.257-.834.174h-.003.003c.633-.18.97-.393 1.295-.777.077-.091.155-.192.235-.304-.6.459-1.225.521-1.844.313l-.484-.017c-.02.04-.04.075-.062.115z\"\n        />\n        <path\n          fill={`url(#paint12_linear${idSuffix})`}\n          d=\"M7.137 10.118c.142-.251.288-.505.435-.761a55.32 55.32 0 01.884-1.478c.155-.252.312-.5.473-.75.157-.245.32-.49.479-.733a36.279 36.279 0 01.484-.705c.004-.008.012-.016.016-.025l-.413-1.245c-.01.014-.022.03-.036.043-.17.205-.342.412-.51.627a24.167 24.167 0 00-.918 1.24l-.08.117a16.827 16.827 0 00-1.128 1.92 11.757 11.757 0 00-.536 1.266l.42 1.254c.107-.198.22-.396.332-.6l.098-.17z\"\n        />\n        <path\n          fill={`url(#paint13_linear${idSuffix})`}\n          d=\"M6.271 9.673a9.162 9.162 0 00-.317 1.096l-.009.038c-.14-.323-.594-.686-.592-.682.28.566.474 1.115.44 1.62-.196.01-.448-.084-.73-.237.271.333.493.447.582.481-.29-.024-.618.13-.953.314.467-.116.836-.135 1.081-.038a85.804 85.804 0 00-1.766 3.575.355.355 0 00.274-.199 80.9 80.9 0 011.882-3.745c.03-.056.062-.112.091-.17l.025-.048c.112-.208.228-.42.348-.638.028-.05.053-.098.082-.148v-.003l-.42-1.255a.22.22 0 00-.018.04z\"\n        />\n        <path\n          fill={`url(#paint14_linear${idSuffix})`}\n          d=\"M9.99 5.781l-.065.096c-.066.1-.135.198-.2.3l-.226.339c-.039.057-.077.115-.116.176-.117.179-.235.364-.357.555a61.946 61.946 0 00-.907 1.486c-.145.248-.294.5-.444.766-.134.234-.27.477-.409.725l-.02.037c-.136.245-.276.5-.417.76-.004.006-.008.011-.009.017l.484.017c-.008-.005-.017-.006-.028-.01.581.012 1.4-.303 1.966-.758.26-.21.506-.463.744-.77.179-.227.35-.483.521-.772.149-.25.298-.524.444-.823a1.782 1.782 0 01-.56.093c-.03.002-.06 0-.094.001.562-.126.954-.47 1.268-.92a1.957 1.957 0 01-.68.188c-.037.003-.076.004-.115.004l-.03-.001c.194-.05.364-.113.515-.197.032-.016.062-.036.092-.056.047-.029.091-.062.135-.095l.083-.066a1.52 1.52 0 00.177-.182c.019-.022.036-.04.052-.062.023-.033.045-.063.065-.094a5.321 5.321 0 00.325-.526c.009-.02.02-.036.03-.056.025-.054.05-.101.069-.144.027-.062.047-.114.058-.151a.328.328 0 01-.068.032 2.31 2.31 0 01-.69.128l.445.017-.445-.017c-.003 0-.005 0-.009.002-.021 0-.045 0-.07.002.004-.003.01-.002.013-.004l-1.52-.057c0 .012-.003.017-.006.02z\"\n        />\n        <path\n          fill={`url(#paint15_linear${idSuffix})`}\n          d=\"M12.12 3.006c-.163.184-.342.397-.537.634-.011.013-.022.024-.03.038a32.48 32.48 0 00-1.06 1.391c-.158.219-.32.452-.491.699l1.52.056c.464-.137.686-.289.914-.524a8.814 8.814 0 00.734-.907c.168-.236.32-.47.439-.682.077-.137.141-.264.19-.377.043-.1.078-.194.11-.286-.595.012-1.321.002-1.79-.042z\"\n        />\n        <path fill=\"#BE202E\" d=\"M10.396 8.022l-.094.001a.856.856 0 01.094-.001z\" />\n        <path fill=\"#BE202E\" d=\"M10.396 8.022l-.094.001a.856.856 0 01.094-.001z\" opacity=\"0.35\" />\n        <path fill={`url(#paint16_linear${idSuffix})`} d=\"M10.396 8.022l-.094.001a.856.856 0 01.094-.001z\" />\n        <path fill=\"#BE202E\" d=\"M10.745 7.29c.009.002.018 0 .03.002-.009-.001-.018 0-.03-.002z\" />\n        <path fill=\"#BE202E\" d=\"M10.745 7.29c.009.002.018 0 .03.002-.009-.001-.018 0-.03-.002z\" opacity=\"0.35\" />\n        <path\n          fill={`url(#paint17_linear${idSuffix})`}\n          d=\"M10.745 7.29c.009.002.018 0 .03.002-.009-.001-.018 0-.03-.002z\"\n        />\n      </g>\n      <defs>\n        <linearGradient\n          id={`paint0_linear${idSuffix}`}\n          x1=\"3.012\"\n          x2=\"4.914\"\n          y1=\"2.188\"\n          y2=\"-0.23\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#F69923\" />\n          <stop offset=\"0.312\" stopColor=\"#F79A23\" />\n          <stop offset=\"0.838\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint1_linear${idSuffix}`}\n          x1=\"5.652\"\n          x2=\"2.863\"\n          y1=\"16.748\"\n          y2=\"2.761\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint2_linear${idSuffix}`}\n          x1=\"6.719\"\n          x2=\"5.057\"\n          y1=\"14.78\"\n          y2=\"6.445\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#282662\" />\n          <stop offset=\"0.095\" stopColor=\"#662E8D\" />\n          <stop offset=\"0.788\" stopColor=\"#9F2064\" />\n          <stop offset=\"0.949\" stopColor=\"#CD2032\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint3_linear${idSuffix}`}\n          x1=\"5.365\"\n          x2=\"2.576\"\n          y1=\"15.988\"\n          y2=\"2.001\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint4_linear${idSuffix}`}\n          x1=\"5.351\"\n          x2=\"3.885\"\n          y1=\"14.93\"\n          y2=\"7.58\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#282662\" />\n          <stop offset=\"0.095\" stopColor=\"#662E8D\" />\n          <stop offset=\"0.788\" stopColor=\"#9F2064\" />\n          <stop offset=\"0.949\" stopColor=\"#CD2032\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint5_linear${idSuffix}`}\n          x1=\"6.813\"\n          x2=\"4.024\"\n          y1=\"15.7\"\n          y2=\"1.712\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint6_linear${idSuffix}`}\n          x1=\"6.914\"\n          x2=\"4.125\"\n          y1=\"16.581\"\n          y2=\"2.594\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint7_linear${idSuffix}`}\n          x1=\"7.244\"\n          x2=\"4.454\"\n          y1=\"15.614\"\n          y2=\"1.627\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint8_linear${idSuffix}`}\n          x1=\"7.194\"\n          x2=\"4.404\"\n          y1=\"15.623\"\n          y2=\"1.637\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint9_linear${idSuffix}`}\n          x1=\"12.107\"\n          x2=\"15.559\"\n          y1=\"2.218\"\n          y2=\"1.783\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#F69923\" />\n          <stop offset=\"0.312\" stopColor=\"#F79A23\" />\n          <stop offset=\"0.838\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint10_linear${idSuffix}`}\n          x1=\"2.664\"\n          x2=\"11.532\"\n          y1=\"16.037\"\n          y2=\"2.561\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint11_linear${idSuffix}`}\n          x1=\"5.087\"\n          x2=\"10.371\"\n          y1=\"15.3\"\n          y2=\"7.269\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#282662\" />\n          <stop offset=\"0.095\" stopColor=\"#662E8D\" />\n          <stop offset=\"0.788\" stopColor=\"#9F2064\" />\n          <stop offset=\"0.949\" stopColor=\"#CD2032\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint12_linear${idSuffix}`}\n          x1=\"3.037\"\n          x2=\"11.905\"\n          y1=\"15.197\"\n          y2=\"1.722\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint13_linear${idSuffix}`}\n          x1=\"3.866\"\n          x2=\"8.526\"\n          y1=\"14.335\"\n          y2=\"7.253\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#282662\" />\n          <stop offset=\"0.095\" stopColor=\"#662E8D\" />\n          <stop offset=\"0.788\" stopColor=\"#9F2064\" />\n          <stop offset=\"0.949\" stopColor=\"#CD2032\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint14_linear${idSuffix}`}\n          x1=\"4.432\"\n          x2=\"13.299\"\n          y1=\"16.115\"\n          y2=\"2.639\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint15_linear${idSuffix}`}\n          x1=\"3.812\"\n          x2=\"12.68\"\n          y1=\"16.905\"\n          y2=\"3.43\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint16_linear${idSuffix}`}\n          x1=\"4.846\"\n          x2=\"13.714\"\n          y1=\"16.388\"\n          y2=\"2.912\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <linearGradient\n          id={`paint17_linear${idSuffix}`}\n          x1=\"4.799\"\n          x2=\"13.666\"\n          y1=\"16.356\"\n          y2=\"2.881\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0.323\" stopColor=\"#9E2064\" />\n          <stop offset=\"0.63\" stopColor=\"#C92037\" />\n          <stop offset=\"0.751\" stopColor=\"#CD2335\" />\n          <stop offset=\"1\" stopColor=\"#E97826\" />\n        </linearGradient>\n        <clipPath id={`clip0${idSuffix}`}>\n          <path fill=\"#fff\" d=\"M0 0h28v28H0z\" />\n        </clipPath>\n      </defs>\n    </svg>\n  )\n}\n\nfunction NPMIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\">\n      <rect width=\"16\" height=\"16\" fill=\"#CB0000\" rx=\"4\" />\n      <path fill=\"#fff\" d=\"M7.96 3.289H3.288v9.422h4.67V5.665h2.376v7.046h2.376V3.289H7.959z\" />\n    </svg>\n  )\n}\n\nfunction NuGetIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\">\n      <path\n        fill=\"#004880\"\n        fillRule=\"evenodd\"\n        d=\"M11.663 14.612a2.737 2.737 0 110-5.474 2.737 2.737 0 010 5.474zM6.203 8.34a1.71 1.71 0 110-3.422 1.71 1.71 0 010 3.422zM11.783 3H7.217A4.217 4.217 0 003 7.217v4.567A4.216 4.216 0 007.216 16h4.568A4.215 4.215 0 0016 11.784V7.217A4.216 4.216 0 0011.784 3z\"\n        clipRule=\"evenodd\"\n      />\n      <mask\n        id=\"mask0_4204_241687\"\n        style={{maskType: 'alpha'}}\n        width=\"3\"\n        height=\"3\"\n        x=\"0\"\n        y=\"0\"\n        maskUnits=\"userSpaceOnUse\"\n      >\n        <path fill=\"#fff\" d=\"M0 1.371V.001h2.741v2.74H0v-1.37z\" />\n      </mask>\n      <g mask=\"url(#mask0_4204_241687)\">\n        <path\n          fill=\"#004880\"\n          fillRule=\"evenodd\"\n          d=\"M2.741 1.37A1.37 1.37 0 110 1.37a1.37 1.37 0 012.741 0z\"\n          clipRule=\"evenodd\"\n        />\n      </g>\n    </svg>\n  )\n}\n\nfunction PackageIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\">\n      <path\n        fill=\"#0969DA\"\n        fillRule=\"evenodd\"\n        d=\"M10.41.24l4.711 2.774A1.767 1.767 0 0116 4.54v5.01c0 .63-.335 1.213-.88 1.53l-7.753 4.521-.002.001a1.767 1.767 0 01-1.774 0H5.59L.873 12.85A1.762 1.762 0 010 11.327V6.292c0-.304.078-.598.22-.855l.004-.005.01-.019c.15-.262.369-.486.64-.643L8.641.239a1.75 1.75 0 011.765 0l.002.001zM9.397 1.534a.25.25 0 01.252 0l4.115 2.422-7.152 4.148a.267.267 0 01-.269 0L2.227 5.716l7.17-4.182zM7.365 9.402L8.73 8.61v4.46l-1.5.875V9.473a1.77 1.77 0 00.136-.071zm2.864 2.794V7.741l1.521-.882v4.45l-1.521.887zm3.021-1.762l1.115-.65h.002a.268.268 0 00.133-.232V5.264l-1.25.725v4.445zm-11.621 1.12l4.1 2.393V9.474a1.77 1.77 0 01-.138-.072L1.5 7.029v4.298c0 .095.05.181.129.227z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  )\n}\n\nfunction RubyGemsIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\">\n      <g fill=\"#D34231\" clipPath=\"url(#clip0_4204_241713)\">\n        <path d=\"M5.2 5.285l-.01-.009L3.212 7.26l4.806 4.797 1.978-1.974 2.827-2.823-1.978-1.983v-.008H5.19l.01.017z\" />\n        <path d=\"M8 0L1 4.014v8.025l7 4.01 7-4.014v-8.02L8 0zm5.663 11.27L8 14.532 2.337 11.27V4.762L8 1.499l5.663 3.263v6.508z\" />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_4204_241713\">\n          <path fill=\"#fff\" d=\"M0 0H16V16H0z\" />\n        </clipPath>\n      </defs>\n    </svg>\n  )\n}\n\nfunction ActionIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n      <path\n        fillRule=\"evenodd\"\n        d=\"M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z\"\n      />\n    </svg>\n  )\n}\n\nfunction ContainerIcon() {\n  return (\n    // eslint-disable-next-line github/a11y-svg-has-accessible-name\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\">\n      <path\n        fillRule=\"evenodd\"\n        d=\"M10.41.24l4.711 2.774A1.767 1.767 0 0116 4.54v5.01a1.77 1.77 0 01-.88 1.53l-7.753 4.521-.002.001a1.767 1.767 0 01-1.774 0H5.59L.873 12.85A1.762 1.762 0 010 11.327V6.292c0-.304.078-.598.22-.855l.004-.005.01-.019c.15-.262.369-.486.64-.643L8.641.239a1.75 1.75 0 011.765 0l.002.001zM9.397 1.534a.25.25 0 01.252 0l4.115 2.422-7.152 4.148a.267.267 0 01-.269 0L2.227 5.716l7.17-4.182zM7.365 9.402L8.73 8.61v4.46l-1.5.875V9.473a1.77 1.77 0 00.136-.071zm2.864 2.794V7.741l1.521-.882v4.45l-1.521.887zm3.021-1.762l1.115-.65h.002a.268.268 0 00.133-.232V5.264l-1.25.725v4.445zm-11.621 1.12l4.1 2.393V9.474a1.77 1.77 0 01-.138-.072L1.5 7.029v4.298c0 .095.05.181.129.227z\"\n      />\n    </svg>\n  )\n}\n\ntry{ DockerIcon.displayName ||= 'DockerIcon' } catch {}\ntry{ MavenIcon.displayName ||= 'MavenIcon' } catch {}\ntry{ NPMIcon.displayName ||= 'NPMIcon' } catch {}\ntry{ NuGetIcon.displayName ||= 'NuGetIcon' } catch {}\ntry{ PackageIcon.displayName ||= 'PackageIcon' } catch {}\ntry{ RubyGemsIcon.displayName ||= 'RubyGemsIcon' } catch {}\ntry{ ActionIcon.displayName ||= 'ActionIcon' } catch {}\ntry{ ContainerIcon.displayName ||= 'ContainerIcon' } catch {}","export function capitalizeFirstLetter(string: string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport function formatPackageTitle(string: string) {\n  return string.toLowerCase() === 'npm' ? string.toLowerCase() : capitalizeFirstLetter(string)\n}\n","import {Ago} from '@github-ui/ago'\nimport {Link, Octicon, Label, Box} from '@primer/react'\nimport type {PackageResultItem, PackagesResults} from '../../types/blackbird-types'\nimport {Count} from '../../../react-shared/Count'\nimport {DownloadIcon} from '@primer/octicons-react'\nimport Result from '../search-result'\nimport {packageIconFromName} from '../PackageIcons'\nimport {formatPackageTitle} from '../../utilities/format-type-title'\n\nfunction Packages({results}: {results: PackagesResults}) {\n  return <Result.List>{results.results?.map((item, i) => <PackageResult key={i} item={item} />)}</Result.List>\n}\n\nfunction PackageResult({item}: {item: PackageResultItem}) {\n  const updatedAt = new Date(item.updated_at)\n\n  const repositoryName = item.repo.name\n  const repositoryOwnerName = item.repo.owner_login\n  const latestVersions = item.source.versions.filter(version => version.latest)\n  const latestVersion = [...latestVersions].pop()?.version\n\n  return (\n    <Result>\n      <Result.Header>\n        {repositoryOwnerName && repositoryName && (\n          <Result.RepositoryContext owner={repositoryOwnerName} name={repositoryName} />\n        )}\n        <span className=\"sr-only\">:&nbsp;</span>\n        <Result.Title>\n          <Link href={item.package_url}>\n            <span>{item.name}</span>\n          </Link>\n          {!item.public && <Label sx={{ml: 1}}>{item.source.visibility}</Label>}\n        </Result.Title>\n      </Result.Header>\n\n      {item.summary && (\n        <Result.Content>\n          <span>{item.summary}</span>\n        </Result.Content>\n      )}\n\n      <Result.Footer>\n        <Result.FooterItem>\n          {item.color && <Box sx={{height: 16, mr: 2}}>{packageIconFromName(item.source.package_type)}</Box>}\n          {/* eslint-disable-next-line github/a11y-role-supports-aria-props */}\n          <span aria-label={`${item.source.package_type} type`}>{formatPackageTitle(item.source.package_type)}</span>\n        </Result.FooterItem>\n        {latestVersion && (\n          <Result.FooterItem>\n            <span>{latestVersion}</span>\n          </Result.FooterItem>\n        )}\n        <Result.FooterItem>\n          <Octicon\n            icon={DownloadIcon}\n            size={16}\n            sx={{\n              mx: '6px',\n              color: 'fg.subtle',\n            }}\n          />\n          <Count ariaLabel={`${item.downloads} downloads`} value={item.downloads} />\n        </Result.FooterItem>\n        <Result.FooterItem>\n          <span>\n            Updated <Ago timestamp={updatedAt} />\n          </span>\n        </Result.FooterItem>\n      </Result.Footer>\n    </Result>\n  )\n}\n\nexport default Packages\n\ntry{ Packages.displayName ||= 'Packages' } catch {}\ntry{ PackageResult.displayName ||= 'PackageResult' } catch {}","import type {IssueResultItem, PullRequestsResults} from '../../types/blackbird-types'\nimport Result from '../search-result'\nimport {IssueResult} from './Issues'\n\nexport default function PullRequests({results}: {results: PullRequestsResults}) {\n  return (\n    <Result.List>\n      {results.results.map((item: IssueResultItem, i: number) => (\n        // Pull requests and issues come back from the server with the same response type, so re-use the component.\n        <IssueResult key={i} item={item} isPullRequest={true} />\n      ))}\n    </Result.List>\n  )\n}\n\ntry{ PullRequests.displayName ||= 'PullRequests' } catch {}","import {Ago} from '@github-ui/ago'\nimport {Link, Octicon, Text} from '@primer/react'\nimport type {DiscussionResult as DiscussionResultType, DiscussionsResults} from '../../types/blackbird-types'\nimport {CommentDiscussionIcon} from '@primer/octicons-react'\nimport {Count} from '../../../react-shared/Count'\nimport Result from '../search-result'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nfunction Discussions({results}: {results: DiscussionsResults}) {\n  return (\n    <Result.List>\n      {results.results.map((item, i) => (\n        <DiscussionResult item={item} key={i} />\n      ))}\n    </Result.List>\n  )\n}\n\nfunction DiscussionResult({item}: {item: DiscussionResultType}) {\n  const repositoryName = item.repo.repository.name\n  const repositoryOwnerName = item.repo.repository.owner_login\n  const createdDate = new Date(item.created)\n\n  return (\n    <Result>\n      <Result.Header>\n        <Result.RepositoryContext name={repositoryName} owner={repositoryOwnerName} />\n        <span className=\"sr-only\">:&nbsp;</span>\n        <Result.Title>\n          <Link href={item.url}>{item.title}</Link>\n        </Result.Title>\n      </Result.Header>\n\n      {item.hl_text && (\n        <Result.Content>\n          <span>\n            <Result.SearchMatchText text={item.hl_text} />\n          </span>\n        </Result.Content>\n      )}\n\n      <Result.Footer>\n        <Result.FooterItem>\n          <GitHubAvatar\n            size={16}\n            src={item.development_avatar || item.user_avatar_url}\n            sx={{\n              mr: 2,\n            }}\n          />\n          <Link href={`/${item.user_login}`}>\n            <Text sx={{color: 'fg.default', fontWeight: 'semibold', pr: 1}}>{item.user_login}</Text>\n          </Link>\n          <Text sx={{pr: 1}}>posted</Text>\n          <Ago timestamp={createdDate} />\n        </Result.FooterItem>\n\n        <Result.FooterItem>\n          <Octicon\n            icon={CommentDiscussionIcon}\n            size={16}\n            sx={{\n              mr: 1,\n              color: 'fg.muted',\n            }}\n          />\n          <Count ariaLabel={`${item.num_comments} comments`} value={item.num_comments} />\n        </Result.FooterItem>\n      </Result.Footer>\n    </Result>\n  )\n}\n\nexport default Discussions\n\ntry{ Discussions.displayName ||= 'Discussions' } catch {}\ntry{ DiscussionResult.displayName ||= 'DiscussionResult' } catch {}","import {Button, type ButtonProps} from '@primer/react'\nimport {useCallback, useState} from 'react'\nimport {StarFillIcon, StarIcon} from '@primer/octicons-react'\nimport {useVerifiedFetch} from '@github-ui/use-verified-fetch'\n\ninterface StarButtonProps extends Omit<ButtonProps, 'onClick' | 'leadingIcon' | 'children'> {\n  path: string\n  starred: boolean\n  onToggleCallback?: (starred: boolean) => void\n  signInPath?: string\n}\n\nexport function StarButton({path, starred, onToggleCallback, signInPath, ...buttonProps}: StarButtonProps) {\n  const [currentlyStarred, setCurrentlyStarred] = useState(starred)\n  const star = useVerifiedFetch<void>(`${path}/star`, 'post')\n  const unstar = useVerifiedFetch<void>(`${path}/unstar`, 'post')\n\n  const onToggle = useCallback(async () => {\n    const action = currentlyStarred ? unstar : star\n    setCurrentlyStarred(!currentlyStarred)\n    const res = await action()\n    if (!res.ok) {\n      // Starring failed, so revert back to the previous state\n      setCurrentlyStarred(currentlyStarred)\n      return\n    }\n    onToggleCallback?.(!currentlyStarred)\n  }, [currentlyStarred, onToggleCallback, star, unstar])\n\n  return signInPath ? (\n    <Button size=\"small\" leadingVisual={StarIcon} {...buttonProps} as=\"a\" href={signInPath}>\n      {currentlyStarred ? 'Unstar' : 'Star'}\n    </Button>\n  ) : (\n    <Button size=\"small\" onClick={onToggle} leadingVisual={currentlyStarred ? StarFillIcon : StarIcon} {...buttonProps}>\n      {currentlyStarred ? 'Unstar' : 'Star'}\n    </Button>\n  )\n}\n\ntry{ StarButton.displayName ||= 'StarButton' } catch {}","import {Ago} from '@github-ui/ago'\nimport {Box, Link, Octicon, Label} from '@primer/react'\nimport type {RepositoriesResults, RepositoryResultItem, SearchResponse} from '../../types/blackbird-types'\nimport {StarIcon} from '@primer/octicons-react'\n\nimport {Count} from '../../../react-shared/Count'\nimport React, {useState} from 'react'\nimport Result from '../search-result'\nimport TopicLabel from '../search-result/TopicLabel'\nimport TokenList from '../search-result/TokenList'\nimport {useVerifiedFetch} from '@github-ui/use-verified-fetch'\nimport {repositoryPath, topicPath} from '@github-ui/paths'\nimport LanguageCircle from '../LanguageCircle'\nimport {SafeHTMLBox, type SafeHTMLString} from '@github-ui/safe-html'\nimport {StarButton} from './StarButton'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nfunction Repositories({results}: {results: RepositoriesResults & SearchResponse}) {\n  const [sponsorButtonMap, setSponsorButtonMap] = React.useState<{[key: string]: SafeHTMLString}>()\n\n  const getSponsors = useVerifiedFetch<{[key: string]: SafeHTMLString}>(\n    '/sponsors/batch_deferred_sponsor_buttons',\n    'post',\n  )\n\n  // Scope funding files to the repo as many repos in the same org can have different funding files\n  const getRepoKey = (item: RepositoryResultItem) =>\n    item.has_funding_file\n      ? `${item.repo.repository.owner_id}-${item.repo.repository.id}`\n      : `${item.repo.repository.owner_id}`\n\n  React.useEffect(() => {\n    async function populateSponsorButtonMap(formData: FormData) {\n      const sponsorResponse = await getSponsors({body: formData})\n\n      if (sponsorResponse.ok) {\n        const sponsorButtons = await sponsorResponse.json()\n\n        setSponsorButtonMap(sponsorButtons)\n      }\n    }\n\n    const sponsorFormData = new FormData()\n\n    for (const result of results.results) {\n      const repository = result.repo.repository\n\n      const formRepoKey = `items[item-${getRepoKey(result)}]`\n\n      if ((result.sponsorable || result.has_funding_file) && !sponsorFormData.has(`${formRepoKey}[sponsorable_id]`)) {\n        if (!sponsorFormData.has('_method')) {\n          sponsorFormData.set('_method', 'GET')\n        }\n\n        sponsorFormData.set(`${formRepoKey}[sponsorable_id]`, repository.owner_id)\n        sponsorFormData.set(`${formRepoKey}[sponsorable_login]`, repository.owner_login)\n        sponsorFormData.set(`${formRepoKey}[repo_name]`, repository.name)\n        sponsorFormData.set(`${formRepoKey}[has_funding_file]`, `${result.has_funding_file}`)\n        sponsorFormData.set(`${formRepoKey}[location]`, 'REPO_SEARCH_RESULT_SPONSOR')\n      }\n    }\n\n    if (sponsorFormData.has('_method')) {\n      populateSponsorButtonMap(sponsorFormData)\n    }\n  }, [results, getSponsors])\n  return (\n    <Result.List>\n      {results.results?.map(item => {\n        let sponsorButtonHtml: SafeHTMLString | undefined\n        if (sponsorButtonMap) {\n          sponsorButtonHtml = sponsorButtonMap[`item-${getRepoKey(item)}`]\n        }\n\n        return (\n          <RepositoryResult\n            key={item.repo.repository.id}\n            item={item}\n            sponsorButtonHtml={sponsorButtonHtml}\n            signInPath={!results.logged_in ? results.sign_in_path : ''}\n          />\n        )\n      })}\n    </Result.List>\n  )\n}\n\nfunction RepositoryResult({\n  item,\n  sponsorButtonHtml,\n  signInPath,\n}: {\n  item: RepositoryResultItem\n  sponsorButtonHtml?: SafeHTMLString\n  signInPath?: string\n}) {\n  const repository = item.repo.repository\n\n  const repositoryName = repository.name\n  const repositoryOwnerName = repository.owner_login\n  const repositoryOwnerAvatarUrl = repository.development_avatar || `${repositoryOwnerName}.png`\n  const repositoryUrl = `/${repositoryOwnerName}/${repositoryName}`\n\n  const updatedAt = new Date(repository.updated_at)\n  const maxVisibleTopics = 5\n\n  const [itemCount, setItemCount] = useState(item.followers)\n\n  return (\n    <Result>\n      <Box sx={{display: 'flex'}}>\n        <Box sx={{display: 'flex', flexDirection: 'column', flex: 1, minWidth: 0}}>\n          <Result.Header>\n            <Box sx={{display: 'flex', alignItems: 'center'}}>\n              <Result.Avatar>\n                <GitHubAvatar square={item.owned_by_organization} size={20} src={repositoryOwnerAvatarUrl} />\n              </Result.Avatar>\n              <Result.Title>\n                <Link href={repositoryUrl}>\n                  <Result.SearchMatchText text={item.hl_name} sx={{overflow: 'hidden', textOverflow: 'ellipsis'}} />\n                </Link>\n              </Result.Title>\n              {(!item.public || item.archived) && (\n                <Label sx={{ml: 2}} variant={item.archived ? 'attention' : undefined}>\n                  {item.type}\n                </Label>\n              )}\n            </Box>\n          </Result.Header>\n\n          {item.hl_trunc_description && (\n            <Result.Content>\n              <Result.SearchMatchText text={item.hl_trunc_description} />\n            </Result.Content>\n          )}\n\n          {item.topics.length !== 0 && (\n            <TokenList>\n              {item.topics.slice(0, maxVisibleTopics).map(topic => (\n                <TopicLabel key={topic} href={topicPath({topicName: topic})}>\n                  {topic}\n                </TopicLabel>\n              ))}\n            </TokenList>\n          )}\n\n          <Result.Footer>\n            {item.language && (\n              <Result.FooterItem>\n                <Box sx={{mr: 2}}>\n                  <LanguageCircle color={item.color} />\n                </Box>\n                {/* eslint-disable-next-line github/a11y-role-supports-aria-props */}\n                <span aria-label={`${item.language} language`}>{item.language}</span>\n              </Result.FooterItem>\n            )}\n            <Result.FooterItem>\n              <Link\n                href={`${repositoryUrl}/stargazers`}\n                aria-label={`${item.followers} stars`}\n                sx={{\n                  // Simulating color change and underline for icon\n                  ':hover': {\n                    boxShadow: 'inset 0 -1px 0 0',\n                    '> *': {\n                      color: 'accent.fg',\n                    },\n                  },\n                  display: 'flex',\n                  alignItems: 'center',\n                  color: 'fg.muted',\n                }}\n              >\n                <Octicon\n                  icon={StarIcon}\n                  aria-hidden={true}\n                  size={16}\n                  sx={{\n                    color: 'fg.subtle',\n                    mr: '6px',\n                  }}\n                />\n                <Count value={itemCount} />\n              </Link>\n            </Result.FooterItem>\n            <Result.FooterItem>\n              <span>\n                Updated <Ago timestamp={updatedAt} />\n              </span>\n            </Result.FooterItem>\n          </Result.Footer>\n        </Box>\n        <Box sx={{display: 'flex', justifyContent: 'flex-end', minWidth: 0}}>\n          <Box sx={{pt: 1, pl: 2}}>\n            <StarButton\n              starred={item.starred_by_current_user}\n              name={item.name}\n              path={repositoryPath({owner: item.repo.repository.owner_login, repo: item.repo.repository.name})}\n              onToggleCallback={starred => {\n                if (starred) {\n                  // item.followers doesn't update with any local changes so if the original amount included\n                  // this user, we just reset to that if it's re-starred\n                  // else, we need to add 1\n                  setItemCount(item.starred_by_current_user ? item.followers : item.followers + 1)\n                } else {\n                  //// item.followers doesn't update with any local changes so if the original amount included\n                  // this user, we will need to take off 1 but if it didn't, we just reset to the original\n                  setItemCount(item.starred_by_current_user ? item.followers - 1 : item.followers)\n                }\n              }}\n              signInPath={signInPath}\n            />\n          </Box>\n          {(item.sponsorable || item.has_funding_file) && sponsorButtonHtml && (\n            <Box\n              sx={{\n                display: 'flex',\n                pt: 1,\n                pl: 2,\n              }}\n            >\n              <SafeHTMLBox html={sponsorButtonHtml} />\n            </Box>\n          )}\n        </Box>\n      </Box>\n    </Result>\n  )\n}\n\nexport default Repositories\n\ntry{ Repositories.displayName ||= 'Repositories' } catch {}\ntry{ RepositoryResult.displayName ||= 'RepositoryResult' } catch {}","import {Box, Link, Octicon} from '@primer/react'\nimport {Fragment} from 'react'\nimport {RepoIcon} from '@primer/octicons-react'\nimport type {SearchResponse, Topic, TopicsResults} from '../../types/blackbird-types'\nimport {Count, CountMode} from '../../../react-shared/Count'\nimport Result from '../search-result'\nimport {topicPath} from '@github-ui/paths'\nimport type {SafeHTMLString} from '@github-ui/safe-html'\nimport {StarButton} from './StarButton'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nexport default function Topics({results}: {results: TopicsResults & SearchResponse}) {\n  return (\n    <Result.List>\n      {results.results.map(item => (\n        <TopicResult\n          key={`topic-result-${item.id}`}\n          item={item}\n          signInPath={!results.logged_in ? results.sign_in_path : ''}\n        />\n      ))}\n    </Result.List>\n  )\n}\n\nexport function TopicResult({item, signInPath}: {item: Topic; signInPath?: string}) {\n  return (\n    <Result>\n      <Result.Header>\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          {item.logo_url && (\n            <Result.Avatar>\n              <GitHubAvatar src={item.logo_url} />\n            </Result.Avatar>\n          )}\n\n          <Result.Title>\n            <TopicLink name={item.name} displayName={item.hl_display_name} />\n          </Result.Title>\n\n          <StarButton\n            sx={{marginLeft: 'auto'}}\n            starred={item.starred_by_current_user}\n            name={item.name}\n            path={topicPath({topicName: item.name})}\n            signInPath={signInPath}\n          />\n        </Box>\n      </Result.Header>\n\n      {item.hl_short_description ? (\n        <Result.Content>\n          <Result.SearchMatchText text={item.hl_short_description} />\n        </Result.Content>\n      ) : null}\n      <Result.Footer>\n        <Result.FooterItem>\n          <RepositoryCount value={item.repository_count} isLowerBound={item.repository_count_over_max_fetch_limit} />\n        </Result.FooterItem>\n\n        {item.related.length === 0 ? null : (\n          <Result.FooterItem>\n            <RelatedTopics topics={item.related} show={3} />\n          </Result.FooterItem>\n        )}\n      </Result.Footer>\n    </Result>\n  )\n}\n\nfunction TopicLink({name, displayName}: {name: string; displayName?: SafeHTMLString}) {\n  return (\n    <Link href={topicPath({topicName: name})}>\n      {displayName ? <Result.SearchMatchText text={displayName} /> : <span>{name}</span>}\n    </Link>\n  )\n}\n\nfunction RepositoryCount({value, isLowerBound}: {value: number; isLowerBound: boolean}) {\n  return (\n    <Box sx={{display: 'flex', alignItems: 'center'}}>\n      <Octicon\n        icon={RepoIcon}\n        size={16}\n        sx={{\n          mr: 1,\n        }}\n      />\n      <Count\n        ariaLabel={`${value} repositories`}\n        value={value}\n        mode={isLowerBound ? CountMode.LowerBound : CountMode.Exact}\n      />\n    </Box>\n  )\n}\n\nfunction RelatedTopics({topics, show}: {topics: readonly string[]; show: number}) {\n  const head = [...topics].slice(0, show)\n  const rest = [...topics].slice(show)\n\n  return (\n    <div>\n      {head.map((topic, i) => (\n        <Fragment key={`related-topic-${topic}`}>\n          <TopicLink name={topic} />\n          {i !== head.length - 1 ? <span>{', '}</span> : null}\n        </Fragment>\n      ))}\n      {rest.length > 0 ? (\n        <span key=\"related-topics-more\">\n          {' '}\n          and <Count value={rest.length} /> more\n        </span>\n      ) : null}\n    </div>\n  )\n}\n\ntry{ Topics.displayName ||= 'Topics' } catch {}\ntry{ TopicResult.displayName ||= 'TopicResult' } catch {}\ntry{ TopicLink.displayName ||= 'TopicLink' } catch {}\ntry{ RepositoryCount.displayName ||= 'RepositoryCount' } catch {}\ntry{ RelatedTopics.displayName ||= 'RelatedTopics' } catch {}","import {Box, Button, Link, Text, Octicon, themeGet} from '@primer/react'\nimport type {SearchResponse, UserResult as UserResultType, UsersResults} from '../../types/blackbird-types'\nimport React from 'react'\nimport {useVerifiedFetch} from '@github-ui/use-verified-fetch'\nimport Result from '../search-result'\nimport {SafeHTMLBox, type SafeHTMLString} from '@github-ui/safe-html'\nimport {Count} from '../../../react-shared/Count'\nimport {PeopleIcon, RepoIcon} from '@primer/octicons-react'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nfunction Users({results}: {results: UsersResults & SearchResponse}) {\n  const [sponsorButtonMap, setSponsorButtonMap] = React.useState<{[key: string]: SafeHTMLString}>()\n\n  const getSponsors = useVerifiedFetch<{[key: string]: SafeHTMLString}>(\n    '/sponsors/batch_deferred_sponsor_buttons',\n    'post',\n  )\n\n  React.useEffect(() => {\n    async function populateSponsorButtonMap(formData: FormData) {\n      const sponsorResponse = await getSponsors({body: formData})\n\n      if (sponsorResponse.ok) {\n        const sponsorButtons = await sponsorResponse.json()\n\n        setSponsorButtonMap(sponsorButtons)\n      }\n    }\n\n    const sponsorFormData = new FormData()\n\n    for (const result of results.results) {\n      const formRepoKey = `items[item-${result.id}]`\n\n      if (result.sponsorable && !sponsorFormData.has(`${formRepoKey}[sponsorable_id]`)) {\n        if (!sponsorFormData.has('_method')) {\n          sponsorFormData.set('_method', 'GET')\n        }\n\n        sponsorFormData.set(`${formRepoKey}[sponsorable_id]`, result.id)\n        sponsorFormData.set(`${formRepoKey}[sponsorable_login]`, result.login)\n        sponsorFormData.set(`${formRepoKey}[repo_name]`, '')\n        sponsorFormData.set(`${formRepoKey}[has_funding_file]`, 'false')\n        sponsorFormData.set(`${formRepoKey}[location]`, 'USER_SEARCH_RESULT_SPONSOR')\n      }\n    }\n\n    if (sponsorFormData.has('_method')) {\n      populateSponsorButtonMap(sponsorFormData)\n    }\n  }, [results, getSponsors])\n\n  return (\n    <Result.List>\n      {results.results.map((item, i) => {\n        let sponsorButtonHtml: SafeHTMLString | undefined\n        if (sponsorButtonMap) {\n          sponsorButtonHtml = sponsorButtonMap[`item-${item.id}`]\n        }\n\n        return (\n          <UserResult\n            item={item}\n            key={i}\n            sponsorButtonHtml={sponsorButtonHtml}\n            signInPath={!results.logged_in ? results.sign_in_path : ''}\n          />\n        )\n      })}\n    </Result.List>\n  )\n}\n\nfunction UserResult({\n  item,\n  sponsorButtonHtml,\n  signInPath,\n}: {\n  item: UserResultType\n  sponsorButtonHtml?: SafeHTMLString\n  signInPath?: string\n}) {\n  return (\n    <Result>\n      <Box sx={{display: 'flex', flexDirection: 'row'}}>\n        <Box sx={{display: 'flex', flexDirection: 'row', maxWidth: themeGet('breakpoints.0')}}>\n          <Box sx={{flexShrink: 0}}>\n            <GitHubAvatar src={item.development_avatar || item.avatar_url} size={40} sx={{mr: 3, mt: 1}} />\n          </Box>\n          <Box\n            sx={{display: 'flex', flexDirection: 'column', flexGrow: 1, borderTopColor: 'border.default', minWidth: 0}}\n          >\n            <Result.Header>\n              <Result.Title>\n                <Title user={item} />\n              </Result.Title>\n            </Result.Header>\n\n            {item.hl_profile_bio && (\n              <Result.Content>\n                <span>\n                  <Result.SearchMatchText text={item.hl_profile_bio} />\n                </span>\n              </Result.Content>\n            )}\n\n            {item.location && (\n              <Result.Footer>\n                <Result.FooterItem>\n                  <span>{item.location}</span>\n                </Result.FooterItem>\n\n                <Result.FooterItem>\n                  <Octicon\n                    icon={RepoIcon}\n                    size={16}\n                    sx={{\n                      color: 'fg.subtle',\n                      mr: '6px',\n                    }}\n                  />\n                  <Count ariaLabel={`${item.repos} repositories`} value={item.repos} />\n                </Result.FooterItem>\n\n                <Result.FooterItem>\n                  <Octicon\n                    icon={PeopleIcon}\n                    size={16}\n                    sx={{\n                      color: 'fg.subtle',\n                      mr: '6px',\n                    }}\n                  />\n                  <Count ariaLabel={`${item.followers} followers`} value={item.followers} />\n                </Result.FooterItem>\n              </Result.Footer>\n            )}\n          </Box>\n        </Box>\n        <Box sx={{flex: 1, display: 'flex', justifyContent: 'flex-end', flexBasis: 'auto'}}>\n          {!item.is_current_user && (\n            <div>\n              <FollowButton followedByUser={item.followed_by_current_user} login={item.login} signInPath={signInPath} />\n            </div>\n          )}\n          {sponsorButtonHtml && <SafeHTMLBox html={sponsorButtonHtml} sx={{ml: 2}} />}\n        </Box>\n      </Box>\n    </Result>\n  )\n}\n\nfunction Title({user}: {user: UserResultType}) {\n  const userHref = `/${user.display_login}`\n  return (\n    <>\n      {user.hl_name && (\n        <Link href={userHref}>\n          <Text sx={{fontSize: 2, fontWeight: 'semibold'}}>{user.name}</Text>\n        </Link>\n      )}\n      <Link href={userHref}>\n        <Text sx={{color: 'fg.muted', ml: user.name ? 1 : undefined, fontWeight: 'normal'}}>\n          <Text sx={{fontSize: 2, fontWeight: 'light'}}>{user.display_login}</Text>\n        </Text>\n      </Link>\n    </>\n  )\n}\n\nfunction FollowButton({\n  followedByUser,\n  login,\n  signInPath,\n}: {\n  followedByUser: boolean\n  login: string\n  signInPath?: string\n}) {\n  const [followed, setFollowed] = React.useState(followedByUser)\n  const action = useVerifiedFetch<void>(`/users/${followed ? 'unfollow' : 'follow'}?target=${login}`, 'post')\n\n  const onToggle = React.useCallback(async () => {\n    setFollowed(!followed)\n    const res = await action()\n    if (!res.ok) {\n      // following failed, so revert back to the previous state\n      setFollowed(followed)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [followed])\n\n  return signInPath ? (\n    <Button size=\"small\" as=\"a\" href={signInPath}>\n      {followed ? 'Unfollow' : 'Follow'}\n    </Button>\n  ) : (\n    <Button onClick={onToggle} size=\"small\">\n      {followed ? 'Unfollow' : 'Follow'}\n    </Button>\n  )\n}\n\nexport default Users\n\ntry{ Users.displayName ||= 'Users' } catch {}\ntry{ UserResult.displayName ||= 'UserResult' } catch {}\ntry{ Title.displayName ||= 'Title' } catch {}\ntry{ FollowButton.displayName ||= 'FollowButton' } catch {}","import {Ago} from '@github-ui/ago'\nimport type {WikiResultItem, WikisResults} from '../../types/blackbird-types'\nimport {Link} from '@primer/react'\nimport Result from '../search-result'\nimport {encodePart} from '@github-ui/paths'\n\nfunction Wikis({results}: {results: WikisResults}) {\n  return (\n    <Result.List>\n      {results.results.map(item => (\n        <WikiResult key={`wiki-result-${item.id}`} item={item} />\n      ))}\n    </Result.List>\n  )\n}\n\nfunction WikiResult({item}: {item: WikiResultItem}) {\n  const repositoryName = item.repo.repository.name\n  const repositoryOwnerName = item.repo.repository.owner_login\n  // wiki URLs only use the filename without the extension, even if the actual file is nested in a directory\n  const filepath = item.filename.substring(0, item.filename.lastIndexOf('.'))\n  const wikiUrl = `/${repositoryOwnerName}/${repositoryName}/wiki/${encodePart(filepath)}`\n  const lastUpdatedDate = new Date(item.updated_at)\n  return (\n    <Result>\n      <Result.Header>\n        <Result.RepositoryContext owner={repositoryOwnerName} name={repositoryName} />\n        <Result.Title>\n          <Link href={wikiUrl} target=\"_blank\">\n            <Result.SearchMatchText text={item.hl_title} />\n          </Link>\n        </Result.Title>\n      </Result.Header>\n      {item.hl_body && (\n        <Result.Content>\n          <Result.SearchMatchText text={item.hl_body} />\n        </Result.Content>\n      )}\n      <Result.Footer>\n        <Result.FooterItem>\n          <span>\n            {`Last updated `}\n            <Ago timestamp={lastUpdatedDate} />\n          </span>\n        </Result.FooterItem>\n      </Result.Footer>\n    </Result>\n  )\n}\n\nexport default Wikis\n\ntry{ Wikis.displayName ||= 'Wikis' } catch {}\ntry{ WikiResult.displayName ||= 'WikiResult' } catch {}","// Matches app/views/site/_hovercard_template.html.erb which is the template used in the rest of the monolith\n// This component's contents get set by app/assets/modules/github/behaviors/hovercards.ts\nimport {useFeatureFlag} from '@github-ui/react-core/use-feature-flag'\n\nexport default function HoverCard() {\n  const isHovercardAccessibilityEnabled = useFeatureFlag('hovercard_accessibility')\n  return (\n    <div\n      className=\"Popover js-hovercard-content position-absolute\"\n      style={{display: 'none', outline: 'none'}}\n      role={isHovercardAccessibilityEnabled ? 'dialog' : undefined}\n      aria-modal={isHovercardAccessibilityEnabled ? true : undefined}\n    >\n      <div\n        className=\"Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large\"\n        style={{width: '360px'}}\n        tabIndex={isHovercardAccessibilityEnabled ? undefined : 0}\n      />\n    </div>\n  )\n}\n\ntry{ HoverCard.displayName ||= 'HoverCard' } catch {}","import {ActionList} from '@primer/react'\n\nimport {LinkExternalIcon} from '@primer/octicons-react'\n\nexport default function EducationGroup() {\n  return (\n    <ActionList.LinkItem\n      href=\"https://github.com/search/advanced\"\n      sx={{\n        span: {\n          color: 'accent.fg',\n        },\n      }}\n    >\n      <ActionList.LeadingVisual>\n        <LinkExternalIcon />\n      </ActionList.LeadingVisual>\n      Advanced search\n    </ActionList.LinkItem>\n  )\n}\n\ntry{ EducationGroup.displayName ||= 'EducationGroup' } catch {}","import {Box, type BoxProps} from '@primer/react'\nimport styled, {keyframes} from 'styled-components'\n\nconst shine = keyframes`\n    0% { opacity:1; }\n    50% { opacity:0.6; }\n    100% { opacity:1; }\n`\n\nconst Animation = styled(Box)`\n  background-size: 200% 100%;\n  animation: ${shine} 1.5s linear infinite;\n`\n\nexport default function Base(props: BoxProps) {\n  return <Animation width=\"100%\" bg=\"neutral.subtle\" {...props} />\n}\n\ntry{ Animation.displayName ||= 'Animation' } catch {}\ntry{ Base.displayName ||= 'Base' } catch {}","import {CounterLabel} from '@primer/react'\nimport {Count} from '../../react-shared/Count'\nimport Base from '../components/skeletons/Base'\n\nexport default function LazyCounter({\n  totalResults,\n  isLoading,\n  resultCountIsLowerBound,\n}: {\n  totalResults: number\n  isLoading: boolean\n  resultCountIsLowerBound?: boolean\n}) {\n  if (isLoading) {\n    return <Base sx={{height: 20, width: 20, ml: 2, borderRadius: 3}} />\n  }\n\n  return (\n    <CounterLabel data-testid=\"resolved-count-label\" sx={{height: 20, lineHeight: '20px', py: 0, px: 2}}>\n      <Count isLowerBound={resultCountIsLowerBound} value={totalResults} />\n    </CounterLabel>\n  )\n}\n\ntry{ LazyCounter.displayName ||= 'LazyCounter' } catch {}","import {useCallback, useMemo} from 'react'\nimport {getRelativeHref, type PathFunction, type PathParams, type Query} from '@github-ui/paths'\nimport {useSoftNavigate} from './use-soft-navigate'\n\n/**\n * A link that performs soft navigation should perform the correct action on click,\n * and it should also show the correct href. This hook provides both.\n *\n * @example\n * ```tsx\n * function MyLink() {\n *   const [href, navigateToPath] = useSoftNavigateTo(myPath, {firstParam: 'asdf', secondParam: 'sdfg'})\n *\n *   return (\n *     <Link href={href} onClick={navigateToPath}>\n *       This is my super cool link!\n *     </Link>\n *   )\n * }\n * ```\n */\nexport function useSoftNavigateTo<T extends PathParams>(\n  path: PathFunction<T>,\n  params: T,\n  query?: Query,\n): [string, (e?: React.SyntheticEvent) => void] {\n  const navigateTo = useSoftNavigate(path)\n  const href = useMemo(() => getRelativeHref(path, params, query), [path, params, query])\n  const navigateToPath = useCallback(\n    (e?: React.SyntheticEvent) => {\n      navigateTo(params, query)\n      e?.preventDefault()\n    },\n    [params, query, navigateTo],\n  )\n\n  return [href, navigateToPath]\n}\n","import {createContext, useContext} from 'react'\n\nconst LoggedInContext = createContext<boolean>(true)\n\nexport default LoggedInContext\n\nexport function useLoggedInContext() {\n  return useContext(LoggedInContext)\n}\n\ntry{ LoggedInContext.displayName ||= 'LoggedInContext' } catch {}","import React, {useEffect} from 'react'\nimport {ActionList, CounterLabel, Octicon} from '@primer/react'\nimport {type Icon, ChevronDownIcon} from '@primer/octicons-react'\nimport LazyCounter from '../LazyCounter'\nimport {useSoftNavigateTo} from '../../hooks/use-soft-navigate-to'\nimport {getUrl, searchPath} from '@github-ui/paths'\nimport type {SearchKindCount} from '../../hooks/use-search-result-counts'\nimport type {SearchResultsType} from '../../types/blackbird-types'\nimport {shouldOpenInNewTab} from '../../hooks/use-navigate-to-query'\nimport {capitalizeFirstLetter} from '../../utilities/format-type-title'\nimport {useLoggedInContext} from '../../contexts/LoggedInContext'\nimport {Count} from '../../../react-shared/Count'\n\nexport default function TypeGroup({\n  isLoadingCounters,\n  selectedType,\n  isMobile,\n  searchKinds,\n}: {\n  isLoadingCounters: boolean\n  selectedType: string | undefined\n  isMobile: boolean\n  searchKinds: SearchKindCount[]\n}) {\n  const defaultItemsVisible = 6\n  const indexSelection = searchKinds.findIndex(kind => kind.name === selectedType)\n  const [isExpanded, setIsExpanded] = React.useState(indexSelection >= defaultItemsVisible)\n\n  const desktopState =\n    // Show all items if we have 7 items since showing 6 items + More button is\n    // the same length as showing all 7 items\n    isExpanded || searchKinds.length === defaultItemsVisible + 1\n      ? searchKinds\n      : searchKinds.slice(0, defaultItemsVisible)\n\n  const searchKindsState = isMobile ? searchKinds : desktopState\n\n  useEffect(() => {\n    if (!isLoadingCounters) {\n      const searchKindCount = searchKinds?.find(kind => kind.name === selectedType) || searchKinds[0]!\n      if (searchKindCount.total === 0) {\n        setIsExpanded(true)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isLoadingCounters])\n\n  return (\n    <ActionList.Group data-testid=\"kind-group\">\n      {searchKindsState.map(({name, readableNamePlural, icon, total}) => {\n        return (\n          <TypeItem\n            key={name}\n            selectedType={selectedType}\n            type={name || 'codelegacy'}\n            title={readableNamePlural}\n            icon={icon}\n            isLoading={isLoadingCounters}\n            totalResults={total || 0}\n            isMobile={isMobile}\n          />\n        )\n      })}\n      {!isExpanded && !isMobile && searchKinds.length > defaultItemsVisible + 1 && (\n        // Only show the \"More\" button if there are more than \"defaultItemsVisible + 1\" items\n        // If we only show the \"More\" button when there are more than \"defaultItemsVisible\" items,\n        // We will end up in a case where we have 7 items, but only show 6, and the \"More\" button\n        // Which is annoying for users since the more button takes up just as much space as the 7th item\n        <ActionList.Item onClick={() => setIsExpanded(true)} onSelect={() => setIsExpanded(true)}>\n          <ActionList.LeadingVisual>\n            <Octicon icon={ChevronDownIcon} size={16} sx={{mr: 2, color: 'fg.muted'}} />\n          </ActionList.LeadingVisual>\n          More\n        </ActionList.Item>\n      )}\n    </ActionList.Group>\n  )\n}\n\nfunction TypeItem({\n  title,\n  icon,\n  selectedType,\n  isMobile,\n  type,\n  selectedAction,\n  totalResults,\n  isLoading,\n  resultCountIsLowerBound,\n}: {\n  title: string\n  icon: Icon\n  selectedType: string | undefined\n  type: SearchResultsType\n  selectedAction?: () => void\n  totalResults: number\n  isMobile: boolean\n  isLoading: boolean\n  resultCountIsLowerBound?: boolean\n}) {\n  const [, navigateToSearchType] = useSoftNavigateTo(searchPath, undefined, {\n    p: null,\n    type,\n    l: null,\n    s: null,\n    o: null,\n  })\n  const loggedIn = useLoggedInContext()\n\n  const url = getUrl(searchPath, undefined, {p: null, type, l: null, s: null, o: null}).toString()\n  const navigate = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (shouldOpenInNewTab(e)) {\n      window.open(url, '_blank')\n      e.preventDefault()\n      e.stopPropagation()\n    } else {\n      navigateToSearchType(e)\n      e.preventDefault()\n      e.stopPropagation()\n    }\n    if (selectedAction) selectedAction()\n  }\n\n  const itemIcon = <Octicon icon={icon} size={16} sx={{mr: 2, color: 'fg.muted'}} />\n  const contents = (\n    <>\n      {capitalizeFirstLetter(title)}\n      {/* ActionList.TrailingVisual is aria-hidden so we need to include the count in the main item to make it accessible */}\n      {!isLoading && (\n        <span className=\"sr-only\">\n          , <Count isLowerBound={resultCountIsLowerBound} value={totalResults} /> results\n        </span>\n      )}\n    </>\n  )\n  const counter =\n    !loggedIn && type === 'code' ? (\n      <CounterLabel data-testid=\"resolved-count-label\" sx={{height: 20, lineHeight: '20px', py: 0, px: 2}}>\n        ...\n      </CounterLabel>\n    ) : (\n      <LazyCounter\n        resultCountIsLowerBound={resultCountIsLowerBound}\n        totalResults={totalResults}\n        isLoading={isLoading}\n      />\n    )\n\n  if (isMobile) {\n    return (\n      <ActionList.Item\n        key={type}\n        data-testid={`nav-item-${type}`}\n        role=\"menuitemradio\"\n        selected={selectedType === type}\n        aria-checked={selectedType === type}\n        onSelect={navigate}\n      >\n        <ActionList.LeadingVisual>{itemIcon}</ActionList.LeadingVisual>\n        {contents}\n        <ActionList.TrailingVisual sx={{display: 'flex'}}>{counter}</ActionList.TrailingVisual>\n      </ActionList.Item>\n    )\n  }\n\n  return (\n    <ActionList.LinkItem onClick={navigate} href={url} active={selectedType === type} data-testid={`nav-item-${type}`}>\n      <ActionList.LeadingVisual>{itemIcon}</ActionList.LeadingVisual>\n      {contents}\n      <ActionList.TrailingVisual sx={{display: 'flex'}}>{counter}</ActionList.TrailingVisual>\n    </ActionList.LinkItem>\n  )\n}\n\ntry{ TypeGroup.displayName ||= 'TypeGroup' } catch {}\ntry{ TypeItem.displayName ||= 'TypeItem' } catch {}","import type {SafeHTMLString} from '@github-ui/safe-html'\nimport type {CertificateAttributes, CommitSignatureType, VerificationStatus} from '@github-ui/signed-commit-badge'\n\nexport type SearchResults = (\n  | BlackbirdResults\n  | LegacyCodeResults\n  | RepositoriesResults\n  | CommitsResults\n  | IssuesResults\n  | PullRequestsResults\n  | DiscussionsResults\n  | PackagesResults\n  | TopicsResults\n  | WikisResults\n  | UsersResults\n  | MarketplaceResults\n) &\n  SearchResponse\n\nexport type SearchResultsType = SearchResults['type']\n\nexport interface SearchResponse {\n  errors: QueryError[]\n  elapsed_millis: number\n  result_count: number\n  query_id: string\n  page_count: number\n  page: number\n  protected_org_logins?: string[]\n  facets: Facet[]\n  header_redesign_enabled?: boolean\n  logged_in?: boolean\n  sign_up_path?: string\n  sign_in_path: string\n  warn_limited_results?: boolean\n}\n\nexport interface Facet {\n  kind: string\n  entries: FacetEntry[]\n}\n\nexport interface FacetEntry {\n  name: string\n  owner?: string\n  language_color?: string\n  query: string\n  onClick?: () => void\n  shouldNavigate?: boolean\n  visual?: React.ReactElement\n  searchParams?: {[key: string]: string | null}\n}\n\nexport interface ErrorRange {\n  start: number\n  end: number\n}\n\nexport const PARSE_ERROR_FATAL = 1\nexport interface QueryError {\n  message: string\n  type?: number\n  ranges?: ErrorRange[]\n  suggestion?: string\n  missing_or_inaccessible_repo_org_nwo?: string\n}\n\ninterface BlackbirdSymbol {\n  fully_qualified_name: string\n  kind: string | number\n  ident_start: number\n  ident_end: number\n  extent_start: number\n  extent_end: number\n  score: number\n}\n\ninterface SnippetCommon {\n  starting_line_number: number\n  ending_line_number: number\n  jump_to_line_number: number\n  match_count: number\n  score: number\n}\n\ninterface HTMLSnippet extends SnippetCommon {\n  lines: readonly SafeHTMLString[]\n  format: 'SNIPPET_FORMAT_HTML'\n}\n\ninterface PlainTextSnippet extends SnippetCommon {\n  lines: readonly string[]\n  format: 'SNIPPET_FORMAT_PLAIN_TEXT'\n}\n\nexport type Snippet = HTMLSnippet | PlainTextSnippet\n\ninterface Location {\n  path: string\n  repo_id: number\n  repo_nwo: string\n  owner_id: number\n  commit_sha: string\n  ref_name: string\n}\n\nexport interface CodeResult {\n  path: string\n  repo_id: number\n  repo_nwo: string\n  owner_id: number\n  commit_sha: string\n  ref_name: string\n  blob_sha: string\n  language_name: string\n  language_id: number\n  has_language_id: boolean\n  language_color: string\n  match_count: number\n  matched_symbols: BlackbirdSymbol[]\n  snippets: Snippet[]\n  line_number: number\n  duplicate_locations: Location[]\n  debug_info?: CodeResultDebugInfo\n}\n\nexport interface CodeResultDebugInfo {\n  score: number\n  retrieval_position: number\n}\n\n/**\n * Represents code search results from Blackbird.\n */\nexport interface BlackbirdResults {\n  type: 'code'\n  results: CodeResult[]\n  metadata?: BlackbirdMetadata\n}\n\nexport interface BlackbirdMetadata {\n  total_cost: number\n  retries: number\n  limit_reached: boolean\n  docs_returned: number\n}\n\nexport interface LegacyCodeResults {\n  type: 'codelegacy'\n  results: LegacyCodeResultItem[]\n}\n\nexport interface LegacyCodeResultItem {\n  id: string\n  path: string\n  filename: string\n  match_count: number\n  explain: null\n  /*\n   * The file size, in bytes\n   */\n  file_size: number\n  public: boolean\n  language?: string | null\n  language_color?: string | null\n  blob_sha: string\n  commit_sha: string\n  timestamp: string\n  repo_id: number\n  repo: {repository: {name: string; [key: string]: unknown}}\n  repo_name: string\n  repo_default_branch: string\n  owner_login: string\n  highlights: {\n    file: string[]\n  }\n  /**\n   * File contents with syntax highlighting (not just result highlighting)\n   */\n  hl_path?: SafeHTMLString\n  hl_filename?: SafeHTMLString\n  hl_fragments: LegacyCodeHighlightFragment[]\n}\n\ninterface LegacyCodeHighlightFragment {\n  lines: LegacyCodeHighlightLine[]\n}\n\ninterface LegacyCodeHighlightLine {\n  line: SafeHTMLString\n  line_number: number\n}\n\nexport interface RepositoriesResults {\n  type: 'repositories'\n  results: RepositoryResultItem[]\n  topics: CuratedTopicResultItem | null\n}\n\nexport interface RepositoryResultItem {\n  archived: boolean\n  color: string\n  followers: number\n  has_funding_file: boolean\n  /**\n   * HTML escaped name with an <em> around the matching substring.\n   */\n  hl_name: SafeHTMLString\n  /**\n   * HTML escaped and truncated description with an <em> around the matching substring.\n   */\n  hl_trunc_description: SafeHTMLString\n  name: string\n  language: string\n  mirror: boolean\n  owned_by_organization: boolean\n  public: boolean\n  repo: {repository: Repository}\n  sponsorable: boolean\n  starred_by_current_user: boolean\n  topics: string[]\n  type: string\n}\n\ninterface Repository {\n  id: string\n  name: string\n  development_avatar?: string // Testing locally with test data\n  owner_id: string\n  owner_login: string\n  updated_at: string\n}\n\ninterface CuratedTopicResultItem {\n  curated_topic: Topic\n  linked_topic_name: string\n}\n\nexport interface CommitsResults {\n  type: 'commits'\n  results: CommitResultItem[]\n}\n\nexport interface CommitResultItem {\n  id: string\n  sha: string\n  author_date: string\n  hl_subject: SafeHTMLString\n  hl_body: SafeHTMLString\n  message: string\n  repository: {repository: Repository}\n  verification_status: VerificationStatus\n  status_check_rollup: StatusCheckRollup\n  help_url: string\n  has_signature: boolean\n  is_viewer: boolean\n  key_expired: boolean\n  key_id: string\n  key_revoked: boolean\n  signed_by_github: boolean\n  signer_login: string\n  signer_avatar_url: string\n  signature_type: CommitSignatureType\n  signature_certificate_subject?: CertificateAttributes\n  signature_certificate_issuer?: CertificateAttributes\n  signature_verification_reason: string\n  checks_status_summary: string\n  checks_header_state: string\n  check_runs: CheckRun[]\n  committer_attribution: boolean\n  authors: Author[]\n  committer: Author\n  commit_author_tooltip: string\n  issue_references: IssueReference[]\n}\n\nexport interface IssueReference {\n  title: string\n  id: number\n  permalink: string\n  is_pull_request: boolean\n  state: string\n  reviewable_state: string\n  merged: boolean\n}\n\nexport interface CheckRun {\n  name: string\n  state: string\n  description: string\n  target_url: string\n  icon: string\n  avatar_url: string\n  avatar_description: string\n  avatar_logo: string\n  additional_context: string\n  pending: boolean\n  avatar_background_color: string\n}\n\nexport interface StatusCheckRollup {\n  state: string\n}\n\nexport interface CommitAuthor {\n  login: string\n  displayName: string\n  avatarUrl: string\n  developmentAvatar?: string // Testing locally with test data\n}\n\nexport interface Author {\n  login: string\n  display_name: string\n  avatar_url: string\n  development_avatar?: string // Testing locally with test data\n}\nexport interface IssuesResults {\n  type: 'issues'\n  results: IssueResultItem[]\n}\n\nexport interface IssueResultItem {\n  author_name: string\n  author_avatar_url: string\n  development_avatar?: string // Testing locally with test data\n  id: number\n  issue: {\n    issue: {\n      pull_request_id: number | null\n    }\n  }\n  repo: {repository: Repository}\n  labels: SafeHTMLString[]\n  num_comments: number\n  number: number\n  state: string\n  hl_title: SafeHTMLString\n  hl_text: SafeHTMLString\n  created: string\n  reviewable_state: string\n  merged: boolean\n}\n\nexport interface PullRequestsResults {\n  type: 'pullrequests'\n  results: IssueResultItem[]\n}\n\nexport interface DiscussionsResults {\n  results: DiscussionResult[]\n  type: 'discussions'\n}\n\nexport interface DiscussionResult {\n  body: string\n  created: string\n  /**\n   * HTML escaped text with an <em> around the matching substring.\n   */\n  hl_text: SafeHTMLString\n  /**\n   * HTML escaped title with an <em> around the matching substring.\n   */\n  hl_title: SafeHTMLString\n  id: number\n  num_comments: number\n  number: number\n  repo: {repository: Repository}\n  title: string\n  url: string\n  development_avatar?: string // Testing locally with test data\n  updated: Date\n  user_avatar_url: string\n  user_id: number\n  user_login: string\n}\n\nexport interface PackagesResults {\n  type: 'registrypackages'\n  results: PackageResultItem[]\n}\n\nexport interface PackageResultItem {\n  id: number\n  color?: string\n  downloads: number\n  name: string\n  repo: Repository\n  package_url: string\n  public: boolean\n  source: {\n    visibility: string\n    body: string\n    package_type: string\n    versions: Array<{\n      version: string\n      latest: boolean\n    }>\n  }\n  summary: string\n  topics: string[]\n  updated_at: string\n}\n\nexport interface TopicsResults {\n  readonly type: 'topics'\n  readonly results: readonly Topic[]\n}\n\nexport interface Topic {\n  readonly id: string\n  readonly name: string\n  readonly display_name: string | null\n  readonly short_description: string | null\n  readonly description: string | null\n  /**\n   * HTML escaped name with an <em> around the matching substring.\n   */\n  readonly hl_display_name: SafeHTMLString\n  /**\n   * HTML escaped description with an <em> around the matching substring.\n   */\n  readonly hl_short_description: SafeHTMLString | null\n  readonly created_by: null\n  readonly released: null\n  readonly featured: boolean\n  readonly curated: boolean\n  readonly aliases: readonly string[]\n  readonly related: readonly string[]\n  readonly repository_count: number\n  readonly repository_count_over_max_fetch_limit: boolean\n  readonly starred_by_current_user: boolean\n  readonly highlights: {\n    readonly description?: readonly [string]\n    readonly display_name?: readonly [string]\n    readonly 'name.ngram'?: readonly [string]\n  }\n\n  readonly flagged: false\n  readonly wikipedia_url: string | null\n  readonly url: string | null\n  readonly github_url: string | null\n  readonly logo_url: string | null\n  readonly development_logo_url?: string\n  readonly has_logo_url: boolean\n  readonly stargazer_count: number\n  readonly applied_count: number\n}\n\nexport interface WikisResults {\n  type: 'wikis'\n  results: WikiResultItem[]\n}\n\nexport interface WikiResultItem {\n  body: string\n  filename: string\n  format: string\n  /**\n   * HTML escaped body with an <em> around the matching substring.\n   */\n  hl_body: SafeHTMLString\n  /**\n   * HTML escaped title with an <em> around the matching substring.\n   */\n  hl_title: SafeHTMLString\n  id: string\n  path: string\n  public: string\n  repo: {repository: Repository}\n  repo_id: string\n  title: string\n  updated_at: Date\n}\n\nexport interface UsersResults {\n  type: 'users'\n  results: UserResult[]\n}\n\nexport interface UserResult {\n  avatar_url: string\n  /**\n   * HTML escaped login with an <em> around the matching substring.\n   */\n  hl_login: SafeHTMLString\n  /**\n   * HTML escaped name with an <em> around the matching substring.\n   */\n  hl_name?: SafeHTMLString\n  /**\n   * HTML escaped bio with an <em> around the matching substring.\n   */\n  hl_profile_bio?: SafeHTMLString\n  followed_by_current_user: boolean\n  development_avatar?: string // Testing locally with test data\n  id: string\n  is_current_user: boolean\n  location: string\n  login: string\n  display_login: string\n  repos: number\n  followers: number\n  name?: string\n  profile_bio?: string\n  sponsorable: boolean\n}\n\nexport interface MarketplaceResults {\n  type: 'marketplace'\n  results: MarketplaceResult[]\n}\n\nexport type MarketplaceResult = MarketplaceListingResult | RepositoryActionResult | RepositoryStackResult\n\ninterface BaseMarketplaceResult {\n  readonly type: 'marketplace_listing' | 'repository_stack' | 'repository_action'\n  readonly id: string\n  readonly name: string\n  readonly free: boolean\n  readonly primary_category: string\n  readonly secondary_category: string | null\n  readonly is_verified_owner: boolean\n  readonly slug: string\n  readonly owner_login: string\n  readonly resource_path: string\n  readonly highlights: {\n    readonly description?: string\n    readonly 'name.ngram'?: string\n  }\n}\n\ninterface MarketplaceListingResult extends BaseMarketplaceResult {\n  readonly type: 'marketplace_listing'\n  readonly installation_count: number\n  readonly full_description: string\n  readonly short_description: string\n  readonly extended_description: string\n  readonly development_logo?: string // Testing locally with test data\n  readonly listing_logo_url: string\n  readonly state: 'verified' | 'unverified'\n  readonly recommended: boolean\n  readonly highlights: BaseMarketplaceResult['highlights'] & {\n    readonly short_description?: string\n    readonly full_description?: string\n  }\n  readonly marketplace_listing: {readonly listing: MarketplaceListing}\n}\n\ninterface RepositoryActionResult extends BaseMarketplaceResult {\n  readonly type: 'repository_action'\n  readonly description: string\n  readonly stars: number\n  readonly icon_svg: SafeHTMLString | null\n  readonly repository_action: {readonly repository_action: RepositoryAction}\n}\n\ninterface RepositoryStackResult extends BaseMarketplaceResult {\n  readonly type: 'repository_stack'\n  readonly description: string\n  readonly stars: number\n  readonly icon_svg: SafeHTMLString | null\n  readonly repository_stack: {readonly repository_stack: RepositoryStack}\n}\n\nexport interface MarketplaceListing {\n  readonly id: number\n  readonly state: number\n  readonly name: string\n  readonly slug: string\n  readonly short_description: string\n  readonly full_description: string\n  readonly extended_description: string\n  readonly primary_category_id: number\n  readonly secondary_category_id: number\n  readonly privacy_policy_url: string\n  readonly tos_url: string\n  readonly company_url: string\n  readonly status_url: string\n  readonly support_url: string\n  readonly documentation_url: string\n  readonly pricing_url: string\n  readonly bgcolor: string\n  readonly light_text: boolean\n  readonly learn_more_url: string\n  readonly installation_url: string\n  readonly how_it_works: string\n  readonly hero_card_background_image_id: number\n  readonly technical_email: string\n  readonly marketing_email: string\n  readonly finance_email: string\n  readonly direct_billing_enabled: boolean\n  readonly by_github: boolean\n  readonly security_email: string\n  readonly listable_type: 'Integration' | 'OauthApplication'\n  readonly listable_id: number\n}\n\nexport interface RepositoryAction {\n  readonly id: number\n  readonly path: string\n  readonly name: string\n  readonly description: string\n  readonly icon_name: string\n  readonly color: string\n  readonly featured: boolean\n  readonly repository_id: number\n  readonly rank_multiplier: number\n  readonly slug: string\n  readonly security_email: string\n}\n\nexport interface RepositoryStack {\n  readonly id: number\n  readonly color: string\n  readonly icon_name: string\n}\n\nexport interface HomePayload {\n  type: 'home'\n  helpUrl: string\n  logged_in?: boolean\n  cookie_consent_enabled?: boolean\n}\n\nexport const FacetKindLanguage = 'FACET_KIND_LANGUAGE'\nexport const FacetKindPath = 'FACET_KIND_PATH'\nexport const FacetKindRepo = 'FACET_KIND_REPO'\nexport const FacetKindFilter = 'filter'\nexport const FacetKindState = 'state'\nexport const FacetKindPackageType = 'FACET_KIND_PACKAGE_TYPE'\n\nconst SortOrderDesc = 'desc'\nconst SortOrderAsc = 'asc'\n\nexport type SortItem = {\n  label: string\n  sort: string\n  order: string\n}\n\nexport const DefaultSortItem: SortItem = {\n  label: 'Best match',\n  sort: '',\n  order: SortOrderDesc,\n}\n\nconst NewestSortItems: SortItem[] = [\n  {\n    label: 'Newest',\n    sort: 'created',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Oldest',\n    sort: 'created',\n    order: SortOrderAsc,\n  },\n]\n\nconst RecentlyUpdatedSortItems: SortItem[] = [\n  {\n    label: 'Recently updated',\n    sort: 'updated',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least recently updated',\n    sort: 'updated',\n    order: SortOrderAsc,\n  },\n]\n\nexport const RepoSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Most stars',\n    sort: 'stars',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Fewest stars',\n    sort: 'stars',\n    order: SortOrderAsc,\n  },\n  {\n    label: 'Most forks',\n    sort: 'forks',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Fewest forks',\n    sort: 'forks',\n    order: SortOrderAsc,\n  },\n  ...RecentlyUpdatedSortItems,\n]\n\nexport const CodeSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Recently indexed',\n    sort: 'indexed',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least recently indexed',\n    sort: 'indexed',\n    order: SortOrderAsc,\n  },\n]\n\nexport const CommitSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Recently committed',\n    sort: 'committer-date',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least recently committed',\n    sort: 'committer-date',\n    order: SortOrderAsc,\n  },\n  {\n    label: 'Recently authored',\n    sort: 'author-date',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least recently authored',\n    sort: 'author-date',\n    order: SortOrderAsc,\n  },\n]\n\nexport const IssueSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Most commented',\n    sort: 'comments',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least commented',\n    sort: 'comments',\n    order: SortOrderAsc,\n  },\n  ...NewestSortItems,\n  ...RecentlyUpdatedSortItems,\n]\n\nexport const DiscussionSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Highest score',\n    sort: 'top',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Lowest score',\n    sort: 'top',\n    order: SortOrderAsc,\n  },\n  {\n    label: 'Most commented',\n    sort: 'comments',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least commented',\n    sort: 'comments',\n    order: SortOrderAsc,\n  },\n  {\n    label: 'Newest',\n    sort: 'date_created',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Oldest',\n    sort: 'date_created',\n    order: SortOrderAsc,\n  },\n  ...RecentlyUpdatedSortItems,\n]\n\nexport const PackageSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Most downloads',\n    sort: 'downloads',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Fewest downloads',\n    sort: 'downloads',\n    order: SortOrderAsc,\n  },\n  ...NewestSortItems,\n  ...RecentlyUpdatedSortItems,\n]\n\nexport const UserSortItems: SortItem[] = [\n  DefaultSortItem,\n  {\n    label: 'Most followers',\n    sort: 'followers',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Fewest followers',\n    sort: 'followers',\n    order: SortOrderAsc,\n  },\n  {\n    label: 'Most recently joined',\n    sort: 'joined',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Least recently joined',\n    sort: 'joined',\n    order: SortOrderAsc,\n  },\n  {\n    label: 'Most repositories',\n    sort: 'repositories',\n    order: SortOrderDesc,\n  },\n  {\n    label: 'Fewest repositories',\n    sort: 'repositories',\n    order: SortOrderAsc,\n  },\n]\n\nexport const WikiSortItems: SortItem[] = [DefaultSortItem, ...RecentlyUpdatedSortItems]\n\nexport const FocusHintPrefix = 'blackbird-'\n\nexport interface CustomScope {\n  name: string\n  query: string\n}\n\n// The bundler does not like having a module that does not export any runtime code\nexport {}\n","import {IconButton, type IconButtonProps, Tooltip} from '@primer/react'\nimport React from 'react'\nimport {XIcon} from '@primer/octicons-react'\n\ninterface FacetNegateButtonProps extends Pick<IconButtonProps, 'onClick'> {\n  ariaLabel: string\n}\n\nexport default React.forwardRef(FacetNegateButtonWithRef)\n\nfunction FacetNegateButtonWithRef(\n  {ariaLabel, onClick}: FacetNegateButtonProps,\n  ref: React.ForwardedRef<HTMLButtonElement>,\n): JSX.Element | null {\n  return (\n    <Tooltip aria-label=\"Exclude from results\" direction=\"nw\">\n      {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n      <IconButton\n        unsafeDisableTooltip={true}\n        sx={{\n          color: 'fg.muted',\n          borderTopLeftRadius: 0,\n          borderBottomLeftRadius: 0,\n          height: 32,\n          width: 32,\n        }}\n        aria-label={ariaLabel}\n        icon={XIcon}\n        onClick={onClick}\n        ref={ref}\n        size=\"small\"\n        tabIndex={-1}\n        variant=\"invisible\"\n      />\n    </Tooltip>\n  )\n}\n\ntry{ FacetNegateButtonWithRef.displayName ||= 'FacetNegateButtonWithRef' } catch {}","import React from 'react'\nimport {ActionList, Octicon, Box} from '@primer/react'\nimport {\n  type FacetEntry,\n  FacetKindFilter,\n  FacetKindLanguage,\n  FacetKindPath,\n  FacetKindState,\n  FacetKindPackageType,\n} from '../../types/blackbird-types'\nimport {useNavigateToQuery} from '../../hooks/use-navigate-to-query'\nimport LanguageCircle from '../LanguageCircle'\nimport FacetNegateButton from './FacetNegateButton'\nimport {packageIconFromName} from '../PackageIcons'\nimport EllipsisOverflow from '../EllipsisOverflow'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nimport {FileDirectoryIcon, PlusCircleIcon} from '@primer/octicons-react'\nimport {formatPackageTitle} from '../../utilities/format-type-title'\n\ninterface FacetOptionProps {\n  autofocus: boolean\n  item: FacetEntry\n  allowNegation: boolean\n  kind: string\n  onSelect: (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>) => void\n  href?: string\n  mobile?: boolean\n}\n\nexport const HEIGHT_ACTION_LIST_ITEM = 32 // We need this for now until Primer supports trailing buttons\n\nexport default function FacetOption({autofocus, kind, item, href, onSelect, allowNegation, mobile}: FacetOptionProps) {\n  const navigateToQuery = useNavigateToQuery()\n\n  const negateButtonRef = React.useRef<HTMLButtonElement>(null)\n  const linkItemRef = React.useRef<HTMLElement | null>(null)\n\n  let leadingVisual = null\n  let itemName = item.name\n\n  switch (kind) {\n    case FacetKindLanguage:\n      leadingVisual = <LanguageCircle color={item.language_color} />\n      break\n    case FacetKindPath:\n      leadingVisual = <Octicon icon={FileDirectoryIcon} size={16} />\n      break\n    case FacetKindFilter:\n      allowNegation = false\n      leadingVisual = <PlusCircleIcon />\n      break\n    case FacetKindState:\n      allowNegation = false\n      leadingVisual = item.visual\n      break\n    case FacetKindPackageType:\n      allowNegation = false\n      leadingVisual = packageIconFromName(item.name, `_filter_${mobile ? 'mobile' : 'desktop'}`)\n      itemName = formatPackageTitle(itemName)\n  }\n\n  if (item.owner) {\n    leadingVisual = <GitHubAvatar size={16} src={`/${item.owner}.png`} />\n  }\n\n  return (\n    <ActionList.LinkItem\n      as={item.shouldNavigate ? 'a' : 'button'}\n      href={item.shouldNavigate ? href : undefined}\n      data-react-autofocus={autofocus ? true : null}\n      onClick={onSelect}\n      onAuxClick={onSelect}\n      tabIndex={0}\n      onKeyDown={(event: React.KeyboardEvent) => {\n        // Not a hothey, but for navigation to the negate button\n        // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n        if (event.key === 'ArrowRight') {\n          negateButtonRef.current?.focus()\n        }\n        // Not a hothey, but for navigation to the negate button\n        // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n        if (event.key === 'ArrowLeft') {\n          linkItemRef.current?.focus()\n        }\n      }}\n      ref={(ref: HTMLElement | null) => {\n        linkItemRef.current = ref\n      }}\n      sx={{\n        alignItems: 'center',\n        height: HEIGHT_ACTION_LIST_ITEM,\n        minWidth: 0,\n        p: 0,\n        textAlign: 'left',\n\n        '.negate-button': {\n          display: 'none',\n        },\n\n        '&:is(button)': {\n          display: 'flex',\n        },\n\n        ':hover .negate-button, :focus .negate-button, :focus-within .negate-button': {\n          display: 'block',\n        },\n      }}\n    >\n      <ActionList.LeadingVisual sx={{mx: 2, color: 'fg.muted'}}>{leadingVisual}</ActionList.LeadingVisual>\n      <Box sx={{display: 'flex', alignItems: 'center'}}>\n        <Box sx={{flex: '1', minWidth: 0}}>\n          <EllipsisOverflow title={itemName} side=\"left\" sx={{maxWidth: '100%'}}>\n            &lrm;{itemName}&lrm;\n          </EllipsisOverflow>\n        </Box>\n        {allowNegation && (\n          // eslint-disable-next-line github/a11y-role-supports-aria-props\n          <Box\n            className=\"negate-button\"\n            sx={{width: HEIGHT_ACTION_LIST_ITEM, height: HEIGHT_ACTION_LIST_ITEM, position: 'relative'}}\n            aria-label={`Right arrow to exclude ${itemName}`}\n          >\n            <Box\n              sx={{\n                display: 'flex', // Important to keep the arrow in the tooltip aligned correctly\n              }}\n            >\n              <FacetNegateButton\n                ariaLabel={`Exclude ${itemName}`}\n                ref={negateButtonRef}\n                onClick={event => {\n                  if (!item || event.defaultPrevented) return\n                  const languageFilter = `NOT ${item.query}`\n                  navigateToQuery(undefined, languageFilter)\n                  event.preventDefault()\n                }}\n              />\n            </Box>\n          </Box>\n        )}\n      </Box>\n    </ActionList.LinkItem>\n  )\n}\n\ntry{ FacetOption.displayName ||= 'FacetOption' } catch {}","import {Box} from '@primer/react'\nimport Base from './Base'\n\nexport default function FacetsSkeletonGroups() {\n  return (\n    <div data-testid=\"facets-skeleton\">\n      <Group widths={[196, 186, 128]} />\n      <Group widths={[158, 158, 144]} />\n    </div>\n  )\n}\n\nfunction Group({widths}: {widths: number[]}) {\n  return (\n    <Box\n      sx={{\n        px: 3,\n      }}\n    >\n      <Base\n        sx={{\n          mt: 3,\n          width: 80,\n          borderRadius: 2,\n          height: 10,\n        }}\n      />\n      <Box\n        sx={{\n          display: 'grid',\n          gap: 0,\n          pt: 2,\n        }}\n      >\n        {widths.map((width, idx) => (\n          <Item key={idx} width={width} />\n        ))}\n      </Box>\n      <Base height={1} mb={3} mt={2} />\n    </Box>\n  )\n}\n\nfunction Item({width}: {width: number}) {\n  return (\n    <Box\n      className=\"item\"\n      sx={{\n        display: 'flex',\n        height: 32,\n        alignItems: 'center',\n      }}\n    >\n      <Base width={16} borderRadius={3} height={16} mr={2} />\n      <Base borderRadius={3} height={12} maxWidth={width} />\n    </Box>\n  )\n}\n\ntry{ FacetsSkeletonGroups.displayName ||= 'FacetsSkeletonGroups' } catch {}\ntry{ Group.displayName ||= 'Group' } catch {}\ntry{ Item.displayName ||= 'Item' } catch {}","import React, {type RefObject} from 'react'\nimport {ActionList, Octicon} from '@primer/react'\nimport {IssueOpenedIcon, CheckCircleIcon, PlusCircleIcon} from '@primer/octicons-react'\n\nimport {appendAndFocusSearchBar} from '@github-ui/append-and-focus-search-bar'\nimport {shouldOpenInNewTab, useNavigateToQuery, useQueryUrl} from '../../hooks/use-navigate-to-query'\nimport {getFilters} from './utils/get-filters'\nimport FacetOption, {HEIGHT_ACTION_LIST_ITEM} from './FacetOption'\nimport EllipsisOverflow from '../EllipsisOverflow'\nimport type {SearchTypeURLParameter} from '../../../../../components/search/parsing/parsing'\nimport FacetsSkeletonGroups from '../skeletons/FacetsSkeletonGroups'\nimport {\n  type Facet,\n  type FacetEntry,\n  FacetKindLanguage,\n  FacetKindPath,\n  FacetKindRepo,\n  FacetKindPackageType,\n  FocusHintPrefix,\n} from '../../types/blackbird-types'\nimport {useFocusHintContext} from '@github-ui/focus-hint-context'\n\nconst FacetFocusHint = `${FocusHintPrefix}facet`\n\ninterface RenderableFacet {\n  title: string\n  items: FacetEntry[]\n  onClick?: (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>, item: FacetEntry) => void\n  footerItem?: {\n    text: string\n    ref: RefObject<HTMLButtonElement>\n    onClick: () => void\n  }\n  kind: string\n}\n\nfunction FilterGroups({\n  facets,\n  allowNegation,\n  searchType,\n  isLoading,\n  resultCount,\n  mobile,\n}: {\n  searchType: SearchTypeURLParameter | null\n  facets: Facet[] | null\n  allowNegation: boolean\n  isLoading: boolean\n  resultCount: number | null\n  mobile?: boolean\n}) {\n  const footerRef = React.useRef<HTMLButtonElement>(null)\n  const navigateToQuery = useNavigateToQuery()\n  const getQueryUrl = useQueryUrl()\n  const {focusHint, context: focusContext, setFocusHint} = useFocusHintContext()\n\n  if (isLoading) {\n    return <FacetsSkeletonGroups />\n  }\n\n  const extraLeadingFacets = (searchType && getExtraLeadingFacets(searchType, navigateToQuery)) || []\n  const filters = (searchType && getFilters(searchType)) || []\n  const resultCountSafe = resultCount || 0\n\n  if (!isLoading && resultCountSafe === 0) {\n    return null\n  }\n\n  const newFacets = extraLeadingFacets\n\n  if (facets) {\n    for (const facet of facets) {\n      if (facet.entries.length === 0) continue\n\n      let footerItem = undefined\n\n      if (facet.kind === FacetKindLanguage) {\n        footerItem = {\n          text: 'More languages...',\n          ref: footerRef,\n          onClick: () => {\n            appendAndFocusSearchBar({\n              appendQuery: 'language:',\n              returnTarget: footerRef.current ?? undefined,\n            })\n          },\n        }\n      } else if (facet.kind === FacetKindRepo) {\n        footerItem = {\n          text: 'More repositories...',\n          ref: footerRef,\n          onClick: () => {\n            appendAndFocusSearchBar({appendQuery: 'repo:', returnTarget: footerRef.current ?? undefined})\n          },\n        }\n      } else if (facet.kind === FacetKindPath) {\n        footerItem = {\n          text: 'More directories...',\n          ref: footerRef,\n          onClick: () => {\n            appendAndFocusSearchBar({appendQuery: 'path:', returnTarget: footerRef.current ?? undefined})\n          },\n        }\n      }\n\n      newFacets.push({\n        items: facet.entries.map(entry => ({...entry, shouldNavigate: true})),\n        onClick: (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>, item: FacetEntry) => {\n          if (!item || event.defaultPrevented) return\n          const name = facet.kind === FacetKindLanguage ? item.name : null\n          navigateToQuery(undefined, item.query, {l: name, ...item.searchParams}, shouldOpenInNewTab(event))\n          event.preventDefault()\n        },\n        footerItem,\n        kind: facet.kind,\n        title:\n          {\n            [FacetKindLanguage]: 'Languages',\n            [FacetKindRepo]: 'Repositories',\n            [FacetKindPath]: 'Paths',\n            [FacetKindPackageType]: 'Types',\n          }[facet.kind] || '',\n      })\n    }\n  }\n\n  if (filters && filters.length) {\n    newFacets.push({\n      title: 'Advanced',\n      items: filters,\n      onClick: (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>, item: FacetEntry) => {\n        if (!item || event.defaultPrevented) return\n        if (item.shouldNavigate) {\n          navigateToQuery(undefined, ` ${item.query}`, {p: null}, shouldOpenInNewTab(event))\n        } else {\n          appendAndFocusSearchBar({appendQuery: item.query})\n        }\n        event.preventDefault()\n      },\n      kind: 'filter',\n    } as RenderableFacet)\n  }\n\n  return (\n    <>\n      {newFacets.length > 1 && <ActionList.Divider sx={{mx: 2, my: 2, display: ['none', 'none', 'block']}} />}\n      {newFacets.map((facet, index, all) => (\n        <ActionList.Group key={`${facet.title}-${index}`}>\n          <ActionList.GroupHeading as=\"h3\">{facet.title}</ActionList.GroupHeading>\n          {facet.items.map((item, sugIndex) => (\n            <FacetOption\n              item={item}\n              key={`${sugIndex}`}\n              autofocus={focusHint === FacetFocusHint && focusContext === index && sugIndex === 0}\n              onSelect={e => {\n                setFocusHint(FacetFocusHint, index)\n                facet.onClick?.(e, item)\n                e.preventDefault()\n                e.stopPropagation()\n              }}\n              href={getQueryUrl(undefined, item.query, {\n                ...item.searchParams,\n                l: null,\n                p: null,\n              })}\n              kind={facet.kind}\n              allowNegation={allowNegation}\n              mobile={mobile}\n            />\n          ))}\n\n          {facet.footerItem && (\n            <ActionList.LinkItem\n              as=\"button\"\n              tabIndex={0}\n              onClick={(e: React.MouseEvent) => {\n                facet.footerItem?.onClick()\n\n                // NOTE: it's necessary to stop propagation in order to avoid having the click\n                // steal focus away from the search input, causing it to close right after opening!\n                e.preventDefault()\n                e.stopPropagation()\n              }}\n              sx={{\n                alignItems: 'center',\n                height: HEIGHT_ACTION_LIST_ITEM,\n                minWidth: 0,\n                textAlign: 'left',\n\n                '&:is(button)': {\n                  display: 'flex',\n                },\n              }}\n              ref={facet.footerItem.ref}\n            >\n              <ActionList.LeadingVisual sx={{mx: 2, color: 'fg.muted'}}>\n                <PlusCircleIcon />\n              </ActionList.LeadingVisual>\n              <EllipsisOverflow title={facet.footerItem.text} side=\"right\" sx={{maxWidth: '100%'}}>\n                {facet.footerItem.text}\n              </EllipsisOverflow>\n            </ActionList.LinkItem>\n          )}\n\n          {index !== all.length - 1 && (\n            <ActionList.Divider key={`${facet.title}-${index}-divider`} sx={{mx: 2, my: 2}} />\n          )}\n        </ActionList.Group>\n      ))}\n    </>\n  )\n}\n\nfunction getExtraLeadingFacets(\n  searchType: SearchTypeURLParameter,\n  navigateToQuery: (\n    query?: string,\n    filter?: string,\n    searchParams?: {[key: string]: string | null},\n    openInNewTab?: boolean,\n  ) => void,\n): RenderableFacet[] {\n  switch (searchType) {\n    case 'issues':\n    case 'pullrequests':\n      return [\n        {\n          title: 'State',\n          items: [\n            {\n              name: 'Open',\n              query: '',\n              shouldNavigate: true,\n              visual: <Octicon icon={IssueOpenedIcon} sx={{color: 'success.fg'}} size={16} />,\n              searchParams: {state: 'open'},\n            },\n            {\n              name: 'Closed',\n              query: '',\n              shouldNavigate: true,\n              visual: <Octicon icon={CheckCircleIcon} sx={{color: 'done.fg'}} size={16} />,\n              searchParams: {state: 'closed'},\n            },\n          ],\n          kind: 'state',\n          onClick: (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>, item: FacetEntry) => {\n            navigateToQuery(undefined, ` ${item.query}`, {p: null, ...item.searchParams}, shouldOpenInNewTab(event))\n          },\n        },\n      ]\n    default:\n      return []\n  }\n}\n\n// not a huge perf hit but for some reason innocent re-renders cause this to lose focus\nexport default React.memo(FilterGroups)\n\ntry{ FilterGroups.displayName ||= 'FilterGroups' } catch {}","import type {SearchTypeURLParameter} from '../../../../../../components/search/parsing/parsing'\nimport type {FacetEntry} from '../../../types/blackbird-types'\n\nexport function getFilters(type: SearchTypeURLParameter): FacetEntry[] {\n  switch (type) {\n    case 'code':\n    case 'codelegacy':\n      return [\n        {\n          name: 'Owner',\n          query: 'owner:',\n        },\n        {\n          name: 'Symbol',\n          query: 'symbol:',\n        },\n        {\n          name: 'Exclude archived',\n          query: 'NOT is:archived',\n          shouldNavigate: true,\n        },\n      ]\n    case 'repositories':\n      return [\n        {\n          name: 'Owner',\n          query: 'owner:',\n        },\n        {\n          name: 'Size',\n          query: 'size:',\n        },\n        {\n          name: 'Number of followers',\n          query: 'followers:',\n        },\n        {\n          name: 'Number of forks',\n          query: 'forks:',\n        },\n        {\n          name: 'Number of stars',\n          query: 'stars:',\n        },\n        {\n          name: 'Date created',\n          query: 'created:',\n        },\n        {\n          name: 'Date pushed',\n          query: 'pushed:',\n        },\n        {\n          name: 'Topic',\n          query: 'topic:',\n        },\n        {\n          name: 'License',\n          query: 'license:',\n        },\n        {\n          name: 'Archived',\n          query: 'archived:',\n        },\n        {\n          name: 'Public',\n          query: 'is:public',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Private',\n          query: 'is:private',\n          shouldNavigate: true,\n        },\n      ]\n    case 'issues':\n      return [\n        {\n          name: 'Owner',\n          query: 'owner:',\n        },\n        {\n          name: 'State',\n          query: 'state:',\n        },\n        {\n          name: 'Close reason',\n          query: 'reason:',\n        },\n        {\n          name: 'Has linked pull request',\n          query: 'linked:pr',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Author',\n          query: 'author:',\n        },\n        {\n          name: 'Assignee',\n          query: 'assignee:',\n        },\n        {\n          name: 'Mentioned user',\n          query: 'mentions:',\n        },\n        {\n          name: 'Mentioned team',\n          query: 'team:',\n        },\n        {\n          name: 'Commenter',\n          query: 'commenter:',\n        },\n        {\n          name: 'Involved user',\n          query: 'involves:',\n        },\n        {\n          name: 'Label',\n          query: 'label:',\n        },\n        {\n          name: 'Milestone',\n          query: 'milestone:',\n        },\n        {\n          name: 'Number of comments',\n          query: 'comments:',\n        },\n        {\n          name: 'Number of interactions',\n          query: 'interactions:',\n        },\n      ]\n    case 'pullrequests':\n      return [\n        {\n          name: 'Owner',\n          query: 'owner:',\n        },\n        {\n          name: 'State',\n          query: 'state:',\n        },\n        {\n          name: 'CI status',\n          query: 'status:',\n        },\n        {\n          name: 'Review status',\n          query: 'review:',\n        },\n        {\n          name: 'Close reason',\n          query: 'reason:',\n        },\n        {\n          name: 'Author',\n          query: 'author:',\n        },\n        {\n          name: 'Assignee',\n          query: 'assignee:',\n        },\n        {\n          name: 'Mentioned user',\n          query: 'mentions:',\n        },\n        {\n          name: 'Mentioned team',\n          query: 'team:',\n        },\n        {\n          name: 'Commenter',\n          query: 'commenter:',\n        },\n        {\n          name: 'Involved user',\n          query: 'involves:',\n        },\n        {\n          name: 'Label',\n          query: 'label:',\n        },\n        {\n          name: 'Milestone',\n          query: 'milestone:',\n        },\n        {\n          name: 'Number of comments',\n          query: 'comments:',\n        },\n        {\n          name: 'Number of interactions',\n          query: 'interactions:',\n        },\n        {\n          name: 'Merged',\n          query: 'is:merged',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Not merged',\n          query: 'is:unmerged',\n          shouldNavigate: true,\n        },\n      ]\n    case 'commits':\n      return [\n        {\n          name: 'Organization',\n          query: 'org:',\n        },\n        {\n          name: 'Author',\n          query: 'author:',\n        },\n        {\n          name: 'Committer',\n          query: 'committer:',\n        },\n        {\n          name: 'Author email',\n          query: 'author-email:',\n        },\n        {\n          name: 'Committer email',\n          query: 'committer-email:',\n        },\n        {\n          name: 'Merge commits',\n          query: 'merge:',\n        },\n        {\n          name: 'Hash',\n          query: 'hash:',\n        },\n        {\n          name: 'Parent hash',\n          query: 'parent:',\n        },\n        {\n          name: 'Tree hash',\n          query: 'tree:',\n        },\n        {\n          name: 'Public',\n          query: 'is:public',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Private',\n          query: 'is:private',\n          shouldNavigate: true,\n        },\n      ]\n    case 'discussions':\n      return [\n        {\n          name: 'Organization',\n          query: 'org:',\n        },\n        {\n          name: 'Author',\n          query: 'author:',\n        },\n        {\n          name: 'Involves user',\n          query: 'involves:',\n        },\n        {\n          name: 'Commenter',\n          query: 'commenter:',\n        },\n        {\n          name: 'Number of comments',\n          query: 'comments:',\n        },\n        {\n          name: 'Public',\n          query: 'is:public',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Private',\n          query: 'is:private',\n          shouldNavigate: true,\n        },\n      ]\n    case 'registrypackages':\n      return [\n        {\n          name: 'Organization',\n          query: 'org:',\n        },\n        {\n          name: 'User',\n          query: 'user:',\n        },\n        {\n          name: 'Public',\n          query: 'is:public',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Private',\n          query: 'is:private',\n          shouldNavigate: true,\n        },\n      ]\n    case 'users':\n      return [\n        {\n          name: 'Organization',\n          query: 'org:',\n        },\n        {\n          name: 'Full name',\n          query: 'fullname:',\n        },\n        {\n          name: 'Number of repositories',\n          query: 'repos:',\n        },\n        {\n          name: 'Number of followers',\n          query: 'followers:',\n        },\n        {\n          name: 'Location',\n          query: 'location:',\n        },\n        {\n          name: 'Language',\n          query: 'language:',\n        },\n        {\n          name: 'Creation date',\n          query: 'created:',\n        },\n        {\n          name: 'Sponsorable',\n          query: 'is:sponsorable',\n          shouldNavigate: true,\n        },\n      ]\n    case 'topics':\n      return [\n        {\n          name: 'Curated topics',\n          query: 'is:curated',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Featured topics',\n          query: 'is:featured',\n          shouldNavigate: true,\n        },\n        {\n          name: 'Number of repositories',\n          query: 'repositories:',\n        },\n        {\n          name: 'Creation date',\n          query: 'created:',\n        },\n      ]\n    case 'wikis':\n      return [\n        {\n          name: 'User',\n          query: 'user:',\n        },\n        {\n          name: 'Organization',\n          query: 'org:',\n        },\n        {\n          name: 'Repository',\n          query: 'repo:',\n        },\n        {\n          name: 'Last updated date',\n          query: 'updated:',\n        },\n      ]\n  }\n\n  return []\n}\n","import {ActionList, Box, PageLayout, Text} from '@primer/react'\n\nimport type {Facet} from '../../types/blackbird-types'\n\nimport type {SearchTypeURLParameter} from '../../../../../components/search/parsing/parsing'\nimport EducationGroup from './EducationGroup'\nimport TypeGroup from './TypeGroup'\nimport FiltersGroup from './FilterGroups'\n\nimport type {SearchKindCount} from '../../hooks/use-search-result-counts'\ninterface FacetListProps extends MobileFacetListProps {\n  selectedType: string | undefined\n  searchKinds: SearchKindCount[]\n  isLoadingCounters: boolean\n}\n\nfunction FacetList({\n  facets,\n  allowNegation,\n  selectedType,\n  searchKinds,\n  searchType,\n  resultCount,\n  isLoading,\n  isLoadingCounters,\n}: FacetListProps) {\n  return (\n    <Box\n      sx={{\n        fontSize: 1,\n        fontWeight: 'normal',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <div data-testid=\"desktop-filters\">\n        <ActionList aria-labelledby=\"search-filters-title\" data-testid={'filter-groups'}>\n          <TypeGroup\n            isLoadingCounters={isLoadingCounters}\n            isMobile={false}\n            selectedType={selectedType}\n            searchKinds={searchKinds}\n          />\n          <FiltersGroup\n            facets={facets}\n            searchType={searchType}\n            allowNegation={allowNegation}\n            isLoading={isLoading}\n            resultCount={resultCount}\n          />\n          <ActionList.Divider sx={{mx: 2, my: 2}} />\n          <EducationGroup />\n        </ActionList>\n      </div>\n    </Box>\n  )\n}\n\nexport function FacetsPane({\n  selectedType,\n  searchKinds,\n  isLoading,\n  isLoadingCounters,\n  facets,\n  searchType,\n  resultCount,\n}: {\n  facets: Facet[] | null\n  searchType: SearchTypeURLParameter | null\n  selectedType: string | undefined\n  searchKinds: SearchKindCount[]\n  isLoading: boolean\n  isLoadingCounters: boolean\n  resultCount: number | null\n}) {\n  return (\n    <PageLayout.Pane\n      aria-labelledby=\"search-filters-title\"\n      position=\"start\"\n      divider=\"line\"\n      width=\"medium\"\n      resizable\n      widthStorageKey=\"search-sidebar-width\"\n      sticky={true}\n      hidden={{narrow: true, regular: false, wide: false}}\n    >\n      <Text as=\"h2\" id=\"search-filters-title\" sx={{fontWeight: 'semibold', px: 3, pt: 3, pb: 2, fontSize: 2}}>\n        Filter by\n      </Text>\n      <Box data-testid=\"facets-pane\" sx={{pt: 1, px: 2, display: 'flex', flexDirection: 'column'}}>\n        <Box sx={{flex: 1}}>\n          <FacetList\n            facets={facets}\n            resultCount={resultCount}\n            allowNegation={searchType === 'code'}\n            selectedType={selectedType}\n            searchType={searchType}\n            searchKinds={searchKinds}\n            isLoading={isLoading}\n            isLoadingCounters={isLoadingCounters}\n          />\n        </Box>\n      </Box>\n    </PageLayout.Pane>\n  )\n}\n\ninterface MobileFacetListProps {\n  facets: Facet[] | null\n  allowNegation: boolean\n  searchType: SearchTypeURLParameter | null\n  resultCount: number | null\n  isLoading: boolean\n}\n\nfunction MobileFacetList({facets, allowNegation, searchType, resultCount, isLoading}: FacetListProps) {\n  return (\n    <Box\n      sx={{\n        fontSize: 1,\n        fontWeight: 'normal',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <div data-testid=\"mobile-filters\">\n        <ActionList aria-labelledby=\"search-filters-title\" data-testid={'mobile-filter-groups'}>\n          <FiltersGroup\n            facets={facets}\n            searchType={searchType}\n            allowNegation={allowNegation}\n            isLoading={isLoading}\n            resultCount={resultCount}\n            mobile\n          />\n        </ActionList>\n      </div>\n    </Box>\n  )\n}\n\nexport function FacetsDialogContent({\n  selectedType,\n  searchKinds,\n  isLoading,\n  isLoadingCounters,\n  facets,\n  searchType,\n  resultCount,\n}: {\n  facets: Facet[] | null\n  searchType: SearchTypeURLParameter | null\n  selectedType: string | undefined\n  searchKinds: SearchKindCount[]\n  isLoading: boolean\n  isLoadingCounters: boolean\n  resultCount: number | null\n}) {\n  return (\n    <Box data-testid=\"facets-pane\" sx={{display: 'flex', flexDirection: 'column'}}>\n      <Box sx={{flex: 1}}>\n        <MobileFacetList\n          facets={facets}\n          resultCount={resultCount}\n          allowNegation={searchType === 'code'}\n          selectedType={selectedType}\n          searchType={searchType}\n          searchKinds={searchKinds}\n          isLoading={isLoading}\n          isLoadingCounters={isLoadingCounters}\n        />\n      </Box>\n    </Box>\n  )\n}\n\ntry{ FacetList.displayName ||= 'FacetList' } catch {}\ntry{ FacetsPane.displayName ||= 'FacetsPane' } catch {}\ntry{ MobileFacetList.displayName ||= 'MobileFacetList' } catch {}\ntry{ FacetsDialogContent.displayName ||= 'FacetsDialogContent' } catch {}","import type React from 'react'\nimport {Box, Heading, Text, Link} from '@primer/react'\nimport {useSoftNavigateTo} from '../../hooks/use-soft-navigate-to'\nimport {searchPath} from '@github-ui/paths'\nimport type {SearchKind, SearchKindCount} from '../../hooks/use-search-result-counts'\nimport {getValueText} from '../../../react-shared/Count'\n\nexport default function Header({\n  resultKind,\n  searchKinds,\n  isLoadingCounters,\n}: {\n  resultKind: SearchKind\n  searchKinds: SearchKindCount[]\n  isLoadingCounters: boolean\n}) {\n  let description: React.ReactNode = `Try one of the tips below to find more ${resultKind.readableNamePlural}`\n\n  if (!isLoadingCounters) {\n    const withResults = searchKinds.filter(kind => kind.name !== resultKind.name && kind.total && kind.total > 0)\n    withResults.sort(function (a, b) {\n      return (b.total || 0) - (a.total || 0)\n    })\n    let resultsInfo\n\n    switch (withResults.length) {\n      case 0:\n        resultsInfo = null\n        break\n      case 1:\n        resultsInfo = (\n          <>\n            <TabSwitcherLink key={withResults[0]!.name} kind={withResults[0]!} />\n          </>\n        )\n        break\n      case 2:\n        resultsInfo = (\n          <>\n            <TabSwitcherLink key={withResults[0]!.name} kind={withResults[0]!} /> and{' '}\n            <TabSwitcherLink key={withResults[1]!.name} kind={withResults[1]!} />\n          </>\n        )\n        break\n      default:\n        resultsInfo = (\n          <>\n            <TabSwitcherLink key={withResults[0]!.name} kind={withResults[0]!} /> and{' '}\n            <TabSwitcherLink key={withResults[1]!.name} kind={withResults[1]!} />\n          </>\n        )\n    }\n\n    if (resultsInfo) {\n      description = (\n        <>However we found {resultsInfo} that matched your search query. Alternatively try one of the tips below.</>\n      )\n    } else {\n      description = <>You could try one of the tips below.</>\n    }\n  }\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: ['column', 'column', 'column', 'row'],\n        alignItems: 'center',\n      }}\n    >\n      <Box sx={{mt: [2, 2, 2, 0], pb: 1}}>\n        <Heading\n          as=\"h3\"\n          sx={{\n            fontSize: [2, 2, 3, 3, 3],\n            textAlign: ['center', 'center', 'center', 'center', 'left'],\n          }}\n        >\n          Your search did not match any {resultKind.readableNamePlural}\n        </Heading>\n        <Text\n          as=\"p\"\n          sx={{\n            mt: 2,\n            display: 'block',\n            fontSize: [1, 1, 1, 1, 1],\n            color: 'fg.muted',\n            textAlign: ['center', 'center', 'center', 'center', 'left'],\n          }}\n        >\n          {description}\n        </Text>\n      </Box>\n    </Box>\n  )\n}\n\nfunction TabSwitcherLink({kind}: {kind: SearchKindCount}) {\n  const [searchTypeHref, navigateToSearchType] = useSoftNavigateTo(searchPath, undefined, {\n    p: null,\n    type: kind.name,\n    l: null,\n    s: null,\n    o: null,\n  })\n  let kindName = kind.total === 1 ? kind.readableName : kind.readableNamePlural\n\n  if (kindName === 'code') {\n    kindName = kind.total === 1 ? 'code result' : 'code results'\n  }\n\n  return (\n    <Link onClick={(e: React.SyntheticEvent) => navigateToSearchType(e)} href={searchTypeHref}>\n      {getValueText(kind.total || 0)} {kindName.toLowerCase()}\n    </Link>\n  )\n}\n\ntry{ Header.displayName ||= 'Header' } catch {}\ntry{ TabSwitcherLink.displayName ||= 'TabSwitcherLink' } catch {}","import {useLocation} from 'react-router-dom'\nimport {Text, Link} from '@primer/react'\nimport {advancedSearchPath, getRelativeHref} from '@github-ui/paths'\nimport type {SearchKind} from '../../hooks/use-search-result-counts'\n\nexport default function Footer({resultKind}: {resultKind: SearchKind}) {\n  const {search} = useLocation()\n  const query = new URLSearchParams(search).get('q')\n  const href = getRelativeHref(advancedSearchPath, undefined, {q: query})\n\n  if (resultKind.name === 'code') {\n    return null\n  }\n\n  return (\n    <Text sx={{mt: 2, textAlign: ['center', 'center', 'center', 'left'], width: '100%', display: 'block', fontSize: 0}}>\n      You could try an{' '}\n      <Link inline href={href}>\n        advanced search\n      </Link>\n      .\n    </Text>\n  )\n}\n\ntry{ Footer.displayName ||= 'Footer' } catch {}","import type React from 'react'\nimport {Box, Text, useDetails, Details} from '@primer/react'\nimport {ChevronDownIcon, ChevronUpIcon} from '@primer/octicons-react'\n\nimport type {NoResultDataItem} from './data'\n\nexport default function Tips({data}: {data: NoResultDataItem[]}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: ['center', 'center', 'center', 'flex-start'],\n        mt: [2, 2, 2, 0, 0],\n      }}\n    >\n      <Box\n        sx={{\n          mt: 3,\n          width: '100%',\n        }}\n      >\n        {data.map((t, index) => {\n          return (\n            <TipItem name={t.name} key={t.name} defaultOpen={index === 0} isLastItem={index + 1 === data.length}>\n              {t.content}\n            </TipItem>\n          )\n        })}\n      </Box>\n    </Box>\n  )\n}\n\ninterface TipItemProps {\n  children?: React.ReactNode\n  name: string\n  defaultOpen: boolean\n  isLastItem: boolean\n}\n\nfunction TipItem({children, name, isLastItem, defaultOpen = false}: TipItemProps) {\n  const {getDetailsProps, open} = useDetails({closeOnOutsideClick: false})\n  const {onToggle, ref, ...detailsProps} = getDetailsProps()\n\n  return (\n    <Details\n      {...detailsProps}\n      ref={ref}\n      open={defaultOpen}\n      onToggle={onToggle}\n      sx={{\n        ':first-child summary': {\n          borderTopLeftRadius: 2,\n          borderTopRightRadius: 2,\n        },\n        ':last-child summary': {\n          borderBottomLeftRadius: isLastItem && open ? 0 : 2,\n          borderBottomRightRadius: isLastItem && open ? 0 : 2,\n          borderBottomWidth: 1,\n        },\n      }}\n    >\n      <Box\n        as=\"summary\"\n        sx={{\n          py: 2,\n          userSelect: 'none',\n          px: 3,\n          height: open ? 41 : 40,\n          listStyle: 'none',\n          borderColor: 'border.default',\n          borderWidth: 1,\n          borderBottomWidth: open ? 1 : 0,\n          borderStyle: 'solid',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          ':hover': {\n            bg: 'canvas.inset',\n          },\n          '::marker': {\n            display: 'none',\n          },\n          '::-webkit-details-marker': {\n            display: 'none',\n          },\n        }}\n      >\n        <Text sx={{fontSize: 1, fontWeight: 'semibold', flex: 1}}>{name}</Text>\n        {open ? <ChevronUpIcon size={16} /> : <ChevronDownIcon size={16} />}\n      </Box>\n      {open && (\n        <Box\n          sx={{\n            borderColor: 'border.default',\n            borderStyle: 'solid',\n            borderTopWidth: 0,\n            borderLeftWidth: 1,\n            borderRightWidth: 1,\n            borderBottomLeftRadius: isLastItem && open ? 2 : 0,\n            borderBottomRightRadius: isLastItem && open ? 2 : 0,\n            borderBottomWidth: isLastItem && open ? 1 : 0,\n            p: 3,\n            fontSize: 0,\n          }}\n        >\n          {children}\n        </Box>\n      )}\n    </Details>\n  )\n}\n\ntry{ Tips.displayName ||= 'Tips' } catch {}\ntry{ TipItem.displayName ||= 'TipItem' } catch {}","import React from 'react'\nimport {Box, Text} from '@primer/react'\n\ninterface TipsConentListType {\n  value: React.ReactNode\n  name: string\n}\n\nexport default function TipsContentList({data}: {data: TipsConentListType[]}) {\n  return (\n    <Box\n      sx={{\n        display: 'grid',\n        gridTemplateColumns: ['auto', 'auto', '180px auto'],\n      }}\n    >\n      {data.map((d, index) => {\n        const isEnd = index + 1 === data.length\n        return (\n          <React.Fragment key={d.name}>\n            <Box\n              sx={{\n                pb: [1, 1, 2],\n                height: ['auto', 'auto', 40],\n                display: 'flex',\n                alignItems: 'center',\n                pt: index === 0 ? 0 : 2,\n              }}\n            >\n              <Text sx={{fontSize: 0, fontWeight: 'semibold'}}>{d.name}</Text>\n            </Box>\n            <Box\n              sx={{\n                borderBottomColor: 'border.subtle',\n                borderBottomWidth: [1, 1, isEnd ? 0 : 1],\n                borderBottomStyle: 'solid',\n                pb: [3, 3, 2],\n                mb: [2, 2, 0],\n                pt: [2, 2, index === 0 ? 0 : 2],\n                display: 'flex',\n                alignItems: 'center',\n              }}\n            >\n              <Text sx={{fontSize: 0, fontFamily: 'mono', lineHeight: 2}}>{d.value}</Text>\n            </Box>\n          </React.Fragment>\n        )\n      })}\n    </Box>\n  )\n}\n\ntry{ TipsContentList.displayName ||= 'TipsContentList' } catch {}","import {Box} from '@primer/react'\n\nimport Header from './Header'\nimport Footer from './Footer'\nimport Tips from './Tips'\nimport type {SearchKind, SearchKindCount} from '../../hooks/use-search-result-counts'\nimport {generateTips} from './data'\nimport MonaSearchImage from './MonaSearchImage'\n\nexport default function NoResults({\n  resultKind,\n  searchKinds,\n  isLoadingCounters,\n}: {\n  resultKind: SearchKind\n  searchKinds: SearchKindCount[]\n  isLoadingCounters: boolean\n}) {\n  return (\n    <Box\n      data-hpc\n      sx={{\n        width: '100%',\n        flex: 1,\n        display: 'grid',\n        gridTemplateColumns: ['1fr', '1fr', '1fr', '1fr', 'auto 1fr'],\n        gridGap: [2, 2, 4, 4, 6],\n        pr: [0, 0, 6, 8, 12],\n        pl: [0, 0, 6, 7, 7],\n        borderStyle: 'solid',\n        borderWidth: [0, 0, 1, 1],\n        borderRadius: 2,\n        borderColor: 'border.default',\n        py: [6, 7, 8, 10, 12],\n      }}\n    >\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'flex-start',\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n          }}\n        >\n          <Box\n            sx={{\n              maxWidth: [250, 300, 380, 400, 500],\n              width: '100%',\n              pb: [2, 2, 2, 2, 0],\n            }}\n          >\n            <MonaSearchImage />\n          </Box>\n        </Box>\n      </Box>\n      <Box\n        sx={{\n          maxWidth: ['100%', '100%', '100%', 600],\n          minWidth: ['100%', '100%', '100%', 500],\n          mx: ['auto', 'auto', 'auto', 'auto', 0],\n        }}\n      >\n        <Header resultKind={resultKind} searchKinds={searchKinds} isLoadingCounters={isLoadingCounters} />\n        <Tips data={generateTips({resultKind})} />\n        <Box sx={{pt: 3, pb: [0, 0, 7]}}>\n          <Footer resultKind={resultKind} />\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ NoResults.displayName ||= 'NoResults' } catch {}","// eslint-disable-next-line filenames/match-regex\nimport type React from 'react'\nimport {Link, Text, Box} from '@primer/react'\nimport TipsContentList from './TipsContentList'\nimport {provideFeedback} from '../../hooks/use-search-bar-events'\nimport type {SearchKind, SearchKindCount} from '../../hooks/use-search-result-counts'\nexport interface NoResultDataItem {\n  content: React.ReactNode\n  name: string\n  show: Array<SearchKindCount['name']>\n}\n\nexport function generateTips({resultKind}: {resultKind: SearchKind}): NoResultDataItem[] {\n  return generate().filter(t => t.show.includes(resultKind.name))\n}\n\nfunction generate(): NoResultDataItem[] {\n  return [\n    {\n      name: 'Search across repositories',\n      show: [\n        'code',\n        'codelegacy',\n        'issues',\n        'pullrequests',\n        'commits',\n        'discussions',\n        'registrypackages',\n        'marketplace',\n        'topics',\n        'wikis',\n        'users',\n      ],\n      content: (\n        <>\n          <TipsContentList\n            data={[\n              {\n                name: 'Within a repository:',\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>repo:</Text>\n                    github/linguist\n                  </>\n                ),\n              },\n              {\n                name: 'Across several:',\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>repo:</Text>\n                    github/linguist <Text sx={{color: 'done.fg'}}>OR</Text> <Text sx={{color: 'accent.fg'}}>repo:</Text>\n                    github/fetch\n                  </>\n                ),\n              },\n            ]}\n          />\n          <Box\n            sx={{\n              mt: 2,\n              fontSize: 0,\n              color: 'fg.muted',\n            }}\n          >\n            Note that we don&apos;t currently support regular expressions in the repo or org qualifiers. For more\n            information on search syntax, see our{' '}\n            <Link\n              inline\n              href=\"https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax\"\n            >\n              syntax guide\n            </Link>\n            .\n          </Box>\n        </>\n      ),\n    },\n    {\n      name: 'Search across an organization',\n      show: [\n        'code',\n        'codelegacy',\n        'repositories',\n        'issues',\n        'pullrequests',\n        'commits',\n        'discussions',\n        'registrypackages',\n        'marketplace',\n        'topics',\n        'wikis',\n        'users',\n      ],\n      content: (\n        <>\n          <TipsContentList\n            data={[\n              {\n                name: 'Within an organization:',\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>org:</Text>\n                    rails\n                  </>\n                ),\n              },\n              {\n                name: `User's code:`,\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>user:</Text>\n                    mona\n                  </>\n                ),\n              },\n            ]}\n          />\n          <Box\n            sx={{\n              mt: 2,\n              fontSize: 0,\n              color: 'fg.muted',\n            }}\n          >\n            Note that we don&apos;t currently support regular expressions in the repo or org qualifiers. For more\n            information on search syntax, see our{' '}\n            <Link\n              inline\n              href=\"https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax\"\n            >\n              syntax guide\n            </Link>\n            .\n          </Box>\n        </>\n      ),\n    },\n    {\n      name: 'Find a particular file extension',\n      show: ['code', 'codelegacy'],\n      content: (\n        <>\n          <TipsContentList\n            data={[\n              {\n                name: 'With .txt extensions:',\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>path:</Text>\n                    *.txt\n                  </>\n                ),\n              },\n              {\n                name: `JavaScript and TypeScript files:`,\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>path:</Text>\n                    *.js <Text sx={{color: 'done.fg'}}>OR</Text> <Text sx={{color: 'accent.fg'}}>path:</Text>*.ts\n                  </>\n                ),\n              },\n            ]}\n          />\n          <Box\n            sx={{\n              mt: 2,\n              fontSize: 0,\n              color: 'fg.muted',\n            }}\n          >\n            The path qualifier can search the entire file path, not just the extension, and supports regular\n            expressions. For more information, see our{' '}\n            <Link\n              inline\n              href=\"https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax\"\n            >\n              syntax guide\n            </Link>\n            .\n          </Box>\n        </>\n      ),\n    },\n    {\n      name: \"Why wasn't my code found?\",\n      show: ['code'],\n      content: (\n        <>\n          <Text\n            as=\"p\"\n            sx={{\n              fontSize: 0,\n            }}\n          >\n            When you search within a repository for the first time, please note that the repository undergoes indexing.{' '}\n            <Text sx={{fontWeight: 'bold'}}>This process may take a few minutes.</Text>{' '}\n          </Text>\n          <Text as=\"p\" sx={{display: 'block'}}>\n            The index currently includes more than 70 million popular public repositories, plus all private repositories\n            that users search for.\n          </Text>\n          <p>Beyond that, we also don&apos;t include all files in the search index:</p>\n          <Box as=\"p\" sx={{pl: 3}}>\n            <ul>\n              <li>Vendored and generated code is excluded</li>\n              <li>Empty files and files over 350 kiB are excluded</li>\n              <li>Only UTF-8 encoded files are indexed</li>\n              <li>Very large repositories may not be indexed</li>\n            </ul>\n          </Box>\n\n          <Text\n            as=\"p\"\n            sx={{\n              fontSize: 0,\n              color: 'fg.muted',\n            }}\n          >\n            We intend to continue to increase the amount of code available in the index as much as possible. If we are\n            missing files that are useful to you, feel free to{' '}\n            <Link\n              inline\n              href=\"#\"\n              onClick={(e: React.MouseEvent) => {\n                provideFeedback()\n                e.preventDefault()\n\n                // NOTE: This is necessary to prevent the dialog from instantly closing\n                e.stopPropagation()\n              }}\n            >\n              provide feedback here\n            </Link>\n            .\n          </Text>\n        </>\n      ),\n    },\n    {\n      name: \"Why wasn't my code found?\",\n      show: ['codelegacy'],\n      content: (\n        <>\n          <Text\n            as=\"p\"\n            sx={{\n              fontSize: 0,\n            }}\n          >\n            In rare cases your file might not be indexed, for example we don&apos;t index\n          </Text>\n          <Box as=\"p\" sx={{pl: 3}}>\n            <ul>\n              <li>Empty files and files over 350 kiB are excluded</li>\n              <li>Very large repositories may not be indexed</li>\n            </ul>\n          </Box>\n        </>\n      ),\n    },\n    {\n      name: 'Regular expressions',\n      show: ['code', 'codelegacy'],\n      content: (\n        <>\n          <TipsContentList\n            data={[\n              {\n                name: 'Sparse followed by index:',\n                value: '/sparse.*index/',\n              },\n              {\n                name: `Lines that end with return:`,\n                value: '/return;$/',\n              },\n              {\n                name: `File paths matching:`,\n                value: (\n                  <>\n                    <Text sx={{color: 'accent.fg'}}>path:</Text>\n                    /^\\.github\\/workflows\\/.*\\.yaml$/\n                  </>\n                ),\n              },\n            ]}\n          />\n          <Box\n            sx={{\n              mt: 2,\n              fontSize: 0,\n              color: 'fg.muted',\n            }}\n          >\n            Note that you&apos;ll have to escape any slashes in the regex. For more information, see our{' '}\n            <Link\n              inline\n              href=\"https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax\"\n            >\n              syntax guide\n            </Link>\n            .\n          </Box>\n        </>\n      ),\n    },\n    {\n      name: 'Saved searches',\n      show: [\n        'code',\n        'codelegacy',\n        'repositories',\n        'issues',\n        'pullrequests',\n        'commits',\n        'discussions',\n        'registrypackages',\n        'marketplace',\n        'topics',\n        'wikis',\n        'users',\n      ],\n      content:\n        'Always searching within the same organization or set of repositories? Try constructing a query and click the save button in the top right corner.',\n    },\n  ]\n}\n","import {useMemo} from 'react'\nimport {useLocation} from 'react-router-dom'\nimport {Box, Flash, Link, Text, Octicon} from '@primer/react'\nimport {type QueryError, type ErrorRange, PARSE_ERROR_FATAL} from '../types/blackbird-types'\nimport {AlertIcon} from '@primer/octicons-react'\n\nexport default function SearchError({error, index}: {error: QueryError; index: number}) {\n  const {search} = useLocation()\n  const urlSearchParams = new URLSearchParams(search)\n  const query = urlSearchParams.get('q')\n\n  const variant = !error.type || error.type === PARSE_ERROR_FATAL ? 'danger' : 'warning'\n\n  return (\n    <Flash\n      sx={{\n        borderRadius: 2,\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: 'warning.muted',\n      }}\n      key={index}\n      variant={variant}\n      id=\"search-error-message-flash\"\n    >\n      <Octicon icon={AlertIcon} />\n      {error.message}\n      <QueryHelpComponent query={query} ranges={error.ranges} />\n      <SuggestionComponent suggestion={error.suggestion} />\n    </Flash>\n  )\n}\n\nfunction QueryHelpComponent({query, ranges}: {query: string | null; ranges?: ErrorRange[]}) {\n  const queryHelpComponent = useMemo(() => {\n    const queryHelpSpans: JSX.Element[] = []\n    if (ranges && query) {\n      let offset = 0\n      for (const range of ranges) {\n        const start = range.start ?? 0\n        const end = range.end ?? 0\n\n        // Emit any prefix\n        const inner = query.slice(offset, start)\n        if (inner.length > 0) queryHelpSpans.push(<span key={`help-inner-${inner}`}>{inner}</span>)\n        offset = start\n\n        // Emit the highlighted range\n        const warn = query.slice(range.start, end)\n        if (warn.length > 0)\n          queryHelpSpans.push(\n            <Text key={`help-warning-${warn}`} sx={{textDecoration: 'underline dashed red'}}>\n              {warn}\n            </Text>,\n          )\n        offset = end\n      }\n\n      // Emit any final suffix\n      const suffix = query.slice(offset)\n      if (suffix.length > 0) queryHelpSpans.push(<span key={`help-${suffix}`}>{suffix}</span>)\n\n      if (queryHelpSpans.length > 0) {\n        return (\n          <Box className=\"code-font-mono\" sx={{fontFamily: 'mono', mt: 2}}>\n            {queryHelpSpans}\n          </Box>\n        )\n      }\n    }\n    return null\n  }, [ranges, query])\n\n  return queryHelpComponent\n}\n\nfunction SuggestionComponent({suggestion}: {suggestion?: string}) {\n  const suggestionComponent = useMemo(() => {\n    if (suggestion) {\n      const url = `?q=${encodeURIComponent(suggestion)}`\n\n      // TODO: Copied from blackbird-fe - we don't currently support repo/scopes\n      // if (repoName) {\n      //   url = `/${repoName}${url}`;\n      // }\n\n      // if (scopeName) {\n      //   url += `&scopeName=${encodeURIComponent(\n      //     scopeName\n      //   )}&scope=${encodeURIComponent(scope)}`;\n      // }\n\n      return (\n        <Box sx={{mt: 2}}>\n          <Text sx={{fontSize: 0}}>\n            Suggestion:{' '}\n            <Link className=\"code-font-mono\" href={url} sx={{fontFamily: 'mono'}}>\n              {suggestion}\n            </Link>\n          </Text>\n        </Box>\n      )\n    }\n    return null\n  }, [suggestion])\n\n  return suggestionComponent\n}\n\ntry{ SearchError.displayName ||= 'SearchError' } catch {}\ntry{ QueryHelpComponent.displayName ||= 'QueryHelpComponent' } catch {}\ntry{ SuggestionComponent.displayName ||= 'SuggestionComponent' } catch {}","import {useLocation} from 'react-router-dom'\nimport {ActionList, ActionMenu, Text} from '@primer/react'\nimport {searchPath} from '@github-ui/paths'\nimport {useSoftNavigateTo} from '../hooks/use-soft-navigate-to'\nimport {FocusHintPrefix, DefaultSortItem, type SortItem} from '../types/blackbird-types'\nimport {type FocusHintContextType, useFocusHintContext} from '@github-ui/focus-hint-context'\n\nconst SortMenuFocusHint = `${FocusHintPrefix}blackbird-sort-menu`\n\nexport default function SortMenu({sortItems, onlyGroup}: {sortItems: SortItem[]; onlyGroup: boolean}) {\n  const {search} = useLocation()\n  const urlSearchParams = new URLSearchParams(search)\n  const resultsSort = urlSearchParams.get('s') || DefaultSortItem.sort\n  const resultsOrder = urlSearchParams.get('o') || DefaultSortItem.order\n  const itemSelectedIndex = sortItems.findIndex(item => item.sort === resultsSort && item.order === resultsOrder) || 0\n  const labelText = sortItems[itemSelectedIndex]?.label ?? ''\n  const {focusHint, setFocusHint} = useFocusHintContext()\n\n  const items = sortItems.map(({label, sort, order}, index) => (\n    <SortMenuItem\n      key={`${sort}-${order}`}\n      label={label}\n      sort={sort}\n      order={order}\n      isSelected={itemSelectedIndex === index}\n      setFocusHint={setFocusHint}\n    />\n  ))\n\n  if (onlyGroup) {\n    return (\n      <ActionList.Group selectionVariant=\"single\" sx={{display: ['block', 'block', 'none']}}>\n        <ActionList.GroupHeading>Sort by</ActionList.GroupHeading>\n        {items}\n      </ActionList.Group>\n    )\n  }\n\n  return (\n    <ActionMenu>\n      <ActionMenu.Button\n        data-testid=\"sort-button\"\n        size=\"small\"\n        sx={{bg: 'btn.bg'}}\n        data-react-autofocus={focusHint === SortMenuFocusHint ? true : null}\n      >\n        <Text sx={{color: 'fg.muted'}}>Sort by: </Text> {labelText}\n      </ActionMenu.Button>\n\n      <ActionMenu.Overlay align=\"end\" width=\"small\">\n        <ActionList selectionVariant=\"single\">{items}</ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\nfunction SortMenuItem({\n  label,\n  sort,\n  order,\n  isSelected,\n  setFocusHint,\n}: {\n  label: string\n  sort: string\n  order: string\n  isSelected: boolean\n  setFocusHint: FocusHintContextType['setFocusHint']\n}) {\n  const [, navigateToSortedResults] = useSoftNavigateTo(searchPath, undefined, {\n    p: null,\n    s: sort,\n    o: order,\n  })\n\n  return (\n    <ActionList.Item\n      onSelect={() => {\n        setFocusHint(SortMenuFocusHint)\n        navigateToSortedResults()\n      }}\n      selected={isSelected}\n    >\n      {label}\n    </ActionList.Item>\n  )\n}\n\ntry{ SortMenu.displayName ||= 'SortMenu' } catch {}\ntry{ SortMenuItem.displayName ||= 'SortMenuItem' } catch {}","import type React from 'react'\nimport {useMemo} from 'react'\nimport {ActionMenu, IconButton, ActionList} from '@primer/react'\nimport type {SortItem} from '../types/blackbird-types'\nimport {debugScoringInfoEnabled, setDebugScoringInfoEnabled} from '../../../../components/search/experiments'\n\nimport {provideFeedback} from '../hooks/use-search-bar-events'\nimport {\n  BookIcon,\n  BeakerIcon,\n  CommentIcon,\n  BookmarkIcon,\n  LinkExternalIcon,\n  KebabHorizontalIcon,\n} from '@primer/octicons-react'\n\nimport SortMenu from './SortMenu'\n\n// NOTE: this import is verified to work under SSR\nimport {isStaff} from '@github-ui/stats'\nimport {useLoggedInContext} from '../contexts/LoggedInContext'\n\ntype ExtraMenuType = {\n  isCode: boolean\n  onClickSave: (event: React.SyntheticEvent) => void\n  sortItems?: SortItem[]\n  isMobile: boolean\n  openExperimentsDialog: () => void\n  refreshSearch: () => void\n}\n\nexport default function ExtraMenu({\n  isCode,\n  onClickSave,\n  sortItems,\n  isMobile,\n  openExperimentsDialog,\n  refreshSearch,\n}: ExtraMenuType) {\n  const userIsStaff = useMemo(() => {\n    return isStaff()\n  }, [])\n\n  const loggedIn = useLoggedInContext()\n\n  const showDebugScoringInfo = debugScoringInfoEnabled()\n\n  return (\n    <ActionMenu>\n      <ActionMenu.Anchor>\n        {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n        <IconButton\n          unsafeDisableTooltip={true}\n          icon={KebabHorizontalIcon}\n          size=\"small\"\n          aria-label=\"Open column options\"\n          sx={{color: 'fg.muted'}}\n        />\n      </ActionMenu.Anchor>\n\n      <ActionMenu.Overlay align=\"end\" width={isCode ? 'medium' : 'small'}>\n        <ActionList>\n          {sortItems && isMobile && (\n            <>\n              <SortMenu onlyGroup={true} sortItems={sortItems} />\n              {isMobile && <ActionList.Divider />}\n            </>\n          )}\n          <ActionList.Group>\n            {isCode || (sortItems && isMobile) ? <ActionList.GroupHeading>More options</ActionList.GroupHeading> : null}\n            {isMobile && (\n              <ActionList.Item onSelect={onClickSave}>\n                <ActionList.LeadingVisual>\n                  <BookmarkIcon />\n                </ActionList.LeadingVisual>\n                Save {isMobile && 'your search'}\n              </ActionList.Item>\n            )}\n            <ActionList.LinkItem href=\"https://docs.github.com/search-github\">\n              <ActionList.LeadingVisual>\n                <BookIcon />\n              </ActionList.LeadingVisual>\n              View search docs\n            </ActionList.LinkItem>\n            {loggedIn && (\n              <ActionList.LinkItem\n                href=\"#\"\n                onClick={(e: React.MouseEvent) => {\n                  provideFeedback()\n                  e.preventDefault()\n                  // NOTE: This is necessary to prevent the dialog from instantly closing\n                  e.stopPropagation()\n                }}\n              >\n                <ActionList.LeadingVisual>\n                  <CommentIcon />\n                </ActionList.LeadingVisual>\n                Give feedback\n              </ActionList.LinkItem>\n            )}\n            <ActionList.LinkItem href=\"https://github.com/search/advanced\">\n              <ActionList.LeadingVisual>\n                <LinkExternalIcon />\n              </ActionList.LeadingVisual>\n              Advanced search\n            </ActionList.LinkItem>\n\n            {userIsStaff && (\n              <>\n                <ActionList.Divider />\n                <ActionList.Group>\n                  <ActionList.GroupHeading>Staff</ActionList.GroupHeading>\n                  <ActionList.Item onSelect={() => openExperimentsDialog()}>\n                    <ActionList.LeadingVisual>\n                      <BeakerIcon />\n                    </ActionList.LeadingVisual>\n                    Experiments\n                  </ActionList.Item>\n                  <ActionList.Item\n                    onSelect={() => {\n                      setDebugScoringInfoEnabled(!showDebugScoringInfo)\n                      refreshSearch()\n                    }}\n                  >\n                    <ActionList.LeadingVisual>\n                      <BeakerIcon />\n                    </ActionList.LeadingVisual>\n                    {showDebugScoringInfo ? 'Hide' : 'Show'} debug scoring info\n                  </ActionList.Item>\n                </ActionList.Group>\n              </>\n            )}\n          </ActionList.Group>\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ ExtraMenu.displayName ||= 'ExtraMenu' } catch {}","import {ActionList, ActionMenu, Button, Box, CounterLabel} from '@primer/react'\nimport TypeGroup from './TypeGroup'\nimport {ChevronDownIcon} from '@primer/octicons-react'\nimport {useLoggedInContext} from '../../contexts/LoggedInContext'\n\nimport type {SearchKindCount} from '../../hooks/use-search-result-counts'\nimport {capitalizeFirstLetter} from '../../utilities/format-type-title'\nimport {CountMode} from '../../../react-shared/Count'\n\nimport LazyCounter from '../LazyCounter'\n\nexport default function TypeMobileDropdown({\n  selectedType,\n  searchKinds,\n  isLoadingCounters,\n}: {\n  selectedType: string | undefined\n  isLoadingCounters: boolean\n  searchKinds: SearchKindCount[]\n}) {\n  const searchKindCount = searchKinds?.find(kind => kind.name === selectedType) || searchKinds[0]!\n  const loggedIn = useLoggedInContext()\n\n  return (\n    <ActionMenu>\n      <ActionMenu.Anchor>\n        <Button\n          size=\"small\"\n          trailingVisual={ChevronDownIcon}\n          data-testid=\"type-switcher\"\n          aria-label=\"Filter by type\"\n          sx={{mr: 2, span: {m: 0}}}\n        >\n          {capitalizeFirstLetter(searchKindCount.readableNamePlural)}\n          <Box as=\"span\" sx={{pl: 1}}>\n            {selectedType === 'code' && !loggedIn ? (\n              <CounterLabel data-testid=\"resolved-count-label\" sx={{height: 20, lineHeight: '20px', py: 0, px: 2}}>\n                ...\n              </CounterLabel>\n            ) : (\n              <LazyCounter\n                resultCountIsLowerBound={searchKindCount.mode === CountMode.LowerBound}\n                totalResults={searchKindCount.total || 0}\n                isLoading={searchKindCount.total === undefined}\n              />\n            )}\n          </Box>\n        </Button>\n      </ActionMenu.Anchor>\n      <ActionMenu.Overlay width=\"small\">\n        <ActionList selectionVariant=\"single\" data-testid=\"type-switcher-options\">\n          <TypeGroup\n            isLoadingCounters={isLoadingCounters}\n            selectedType={selectedType}\n            searchKinds={searchKinds}\n            isMobile={true}\n          />\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ TypeMobileDropdown.displayName ||= 'TypeMobileDropdown' } catch {}","import {useState} from 'react'\nimport {Portal, Box, Link, TextInput} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\n\nimport {getBlackbirdExperiments, setBlackbirdExperiments} from '../../../../components/search/experiments'\n\nconst experimentsQuery = 'repo:github/blackbird-mw \"var StaffEnabled = Experiments\"'\n\nexport const ExperimentsDialog = ({onDismiss, onSave}: {onDismiss: () => void; onSave: () => void}): JSX.Element => {\n  const [experiments, setExperiments] = useState(() => getBlackbirdExperiments().join(','))\n  const [statusMessage, setStatusMessage] = useState<string | undefined>(undefined)\n  const saveExperiments = () => {\n    const experimentsArray = []\n    for (const pair of experiments.split(',')) {\n      if (pair.trim() === '') continue\n\n      if (pair.split('=').length !== 2) {\n        setStatusMessage('Invalid experiment key=value pair')\n        return\n      }\n      experimentsArray.push(pair)\n    }\n\n    setBlackbirdExperiments(experimentsArray)\n    onSave()\n    onDismiss()\n  }\n\n  return (\n    <Portal>\n      <Dialog onClose={onDismiss} title={'Experiments'} width=\"xlarge\">\n        <Dialog.Body>\n          <Box sx={{p: 3}}>\n            <span>\n              List experiments as comma separated <code>key=value</code> pairs. To see available experiments,{' '}\n              <Link inline target=\"_blank\" href={`/search?q=${encodeURIComponent(experimentsQuery)}`}>\n                read this code\n              </Link>\n              .\n            </span>\n            <TextInput\n              sx={{width: '100%', my: 2}}\n              aria-label=\"Experiments\"\n              name=\"experiments\"\n              value={experiments}\n              onChange={e => setExperiments(e.target.value)}\n              onKeyDown={e => {\n                // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n                if (e.key === 'Enter') {\n                  saveExperiments()\n                }\n              }}\n            />\n            <span>{statusMessage}</span>\n          </Box>\n        </Dialog.Body>\n        <Dialog.Footer>\n          <Dialog.Buttons\n            buttons={[\n              {type: 'button', onClick: onDismiss, content: 'Cancel'},\n              {type: 'submit', onClick: saveExperiments, content: 'Save', buttonType: 'primary'},\n            ]}\n          />\n        </Dialog.Footer>\n      </Dialog>\n    </Portal>\n  )\n}\n\ntry{ ExperimentsDialog.displayName ||= 'ExperimentsDialog' } catch {}","import React, {useEffect} from 'react'\nimport {FilterIcon, BookmarkIcon} from '@primer/octicons-react'\nimport {Box, Button, Octicon, Text, Token} from '@primer/react'\nimport ExtraMenu from './ExtraMenu'\n\nimport {Dialog} from '@primer/react/experimental'\nimport {\n  CodeSortItems,\n  CommitSortItems,\n  DiscussionSortItems,\n  FocusHintPrefix,\n  IssueSortItems,\n  PackageSortItems,\n  RepoSortItems,\n  type SearchResults,\n  UserSortItems,\n  WikiSortItems,\n} from '../types/blackbird-types'\nimport {CountMode, getCountText} from '../../react-shared/Count'\nimport {useLocation} from 'react-router-dom'\n\nimport {FacetsDialogContent} from './FacetsPane'\nimport SortMenu from './SortMenu'\nimport TypeMobileDropdown from './FacetsPane/TypeMobileDropdown'\nimport {parseString} from '../../../../components/search/parsing/parsing'\nimport type {ContentNode, NodeWithChildren, QualifierNode} from '@github/blackbird-parser'\nimport {useNavigateToQuery} from '../hooks/use-navigate-to-query'\nimport type {SearchKindCount} from '../hooks/use-search-result-counts'\nimport {ExperimentsDialog} from './ExperimentsDialog'\nimport {useFocusHintContext} from '@github-ui/focus-hint-context'\nimport {useLoggedInContext} from '../contexts/LoggedInContext'\nimport {debugScoringInfoEnabled} from '../../../../components/search/experiments'\n\nexport function SearchSubHeader({\n  payload,\n  selectedType,\n  searchKinds,\n  isLoadingCounters,\n  isLoading,\n}: {\n  payload: SearchResults\n  selectedType: string | undefined\n  searchKinds: SearchKindCount[]\n  isLoadingCounters: boolean\n  isLoading: boolean\n}) {\n  const [isOpen, setIsOpen] = React.useState(false)\n  const [openExperimentsDialog, setOpenExperimentsDialog] = React.useState(false)\n  const openDialog = React.useCallback(() => setIsOpen(true), [setIsOpen])\n  const closeDialog = React.useCallback(() => setIsOpen(false), [setIsOpen])\n  const loggedIn = useLoggedInContext()\n  const navigateToQuery = useNavigateToQuery()\n\n  const sortItems = getSortItemsForType(payload.type)\n  const isCode = payload.type === 'code'\n  const isLegacyCode = payload.type === 'codelegacy'\n  const isAnyCode = isCode || isLegacyCode\n\n  const openCustomScopesDialog = (event: React.SyntheticEvent) => {\n    const e = new CustomEvent('blackbird_monolith_save_query_as_custom_scope', {detail: event.currentTarget})\n    window.dispatchEvent(e)\n  }\n\n  const location = useLocation()\n  const urlSearchParams = new URLSearchParams(location.search)\n  const query = urlSearchParams.get('q') || ''\n  const searchKindCount = searchKinds?.find(kind => kind.name === selectedType) || searchKinds[0]!\n  const showDebugScoringInfo = debugScoringInfoEnabled()\n\n  const {focusHint} = useFocusHintContext()\n  useEffect(() => {\n    // focus on the search result count on page load\n    if (!isLoading) {\n      const focusElement = document.getElementById('search-results-count')\n      if (!focusHint?.startsWith(FocusHintPrefix)) {\n        focusElement?.focus()\n      }\n    }\n  })\n\n  return (\n    <div data-testid=\"search-sub-header\">\n      <Box\n        sx={{\n          alignItems: 'center',\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          gap: 2,\n        }}\n      >\n        {loggedIn || !isCode ? (\n          <ResultCount\n            isLoadingCounters={isLoadingCounters}\n            elapsedMilliseconds={payload.elapsed_millis}\n            searchKinds={searchKinds}\n            searchKindCount={searchKindCount}\n            query={query}\n          />\n        ) : (\n          <Box sx={{flex: 2}}>\n            <Box sx={{display: ['block', 'block', 'none']}}>\n              <TypeMobileDropdown\n                selectedType={searchKindCount.name}\n                searchKinds={searchKinds}\n                isLoadingCounters={isLoadingCounters}\n              />\n            </Box>\n          </Box>\n        )}\n        {isCode && showDebugScoringInfo && (\n          <div>\n            {`cost=${payload.metadata?.total_cost} retries=${payload.metadata?.retries} limit_reached=${payload.metadata?.limit_reached}`}\n          </div>\n        )}\n        <Box\n          sx={{\n            display: 'flex',\n            flexShrink: 0,\n          }}\n        >\n          {sortItems && (\n            <Box sx={{display: ['none', 'none', 'block'], mr: 2}}>\n              <SortMenu onlyGroup={false} sortItems={sortItems} />\n            </Box>\n          )}\n          {loggedIn && (\n            <Box sx={{display: ['none', 'none', 'block'], mr: 2}}>\n              <Button onClick={openCustomScopesDialog} size=\"small\">\n                <Box sx={{flexDirection: 'row', alignItems: 'center'}}>\n                  <Octicon icon={BookmarkIcon} sx={{mr: 1}} />\n                  Save\n                </Box>\n              </Button>\n            </Box>\n          )}\n\n          <Box sx={{display: (searchKindCount.total || 0) === 0 ? 'none' : ['block', 'block', 'none'], mr: 2}}>\n            <Button onClick={openDialog} size=\"small\" data-testid=\"filter-button\" leadingVisual={FilterIcon}>\n              Filter\n            </Button>\n            {isOpen && (\n              <Dialog\n                title=\"Filters\"\n                renderBody={() =>\n                  renderFilterDialogBody(payload, isLoading, isLoadingCounters, selectedType, searchKinds)\n                }\n                onClose={closeDialog}\n                position={{narrow: 'bottom', wide: 'center'}}\n              />\n            )}\n          </Box>\n          <Box sx={{display: ['block', 'block', 'none']}}>\n            <ExtraMenu\n              sortItems={sortItems}\n              isCode={isAnyCode}\n              onClickSave={openCustomScopesDialog}\n              openExperimentsDialog={() => setOpenExperimentsDialog(true)}\n              refreshSearch={() => navigateToQuery(query, undefined)}\n              isMobile={true}\n            />\n          </Box>\n          {openExperimentsDialog && (\n            <ExperimentsDialog\n              onDismiss={() => setOpenExperimentsDialog(false)}\n              onSave={() => navigateToQuery(query, undefined)}\n            />\n          )}\n\n          <Box sx={{display: ['none', 'none', 'block']}}>\n            <ExtraMenu\n              isCode={isAnyCode}\n              sortItems={sortItems}\n              onClickSave={openCustomScopesDialog}\n              openExperimentsDialog={() => setOpenExperimentsDialog(true)}\n              refreshSearch={() => navigateToQuery(query, undefined)}\n              isMobile={false}\n            />\n          </Box>\n        </Box>\n      </Box>\n    </div>\n  )\n}\n\nfunction ResultCount({\n  elapsedMilliseconds,\n  searchKinds,\n  searchKindCount,\n  isLoadingCounters,\n  query,\n}: {\n  elapsedMilliseconds: number\n  searchKinds: SearchKindCount[]\n  searchKindCount: SearchKindCount\n  isLoadingCounters: boolean\n  query: string\n}) {\n  const {focusHint} = useFocusHintContext()\n  const secondsForResults = elapsedMilliseconds >= 1000\n  const isCode = searchKindCount.name === 'code'\n  const unit = isCode ? 'file' : 'result'\n  const resultsUnit = searchKindCount.total === 1 ? ` ${unit} ` : ` ${unit}s `\n  const timeMeasurement = secondsForResults ? Math.round(elapsedMilliseconds / 1000) : elapsedMilliseconds\n  const timeUnit = secondsForResults ? 's' : 'ms'\n  const countText =\n    (searchKindCount.mode === CountMode.Approximate ? 'About ' : '') +\n    (searchKindCount.mode === CountMode.LowerBound ? 'More than ' : '') +\n    getCountText(searchKindCount.total || 0) +\n    resultsUnit\n\n  return (\n    <>\n      <Text\n        sx={{\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'baseline',\n          flex: 2,\n          rowGap: 1,\n          fontSize: 2,\n          flexWrap: 'wrap',\n        }}\n      >\n        <Box sx={{display: ['block', 'block', 'none']}}>\n          <TypeMobileDropdown\n            selectedType={searchKindCount.name}\n            searchKinds={searchKinds}\n            isLoadingCounters={isLoadingCounters}\n          />\n        </Box>\n\n        <Text\n          sx={{\n            fontWeight: 'semibold',\n            pr: 1,\n            display: ['none', 'none', 'flex'],\n            justifyContent: 'center',\n            flexShrink: 0,\n            alignItems: 'baseline',\n          }}\n        >\n          <Box sx={{display: 'inline'}}>{countText}</Box>\n          <Text sx={{fontSize: 0, fontWeight: 'normal', color: 'fg.muted'}}>\n            &nbsp;({timeMeasurement} {timeUnit})\n          </Text>\n        </Text>\n        <h2\n          id=\"search-results-count\"\n          className=\"sr-only\"\n          data-react-autofocus={focusHint?.startsWith(FocusHintPrefix) ? null : true}\n          tabIndex={-1}\n        >\n          {countText}\n        </h2>\n        <FilterToken query={query} />\n      </Text>\n    </>\n  )\n}\n\nfunction FilterToken({query}: {query: string}) {\n  const navigateToQuery = useNavigateToQuery()\n  const astNode: NodeWithChildren = parseString(query || '') as NodeWithChildren\n\n  // No qualifiers found\n  if (!astNode.children || astNode.children.length === 0) {\n    return null\n  }\n\n  // Check if query is a simple query\n  const simpleQueryQualifiers = ['And', 'Or', 'Not', 'Group']\n  const isSimpleQuery = astNode.children.filter(node => simpleQueryQualifiers.includes(node.kind)).length === 0\n  if (!isSimpleQuery) {\n    return null\n  }\n\n  const qualifierNodes = astNode.children.filter(\n    node =>\n      node.kind === 'Qualifier' && (node.qualifier === 'Repo' || node.qualifier === 'Org' || node.qualifier === 'User'),\n  ) as QualifierNode[]\n\n  // No repo, org, or user qualifiers found or more than 1\n  // Also - in case the qualifier is actuall blank ie. `repo: ` with a space, return null\n  if (!qualifierNodes || qualifierNodes.length !== 1 || qualifierNodes[0]!.content.kind === 'Nothing') {\n    return null\n  }\n\n  const qualifierNode = qualifierNodes[0]!\n  // Start at the beginning of the qualifier node, end at the end of content\n  const qualifierStartLocation = qualifierNode.location.start\n  const qualifierEndLocation = (qualifierNode.content as ContentNode).location.end\n\n  return (\n    <Text\n      sx={{\n        fontSize: 0,\n        fontWeight: 'normal',\n        color: 'fg.muted',\n        display: 'inline-flex',\n        alignItems: 'center',\n        maxWidth: '100%',\n      }}\n    >\n      in\n      <Token\n        as=\"a\"\n        size=\"medium\"\n        href={`/${(qualifierNode.content as ContentNode).value.toString()}`}\n        text={(qualifierNode.content as ContentNode).value.toString()}\n        onRemove={() => {\n          query = (query.substring(0, qualifierStartLocation) + query.substring(qualifierEndLocation)).trim()\n          navigateToQuery(query, undefined)\n        }}\n        sx={{\n          ml: 1,\n        }}\n      />\n    </Text>\n  )\n}\n\nfunction renderFilterDialogBody(\n  payload: SearchResults,\n  isLoading: boolean,\n  isLoadingCounters: boolean,\n  selectedType: string | undefined,\n  searchKinds: SearchKindCount[],\n) {\n  return (\n    <Box sx={{overflow: 'scroll'}}>\n      <FacetsDialogContent\n        facets={payload.facets}\n        searchType={payload.type}\n        isLoading={isLoading}\n        isLoadingCounters={isLoadingCounters}\n        searchKinds={searchKinds}\n        selectedType={selectedType}\n        resultCount={payload.result_count}\n      />\n    </Box>\n  )\n}\n\nfunction getSortItemsForType(type: string) {\n  switch (type) {\n    case 'codelegacy':\n      return CodeSortItems\n    case 'commits':\n      return CommitSortItems\n    case 'discussions':\n      return DiscussionSortItems\n    case 'registrypackages':\n      return PackageSortItems\n    case 'repositories':\n      return RepoSortItems\n    case 'users':\n      return UserSortItems\n    case 'wikis':\n      return WikiSortItems\n    case 'issues':\n      return IssueSortItems\n    case 'pullrequests':\n      return IssueSortItems\n    default:\n      return undefined\n  }\n}\n\ntry{ SearchSubHeader.displayName ||= 'SearchSubHeader' } catch {}\ntry{ ResultCount.displayName ||= 'ResultCount' } catch {}\ntry{ FilterToken.displayName ||= 'FilterToken' } catch {}","import {Box} from '@primer/react'\nimport Base from './Base'\n\nexport default function CodeItemsSkeleton() {\n  return (\n    <Box data-testid=\"code-items-skeleton\" sx={{pt: 0}}>\n      <Base\n        sx={{\n          mb: 4,\n          width: 190,\n          borderRadius: 2,\n          height: 10,\n        }}\n      />\n      <Box sx={{display: 'grid', gap: 4}}>\n        <CodeItem widths={[431, 309]} />\n        <CodeItem widths={[475, 457]} />\n        <CodeItem widths={[423, 480]} />\n      </Box>\n    </Box>\n  )\n}\n\nfunction CodeItem({widths}: {widths: [number, number]}) {\n  return (\n    <div>\n      <Box sx={{display: 'flex', alignItems: 'center'}}>\n        <Base width={16} borderRadius={3} height={16} />\n        <Base borderRadius={3} height={12} maxWidth={widths[0]} ml={2} />\n      </Box>\n      <Base borderRadius={2} height={200} mt={3} />\n      <Box sx={{display: 'flex', mt: 3}}>\n        <Base height={16} borderRadius={3} maxWidth={widths[1]} />\n      </Box>\n    </div>\n  )\n}\n\ntry{ CodeItemsSkeleton.displayName ||= 'CodeItemsSkeleton' } catch {}\ntry{ CodeItem.displayName ||= 'CodeItem' } catch {}","import {Box, Text, ActionList} from '@primer/react'\nimport type {Topic} from '../../types/blackbird-types'\nimport {HashIcon, LinkIcon, RepoIcon} from '@primer/octicons-react'\nimport {topicPath} from '@github-ui/paths'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nfunction FeaturedTopic({topic, linkedTopic}: {topic: Topic; linkedTopic: string}) {\n  const {name, display_name, short_description, github_url, logo_url, development_logo_url, url, wikipedia_url} = topic\n  // eslint-disable-next-line no-restricted-syntax\n  const nwo = github_url ? new URL(github_url).pathname.substring(1) : null\n  // eslint-disable-next-line no-restricted-syntax\n  const urlHost = url ? new URL(url).hostname.replace('www.', '') : null\n  const topicUrl = topicPath({topicName: linkedTopic})\n  const logo = development_logo_url || logo_url\n  return (\n    <>\n      <Box\n        sx={{\n          bg: 'canvas.default',\n          borderWidth: 1,\n          borderStyle: 'solid',\n          borderColor: 'border.default',\n          borderRadius: '6px',\n          display: 'flex',\n          flexDirection: 'column',\n          pt: 3,\n          pb: 1,\n        }}\n      >\n        <Box sx={{display: 'flex', alignItems: 'center', mb: 2, mx: 3}}>\n          {logo && <GitHubAvatar alt={linkedTopic} src={logo} size={24} square sx={{mr: 2}} />}\n          <Text sx={{color: 'fg.default', fontWeight: 'semibold', fontSize: 2}}>{display_name ?? name}</Text>\n        </Box>\n        <Box sx={{mx: 3}}>\n          <Text sx={{color: 'fg.muted'}}>{short_description}</Text>\n        </Box>\n\n        <ActionList>\n          {url && (\n            <ActionList.LinkItem\n              href={url}\n              sx={{\n                span: {\n                  color: 'accent.fg',\n                },\n              }}\n            >\n              <ActionList.LeadingVisual>\n                <LinkIcon />\n              </ActionList.LeadingVisual>\n              {urlHost}\n            </ActionList.LinkItem>\n          )}\n\n          {wikipedia_url && (\n            <ActionList.LinkItem\n              href={wikipedia_url}\n              sx={{\n                span: {\n                  color: 'accent.fg',\n                },\n              }}\n            >\n              <ActionList.LeadingVisual>\n                <LinkIcon />\n              </ActionList.LeadingVisual>\n              Wikipedia\n            </ActionList.LinkItem>\n          )}\n\n          {github_url && (\n            <ActionList.LinkItem href={github_url} sx={{color: 'fg.muted'}}>\n              <ActionList.LeadingVisual>\n                <RepoIcon />\n              </ActionList.LeadingVisual>\n              {nwo}\n            </ActionList.LinkItem>\n          )}\n          <ActionList.LinkItem href={topicUrl} sx={{color: 'fg.muted'}}>\n            <ActionList.LeadingVisual>\n              <HashIcon />\n            </ActionList.LeadingVisual>\n            View topic\n          </ActionList.LinkItem>\n        </ActionList>\n      </Box>\n    </>\n  )\n}\n\nexport default FeaturedTopic\n\ntry{ FeaturedTopic.displayName ||= 'FeaturedTopic' } catch {}","import FeaturedTopic from './FeaturedTopic'\nimport type {SearchResults} from '../../types/blackbird-types'\n\nexport default function PrimarySuggestions({payload}: {payload: SearchResults}) {\n  if (payload.type === 'repositories' && payload.topics) {\n    return <FeaturedTopic topic={payload.topics.curated_topic} linkedTopic={payload.topics?.linked_topic_name} />\n  }\n\n  return null\n}\n\ntry{ PrimarySuggestions.displayName ||= 'PrimarySuggestions' } catch {}","import type React from 'react'\nimport type {SearchResults, SearchResultsType} from '../../types/blackbird-types'\nimport {Box, Text, Octicon} from '@primer/react'\nimport {LightBulbIcon} from '@primer/octicons-react'\n\ninterface Tip {\n  content: React.ReactChild\n  show: SearchResultsType[]\n}\n\nconst tips: Tip[] = [\n  {\n    content: (\n      <>\n        Press the{' '}\n        <Box sx={{display: 'inline-block'}} className=\"hx_kbd\">\n          /\n        </Box>{' '}\n        key to activate the search input again and adjust your query.\n      </>\n    ),\n    show: [\n      'code',\n      'codelegacy',\n      'repositories',\n      'commits',\n      'issues',\n      'pullrequests',\n      'discussions',\n      'registrypackages',\n      'topics',\n      'wikis',\n      'users',\n      'marketplace',\n    ],\n  },\n  {\n    content: 'Restrict your search to the title by using the in:title qualifier.',\n    show: ['issues', 'pullrequests'],\n  },\n]\n\nexport default function MiniTip({payload}: {payload: SearchResults}) {\n  const type = payload.type\n  const tipsForType = tips.filter(tip => tip.show.includes(type))\n  const randomTip = tipsForType[Math.floor(Math.random() * tipsForType.length)]\n\n  if (!randomTip) {\n    return null\n  }\n  return (\n    <>\n      <Box sx={{fontSize: 0, color: 'fg.muted', p: [3, 3, 0, 0]}}>\n        <Box sx={{display: 'inline-block', color: 'attention.fg'}}>\n          <Octicon icon={LightBulbIcon} size={16} sx={{color: 'attention.fg'}} />\n          <Text sx={{pl: 1, fontWeight: 'bold'}}>ProTip!</Text>&nbsp;\n        </Box>\n        <span>{randomTip.content}</span>\n      </Box>\n    </>\n  )\n}\n\ntry{ MiniTip.displayName ||= 'MiniTip' } catch {}","import {Box, Text, Heading, Link, Octicon} from '@primer/react'\nimport {ArrowRightIcon} from '@primer/octicons-react'\n\nexport default function MarketingSuggestion({\n  title,\n  description,\n  cta,\n  href,\n  mediaPath,\n  mediaPathRetina,\n  mediaAlt,\n}: {\n  title: string\n  description: string\n  cta: string\n  href: string\n  mediaPath: string\n  mediaPathRetina?: string\n  mediaAlt: string\n}) {\n  let srcSet = `${mediaPath} 1x`\n  if (mediaPathRetina) {\n    srcSet += `, ${mediaPathRetina} 2x`\n  }\n  return (\n    <>\n      <Box\n        sx={{\n          bg: 'canvas.default',\n          borderWidth: 1,\n          borderStyle: 'solid',\n          borderColor: 'border.default',\n          borderRadius: '6px',\n          display: 'flex',\n          flexDirection: 'column',\n          p: 3,\n        }}\n      >\n        <div>\n          <img src={mediaPath} alt={mediaAlt} srcSet={srcSet} />\n        </div>\n        <Heading as=\"h2\" sx={{fontSize: 2, py: 1, fontWeight: 'semibold'}}>\n          {title}\n        </Heading>\n        <Text sx={{fontSize: 0, color: 'fg.muted', pb: 3}}>{description}</Text>\n        <Link sx={{fontSize: 0, fontWeight: 'semibold', pb: 2, display: 'flex', alignItems: 'center'}} href={href}>\n          {cta} <Octicon icon={ArrowRightIcon} size={16} sx={{color: 'accent.fg', ml: 1}} />\n        </Link>\n      </Box>\n    </>\n  )\n}\n\ntry{ MarketingSuggestion.displayName ||= 'MarketingSuggestion' } catch {}","import type React from 'react'\nimport {Box, Heading, Link, Text} from '@primer/react'\nimport {provideFeedback} from '../../hooks/use-search-bar-events'\n\nexport default function Feedback() {\n  return (\n    <Box\n      sx={{\n        bg: 'canvas.default',\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: 'border.default',\n        borderRadius: '6px',\n        p: 3,\n        py: 2,\n      }}\n    >\n      <Heading as=\"h2\" sx={{fontSize: 0, display: 'inline-block', fontWeight: 'semibolds'}}>\n        How can we improve search?\n      </Heading>{' '}\n      <Link\n        sx={{fontSize: 0, fontWeight: 'semibold'}}\n        as=\"button\"\n        onClick={(e: React.MouseEvent) => {\n          provideFeedback()\n          e.preventDefault()\n\n          // NOTE: This is necessary to prevent the dialog from instantly closing\n          e.stopPropagation()\n        }}\n      >\n        <Text sx={{fontSize: 0}}>Give feedback</Text>\n      </Link>\n    </Box>\n  )\n}\n\ntry{ Feedback.displayName ||= 'Feedback' } catch {}","import type {SearchResults, SearchResultsType} from '../../types/blackbird-types'\nimport {Box} from '@primer/react'\n\nimport MiniTip from './MiniTip'\nimport MarketingSuggestion from './MarketingSuggestion'\nimport Feedback from './Feedback'\nimport {useLoggedInContext} from '../../contexts/LoggedInContext'\ninterface MarketingSuggestion {\n  title: string\n  description: string\n  mediaPath: string\n  mediaPathRetina?: string\n  mediaAlt: string\n  cta: string\n  href: string\n  show: SearchResultsType[]\n}\n\nconst marketingSuggestions: MarketingSuggestion[] = [\n  {\n    title: 'Learn GitHub Packages',\n    description:\n      'GitHub Packages is a platform for hosting and managing packages, including containers and other dependencies. Get started with publishing or installing packages yourself.',\n    mediaPath: '/images/modules/search/package.svg',\n    mediaAlt: 'Package Icon',\n    cta: 'Learn more about GitHub Packages',\n    href: '/features/packages',\n    show: ['registrypackages'],\n  },\n  {\n    title: 'Sponsor open source projects you depend on',\n    description:\n      'Contributors are working behind the scenes to make open source better for everyonegive them the help and recognition they deserve.',\n    mediaPath: '/images/modules/search/mona-love.png',\n    mediaPathRetina: '/images/modules/search/mona-love-2x.png',\n    mediaAlt: 'Package icon',\n    cta: 'Explore sponsorable projects',\n    href: 'https://github.com/sponsors/explore',\n    show: ['repositories', 'users'],\n  },\n  {\n    title: 'Learn how you can use GitHub Issues to plan and track your work.',\n    description:\n      'Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless.',\n    mediaPath: '/images/modules/search/issues.png',\n    mediaPathRetina: '/images/modules/search/issues-2x.png',\n    mediaAlt: 'Issue origami icon',\n    cta: 'Learn more about GitHub Issues',\n    href: 'https://docs.github.com/issues',\n    show: ['issues'],\n  },\n]\n\nexport default function SecondarySuggestions({payload}: {payload: SearchResults}) {\n  const type = payload.type\n  const suggestion = marketingSuggestions.find(tip => tip.show.includes(type))\n  const loggedIn = useLoggedInContext()\n\n  if (!suggestion) {\n    return null\n  }\n\n  return (\n    <Box sx={{display: 'grid', gap: 3}}>\n      {suggestion && (\n        <MarketingSuggestion\n          title={suggestion.title}\n          description={suggestion.description}\n          mediaPath={suggestion.mediaPath}\n          mediaPathRetina={suggestion.mediaPathRetina}\n          mediaAlt={suggestion.mediaAlt}\n          cta={suggestion.cta}\n          href={suggestion.href}\n        />\n      )}\n      {loggedIn && <Feedback />}\n      <MiniTip payload={payload} />\n    </Box>\n  )\n}\n\ntry{ SecondarySuggestions.displayName ||= 'SecondarySuggestions' } catch {}","import type React from 'react'\nimport {useEffect, useMemo, useRef, useState} from 'react'\nimport type {SearchResponse, SearchResultsType} from '../types/blackbird-types'\nimport {getExpandedQuery, parseString} from '../../../../../app/components/search/parsing/parsing'\nimport {getCustomScopesFromParam} from './use-navigate-to-query'\nimport {CountMode} from '../../react-shared/Count'\n\nexport interface SearchKind {\n  name: SearchResultsType\n  readableName: string\n  readableNamePlural: string\n  icon: React.FunctionComponent\n}\ninterface ResultCount {\n  mode: CountMode\n  total: number\n  final: boolean\n  error: boolean\n}\n\nexport type SearchKindCount = SearchKind & ResultCount\n\nconst MaxBlackbirdResults = 100\n\nexport const useSearchResultCounts = ({\n  searchType,\n  kinds,\n  query,\n  scopes,\n  payload,\n}: {\n  searchType: SearchResultsType\n  kinds: SearchKind[]\n  query: string | null\n  scopes: string | null\n  payload: SearchResponse | null\n}): [boolean, SearchKindCount[], ResultCount] => {\n  const [isLoading, setIsLoading] = useState(true)\n  const [counts, setCounts] = useState(() => {\n    const m = new Map<string, ResultCount>()\n    for (const kind of kinds) {\n      m.set(kind.name, {total: 0, mode: CountMode.Exact, error: false, final: false})\n    }\n    return m\n  })\n  const prevQuery = useRef('')\n  const prevPayload = useRef<SearchResponse | null>(null)\n  const prevSearchType = useRef(searchType)\n\n  // set the initial value of counts to include the count we got from the search results\n  useMemo(() => {\n    if (\n      !shouldRecount({\n        prevSearchType,\n        searchType,\n        prevQuery,\n        query,\n        prevPayload,\n        payload,\n      })\n    ) {\n      return\n    }\n\n    if (!payload) {\n      return\n    }\n\n    // If the blackbird query returned 100 results, follow up with a count request\n    if (searchType === 'code' && payload.result_count === MaxBlackbirdResults) {\n      // Set a lower bound estimate while we get the real count\n      counts.set(searchType, {\n        total: payload.result_count,\n        mode: CountMode.LowerBound,\n        final: false,\n        error: false,\n      })\n    } else {\n      counts.set(searchType, {\n        total: payload.result_count,\n        mode: CountMode.Exact,\n        final: true,\n        error: false,\n      })\n    }\n  }, [counts, payload, query, searchType])\n\n  // get search counts from the server\n  useEffect(() => {\n    if (\n      !shouldRecount({\n        prevSearchType,\n        searchType,\n        prevQuery,\n        query,\n        prevPayload,\n        payload,\n      })\n    ) {\n      return\n    }\n\n    if (!query) {\n      setIsLoading(false)\n      return\n    }\n\n    if (!payload) {\n      setIsLoading(true)\n      return\n    }\n\n    prevQuery.current = query\n    prevPayload.current = payload\n    prevSearchType.current = searchType\n    setIsLoading(true)\n\n    let expandedQuery = query\n    if (scopes) {\n      const customScopes = getCustomScopesFromParam(scopes)\n      if (customScopes.length > 0) {\n        const ast = parseString(query)\n        expandedQuery = getExpandedQuery(query, customScopes, ast)\n      }\n    }\n\n    ;(async () => {\n      const kindsToFetch = kinds.filter(kind => kind.name !== searchType)\n\n      // Begin fetching counts other than the type we have via payload\n      const otherResults = fetchAllCounts({\n        kinds: kindsToFetch,\n        query,\n        expandedQuery,\n        scopes: scopes || '',\n        loggedIn: !!payload.logged_in,\n      })\n\n      // If the blackbird query returned 100 results, follow up with a count request\n      if (payload.logged_in && searchType === 'code' && payload.result_count === MaxBlackbirdResults) {\n        const blackbirdCount = await fetchCount({\n          type: 'code',\n          query,\n          expandedQuery,\n          scopes: scopes || '',\n          loggedIn: true,\n        })\n        if (!blackbirdCount.error) {\n          counts.set(searchType, blackbirdCount)\n        }\n      }\n\n      const results = await otherResults\n      for (let i = 0; i < results.length; i++) {\n        const result = results[i]!\n        if (result.status === 'fulfilled') {\n          counts.set(kindsToFetch[i]!.name, {\n            total: result.value.total,\n            mode: result.value.mode,\n            final: true,\n            error: false,\n          })\n        } else {\n          counts.set(kindsToFetch[i]!.name, {\n            total: 0,\n            mode: CountMode.Exact,\n            final: true,\n            error: true,\n          })\n        }\n      }\n\n      setCounts(counts)\n      setIsLoading(false)\n    })()\n    // I am only writing to counts, not reading from it. But typescript doesn't know that\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [kinds, payload, scopes, query, prevPayload, prevQuery, searchType])\n\n  const output = [] as SearchKindCount[]\n  for (const kind of kinds) {\n    const count = counts.get(kind.name)\n    if (count) {\n      output.push({...kind, ...count})\n    }\n  }\n  return [isLoading, output, counts.get(searchType)!]\n}\n\nfunction shouldRecount({\n  prevSearchType,\n  searchType,\n  prevQuery,\n  query,\n  prevPayload,\n  payload,\n}: {\n  prevSearchType: React.MutableRefObject<SearchResultsType>\n  searchType: SearchResultsType\n  prevQuery: React.MutableRefObject<string>\n  query: string | null\n  prevPayload: React.MutableRefObject<SearchResponse | null>\n  payload: SearchResponse | null\n}) {\n  // When switching from legacy code to new code search (or the reverse), we need to\n  // recalculate the counts, even if the query remains the same.\n  const isCodeToLegacyTransition =\n    (prevSearchType.current === 'code' && searchType === 'codelegacy') ||\n    (prevSearchType.current === 'codelegacy' && searchType === 'code')\n\n  // Don't recalculate the counts if the query hasn't changed\n  if (!isCodeToLegacyTransition && (prevQuery.current === query || prevPayload.current === payload)) {\n    return false\n  }\n  return true\n}\n\nfunction fetchAllCounts({\n  kinds,\n  query,\n  expandedQuery,\n  scopes,\n  loggedIn,\n}: {\n  kinds: SearchKind[]\n  query: string\n  expandedQuery: string\n  scopes: string\n  loggedIn: boolean\n}) {\n  const mapToPromises = kinds.map(kind => fetchCount({type: kind.name, query, expandedQuery, scopes, loggedIn}))\n  return Promise.allSettled(mapToPromises)\n}\n\nasync function fetchCount({\n  type,\n  query,\n  expandedQuery,\n  scopes,\n  loggedIn,\n}: {\n  type: SearchResultsType\n  query: string\n  expandedQuery: string\n  scopes: string\n  loggedIn: boolean\n}): Promise<ResultCount> {\n  const typeValue = type === 'codelegacy' ? 'code' : type\n\n  if (type === 'code') {\n    if (!loggedIn) {\n      return {total: 0, mode: CountMode.Exact, final: true, error: false}\n    }\n    const url = new URL('/search/blackbird_count', window.location.href)\n    url.searchParams.append('saved_searches', scopes)\n    url.searchParams.append('q', query)\n    const response = await fetch(url.toString(), {\n      headers: {Accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n    })\n    const json = await response.json()\n    return {total: Number(json.count), mode: json.mode, final: true, error: json.failed}\n  }\n\n  if (type === 'issues') {\n    expandedQuery += ' is:issue'\n  } else if (type === 'pullrequests') {\n    expandedQuery += ' is:pr'\n  }\n\n  const url = new URL('/search/count', window.location.href)\n  url.searchParams.append('q', expandedQuery)\n  url.searchParams.append('type', typeValue)\n\n  const response = await fetch(url)\n\n  if (!response.ok) {\n    throw new Error(`${response.status}`)\n  }\n\n  const result = await response.text()\n  return extractContent(type, result)\n}\n\nfunction extractContent(name: SearchResultsType, html: string): ResultCount {\n  const el = document.createElement('html')\n  el.innerHTML = html\n  let text = (el.textContent || '0').toLowerCase()\n  let multiplier = 1\n  let isLowerBound = false\n\n  if (text.endsWith('+')) {\n    isLowerBound = true\n    text = text.slice(0, -1)\n  }\n\n  if (text.endsWith('k')) {\n    multiplier = 1000\n    text = text.slice(0, -1)\n  } else if (text?.endsWith('m')) {\n    multiplier = 1000000\n    text = text.slice(0, -1)\n  } else if (text?.endsWith('b')) {\n    multiplier = 1000000000\n    text = text.slice(0, -1)\n  }\n\n  return {\n    mode: isLowerBound ? CountMode.LowerBound : CountMode.Exact,\n    total: Number(text) * multiplier,\n    final: true,\n    error: false,\n  }\n}\n","import type React from 'react'\nimport {Box, Dialog, Octicon} from '@primer/react'\nimport {LinkExternalIcon} from '@primer/octicons-react'\n\nexport default function PrefixesDialog({\n  isOpen,\n  returnFocusRef,\n  rootHelpUrl,\n  onDismiss,\n}: {\n  isOpen: boolean\n  returnFocusRef: React.RefObject<HTMLElement>\n  rootHelpUrl: string\n  onDismiss: () => void\n}) {\n  return (\n    <Dialog\n      sx={{width: '640px', maxHeight: '80vh', overflowY: 'auto'}}\n      returnFocusRef={returnFocusRef}\n      isOpen={isOpen}\n      onDismiss={onDismiss}\n      aria-labelledby=\"header-id\"\n      data-testid=\"prefixes-dialog\"\n    >\n      <Dialog.Header id=\"header-id\">Search cheat sheet</Dialog.Header>\n      <Box sx={{p: 16, textAlign: 'start', maxHeight: '70vh'}} className=\"overflow-auto markdown-body\">\n        <p>\n          GitHubs search supports a variety of different operations. Heres a quick cheat sheet for some of the common\n          searches.\n        </p>\n        <p>\n          For more information, visit our{' '}\n          <a className=\"Link--inTextBlock\" href={`${rootHelpUrl}/articles/about-searching-on-github`}>\n            search help section\n          </a>\n          .\n        </p>\n\n        <h2>Basic search</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>This search</th>\n              <th>Finds repositories with</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>cat stars:&gt;100</td>\n              <td>Find cat repositories with greater than 100 stars.</td>\n            </tr>\n            <tr>\n              <td>user:defunkt</td>\n              <td>Get all repositories from the user defunkt.</td>\n            </tr>\n            <tr>\n              <td>tom location:&quot;San Francisco, CA&quot;</td>\n              <td>Find all tom users in &quot;San Francisco, CA&quot;.</td>\n            </tr>\n            <tr>\n              <td>join extension:coffee</td>\n              <td>Find all instances of join in code with coffee extension.</td>\n            </tr>\n            <tr>\n              <td>NOT cat</td>\n              <td>Excludes all results containing cat.</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <hr />\n\n        <h2>\n          Repository search\n          <a href={`${rootHelpUrl}/articles/searching-repositories`}>\n            <Octicon\n              icon={LinkExternalIcon}\n              aria-label=\"Help\"\n              sx={{\n                ml: 1,\n              }}\n            />\n          </a>\n        </h2>\n        <p>\n          Repository search looks through the projects you have access to on GitHub. You can also filter the results:\n        </p>\n        <table>\n          <thead>\n            <tr>\n              <th>This search</th>\n              <th>Finds repositories with</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>cat stars:&gt;100</td>\n              <td>Find cat repositories with greater than 100 stars.</td>\n            </tr>\n            <tr>\n              <td>user:defunkt</td>\n              <td>Get all repositories from the user defunkt.</td>\n            </tr>\n            <tr>\n              <td>pugs pushed:&gt;2013-01-28</td>\n              <td>Pugs repositories pushed to since Jan 28, 2013.</td>\n            </tr>\n            <tr>\n              <td>node.js forks:&lt;200</td>\n              <td>Find all node.js repositories with less than 200 forks.</td>\n            </tr>\n            <tr>\n              <td>jquery size:1024..4089</td>\n              <td>Find jquery repositories between the sizes 1024 and 4089 kB.</td>\n            </tr>\n            <tr>\n              <td>gitx fork:true</td>\n              <td>Repository search includes forks of gitx.</td>\n            </tr>\n            <tr>\n              <td>gitx fork:only</td>\n              <td>Repository search returns only forks of gitx.</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <hr />\n\n        <h2>\n          Code search\n          <a href={`${rootHelpUrl}/articles/searching-code`}>\n            <Octicon\n              icon={LinkExternalIcon}\n              aria-label=\"Help\"\n              sx={{\n                ml: 1,\n              }}\n            />\n          </a>\n        </h2>\n        <p>Code search looks through the files hosted on GitHub. You can also filter the results:</p>\n        <table>\n          <thead>\n            <tr>\n              <th>This search</th>\n              <th>Finds repositories with</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>install repo:charles/privaterepo</td>\n              <td>Find all instances of install in code from the repository charles/privaterepo.</td>\n            </tr>\n            <tr>\n              <td>shogun user:heroku</td>\n              <td>Find references to shogun from all public heroku repositories.</td>\n            </tr>\n            <tr>\n              <td>join extension:coffee</td>\n              <td>Find all instances of join in code with coffee extension.</td>\n            </tr>\n            <tr>\n              <td>system size:&gt;1000</td>\n              <td>Find all instances of system in code of file size greater than 1000kbs.</td>\n            </tr>\n            <tr>\n              <td>examples path:/docs/</td>\n              <td>Find all examples in the path /docs/.</td>\n            </tr>\n            <tr>\n              <td>replace fork:true</td>\n              <td>Search replace in the source code of forks.</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <hr />\n\n        <h2>\n          Issue search\n          <a href={`${rootHelpUrl}/articles/searching-issues`}>\n            <Octicon\n              icon={LinkExternalIcon}\n              aria-label=\"Help\"\n              sx={{\n                ml: 1,\n              }}\n            />\n          </a>\n        </h2>\n        <p>Issue search looks through issues and pull requests on GitHub. You can also filter the results:</p>\n        <table>\n          <thead>\n            <tr>\n              <th>This search</th>\n              <th>Finds issues</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>encoding user:heroku</td>\n              <td>Encoding issues across the Heroku organization.</td>\n            </tr>\n            <tr>\n              <td>cat is:open</td>\n              <td>Find cat issues that are open.</td>\n            </tr>\n            <tr>\n              <td>strange comments:&gt;42</td>\n              <td>Issues with more than 42 comments.</td>\n            </tr>\n            <tr>\n              <td>hard label:bug</td>\n              <td>Hard issues labeled as a bug.</td>\n            </tr>\n            <tr>\n              <td>author:mojombo</td>\n              <td>All issues authored by mojombo.</td>\n            </tr>\n            <tr>\n              <td>mentions:tpope</td>\n              <td>All issues mentioning tpope.</td>\n            </tr>\n            <tr>\n              <td>assignee:rtomayko</td>\n              <td>All issues assigned to rtomayko.</td>\n            </tr>\n            <tr>\n              <td>exception created:&gt;2012-12-31</td>\n              <td>Created since the beginning of 2013.</td>\n            </tr>\n            <tr>\n              <td>exception updated:&lt;2013-01-01</td>\n              <td>Last updated before 2013.</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <hr />\n\n        <h2>\n          User search\n          <a href={`${rootHelpUrl}/articles/searching-users`}>\n            <Octicon\n              icon={LinkExternalIcon}\n              aria-label=\"Help\"\n              sx={{\n                ml: 1,\n              }}\n            />\n          </a>\n        </h2>\n        <p>User search finds users with an account on GitHub. You can also filter the results:</p>\n        <table>\n          <thead>\n            <tr>\n              <th>This search</th>\n              <th>Finds repositories with</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>fullname:&quot;Linus Torvalds&quot;</td>\n              <td>Find users with the full name &quot;Linus Torvalds&quot;.</td>\n            </tr>\n            <tr>\n              <td>tom location:&quot;San Francisco, CA&quot;</td>\n              <td>Find all tom users in &quot;San Francisco, CA&quot;.</td>\n            </tr>\n            <tr>\n              <td>chris followers:100..200</td>\n              <td>Find all chris users with followers between 100 and 200.</td>\n            </tr>\n            <tr>\n              <td>ryan repos:&gt;10</td>\n              <td>Find all ryan users with more than 10 repositories.</td>\n            </tr>\n          </tbody>\n        </table>\n      </Box>\n    </Dialog>\n  )\n}\n\ntry{ PrefixesDialog.displayName ||= 'PrefixesDialog' } catch {}","import {BellIcon, SearchIcon, XCircleFillIcon, LogoGithubIcon, MarkGithubIcon} from '@primer/octicons-react'\nimport {Box, Octicon, Text, TextInput, Link} from '@primer/react'\nimport useColorModes from '@github-ui/react-core/use-color-modes'\nimport React, {type FormEvent, type KeyboardEventHandler, useState, useEffect, useMemo} from 'react'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {showPreferences} from '@github-ui/cookie-consent'\nimport PrefixesDialog from '../components/PrefixesDialog'\nimport {useNavigateToQuery} from '../hooks/use-navigate-to-query'\nimport type {HomePayload} from '../types/blackbird-types'\n\nexport default function Home() {\n  const [value, setValue] = useState('')\n  const payload = useRoutePayload<HomePayload | null>()\n  const returnFocusRef = React.useRef(null)\n  const [dialogIsOpen, setDialogIsOpen] = useState(false)\n  const navigateToQuery = useNavigateToQuery()\n\n  useHideHeader()\n\n  const handleKeyPress: KeyboardEventHandler = e => {\n    // TODO: somehow exempt react apps from this?\n    // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic -- manual shortcut logic is idiomatic in React\n    if (value && e.key === 'Enter') {\n      navigateToQuery(value)\n    }\n  }\n\n  const colorMode = useColorModes()\n\n  const lightIllustrationPath = '/images/modules/search/home-desktop-light.png'\n  const lightIllustrationPath2x = '/images/modules/search/home-desktop-light2x.png'\n  const lightIllustrationPathWebP = '/images/modules/search/home-desktop-light.webp'\n  const lightIllustrationPathWebP2x = '/images/modules/search/home-desktop-light2x.webp'\n\n  const darkIllustrationPath = '/images/modules/search/home-desktop-dark.png'\n  const darkIllustrationPath2x = '/images/modules/search/home-desktop-dark2x.png'\n  const darkIllustrationPathWebP = '/images/modules/search/home-desktop-dark.webp'\n  const darkIllustrationPathWebP2x = '/images/modules/search/home-desktop-dark2x.webp'\n\n  const lightIllustrationPathMobile = '/images/modules/search/home-mobile-light.png'\n  const lightIllustrationPathMobile2x = '/images/modules/search/home-mobile-light2x.png'\n  const lightIllustrationPathMobileWebP = '/images/modules/search/home-mobile-light.webp'\n  const lightIllustrationPathMobileWebP2x = '/images/modules/search/home-mobile-light2x.webp'\n\n  const darkIllustrationPathMobile = '/images/modules/search/home-mobile-dark.png'\n  const darkIllustrationPathMobile2x = '/images/modules/search/home-mobile-dark2x.png'\n  const darkIllustrationPathMobileWebP = '/images/modules/search/home-mobile-dark.webp'\n  const darkIllustrationPathMobileWebP2x = '/images/modules/search/home-mobile-dark2x.webp'\n\n  const colorModeAwareMona = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPath\n      case 'day':\n      default:\n        return lightIllustrationPath\n    }\n  }, [colorMode])\n\n  const colorModeAwareMonaMobile = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPathMobile\n      case 'day':\n      default:\n        return lightIllustrationPathMobile\n    }\n  }, [colorMode])\n\n  const colorModeAwareMonaWebP = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPathWebP\n      case 'day':\n      default:\n        return lightIllustrationPathWebP\n    }\n  }, [colorMode])\n\n  const colorModeAwareMonaMobileWebP = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPathMobileWebP\n      case 'day':\n      default:\n        return lightIllustrationPathMobileWebP\n    }\n  }, [colorMode])\n\n  const colorModeAwareMona2x = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPath2x\n      case 'day':\n      default:\n        return lightIllustrationPath2x\n    }\n  }, [colorMode])\n\n  const colorModeAwareMonaMobile2x = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPathMobile2x\n      case 'day':\n      default:\n        return lightIllustrationPathMobile2x\n    }\n  }, [colorMode])\n\n  const colorModeAwareMonaWebP2x = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPathWebP2x\n      case 'day':\n      default:\n        return lightIllustrationPathWebP2x\n    }\n  }, [colorMode])\n\n  const colorModeAwareMonaWebMobileP2x = useMemo(() => {\n    switch (colorMode.colorMode) {\n      case 'night':\n        return darkIllustrationPathMobileWebP2x\n      case 'day':\n      default:\n        return lightIllustrationPathMobileWebP2x\n    }\n  }, [colorMode])\n\n  return (\n    <Box\n      data-hpc\n      sx={{\n        minHeight: '100vh',\n        minWidth: 320,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Box\n        sx={{\n          width: '100%',\n          flex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flexDirection: 'row',\n          px: 3,\n          py: 10,\n        }}\n      >\n        <Box sx={{width: '100%', display: 'flex', alignItems: 'center', flexDirection: 'column'}}>\n          <Box sx={{mb: [3, 3, 4]}}>\n            <Box sx={{display: ['none', 'none', 'block']}}>\n              <LogoGithubIcon size={50} />\n            </Box>\n            <Box sx={{display: ['block', 'block', 'none']}}>\n              <LogoGithubIcon size={30} />\n            </Box>\n          </Box>\n          <Box sx={{px: 2, width: '100%', maxWidth: 600, textAlign: 'center'}}>\n            <TextInput\n              aria-label=\"Search GitHub\"\n              sx={{\n                width: '100%',\n                height: 42,\n              }}\n              onKeyPress={handleKeyPress}\n              autoFocus\n              leadingVisual={() => (\n                <Box sx={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n                  <Octicon\n                    icon={SearchIcon}\n                    sx={{\n                      width: [16, 20],\n                      height: [16, 20],\n                      color: 'fg.muted',\n                    }}\n                  />\n                </Box>\n              )}\n              trailingVisual={() => (\n                <Box sx={{display: 'flex', alignItems: 'center'}}>\n                  {value && (\n                    <Box\n                      onClick={() => setValue('')}\n                      sx={{\n                        display: 'flex',\n                      }}\n                    >\n                      <Octicon\n                        icon={XCircleFillIcon}\n                        sx={{\n                          color: 'fg.muted',\n                          cursor: 'pointer',\n                          width: [16, 16],\n                          height: [16, 16],\n\n                          '&:hover': {\n                            color: 'fg.default',\n                          },\n                        }}\n                      />\n                    </Box>\n                  )}\n                </Box>\n              )}\n              placeholder=\"Search GitHub\"\n              value={value}\n              onChange={(e: FormEvent<HTMLInputElement>) => setValue(e.currentTarget.value)}\n            />\n          </Box>\n\n          <Box sx={{textAlign: 'center', mt: [3, 3, 4]}}>\n            <Box sx={{mr: [1, 2], display: 'inline-block'}}>\n              <Octicon\n                icon={BellIcon}\n                sx={{\n                  color: 'attention.fg',\n                  mr: 1,\n                  width: [14, 16],\n                  height: [14, 16],\n                }}\n              />\n              <Text sx={{color: 'attention.fg', fontSize: [0, 1]}}>Tip</Text>\n            </Box>\n            <Text sx={{color: 'fg.muted', fontSize: [0, 1]}}>\n              For an{' '}\n              <Link inline href=\"/search/advanced\">\n                advanced search\n              </Link>\n              , use our{' '}\n              <Link\n                as=\"button\"\n                inline\n                ref={returnFocusRef}\n                onClick={() => {\n                  setDialogIsOpen(true)\n                }}\n              >\n                prefixes\n              </Link>\n            </Text>\n            <PrefixesDialog\n              isOpen={dialogIsOpen}\n              returnFocusRef={returnFocusRef}\n              rootHelpUrl={payload?.helpUrl as string}\n              onDismiss={() => setDialogIsOpen(false)}\n            />\n          </Box>\n          <Box sx={{mt: [6, 8, 8], display: 'flex', justifyContent: 'center'}}>\n            <Box sx={{display: ['block', 'block', 'block', 'none', 'none'], maxWidth: [351]}}>\n              <picture>\n                <source\n                  srcSet={`${colorModeAwareMonaMobileWebP} 1x, ${colorModeAwareMonaWebMobileP2x} 2x`}\n                  type=\"image/webp\"\n                />\n                <img\n                  src={colorModeAwareMonaMobile}\n                  srcSet={`${colorModeAwareMonaMobile} 1x, ${colorModeAwareMonaMobile2x} 2x`}\n                  alt=\"Illustration of Mona looking through binoculars at the a building a supernatural landscape\"\n                  width=\"100%\"\n                />\n              </picture>\n            </Box>\n            <Box sx={{display: ['none', 'none', 'none', 'block', 'block'], maxWidth: [500, 600, 700, 800, 800]}}>\n              <picture>\n                <source srcSet={`${colorModeAwareMonaWebP} 1x, ${colorModeAwareMonaWebP2x} 2x`} type=\"image/webp\" />\n                <img\n                  src={colorModeAwareMona}\n                  srcSet={`${colorModeAwareMona} 1x, ${colorModeAwareMona2x} 2x`}\n                  alt=\"Illustration of Mona looking through binoculars at the a building a supernatural landscape\"\n                  width=\"100%\"\n                />\n              </picture>\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n\n      <Footer helpUrl={payload?.helpUrl as string} cookieConsentEnabled={payload?.cookie_consent_enabled} />\n    </Box>\n  )\n}\n\nfunction Footer({helpUrl, cookieConsentEnabled}: {helpUrl: string; cookieConsentEnabled: boolean | undefined}) {\n  const currentYear = new Date().getFullYear()\n\n  return (\n    <>\n      <Box\n        as=\"footer\"\n        sx={{\n          display: 'flex',\n          justifyContent: ['center'],\n          alignItems: 'center',\n          flexWrap: 'wrap',\n          flexDirection: ['row'],\n          width: '100%',\n          px: [5, 5, 5],\n          py: 5,\n          fontSize: 0,\n          color: 'fg.muted',\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            flexDirection: ['row'],\n            marginX: '2',\n          }}\n        >\n          <Link aria-label=\"GitHub\" href=\"/\" muted sx={{marginRight: '2'}}>\n            <Octicon\n              icon={MarkGithubIcon}\n              sx={{\n                width: 24,\n                height: 24,\n                color: 'fg.muted',\n              }}\n            />\n          </Link>\n\n          <span>GitHub, Inc.  {currentYear}</span>\n        </Box>\n\n        <Link href=\"https://docs.github.com/github/site-policy/github-terms-of-service\" muted sx={{marginX: '2'}}>\n          Terms\n        </Link>\n\n        <Link\n          href=\"https://docs.github.com/site-policy/privacy-policies/github-privacy-statement\"\n          muted\n          sx={{marginX: '2'}}\n        >\n          Privacy\n        </Link>\n\n        <Link href=\"/security\" muted sx={{marginX: '2'}}>\n          Security\n        </Link>\n\n        <Link href=\"https://www.githubstatus.com\" muted sx={{marginX: '2'}}>\n          Status\n        </Link>\n\n        <Link href={helpUrl} muted sx={{marginX: '2'}}>\n          Docs\n        </Link>\n\n        <Link href=\"https://support.github.com/?tags=dotcom-footer\" muted sx={{marginX: '2'}}>\n          Contact\n        </Link>\n\n        {cookieConsentEnabled ? (\n          <>\n            <Link as=\"button\" onClick={() => showPreferences()} muted sx={{marginX: '2'}}>\n              Manage Cookies\n            </Link>\n\n            <Link as=\"button\" onClick={() => showPreferences()} muted sx={{marginX: '2'}}>\n              Do not share my personal information\n            </Link>\n          </>\n        ) : null}\n      </Box>\n    </>\n  )\n}\n\nfunction useHideHeader() {\n  useEffect(() => {\n    const headerDiv: HTMLElement | null =\n      document.querySelector('.AppHeader') || document.querySelector('.Header') || document.querySelector('.HeaderMktg')\n    if (!headerDiv) {\n      return\n    }\n    headerDiv.hidden = true\n    return () => {\n      headerDiv.hidden = false\n    }\n  }, [])\n}\n\ntry{ Home.displayName ||= 'Home' } catch {}\ntry{ Footer.displayName ||= 'Footer' } catch {}","import type {PropsWithChildren} from 'react'\nimport {Link, type LinkProps} from '@primer/react'\nimport type {PathFunction, PathParams, Query} from '@github-ui/paths'\nimport {useSoftNavigateTo} from '../hooks/use-soft-navigate-to'\n\ntype ParameterlessSoftLinkProps<T extends PathParams> = Pick<LinkProps, 'sx' | 'onClick'> & {\n  path: PathFunction<T>\n  query?: Query\n}\n\ntype SoftLinkProps<T extends PathParams> = PropsWithChildren<\n  T extends undefined ? ParameterlessSoftLinkProps<undefined> : ParameterlessSoftLinkProps<T> & T\n>\n\n/**\n * A link that performs a soft navigation to the given path when clicked\n */\nexport function SoftLink<T extends PathParams>({children, path, query, sx, onClick, ...args}: SoftLinkProps<T>) {\n  // These type assertions are correct; tsc is choking on separating and recombining the\n  // two possible cases for PathFunction, which breaks its inference for the `args` object.\n  const [href, navigateToPath] = useSoftNavigateTo(path as PathFunction<T>, args as unknown as T, query)\n\n  return (\n    <Link\n      href={href}\n      onClick={e => {\n        onClick?.(e)\n        navigateToPath(e)\n      }}\n      sx={sx}\n    >\n      {children}\n    </Link>\n  )\n}\n\ntry{ SoftLink.displayName ||= 'SoftLink' } catch {}","import {searchPath} from '@github-ui/paths'\nimport {useLocation} from 'react-router-dom'\nimport {SoftLink} from './SoftLink'\nimport {Flash} from '@primer/react'\nimport {\n  chooseSearchType,\n  extractUnsupportedQualifiers,\n  mapSearchTypeToURLParam,\n  mapURLParamToSearchType,\n  parseString,\n  SearchType,\n  searchTypeAsPlural,\n  type SearchTypeURLParameter,\n} from '../../../../../app/components/search/parsing/parsing'\nexport interface SearchTypeErrorMessage {\n  message: string\n  suggestion: string\n  suggestedSearchType: SearchTypeURLParameter\n}\n\nexport function getSearchTypeError(\n  currentType: SearchTypeURLParameter,\n  query: string,\n  loggedIn: boolean,\n): SearchTypeErrorMessage | null {\n  if (!query) {\n    return null\n  }\n\n  const ast = parseString(query)\n  const searchType = mapURLParamToSearchType(currentType)\n  const unsupportedQualifiers = extractUnsupportedQualifiers(ast, searchType)\n\n  // Don't show warnings when search type is unknown. Instead, resolve to a\n  // specific search type based on the query, and redirect.\n  if (searchType === SearchType.Unknown) {\n    return null\n  }\n\n  if (unsupportedQualifiers.length === 0) {\n    return null\n  }\n\n  const preferredType = chooseSearchType(ast, loggedIn)\n  let suggestion = `Try searching for ${searchTypeAsPlural(preferredType)} instead?`\n  if (preferredType === SearchType.Marketplace) {\n    suggestion = 'Try searching in the marketplace instead?'\n  } else if (preferredType === SearchType.Unknown) {\n    suggestion = ''\n  }\n\n  let message = `Some qualifiers in your query (${unsupportedQualifiers\n    .slice(0, 3)\n    .map(q => q.toLowerCase())\n    .join(', ')}) are not supported when searching ${searchTypeAsPlural(searchType)}.`\n  if (unsupportedQualifiers.length === 1) {\n    message = `The ${unsupportedQualifiers[0]!.toLowerCase()} qualifier is not supported when searching ${searchTypeAsPlural(\n      searchType,\n    )}.`\n  }\n\n  return {\n    message,\n    suggestion,\n    suggestedSearchType: mapSearchTypeToURLParam(preferredType),\n  }\n}\n\nexport default function SearchTypeError({message, suggestion, suggestedSearchType}: SearchTypeErrorMessage) {\n  const location = useLocation()\n  const urlSearchParams = new URLSearchParams(location.search)\n  const query = urlSearchParams.get('q')\n\n  if (!query) return null\n\n  return (\n    <Flash\n      variant=\"warning\"\n      sx={{\n        borderRadius: 2,\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: 'warning.muted',\n      }}\n    >\n      <span>{message}</span>\n      {suggestion ? (\n        <span>\n          {' '}\n          <SoftLink path={searchPath} query={{query, type: suggestedSearchType}}>\n            <span>{suggestion}</span>\n          </SoftLink>\n        </span>\n      ) : null}\n    </Flash>\n  )\n}\n\ntry{ SearchTypeError.displayName ||= 'SearchTypeError' } catch {}","import {Box, SplitPageLayout, Pagination, Link} from '@primer/react'\n\nimport {\n  Code,\n  Commits,\n  Discussions,\n  LegacyCode,\n  Issues,\n  Topics,\n  MarketplaceListings,\n  Packages,\n  PullRequests,\n  Repositories,\n  Users,\n  Wikis,\n} from '../components/results'\n\nimport {\n  BookIcon,\n  CodeIcon,\n  CommentDiscussionIcon,\n  GitCommitIcon,\n  IssueOpenedIcon,\n  MilestoneIcon,\n  PeopleIcon,\n  GitPullRequestIcon,\n  PackageIcon,\n  RepoIcon,\n  TelescopeIcon,\n} from '@primer/octicons-react'\n\nimport type React from 'react'\nimport {useCallback, useState, useEffect, useMemo} from 'react'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport HoverCard from '../../react-shared/HoverCard'\nimport {useLocation} from 'react-router-dom'\nimport {getUrl, searchPath} from '@github-ui/paths'\nimport {FacetsPane} from '../components/FacetsPane'\nimport NoResults from '../components/NoResults'\nimport SearchError from '../components/SearchError'\nimport {SearchSubHeader} from '../components/SearchSubHeader'\nimport CodeItemsSkeleton from '../components/skeletons/CodeItemsSkeleton'\nimport PrimarySuggestions from '../components/suggestions/PrimarySuggestions'\nimport SecondarySuggestions from '../components/suggestions/SecondarySuggestions'\nimport {useSearchResultCounts, type SearchKind} from '../hooks/use-search-result-counts'\nimport {useSoftNavigate} from '../hooks/use-soft-navigate'\nimport type {SearchResults, HomePayload, SearchResponse, SearchResultsType} from '../types/blackbird-types'\nimport {assertNever} from '../utilities/assert-never'\nimport {SingleSignOnBanner} from '@github-ui/single-sign-on-banner'\n\nimport Home from './Home'\nimport {\n  chooseSearchType,\n  mapSearchTypeToURLParam,\n  parseString,\n  SearchType,\n  type SearchTypeURLParameter,\n} from '../../../../components/search/parsing/parsing'\nimport {extractRepoOrgScopes, restrictToScopedOrgs} from '../../../../components/search/parsing/common'\nimport SearchTypeError, {getSearchTypeError, type SearchTypeErrorMessage} from '../components/SearchTypeError'\nimport {useSearchAnalytics} from '../hooks/use-search-analytics'\nimport LoggedInContext from '../contexts/LoggedInContext'\nimport {Banner} from '@primer/react/experimental'\n\nexport default function Search() {\n  const payload = useRoutePayload<SearchResults | HomePayload | null>()\n  const [searchTypeError, setSearchTypeError] = useState<SearchTypeErrorMessage | null>(null)\n  const location = useLocation()\n  const navigateToPage = useSoftNavigate(searchPath)\n  const search = useMemo(() => new URLSearchParams(location.search), [location.search])\n  const searchType = search.get('type')\n  const searchQuery = search.get('q')\n  const scopes = search.get('saved_searches')\n  const {sendSearchNextPageNavigation, sendSearchBackNavigation} = useSearchAnalytics()\n\n  const loggedInContextValue = !!(payload && payload.logged_in)\n\n  // Determine whether the user reached the page via back button\n  useEffect(() => {\n    const entries = window?.performance?.getEntries && window.performance.getEntries()\n    if (entries && entries.length > 0 && (entries[0] as PerformanceNavigationTiming).type === 'back_forward') {\n      if (payload?.type === 'code') {\n        sendSearchBackNavigation(payload?.query_id)\n      }\n    }\n  }, [sendSearchBackNavigation, payload])\n\n  const isLoading = !payload\n  const repoSearch = useMemo(() => {\n    const astNode = parseString(searchQuery || '')\n    if (payload?.type === 'home') {\n      return false\n    }\n\n    // Only return true if we are scoped to exactly one repository\n    const repoScopes = extractRepoOrgScopes(astNode)\n    if (repoScopes.length === 1 && repoScopes[0]?.kind === 'repo') {\n      return true\n    }\n\n    return false\n  }, [searchQuery, payload?.type])\n\n  const protectedOrgs = useMemo(() => {\n    if (\n      !payload ||\n      payload.type === 'home' ||\n      !payload.protected_org_logins ||\n      payload.protected_org_logins.length === 0\n    ) {\n      return []\n    }\n    const astNode = parseString(searchQuery || '')\n    return restrictToScopedOrgs(astNode, payload?.protected_org_logins)\n  }, [payload, searchQuery])\n\n  const searchKinds = useMemo(\n    () =>\n      [\n        {\n          name: 'code',\n          readableName: 'code',\n          readableNamePlural: 'code',\n          icon: CodeIcon,\n        } as const,\n        repoSearch\n          ? null\n          : ({\n              name: 'repositories',\n              readableName: 'repository',\n              readableNamePlural: 'repositories',\n              icon: RepoIcon,\n            } as const),\n        {\n          name: 'issues',\n          readableName: 'issue',\n          readableNamePlural: 'issues',\n          icon: IssueOpenedIcon,\n        } as const,\n        {\n          name: 'pullrequests',\n          readableName: 'pull request',\n          readableNamePlural: 'pull requests',\n          icon: GitPullRequestIcon,\n        } as const,\n        {\n          name: 'discussions',\n          readableName: 'discussion',\n          readableNamePlural: 'discussions',\n          icon: CommentDiscussionIcon,\n        } as const,\n        repoSearch\n          ? null\n          : ({name: 'users', readableName: 'user', readableNamePlural: 'users', icon: PeopleIcon} as const),\n        {name: 'commits', readableName: 'commit', readableNamePlural: 'commits', icon: GitCommitIcon} as const,\n        {\n          name: 'registrypackages',\n          readableName: 'package',\n          readableNamePlural: 'packages',\n          icon: PackageIcon,\n        } as const,\n        {name: 'wikis', readableName: 'wiki', readableNamePlural: 'wikis', icon: BookIcon} as const,\n        repoSearch\n          ? null\n          : ({name: 'topics', readableName: 'topic', readableNamePlural: 'topics', icon: MilestoneIcon} as const),\n        repoSearch\n          ? null\n          : ({\n              name: 'marketplace',\n              readableName: 'marketplace',\n              readableNamePlural: 'marketplace',\n              icon: TelescopeIcon,\n            } as const),\n      ].filter((x: SearchKind | null): x is SearchKind => x !== null) as SearchKind[],\n    [repoSearch],\n  )\n  const resultKind = searchKinds.find(kind => kind.name === searchType) || searchKinds[0]!\n\n  const [isLoadingCounters, counts] = useSearchResultCounts({\n    searchType: searchType as SearchResultsType,\n    kinds: searchKinds,\n    query: searchQuery,\n    scopes,\n    payload: payload as SearchResponse,\n  })\n\n  useEffect(() => {\n    if (!searchType && searchQuery && payload?.type !== 'home') {\n      // No search type is specified in the URL - that probably means somebody URL hacked\n      // their way here. Choose a search type based on the query and redirect to there.\n      let query = search.get('q')\n      const ast = parseString(query || '')\n      const preferredType = chooseSearchType(ast, !!payload?.logged_in)\n\n      // Since they're URL hacking, they may have specified language using `&l=...`. In that case\n      // rewrite it into the query itself. The `&l` parameter only has an effect in non-code search.\n      if (preferredType === 'code') {\n        let lang = search.get('l')\n        if (lang) {\n          if (lang.includes(' ')) lang = `\"${lang}\"`\n          query = `${query} lang:${lang}`\n        }\n      }\n\n      // We tried, and still don't know the preferred type. Default to code search and don't redirect or else\n      // we will get caught in a loop.\n      if (preferredType !== SearchType.Unknown) {\n        navigateToPage(\n          undefined,\n          {q: query, type: mapSearchTypeToURLParam(preferredType), l: undefined, p: undefined},\n          {replace: true},\n        )\n      }\n      return\n    }\n\n    setSearchTypeError(\n      getSearchTypeError(searchType as SearchTypeURLParameter, searchQuery as string, !!payload?.logged_in),\n    )\n  }, [payload, search, searchType, searchQuery, navigateToPage])\n\n  const onPageChange = useCallback(\n    (e: React.MouseEvent<Element, MouseEvent>, p: number) => {\n      window.scrollTo(0, 0)\n      navigateToPage(undefined, {p})\n      if (payload?.type === 'code') {\n        sendSearchNextPageNavigation(payload.query_id, p)\n      }\n      e.preventDefault()\n    },\n    [navigateToPage, sendSearchNextPageNavigation, payload],\n  )\n\n  if (payload?.type === 'home') {\n    return <Home />\n  }\n\n  const isLoggedOutCodeResults = !payload?.logged_in && payload?.type === 'code'\n  const type = payload?.type\n  const isCode = type === 'code'\n  const showPagination =\n    payload && payload.page_count > 1 && !!payload.page && payload.page_count > 1 && !isLoggedOutCodeResults\n  const hasErrors = (payload && payload.errors?.length > 0) || searchTypeError !== null\n\n  return (\n    <LoggedInContext.Provider value={loggedInContextValue}>\n      <Box\n        sx={{bg: 'canvas.default', height: hasErrors ? 'auto' : '100%', display: 'flex', flexDirection: 'column'}}\n        className=\"search-results-page\"\n      >\n        <style>{searchMatchCss}</style>\n        <h1 className=\"sr-only\">\n          {payload ? `${payload.type} ` : ''} Search Results {searchQuery && ` ${searchQuery}`}\n        </h1>\n        <SplitPageLayout\n          sx={{\n            padding: 0,\n            minHeight: '100%',\n            '> div': {\n              minHeight: '100%',\n            },\n          }}\n        >\n          <FacetsPane\n            isLoading={isLoading}\n            isLoadingCounters={isLoadingCounters}\n            searchKinds={counts}\n            resultCount={payload && payload.result_count}\n            selectedType={type || guessTypeFromSearch()}\n            facets={payload && payload.facets}\n            searchType={payload && payload.type}\n          />\n          <SplitPageLayout.Content as=\"div\" sx={{minWidth: 0}} padding=\"none\" width=\"full\">\n            <TwoColumnLayout\n              fullWidth={isCode || !payload || isEmpty(payload)}\n              fullHeight={isLoggedOutCodeResults}\n              primarySuggestion={payload && <PrimarySuggestions payload={payload} />}\n              secondarySuggestion={payload && <SecondarySuggestions payload={payload} />}\n              header={\n                payload && (\n                  <SearchSubHeader\n                    payload={payload}\n                    isLoading={isLoading}\n                    isLoadingCounters={isLoadingCounters}\n                    searchKinds={counts}\n                    selectedType={type || guessTypeFromSearch()}\n                  />\n                )\n              }\n              notices={[\n                payload && (\n                  <SingleSignOnBanner\n                    key=\"single-sign-on\"\n                    protectedOrgs={protectedOrgs}\n                    redirectURI={loc =>\n                      `/search/refresh_blackbird_caches?return_to=${encodeURIComponent(\n                        `/search${loc.search + loc.hash}`,\n                      )}`\n                    }\n                  />\n                ),\n                payload && <Errors key=\"errors\" errorType={searchTypeError} payload={payload} />,\n                payload?.warn_limited_results && (\n                  <Banner key=\"warn_limited_results\" variant=\"warning\" hideTitle title=\"Advanced search suggestion\">\n                    <Banner.Description>\n                      Not finding the results your looking for? Try adding the <code>org:</code>, <code>repo:</code>, or{' '}\n                      <code>user:</code> parameters for a more precise set of search results. To see all the parameters\n                      check out our{' '}\n                      <Link inline href=\"/search/advanced\">\n                        advanced search tool\n                      </Link>\n                    </Banner.Description>\n                  </Banner>\n                ),\n              ]}\n              pagination={\n                showPagination && (\n                  <Box sx={{pb: [2, 2, 2, 0]}}>\n                    <Pagination\n                      pageCount={payload.page_count}\n                      currentPage={payload.page}\n                      onPageChange={onPageChange}\n                      hrefBuilder={p => getUrl(searchPath, undefined, {p}).href}\n                    />\n                  </Box>\n                )\n              }\n              columnLeft={\n                <>\n                  {!payload ? (\n                    <CodeItemsSkeleton />\n                  ) : isEmpty(payload) && !isLoggedOutCodeResults ? (\n                    <NoResults resultKind={resultKind} searchKinds={counts} isLoadingCounters={isLoadingCounters} />\n                  ) : (\n                    <Box\n                      data-hpc\n                      sx={{\n                        width: '100%',\n                        minWidth: 0,\n                        height: isLoggedOutCodeResults ? '100%' : undefined,\n                      }}\n                    >\n                      <SearchResultsComponent payload={payload} isRepoSearch={repoSearch} />\n                    </Box>\n                  )}\n                </>\n              }\n            />\n          </SplitPageLayout.Content>\n        </SplitPageLayout>\n        <HoverCard />\n      </Box>\n    </LoggedInContext.Provider>\n  )\n}\n\nfunction TwoColumnLayout({\n  columnLeft,\n  primarySuggestion,\n  secondarySuggestion,\n  header,\n  fullWidth,\n  fullHeight,\n  notices,\n  pagination,\n}: {\n  header: React.ReactNode\n  columnLeft: React.ReactNode\n  primarySuggestion?: React.ReactNode\n  secondarySuggestion?: React.ReactNode\n  notices: Array<React.ReactNode | null>\n  fullWidth: boolean\n  fullHeight?: boolean\n  pagination?: React.ReactNode\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        px: [3, 3, 4, 4],\n        py: 3,\n        alignItems: 'flex-start',\n        height: fullHeight ? '100%' : undefined,\n      }}\n    >\n      <Box\n        sx={{\n          maxWidth: '100%',\n          minWidth: 0,\n          height: fullHeight ? '100%' : undefined,\n          overflow: 'hidden',\n          flex: 2,\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        {header}\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            pt: 3,\n            gap: 3,\n            '&:empty': {\n              display: 'none',\n            },\n          }}\n        >\n          {notices}\n        </Box>\n        <Box\n          sx={{\n            display: ['inline-block', 'inline-block', 'inline-block', 'none'],\n            pt: 3,\n            '&:empty': {\n              display: 'none',\n            },\n          }}\n        >\n          {primarySuggestion}\n        </Box>\n        <Box sx={{pt: 3, height: fullHeight ? '100%' : undefined}}>{columnLeft}</Box>\n        <Box sx={{py: [3, 3, 4, 4]}}>{pagination}</Box>\n        {!fullWidth && (\n          <Box sx={{display: ['grid', 'grid', 'grid', 'none'], gap: 3, pt: [0, 0, 0, 3]}}>{secondarySuggestion}</Box>\n        )}\n      </Box>\n      {!fullWidth && (\n        <Box\n          sx={{\n            display: ['none', 'none', 'none', 'flex'],\n            flexDirection: 'column',\n            ml: [0, 0, 0, 4],\n            gap: 3,\n            width: '100%',\n            pt: [0, 0, 0, 20],\n            mt: [0, 0, 0, 4],\n            maxWidth: ['100%', '100%', '100%', '25%', '25%'],\n            minWidth: ['100%', '100%', '100%', 260, 340],\n            '&:empty': {\n              display: 'none',\n            },\n          }}\n        >\n          {primarySuggestion}\n          {secondarySuggestion}\n        </Box>\n      )}\n    </Box>\n  )\n}\n\nfunction Errors({errorType, payload}: {errorType: SearchTypeErrorMessage | null; payload: SearchResults}) {\n  if (errorType) {\n    return <SearchTypeError {...errorType} />\n  }\n\n  if (payload?.errors && payload.errors.length > 0) {\n    // Show at most two errors. More than that is overwhelming\n    return (\n      <>\n        {payload.errors.slice(0, 2).map((error, idx) => {\n          return <SearchError error={error} key={idx} index={idx} />\n        })}\n      </>\n    )\n  }\n  return null\n}\n\nfunction SearchResultsComponent({payload, isRepoSearch}: {payload: SearchResults; isRepoSearch: boolean}) {\n  switch (payload.type) {\n    case 'code':\n      return <Code isRepoSearch={isRepoSearch} results={payload} />\n    case 'codelegacy':\n      return <LegacyCode results={payload} />\n    case 'commits':\n      return <Commits results={payload} />\n    case 'discussions':\n      return <Discussions results={payload} />\n    case 'topics':\n      return <Topics results={payload} />\n    case 'registrypackages':\n      return <Packages results={payload} />\n    case 'repositories':\n      return <Repositories results={payload} />\n    case 'users':\n      return <Users results={payload} />\n    case 'wikis':\n      return <Wikis results={payload} />\n    case 'issues':\n      return <Issues results={payload} />\n    case 'pullrequests':\n      return <PullRequests results={payload} />\n    case 'marketplace':\n      return <MarketplaceListings results={payload} />\n    default:\n      assertNever(payload)\n  }\n}\n\nconst searchMatchCss = `\n  .search-results-page .search-match em {\n    font-style: normal;\n    font-weight: 600;\n  }\n\n  .search-results-page .search-title .search-match em {\n    font-style: normal;\n    font-weight: 700;\n  }\n`\n\nfunction isEmpty(payload: SearchResults) {\n  return payload.results?.length === 0\n}\n\nfunction guessTypeFromSearch() {\n  return new URL(document.location.href, window.location.origin).searchParams.get('type')?.toLowerCase()\n}\n\ntry{ Search.displayName ||= 'Search' } catch {}\ntry{ TwoColumnLayout.displayName ||= 'TwoColumnLayout' } catch {}\ntry{ Errors.displayName ||= 'Errors' } catch {}\ntry{ SearchResultsComponent.displayName ||= 'SearchResultsComponent' } catch {}","import NoResults from './NoResults'\n\nexport default NoResults\n","import {App} from './App'\nimport Search from './pages/Search'\nimport {registerReactAppFactory} from '@github-ui/react-core/register-app'\nimport {TransitionType} from '@github-ui/react-core/app-routing-types'\nimport {jsonRoute} from '@github-ui/react-core/json-route'\n\nregisterReactAppFactory('blackbird-search', () => ({\n  App,\n  routes: [\n    jsonRoute({path: '/search', Component: Search, transitionType: TransitionType.TRANSITION_WHILE_FETCHING}),\n    jsonRoute({\n      path: '/:user/:repo/search',\n      Component: Search,\n      transitionType: TransitionType.TRANSITION_WHILE_FETCHING,\n    }),\n  ],\n}))\n","function createNode(text: string): Element {\n  const node = document.createElement('pre')\n  node.style.width = '1px'\n  node.style.height = '1px'\n  node.style.position = 'fixed'\n  node.style.top = '5px'\n  node.textContent = text\n  return node\n}\n\nfunction copyNode(node: Element): Promise<void> {\n  if ('clipboard' in navigator) {\n    return navigator.clipboard.writeText(node.textContent || '')\n  }\n\n  const selection = getSelection()\n  if (selection == null) {\n    return Promise.reject(new Error())\n  }\n\n  selection.removeAllRanges()\n\n  const range = document.createRange()\n  range.selectNodeContents(node)\n  selection.addRange(range)\n\n  document.execCommand('copy')\n  selection.removeAllRanges()\n  return Promise.resolve()\n}\n\nexport function copyText(text: string): Promise<void> {\n  if ('clipboard' in navigator) {\n    return navigator.clipboard.writeText(text)\n  }\n\n  const body = document.body\n  if (!body) {\n    return Promise.reject(new Error())\n  }\n\n  const node = createNode(text)\n  body.appendChild(node)\n  copyNode(node)\n  body.removeChild(node)\n  return Promise.resolve()\n}\n","import safeStorage from '@github-ui/safe-storage'\n\nconst experimentsLocalStorageKey = 'blackbird_experiments'\nconst experimentsDebugScoringKey = 'blackbird_debug_scoring'\n\nexport function getBlackbirdExperiments(): string[] {\n  const experiments = safeStorage('localStorage').getItem(experimentsLocalStorageKey)\n  if (!experiments) return []\n\n  return experiments.split(',')\n}\n\nexport function setBlackbirdExperiments(experiments: string[]): void {\n  safeStorage('localStorage').setItem(experimentsLocalStorageKey, experiments.join(','))\n}\n\nexport function debugScoringInfoEnabled(): boolean {\n  const enabled = safeStorage('localStorage').getItem(experimentsDebugScoringKey)\n  return enabled !== null\n}\n\nexport function setDebugScoringInfoEnabled(enabled: boolean): void {\n  if (enabled) {\n    safeStorage('localStorage').setItem(experimentsDebugScoringKey, '1')\n  } else {\n    safeStorage('localStorage').removeItem(experimentsDebugScoringKey)\n  }\n}\n","// important to import type so we don't bring in all the code\nimport type {BaseNode, ContentNode, QualifierNode, NodeWithChildren} from '@github/blackbird-parser'\n\nexport const enum CaretPositionKind {\n  Is,\n  Repository,\n  Owner,\n  Language,\n  Path,\n  Regex,\n  Text,\n  Saved,\n  OtherQualifier,\n}\n\nexport function isQualifier(node: BaseNode): node is QualifierNode {\n  return !!(node as QualifierNode).qualifier\n}\n\nexport function isSavedQualifier(node: BaseNode): node is QualifierNode {\n  return !!isQualifier(node) && node.qualifier === 'Saved'\n}\n\nconst slashRegex = new RegExp('\\\\/', 'g')\n\nexport function shouldRedirectInsteadOfSearch(node: BaseNode, path: string): string | null {\n  // If the entire user's query is `repo:a/b`, it doesn't make sense to search\n  // within the repository with no actual query. They probably want to navigate to\n  // the repository itself, so let's just direct them there instead.\n  if (isQualifier(node) && isContentNode(node.content)) {\n    if (node.qualifier === 'Repo') {\n      // Only redirect if it looks like a repository, i.e. contains exactly one slash\n      if ([...node.content.value.toString().matchAll(slashRegex)].length !== 1) {\n        return null\n      }\n    } else if (node.qualifier === 'Org') {\n      // Only redirect if it looks like an organization, i.e. contains exactly zero slashes\n      if ([...node.content.value.toString().matchAll(slashRegex)].length !== 0) {\n        return null\n      }\n    } else {\n      // Don't do this redirect behaviour for any other qualifier type\n      return null\n    }\n\n    // Disallow redirects to repositories or organizations that begin with a /, since\n    // that would form an absolute URL!\n    if (node.content.value.toString().startsWith('/')) {\n      return null\n    }\n\n    const redirectURL = `/${node.content.value.toString().split('/').map(encodeURIComponent).join('/')}`\n\n    // If the redirect would take them to the path they're already on, then it's pointless, so\n    // just do a search instead.\n    if (redirectURL === path) {\n      return null\n    }\n\n    return redirectURL\n  }\n\n  return null\n}\n\n// this function is unfortunately duplicated from @github/blackbird-parser so that the code that\n// uses it doesn't import that whole huge module\nexport function isContentNode(node: BaseNode): node is ContentNode {\n  return (node as ContentNode).value !== undefined\n}\n\nexport function hasChildren(node: BaseNode): node is NodeWithChildren {\n  return !!(node as NodeWithChildren).children\n}\n\nexport function containsQualifier(node: BaseNode, qualifierKind: string): boolean {\n  if (isQualifier(node) && node.qualifier === qualifierKind) {\n    return true\n  }\n\n  if (hasChildren(node)) {\n    for (const child of node.children) {\n      if (containsQualifier(child, qualifierKind)) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\n// Extract all of the text nodes from the AST, ignoring qualifiers. For example,\n// the query `lang:typescript repo:github/atom asdf` would return `['asdf']`.\nexport function extractTextQuery(node: BaseNode): string {\n  if (hasChildren(node)) {\n    return node.children\n      .map(extractTextQuery)\n      .filter(x => x.length > 0)\n      .join(' ')\n  }\n\n  if (isQualifier(node) || node.kind === 'Regex') {\n    return ''\n  }\n\n  if (isContentNode(node)) {\n    return node.value.toString()\n  }\n\n  return ''\n}\n\ninterface RepoOrgScope {\n  kind: 'repo' | 'org' | 'saved'\n  value: string\n}\n\n// Extract all repo and orgs mentioned in the query\nexport function extractRepoOrgScopes(node: BaseNode): RepoOrgScope[] {\n  if (node.kind === 'Not') {\n    return []\n  }\n\n  if (hasChildren(node)) {\n    return node.children.map(extractRepoOrgScopes).flat()\n  }\n\n  if (isQualifier(node)) {\n    if (node.qualifier === 'Repo' && isContentNode(node.content)) {\n      return [{kind: 'repo', value: node.content.value.toString()}]\n    } else if (node.qualifier === 'Org' && isContentNode(node.content)) {\n      return [{kind: 'org', value: node.content.value.toString()}]\n    } else if (isSavedQualifier(node) && isContentNode(node.content)) {\n      return [{kind: 'saved', value: node.content.value.toString()}]\n    }\n  }\n  return []\n}\n\nexport function restrictToScopedOrgs(node: BaseNode, orgs: string[]): string[] {\n  const repoOrgScopes = new Set(\n    extractRepoOrgScopes(node)\n      .map(scope => {\n        if (scope.kind === 'org') {\n          return scope.value\n        } else if (scope.kind === 'repo' && scope.value.includes('/')) {\n          return scope.value.split('/')[0]\n        } else {\n          return null\n        }\n      })\n      .filter(s => s !== null)\n      .map(s => s?.toLowerCase()),\n  )\n\n  if (repoOrgScopes.size === 0) {\n    return orgs\n  }\n\n  return orgs.filter(org => repoOrgScopes.has(org.toLowerCase()))\n}\n","////////////////////////////////////////////////////////////////////////////////\n// IT IS IMPORTANT NOT TO DIRECTLY IMPORT THIS FILE, or @github/blackbird-parser\n// Because the parsing code is kind of large, and search-input-element is on\n// every page, we only want to load the parsing code when the user actually uses\n// the search input.\n// It is ok to use `import type` to get type definitions, because that doesn't\n// cause the module to get loaded at runtime.\n////////////////////////////////////////////////////////////////////////////////\n\n// this is where we load the parser so it's ok to import it here\n\nimport type {\n  BaseNode,\n  FinalNode,\n  Location,\n  NodeWithLocation,\n  TextNode,\n  QualifierNode,\n  ContentNode,\n  NodeWithOperatorLocations,\n} from '@github/blackbird-parser'\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport {\n  getCompatibleSearchTypes,\n  isContentNode,\n  isQualifierCompatible,\n  SearchType,\n  parse,\n  getPossibleQualifierValues,\n} from '@github/blackbird-parser'\nimport {CaretPositionKind, isQualifier, isSavedQualifier, hasChildren} from './common'\n\n// Re-export SearchType\nexport {SearchType, getPossibleQualifierValues}\n\nconst nonBreakingSpace = String.fromCharCode(160)\n\nexport function parseString(value: string): FinalNode {\n  // we need &nbsp; at the end to make the browser happy but parser doesn't handle nbsp very well\n  // TODO: make parser handle nbsp very well\n  const regex = new RegExp(nonBreakingSpace, 'g')\n  return parse(value.replace(regex, ' '))\n}\n\nexport function parseSearchInput(value: string): [FinalNode, Array<string | HTMLElement>] {\n  const root = parseString(value)\n  const highlights = getHighlights(root)\n  sortHighlights(highlights)\n\n  const nodes = [] as Array<string | HTMLElement>\n  // TODO: would be nice if we could check to see if there have been changes since last run\n  // idx is the index of the last character added to elem\n  let idx = 0\n\n  for (const hl of highlights) {\n    if (idx <= hl.location.start) {\n      // add any text before the highlight\n      nodes.push(value.substring(idx, hl.location.start).replace(' ', String.fromCharCode(160)))\n      idx = hl.location.start\n\n      // now add the highlight\n      const span = document.createElement('span')\n      span.classList.add(hl.className)\n      span.textContent = value.substring(hl.location.start, hl.location.end)\n      nodes.push(span)\n      idx = hl.location.end\n    }\n  }\n  // add any text after the last highlight\n  if (idx < value.length) {\n    nodes.push(value.substring(idx).replace(' ', nonBreakingSpace))\n  }\n\n  return [root, nodes]\n}\n\nexport function getCustomScopeNames(ast: BaseNode): string[] {\n  const nodes: QualifierNode[] = []\n  findCustomScopeNodes(nodes, ast)\n\n  const customScopeNames = nodes.map(node => (node.content as ContentNode).value.toString())\n\n  // Deduplicate custom scope names\n  return [...new Set(customScopeNames)]\n}\n\nfunction findCustomScopeNodes(nodes: QualifierNode[], node: BaseNode): void {\n  if (isSavedQualifier(node) && isContentNode(node.content)) {\n    nodes.push(node)\n  }\n  if (hasChildren(node)) {\n    for (node of node.children) {\n      findCustomScopeNodes(nodes, node)\n    }\n  }\n}\n\n/**\n * This function is designed to convert a search query containing saved searches into a form suitable for the legacy\n * search types. It rewrites saved searches into their expanded form (their query value), and also removes the \"OR\"\n * operator since it is not supported by the legacy search types.\n */\nexport function getExpandedQuery(\n  query: string,\n  customScopes: Array<{name: string; query: string}>,\n  ast: BaseNode,\n): string {\n  let expandedQuery = ''\n\n  const customScopeNodes: QualifierNode[] = []\n\n  findCustomScopeNodes(customScopeNodes, ast)\n\n  let index = 0\n  for (const node of customScopeNodes) {\n    if (isContentNode(node.content)) {\n      expandedQuery += query.substring(index, node.location.start)\n      const scopeValue = customScopes.find(scope => isContentNode(node.content) && scope.name === node.content.value)\n        ?.query\n      if (scopeValue) {\n        expandedQuery += removeUnsupportedOrOperator(scopeValue)\n      }\n      index = node.content.location.end\n    }\n  }\n  expandedQuery += query.substring(index)\n\n  return expandedQuery\n}\n\n// The OR operator is not supported by legacy search types\nfunction removeUnsupportedOrOperator(query: string): string {\n  return query.replaceAll(' OR ', ' ')\n}\n\n// This function moves the cursor to a character offset within the element .\n// If the position is -1, it goes to the end.\nexport function moveCaretToPosition(elem: HTMLInputElement, position: number) {\n  const target = position === -1 ? elem.value.length : position\n  elem.focus()\n  elem.setSelectionRange(target, target)\n  // TODO: try to scroll the cursor into view (perhaps in styledtextinput)\n}\n\ninterface Highlight {\n  className: string\n  location: Location\n}\n\n/**\n * Maps node kind to how it should be highlighted\n */\nconst kindHighlightMap: {[type: string]: {className: string; selector: 'location' | 'operatorLocation'} | undefined} = {\n  And: {className: 'pl-en', selector: 'operatorLocation'},\n  Not: {className: 'pl-en', selector: 'operatorLocation'},\n  Or: {className: 'pl-en', selector: 'operatorLocation'},\n  Regex: {className: 'pl-c1', selector: 'location'},\n}\n\nexport function getHighlights(node: BaseNode): Highlight[] {\n  let highlights: Highlight[] | undefined\n  if (isQualifier(node) && hasLocation(node.content)) {\n    highlights = [{className: 'input-parsed-symbol', location: node.content.location}]\n  } else if (isTextNode(node) && (node.value === 'AND' || node.value === 'OR' || node.value === 'NOT')) {\n    highlights = [{className: 'pl-en', location: node.location}]\n  } else {\n    const info = kindHighlightMap[node.kind]\n    if (info) {\n      if (info.selector === 'location' && hasLocation(node)) {\n        highlights = [{className: info.className, location: node.location}]\n      }\n      if (info.selector === 'operatorLocation' && hasOperatorLocations(node)) {\n        highlights = node.operatorLocations.map(location => ({\n          className: info.className,\n          location,\n        }))\n      }\n    }\n  }\n\n  highlights = highlights ?? []\n  if (hasChildren(node)) {\n    return highlights.concat(node.children.flatMap(getHighlights))\n  } else if (isQualifier(node)) {\n    return highlights.concat(getHighlights(node.content))\n  } else {\n    return highlights\n  }\n}\n\nfunction sortHighlights(highlights: Highlight[]) {\n  highlights.sort((a, b) => a.location.start - b.location.start)\n}\n\nfunction isTextNode(node: BaseNode): node is TextNode {\n  return !!(node as TextNode).value\n}\n\nfunction hasLocation(node: BaseNode): node is NodeWithLocation {\n  return !!(node as NodeWithLocation).location\n}\n\nfunction hasOperatorLocations(node: BaseNode): node is NodeWithOperatorLocations {\n  return !!(node as NodeWithOperatorLocations).operatorLocations\n}\n\nexport function getCaretPositionKindFromIndex(\n  root: FinalNode,\n  idx: number,\n): {node?: BaseNode; kind: CaretPositionKind} {\n  function findMatchingNode(node: BaseNode, index: number): BaseNode | undefined {\n    if (hasChildren(node)) {\n      for (const child of node.children) {\n        const match = findMatchingNode(child, index)\n        if (match) {\n          return match\n        }\n      }\n    }\n\n    if (hasLocation(node)) {\n      const start = node.location.start\n      let end = node.location.end\n\n      if (isQualifier(node) && hasLocation(node.content)) {\n        end = node.content.location.end\n      }\n\n      if (index >= start && index <= end) {\n        return node\n      }\n    }\n  }\n\n  const matchedNode = findMatchingNode(root, idx)\n  if (!matchedNode) {\n    return {kind: CaretPositionKind.Text}\n  }\n\n  if (matchedNode.kind === 'Regex') {\n    return {kind: CaretPositionKind.Regex}\n  }\n\n  if (isQualifier(matchedNode)) {\n    if (matchedNode.qualifier === 'Is') {\n      return {kind: CaretPositionKind.Is, node: matchedNode}\n    } else if (matchedNode.qualifier === 'Language') {\n      return {kind: CaretPositionKind.Language, node: matchedNode}\n    } else if (matchedNode.qualifier === 'Path') {\n      return {kind: CaretPositionKind.Path, node: matchedNode}\n    } else if (matchedNode.qualifier === 'Repo') {\n      return {kind: CaretPositionKind.Repository, node: matchedNode}\n    } else if (matchedNode.qualifier === 'Owner') {\n      return {kind: CaretPositionKind.Owner, node: matchedNode}\n    } else if (matchedNode.qualifier === 'Org') {\n      return {kind: CaretPositionKind.Owner, node: matchedNode}\n    } else if (matchedNode.qualifier === 'Saved') {\n      return {kind: CaretPositionKind.Saved, node: matchedNode}\n    } else {\n      return {kind: CaretPositionKind.OtherQualifier, node: matchedNode}\n    }\n  }\n\n  return {kind: CaretPositionKind.Text, node: matchedNode}\n}\n\nexport function extractUnsupportedQualifiers(root: BaseNode, type: SearchType): string[] {\n  const out: string[] = []\n  function __extractInvalid(node: BaseNode) {\n    if (isQualifier(node) && !isQualifierCompatible(type, node.qualifier)) {\n      const qualifier = node.raw.toLowerCase().substring(0, node.raw.length - 1)\n      if (!out.includes(qualifier)) {\n        out.push(qualifier)\n      }\n    } else if (isQualifier(node) && node.qualifier === 'Is') {\n      // public, private, issue, pr\n      const contentNode = node.content\n      if (isContentNode(contentNode)) {\n        const value = contentNode.value\n        if (type !== SearchType.Issues && value === 'issue') {\n          out.push('is:issue')\n        } else if (type !== SearchType.PRs && value === 'pr') {\n          out.push('is:pr')\n        }\n      }\n    }\n\n    if (hasChildren(node)) {\n      for (const child of node.children) {\n        __extractInvalid(child)\n      }\n    }\n  }\n  __extractInvalid(root)\n\n  return out\n}\n\nconst enum ConstraintKind {\n  Hint,\n  Compatible,\n  Avoid,\n  Match,\n}\n\nexport function chooseSearchType(ast: BaseNode, loggedIn: boolean): SearchType {\n  // Use some heuristics to guess the search type based on the query\n  const searchTypePreferences: Record<SearchType, number> = {\n    [SearchType.Repositories]: 0.5, // Prefer repos if nothing else\n    [SearchType.Code]: 0.2,\n    // Slightly prefer issues to PRs (they share many qualifiers)\n    [SearchType.Issues]: 0.1,\n    [SearchType.PRs]: 0,\n    [SearchType.Discussions]: 0,\n    [SearchType.Commits]: 0,\n    [SearchType.Packages]: 0,\n    [SearchType.Topics]: 0,\n    [SearchType.Users]: 0,\n    [SearchType.Orgs]: 0,\n    [SearchType.Wikis]: 0,\n    // Don't show marketplace results if ambiguous\n    [SearchType.Marketplace]: -0.4,\n    [SearchType.Unknown]: -1,\n    [SearchType.CodeLegacy]: -1,\n  }\n\n  // Deprioritize code search if not logged in.\n  if (!loggedIn) {\n    searchTypePreferences[SearchType.Code] -= 5\n  }\n\n  const constraints: Array<[SearchType[], ConstraintKind]> = []\n  extractSearchTypeConstraints(ast, constraints)\n  for (const constraint of constraints) {\n    const [types, kind] = constraint\n    if (kind === ConstraintKind.Hint) {\n      for (const type of types) {\n        searchTypePreferences[type] += 1\n      }\n    } else if (kind === ConstraintKind.Match) {\n      // if we have an extact type match this should get more than a single point added\n      // otherwise for repo/org searches, Code will always win by weight\n      for (const type of types) {\n        searchTypePreferences[type] += 1.5\n      }\n    } else if (kind === ConstraintKind.Avoid) {\n      for (const type of types) {\n        searchTypePreferences[type] -= 1\n      }\n    } else {\n      const typeMap: Record<string, boolean> = {}\n      for (const type of types) {\n        typeMap[type] = true\n      }\n      for (const allowedType of Object.keys(searchTypePreferences)) {\n        if (!typeMap[allowedType]) {\n          delete searchTypePreferences[allowedType as SearchType]\n        }\n      }\n    }\n  }\n\n  const preferredTypes: Array<[SearchType, number]> = Object.keys(searchTypePreferences).map(key => [\n    key as SearchType,\n    searchTypePreferences[key as SearchType],\n  ])\n\n  let chosenType = SearchType.Unknown\n  if (preferredTypes.length > 0) {\n    preferredTypes.sort((a, b) => b[1] - a[1])\n    chosenType = preferredTypes[0]![0]\n  }\n\n  return chosenType\n}\n\nexport type SearchTypeURLParameter =\n  | ''\n  | 'code'\n  | 'repositories'\n  | 'pullrequests'\n  | 'issues'\n  | 'discussions'\n  | 'commits'\n  | 'registrypackages'\n  | 'marketplace'\n  | 'topics'\n  | 'users'\n  | 'wikis'\n  | 'codelegacy'\n\nexport function mapSearchTypeToURLParam(type: SearchType): SearchTypeURLParameter {\n  // Map the chosen type to a URL param value\n  return ({\n    [SearchType.Unknown]: '',\n    [SearchType.Code]: 'code',\n    [SearchType.Repositories]: 'repositories',\n    [SearchType.PRs]: 'pullrequests',\n    [SearchType.Issues]: 'issues',\n    [SearchType.Discussions]: 'discussions',\n    [SearchType.Commits]: 'commits',\n    [SearchType.Packages]: 'registrypackages',\n    [SearchType.Marketplace]: 'marketplace',\n    [SearchType.Topics]: 'topics',\n    [SearchType.Users]: 'users',\n    [SearchType.Orgs]: 'users',\n    [SearchType.Wikis]: 'wikis',\n    [SearchType.CodeLegacy]: 'codelegacy',\n  }[type] || '') as SearchTypeURLParameter\n}\n\nexport function searchTypeAsPlural(type: SearchType): string {\n  return (\n    {\n      [SearchType.Unknown]: '',\n      [SearchType.Code]: 'code',\n      [SearchType.Repositories]: 'repositories',\n      [SearchType.PRs]: 'pull requests',\n      [SearchType.Issues]: 'issues',\n      [SearchType.Discussions]: 'discussions',\n      [SearchType.Commits]: 'commits',\n      [SearchType.Packages]: 'packages',\n      [SearchType.Marketplace]: 'the marketplace',\n      [SearchType.Topics]: 'topics',\n      [SearchType.Users]: 'users',\n      [SearchType.Orgs]: 'users',\n      [SearchType.Wikis]: 'wikis',\n      [SearchType.CodeLegacy]: 'code',\n    }[type] || ''\n  )\n}\n\nexport function mapURLParamToSearchType(type: SearchTypeURLParameter): SearchType {\n  return (\n    {\n      '': SearchType.Unknown,\n      code: SearchType.Code,\n      repositories: SearchType.Repositories,\n      pullrequests: SearchType.PRs,\n      issues: SearchType.Issues,\n      discussions: SearchType.Discussions,\n      commits: SearchType.Commits,\n      registrypackages: SearchType.Packages,\n      marketplace: SearchType.Marketplace,\n      topics: SearchType.Topics,\n      users: SearchType.Users,\n      orgs: SearchType.Orgs,\n      wikis: SearchType.Wikis,\n      codelegacy: SearchType.CodeLegacy,\n    }[type] || SearchType.Unknown\n  )\n}\n\nfunction extractSearchTypeConstraints(node: BaseNode, out: Array<[SearchType[], ConstraintKind]>) {\n  if (isQualifier(node)) {\n    if (node.qualifier === 'Repo') {\n      out.push([[SearchType.Repositories], ConstraintKind.Avoid])\n    }\n\n    if (node.qualifier === 'Repo' || node.qualifier === 'Org') {\n      out.push([[SearchType.Code], ConstraintKind.Hint])\n    }\n\n    if (node.qualifier === 'Saved') {\n      out.push([[SearchType.Code], ConstraintKind.Compatible])\n    }\n\n    if (isContentNode(node.content)) {\n      // Only code search supports regex queries\n      if (node.content.kind === 'Regex') {\n        out.push([[SearchType.Code], ConstraintKind.Compatible])\n      }\n\n      const value = node.content.value.toString().toLowerCase()\n      if (node.qualifier === 'Is') {\n        if (value === 'pr') {\n          out.push([[SearchType.PRs], ConstraintKind.Compatible])\n        } else if (value === 'issue') {\n          out.push([[SearchType.Issues], ConstraintKind.Compatible])\n        } else if (value === 'sponsorable') {\n          out.push([[SearchType.Users, SearchType.Repositories], ConstraintKind.Compatible])\n        }\n      } else if (node.qualifier === 'Type') {\n        const typeMap = new Map([\n          ['commit', SearchType.Commits],\n          ['discussion', SearchType.Discussions],\n          ['issue', SearchType.Issues],\n          ['marketplace', SearchType.Marketplace],\n          ['org', SearchType.Orgs],\n          ['package', SearchType.Packages],\n          ['pr', SearchType.PRs],\n          ['topic', SearchType.Topics],\n          ['user', SearchType.Users],\n          ['wiki', SearchType.Wikis],\n        ])\n        if (typeMap.has(value)) {\n          out.push([[typeMap.get(value)!], ConstraintKind.Match])\n        }\n      }\n    }\n\n    const compatibleSearchTypes = getCompatibleSearchTypes(node.qualifier)\n    if (compatibleSearchTypes.length > 0) {\n      out.push([compatibleSearchTypes, ConstraintKind.Compatible])\n    }\n  } else if (node.kind === 'Regex') {\n    out.push([[SearchType.Code], ConstraintKind.Compatible])\n  }\n\n  if (hasChildren(node)) {\n    for (const child of node.children) {\n      extractSearchTypeConstraints(child, out)\n    }\n  }\n}\n","/*\n * An event to trigger the search bar to append a query to the current query and focus it\n * (used by faceting to suggest further facets)\n */\nconst appendAndFocusEvent = 'blackbird_monolith_append_and_focus_input'\n\n/*\n * Trigger the search bar to append a query to the current query and focus it\n * (used by faceting to suggest further facets)\n */\nexport function appendAndFocusSearchBar({\n  appendQuery,\n  retainScrollPosition,\n  returnTarget,\n}: {\n  appendQuery?: string\n  retainScrollPosition?: boolean\n  returnTarget?: HTMLElement\n}): void {\n  window.dispatchEvent(\n    new CustomEvent(appendAndFocusEvent, {\n      detail: {\n        appendQuery,\n        retainScrollPosition,\n        returnTarget,\n      },\n    }),\n  )\n}\n","import {GitHubAvatar} from '@github-ui/github-avatar'\nimport {\n  AlertIcon,\n  CheckIcon,\n  ClockIcon,\n  DotFillIcon,\n  IssueReopenedIcon,\n  SkipIcon,\n  SquareFillIcon,\n  StopIcon,\n  XIcon,\n} from '@primer/octicons-react'\nimport {Box, Link, Octicon, Text, Tooltip} from '@primer/react'\n\nimport type {CheckRun} from '../index'\n\nexport default function CheckRunItem({checkRun}: {checkRun: CheckRun}) {\n  const {icon, iconColor} = getOcticonFromIconString(checkRun.icon)\n  const inProgress = checkRun.state === 'in_progress'\n  return (\n    <Box\n      data-testid=\"check-run-item\"\n      as=\"li\"\n      sx={{\n        display: 'flex',\n        borderBottomWidth: '1px',\n        borderBottomStyle: 'solid',\n        borderBottomColor: 'border.default',\n        backgroundColor: 'canvas.subtle',\n        py: 2,\n        pr: 3,\n        pl: '12px',\n        alignItems: 'center',\n      }}\n    >\n      <Box sx={{alignSelf: 'center', display: 'flex'}}>\n        {inProgress ? (\n          getInProgressSpinner()\n        ) : (\n          <Octicon icon={icon} sx={{color: iconColor, margin: '0px 7px', alignSelf: 'center'}} />\n        )}\n        <Tooltip aria-label={checkRun.avatarDescription} direction=\"e\">\n          <Link href={checkRun.avatarUrl} sx={{mr: 2}} aria-label=\"Avatar\">\n            <GitHubAvatar square src={checkRun.avatarLogo} sx={{backgroundColor: checkRun.avatarBackgroundColor}} />\n          </Link>\n        </Tooltip>\n      </Box>\n      <Text sx={{fontSize: '13px', color: 'fg.muted'}}>\n        <Text sx={{fontWeight: 'bold', color: 'fg.default', mr: '2px'}}>{checkRun.name} </Text>\n        {checkRun.pending ? (\n          <Text sx={{fontStyle: 'italic'}}>{checkRun.additionalContext}</Text>\n        ) : (\n          checkRun.additionalContext\n        )}\n        {checkRun.description && (\n          <span>\n            {' '}\n            - {checkRun.pending ? <Text sx={{fontStyle: 'italic'}}>{checkRun.description}</Text> : checkRun.description}\n          </span>\n        )}\n      </Text>\n\n      <Link href={checkRun.targetUrl} sx={{pl: '12px', fontSize: '13px', marginLeft: 'auto'}}>\n        Details\n      </Link>\n    </Box>\n  )\n}\n\nfunction getOcticonFromIconString(icon: string) {\n  switch (icon) {\n    case 'check':\n      return {icon: CheckIcon, iconColor: 'success.fg'}\n    case 'dot-fill':\n      return {icon: DotFillIcon, iconColor: 'attention.fg'}\n    case 'stop':\n      return {icon: StopIcon, iconColor: 'muted.fg'}\n    case 'issue-reopened':\n      return {icon: IssueReopenedIcon, iconColor: 'muted.fg'}\n    case 'clock':\n      return {icon: ClockIcon, iconColor: 'attention.fg'}\n    case 'square-fill':\n      return {icon: SquareFillIcon, iconColor: 'fg.default'}\n    case 'skip':\n      return {icon: SkipIcon, iconColor: 'muted.fg'}\n    case 'alert':\n      return {icon: AlertIcon, iconColor: 'danger.fg'}\n    default:\n      return {icon: XIcon, iconColor: 'danger.fg'}\n  }\n}\n\nfunction getInProgressSpinner() {\n  return (\n    <Box sx={{height: '16px', width: '16px', minWidth: '16px', alignSelf: 'center', mx: '7px'}}>\n      <svg fill=\"none\" viewBox=\"0 0 16 16\" className=\"anim-rotate\" aria-hidden=\"true\" role=\"img\">\n        <path opacity=\".5\" d=\"M8 15A7 7 0 108 1a7 7 0 000 14v0z\" stroke=\"#dbab0a\" strokeWidth=\"2\" />\n        <path d=\"M15 8a7 7 0 01-7 7\" stroke=\"#dbab0a\" strokeWidth=\"2\" />\n        <path d=\"M8 12a4 4 0 100-8 4 4 0 000 8z\" fill=\"#dbab0a\" />\n      </svg>\n    </Box>\n  )\n}\n\ntry{ CheckRunItem.displayName ||= 'CheckRunItem' } catch {}","import {Box} from '@primer/react'\n\nimport CheckRunItem from './CheckRunItem'\nimport type {CheckRun} from '../index'\n\nexport default function ChecksStatusBadgeFooter({checkRuns}: {checkRuns: CheckRun[]}) {\n  return (\n    <Box\n      as=\"ul\"\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        maxHeight: ['230px', '380px'],\n        overflow: 'auto',\n      }}\n    >\n      {checkRuns.map((checkRun, i) => (\n        // This list will not change, so using the index for the key is safe\n        <CheckRunItem key={i} checkRun={checkRun} />\n      ))}\n    </Box>\n  )\n}\n\ntry{ ChecksStatusBadgeFooter.displayName ||= 'ChecksStatusBadgeFooter' } catch {}","import {Text} from '@primer/react'\n\nexport default function HeaderState({checksHeaderState}: {checksHeaderState: string}): JSX.Element {\n  switch (checksHeaderState) {\n    case 'SUCCEEDED':\n      return <Text sx={{fontWeight: 'bold', fontSize: 2}}>All checks have passed</Text>\n    case 'FAILED':\n      return (\n        <Text sx={{color: 'var(--fgColor-danger, var(--color-danger-fg))', fontWeight: 'bold', fontSize: 2}}>\n          All checks have failed\n        </Text>\n      )\n    case 'PENDING':\n      return (\n        <Text\n          sx={{\n            color: 'var(--fgColor-attention, var(--color-attention-fg))',\n            fontWeight: 'bold',\n            fontSize: 2,\n          }}\n        >\n          Some checks havent completed yet\n        </Text>\n      )\n    default:\n      return (\n        <Text sx={{color: 'var(--fgColor-danger, var(--color-danger-fg))', fontWeight: 'bold', fontSize: 2}}>\n          Some checks were not successful\n        </Text>\n      )\n  }\n}\n\ntry{ HeaderState.displayName ||= 'HeaderState' } catch {}","import {Box, Spinner} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\n\nimport ChecksStatusBadgeFooter from './components/ChecksStatusBadgeFooter'\nimport HeaderState from './components/ChecksStatusBadgeHeader'\nimport type {CombinedStatusResult} from './index'\n\ninterface CheckStatusDialogProps {\n  combinedStatus?: CombinedStatusResult\n  isOpen: boolean\n  onDismiss: () => void\n}\n\nexport function CheckStatusDialog(props: CheckStatusDialogProps) {\n  const {combinedStatus, isOpen, onDismiss} = props\n\n  const title = combinedStatus ? <HeaderState checksHeaderState={combinedStatus.checksHeaderState} /> : 'Loading...'\n\n  return isOpen ? (\n    <Dialog\n      onClose={onDismiss}\n      sx={{\n        overflowY: 'auto',\n        backgroundColor: 'canvas.default',\n        boxShadow: 'none',\n        border: '1px solid',\n        borderColor: 'border.default',\n        borderBottom: 0,\n      }}\n      title={title}\n      subtitle={combinedStatus ? combinedStatus.checksStatusSummary : undefined}\n      width=\"xlarge\"\n      renderBody={() => (\n        <Dialog.Body sx={{padding: 0}}>\n          {combinedStatus ? (\n            <ChecksStatusBadgeFooter checkRuns={combinedStatus.checkRuns} />\n          ) : (\n            <Box sx={{display: 'flex', justifyContent: 'center', p: 2}}>\n              <Spinner size=\"medium\" />\n            </Box>\n          )}\n        </Dialog.Body>\n      )}\n    />\n  ) : null\n}\n\ntry{ CheckStatusDialog.displayName ||= 'CheckStatusDialog' } catch {}","import {\n  CheckCircleFillIcon,\n  CheckCircleIcon,\n  CheckIcon,\n  CircleIcon,\n  DotFillIcon,\n  type Icon,\n  QuestionIcon,\n  XCircleFillIcon,\n  XCircleIcon,\n  XIcon,\n} from '@primer/octicons-react'\nimport {Button, type ButtonProps, IconButton, Octicon, Tooltip} from '@primer/react'\nimport {useId, useRef, useState} from 'react'\nimport {clsx} from 'clsx'\n\nimport type {CombinedStatusResult} from './index'\nimport {CheckStatusDialog} from './CheckStatusDialog'\n\ninterface ChecksStatusBadgeProps {\n  statusRollup: string\n  combinedStatus?: CombinedStatusResult\n  variant?: 'circled' | 'filled' | 'default'\n  onWillOpenPopup?: () => void\n  disablePopover?: boolean\n  buttonSx?: ButtonProps['sx']\n  size?: ButtonProps['size']\n  descriptionText?: string\n}\n\ninterface IconProps {\n  icon: Icon\n  iconColor: string\n}\n\nconst ICON_STYLE = {\n  success: {\n    circled: CheckCircleIcon,\n    filled: CheckCircleFillIcon,\n    default: CheckIcon,\n    color: 'var(--bgColor-success-emphasis, var(--color-success-emphasis))',\n  },\n  pending: {\n    circled: CircleIcon,\n    filled: DotFillIcon,\n    default: DotFillIcon,\n    color: 'var(--bgColor-attention-emphasis, var(--color-scale-yellow-4))',\n  },\n  failure: {\n    circled: XCircleIcon,\n    filled: XCircleFillIcon,\n    default: XIcon,\n    color: 'var(--bgColor-danger-emphasis, var(--color-scale-red-4))',\n  },\n  error: {\n    circled: QuestionIcon,\n    filled: QuestionIcon,\n    default: QuestionIcon,\n    color: 'var(--fgColor-muted, var(--color-canvas-subtle))',\n  },\n}\n\ninterface IconOnlyStatusProps extends IconProps {\n  className?: string\n  descriptionText?: string\n  tooltipText?: string\n}\n\nfunction IconOnlyStatus({className, descriptionText, icon, iconColor, tooltipText}: IconOnlyStatusProps) {\n  const tooltipId = useId()\n\n  let iconElement = (\n    <Octicon\n      aria-labelledby={tooltipText ? tooltipId : undefined}\n      icon={icon}\n      aria-label={tooltipText ? undefined : descriptionText ? descriptionText : 'See all checks'}\n      sx={{color: iconColor}}\n    />\n  )\n\n  if (tooltipText) {\n    iconElement = (\n      <Tooltip id={tooltipId} aria-label={tooltipText} direction=\"e\">\n        {iconElement}\n      </Tooltip>\n    )\n  }\n\n  return (\n    <span className={clsx(className, 'd-flex flex-items-center gap-1')} data-testid=\"checks-status-badge-icon-only\">\n      {iconElement}\n      {descriptionText && <span> {descriptionText}</span>}\n    </span>\n  )\n}\n\nexport function ChecksStatusBadge(props: ChecksStatusBadgeProps) {\n  const {\n    statusRollup,\n    combinedStatus,\n    variant = 'default',\n    disablePopover,\n    buttonSx,\n    size = 'medium',\n    descriptionText = '',\n    onWillOpenPopup: fetchData,\n  } = props\n  const [isOpen, setIsOpen] = useState(false)\n  const tooltipId = useId()\n  const checkButtonRef = useRef<HTMLButtonElement>(null)\n  const iconStyle = ICON_STYLE[statusRollup as keyof typeof ICON_STYLE]\n  const {icon, iconColor} = {\n    icon: iconStyle?.[variant] || ICON_STYLE.error[variant],\n    iconColor: iconStyle?.color || ICON_STYLE.error.color,\n  }\n\n  if (statusRollup === 'error') {\n    return (\n      <IconOnlyStatus\n        className={!disablePopover ? 'p-1' : undefined}\n        descriptionText=\"?/?\"\n        icon={icon}\n        iconColor={iconColor}\n        tooltipText=\"There was an error retrieving checks status\"\n      />\n    )\n  }\n\n  if (disablePopover) {\n    return <IconOnlyStatus descriptionText={descriptionText} icon={icon} iconColor={iconColor} />\n  }\n\n  return (\n    <>\n      {descriptionText ? (\n        <Button\n          data-testid=\"checks-status-badge-button\"\n          leadingVisual={icon}\n          variant=\"invisible\"\n          size={size}\n          aria-label={combinedStatus?.checksStatusSummary ?? `Status checks: ${statusRollup}`}\n          sx={{\n            p: 1,\n            color: 'fg.default',\n            fontWeight: 'normal',\n            svg: {color: iconColor},\n            ...buttonSx,\n          }}\n          ref={checkButtonRef}\n          onClick={() => {\n            fetchData?.()\n            setIsOpen(true)\n          }}\n        >\n          {descriptionText}\n        </Button>\n      ) : (\n        <Tooltip\n          id={tooltipId}\n          aria-label={combinedStatus?.checksStatusSummary ?? statusRollup}\n          direction=\"se\"\n          sx={{mr: 2}}\n        >\n          {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n          <IconButton\n            unsafeDisableTooltip={true}\n            data-testid=\"checks-status-badge-icon\"\n            icon={icon}\n            variant=\"invisible\"\n            size={size}\n            aria-labelledby={tooltipId}\n            sx={{\n              py: 0,\n              px: 0,\n              svg: {color: iconColor},\n              ':hover:not([disabled])': {bg: 'pageHeaderBg'},\n              ...buttonSx,\n            }}\n            ref={checkButtonRef}\n            onClick={() => {\n              fetchData?.()\n              setIsOpen(true)\n            }}\n          />\n        </Tooltip>\n      )}\n      {isOpen && (\n        <CheckStatusDialog\n          combinedStatus={combinedStatus}\n          isOpen={isOpen}\n          onDismiss={() => {\n            setIsOpen(false)\n            setTimeout(() => {\n              checkButtonRef.current?.focus()\n            }, 0)\n          }}\n        />\n      )}\n    </>\n  )\n}\n\ntry{ IconOnlyStatus.displayName ||= 'IconOnlyStatus' } catch {}\ntry{ ChecksStatusBadge.displayName ||= 'ChecksStatusBadge' } catch {}","import type {RepositoryNWO} from '@github-ui/current-repository'\nimport {commitStatusDetailsPath} from '@github-ui/paths'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\nimport {useCallback, useState} from 'react'\n\nimport type {CombinedStatusResult} from '../index'\n\nexport function useCommitChecksStatusDetails(\n  oid: string,\n  repo: RepositoryNWO,\n): [CombinedStatusResult | undefined, () => void] {\n  const [details, setDetails] = useState<CombinedStatusResult>()\n  const [oidToFetch, setOidToFetch] = useState<string>()\n\n  const fetchDetails = useCallback(async () => {\n    if (oidToFetch !== oid) {\n      setOidToFetch(oid)\n      // Forget previous details because latest commit may have refreshed, or we may be rendering another page\n      setDetails(undefined)\n\n      if (oid) {\n        const url = commitStatusDetailsPath(repo, oid)\n        const response = await verifiedFetchJSON(url)\n        setDetails(await response.json())\n      }\n    }\n  }, [oid, oidToFetch, repo])\n\n  return [details, fetchDetails]\n}\n","import {setCookie, getCookie} from '@github-ui/cookies'\nimport {Deferred} from '@github-ui/deferred'\nimport type {ICookieCategoriesPreferences, ConsentControl} from 'consent-banner'\n\nimport {cookieCategories, consentControlOptions, DefaultCookieConsentPreferences} from './lib/configuration'\n\ntype CookieConsentPreferencesType = {\n  [key: string]: boolean | undefined\n}\n\nexport const CONSENT_COOKIE_NAME = 'GHCC'\n\nconst SIX_MONTHS = 1000 * 60 * 60 * 24 * 180 // 180 days in milliseconds\nconst CONSENT_COOKIE_EXPIRATION_DATE = new Date(new Date().getTime() + SIX_MONTHS) // 6 months from now\n\nlet consentControlInstance: ConsentControl | undefined\n\nconst onPreferenceChange = async (preferences: ICookieCategoriesPreferences) => {\n  setPreferencesToCookie(preferences)\n  consentControlInstance?.hideBanner()\n}\n\nexport async function initializeConsentControl() {\n  const {ConsentControl} = await import('consent-banner')\n\n  consentControlInstance = new ConsentControl('ghcc', 'en', onPreferenceChange, cookieCategories, consentControlOptions)\n\n  return consentControlInstance\n}\n\nexport function showPreferences() {\n  consentControlInstance?.showPreferences(getPreferencesFromCookie() || {})\n}\n\nexport function showCookieBanner() {\n  consentControlInstance?.showBanner(DefaultCookieConsentPreferences.Required)\n}\n\nexport function setConsentToAcceptAll() {\n  setPreferencesToCookie(DefaultCookieConsentPreferences.NotRequired)\n}\n\nexport function hasNoCookiePreferences() {\n  return getPreferencesFromCookie() === null\n}\n\nconst consentDeferred = new Deferred<CookieConsentPreferencesType>()\n\nexport function waitForConsentPreferences(): Promise<CookieConsentPreferencesType> {\n  return consentDeferred.promise\n}\n\nfunction setPreferencesToCookie(preferences: CookieConsentPreferencesType): void {\n  const consentPreferences = Object.keys(preferences)\n    .map(cookieCategoryId => `${cookieCategoryId}:${preferences[cookieCategoryId] ? '1' : '0'}`)\n    .join('-')\n\n  setCookie(CONSENT_COOKIE_NAME, consentPreferences, CONSENT_COOKIE_EXPIRATION_DATE.toUTCString())\n  consentDeferred.resolve(preferences)\n}\n\nexport function getPreferencesFromCookie(): CookieConsentPreferencesType | null {\n  const preferencesCookie = getCookie(CONSENT_COOKIE_NAME)\n\n  if (!preferencesCookie) {\n    return null\n  }\n\n  const preferences = preferencesCookie.value.split('-')\n  const cookieCategoriesPreferences: CookieConsentPreferencesType = {}\n\n  for (const cookieParts of preferences) {\n    const [cookieCategoryId, preference] = cookieParts.split(':')\n\n    if (cookieCategoryId) {\n      cookieCategoriesPreferences[cookieCategoryId] = preference === '1'\n    }\n  }\n\n  return cookieCategoriesPreferences\n}\n\nconst initialConsent = getPreferencesFromCookie()\n\nif (initialConsent) {\n  consentDeferred.resolve(initialConsent)\n}\n","import type {ICookieCategoriesPreferences, ICookieCategory, IOptions, ITextResources} from 'consent-banner'\n\nenum CookieCategoryId {\n  Required = 'Required',\n  Analytics = 'Analytics',\n  SocialMedia = 'SocialMedia',\n  Advertising = 'Advertising',\n}\n\nenum CookieCategoryName {\n  Required = 'Required',\n  Analytics = 'Analytics',\n  SocialMedia = 'Social Media',\n  Advertising = 'Advertising',\n}\n\nconst privacyPolicyUrl = 'https://docs.github.com/site-policy/privacy-policies/github-privacy-statement'\nconst cookieInventoryUrl = 'https://docs.github.com/site-policy/privacy-policies/github-subprocessors-and-cookies'\nconst docsURL =\n  'https://docs.github.com/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-personal-account-settings/managing-your-cookie-preferences-for-githubs-enterprise-marketing-pages'\n\nexport const cookieCategories: ICookieCategory[] = [\n  {\n    id: CookieCategoryId.Required,\n    name: CookieCategoryName.Required,\n    descHtml:\n      'GitHub uses required cookies to perform essential website functions and to provide the services. For example, cookies are used to log you in, save your language preferences, provide a shopping cart experience, improve performance, route traffic between web servers, detect the size of your screen, determine page load times, improve user experience, and for audience measurement. These cookies are necessary for our websites to work.',\n    isUnswitchable: true,\n  },\n  {\n    id: CookieCategoryId.Analytics,\n    name: CookieCategoryName.Analytics,\n    descHtml:\n      'We allow third parties to use analytics cookies to understand how you use our websites so we can make them better. For example, cookies are used to gather information about the pages you visit and how many clicks you need to accomplish a task. We also use some analytics cookies to provide personalized advertising.',\n  },\n  {\n    id: CookieCategoryId.SocialMedia,\n    name: CookieCategoryName.SocialMedia,\n    descHtml:\n      \"GitHub and third parties use social media cookies to show you ads and content based on your social media profiles and activity on GitHub's websites. This ensures that the ads and content you see on our websites and on social media will better reflect your interests. This also enables third parties to develop and improve their products, which they may use on websites that are not owned or operated by GitHub.\",\n  },\n  {\n    id: CookieCategoryId.Advertising,\n    name: CookieCategoryName.Advertising,\n    descHtml:\n      \"In addition, GitHub and third parties use advertising cookies to show you new ads based on ads you've already seen. Cookies also track which ads you click or purchases you make after clicking an ad. This is done to show you ads that are more relevant to you and for business purposes with our advertising partners. For example, cookies are used to detect when you click an ad and to show you ads based on your social media interests and website browsing history.\",\n  },\n]\n\nconst textResources: ITextResources = {\n  bannerMessageHtml: `We use optional cookies to improve your experience on our websites and to display personalized advertising based on your online activity. If you reject optional cookies, only cookies necessary to provide you the services listed above will be used. You may change your selection on which cookies to accept by clicking \"Manage Cookies\" at the bottom of the page to change your selection. This selection is maintained for 180 days. Please review your selections regularly. <br/> <br/> <a href=\"${docsURL}\">How to manage cookie preferences</a> | <a href=\"${privacyPolicyUrl}\">Privacy Statement</a> | <a href=\"${cookieInventoryUrl}\">Third-Party Cookies</a>.`,\n  acceptAllLabel: 'Accept',\n  rejectAllLabel: 'Reject',\n  moreInfoLabel: 'Manage cookies',\n  preferencesDialogCloseLabel: 'Close',\n  preferencesDialogTitle: 'Manage cookie preferences',\n  preferencesDialogDescHtml: `Most GitHub websites use cookies. Cookies are small text files placed on your device to store data so web servers can use it later. GitHub and our third-party partners use cookies to remember your preferences and settings, help you sign in, show you personalized ads, and analyze how well our websites are working. For more info, see the Cookies and similar technologies section of the <a href=\"${privacyPolicyUrl}\">Privacy Statement</a>.`,\n}\n\nexport const consentControlOptions: IOptions = {\n  textResources,\n  themes: {\n    /**\n     * Use the same defaults that the built-in dark theme uses:\n     * https://github.com/microsoft/consent-banner/blob/f38eff3a2f26d2724941db5ef1815e1c58fd134d/src/themes/theme-styles.ts#L41\n     * */\n    github: {\n      /* Required theme properties */\n      'close-button-color': '#d8b9ff',\n      'secondary-button-disabled-opacity': '0.5',\n      'secondary-button-hover-shadow': 'none',\n      'primary-button-disabled-opacity': '0.5',\n      'primary-button-hover-border': '1px solid transparent',\n      'primary-button-disabled-border': '1px solid transparent',\n      'primary-button-hover-shadow': 'none',\n      'banner-background-color': '#24292f',\n      'dialog-background-color': '#24292f',\n      'primary-button-color': '#ffffff',\n      'text-color': '#ffffff',\n      'secondary-button-color': '#32383f',\n      'secondary-button-disabled-color': '#424a53',\n      'secondary-button-border': '1px solid #eaeef2',\n\n      /* Optional theme properties */\n      'background-color-between-page-and-dialog': 'rgba(23, 23, 23, 0.8)',\n      'dialog-border-color': '#d8b9ff',\n      'hyperlink-font-color': '#d8b9ff',\n      'secondary-button-hover-color': '#24292f',\n      'secondary-button-hover-border': '1px solid #ffffff',\n      'secondary-button-disabled-border': '1px solid #6e7781',\n      'secondary-button-focus-border-color': '#6e7781',\n      'secondary-button-text-color': '#ffffff',\n      'secondary-button-disabled-text-color': '#ffffff',\n      'primary-button-hover-color': '#d8b9ff',\n      'primary-button-disabled-color': '#ffffff',\n      'primary-button-border': '1px solid #ffffff',\n      'primary-button-focus-border-color': '#ffffff',\n      'primary-button-text-color': '#1f2328',\n      'primary-button-disabled-text-color': '#1f2328',\n      'radio-button-border-color': '#d8b9ff',\n      'radio-button-checked-background-color': '#d8b9ff',\n      'radio-button-hover-border-color': '#ffffff',\n      'radio-button-hover-background-color': '#ffffff',\n      'radio-button-disabled-color': 'rgba(227, 227, 227, 0.2)',\n      'radio-button-disabled-border-color': 'rgba(227, 227, 227, 0.2)',\n    },\n  },\n  initialTheme: 'github',\n}\n\nconst consentRequiredPreferences: ICookieCategoriesPreferences = {\n  [CookieCategoryId.Required]: true,\n  [CookieCategoryId.Analytics]: false,\n  [CookieCategoryId.SocialMedia]: false,\n  [CookieCategoryId.Advertising]: false,\n}\n\nconst consentNotRequiredPreferences: ICookieCategoriesPreferences = {\n  [CookieCategoryId.Required]: true,\n  [CookieCategoryId.Analytics]: true,\n  [CookieCategoryId.SocialMedia]: true,\n  [CookieCategoryId.Advertising]: true,\n}\n\nexport const DefaultCookieConsentPreferences = {\n  Required: consentRequiredPreferences,\n  NotRequired: consentNotRequiredPreferences,\n}\n","interface Cookie {\n  key: string\n  value: string\n}\n\n/**\n * Get a cookie by name.\n * @param name\n * @returns a cookie object or undefined if not found.\n */\nexport function getCookie(name: string): Cookie | undefined {\n  return getCookies(name)[0]\n}\n\n/**\n * Get all cookies by name.\n * @param name\n * @returns\n */\nexport function getCookies(name: string): Cookie[] {\n  const cookies = []\n  for (const cookie of readCookies()) {\n    const [key, value] = cookie.trim().split('=')\n    if (name === key && typeof value !== 'undefined') {\n      cookies.push({key, value})\n    }\n  }\n  return cookies\n}\n\nfunction readCookies(): string[] {\n  try {\n    return document.cookie.split(';')\n  } catch {\n    // Cookie access disabled.\n    return []\n  }\n}\n\n/**\n * Set a new cookie with sensible defaults like secure.\n * @param name\n * @param value\n * @param expiration\n * @param strictDomain\n * @param samesite\n */\nexport function setCookie(\n  name: string,\n  value: string,\n  expiration: string | null = null,\n  strictDomain = false,\n  samesite = 'lax',\n) {\n  let domain = document.domain\n  if (domain == null) {\n    throw new Error('Unable to get document domain')\n  }\n\n  // Share cookies with test environments.\n  if (domain.endsWith('.github.com')) {\n    domain = 'github.com'\n  }\n\n  const secure = location.protocol === 'https:' ? '; secure' : ''\n  const expire = expiration ? `; expires=${expiration}` : ''\n  if (strictDomain === false) {\n    domain = `.${domain}`\n  }\n  try {\n    document.cookie = `${name}=${value}; path=/; domain=${domain}${expire}${secure}; samesite=${samesite}`\n  } catch {\n    // Cookie access disabled.\n  }\n}\n\n/**\n * Delete a given cookie with sensible defaults like secure.\n * This sets the expires value to a second ago to delete the cookie.\n * @param name\n * @param strictDomain\n */\nexport function deleteCookie(name: string, strictDomain = false) {\n  let domain = document.domain\n  if (domain == null) {\n    throw new Error('Unable to get document domain')\n  }\n\n  // Share cookies with test environments.\n  if (domain.endsWith('.github.com')) {\n    domain = 'github.com'\n  }\n\n  const time = new Date().getTime()\n  const expiration = new Date(time - 1).toUTCString()\n  const secure = location.protocol === 'https:' ? '; secure' : ''\n  const expire = `; expires=${expiration}`\n  if (strictDomain === false) {\n    domain = `.${domain}`\n  }\n  try {\n    document.cookie = `${name}=''; path=/; domain=${domain}${expire}${secure}`\n  } catch {\n    // Cookie access disabled.\n  }\n}\n","export class Deferred<T> {\n  declare resolve: (value: T) => unknown\n  declare reject: (reason?: unknown) => unknown\n  declare promise: Promise<T>\n\n  constructor() {\n    this.promise = new Promise<T>((resolve, reject) => {\n      this.resolve = resolve\n      this.reject = reject\n    })\n  }\n}\n","// Check if the navigation is only a hash change.\nconst isHashNavigation = (currentUrl: string, targetUrl: string): boolean => {\n  const current = new URL(currentUrl, window.location.origin)\n  const target = new URL(targetUrl, window.location.origin)\n  const hasHash = target.href.includes('#')\n\n  return (\n    hasHash && current.host === target.host && current.pathname === target.pathname && current.search === target.search\n  )\n}\n\nexport default isHashNavigation\n","import {useAppPayload} from './use-app-payload'\n\nexport type AppPayloadWithFeatureFlags = {enabled_features?: EnabledFeatures}\nexport type EnabledFeatures = {[key: string]: boolean | undefined}\n\n/**\n * Fetches all client side feature flags.\n *\n * Note: If your app isn't rendered in the monolith using the registerReactAppFactory function,\n * you can use the FeatureFlagProvider to wrap your app in a context and populate the\n * client side feature flags yourself.\n */\nexport const useFeatureFlags = () => useAppPayload<AppPayloadWithFeatureFlags>()?.enabled_features ?? {}\n\n/**\n * Fetches a specific client side feature flag.\n *\n * Note: If your app isn't rendered in the monolith using the registerReactAppFactory function,\n * you can use the FeatureFlagProvider to wrap your app in a context and populate the\n * client side feature flags yourself.\n */\nexport const useFeatureFlag = (featureName: string) => !!useFeatureFlags()[featureName]\n","import {Link, Text} from '@primer/react'\nimport {isEnterprise} from '@github-ui/runtime-environment'\nimport type {CommitSignatureType} from '../signed-commit-types'\n\nexport default function ReasonLabel({\n  reason,\n  isViewer,\n  hasSignature,\n  verificationStatus,\n  signatureType,\n  signedByGitHub,\n  keyExpired,\n  keyRevoked,\n}: {\n  reason: string\n  isViewer: boolean\n  hasSignature: boolean\n  verificationStatus: string\n  signatureType: CommitSignatureType\n  signedByGitHub: boolean\n  keyExpired: boolean\n  keyRevoked: boolean\n}) {\n  const settings_key_path = `/settings/keys`\n  const settings_email_path = `/settings/emails`\n  const keyName = signatureType === 'SshSignature' ? 'SSH' : 'GPG'\n  const expiredOrRevokedText = keyExpired ? (\n    <span> The key has expired{keyRevoked && <span> and has been revoked</span>}.</span>\n  ) : keyRevoked ? (\n    <span> The key has been revoked.</span>\n  ) : (\n    <></>\n  )\n  if (verificationStatus === 'unverified') {\n    if (hasSignature && reason === 'GPGVERIFY_UNAVAILABLE') {\n      return <span>The commit signature verification service is not available</span>\n    } else if (!hasSignature) {\n      return (\n        <span>\n          This commit is not signed, but one or more authors requires that any commit attributed to them is signed.\n        </span>\n      )\n    } else {\n      switch (reason) {\n        case 'INVALID':\n          return <span>The signature in this commit could not be verified. Someone may be trying to trick you.</span>\n\n        case 'MALFORMED_SIG':\n          return <span>We were unable to parse the signature in this commit.</span>\n\n        case 'UNKNOWN_KEY':\n          if (isViewer) {\n            return (\n              <span>\n                <Link inline href={settings_key_path}>\n                  Upload your public signing {keyName} key\n                </Link>{' '}\n                to verify your signature.\n              </span>\n            )\n          } else {\n            return <span>This user has not yet uploaded their public signing key.</span>\n          }\n\n        case 'BAD_EMAIL':\n          return <span>The email in this signature doesnt match the committer email.</span>\n\n        case 'UNVERIFIED_EMAIL':\n          if (isViewer) {\n            return (\n              <span>\n                <Link inline href={settings_email_path}>\n                  Verify your email address\n                </Link>{' '}\n                to verify your signature.\n              </span>\n            )\n          } else {\n            return <span>The committer email address is not verified.</span>\n          }\n\n        case 'NO_USER':\n          return <span>No user is associated with the committer email.</span>\n\n        case 'UNKNOWN_SIG_TYPE':\n          return (\n            <span>GitHub supports GPG and S/MIME signatures. We don&apos;t know what type of signature this is.</span>\n          )\n\n        case 'GPGVERIFY_ERROR':\n          return <span>We had a problem verifying this signature. Please try again later.</span>\n\n        case 'NOT_SIGNING_KEY':\n          return <span>The key that signed this doesn&apos;t have usage flags that allow signing.</span>\n\n        case 'EXPIRED_KEY':\n          return <span>The key that signed this is expired.</span>\n\n        case 'OCSP_ERROR':\n          return <span>We had a problem checking for revoked certificates. Please try again later.</span>\n\n        case 'OCSP_REVOKED':\n          return <span>One or more certificates in the chain has been revoked.</span>\n\n        case 'BAD_CERT':\n          return <span>The signing certificate or its chain could not be verified.</span>\n\n        case 'GPGVERIFY_UNAVAILABLE':\n        case 'UNSIGNED':\n          // These cases are handled above.\n          return <span>We were unable to verify this signature.</span>\n      }\n    }\n  } else if (verificationStatus === 'partially_verified') {\n    if (signedByGitHub) {\n      if (isEnterprise()) {\n        return (\n          <span>\n            This commit was created on GitHub Enterprise Server and signed with a{' '}\n            <Text sx={{fontWeight: 'bold'}}>verified signature</Text>.{expiredOrRevokedText}\n          </span>\n        )\n      } else {\n        return (\n          <span>\n            This commit was created on GitHub.com and signed with GitHub&apos;s{' '}\n            <Text sx={{fontWeight: 'bold'}}>verified signature</Text>.{expiredOrRevokedText}\n          </span>\n        )\n      }\n    } else {\n      return (\n        <span>\n          This commit was signed with the committer&apos;s <Text sx={{fontWeight: 'bold'}}>verified signature</Text>.\n          {expiredOrRevokedText}\n        </span>\n      )\n    }\n  } else if (verificationStatus === 'verified') {\n    switch (reason) {\n      case 'VALID':\n        if (signedByGitHub) {\n          if (isEnterprise()) {\n            return (\n              <span>\n                This commit was created on GitHub Enterprise Server and signed with a{' '}\n                <Text sx={{fontWeight: 'bold'}}>verified signature</Text>.{expiredOrRevokedText}\n              </span>\n            )\n          } else {\n            return (\n              <span>\n                This commit was created on GitHub.com and signed with GitHub&apos;s{' '}\n                <Text sx={{fontWeight: 'bold'}}>verified signature</Text>.{expiredOrRevokedText}\n              </span>\n            )\n          }\n        } else {\n          return (\n            <span>\n              This commit was signed with the committer&apos;s <Text sx={{fontWeight: 'bold'}}>verified signature</Text>\n              .{expiredOrRevokedText}\n            </span>\n          )\n        }\n      case 'OCSP_PENDING':\n        return (\n          <span>\n            This commit was signed with a verified signature, though we&apos;re still working on certificate revocation\n            checking.\n          </span>\n        )\n    }\n  }\n  return <span />\n}\n\ntry{ ReasonLabel.displayName ||= 'ReasonLabel' } catch {}","import {Box, Octicon} from '@primer/react'\nimport type {Icon} from '@primer/octicons-react'\nimport ReasonLabel from './ReasonLabel'\nimport type {CommitSignatureType} from '../signed-commit-types'\n\nexport default function SignedCommitHeader({\n  icon,\n  iconColor,\n  reason,\n  isViewer,\n  hasSignature,\n  verificationStatus,\n  signatureType,\n  signedByGitHub,\n  keyExpired,\n  keyRevoked,\n}: {\n  icon: Icon\n  iconColor: string\n  reason: string\n  isViewer: boolean\n  hasSignature: boolean\n  verificationStatus: string\n  signatureType: CommitSignatureType\n  signedByGitHub: boolean\n  keyExpired: boolean\n  keyRevoked: boolean\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        p: 2,\n      }}\n      data-testid=\"signed-commit-header\"\n    >\n      <Box sx={{pr: 2}}>\n        <Octicon icon={icon} sx={{color: iconColor}} />\n      </Box>\n      <Box\n        sx={{\n          fontSize: 1,\n          flexGrow: 1,\n        }}\n      >\n        <ReasonLabel\n          reason={reason}\n          isViewer={isViewer}\n          hasSignature={hasSignature}\n          verificationStatus={verificationStatus}\n          signatureType={signatureType}\n          signedByGitHub={signedByGitHub}\n          keyExpired={keyExpired}\n          keyRevoked={keyRevoked}\n        />\n      </Box>\n    </Box>\n  )\n}\n\ntry{ SignedCommitHeader.displayName ||= 'SignedCommitHeader' } catch {}","import {Box, Label, Link, Text, Octicon} from '@primer/react'\nimport {InfoIcon} from '@primer/octicons-react'\nimport type {CommitSignatureType} from '../signed-commit-types'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\nexport type Signer = {\n  login: string\n  avatar_url: string\n}\n\nexport default function SignedCommitFooter({\n  keyHex,\n  signatureType,\n  signer,\n  showPartiallyVerifiedMessage,\n  signingLinkComponent,\n  keyExpired,\n  keyRevoked,\n}: {\n  /** The hex fingerprint of the SSH key or the GPG key id */\n  keyHex: string\n  signatureType: CommitSignatureType\n  signer: Signer | undefined\n  showPartiallyVerifiedMessage: boolean\n  signingLinkComponent: JSX.Element\n  keyExpired: boolean\n  keyRevoked: boolean\n}) {\n  const keyLabel = signatureType === 'SshSignature' ? 'SSH Key Fingerprint:' : 'GPG Key ID:'\n  const keyName = signatureType === 'SshSignature' ? 'SSH' : 'GPG'\n  return (\n    <Box sx={{display: 'flex'}} data-testid=\"signed-commit-footer\">\n      <Box\n        sx={{\n          fontSize: 0,\n          flexGrow: 1,\n          maxWidth: '100%',\n        }}\n      >\n        {showPartiallyVerifiedMessage && signer ? (\n          <>\n            <Box sx={{py: 3}}>\n              <Box sx={{display: 'flex'}}>\n                <GitHubAvatar src={signer.avatar_url} size={20} sx={{mr: 2, ml: 3}} />\n                <Box sx={{flex: 1}}>\n                  <Link href={`/${signer.login}`} sx={{fontSize: 0, color: 'fg.default', fontWeight: 'bold'}}>\n                    {signer.login}\n                  </Link>\n                  <span>&apos;s contribution has been verified via {keyName} key.</span>\n                </Box>\n              </Box>\n            </Box>\n            <Box\n              sx={{\n                backgroundColor: 'attention.subtle',\n                display: 'flex',\n                p: 3,\n              }}\n            >\n              <Octicon icon={InfoIcon} sx={{mr: 2}} />\n              We cannot verify signatures from co-authors, and some of the co-authors attributed to this commit require\n              their commits to be signed.\n            </Box>\n          </>\n        ) : (\n          <>\n            {signer ? (\n              <Box sx={{px: 3, pt: 3}}>\n                <>\n                  <GitHubAvatar src={signer.avatar_url} size={20} sx={{mr: 2}} />\n                  <Link href={`/${signer.login}`} sx={{fontSize: 1, color: 'fg.default', fontWeight: 'bold'}}>\n                    {signer.login}\n                  </Link>\n                </>\n              </Box>\n            ) : (\n              <></>\n            )}\n            <Box sx={{p: 3, flexDirection: 'column'}}>\n              {keyHex && (\n                <div>\n                  {keyLabel} <Text sx={{color: 'fg.muted'}}>{keyHex}</Text>\n                </div>\n              )}\n              {keyHex && (keyExpired || keyRevoked) && (\n                <Box sx={{py: 1}}>\n                  {keyExpired && (\n                    <Label sx={{mr: 1}} variant=\"accent\">\n                      Expired\n                    </Label>\n                  )}\n                  {keyRevoked && <Label variant=\"attention\">Revoked</Label>}\n                </Box>\n              )}\n              {signingLinkComponent}\n            </Box>\n          </>\n        )}\n      </Box>\n    </Box>\n  )\n}\n\ntry{ SignedCommitFooter.displayName ||= 'SignedCommitFooter' } catch {}","import {Box, Text} from '@primer/react'\nimport type {CertificateAttributes} from '../signed-commit-types'\n\nexport default function SmimeCommitFooter({\n  subject,\n  issuer,\n  signingLinkComponent,\n}: {\n  subject: CertificateAttributes\n  issuer: CertificateAttributes\n  signingLinkComponent: JSX.Element\n}) {\n  let subject_org_label = undefined\n  if (subject.organization && subject.organization_unit) {\n    subject_org_label = 'O/OU'\n  } else if (subject.organization) {\n    subject_org_label = 'O'\n  } else if (subject.organization_unit) {\n    subject_org_label = 'OU'\n  }\n\n  let issuer_org_label = undefined\n  if (issuer.organization && issuer.organization_unit) {\n    issuer_org_label = 'O/OU'\n  } else if (issuer.organization) {\n    issuer_org_label = 'O'\n  } else if (issuer.organization_unit) {\n    issuer_org_label = 'OU'\n  }\n\n  return (\n    <Box sx={{display: 'flex'}} data-testid=\"smime-commit-footer\">\n      <Box\n        sx={{\n          fontSize: 0,\n          p: 3,\n        }}\n      >\n        <Text sx={{fontWeight: 'bold', fontSize: 1}}>Certificate subject</Text>\n        <Box as={'table'} sx={{mb: 1}}>\n          {subject.common_name && (\n            <tr>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px', color: 'fg.muted'}}>\n                CN\n              </Box>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px'}}>\n                {subject.common_name}\n              </Box>\n            </tr>\n          )}\n          {subject.email_address && (\n            <tr>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px', color: 'fg.muted'}}>\n                emailAddress\n              </Box>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px'}}>\n                {subject.email_address}\n              </Box>\n            </tr>\n          )}\n          {subject_org_label && (\n            <tr>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px', color: 'fg.muted'}}>\n                {subject_org_label}\n              </Box>\n              <td>\n                {subject.organization}\n                {subject_org_label === 'O/OU' && '/'}\n                {subject.organization_unit}\n              </td>\n            </tr>\n          )}\n        </Box>\n\n        <Text sx={{fontWeight: 'bold', fontSize: 1}}>Certificate issuer</Text>\n        <Box as={'table'} sx={{mb: 1}}>\n          {issuer.common_name && (\n            <tr>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px', color: 'fg.muted'}}>\n                CN\n              </Box>\n              <td>{issuer.common_name}</td>\n            </tr>\n          )}\n          {issuer_org_label && (\n            <tr>\n              <Box as={'td'} sx={{width: '44px', paddingRight: '12px', color: 'fg.muted'}}>\n                {issuer_org_label}\n              </Box>\n              <td>\n                {issuer.organization}\n                {issuer_org_label === 'O/OU' && '/'}\n                {issuer.organization_unit}\n              </td>\n            </tr>\n          )}\n        </Box>\n\n        {signingLinkComponent}\n      </Box>\n    </Box>\n  )\n}\n\ntry{ SmimeCommitFooter.displayName ||= 'SmimeCommitFooter' } catch {}","import {Box, Link} from '@primer/react'\nimport {Dialog, type DialogHeaderProps} from '@primer/react/experimental'\nimport type {SignatureResult, VerificationStatus} from './signed-commit-types'\nimport SignedCommitHeader from './components/SignedCommitHeader'\nimport {VerifiedIcon, UnverifiedIcon} from '@primer/octicons-react'\nimport SignedCommitFooter, {type Signer} from './components/SignedCommitFooter'\nimport SmimeCommitFooter from './components/SmimeCommitFooter'\n\ninterface CheckStatusDialogProps {\n  isOpen: boolean\n  onDismiss: () => void\n  verificationStatus: VerificationStatus\n  signature: SignatureResult\n  hasSignature: boolean\n  ariaLabel?: string\n}\n\nexport function SignedCommitDialog(props: CheckStatusDialogProps) {\n  const {ariaLabel, hasSignature, isOpen, onDismiss, signature, verificationStatus} = props\n\n  const {footerLabel, footerUrl} = getCommitSigningHelpLink(signature.helpUrl)\n\n  const reason = signature.signatureVerificationReason.toUpperCase()\n  const signedByGitHub = signature.signedByGitHub\n\n  const {icon, icon_color} =\n    verificationStatus === 'unverified'\n      ? {icon: UnverifiedIcon, icon_color: 'fg.muted'}\n      : {icon: VerifiedIcon, icon_color: 'success.fg'}\n\n  let signer: Signer | undefined = undefined\n  if (verificationStatus !== 'unverified' && !signedByGitHub) {\n    signer = {avatar_url: signature.signerAvatarUrl, login: signature.signerLogin}\n  }\n\n  const signatureLink = (\n    <Link href={footerUrl} data-testid=\"signature-link\" className=\"Link--inTextBlock\">\n      {footerLabel}\n    </Link>\n  )\n\n  return isOpen ? (\n    <Dialog\n      onClose={onDismiss}\n      sx={{\n        overflowY: 'auto',\n        backgroundColor: 'canvas.default',\n        boxShadow: 'none',\n      }}\n      title={verificationStatus}\n      width=\"small\"\n      renderHeader={({dialogLabelId}: DialogHeaderProps) => (\n        <Box\n          data-testid=\"signed-commit-dialog\"\n          sx={{\n            display: 'flex',\n            gap: 2,\n            alignItems: 'flex-start',\n            p: 2,\n            backgroundColor: 'canvas.subtle',\n            borderBottomWidth: '1px',\n            borderBottomStyle: 'solid',\n            borderBottomColor: 'border.subtle',\n          }}\n        >\n          <Dialog.Title id={dialogLabelId} className=\"sr-only\">\n            {ariaLabel ?? verificationStatus}\n          </Dialog.Title>\n          <SignedCommitHeader\n            reason={reason}\n            icon={icon}\n            iconColor={icon_color}\n            verificationStatus={verificationStatus}\n            isViewer={signature.isViewer}\n            hasSignature={hasSignature}\n            signatureType={signature.signatureType}\n            signedByGitHub={signedByGitHub}\n            keyExpired={signature.keyExpired}\n            keyRevoked={signature.keyRevoked}\n          />\n          <Dialog.CloseButton onClose={onDismiss} />\n        </Box>\n      )}\n      renderBody={() => {\n        return (\n          <Dialog.Body sx={{padding: 0}}>\n            {signature.signatureType === 'GpgSignature' || signature.signatureType === 'SshSignature' ? (\n              <SignedCommitFooter\n                keyHex={signature.keyId}\n                signatureType={signature.signatureType}\n                signer={signer}\n                showPartiallyVerifiedMessage={verificationStatus === 'partially_verified'}\n                signingLinkComponent={signatureLink}\n                keyExpired={signature.keyExpired}\n                keyRevoked={signature.keyRevoked}\n              />\n            ) : signature.signatureType === 'SmimeSignature' &&\n              signature.signatureCertificateSubject &&\n              signature.signatureCertificateIssuer ? (\n              <SmimeCommitFooter\n                issuer={signature.signatureCertificateIssuer}\n                subject={signature.signatureCertificateSubject}\n                signingLinkComponent={signatureLink}\n              />\n            ) : (\n              <Box sx={{display: 'flex'}}>\n                <Box\n                  sx={{\n                    fontSize: 0,\n                    p: 3,\n                  }}\n                >\n                  {signatureLink}\n                </Box>\n              </Box>\n            )}\n          </Dialog.Body>\n        )\n      }}\n    />\n  ) : null\n}\n\nfunction getCommitSigningHelpLink(helpUrl: string) {\n  return {\n    footerLabel: 'Learn about vigilant mode',\n    footerUrl: `${helpUrl}/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits`,\n  }\n}\n\ntry{ SignedCommitDialog.displayName ||= 'SignedCommitDialog' } catch {}","import {Label, Tooltip} from '@primer/react'\nimport type {LabelProps} from '@primer/react'\nimport type {SignatureResult, VerificationStatus} from './signed-commit-types'\nimport {SignedCommitDialog} from './SignedCommitDialog'\nimport {useState, useRef, forwardRef} from 'react'\nimport type {LabelColorOptions} from '@primer/react/lib-esm/Label/Label'\n\nexport interface SignedCommitBadgeProps {\n  hasSignature: boolean\n  verificationStatus?: VerificationStatus\n  signature?: SignatureResult\n  badgeSize?: LabelProps['size']\n  commitOid: string\n}\n\nexport function SignedCommitBadge({\n  hasSignature,\n  verificationStatus,\n  signature,\n  commitOid,\n  badgeSize = 'small',\n}: SignedCommitBadgeProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const badgeRef = useRef<HTMLButtonElement>(null)\n\n  if (!verificationStatus || !signature) {\n    return (\n      <Tooltip aria-label=\"Verification status not available\" direction=\"n\" noDelay>\n        <VerificationLabel verificationStatus=\"error\" labelProps={{size: 'small'}} />\n      </Tooltip>\n    )\n  }\n\n  if (verificationStatus === 'unsigned') {\n    return <></>\n  }\n\n  const labelProps = {\n    as: 'button',\n    onClick: () => setIsOpen(true),\n    ref: badgeRef,\n    size: badgeSize,\n    sx: {cursor: 'pointer'},\n  }\n\n  const verification_label = <VerificationLabel labelProps={{...labelProps}} verificationStatus={verificationStatus} />\n\n  return (\n    <>\n      {verification_label}\n      {isOpen && (\n        <SignedCommitDialog\n          isOpen={isOpen}\n          onDismiss={() => {\n            setIsOpen(false)\n            setTimeout(() => {\n              badgeRef.current?.focus()\n            }, 0)\n          }}\n          verificationStatus={verificationStatus}\n          signature={signature}\n          hasSignature={hasSignature}\n          ariaLabel={`${verificationStatus.replace('_', ' ')}: ${commitOid.slice(0, 7)}`}\n        />\n      )}\n    </>\n  )\n}\n\nconst STATUS_TO_LABEL = {\n  verified: {\n    label: 'Verified',\n    variant: 'success',\n  },\n  unverified: {\n    label: 'Unverified',\n    variant: 'attention',\n  },\n  partially_verified: {\n    label: 'Partially verified',\n    variant: 'success',\n  },\n  error: {\n    label: 'Verification error',\n    variant: 'secondary',\n  },\n}\n\nconst VerificationLabel = forwardRef(\n  (\n    {verificationStatus, labelProps}: {verificationStatus: VerificationStatus | 'error'; labelProps: LabelProps},\n    ref: React.ForwardedRef<HTMLSpanElement>,\n  ) => {\n    const labelAndVariant = STATUS_TO_LABEL[verificationStatus as keyof typeof STATUS_TO_LABEL]\n\n    if (!labelAndVariant) {\n      return <></>\n    }\n\n    return (\n      <Label ref={ref} variant={labelAndVariant.variant as LabelColorOptions} {...labelProps}>\n        {labelAndVariant.label}\n      </Label>\n    )\n  },\n)\n\nVerificationLabel.displayName = 'VerificationLabel'\n\ntry{ SignedCommitBadge.displayName ||= 'SignedCommitBadge' } catch {}","import {useCallback, useContext} from 'react'\nimport {sendEvent} from '@github-ui/hydro-analytics'\nimport {AnalyticsContext} from '@github-ui/analytics-provider/context'\n\nexport interface AnalyticsEvent {\n  category: string\n  action: string\n  label: string\n  [key: string]: unknown\n}\n\ntype SendAnalyticsEventFunction = (\n  eventType: string,\n  target?: string,\n  payload?: {[key: string]: unknown} | AnalyticsEvent,\n) => void\n\n/**\n * Use this hook with the AnalyticsContext to send user analytics events to the data warehouse.\n * This hook will read values from the nearest AnalyticsContext.Provider, though you can override properties directly when sending an event.\n * It uses the `sendEvent` helper from `github/hydro-analytics`,\n * which enriches event context with additional information about the user, repository, and current page.\n * See: https://thehub.github.com/epd/engineering/products-and-services/internal/hydro/installation/browser-events/\n *\n * You can find a list of all included context properties in `app/helpers/octolytics_helper.rb`.\n *\n *\n * @example\n * ```tsx\n * function Component() {\n *   const { sendAnalyticsEvent } = useAnalytics()\n *   return <Button onClick={() => sendAnalyticsEvent('file_tree.close', 'FILE_TREE_TOGGLE')}>CLOSE TREE</Button>\n * }\n * ```\n *\n */\nexport function useAnalytics(): {\n  sendAnalyticsEvent: SendAnalyticsEventFunction\n} {\n  // WARNING: Do not add any hooks here that will cause rerenders on soft navs.\n  const contextData = useContext(AnalyticsContext)\n\n  if (!contextData) {\n    throw new Error('useAnalytics must be used within an AnalyticsContext')\n  }\n  const {appName, category, metadata} = contextData\n\n  return {\n    sendAnalyticsEvent: useCallback(\n      (eventType, target?, payload = {}) => {\n        const context = {\n          react: true,\n          ['app_name']: appName,\n          category,\n          ...metadata,\n        }\n        sendEvent(eventType, {...context, ...payload, target})\n      },\n      [appName, category, metadata],\n    ),\n  }\n}\n\n/**\n * Use this hook with the AnalyticsContext to send user analytics events to the data warehouse.\n * This hook will read values from the nearest AnalyticsContext.Provider, though you can override properties directly when sending an event.\n * It uses the `sendEvent` helper from `github/hydro-analytics`,\n * which enriches event context with additional information about the user, repository, and current page.\n * See: https://thehub.github.com/epd/engineering/products-and-services/internal/hydro/installation/browser-events/\n *\n * You can find a list of all included context properties in `app/helpers/octolytics_helper.rb`.\n *\n *\n * @example\n * ```tsx\n * function Component() {\n *   const { sendClickAnalyticsEvent } = useClickAnalytics()\n *   return <Button onClick={() => sendClickAnalyticsEvent({category: '...', action: '...', label: '...'})}>Submit</Button>\n * }\n * ```\n *\n */\nexport function useClickAnalytics(): {\n  sendClickAnalyticsEvent: (payload?: {[key: string]: unknown} | AnalyticsEvent) => void\n} {\n  const {sendAnalyticsEvent} = useAnalytics()\n  return {\n    sendClickAnalyticsEvent: useCallback(\n      (payload = {}) => {\n        sendAnalyticsEvent('analytics.click', undefined, payload)\n      },\n      [sendAnalyticsEvent],\n    ),\n  }\n}\n","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\n\nexport interface CSRFTokens {\n  csrf_tokens?: {\n    [path: string]:\n      | {\n          [method: string]: string | undefined\n        }\n      | undefined\n  }\n}\n\nexport function useCSRFToken(path: string, method: string): string | undefined {\n  const {csrf_tokens} = useRoutePayload<CSRFTokens>()\n  return csrf_tokens?.[path]?.[method]\n}\n","import React, {startTransition} from 'react'\nimport {\n  createSearchParams,\n  matchRoutes,\n  resolvePath,\n  useLocation,\n  useNavigate as useReactRouterNavigate,\n  useSearchParams as useReactRouterSearchParams,\n  type NavigateOptions,\n  type To,\n  type URLSearchParamsInit,\n} from 'react-router-dom'\n\nimport isHashNavigation from '@github-ui/is-hash-navigation'\nimport {AppContext} from '@github-ui/react-core/app-context'\nimport {startSoftNav} from '@github-ui/soft-nav/state'\nimport {PREVENT_AUTOFOCUS_KEY} from '@github-ui/react-core/prevent-autofocus'\n\nexport interface NavigateOptionsWithPreventAutofocus extends NavigateOptions {\n  preventAutofocus?: boolean\n}\n\nexport const useNavigate = (): ((to: To, options?: NavigateOptionsWithPreventAutofocus) => void) => {\n  const {routes, history} = React.useContext(AppContext)\n  const reactRouterNavigate = useReactRouterNavigate()\n  return React.useCallback(\n    (to, navigateOptions = {}) => {\n      const pathname = resolvePath(to).pathname\n      const isExternalToApp = !matchRoutes(routes, pathname)\n\n      if (isExternalToApp) {\n        const href = history.createHref(to)\n        ;(async () => {\n          const {softNavigate: turboSoftNavigate} = await import('@github-ui/soft-navigate')\n          turboSoftNavigate(href)\n        })()\n      } else {\n        if (!isHashNavigation(location.href, to.toString())) {\n          startSoftNav('react')\n        }\n        const {preventAutofocus, ...options} = navigateOptions\n        startTransition(() => {\n          reactRouterNavigate(\n            to,\n            preventAutofocus\n              ? {\n                  ...options,\n                  state: {\n                    [PREVENT_AUTOFOCUS_KEY]: true,\n                    ...options.state,\n                  },\n                }\n              : options,\n          )\n          const {turbo, ...state} = window.history.state\n          window.history.replaceState({...state, skipTurbo: true}, '', location.href)\n        })\n      }\n    },\n    [history, reactRouterNavigate, routes],\n  )\n}\n\n/**\n * An implementation of `useSearchParams` that mirrors `react-router-dom`'s `useSearchParams` hook\n * but utilizes `@github-ui/useNavigate` instead of `react-router` `useNavigate` to handle updates.\n */\nexport const useSearchParams = () => {\n  const [searchParams] = useReactRouterSearchParams()\n  const navigate = useNavigate()\n  const {pathname} = useLocation()\n\n  const setSearchParams = React.useCallback<\n    (\n      nextInit?: URLSearchParamsInit | ((prev: URLSearchParams) => URLSearchParamsInit),\n      navigateOpts?: NavigateOptionsWithPreventAutofocus,\n    ) => void\n  >(\n    (nextInit, navigateOptions = {}) => {\n      const newSearchParams = createSearchParams(typeof nextInit === 'function' ? nextInit(searchParams) : nextInit)\n      navigate(\n        {\n          pathname,\n          search: newSearchParams.toString(),\n        },\n        navigateOptions,\n      )\n    },\n    [searchParams, navigate, pathname],\n  )\n\n  return [searchParams, setSearchParams] as const\n}\n","import {useCallback} from 'react'\nimport {useCSRFToken} from '@github-ui/use-csrf-token'\n\ninterface TypedResponse<T> extends Response {\n  json(): Promise<T>\n}\n\n/**\n * The pieces of a RequestInit which we allow to be used.\n * We do not allow a body or method to be passed since those must be specified by other means.\n */\ninterface MethodlessRequestInit extends RequestInit {\n  method?: never\n}\n\n/**\n * @deprecated use the `@github-ui/verified-fetch` package instead\n */\nexport function useVerifiedFetch<R = unknown>(\n  path: string,\n  method: 'get' | 'post' | 'delete',\n): (init?: MethodlessRequestInit) => Promise<TypedResponse<R>> {\n  const token = useCSRFToken(path, method)\n\n  return useCallback(\n    async (init?: MethodlessRequestInit) => {\n      let requestMethod = method\n\n      // TODO: eventually, in this case, we should make an additional API call to get a new token\n      if (!token) throw new Error(`No authenticity token found for method ${requestMethod} and path ${path}`)\n\n      if (!init) {\n        init = {}\n      }\n\n      // This is required for rails endpoints marked with before_action :require_xhr\n      addHeader(init, 'X-Requested-With', 'XMLHttpRequest')\n\n      // Rails expects a post request with _method=delete for DELETE requests\n      if (init.body instanceof URLSearchParams && requestMethod === 'delete') {\n        init.body.append('_method', 'delete')\n        requestMethod = 'post'\n      }\n\n      if (init.body instanceof URLSearchParams || init.body instanceof FormData) {\n        // eslint-disable-next-line github/authenticity-token\n        init.body.append('authenticity_token', token)\n      } else {\n        addHeader(init, 'Scoped-CSRF-Token', token)\n      }\n\n      return await fetch(path, {...init, method: requestMethod})\n    },\n    [path, method, token],\n  )\n}\n\nfunction addHeader(init: RequestInit, key: string, value: string) {\n  init.headers ??= new Headers()\n  const headers = init.headers\n\n  if (headers instanceof Headers) {\n    headers.set(key, value)\n  } else if (Array.isArray(headers)) {\n    const existingIndex = headers.findIndex(([k]) => k === key)\n    if (existingIndex === -1) {\n      headers.push([key, value])\n    } else {\n      headers[existingIndex] = [key, value]\n    }\n  } else {\n    headers[key] = value\n  }\n}\n","/**\n * A Fetch function which will automatically add the correct headers for\n * making requests to GitHub application servers as long as the associated controller methods allow it.\n * Track down the associated controller method and confirm the controller includes\n * ApplicationController::VerifiedFetchDependency as well as `allow_verified_fetch only:`\n * to the relevant controller methods.\n *\n * ## Example\n *\n *     const onClick = async () => {\n *       const resp = await verifiedFetch('/foo', {method: 'POST'})\n *       if (resp.ok) console.log('The response was', await resp.text())\ntest.\n *     }\n */\nexport function verifiedFetch(path: string, init: RequestInit = {}): Promise<Response> {\n  assertRelativePathOrSameOrigin(path)\n\n  const headers: HeadersInit = {\n    ...init.headers,\n    'GitHub-Verified-Fetch': 'true',\n    'X-Requested-With': 'XMLHttpRequest',\n  }\n\n  return fetch(path, {...init, headers})\n}\n\nexport interface JSONRequestInit extends Omit<RequestInit, 'body'> {\n  body?: unknown\n}\n\nfunction assertRelativePathOrSameOrigin(path: string) {\n  if (process.env.NODE_ENV === 'test' && !window.location.origin) return\n  const url = new URL(path, window.location.origin)\n  if (url.origin !== window.location.origin) {\n    throw new Error('Can not make cross-origin requests from verifiedFetch')\n  }\n}\n\n/**\n * A Fetch function which will automatically add the correct headers for\n * making JSON requests\n *\n * Will also `JSON.stringify` the request body if provided.\n\n * ## Example\n *\n *     const onClick = async () => {\n *       const resp = await verifiedFetchJSON('/foo', {body: {foo: 'bar'}, method: 'POST'})\n *       if (resp.ok) console.log('The response was', await resp.json())\n *     }\n */\nexport function verifiedFetchJSON(path: string, init?: JSONRequestInit): Promise<Response> {\n  const initHeaders: HeadersInit = init?.headers ?? {}\n\n  const headers: HeadersInit = {\n    ...initHeaders,\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  }\n\n  const body = init?.body ? JSON.stringify(init.body) : undefined\n\n  return verifiedFetch(path, {...init, body, headers})\n}\n\n/**\n * A Fetch function which will automatically add the GitHub-Is-React header for\n * making JSON requests. It will in turn call verifiedFetchJSON.\n *\n * Using this in React components to fetch data enables us to track these\n * requests in Datadog in the request.dist.referrer metric.\n */\nexport function reactFetch(path: string, init: RequestInit = {}): Promise<Response> {\n  const headers: HeadersInit = {\n    ...init.headers,\n    'GitHub-Is-React': 'true',\n  }\n\n  return verifiedFetch(path, {...init, headers})\n}\n\n/**\n * A Fetch function which will automatically add the GitHub-Is-React header for\n * making JSON requests. It will in turn call verifiedFetchJSON.\n *\n * Using this in React components to fetch data enables us to track these\n * requests in Datadog in the request.dist.referrer metric.\n */\nexport function reactFetchJSON(path: string, init?: JSONRequestInit): Promise<Response> {\n  const initHeaders: HeadersInit = init?.headers ?? {}\n\n  const headers: HeadersInit = {\n    ...initHeaders,\n    'GitHub-Is-React': 'true',\n  }\n\n  return verifiedFetchJSON(path, {...init, headers})\n}\n","import type {SxProp} from '@primer/react'\nimport {Link, Text, Truncate} from '@primer/react'\n\nconst millisecond = 1\nconst second = millisecond * 1000\nconst minute = second * 60\nconst hour = minute * 60\nconst day = hour * 24\nconst month = day * 30\nconst timeIntervals = [\n  {unit: 'month', ms: month},\n  {unit: 'day', ms: day},\n  {unit: 'hour', ms: hour},\n  {unit: 'minute', ms: minute},\n  {unit: 'second', ms: second},\n]\nconst fullDateFormatter = new Intl.DateTimeFormat(undefined, {\n  year: 'numeric',\n  month: 'short',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: undefined,\n  timeZoneName: 'short',\n})\nconst longDateFormatter = new Intl.DateTimeFormat(undefined, {year: 'numeric', month: 'short', day: 'numeric'})\nconst shortDateFormatter = new Intl.DateTimeFormat(undefined, {month: 'short', day: 'numeric'})\n\ntype AgoProps = {\n  timestamp: Date\n  linkUrl?: string | undefined\n  usePreposition?: boolean\n} & SxProp\n\nexport function agoString(timestamp: Date, usePreposition = true) {\n  let timeString = ''\n  const now = new Date()\n  const difference = now.getTime() - timestamp.getTime()\n  const interval = timeIntervals.find(i => i.ms < difference)\n\n  // If the difference is greater than a month, just show the date\n  if (interval && interval.unit !== 'month') {\n    const ago = Math.floor(difference / interval.ms)\n    if (interval.unit === 'day' && ago === 1) {\n      timeString = `yesterday`\n    } else {\n      timeString = `${ago} ${interval.unit}${ago > 1 ? 's' : ''} ago`\n    }\n  } else {\n    const formatter = timestamp.getFullYear() === now.getFullYear() ? shortDateFormatter : longDateFormatter\n    timeString = `${usePreposition ? 'on ' : ''}${formatter.format(timestamp)}`\n  }\n\n  return timeString\n}\n\n// Primer Pattern Request: https://github.com/github/primer/issues/955\n/**\n * @deprecated\n * use Primer's `RelativeTime` element instead\n */\nexport function Ago({timestamp, usePreposition = true, linkUrl, sx}: AgoProps) {\n  const timeString = agoString(timestamp, usePreposition)\n  const fullDateString = fullDateFormatter.format(timestamp)\n\n  if (!linkUrl) {\n    return (\n      <Truncate inline title={fullDateString}>\n        <Text title={fullDateString} sx={sx}>\n          {timeString}\n        </Text>\n      </Truncate>\n    )\n  }\n\n  return (\n    <Link\n      sx={{\n        color: 'fg.muted',\n        ...sx,\n      }}\n      href={linkUrl}\n      target=\"_blank\"\n    >\n      <Truncate inline title={fullDateString}>\n        <Text\n          title={fullDateString}\n          sx={{\n            '&:hover, &:focus': {\n              color: 'accent.fg',\n              textDecoration: 'underline',\n            },\n          }}\n        >\n          {timeString}\n        </Text>\n      </Truncate>\n    </Link>\n  )\n}\n\ntry{ Ago.displayName ||= 'Ago' } catch {}","import {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport React, {useCallback, useContext, useMemo, useRef} from 'react'\n\nexport type FocusHintContextType = {\n  focusHint: string | null\n  context?: unknown\n  setFocusHint: (hint: string | null, context?: unknown) => void\n}\n\nconst FocusHintContext = React.createContext<FocusHintContextType>({\n  focusHint: null,\n  setFocusHint: () => void 0,\n})\n\nexport function FocusHintContextProvider({children}: React.PropsWithChildren) {\n  const location = {key: ssrSafeLocation.pathname + ssrSafeLocation.search}\n  const lastLocationKey = useRef(location.key)\n  const currentLocationKey = useRef(location.key)\n\n  const focusHint = useRef<{hint: string | null; context?: unknown; location: string | null}>({\n    hint: null,\n    location: null,\n  })\n  const focusHintSetter = useCallback(\n    (hint: string | null, context?: unknown) => {\n      focusHint.current = {hint, context, location: location.key}\n    },\n    [location.key],\n  )\n\n  if (currentLocationKey.current !== location.key) {\n    lastLocationKey.current = currentLocationKey.current\n    currentLocationKey.current = location.key\n  }\n\n  const hintValid = focusHint.current.location === lastLocationKey.current\n  const hintValue = hintValid ? focusHint.current.hint : null\n  const contextValue = hintValid ? focusHint.current.context : null\n\n  const value = useMemo(\n    () => ({focusHint: hintValue, context: contextValue, setFocusHint: focusHintSetter}),\n    [hintValue, contextValue, focusHintSetter],\n  )\n  return <FocusHintContext.Provider value={value}>{children}</FocusHintContext.Provider>\n}\n\n/**\n * This allows us to send a focus hint to the next page we are navigating to.\n *\n * The idea is that before navigation within the same React app, we can set a focus hint. When the\n * next page renders, it can see that focus hint and use it to designate an element to receive the\n * initial focus.\n */\nexport function useFocusHintContext() {\n  return useContext(FocusHintContext)\n}\n\ntry{ FocusHintContext.displayName ||= 'FocusHintContext' } catch {}\ntry{ FocusHintContextProvider.displayName ||= 'FocusHintContextProvider' } catch {}","import {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {\n  // eslint-disable-next-line no-restricted-imports\n  Avatar,\n  type AvatarProps,\n} from '@primer/react'\nimport {forwardRef, useMemo} from 'react'\n\nexport type GitHubAvatarProps = AvatarProps\n\nexport const GitHubAvatar = forwardRef<HTMLImageElement, GitHubAvatarProps>(function GitHubAvatar(\n  {src, size = 20, ...otherProps}: GitHubAvatarProps,\n  ref,\n) {\n  const avatarUrl = useMemo(() => {\n    // src maybe be relative, e.g. `/mona.png`, in which case the instances main origin should be used,\n    // e.g. \"https://github.com\" for dotcom. If src is a fully quallified URL then the origin argument is ignored.\n    const url = new URL(src, ssrSafeLocation.origin)\n\n    // do not override size if it's already set as query parameter\n    if (!url.searchParams.has('size') && !url.searchParams.has('s')) {\n      // we double size for better rendering on high density pixel screens\n      url.searchParams.set('size', String(Number(size) * 2))\n    }\n\n    return url.toString()\n  }, [src, size])\n\n  return <Avatar ref={ref} src={avatarUrl} size={size} data-testid=\"github-avatar\" {...otherProps} />\n})\n\ntry{ GitHubAvatar.displayName ||= 'GitHubAvatar' } catch {}","import type {ChildRoute, LoaderResult, RouteRegistration, TransitionType} from './app-routing-types'\nimport type React from 'react'\nimport type {Location} from '@remix-run/router'\n\nexport interface JsonRouteProps {\n  path: string\n  Component: React.ComponentType\n  transitionType?: TransitionType\n  shouldNavigateOnError?: boolean\n  children?: ChildRoute[]\n}\n/**\n * A utility for building a route registration for a route that consumes a JSON object (either via embedding in a\n * script tag or via a JSON fetch on React soft navigations).\n */\nexport function jsonRoute<TRouteData, TEmbeddedData>({\n  path,\n  Component,\n  /**\n   * Some routes want to handle their own errors and not just show a generic error page. In this case,\n   * the error is just handled like any other payload for the route.\n   * NOTE: We might consider replacing the shouldNavigateOnError flag with a parallel implementation to jsonRoute.\n   */\n  shouldNavigateOnError,\n  transitionType,\n  children,\n}: JsonRouteProps): RouteRegistration<TRouteData, TEmbeddedData> {\n  async function coreLoader({location}: {location: Location}): Promise<LoaderResult<TRouteData>> {\n    let response: Response\n    try {\n      const fetchPath = `${location.pathname}${location.search}`\n      response = await window.fetch(fetchPath, {\n        headers: {\n          Accept: 'application/json',\n          'X-Requested-With': 'XMLHttpRequest',\n          'X-GitHub-Target': 'dotcom',\n          'X-React-Router': 'json',\n        },\n      })\n    } catch (error) {\n      return {\n        type: shouldNavigateOnError ? 'route-handled-error' : 'error',\n        error: {type: 'fetchError'},\n      }\n    }\n    if (response.redirected) {\n      return {\n        type: 'redirect',\n        url: response.url,\n      }\n    } else if (!response.ok) {\n      return {\n        type: shouldNavigateOnError ? 'route-handled-error' : 'error',\n        error: {type: 'httpError', httpStatus: response.status},\n      }\n    } else {\n      try {\n        const responseJson = await response.json()\n        return {\n          type: 'loaded',\n          data: responseJson,\n          title: responseJson.title,\n        }\n      } catch (error) {\n        return {\n          type: shouldNavigateOnError ? 'route-handled-error' : 'error',\n          error: {type: 'badResponseError'},\n        }\n      }\n    }\n  }\n\n  function loadFromEmbeddedData({embeddedData}: {embeddedData: TEmbeddedData}): {data: TRouteData; title: string} {\n    const data = embeddedData as unknown as TRouteData & {title: string}\n    return {data, title: data.title}\n  }\n\n  return {\n    path,\n    // TODO: consider wrapping Component with a component that passes payload as a prop  ideally as part of migrating\n    // away from useRoutePayload.\n    Component,\n    coreLoader,\n    loadFromEmbeddedData,\n    transitionType,\n    children,\n  }\n}\n","import {Box, type BoxProps, Text, type TextProps} from '@primer/react'\nimport type {ForwardRefComponent as PolymorphicForwardRefComponent} from '@radix-ui/react-polymorphic'\nimport DOMPurify, {type Config as DOMPurifyConfig} from 'dompurify'\nimport type React from 'react'\nimport {forwardRef} from 'react'\n\ntype Brand<TBase, TBrand extends string> = TBase & {__brand: TBrand}\n\n/**\n * A string that has specifically been marked as verified.\n *\n * WARNING: A string should only be branded as a `SafeHTMLString` if one of the following applies:\n * - it comes from a trusted source on the server\n * - has known static content, or\n * - has been sanitized by DOMPurify.\n */\nexport type SafeHTMLString = Brand<string, 'SafeHTMLString'>\n\ninterface BaseHTMLProps {\n  /**\n   * Set the rendered HTML of the component. Use this prop if the source is untrusted. If you know the string can be\n   * trusted, or has already been sanitized, use the `html` prop instead to avoid re-sanitizing.\n   */\n  unverifiedHTML?: string\n  /**\n   * Optional config passed to DOMPurify when sanitizing `unverifiedHTML`.\n   */\n  unverifiedHTMLConfig?: DOMPurifyConfig\n  /**\n   * Set the rendered HTML of the component. To prevent XSS, ensure that the source of this\n   * HTML is trusted! If the source is untrusted, use `unverifiedHTML` instead.\n   */\n  html?: SafeHTMLString\n}\n\ninterface VerifiedHTMLProps extends BaseHTMLProps {\n  unverifiedHTML?: undefined\n  html: SafeHTMLString\n}\n\ninterface UnverifiedHTMLProps extends BaseHTMLProps {\n  unverifiedHTML: string\n  html?: undefined\n}\n\nexport type SafeHTMLProps = VerifiedHTMLProps | UnverifiedHTMLProps\n\ntype PropsWithHTML<T> = T & SafeHTMLProps\n\nfunction getSafeHTMLAndProps<T>(propsWithHtml: PropsWithHTML<T>) {\n  /**\n   * Note we have to explicitly cast props to T because TypeScript\n   * is not properly converting Omit<T & VerifiedHTMLProps, 'html'> to T.\n   *\n   * We include the `as unknown` intermediate step to avoid warnings\n   * about insufficient type overlap\n   */\n\n  if ('html' in propsWithHtml && propsWithHtml.html !== undefined) {\n    const {html, ...props} = propsWithHtml\n    return {\n      // This is verified html, so we can use it directly\n      safeHTML: html,\n      props: props as unknown as T,\n    }\n  }\n\n  const {unverifiedHTML, unverifiedHTMLConfig, ...props} = propsWithHtml\n  const config = {\n    ...unverifiedHTMLConfig,\n    // we want to ensure we are returning a string not a dom node\n    RETURN_DOM: false,\n    RETURN_DOM_FRAGMENT: false,\n  } satisfies DOMPurifyConfig\n\n  return {\n    // Run the unverified HTML through DOMPurify to sanitize it\n    safeHTML: DOMPurify.sanitize(unverifiedHTML, config),\n    props: props as unknown as T,\n  }\n}\n\n/**\n * `SafeHTMLBox` extends `Box` from `@primer/react` with props for safely\n * rendering HTML strings. Exactly one `html` or `unverifiedHTML` must be\n * supplied.\n *\n * `html` only supports strings that have specifically been marked as verified,\n * which means either they come from a trusted source on the server, they have\n * known static contents, or they have been sanitized by DOMPurify.\n *\n * `unverifiedHTML` supports arbitrary strings; they will be run through\n * DOMPurify before being put in the DOM.\n */\nexport const SafeHTMLBox = withSafeHTML<BoxProps>(Box) as PolymorphicForwardRefComponent<\n  'div' | 'span' | 'pre' | 'table' | 'tbody' | 'tr' | 'td' | 'ul' | 'ol' | 'li',\n  PropsWithHTML<BoxProps>\n>\nSafeHTMLBox.displayName = 'SafeHTMLBox'\n\n/**\n * `SafeHTMLText` extends `Text` from `@primer/react` with props for safely\n * rendering HTML strings. Exactly one `html` or `unverifiedHTML` must be\n * supplied.\n *\n * `html` only supports strings that have specifically been marked as verified,\n * which means either they come from a trusted source on the server, they have\n * known static contents, or they have been sanitized by DOMPurify.\n *\n * `unverifiedHTML` supports arbitrary strings; they will be run through\n * DOMPurify before being put in the DOM.\n */\nexport const SafeHTMLText = withSafeHTML<TextProps>(Text) as PolymorphicForwardRefComponent<\n  'div' | 'span' | 'p' | 'strong' | 'em' | 'pre' | 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6' | 'a',\n  PropsWithHTML<TextProps>\n>\nSafeHTMLText.displayName = 'SafeHTMLText'\n\n/**\n * A higher-order component that extends a basic component by offering\n * `html` and `unverifiedHTML` props that are safe alternatives to `dangerouslySetInnerHTML`.\n */\nfunction withSafeHTML<T>(Component: React.ComponentType<T>) {\n  // We give these display names above\n  // eslint-disable-next-line react/display-name\n  const SafeHTMLComponent = forwardRef<HTMLSpanElement, PropsWithHTML<T>>((propsWithHtml, ref) => {\n    const {safeHTML, props} = getSafeHTMLAndProps(propsWithHtml)\n    // This is the only place in the codebase where `dangerouslySetInnerHTML` should be allowed\n    // eslint-disable-next-line react/forbid-component-props\n    return <Component ref={ref} {...props} dangerouslySetInnerHTML={safeHTML ? {__html: safeHTML} : undefined} />\n  })\n\n  return SafeHTMLComponent\n}\n\n/**\n * `SafeHTMLDiv` extends `div`with props for safely rendering HTML strings.\n * Exactly one `html` or `unverifiedHTML` must be supplied.\n *\n * `html` only supports strings that have specifically been marked as verified,\n * which means either they come from a trusted source on the server, they have\n * known static contents, or they have been sanitized by DOMPurify.\n *\n * `unverifiedHTML` supports arbitrary strings; they will be run through\n * DOMPurify before being put in the DOM.\n */\nexport const SafeHTMLDiv = forwardRef<\n  HTMLDivElement,\n  PropsWithHTML<React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>>\n>((propsWithHtml, ref) => {\n  const {safeHTML, props} = getSafeHTMLAndProps(propsWithHtml)\n  // eslint-disable-next-line react/no-danger\n  return <div ref={ref} {...props} dangerouslySetInnerHTML={safeHTML ? {__html: safeHTML} : undefined} />\n})\nSafeHTMLDiv.displayName = 'SafeHTMLDiv'\n\ntry{ SafeHTMLComponent.displayName ||= 'SafeHTMLComponent' } catch {}","import {ShieldLockIcon} from '@primer/octicons-react'\nimport {ActionList, ActionMenu, Box, Flash, Link, Octicon, type SxProp} from '@primer/react'\nimport type {Location} from 'react-router-dom'\nimport {useLocation} from 'react-router-dom'\n\nexport function SingleSignOnBanner({\n  protectedOrgs,\n  redirectURI,\n  sx,\n}: {\n  protectedOrgs?: string[]\n  redirectURI?: (location: Location) => string\n} & SxProp) {\n  const location = useLocation()\n\n  if (!protectedOrgs || protectedOrgs.length === 0) {\n    return null\n  }\n\n  // If there are TONS of protected orgs, render them in a combined format\n  let visibleOrgNames = <b>{protectedOrgs.slice(0, 3).join(', ')}</b>\n\n  if (protectedOrgs.length === 2) {\n    visibleOrgNames = (\n      <span>\n        <b>{protectedOrgs[0]}</b> and <b>{protectedOrgs[1]}</b>\n      </span>\n    )\n  }\n\n  if (protectedOrgs.length === 3) {\n    visibleOrgNames = (\n      <span>\n        <b>{protectedOrgs.slice(0, 2).join(', ')}</b>, and <b>{protectedOrgs[2]}</b>\n      </span>\n    )\n  }\n\n  return (\n    <Box sx={sx} data-testid=\"sso-banner\">\n      <Box sx={{fontSize: 1}}>\n        <section aria-label=\"Single sign on information\">\n          <Flash\n            sx={{\n              p: 3,\n              borderRadius: 2,\n              borderWidth: 1,\n              borderStyle: 'solid',\n              borderColor: 'accent.muted',\n              fontSize: 1,\n            }}\n          >\n            {protectedOrgs.length === 1 ? (\n              <div>\n                <Octicon icon={ShieldLockIcon} />\n                <Link\n                  inline\n                  href={`/orgs/${protectedOrgs[0]}/sso?return_to=${encodedRedirectURI({location, redirectURI})}`}\n                >\n                  Single sign-on\n                </Link>\n                &nbsp;to see results in the <b>{protectedOrgs[0]}</b> organization.\n              </div>\n            ) : (\n              <Box sx={{display: 'flex', alignItems: 'baseline', flexWrap: 'wrap', gap: 2}}>\n                <Box sx={{flexGrow: 1}}>\n                  <Octicon icon={ShieldLockIcon} />\n                  Single sign on to see results in the {visibleOrgNames}{' '}\n                  {protectedOrgs.length > 3 ? `and ${protectedOrgs.length - 3} other ` : ''}\n                  {protectedOrgs.length > 1 ? 'organizations' : 'organization'}.\n                </Box>\n                <Box sx={{mt: [2, 2, 0]}}>\n                  <SingleSignOnButton protectedOrgs={protectedOrgs} redirectURI={redirectURI} />\n                </Box>\n              </Box>\n            )}\n          </Flash>\n        </section>\n      </Box>\n    </Box>\n  )\n}\nfunction SingleSignOnButton({\n  protectedOrgs,\n  redirectURI,\n}: {\n  protectedOrgs: string[]\n  redirectURI?: (location: Location) => string\n}) {\n  const location = useLocation()\n  return (\n    <ActionMenu>\n      <ActionMenu.Button size=\"small\">Select an organization</ActionMenu.Button>\n      <ActionMenu.Overlay>\n        <ActionList>\n          {protectedOrgs.map(org => (\n            <ActionList.Item\n              key={`org-${org}`}\n              onSelect={() =>\n                (window.location.href = `/orgs/${org}/sso?return_to=${encodedRedirectURI({location, redirectURI})}`)\n              }\n            >\n              {org}\n            </ActionList.Item>\n          ))}\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\nfunction encodedRedirectURI({\n  location,\n  redirectURI,\n}: {\n  location: Location\n  redirectURI?: (location: Location) => string\n}) {\n  return encodeURIComponent(redirectURI ? redirectURI(location) : location.pathname + location.search + location.hash)\n}\n\ntry{ SingleSignOnBanner.displayName ||= 'SingleSignOnBanner' } catch {}\ntry{ SingleSignOnButton.displayName ||= 'SingleSignOnButton' } catch {}"],"names":["CurrentUserProvider","FragmentDivider","useSoftNavigate","path","navigate","useNavigate","useCallback","args","query","options","pathname","search","hash","getUrl","shouldOpenInNewTab","event","ctrlKey","metaKey","button","useNavigateToQuery","navigateToSearch","searchPath","location","useLocation","filter","searchParams","openInNewTab","newQuery","newSearchParams","getNewQueryUrlInfo","updateSearchBar","window","open","undefined","q","href","getCustomScopesFromParam","scopesParam","customScopes","JSON","parse","Array","isArray","e","currentSearchParams","URLSearchParams","get","experimentsParam","getBlackbirdExperiments","join","length","ast","parseString","getExpandedQuery","retransmitEvent","searchEvent","setGlobalNavVisibilityEvent","dispatchEvent","CustomEvent","detail","provideFeedback","App","children","useSearchBarEvents","useEffect","handleRetransmitReactConnection","addEventListener","removeEventListener","navigateToQuery","handleSearchEvent","metadata","useMemo","AnalyticsProvider","appName","category","FocusHintContextProvider","displayName","CurrentUserContext","React","user","Provider","value","useSearchAnalytics","sendAnalyticsEvent","useAnalytics","sendSearchUIEvent","useSendSearchUIEvent","statsPath","getRelativeHref","searchStatsPath","id","login","useCurrentUser","target","interaction","eventData","body","performed_at","Date","now","react_app","react_page","actor_id","actor_login","url","user_agent","navigator","userAgent","browser_width","innerWidth","browser_languages","languages","verifiedFetchJSON","method","shouldUseUIEventTable","useFeatureFlag","sendSearchResultClick","queryId","position","result","language","language_name","line_number","ref_name","commit_sha","blob_sha","repo_nwo","query_id","result_type","result_index","result_path","result_language","result_line_number","result_ref_name","result_commit_sha","result_blob_sha","result_repo_nwo","sendSearchBackNavigation","sendSearchNextPageNavigation","page","page_index","sendSampledSearchResult","lastSelectionTime","timeSinceLastSelection","EllipsisOverflow","side","sx","title","Box","display","overflow","textOverflow","direction","whiteSpace","LanguageCircle","color","bg","borderRadius","borderStyle","borderWidth","borderColor","width","height","Footer","as","flexWrap","alignItems","mt","toArray","child","map","i","key","isValidElement","spacer","FooterSpacer","Fragment","Text","aria-hidden","mx","FooterItem","listStyle","fontSize","Header","flexDirection","fontWeight","Avatar","mr","Title","className","OverflowMenu","ActionMenu","Anchor","IconButton","unsafeDisableTooltip","icon","KebabHorizontalIcon","aria-label","variant","Overlay","ActionList","Content","RepositoryContext","props","mb","RepositoryLink","owner","name","linkProps","Link","repositoryPath","repo","data-hovercard-url","action","span","Result","minWidth","p","px","maxWidth","SearchMatchText","text","SafeHTMLText","html","TokenList","childrenArray","gap","childKey","div","List","boxProps","data-testid","gridTemplateColumns","Object","assign","MonaSearchImageNew","colorMode","useColorModes","colorModeAwareMona","colorModeAwareMona2x","img","alt","src","srcSet","style","Code","results","isRepoSearch","lastSelectionLength","handler","newLength","getSelection","toString","document","duplicatesExpanded","setDuplicatesExpanded","useState","searchResults","duplicateCount","isAcrossRepositories","duplicates","acrossRepos","expandedResults","result_count","reduce","acc","r","duplicate_locations","nwo","some","l","loc","push","Math","floor","random","sampledResult","logged_in","item","CodeResult","shouldRenderRepo","py","Octicon","InfoIcon","size","inline","onClick","justifyContent","MonaSearchImage","textAlign","Button","sign_in_path","sign_up_path","ml","isOpen","setIsOpen","filePath","split","repoName","repositoryOwnerAvatarUrl","repositoryUrl","plainSuffix","shouldUsePlainRepresentation","includes","language_id","htmlUrl","encodePart","branchName","branchSplit","slice","hasGoodAndBadSnippets","snippets","score","hasMoreSnippets","collapsed","setCollapsed","visibleSnippets","s","visibleMatchCount","match_count","totalMatchCount","reachedLimit","clickAnalyticsCallback","lineNumberSuffix","firstSnippet","lineNumber","ending_line_number","starting_line_number","defaultUrl","showDebugScoringInfo","debugScoringInfoEnabled","pl","pr","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","OpenCloseButton","flex","GitHubAvatar","square","unicodeBidi","debug_info","toFixed","retrieval_position","flexShrink","IconWithText","ariaLabel","language_color","textUrl","GitBranchIcon","borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth","MatchSnippet","Flash","preventDefault","UnfoldIcon","FoldIcon","border","ChevronDownIcon","ChevronRightIcon","nextLineNumber","nav","snippetElements","lineNumberAlternation","snippet","tr","role","td","colSpan","marginTop","marginBottom","lines","line","fileLink","navigateToSnippet","isCollapsed","stopPropagation","format","cursor","wordWrap","overflowWrap","mark","backgroundColor","fontFamily","table","tbody","inner","CommitAuthors","commitAuthors","committerAttribution","committer","authorTooltip","commitId","committerUrl","Tooltip","getCommitAuthorsList","commitAuthorsList","author","authorUrl","authorName","lastIndex","findIndex","a","developmentAvatar","avatarUrl","development_avatar","avatar_url","display_name","issueIsOpen","state","getIssueIconColor","isPullRequest","merged","reviewableState","getIssueIcon","GitPullRequestIcon","IssueOpenedIcon","CheckCircleIcon","IssueReferences","issueRefs","pullRequests","issues","splitIssuesAndPRs","issue","is_pull_request","Group","GroupHeading","IssueReference","Divider","pt","iconColor","reviewable_state","Item","LeadingVisual","Truncate","permalink","muted","TrailingVisual","Commits","CommitResult","repositoryName","repository","repositoryOwnerName","owner_login","commitHash","sha","date","author_date","verificationStatus","verification_status","statusRollup","status_check_rollup","signature","signature_verification_reason","signatureVerificationReason","toUpperCase","hasSignature","has_signature","isViewer","is_viewer","keyExpired","key_expired","keyId","key_id","keyRevoked","key_revoked","signedByGitHub","signed_by_github","signerAvatarUrl","signer_avatar_url","signerLogin","signer_login","signatureCertificateSubject","signature_certificate_subject","signatureCertificateIssuer","signature_certificate_issuer","signatureType","signature_type","helpUrl","help_url","combinedStatus","checksStatusSummary","checks_status_summary","checksHeaderState","checks_header_state","checkRuns","check_runs","createCheckRun","authors","copied","setCopied","copyCommit","copyText","setTimeout","ChecksStatusBadge","hl_subject","issue_references","hl_body","committer_attribution","commit_author_tooltip","Ago","timestamp","SignedCommitBadge","commitOid","serverCheckRun","description","targetUrl","target_url","avatarDescription","avatar_description","avatarLogo","avatar_logo","additionalContext","additional_context","pending","avatarBackgroundColor","avatar_background_color","Issues","IssueResult","issueNumber","number","issueUrl","issueTitle","hl_title","issueDescription","hl_text","issueAuthor","author_name","issueAuthorAvatarUrl","author_avatar_url","issueIsPr","pull_request_id","createdDate","created","numComments","num_comments","labels","label","Label","CommentDiscussionIcon","assertNever","x","Count","mode","isFinite","getValueText","max","abs","roundToOneDecimalPlace","round","CountMode","TopicLabel","lineHeight","textDecoration","MarketplaceListings","MarketplaceResultItem","MarketplaceResultAvatar","resource_path","type","VerifiedIcon","marginLeft","short_description","primary_category","secondary_category","marketplaceCategoryPath","categoryName","ownerPath","DownloadIcon","installation_count","MarketplaceCircleBadge","marketplace_listing","listing","bgcolor","development_logo","listing_logo_url","icon_svg","repository_action","MarketplaceSvgAvatar","svg","repository_stack","CircleBadge","boxShadow","SafeHTMLBox","packageIconFromName","idSuffix","DockerIcon","MavenIcon","RubyGemsIcon","NuGetIcon","NPMIcon","ActionIcon","ContainerIcon","PackageIcon","xmlns","fill","viewBox","rect","rx","d","g","clipPath","opacity","defs","linearGradient","x1","x2","y1","y2","gradientUnits","stop","stopColor","offset","fillRule","clipRule","mask","maskType","y","maskUnits","capitalizeFirstLetter","string","charAt","formatPackageTitle","toLowerCase","Packages","PackageResult","updatedAt","updated_at","latestVersions","source","versions","version","latest","latestVersion","pop","package_url","public","visibility","summary","package_type","downloads","PullRequests","Discussions","DiscussionResult","user_avatar_url","user_login","StarButton","starred","onToggleCallback","signInPath","buttonProps","currentlyStarred","setCurrentlyStarred","star","useVerifiedFetch","unstar","onToggle","res","ok","leadingVisual","StarIcon","StarFillIcon","Repositories","sponsorButtonMap","setSponsorButtonMap","getSponsors","getRepoKey","has_funding_file","owner_id","populateSponsorButtonMap","formData","sponsorResponse","json","sponsorFormData","FormData","formRepoKey","sponsorable","has","set","sponsorButtonHtml","RepositoryResult","itemCount","setItemCount","followers","owned_by_organization","hl_name","archived","hl_trunc_description","topics","topic","topicPath","topicName","starred_by_current_user","Topics","TopicResult","logo_url","TopicLink","hl_display_name","hl_short_description","RepositoryCount","repository_count","isLowerBound","repository_count_over_max_fetch_limit","related","RelatedTopics","show","RepoIcon","LowerBound","Exact","head","rest","Users","UserResult","themeGet","flexGrow","borderTopColor","hl_profile_bio","repos","PeopleIcon","flexBasis","is_current_user","FollowButton","followedByUser","followed_by_current_user","userHref","display_login","followed","setFollowed","Wikis","WikiResult","filepath","filename","substring","lastIndexOf","wikiUrl","lastUpdatedDate","LegacyCode","LegacyCodeResult","destinationPath","blobPath","commitish","userSelect","ownerAvatarPath","hl_path","repo_default_branch","CodeSnippetFrame","LegacyCodeSnippet","aria-expanded","hl_fragments","fragment","paddingRight","HoverCard","isHovercardAccessibilityEnabled","outline","aria-modal","tabIndex","EducationGroup","LinkItem","LinkExternalIcon","shine","keyframes","Animation","styled","Base","LazyCounter","totalResults","isLoading","resultCountIsLowerBound","CounterLabel","useSoftNavigateTo","params","navigateTo","LoggedInContext","createContext","useLoggedInContext","useContext","TypeGroup","isLoadingCounters","selectedType","isMobile","searchKinds","indexSelection","kind","isExpanded","setIsExpanded","desktopState","searchKindsState","searchKindCount","find","total","readableNamePlural","TypeItem","defaultItemsVisible","onSelect","selectedAction","navigateToSearchType","o","loggedIn","itemIcon","contents","counter","selected","aria-checked","active","FacetKindLanguage","FacetKindPath","FacetKindRepo","FacetKindPackageType","SortOrderDesc","DefaultSortItem","sort","order","NewestSortItems","RecentlyUpdatedSortItems","RepoSortItems","CodeSortItems","CommitSortItems","IssueSortItems","DiscussionSortItems","PackageSortItems","UserSortItems","WikiSortItems","FocusHintPrefix","FacetNegateButtonWithRef","ref","XIcon","FacetOption","autofocus","allowNegation","mobile","negateButtonRef","linkItemRef","itemName","FileDirectoryIcon","PlusCircleIcon","visual","shouldNavigate","data-react-autofocus","onAuxClick","onKeyDown","current","focus","FacetNegateButton","defaultPrevented","FacetsSkeletonGroups","widths","idx","FacetFocusHint","FilterGroups","facets","searchType","resultCount","footerRef","getQueryUrl","useQueryUrl","focusHint","context","focusContext","setFocusHint","useFocusHintContext","extraLeadingFacets","getExtraLeadingFacets","items","filters","getFilters","resultCountSafe","facet","footerItem","entries","appendAndFocusSearchBar","appendQuery","returnTarget","newFacets","entry","my","index","all","sugIndex","FacetList","aria-labelledby","FiltersGroup","FacetsPane","PageLayout","Pane","divider","resizable","widthStorageKey","sticky","hidden","narrow","regular","wide","pb","MobileFacetList","FacetsDialogContent","resultKind","resultsInfo","withResults","b","TabSwitcherLink","Heading","searchTypeHref","kindName","readableName","advancedSearchPath","Tips","data","t","TipItem","defaultOpen","isLastItem","content","getDetailsProps","useDetails","closeOnOutsideClick","detailsProps","Details","ChevronUpIcon","TipsContentList","isEnd","borderBottomColor","borderBottomStyle","NoResults","data-hpc","gridGap","generateTips","generate","ul","li","SearchError","error","urlSearchParams","AlertIcon","message","QueryHelpComponent","ranges","SuggestionComponent","suggestion","queryHelpSpans","range","start","end","warn","suffix","encodeURIComponent","SortMenuFocusHint","SortMenu","sortItems","onlyGroup","resultsSort","resultsOrder","itemSelectedIndex","labelText","SortMenuItem","isSelected","selectionVariant","align","navigateToSortedResults","ExtraMenu","isCode","onClickSave","openExperimentsDialog","refreshSearch","userIsStaff","isStaff","BookmarkIcon","BookIcon","CommentIcon","BeakerIcon","setDebugScoringInfoEnabled","TypeMobileDropdown","trailingVisual","m","ExperimentsDialog","onDismiss","onSave","experiments","setExperiments","statusMessage","setStatusMessage","saveExperiments","experimentsArray","pair","trim","setBlackbirdExperiments","Portal","Dialog","onClose","Body","code","TextInput","onChange","Buttons","buttons","buttonType","SearchSubHeader","payload","setOpenExperimentsDialog","openDialog","closeDialog","getSortItemsForType","isLegacyCode","isAnyCode","openCustomScopesDialog","currentTarget","focusElement","getElementById","startsWith","ResultCount","elapsedMilliseconds","elapsed_millis","total_cost","retries","limit_reached","FilterIcon","renderBody","secondsForResults","unit","resultsUnit","timeMeasurement","countText","Approximate","getCountText","rowGap","h2","FilterToken","astNode","simpleQueryQualifiers","node","qualifierNodes","qualifier","qualifierNode","qualifierStartLocation","qualifierEndLocation","Token","onRemove","CodeItemsSkeleton","CodeItem","FeaturedTopic","linkedTopic","github_url","development_logo_url","wikipedia_url","URL","urlHost","hostname","replace","topicUrl","logo","LinkIcon","HashIcon","PrimarySuggestions","curated_topic","linked_topic_name","tips","MiniTip","tipsForType","tip","randomTip","LightBulbIcon","MarketingSuggestion","cta","mediaPath","mediaPathRetina","mediaAlt","ArrowRightIcon","Feedback","marketingSuggestions","SecondarySuggestions","useSearchResultCounts","kinds","scopes","setIsLoading","counts","setCounts","Map","final","prevQuery","useRef","prevPayload","prevSearchType","shouldRecount","expandedQuery","kindsToFetch","otherResults","fetchAllCounts","Promise","allSettled","fetchCount","blackbirdCount","status","output","count","append","response","fetch","headers","Accept","Number","failed","extractContent","el","createElement","innerHTML","textContent","multiplier","endsWith","PrefixesDialog","returnFocusRef","rootHelpUrl","maxHeight","overflowY","thead","th","hr","Home","setValue","useRoutePayload","dialogIsOpen","setDialogIsOpen","headerDiv","querySelector","colorModeAwareMonaMobile","colorModeAwareMonaWebP","colorModeAwareMonaMobileWebP","colorModeAwareMonaMobile2x","colorModeAwareMonaWebP2x","colorModeAwareMonaWebMobileP2x","minHeight","LogoGithubIcon","onKeyPress","autoFocus","SearchIcon","XCircleFillIcon","placeholder","BellIcon","picture","cookieConsentEnabled","cookie_consent_enabled","currentYear","getFullYear","marginX","marginRight","MarkGithubIcon","showPreferences","SoftLink","navigateToPath","SearchTypeError","suggestedSearchType","Search","searchTypeError","setSearchTypeError","navigateToPage","searchQuery","loggedInContextValue","performance","getEntries","repoSearch","repoScopes","extractRepoOrgScopes","protectedOrgs","protected_org_logins","restrictToScopedOrgs","CodeIcon","GitCommitIcon","MilestoneIcon","TelescopeIcon","preferredType","chooseSearchType","lang","SearchType","Unknown","mapSearchTypeToURLParam","getSearchTypeError","currentType","mapURLParamToSearchType","unsupportedQualifiers","extractUnsupportedQualifiers","searchTypeAsPlural","Marketplace","onPageChange","scrollTo","isLoggedOutCodeResults","showPagination","page_count","hasErrors","errors","searchMatchCss","h1","SplitPageLayout","padding","guessTypeFromSearch","TwoColumnLayout","fullWidth","isEmpty","fullHeight","primarySuggestion","secondarySuggestion","header","notices","SingleSignOnBanner","redirectURI","Errors","errorType","warn_limited_results","Banner","hideTitle","Description","pagination","Pagination","pageCount","currentPage","hrefBuilder","columnLeft","SearchResultsComponent","origin","registerReactAppFactory","routes","jsonRoute","Component","transitionType","TransitionType","TRANSITION_WHILE_FETCHING","clipboard","writeText","reject","createNode","top","appendChild","copyNode","selection","removeAllRanges","createRange","selectNodeContents","addRange","execCommand","resolve","removeChild","experimentsLocalStorageKey","experimentsDebugScoringKey","safeStorage","getItem","setItem","enabled","removeItem","isQualifier","isSavedQualifier","containsQualifier","qualifierKind","hasChildren","CaretPositionKind","slashRegex","shouldRedirectInsteadOfSearch","isContentNode","matchAll","redirectURL","extractTextQuery","flat","orgs","repoOrgScopes","Set","scope","org","nonBreakingSpace","String","fromCharCode","regex","parseSearchInput","root","highlights","getHighlights","sortHighlights","nodes","hl","classList","add","getCustomScopeNames","findCustomScopeNodes","customScopeNodes","scopeValue","replaceAll","moveCaretToPosition","elem","setSelectionRange","kindHighlightMap","And","selector","Not","Or","Regex","hasLocation","isTextNode","info","operatorLocations","concat","flatMap","getCaretPositionKindFromIndex","matchedNode","findMatchingNode","match","Is","Language","Path","Repository","Owner","Saved","OtherQualifier","out","__extractInvalid","isQualifierCompatible","raw","contentNode","PRs","searchTypePreferences","Orgs","CodeLegacy","constraints","constraint","extractSearchTypeConstraints","typeMap","compatibleSearchTypes","getCompatibleSearchTypes","types","allowedType","keys","preferredTypes","chosenType","repositories","pullrequests","discussions","commits","registrypackages","marketplace","users","wikis","codelegacy","retainScrollPosition","CheckRunItem","checkRun","getOcticonFromIconString","CheckIcon","DotFillIcon","StopIcon","IssueReopenedIcon","ClockIcon","SquareFillIcon","SkipIcon","inProgress","alignSelf","stroke","strokeWidth","margin","fontStyle","ChecksStatusBadgeFooter","HeaderState","CheckStatusDialog","borderBottom","subtitle","Spinner","ICON_STYLE","success","circled","filled","CheckCircleFillIcon","default","CircleIcon","failure","XCircleIcon","QuestionIcon","IconOnlyStatus","descriptionText","tooltipText","tooltipId","useId","iconElement","clsx","disablePopover","buttonSx","onWillOpenPopup","fetchData","checkButtonRef","iconStyle","useCommitChecksStatusDetails","oid","details","setDetails","oidToFetch","setOidToFetch","commitStatusDetailsPath","consentControlInstance","CookieCategoryId","CookieCategoryName","privacyPolicyUrl","cookieCategories","descHtml","isUnswitchable","consentControlOptions","textResources","bannerMessageHtml","acceptAllLabel","rejectAllLabel","moreInfoLabel","preferencesDialogCloseLabel","preferencesDialogTitle","preferencesDialogDescHtml","themes","github","initialTheme","DefaultCookieConsentPreferences","Required","NotRequired","CONSENT_COOKIE_NAME","CONSENT_COOKIE_EXPIRATION_DATE","getTime","onPreferenceChange","preferences","setPreferencesToCookie","hideBanner","initializeConsentControl","ConsentControl","getPreferencesFromCookie","showCookieBanner","showBanner","setConsentToAcceptAll","hasNoCookiePreferences","consentDeferred","Deferred","waitForConsentPreferences","promise","consentPreferences","cookieCategoryId","setCookie","toUTCString","preferencesCookie","getCookie","cookieCategoriesPreferences","cookieParts","preference","initialConsent","getCookies","cookies","cookie","readCookies","expiration","strictDomain","samesite","domain","secure","protocol","expire","deleteCookie","time","constructor","currentUrl","hasHash","host","useFeatureFlags","useAppPayload","enabled_features","featureName","ReasonLabel","reason","expiredOrRevokedText","isEnterprise","SignedCommitHeader","SignedCommitFooter","keyHex","signer","showPartiallyVerifiedMessage","signingLinkComponent","SmimeCommitFooter","subject","issuer","subject_org_label","issuer_org_label","organization","organization_unit","common_name","email_address","SignedCommitDialog","footerLabel","footerUrl","icon_color","UnverifiedIcon","signatureLink","renderHeader","dialogLabelId","CloseButton","badgeSize","badgeRef","noDelay","VerificationLabel","labelProps","verification_label","STATUS_TO_LABEL","verified","unverified","partially_verified","forwardRef","labelAndVariant","contextData","AnalyticsContext","eventType","react","sendEvent","useClickAnalytics","sendClickAnalyticsEvent","useCSRFToken","csrf_tokens","history","AppContext","reactRouterNavigate","useReactRouterNavigate","to","navigateOptions","resolvePath","matchRoutes","isHashNavigation","startSoftNav","preventAutofocus","startTransition","PREVENT_AUTOFOCUS_KEY","turbo","replaceState","skipTurbo","createHref","softNavigate","turboSoftNavigate","useSearchParams","useReactRouterSearchParams","setSearchParams","nextInit","createSearchParams","token","init","requestMethod","addHeader","Headers","existingIndex","k","verifiedFetch","assertRelativePathOrSameOrigin","stringify","reactFetch","reactFetchJSON","timeIntervals","ms","day","hour","minute","second","millisecond","fullDateFormatter","Intl","DateTimeFormat","year","month","timeZoneName","longDateFormatter","shortDateFormatter","agoString","usePreposition","timeString","difference","interval","ago","formatter","linkUrl","fullDateString","FocusHintContext","ssrSafeLocation","lastLocationKey","currentLocationKey","hint","focusHintSetter","hintValid","hintValue","contextValue","otherProps","shouldNavigateOnError","coreLoader","fetchPath","redirected","httpStatus","responseJson","loadFromEmbeddedData","embeddedData","SafeHTMLComponent","getSafeHTMLAndProps","propsWithHtml","safeHTML","unverifiedHTML","unverifiedHTMLConfig","config","RETURN_DOM","RETURN_DOM_FRAGMENT","DOMPurify","withSafeHTML","dangerouslySetInnerHTML","__html","SafeHTMLDiv","visibleOrgNames","section","ShieldLockIcon","encodedRedirectURI","SingleSignOnButton"],"sourceRoot":""}