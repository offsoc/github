{"version":3,"file":"chunk-app_assets_modules_github_jump-to_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/jump-to.ts","app/assets/modules/github/jump-to/model.ts","app/assets/modules/github/jump-to/tracking.ts","app/assets/modules/github/jump-to/render.ts","app/assets/modules/github/jump-to/controller.ts","app/assets/modules/github/jump-to/filtering.ts","app/assets/modules/github/find-next-element-sibling.ts","ui/packages/input-navigation-behavior/scrollto.ts","ui/packages/input-navigation-behavior/input-navigation-behavior.ts","ui/packages/internal-api-insights/index.ts"],"sourcesContent":["// Disable camel-case rule to allow for easy batch updates via `updateCurrentEventPayload`.\n\nimport {\n  activateSearchField,\n  deactivateSearchField,\n  hideDropdown,\n  showDropdown,\n  updateSearchEntries,\n} from './jump-to/render'\n\nimport {getSuggestionsRequestData, parseSuggestionsResponse, updateSearchURL} from './jump-to/model'\nimport {isJumpToAvailable, populateDropdown} from './jump-to/controller'\nimport {activate as navigationActivate, focus as navigationFocus} from '@github-ui/input-navigation-behavior'\nimport {trackJumpToEvent, trackSelection, updateCurrentEventPayload} from './jump-to/tracking'\nimport type {Suggestion} from './jump-to/model'\nimport {debounce} from '@github/mini-throttle'\n\nimport findNextElementSibling from './find-next-element-sibling'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onFocus} from '@github-ui/onfocus'\nimport {requestSubmit} from '@github-ui/form-utils'\nimport memoize from '@github/memoize'\nimport {reportTraceData} from '@github-ui/internal-api-insights'\n\nlet asyncSuggestions: Promise<Suggestion[]> | null\n\n// Preloads suggestion data and registers input listener on initial page load.\nobserve('.js-jump-to-field', {\n  constructor: HTMLInputElement,\n  add(field) {\n    field.addEventListener(\n      'input',\n      debounce(async function () {\n        updateSearchEntries(field)\n        enableNavigation(field)\n        populateDropdown(field, await asyncSuggestions!)\n      }, 100),\n    )\n\n    // Show suggestions when the input was focused before the script loaded.\n    if (document.activeElement && document.activeElement === field) {\n      onJumpToFocus(field)\n    }\n  },\n})\n\nconst MAX_PAGE_VIEWS_TO_SEND_TO_SERVER = 10\n\nconst suggestionsCache = new Map()\nexport function clearSuggestionsCache() {\n  suggestionsCache.clear()\n}\n\nasync function fetchSuggestions(url: string, token: string): Promise<Suggestion[]> {\n  const data = getSuggestionsRequestData(MAX_PAGE_VIEWS_TO_SEND_TO_SERVER)\n  data.set('_method', 'GET') // Allow this request to be treated as a GET and query DB replica\n\n  let result: Suggestion[] = []\n\n  const fetchUrl = new URL(url, window.location.origin)\n\n  if (location.search.match(/_tracing=true/)) {\n    fetchUrl.searchParams.set('graphql_query_trace', 'true')\n  }\n\n  const response = await fetch(fetchUrl.href, {\n    method: 'POST',\n    mode: 'same-origin',\n    body: data,\n    headers: {\n      Accept: 'application/json',\n      'Scoped-CSRF-Token': token,\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  })\n\n  if (response.ok) {\n    const jsonResponse = await response.json()\n    reportTraceData(jsonResponse)\n    result = parseSuggestionsResponse(jsonResponse)\n  }\n\n  // Hack to inject custom commands\n  const hiddenSearchCommandsInput = document.querySelector('.js-search-commands')\n  if (hiddenSearchCommandsInput instanceof HTMLInputElement) {\n    const jsonString = hiddenSearchCommandsInput.value\n    let parsedSearchCommands = []\n    try {\n      parsedSearchCommands = JSON.parse(jsonString).commands\n    } catch (error) {\n      // noop\n    }\n    result = result.concat(parsedSearchCommands)\n  }\n\n  return result\n}\n\nlet fetchSuggestionsLastUsedAt = 0\nconst memoizedFetchSuggestions = memoize(fetchSuggestions, {cache: suggestionsCache})\n\n// Fetch entire list of possible suggestions from the server.\nexport async function getSuggestions(field: HTMLElement): Promise<Suggestion[]> {\n  const url = field.getAttribute('data-jump-to-suggestions-path')\n  if (!url) throw new Error('could not get jump to suggestions path')\n  const token = findNextElementSibling(field, 'js-data-jump-to-suggestions-path-csrf') as HTMLInputElement\n  if (!token) return []\n\n  // We don't want to fetch the same results more than once, but we also don't want to use stale results, so we forget the whole cache after 5 sec.\n  // Expiring each entry separately would be overkill for this simple case\n  if (Date.now() - fetchSuggestionsLastUsedAt > 5000) {\n    clearSuggestionsCache()\n  }\n  fetchSuggestionsLastUsedAt = Date.now()\n  return memoizedFetchSuggestions(url, token.value)\n}\n\nasync function onJumpToFocus(el: HTMLElement) {\n  const field = el as HTMLInputElement\n  activateSearchField(field)\n  showDropdown(field)\n\n  if (!asyncSuggestions) {\n    asyncSuggestions = getSuggestions(field)\n  }\n\n  updateSearchEntries(field)\n  enableNavigation(field)\n  populateDropdown(field, await asyncSuggestions)\n}\nonFocus('.js-jump-to-field', onJumpToFocus)\n\n// Handles selection events (via the Enter key) or dismissal of the suggestions menu (via the Esc key).\non('navigation:keydown', '.js-site-search-form', function (event) {\n  const selection = event.currentTarget.querySelector('.js-navigation-item.navigation-focus')\n  switch (event.detail.hotkey) {\n    case 'Enter':\n      if (!selection) {\n        // If there is no selection, submit the search form.\n        const form = event.currentTarget as HTMLFormElement\n        requestSubmit(form)\n      } else {\n        // Otherwise, track the selection event.\n        trackSelection(selection.querySelector<HTMLElement>('.js-jump-to-suggestion-path')!)\n      }\n      break\n    case 'Escape':\n      // eslint-disable-next-line github/no-blur\n      event.currentTarget.querySelector<HTMLInputElement>('.js-jump-to-field')!.blur()\n      hideDropdown()\n      break\n  }\n})\n\non('navigation:focus', '.js-site-search-form', function (event) {\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n  const id = (event.target as Element).id\n  const container = (event.target as Element).closest<HTMLElement>('.js-jump-to-suggestions-results-container')!\n  for (const item of container.querySelectorAll('.js-navigation-item')) {\n    item.setAttribute('aria-selected', (event.target === item).toString())\n  }\n  field.setAttribute('aria-activedescendant', id)\n})\n\n// ensures that the dropdown stays open if any child element of jump-to as a whole\n// has focus, this allows screenreaders to navigate the list\nlet timeout: number | null = null\non('focusout', '.js-jump-to', function () {\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n  deactivateSearchField(field)\n  timeout = window.setTimeout(() => {\n    hideDropdown()\n  }, 0)\n})\n\non('focusin', '.js-jump-to', function () {\n  if (timeout) window.clearTimeout(timeout)\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n  showDropdown(field)\n})\n\n// Handle selecting an item from the suggestion list\non('click', '.js-jump-to-suggestion-path', function (event) {\n  const link = event.currentTarget as HTMLAnchorElement\n\n  // Ensure we have an up-to-date search q param on the search suggestion link on click\n  if (link.getAttribute('data-target-type') === 'Search') {\n    const inputField = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n    link.href = updateSearchURL(inputField.value.trim(), link.href)\n  }\n\n  hideDropdown()\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')\n  if (field) {\n    deactivateSearchField(field)\n  }\n\n  // Track click events\n  trackSelection(link)\n})\n\non('submit', '.js-site-search-form', function (event) {\n  if (!isJumpToAvailable()) {\n    return\n  }\n\n  const form = event.target as Element\n  if (form.getAttribute('data-scoped-search-url')) {\n    updateCurrentEventPayload({})\n  }\n  trackJumpToEvent('search')\n})\n\nfunction enableNavigation(field: HTMLInputElement) {\n  const queryText = field.value.trim()\n  const resultsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-results-container')!\n\n  if (queryText) {\n    navigationFocus(resultsContainer)\n  } else {\n    navigationActivate(resultsContainer)\n  }\n}\n","import {buildProjectKey, buildRepositoryKey, buildTeamKey, getPageViewsMap} from './page-views'\n\nexport type Suggestion = {\n  avatarUrl: string | null\n  databaseId: number\n  name: string\n  number: number | null\n  owner: {name: string} | null\n  path: string\n  rank: number\n  type: 'Project' | 'Repository' | 'Team'\n  pageKey: string\n}\n\ntype ErrorResponse = {\n  data: {\n    errors: unknown[]\n  }\n}\ntype SuccessResponse = {\n  data: {\n    suggestions: {\n      nodes: Array<Suggestion | null>\n    }\n  }\n}\ntype SuggestionsResponse = ErrorResponse | SuccessResponse\n\nexport function getSuggestionsRequestData(maxPageViews: number): FormData {\n  const data = new FormData()\n  for (const pageKey of Object.keys(getPageViewsMap()).slice(0, maxPageViews)) {\n    data.append('variables[pageViews][]', pageKey)\n  }\n\n  return data\n}\n\nexport function parseSuggestionsResponse(response: SuggestionsResponse): Suggestion[] {\n  if ('errors' in response.data) return []\n\n  let i = 1\n  const suggestions = []\n  for (const suggestion of response.data.suggestions.nodes) {\n    if (suggestion == null) continue\n    // Fill in the rank as reported by the server.\n    suggestion.rank = i++\n    suggestion.pageKey = pageKeyFromSuggestion(suggestion)\n    if (suggestion.type === 'Team') {\n      suggestion.name = `@${suggestion.name}`\n    }\n    suggestions.push(suggestion)\n  }\n\n  return suggestions\n}\n\nexport function buildSearchURL(searchPath: string, queryText: string): string {\n  const url = new URL(searchPath, window.location.origin)\n  const searchParams = new URLSearchParams(url.search.slice(1))\n\n  searchParams.set('q', queryText)\n\n  // persist the \"type\" of the search results page if there is one\n  const searchType = new URLSearchParams(window.location.search).get('type')\n  if (searchType) {\n    searchParams.set('type', searchType)\n  }\n\n  url.search = searchParams.toString()\n  return url.toString()\n}\n\nexport function updateSearchURL(queryText: string, href: string): string {\n  const url = new URL(href, window.location.origin)\n  const searchParams = new URLSearchParams(url.search.slice(1))\n\n  if (searchParams.get('q')) {\n    searchParams.set('q', queryText)\n  }\n\n  url.search = searchParams.toString()\n  return url.toString()\n}\n\nfunction pageKeyFromSuggestion(suggestion: Suggestion): string {\n  let key: string\n  const [ownerLogin, repositoryName] = suggestion.name.split('/') || []\n  switch (suggestion.type) {\n    case 'Project':\n      key = buildProjectKey(suggestion.owner!.name, `${suggestion.number}`)\n      break\n    case 'Repository':\n      key = buildRepositoryKey(ownerLogin!, repositoryName!)\n      break\n    case 'Team':\n      key = buildTeamKey(ownerLogin!, repositoryName!)\n      break\n    default:\n      throw new Error(`Invalid Suggestion type: ${suggestion.type}`)\n  }\n  return key\n}\n","import type {Context} from '@github/hydro-analytics-client'\nimport {sendEvent} from '@github-ui/hydro-analytics'\n\ntype EventName = 'menu-activation' | 'menu-deactivation' | 'click' | 'query' | 'search'\n\nlet currentEventContext: Context = {}\n\nexport function trackSelection(anchor: Element): void {\n  const targetType = anchor.getAttribute('data-target-type')!\n\n  if (targetType === 'Search') {\n    const form = document.querySelector<HTMLFormElement>('.js-site-search-form')!\n    const scopeType = form.getAttribute('data-scope-type')\n    const itemType = anchor.getAttribute('data-item-type')\n\n    if (scopeType) {\n      updateCurrentEventPayload({\n        scope_id: parseInt(form.getAttribute('data-scope-id') || '').toString(),\n        scope_type: scopeType,\n        target_scope: itemType || '',\n      })\n    }\n    trackJumpToEvent('search')\n  } else if (targetType === 'Project' || targetType === 'Repository' || targetType === 'Team') {\n    updateCurrentEventPayload({\n      target_id: parseInt(anchor.getAttribute('data-target-id') || '').toString(),\n      target_type: targetType,\n      target_scope: '',\n      client_rank: parseInt(anchor.getAttribute('data-client-rank') || '').toString(),\n      server_rank: parseInt(anchor.getAttribute('data-server-rank') || '').toString(),\n    })\n    trackJumpToEvent('click')\n  }\n}\nexport function trackJumpToEvent(eventName: EventName): boolean {\n  const actorId = parseInt(\n    document.head?.querySelector<HTMLMetaElement>('meta[name=\"octolytics-actor-id\"]')?.content || '',\n  )\n  if (!actorId) {\n    // Do not track events for anonymous users.\n    return false\n  }\n\n  let sessionId = currentEventContext['session_id']\n\n  if (eventName === 'menu-activation' && sessionId) {\n    // Do not track duplicate menu activation for this session.\n    return false\n  }\n\n  if (eventName !== 'menu-activation' && !sessionId) {\n    // Do not track any duplicate events after session has ended.\n    return false\n  }\n\n  if (eventName === 'menu-activation') {\n    // Start a new session.\n    sessionId = uuidv4()\n    updateCurrentEventPayload({session_id: sessionId})\n  }\n\n  if (!sessionId) return false\n  sendEvent(`jump-to-${eventName}`, currentEventContext)\n\n  if (eventName === 'menu-deactivation' || eventName === 'click' || eventName === 'search') {\n    // Reset payload after any event that concludes the session.\n    resetCurrentEventPayload()\n  }\n\n  return true\n}\n\nexport function updateCurrentEventPayload(attributes: Context): void {\n  Object.assign(currentEventContext, attributes)\n}\n\nexport function resetCurrentEventPayload(): void {\n  currentEventContext = {}\n}\n\nexport function cloneCurrentEventPayload(): Context {\n  // Shallow clone the whole object.\n  return {...currentEventContext}\n}\n\n// https://stackoverflow.com/a/2117523\nfunction uuidv4(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0\n    const v = c === 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n","import type {Suggestion} from './model'\nimport {buildSearchURL} from './model'\nimport {fuzzyHighlightElement} from '@github-ui/fuzzy-filter'\nimport {trackJumpToEvent} from './tracking'\n\nexport function activateSearchField(field: HTMLElement) {\n  field.classList.add('js-navigation-enable')\n  field.classList.add('jump-to-field-active')\n  field.parentElement?.classList.add('search-wrapper-suggestions-active')\n}\n\nexport function deactivateSearchField(field: HTMLElement) {\n  field.classList.remove('js-navigation-enable')\n  field.classList.remove('jump-to-field-active')\n  field.parentElement?.classList.remove('search-wrapper-suggestions-active')\n}\n\nexport function showDropdown(field: HTMLElement) {\n  /* eslint-disable-next-line github/no-d-none */\n  document.querySelector<HTMLElement>('.js-jump-to-suggestions-container')?.classList.remove('d-none')\n  field.classList.add('jump-to-dropdown-visible')\n\n  document.querySelector<HTMLElement>('.js-jump-to-field')?.setAttribute('aria-expanded', 'true')\n}\n\nexport function hideDropdown() {\n  /* eslint-disable-next-line github/no-d-none */\n  document.querySelector<HTMLElement>('.js-jump-to-suggestions-container')?.classList.add('d-none')\n  const inputField = document.querySelector<HTMLElement>('.js-jump-to-field')\n\n  inputField?.classList.remove('jump-to-dropdown-visible')\n  inputField?.setAttribute('aria-expanded', 'false')\n  trackJumpToEvent('menu-deactivation')\n}\n\nexport function updateSearchEntries(field: HTMLInputElement) {\n  const form = field.form\n  const resultsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-results-container')\n  const queryText = field.value.trim()\n  const isScoped = !!(field.form && field.form.getAttribute('data-scope-type'))\n  const hasOwnerScope = (field.form && field.form.getAttribute('data-scope-type')) === 'Repository'\n  const existingScopedSearch = resultsContainer?.querySelector<HTMLElement>('.js-jump-to-scoped-search')\n  const existingOwnerScopedSearch = resultsContainer?.querySelector<HTMLElement>('.js-jump-to-owner-scoped-search')\n  const existingGlobalSearch = resultsContainer?.querySelector<HTMLElement>('.js-jump-to-global-search')\n\n  // hide scoped search if no query text or not a scoped page\n  /* eslint-disable-next-line github/no-d-none */\n  existingScopedSearch?.classList.toggle('d-none', !queryText || !isScoped)\n  if (existingOwnerScopedSearch) {\n    /* eslint-disable-next-line github/no-d-none */\n    existingOwnerScopedSearch.classList.toggle('d-none', !queryText || !hasOwnerScope)\n  }\n  // hide global search if no query text\n  /* eslint-disable-next-line github/no-d-none */\n  existingGlobalSearch?.classList.toggle('d-none', !queryText)\n\n  // update scoped search entry if we are showing it\n  if (queryText && isScoped) {\n    const searchPath = form?.getAttribute('action')\n    const updatedScopedSearch = updateSearchEntry(\n      existingScopedSearch ? existingScopedSearch : new HTMLElement(),\n      queryText,\n      buildSearchURL(searchPath ? searchPath : '', queryText),\n      true,\n      false,\n    )\n    resultsContainer?.replaceChild(updatedScopedSearch, existingScopedSearch ? existingScopedSearch : new HTMLElement())\n  }\n\n  if (existingOwnerScopedSearch) {\n    if (queryText && isScoped) {\n      const searchPath = form?.getAttribute('data-owner-scoped-search-url')\n      const updatedOwnerScopedSearch = updateSearchEntry(\n        existingOwnerScopedSearch,\n        queryText,\n        buildSearchURL(searchPath ? searchPath : '', queryText),\n        true,\n        true,\n      )\n      resultsContainer?.replaceChild(updatedOwnerScopedSearch, existingOwnerScopedSearch)\n    }\n  }\n\n  // update global search\n  if (queryText) {\n    const unscopedSearchPath = form?.getAttribute('data-unscoped-search-url')\n    const updatedGlobalSearch = updateSearchEntry(\n      existingGlobalSearch ? existingGlobalSearch : new HTMLElement(),\n      queryText,\n      buildSearchURL(unscopedSearchPath ? unscopedSearchPath : '', queryText),\n      false,\n      false,\n    )\n    resultsContainer?.replaceChild(updatedGlobalSearch, existingGlobalSearch ? existingGlobalSearch : new HTMLElement())\n  }\n}\n\nexport function updateDropdown(field: HTMLInputElement, queryText: string, suggestionsToDisplay: Suggestion[]) {\n  const form = field.form\n  if (!form) return\n\n  const template = getTemplateElement('.js-jump-to-suggestions-template-container')\n  const results = document.createDocumentFragment()\n\n  if (suggestionsToDisplay.length < 1 && !queryText) {\n    displayNoResults()\n  } else {\n    for (const [i, suggestion] of suggestionsToDisplay.entries()) {\n      results.appendChild(fillTemplate(template, suggestion, queryText, i))\n    }\n\n    replaceSuggestions(results)\n  }\n}\n\nfunction isUserLoggedIn(): boolean {\n  return Boolean(document.head?.querySelector<HTMLMetaElement>('meta[name=\"user-login\"]')?.content)\n}\n\nfunction displayNoResults() {\n  if (!isUserLoggedIn()) {\n    return\n  }\n\n  const template = getTemplateElement('.js-jump-to-no-results-template-container')\n\n  const noResults = template.cloneNode(true)\n  if (noResults instanceof HTMLElement) {\n    /* eslint-disable-next-line github/no-d-none */\n    noResults.classList.remove('d-none')\n  }\n\n  replaceSuggestions(noResults)\n}\n\nfunction replaceSuggestions(newSuggestions: Node) {\n  const resultsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-results-container')\n\n  if (resultsContainer) {\n    for (const oldResult of resultsContainer.querySelectorAll('.js-jump-to-suggestion')) {\n      oldResult.parentNode?.removeChild(oldResult)\n    }\n\n    resultsContainer.appendChild(newSuggestions)\n  }\n}\n\nfunction showSuggestionOcticon(el: HTMLElement, octiconSelector: string) {\n  const octiconContainer = el.querySelector<HTMLElement>('.js-jump-to-octicon')\n  const octicon = octiconContainer?.querySelector<SVGElement>(octiconSelector)\n  /* eslint-disable-next-line github/no-d-none */\n  octiconContainer?.classList.remove('d-none')\n  /* eslint-disable-next-line github/no-d-none */\n  octicon?.classList.remove('d-none')\n}\n\nfunction updateSearchEntry(\n  element: HTMLElement,\n  queryText: string,\n  href: string,\n  isScoped: boolean,\n  isOwnerScoped: boolean,\n): HTMLElement {\n  const el = element.cloneNode(true) as HTMLElement\n\n  if (isScoped) {\n    el.id = `jump-to-suggestion-search-${isOwnerScoped ? 'scoped-owner' : 'scoped'}`\n  } else {\n    el.id = `jump-to-suggestion-search-global`\n  }\n\n  const anchor = el.querySelector<HTMLAnchorElement>('.js-jump-to-suggestion-path')\n  if (anchor) {\n    anchor.href = href\n    anchor.setAttribute('data-target-type', 'Search')\n  }\n\n  const nameElement = el.querySelector<HTMLElement>('.js-jump-to-suggestion-name')\n  if (nameElement) {\n    nameElement.textContent = queryText\n    nameElement.setAttribute('aria-label', queryText)\n  }\n\n  showSuggestionOcticon(el, '.js-jump-to-octicon-search')\n\n  const badgeEl = el.querySelector<HTMLElement>('.js-jump-to-badge-search')\n  if (badgeEl) {\n    /* eslint-disable-next-line github/no-d-none */\n    badgeEl.classList.remove('d-none')\n    if (isScoped) {\n      /* eslint-disable-next-line github/no-d-none */\n      badgeEl.querySelector<HTMLElement>('.js-jump-to-badge-search-text-default')?.classList.remove('d-none')\n    } else {\n      /* eslint-disable-next-line github/no-d-none */\n      badgeEl.querySelector<HTMLElement>('.js-jump-to-badge-search-text-global')?.classList.remove('d-none')\n    }\n  }\n\n  return el\n}\n\nfunction fillTemplate(\n  template: HTMLElement,\n  suggestion: Suggestion,\n  queryText: string,\n  clientRank: number,\n): HTMLElement {\n  const el = template.cloneNode(true) as HTMLElement\n  el.id = `jump-to-suggestion-${suggestion.type.toLowerCase()}-${suggestion.databaseId}`\n\n  const anchor = el.querySelector<HTMLAnchorElement>('.js-jump-to-suggestion-path')\n  if (anchor) {\n    anchor.href = suggestion.path\n    anchor.setAttribute('data-target-type', suggestion.type)\n\n    anchor.setAttribute('data-target-id', `${suggestion.databaseId}`)\n    anchor.setAttribute('data-client-rank', `${clientRank}`)\n    anchor.setAttribute('data-server-rank', `${suggestion.rank}`)\n  }\n\n  const nameElement = el.querySelector<HTMLElement>('.js-jump-to-suggestion-name')\n  if (nameElement) {\n    nameElement.textContent = suggestion.name\n    // set this because the element fuzzyhighlighting confuses screenreaders\n    nameElement.setAttribute('aria-label', suggestion.name)\n  }\n\n  fuzzyHighlightElement(nameElement ? nameElement : new Element(), queryText.replace(/\\s/g, ''))\n\n  switch (suggestion.type) {\n    case 'Team': {\n      const avatar = el.querySelector<HTMLImageElement>('.js-jump-to-suggestion-avatar')\n      if (avatar) {\n        avatar.alt = suggestion.name\n        avatar.src = suggestion.avatarUrl ? suggestion.avatarUrl : ''\n        /* eslint-disable-next-line github/no-d-none */\n        avatar.classList.remove('d-none')\n      }\n      break\n    }\n    case 'Project':\n      showSuggestionOcticon(el, '.js-jump-to-octicon-project')\n      break\n    case 'Repository':\n      showSuggestionOcticon(el, '.js-jump-to-octicon-repo')\n      break\n  }\n\n  const badgeEl = el.querySelector<HTMLElement>('.js-jump-to-badge-jump')\n  /* eslint-disable-next-line github/no-d-none */\n  badgeEl?.classList.remove('d-none')\n\n  return el\n}\n\nfunction getTemplateElement(templateContainerSelector: string): HTMLElement {\n  const suggestionsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-container')\n  return suggestionsContainer?.querySelector<HTMLElement>(templateContainerSelector)?.firstElementChild as HTMLElement\n}\n","import {getPageViewsMap, scorer} from './page-views'\nimport {trackJumpToEvent, updateCurrentEventPayload} from './tracking'\nimport type {PageViews} from './page-views'\nimport type {Suggestion} from './model'\nimport {filterSuggestions} from './filtering'\nimport {updateDropdown} from './render'\n\n// Reports whether or not the Jump To feature is available in the current context.\n//\n// At present Jump To is only available to logged-in users who are not on a mobile device. In those\n// situations, the `.js-jump-to-field` class is inserted into the markup on the appropriate element.\n//\n// TODO Split the site search behavior and jump-to behavior into isolated components so site search\n// module behavior isn't partially disabled based on this state.\nexport function isJumpToAvailable(): boolean {\n  return !!document.querySelector('.js-jump-to-field')\n}\n\nexport function populateDropdown(field: HTMLInputElement, suggestions: Suggestion[]): void {\n  const query = field.value.trim()\n  const matchingSuggestions = rank(filterSuggestions(suggestions, query, window.location.pathname), getPageViewsMap())\n  const suggestionsToDisplay = matchingSuggestions.slice(0, 7)\n\n  updateCurrentEventPayload({\n    result_count: matchingSuggestions.length.toString(),\n    display_count: suggestionsToDisplay.length.toString(),\n    filter_count: (suggestions.length - matchingSuggestions.length).toString(),\n    query,\n    display_set: JSON.stringify(suggestionsToDisplay.map(s => [s.type, s.databaseId])),\n  })\n\n  updateDropdown(field, query, suggestionsToDisplay)\n  trackJumpToEvent('menu-activation') || trackJumpToEvent('query')\n}\n\nfunction rank(suggestions: Suggestion[], pageViews: PageViews): Suggestion[] {\n  const scorePage = scorer(pageViews)\n  return suggestions.sort((a, b) => scorePage(b.pageKey) - scorePage(a.pageKey))\n}\n","import {compare, fuzzyScore} from '@github-ui/fuzzy-filter'\nimport type {Suggestion} from './model'\nimport {filterSort} from '@github-ui/filter-sort'\n\nexport function filterSuggestions(suggestions: Suggestion[], str: string, ignorePath: string): Suggestion[] {\n  const query = str.replace(/\\s/g, '').toLowerCase()\n  const list = suggestions.filter(s => s.path !== ignorePath)\n  if (!query) return list\n  const key = (item: Suggestion) => {\n    const text = item.name\n    const score = fuzzyScore(text, query)\n    return score > 0 ? {score, text} : null\n  }\n  return filterSort(list, key, compare)\n}\n","export default function findNextElementSibling(element: HTMLElement, className: string): HTMLElement | null {\n  const nextSibling = element.nextElementSibling\n  if (nextSibling instanceof HTMLElement) {\n    if (nextSibling.classList.contains(className)) return nextSibling\n    return findNextElementSibling(nextSibling, className)\n  }\n  return null\n}\n","type ScrollToOptions = {\n  top: number\n  left?: number\n}\n\nexport default function scrollTo(targetContainer: HTMLElement, options: ScrollToOptions) {\n  let container: Node = targetContainer\n  const document = targetContainer.ownerDocument\n\n  if (\n    container === document ||\n    // @ts-expect-error - Suppress TS2367 error that I don't trust\n    container === document.defaultView ||\n    container === document.documentElement ||\n    container === document.body\n  ) {\n    container = document\n  }\n\n  if (!document.defaultView) return\n\n  const Document = document.defaultView.Document\n\n  if (container instanceof Document) {\n    const top = options.top != null ? options.top : document.defaultView.pageYOffset\n    const left = options.left != null ? options.left : document.defaultView.pageXOffset\n    document.defaultView.scrollTo(left, top)\n    return\n  }\n\n  const HTMLElement = document.defaultView.HTMLElement\n\n  if (!(container instanceof HTMLElement)) {\n    throw new Error('invariant')\n  }\n\n  container.scrollTop = options.top\n  if (options.left != null) {\n    container.scrollLeft = options.left\n  }\n}\n","// Navigation Behavior\n//\n// Provides basic cursor, vi and emacs keyboard navigation. As well as\n// mouseover selection.\n//\n// item Element with .js-navigation-item. The current focused\n//            item is denoted with the .navigation-focus class.\n// container Element with .js-navigation-container class name.\n//                 Contains item elements. The active container is denoted\n//                 by the .js-active-navigation-container class.\n//\n// The .js-active-navigation-container class can be part of the html or\n// added programmatically with navigation('focus'). Making it part of\n// the template will automatically activate it without any extra JS.\n// Just make sure its the only active container on the page.\n//\n// li.navigation-focus { background: yellow; }\n//\n// <ul class=\"js-navigation-container js-active-navigation-container\">\n//   <li class=\"js-navigation-item\"><a href=\"\">One</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Two</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Three</a></li>\n// </ul>\n//\n// Methods\n//\n// .navigation('active')\n//\n// Returns current active container.\n//\n// .navigation('activate')\n//\n// Activates navigation container.\n//\n// .navigation('deactivate')\n//\n// Deactivates navigation container.\n//\n// .navigation('push')\n//\n// Activates navigation container and push it onto a stack.\n//\n// .navigation('pop')\n//\n// Deactivates navigation container and remove it from stack. Then\n// activate the previous container on the top of the stack.\n//\n// .navigation('focus')\n//\n// Activates navigation container and focus first item.\n//\n// .navigation('clear')\n//\n// Removes current focus.\n//\n// .navigation('refocus')\n//\n// Removes current focus and focuses on the first item.\n//\n//\n// Events\n//\n// navigation:focus\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Focus navigation item\n// Target .js-navigation-item Element\n//\n// navigation:keydown\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Deactivate navigation\n// Target .js-navigation-item or .js-navigation-container Element\n// Context info\n//   * originalEvent - keydown event\n//   * relatedTarget - .js-navigation-container Element\n//\n// navigation:keyopen\n//\n// Bubbles Yes\n// Cancelable No\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n// navigation:open\n//\n// Bubbles Yes\n// Cancelable Yes\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n\nimport {compose, fromEvent} from '@github-ui/subscription'\nimport {fire, on} from 'delegated-events'\nimport {overflowOffset, overflowParent, positionedOffset} from '@primer/behaviors'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {isShortcutAllowed} from '@github-ui/hotkey/keyboard-shortcuts-helper'\nimport {observe} from '@github/selector-observer'\nimport scrollTo from './scrollto'\nimport visible from '@github-ui/visible'\nimport {ssrSafeWindow} from '@github-ui/ssr-utils'\n\nconst ctrlBindings = ssrSafeWindow?.navigator.userAgent.match(/Macintosh/)\nconst modifierKey = ctrlBindings ? 'metaKey' : 'ctrlKey'\nconst hotkeyModifier = ctrlBindings ? 'Meta' : 'Control'\n\nlet disableMouseEvents = false\nlet mousePosition = {\n  x: 0,\n  y: 0,\n}\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\n// Binds mouseover handlers on navigation containers.\n//\n// This is an optimization to avoid adding a global mouseover to document.\nobserve('.js-navigation-container:not(.js-navigation-container-no-mouse)', {\n  subscribe: el =>\n    compose(fromEvent(el, 'mouseover', onContainerMouseMove), fromEvent(el, 'mouseover', onContainerMouseOver)),\n})\n\n// Tracks last mouse position inside container.\nfunction onContainerMouseMove(event: Event) {\n  if (!(event instanceof MouseEvent)) return\n  if (mousePosition.x !== event.clientX || mousePosition.y !== event.clientY) {\n    disableMouseEvents = false\n  }\n  mousePosition = {\n    x: event.clientX,\n    y: event.clientY,\n  }\n}\n\nfunction onContainerMouseOver(event: Event) {\n  if (disableMouseEvents) {\n    return\n  }\n  const container = event.currentTarget\n  const {target} = event\n  if (\n    !(target instanceof Element) ||\n    !(container instanceof HTMLElement) ||\n    !container.closest('.js-active-navigation-container')\n  ) {\n    return\n  }\n  const item = target.closest('.js-navigation-item')\n  if (item) focusItem(item, container)\n}\n\nlet count = 0\nobserve('.js-active-navigation-container', {\n  add() {\n    count++\n    if (count === 1) document.addEventListener('keydown', fireCustomKeydown)\n  },\n  remove() {\n    count--\n    if (count === 0) document.removeEventListener('keydown', fireCustomKeydown)\n  },\n})\n\n// Dispatches custom events from focused items.\n//\n// It also makes it easy to bind custom hotkeys to focused items.\nfunction fireCustomKeydown(event: KeyboardEvent) {\n  if (\n    event.target !== document.body &&\n    event.target instanceof HTMLElement &&\n    !event.target.classList.contains('js-navigation-enable')\n  ) {\n    return\n  }\n\n  disableMouseEvents = true\n\n  const container = getActiveContainer()\n  let dispatched = false\n\n  if (container) {\n    const target = container.querySelector('.js-navigation-item.navigation-focus') || container\n    dispatched = fire(target, 'navigation:keydown', {\n      hotkey: eventToHotkeyString(event),\n      originalEvent: event,\n      originalTarget: event.target,\n    })\n  }\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\non('navigation:keydown', '.js-active-navigation-container', function (event) {\n  const container = event.currentTarget as HTMLElement\n  const isInput = event.detail.originalTarget.matches('input, textarea')\n  const item = event.target as HTMLElement\n\n  if (!isShortcutAllowed(event.detail.originalEvent)) return\n\n  if (item.classList.contains('js-navigation-item')) {\n    if (isInput) {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'ArrowUp':\n          cursorUp(item, container)\n          break\n        case 'ArrowDown':\n          cursorDown(item, container)\n          break\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail.originalEvent[modifierKey])\n          break\n      }\n    } else {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n            break\n          case 'Alt+v':\n            pageUp(item, container)\n            break\n          case 'Control+v':\n            pageDown(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'j':\n        case 'J':\n          cursorDown(item, container)\n          break\n        case 'k':\n        case 'Shift+K':\n          cursorUp(item, container)\n          break\n        case 'o':\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail[modifierKey])\n          break\n      }\n    }\n  } else {\n    const firstItem = getItems(container)[0]\n    if (firstItem) {\n      if (isInput) {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'ArrowDown':\n            focusItem(firstItem, container)\n        }\n      } else {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n            case 'Control+v':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'j':\n            focusItem(firstItem, container)\n        }\n      }\n    }\n  }\n\n  if (isInput) {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        event.preventDefault()\n        break\n      case 'Enter':\n        event.preventDefault()\n    }\n  } else {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n        case 'Control+v':\n        case 'Alt+v':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'j':\n      case 'k':\n      case 'o':\n        event.preventDefault()\n        break\n      case 'Enter':\n      case `${modifierKey}+Enter`:\n        event.preventDefault()\n    }\n  }\n})\n\n// Fire custom navigation:open event.\n//\n// Examples:\n//\n// on('navigation:open', '.listings .listing', function() {\n//   window.location = this.querySelector('a').getAttribute('href')\n// }).\nfunction fireOpen(\n  event: Event & {modifierKey?: boolean; altKey?: boolean; ctrlKey?: boolean; metaKey?: boolean; shiftKey?: boolean},\n) {\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  const modifier = event.modifierKey || event.altKey || event.ctrlKey || event.metaKey\n  const dispatched = fire(event.currentTarget as Element, 'navigation:open', {\n    modifierKey: modifier,\n    shiftKey: event.shiftKey,\n  })\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\n// Open the item on click.\non('click', '.js-active-navigation-container .js-navigation-item', function (event) {\n  fireOpen(event)\n})\n\n// Handle keydown open events.\non('navigation:keyopen', '.js-active-navigation-container .js-navigation-item', function (event) {\n  const a = event.currentTarget.classList.contains('js-navigation-open')\n    ? event.currentTarget\n    : event.currentTarget.querySelector('.js-navigation-open')\n  if (a instanceof HTMLAnchorElement) {\n    if (event.detail.modifierKey) {\n      window.open(a.href, '_blank')\n      window.focus()\n    } else {\n      const clicked = a.dispatchEvent(\n        new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n        }),\n      )\n      if (clicked) {\n        a.click()\n      }\n    }\n    event.preventDefault()\n  } else {\n    fireOpen(event)\n  }\n})\n\n// Make container active by adding the js-active-navigation-container class to it.\nexport function activate(container: Element | null) {\n  const activeContainer = getActiveContainer()\n  if (container !== activeContainer) {\n    if (activeContainer !== null) deactivate(activeContainer)\n    container?.classList.add('js-active-navigation-container')\n  }\n}\n\n// Remove active id from container.\nexport function deactivate(container: Element) {\n  container.classList.remove('js-active-navigation-container')\n}\n\nconst containerStack: Element[] = []\n\n// Active container and push previous onto a stack.\nexport function push(container: HTMLElement) {\n  const activeContainer = getActiveContainer()\n  if (activeContainer) {\n    containerStack.push(activeContainer)\n  }\n  activate(container)\n}\n\n// Deactivate container and activate the next on the stack.\nexport function pop(container: Element) {\n  deactivate(container)\n  clear(container)\n\n  const activeContainer = containerStack.pop()\n  if (activeContainer) {\n    activate(activeContainer)\n  }\n}\n\n// Active the container and focus on the target or first element.\nexport function focus(container: HTMLElement, targetElement?: HTMLElement) {\n  const target = targetElement || container\n\n  const firstItem = getItems(container)[0]\n  const item = target.closest('.js-navigation-item') || firstItem\n\n  activate(container)\n\n  if (item instanceof HTMLElement) {\n    const focusPrevented = focusItem(item, container)\n    if (focusPrevented) {\n      return\n    }\n    const parent = overflowParent(item)\n    if (!parent) return\n    scrollItemTo(parent, item)\n  }\n}\n\n// Clear current focus.\nexport function clear(container: Element) {\n  const elements = container.querySelectorAll('.js-navigation-item.navigation-focus')\n  for (const element of elements) {\n    element.classList.remove('navigation-focus')\n  }\n}\n\n// Clear current focus and focus on the target or first element.\nexport function refocus(container: HTMLElement, target?: HTMLElement) {\n  clear(container)\n  focus(container, target)\n}\n\n// Select the previous item and scroll to it if its off screen.\nfunction cursorUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const previous = items[index - 1]\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(previous)\n    if (!overflowParentEl) return\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl, previous)\n    } else {\n      scrollItemTo(overflowParentEl, previous)\n    }\n  }\n}\n\n// Select the next item and scroll to it if its off screen.\nfunction cursorDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const next = items[index + 1]\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(next)\n    if (!overflowParentEl) return\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl, next)\n    } else {\n      scrollItemTo(overflowParentEl, next)\n    }\n  }\n}\n\n// Scrolls up to the previous item that is above the viewport.\nfunction pageUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let previous\n  let dimension\n  while (\n    (previous = items[index - 1]) &&\n    (dimension = overflowOffset(previous, overflowParentEl)) &&\n    dimension.top >= 0\n  ) {\n    index--\n  }\n\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    scrollPageTo(overflowParentEl, previous)\n  }\n}\n\n// Scrolls down to the next item that is below the viewport.\nfunction pageDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let next\n  let dimension\n  while ((next = items[index + 1]) && (dimension = overflowOffset(next, overflowParentEl)) && dimension.bottom >= 0) {\n    index++\n  }\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n    scrollPageTo(overflowParentEl, next)\n  }\n}\n\n// Handle opening item from keyboard.\n//\n// Hitting o or enter on a item will call this method.\nfunction keyOpen(item: Element, modifier = false) {\n  fire(item, 'navigation:keyopen', {\n    modifierKey: modifier,\n  })\n}\n\nfunction focusItem(target: Element, container: Element): boolean {\n  if (fire(target, 'navigation:focus')) {\n    clear(container)\n    target.classList.add('navigation-focus')\n\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction getActiveContainer() {\n  return document.querySelector('.js-active-navigation-container')\n}\n\nfunction getItems(container: Element): HTMLElement[] {\n  const items = []\n  for (const element of container.querySelectorAll('.js-navigation-item')) {\n    if (element instanceof HTMLElement && visible(element)) {\n      items.push(element)\n    }\n  }\n\n  return items\n}\n\nfunction getScrollStyle(container: HTMLElement): string {\n  return container.getAttribute('data-navigation-scroll') || 'item'\n}\n\nfunction scrollPageTo(container: HTMLElement, element: HTMLElement, behavior: ScrollBehavior = 'smooth') {\n  const overflow = overflowOffset(element, container)\n  if (!overflow) return\n\n  if (overflow.bottom <= 0) {\n    element.scrollIntoView({behavior, block: 'start'})\n  } else if (overflow.top <= 0) {\n    element.scrollIntoView({behavior, block: 'end'})\n  }\n}\n\nfunction scrollItemTo(container: HTMLElement, element: HTMLElement) {\n  const position = positionedOffset(element, container)\n  const overflow = overflowOffset(element, container)\n\n  if (position == null || overflow == null) {\n    return\n  }\n\n  if (overflow.bottom <= 0 && document.body) {\n    const scrollHeight = container.offsetParent != null ? container.scrollHeight : document.body.scrollHeight\n    const overflowHeight = overflow.height ?? 0\n\n    const scrollTop = scrollHeight - (position.bottom + overflowHeight)\n    scrollTo(container, {\n      top: scrollTop,\n    })\n  } else if (overflow.top <= 0) {\n    scrollTo(container, {\n      top: position.top,\n    })\n  }\n}\n","import {ssrSafeWindow, ssrSafeLocation} from '@github-ui/ssr-utils'\n\n// TODO: do not export those constants and instead provide functions to push and read data\nexport const TraceDataKey = 'GraphQLTraces'\nexport const TraceDataRefreshCallbackKey = 'GraphQLTracingRefresh'\n\nexport const disabledClusters = getDisabledClusters()\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function reportTraceData(json: any) {\n  if (!ssrSafeWindow) return\n  if (!isTracingEnabled()) return\n  if (!json) return\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any} | undefined\n\n  if (rootWindowContent && !rootWindowContent[TraceDataKey]) {\n    rootWindowContent[TraceDataKey] = []\n  }\n\n  if (rootWindowContent && json['__trace']) {\n    rootWindowContent[TraceDataKey].push(json['__trace'])\n    if (typeof rootWindowContent[TraceDataRefreshCallbackKey] === 'function') {\n      rootWindowContent[TraceDataRefreshCallbackKey]()\n    }\n  }\n}\n\nexport function isTracingEnabled() {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any} | undefined\n\n  return (\n    new URLSearchParams(ssrSafeLocation.search).get('_tracing') === 'true' ||\n    (rootWindowContent && rootWindowContent[TraceDataKey] !== undefined)\n  )\n}\n\nfunction clustersDisabled() {\n  return disabledClusters.length > 0\n}\n\nexport function getInsightsUrl(url: string) {\n  if (!isTracingEnabled() && !clustersDisabled()) return url\n\n  const urlObject = new URL(url, ssrSafeLocation.origin)\n\n  if (isTracingEnabled()) {\n    urlObject.searchParams.set('_tracing', 'true')\n  }\n\n  if (clustersDisabled()) {\n    urlObject.searchParams.set('disable_clusters', disabledClusters.join(','))\n  }\n\n  return urlObject.pathname + urlObject.search\n}\n\nfunction getDisabledClusters() {\n  return decodeURIComponent(new URLSearchParams(ssrSafeLocation.search).get('disable_clusters') || '')\n    .split(',')\n    .filter(c => c !== '')\n}\n\nexport function isClusterDisabled(cluster: string) {\n  return disabledClusters.indexOf(cluster) > -1\n}\n\nexport function toggleClusterState(cluster: string) {\n  const index = disabledClusters.indexOf(cluster)\n\n  if (index > -1) {\n    disabledClusters.splice(index, 1)\n  } else {\n    disabledClusters.push(cluster)\n  }\n\n  const params = new URLSearchParams(ssrSafeLocation.search)\n  params.set('disable_clusters', disabledClusters.join(','))\n\n  const url = ssrSafeLocation\n  url.search = params.toString()\n}\n"],"names":["asyncSuggestions","buildSearchURL","searchPath","queryText","url","URL","window","location","origin","searchParams","URLSearchParams","search","slice","set","searchType","get","toString","currentEventContext","trackSelection","anchor","targetType","getAttribute","form","document","querySelector","scopeType","itemType","updateCurrentEventPayload","scope_id","parseInt","scope_type","target_scope","trackJumpToEvent","target_id","target_type","client_rank","server_rank","eventName","head","content","sessionId","session_id","replace","c","r","random","v","sendEvent","attributes","Object","assign","deactivateSearchField","field","classList","remove","parentElement","showDropdown","add","setAttribute","hideDropdown","inputField","updateSearchEntries","resultsContainer","value","trim","isScoped","hasOwnerScope","existingScopedSearch","existingOwnerScopedSearch","existingGlobalSearch","toggle","updatedScopedSearch","updateSearchEntry","HTMLElement","replaceChild","updatedOwnerScopedSearch","unscopedSearchPath","updatedGlobalSearch","replaceSuggestions","newSuggestions","oldResult","querySelectorAll","parentNode","removeChild","appendChild","showSuggestionOcticon","el","octiconSelector","octiconContainer","octicon","element","href","isOwnerScoped","cloneNode","id","nameElement","textContent","badgeEl","getTemplateElement","templateContainerSelector","suggestionsContainer","firstElementChild","populateDropdown","suggestions","query","matchingSuggestions","rank","pageViews","scorePage","scorer","sort","a","b","pageKey","filterSuggestions","str","ignorePath","toLowerCase","list","filter","s","path","filterSort","text","item","name","score","fuzzyScore","compare","pathname","getPageViewsMap","suggestionsToDisplay","result_count","length","display_count","filter_count","display_set","JSON","stringify","map","type","databaseId","updateDropdown","template","results","createDocumentFragment","displayNoResults","Boolean","noResults","i","suggestion","entries","fillTemplate","clientRank","fuzzyHighlightElement","Element","avatar","alt","src","avatarUrl","observe","constructor","HTMLInputElement","addEventListener","debounce","enableNavigation","activeElement","onJumpToFocus","suggestionsCache","Map","clearSuggestionsCache","clear","fetchSuggestions","token","data","getSuggestionsRequestData","maxPageViews","FormData","keys","append","result","fetchUrl","match","response","fetch","method","mode","body","headers","Accept","ok","jsonResponse","json","reportTraceData","parseSuggestionsResponse","nodes","pageKeyFromSuggestion","key","ownerLogin","repositoryName","split","buildProjectKey","owner","number","buildRepositoryKey","buildTeamKey","push","hiddenSearchCommandsInput","jsonString","parsedSearchCommands","parse","commands","error","concat","fetchSuggestionsLastUsedAt","memoizedFetchSuggestions","memoize","cache","getSuggestions","findNextElementSibling","className","nextSibling","nextElementSibling","contains","Date","now","onFocus","on","event","selection","currentTarget","detail","hotkey","requestSubmit","blur","target","container","closest","timeout","navigationFocus","navigationActivate","setTimeout","clearTimeout","link","updateSearchURL","scrollTo","targetContainer","options","ownerDocument","defaultView","documentElement","Document","top","pageYOffset","left","pageXOffset","scrollTop","scrollLeft","ctrlBindings","ssrSafeWindow","navigator","userAgent","modifierKey","hotkeyModifier","disableMouseEvents","mousePosition","x","y","onContainerMouseMove","MouseEvent","clientX","clientY","onContainerMouseOver","focusItem","subscribe","compose","fromEvent","count","fireCustomKeydown","getActiveContainer","dispatched","fire","eventToHotkeyString","originalEvent","originalTarget","preventDefault","fireOpen","modifier","altKey","ctrlKey","metaKey","shiftKey","activate","activeContainer","deactivate","removeEventListener","isInput","matches","isShortcutAllowed","cursorDown","cursorUp","keyOpen","pageUp","previous","dimension","items","getItems","index","indexOf","overflowParentEl","overflowParent","overflowOffset","scrollPageTo","pageDown","next","bottom","firstItem","HTMLAnchorElement","open","focus","dispatchEvent","bubbles","cancelable","click","containerStack","pop","targetElement","parent","scrollItemTo","refocus","getScrollStyle","visible","behavior","overflow","scrollIntoView","block","position","positionedOffset","scrollHeight","offsetParent","overflowHeight","height","TraceDataKey","TraceDataRefreshCallbackKey","disabledClusters","decodeURIComponent","ssrSafeLocation","isTracingEnabled","rootWindowContent","undefined","clustersDisabled","getInsightsUrl","urlObject","join","isClusterDisabled","cluster","toggleClusterState","splice","params"],"sourceRoot":""}