{"version":3,"file":"chunk-ui_packages_repos-branches_components_MergeQueueLabel_tsx-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/repos-branches/types.ts","ui/packages/repos-branches/components/MergeQueueLabel.tsx","ui/packages/repos-branches/components/PullRequestMetadataLabel.tsx"],"sourcesContent":["export type BranchPageType = 'overview' | 'yours' | 'active' | 'stale' | 'all'\n\ntype IssueReference = {\n  title: string\n  permalink: string\n  isPullRequest: boolean\n  state: string\n  reviewableState: string | undefined\n  merged: boolean\n}\n\nexport type PullRequest = IssueReference & {number: number}\n\nexport type BranchPage = {\n  type: BranchPageType\n  title: string\n  href: string\n  onlyShowForPushUsers?: boolean\n}\n\nexport type Author = {\n  login: string\n  name: string\n  path: string\n  avatarUrl: string\n}\n\nexport type Branch = {\n  name: string\n  isDefault: boolean\n  mergeQueueEnabled: boolean\n  path: string\n  rulesetsPath?: string\n  protectedByBranchProtections?: boolean\n  author?: Author\n  authoredDate: string\n  deleteable?: boolean\n  deleteProtected?: boolean\n  isBeingRenamed?: boolean\n  renameable?: boolean\n}\n\nexport type BranchMetadata = {\n  oid: string\n  aheadBehind: [number, number]\n  maxDiverged?: number\n  statusCheckRollup?: {\n    state: string\n    shortText: string | undefined\n  }\n  pullRequest?: PullRequest\n  mergeQueue?: {\n    path: string\n    count: number\n  }\n  author?: Author\n}\n\nexport type RenameBranchEffects = {\n  prRetargetCount: number\n  prRetargetRepoCount: number\n  prClosureCount: number\n  draftReleaseCount: number\n  protectedBranchCount: number\n  willPagesChange: boolean | null\n}\n\nexport enum PullRequestStatus {\n  Open = 'OPEN',\n  Closed = 'CLOSED',\n  Merged = 'MERGED',\n  Draft = 'DRAFT',\n}\n","import type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport {Link, Tooltip} from '@primer/react'\nimport PullRequestMetadataLabel from './PullRequestMetadataLabel'\n\ninterface MergeQueueLabelProps {\n  mergeQueueUrl: string // Merge queue url. We may want to change how this is calculated based on the data returned\n  queueCount: number // Number of pull requests in the queue\n  sx?: BetterSystemStyleObject\n}\n\nexport default function MergeQueueLabel({queueCount, mergeQueueUrl, sx = {}}: MergeQueueLabelProps) {\n  const ariaLabelText = queueCount === 1 ? 'is 1 pull request' : `are ${queueCount} pull requests`\n  return (\n    <Tooltip aria-label=\"View the merge queue\">\n      <Link\n        href={mergeQueueUrl}\n        muted\n        sx={{\n          color: 'fg.default',\n          fontWeight: 'normal',\n          alignItems: 'center',\n          '&:hover': {color: 'fg.default', textDecoration: 'none'},\n        }}\n        aria-label={`There ${ariaLabelText} in the merge queue`}\n      >\n        <PullRequestMetadataLabel kind=\"merge-queue\" queueCount={queueCount} sx={sx} />\n      </Link>\n    </Tooltip>\n  )\n}\n\ntry{ MergeQueueLabel.displayName ||= 'MergeQueueLabel' } catch {}","import {\n  GitMergeIcon,\n  GitMergeQueueIcon,\n  GitPullRequestClosedIcon,\n  GitPullRequestDraftIcon,\n  GitPullRequestIcon,\n} from '@primer/octicons-react'\nimport {Label, Octicon, Text, useTheme} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport {PullRequestStatus} from '../types'\n\ninterface BaseProps {\n  kind: 'merge-queue' | 'pull-request'\n  sx?: BetterSystemStyleObject\n}\ninterface MergeQueueLabelProps extends BaseProps {\n  kind: 'merge-queue'\n  queueCount: number // Number of pull requests in the queue\n}\n\ninterface PullRequestLabelProps extends BaseProps {\n  kind: 'pull-request'\n  number: number // Pull request number\n  status: PullRequestStatus // Pull request status\n}\n\ntype PullRequestMetadata = MergeQueueLabelProps | PullRequestLabelProps\nfunction LabelIcon({\n  kind,\n  status,\n  queueCount,\n}: {\n  kind: 'pull-request' | 'merge-queue'\n  status: PullRequestStatus | null\n  queueCount: number | null\n}): JSX.Element {\n  const {theme} = useTheme()\n  if (kind === 'pull-request') {\n    switch (status) {\n      case PullRequestStatus.Open:\n        return (\n          <div data-testid=\"open-pull-request-icon\">\n            <Octicon size={14} icon={GitPullRequestIcon} sx={{color: theme?.colors.open.fg}} />\n          </div>\n        )\n      case PullRequestStatus.Closed:\n        return (\n          <div data-testid=\"closed-pull-request-icon\">\n            <Octicon size={14} icon={GitPullRequestClosedIcon} sx={{color: theme?.colors.closed.fg}} />\n          </div>\n        )\n      case PullRequestStatus.Merged:\n        return (\n          <div data-testid=\"merged-pull-request-icon\">\n            <Octicon size={14} icon={GitMergeIcon} sx={{color: theme?.colors.done.fg}} />\n          </div>\n        )\n      case PullRequestStatus.Draft:\n      default:\n        return (\n          <div data-testid=\"draft-pull-request-icon\">\n            <Octicon size={14} icon={GitPullRequestDraftIcon} sx={{color: 'fg.subtle'}} />\n          </div>\n        )\n    }\n  }\n  if ((queueCount || 0) > 0) {\n    return (\n      <div data-testid=\"merge-queue-icon\">\n        <Octicon size={14} icon={GitMergeQueueIcon} sx={{color: theme?.colors.attention.fg}} />\n      </div>\n    )\n  }\n  return (\n    <div data-testid=\"merge-queue-icon\">\n      <Octicon size={14} icon={GitMergeQueueIcon} sx={{color: 'fg.subtle'}} />\n    </div>\n  )\n}\n\nexport default function PullRequestMetadataLabel({sx, ...pullRequestMetadata}: PullRequestMetadata) {\n  const number =\n    pullRequestMetadata.kind === 'pull-request' ? pullRequestMetadata.number : pullRequestMetadata.queueCount\n  return (\n    <Label size=\"small\" sx={{...sx, '&:hover': {bg: 'canvas.subtle'}}}>\n      <LabelIcon\n        kind={pullRequestMetadata.kind}\n        status={pullRequestMetadata.kind === 'pull-request' ? pullRequestMetadata.status : null}\n        queueCount={pullRequestMetadata.kind === 'merge-queue' ? number : null}\n      />\n      <Text sx={{ml: 1, color: 'fg.muted'}}>\n        {pullRequestMetadata.kind === 'pull-request' ? '#' : ''}\n        {number}\n      </Text>\n    </Label>\n  )\n}\n\ntry{ LabelIcon.displayName ||= 'LabelIcon' } catch {}\ntry{ PullRequestMetadataLabel.displayName ||= 'PullRequestMetadataLabel' } catch {}"],"names":["PullRequestStatus","MergeQueueLabel","queueCount","mergeQueueUrl","sx","ariaLabelText","Tooltip","aria-label","Link","href","muted","color","fontWeight","alignItems","textDecoration","PullRequestMetadataLabel","kind","displayName","LabelIcon","status","theme","useTheme","Open","div","data-testid","Octicon","size","icon","GitPullRequestIcon","colors","open","fg","Closed","GitPullRequestClosedIcon","closed","Merged","GitMergeIcon","done","Draft","GitPullRequestDraftIcon","GitMergeQueueIcon","attention","pullRequestMetadata","number","Label","bg","Text","ml"],"sourceRoot":""}