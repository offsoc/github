"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["enterprise-teams-table-view"],{96108:(e,t,r)=>{var a=r(72245),s=r(9449),i=r(75177),n=r(19797),l=r(66889),o=r(47553),d=r(281),c=r(17909),m=r(44981),u=r(55847),h=r(65481),p=r(59857),b=r(55293),_=r(86519),f=r(85053),x=r(69909);let g=({name:e,slug:t,externalGroupId:r})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.A,{href:`teams/${t}/members`,sx:{color:"fg.default",fontWeight:"normal",unicodeBidi:"bidi-override",":hover":{color:"accent.fg"}},"aria-label":`link-to-${t}`,"data-testid":`link-to-${t}`,children:e}),r&&(0,s.jsx)(_.A,{href:`external_group_members/${r}`,sx:{ml:2,color:"fg.default",fontWeight:"normal",":hover":{color:"accent.fg"}},"aria-label":`link-to-external-group-${r}`,"data-testid":`link-to-external-group-${r}`,children:(0,s.jsx)(f.A,{children:"IdP Group"})})]}),y=e=>{let{name:t,slug:r,members:a,externalGroupId:n,checkable:d}=e;return(0,s.jsxs)(i.A,{sx:{borderBottom:"1px solid",px:3,py:2,borderBottomColor:"border.muted",display:"flex",justifyContent:"space-between"},"aria-labelledby":`checkbox-for-team-${r} link-for-team-${r}`,children:[d?(0,s.jsxs)(l.A,{"aria-describedby":`row-for-${r}`,sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(o.A,{"aria-describedby":`checkbox-for-${r}`,value:r,checked:e.checked,"data-testid":`checkbox-for-${r}`}),(0,s.jsx)(l.A.Label,{"aria-describedby":`label-for-team-${r}`,id:r,children:(0,s.jsx)(g,{slug:r,name:t,externalGroupId:n})})]}):(0,s.jsx)(g,{name:t,slug:r,externalGroupId:n}),(0,s.jsx)(x.A,{"aria-describedby":`member-count-for-${r}`,"data-testid":`member-count-for-${r}`,sx:{position:"relative",right:30},children:((e,t,r="s")=>`${e} ${t}${1!==e?r:""}`)(a,"member")})]})};try{g.displayName||(g.displayName="ItemContent")}catch{}try{y.displayName||(y.displayName="TeamListItem")}catch{}var j=r(94407);let R=({businessName:e,businessSlug:t,searchString:r,hideCreateTeamButton:a=!1})=>r?(0,s.jsx)("div",{"data-testid":"filtered-empty-list",children:(0,s.jsxs)(j.A,{border:!0,children:[(0,s.jsx)(j.A.Visual,{children:(0,s.jsx)(p.SearchIcon,{size:"medium"})}),(0,s.jsx)(j.A.Heading,{children:"No enterprise teams found"}),(0,s.jsxs)(j.A.Description,{children:["There aren't any enterprise teams matching '",r,"'"]})]})}):(0,s.jsx)("div",{"data-testid":"empty-list",children:(0,s.jsxs)(j.A,{border:!0,children:[(0,s.jsx)(j.A.Visual,{children:(0,s.jsx)(p.PeopleIcon,{size:"medium"})}),(0,s.jsxs)(j.A.Heading,{children:[e," has no enterprise teams"]}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.A.Description,{children:"Get started by creating a new enterprise team"}),(0,s.jsx)(j.A.PrimaryAction,{href:`/enterprises/${t}/new_team`,children:"New enterprise team"})]})]})});try{R.displayName||(R.displayName="EmptyList")}catch{}var v=r(28784),E=r(22084);function A({business_slug:e,business_name:t,enterprise_teams:r,readonly:a,cannot_create_multiple_teams:_,can_remove_teams:f}){let[x,g]=(0,b.useState)([]),[j,A]=(0,b.useState)(!1),[w,S]=(0,b.useState)(!1),[C,N]=(0,b.useState)(!0),[k,T]=(0,b.useState)(""),[$,D]=(0,b.useState)(""),I=(0,b.useCallback)(()=>{A(!j),S(!1),N(!C),g(()=>j?[]:r.filter(e=>e.name.includes(k)).map(e=>`${e.slug}`))},[r,j,k,C]),L=(0,b.useCallback)((e,t)=>{t&&t.target.checked?g(e=>[...e,t.target.name]):t&&g(e=>e.filter(e=>e!==t.target.name))},[]),B=(0,b.useCallback)(e=>{T(e.target.value),g([])},[]);(0,b.useEffect)(()=>{0===x.length?(A(!1),S(!1),N(!0)):(x.length===r.length?(A(!0),S(!1)):(A(!1),S(!0)),N(!1))},[x.length,r.length]);let H=(0,b.useRef)(null);async function M(){let t=r.filter(e=>x.includes(e.slug)),a=new FormData;for(let e of t)a.append("team_slugs[]",e.slug);let s=await (0,v.DI)(`/enterprises/${e}/teams/bulk_delete`,{method:"DELETE",headers:{Accept:"application/json"},body:a}),i=await s.json();i.data.redirect?window.location.replace(i.data.redirect):i.data.error&&D(i.data.error)}(0,b.useEffect)(()=>{H.current?.focus()},[$,H]);let O=r.filter(e=>e.name.includes(k)),P=O.map(e=>(0,s.jsx)(y,{slug:e.slug,name:e.name,members:e.members,externalGroupId:e.external_group_id,checkable:!a&&f,checked:x.includes(e.slug)},e.id)),G=(0,s.jsx)(i.A,{"aria-labelledby":`team-list-for-${e}`,sx:{marginTop:"8px"},children:a?P:(0,s.jsx)(n.A,{"aria-labelledby":"enterprise-team-checkbox-group",onChange:L,children:P})}),F=!a&&f&&(0,s.jsx)(i.A,{"aria-labelledby":"select-all-container",sx:{bg:"canvas.subtle",borderBottom:"1px solid",borderBottomColor:"border.muted"},children:(0,s.jsx)(n.A,{sx:{py:3,px:3},"aria-labelledby":"select-all",children:(0,s.jsx)(i.A,{sx:{display:"flex"},children:(0,s.jsxs)(l.A,{sx:{alignItems:"center"},children:[(0,s.jsx)(o.A,{"aria-labelledby":"select-all",checked:j,indeterminate:w,onChange:I,"data-testid":"select-all-checkbox"}),(0,s.jsxs)(l.A.Label,{"aria-labelledby":"select-all",id:"select-all",sx:{color:"fg.muted"},children:[C&&"Select all",!C&&(0,s.jsxs)(d.W,{"aria-labelledby":"select-all-menu",children:[(0,s.jsx)(d.W.Button,{"data-testid":"select-all-menu-button",children:x.length>1?`${x.length} teams selected`:`${x.length} team selected`}),(0,s.jsx)(d.W.Overlay,{children:(0,s.jsx)(c.l,{children:(0,s.jsx)(c.l.Item,{"data-testid":"delete-teams-button",onSelect:()=>M(),children:"Delete..."})})})]})]})]})})})}),W=_&&r.length>=1,V=(0,s.jsxs)(i.A,{"aria-labelledby":"search-and-add-team-container",sx:{mb:3,display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(m.A,{"data-testid":"search-input",leadingVisual:p.SearchIcon,"aria-label":"Find a team search bar",name:"search",placeholder:"Find a team...",sx:{width:"30%",bg:"canvas.subtle"},onChange:B}),!a&&(0,s.jsx)(u.Q,{"aria-labelledby":"new-team-button",variant:"primary","data-testid":"new-team-button",disabled:W,onClick:()=>{window.location.href=`/enterprises/${e}/new_team`},children:"New enterprise team"})]});return(0,s.jsxs)("div",{"aria-labelledby":`${e}-team-page-container`,"data-testid":`${e}-team-page-container`,children:[$&&(0,s.jsx)(h.A,{tabIndex:0,ref:H,variant:"danger",sx:{mb:2},"data-testid":"flash-error",children:(0,s.jsx)(E.oG,{html:$})}),0===r.length?(0,s.jsx)(R,{businessName:t,businessSlug:e,hideCreateTeamButton:a}):(0,s.jsxs)("div",{children:[V,0===O.length?(0,s.jsx)(R,{businessName:t,businessSlug:e,searchString:k}):(0,s.jsx)(i.A,{"aria-labelledby":"team-list-table-container",sx:{border:"1px solid",borderColor:"border.muted",borderBottom:"none",borderRadius:2},children:(0,s.jsxs)(i.A,{"aria-labelledby":"team-list-table-view",sx:{display:"flex",flexDirection:"column"},children:[F,G]})})]})]})}try{A.displayName||(A.displayName="EnterpriseTeamsTableView")}catch{}(0,a.k)("enterprise-teams-table-view",{Component:A})},92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new a),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let a=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>i,QJ:()=>n,w8:()=>s});var a=r(55293);function s(e){return((0,a.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function i(e){let t=(0,a.useRef)(e.__wrapperElement.anchor||null),[r,s]=(0,a.useState)(!1),i=(0,a.useCallback)(()=>{s(!r)},[r,s]);return(0,a.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),n(e,i),{ref:t,open:r,setOpen:s}}function n(e,t){let r=(0,a.useRef)(e.__wrapperElement.anchor);(0,a.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>d});let a=new(r(92536)).R;var s=r(9449),i=r(39595),n=r(24508),l=r(23235);let o=class ReactPartialElement extends n.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,a.getRegistration(t)),i=this.closest("react-partial-anchor");return(0,s.jsx)(l.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:i})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function d(e,t){a.register(e,t)}o=function(e,t,r,a){var s,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(n=(i<3?s(n):i>3?s(t,r,n):s(t,r))||n);return i>3&&n&&Object.defineProperty(t,r,n),n}([i.p_],o)},23581:(e,t,r)=>{r.d(t,{A:()=>l});let{getItem:a,setItem:s,removeItem:i}=(0,r(74572).A)("localStorage"),n="REACT_PROFILING_ENABLED",l={enable:()=>s(n,"true"),disable:()=>i(n),isEnabled:()=>!!a(n)}},28784:(e,t,r)=>{function a(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:r})}function s(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},s=t?.body?JSON.stringify(t.body):void 0;return a(e,{...t,body:s,headers:r})}function i(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return a(e,{...t,headers:r})}function n(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return s(e,{...t,headers:r})}r.d(t,{DI:()=>a,QJ:()=>i,Sr:()=>n,lS:()=>s})},23235:(e,t,r)=>{r.d(t,{c:()=>p});var a=r(9449),s=r(55293),i=r(36165),n=r(45588),l=r(49107),o=r(47767),d=r(59840);function c({children:e,history:t}){let[r,i]=(0,s.useState)({location:t.location});return(0,d.m)(()=>t.listen(i),[t]),(0,a.jsx)(o.Ix,{location:r.location,navigator:t,children:e})}try{c.displayName||(c.displayName="PartialRouter")}catch{}var m=r(17857),u=r(51261),h=r(75014);function p({partialName:e,embeddedData:t,Component:r,wasServerRendered:o,ssrError:d,anchorElement:p}){let b=s.useRef(),_=globalThis.window;b.current||(b.current=_?(0,u.z)({window:_}):(0,n.sC)({initialEntries:[{pathname:"/"}]}));let f=b.current,x=(0,h.w8)(p);return(0,a.jsx)(i.U,{appName:e,wasServerRendered:o,children:(0,a.jsx)(l.Q,{history:f,routes:[],children:(0,a.jsxs)(c,{history:f,children:[(0,a.jsx)(r,{...t.props,...x}),(0,a.jsx)(m.h,{ssrError:d})]})})})}try{p.displayName||(p.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var a=r(9449),s=r(39595),i=r(34613),n=r(55293),l=r(23581),o=r(79461),d=r(51528);function c(e,t,r,a){var s,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(n=(i<3?s(n):i>3?s(t,r,n):s(t,r))||n);return i>3&&n&&Object.defineProperty(t,r,n),n}let m=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:i.createRoot,hydrateRoot:i.hydrateRoot};l.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,s=await this.getReactNode(t),o=(0,a.jsx)(n.StrictMode,{children:s});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,o,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=m.exec(e.message),r=String(t?.groups?.invariant);(0,d.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(o);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87358,19))}logSSRError(e){if(o.z[e])return console.error("SSR failed with an expected error:",o.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:a,lineno:s,colno:i}=e,n=`${t} at ${r} (${a}:${s}:${i})`;return t=" ",n}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};c([s.aC],ReactBaseElement.prototype,"embeddedData",void 0),c([s.aC],ReactBaseElement.prototype,"ssrError",void 0),c([s.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{m.displayName||(m.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}},22084:(e,t,r)=>{r.d(t,{mo:()=>p,oG:()=>m,yx:()=>u});var a,s=r(9449),i=r(75177),n=r(69909),l=r(42838),o=r.n(l),d=r(55293);function c(e){if("html"in e&&void 0!==e.html){let{html:t,...r}=e;return{safeHTML:t,props:r}}let{unverifiedHTML:t,unverifiedHTMLConfig:r,...a}=e,s={...r,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:o().sanitize(t,s),props:a}}let m=h(i.A);m.displayName="SafeHTMLBox";let u=h(n.A);function h(e){return(0,d.forwardRef)((t,r)=>{let{safeHTML:a,props:i}=c(t);return(0,s.jsx)(e,{ref:r,...i,dangerouslySetInnerHTML:a?{__html:a}:void 0})})}u.displayName="SafeHTMLText";let p=(0,d.forwardRef)((e,t)=>{let{safeHTML:r,props:a}=c(e);return(0,s.jsx)("div",{ref:t,...a,dangerouslySetInnerHTML:r?{__html:r}:void 0})});p.displayName="SafeHTMLDiv";try{(a=SafeHTMLComponent).displayName||(a.displayName="SafeHTMLComponent")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_primer_react_lib-esm_Blankslate_Blankslate_js-node_modules_primer_react_-2aeba6","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(96108)),e.O()}]);
//# sourceMappingURL=enterprise-teams-table-view-109d31b91732.js.map