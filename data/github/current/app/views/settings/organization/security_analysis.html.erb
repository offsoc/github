<% page_info responsive: false, title: "Global code security settings", selected_link: :security_analysis %>

<%= render layout: "orgs/settings/layout" do %>
  <%= render(Settings::SecurityGlobalSettingsFormComponent.new(owner: current_organization, public_repo_count:, repo_count:, cursor: cursor, custom_patterns_query: custom_patterns_query))%>
  <%= render(Organizations::Settings::GhasRepositoriesComponent.new(organization: current_organization, page_param: params[AdvancedSecurityEntitiesLinkRenderer::PAGE_PARAM])) %>
  <%= render(Organizations::Settings::DependabotRepositoryAccessComponent.new(organization: current_organization, page_param: params[:dependabot_page])) %>
  <%= render(Settings::AdvancedSecurityOnboarding::TipComponent.new(
    tip: params[:tip],
    organization: current_organization,
    visible_for_tip: "security_managers",
    with_separator: true,
    mt: 6
  )) %>
  <%= render(Organizations::Settings::SecurityManagerTeamsComponent.new(actor: current_user, organization: current_organization)) %>
<% end %>

<% content_for :scripts do %><%# erblint:disable NoContentForScripts %>
  <%= javascript_bundle "settings" %>
<% end %>
