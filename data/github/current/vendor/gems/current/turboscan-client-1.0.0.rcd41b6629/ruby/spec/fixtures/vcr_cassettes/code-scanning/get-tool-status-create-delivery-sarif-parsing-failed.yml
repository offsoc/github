# generated by turbocassette ts/cassettes/sessions/analyses_errors_test.go
---
http_interactions:
  - request:
      method: post
      uri: http://localhost:8888/twirp/github.turboscan.Results/CreateDelivery
      body:
        encoding: UTF-8
        string: |-
          {
            "analysisKey": ".github/workflows/codeql.yml:CodeQL",
            "commitOid": "4b6472266afd7b471e86085a6659e8c7f2b119da",
            "hydroEnqueuedAt": "2022-03-09T12:22:29.548562117Z",
            "invalid_sarif_error": {
              "message": "parsing restricted subset of SARIF data has failed: parse error: expected { near offset 37 of 'I am valid...'"
            },
            "ref": "cmVmcy9oZWFkcy9tYXN0ZXI=",
            "rejected": true,
            "repositoryId": "351",
            "repositoryNwo": "testorg-7eb3486653c4e950/repo-912039a8c139da83a5f80b07edabc59c",
            "requestId": "b6932b03-095a-4980-85cd-66bddf7b3f06",
            "sarifId": "9684caf2-9fa3-11ec-86e5-a4a7780aa053",
            "sarifPath": "",
            "sourceRepositoryId": "126",
            "uploadFinishedAt": "2022-03-09T12:22:29.540663602Z",
            "uploadStartedAt": "2022-03-09T12:22:29.000375547Z"
          }
      headers:
        Content-Type:
          - application/json
    response:
      status:
        code: 200
        message: null
      headers:
        Content-Length:
          - "15"
        Content-Type:
          - application/json
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "2"
          }
      http_version: null
    recorded_at: Mon, 20 Mar 2023 08:25:45 GMT
  - request:
      method: post
      uri: http://localhost:8888/twirp/github.turboscan.Results/GetToolStatus
      body:
        encoding: UTF-8
        string: |-
          {
            "ref": "cmVmcy9oZWFkcy9tYXN0ZXI=",
            "repositoryId": "351",
            "toolsEnabled": {}
          }
      headers:
        Content-Type:
          - application/json
    response:
      status:
        code: 200
        message: null
      headers:
        Content-Length:
          - "1622"
        Content-Type:
          - application/json
      body:
        encoding: UTF-8
        string: |-
          {
            "tools": [
              {
                "categories": [
                  {
                    "analysisId": "1",
                    "analysisStatus": "COMPLETE",
                    "category": ".github/workflows/codeql.yml:CodeQL",
                    "commitOid": "b000000000000000000000000000000000000000",
                    "configurationGroup": {
                      "deliveryOrigin": "DELIVERY_ORIGIN_YML",
                      "workflowPath": "LmdpdGh1Yi93b3JrZmxvd3MvY29kZXFsLnltbA=="
                    },
                    "configurationHash": "iA9HtRMCsjSbWV4luk4a5gynIHdSK27XXpnEldgDJj8=",
                    "createdAt": "0001-01-01T00:00:00Z",
                    "defaultQueriesDisabled": false,
                    "extensions": [],
                    "hasMostRecent": true,
                    "isOutdated": false,
                    "messages": [
                      {
                        "hasAnalysis": false,
                        "helpLinks": [],
                        "key": "sarif-parsing-failed",
                        "level": "DANGER",
                        "locations": [],
                        "message": "An analysis SARIF file was syntactically invalid and could not be parsed.\n\nError message:\n\u003cpre\u003eparsing restricted subset of SARIF data has failed: parse error: expected { near offset 37 of 'I am valid...'\u003c/pre\u003e\n\nCheck your SARIF file [meets the requirements](https://docs.github.com/en/code-security/code-scanning/integrating-with-code-scanning/sarif-support-for-code-scanning#validating-your-sarif-file).\n",
                        "title": "SARIF file invalid"
                      }
                    ],
                    "querySuites": [],
                    "toolVersion": "1.0.0",
                    "updatedAt": "0001-01-01T00:00:00Z",
                    "workflowRunId": "0"
                  }
                ],
                "name": "CodeQL"
              }
            ]
          }
      http_version: null
    recorded_at: Fri, 24 Mar 2023 08:20:26 GMT
recorded_with: VCR 5.1.0
