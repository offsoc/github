/** @jest-environment node */
import {serverRenderReact} from '@github-ui/ssr-test-utils/server-render'
import {get{{routeComponent}}RoutePayload} from '../test-utils/mock-data'

// Register with react-core before attempting to render
import '../{{#if enableSSR}}ssr-{{/if}}entry'

test('Renders {{routeComponent}} with SSR', async () => {
  const routePayload = get{{routeComponent}}RoutePayload()
  const view = await serverRenderReact({
    name: '{{packageName}}',
    path: '{{routePath}}',
    data: {payload: routePayload},
  })

  // verify ssr was able to render some content from the payload
  expect(view).toMatch(routePayload.someField)
})
