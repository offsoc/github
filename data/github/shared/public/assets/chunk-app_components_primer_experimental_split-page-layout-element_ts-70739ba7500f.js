"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_primer_experimental_split-page-layout-element_ts"],{16750:(e,t,i)=>{i.r(t);var n=i(39595);function s(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function o(e,t){var i=s(e,t,"get");return i.get?i.get.call(e):i.value}function r(e,t,i){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,i)}function a(e,t,i){var n=s(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,n,i),i}function l(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}var p=new WeakMap,h=new WeakMap,c=new WeakMap,d=new WeakMap;let u=class SplitPageLayoutElement extends HTMLElement{startScrollListeners(){!0!==o(this,p)&&(a(this,p,!0),window.addEventListener("scroll",this.updatePaneHeight),window.addEventListener("resize",this.updatePaneHeight),this.updatePaneHeight())}stopScrollListeners(){!1!==o(this,p)&&(a(this,p,!1),window.removeEventListener("scroll",this.updatePaneHeight),window.removeEventListener("resize",this.updatePaneHeight))}connectedCallback(){o(this,d)&&this.setupStickyPane()}disconnectedCallback(){o(this,c).unobserve(this.pane),this.stopScrollListeners()}setupStickyPane(){let e=parseFloat(getComputedStyle(this.pane).top);a(this,h,isNaN(e)?0:e),a(this,c,new IntersectionObserver(e=>{for(let t of e)t.intersectionRatio<1&&this.startScrollListeners()},{root:document,rootMargin:`-${o(this,h)}px 0px 0px 0px`,threshold:[1]})),o(this,c).observe(this.pane),this.startScrollListeners()}constructor(...e){super(...e),r(this,d,{get:w,set:void 0}),r(this,p,{writable:!0,value:void 0}),r(this,h,{writable:!0,value:void 0}),r(this,c,{writable:!0,value:void 0}),this.updatePaneHeight=()=>{let e=this.pane.getBoundingClientRect(),t=this.content.getBoundingClientRect(),i=`${e.top}px`;if(e.top>o(this,h))i=`${e.top}px`;else if(t.bottom<window.innerHeight){let e=window.innerHeight-t.bottom;i=`${o(this,h)}px - ${e}px`;let n=document.body.scrollHeight-window.scrollY;if(n<window.innerHeight){let t=e-(window.innerHeight-n);i=`${o(this,h)}px - ${t}px`}}else this.stopScrollListeners();this.pane.style.height=`calc(100vh - ${i})`}}};function w(){return this.pane&&this.pane.classList.contains("PageLayout-pane--sticky")}l([n.aC],u.prototype,"pane",void 0),l([n.aC],u.prototype,"content",void 0),u=l([n.p_],u)}}]);
//# sourceMappingURL=app_components_primer_experimental_split-page-layout-element_ts-32822657d276.js.map