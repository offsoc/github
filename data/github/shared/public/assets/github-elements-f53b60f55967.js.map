{"version":3,"file":"github-elements-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/include-fragment-element-hacks.ts","app/assets/modules/github/git-clone-help-element.ts","app/assets/modules/github/marked-text-element.ts","app/assets/modules/github/password-strength-element.ts","app/assets/modules/github/poll-include-fragment-element.ts","app/assets/modules/github/slash-command-expander-element/keyword.ts","app/assets/modules/github/slash-command-expander-element/text-field-mirror.ts","app/assets/modules/github/slash-command-expander-element/slash-command-expander-element.ts","app/assets/modules/github/slash-command-expander-element/text-field-selection-position.ts","app/assets/modules/github/slash-command-expander-element/index.ts","app/assets/modules/github/text-suggester-element.ts","app/assets/modules/github/virtual-filter-input-element.ts","app/assets/modules/github/virtual-list-element.ts","ui/packages/trusted-types-policies/include-fragment-element.ts","app/assets/modules/github-elements.ts","app/assets/modules/github/behaviors/html-validation.ts","app/assets/modules/github/fuzzy-list-element.ts","app/assets/modules/github/platform-toggle.ts","ui/packages/client-env/client-env.ts","ui/packages/document-ready/document-ready.ts","ui/packages/feature-flags/feature-flags.ts","ui/packages/runtime-environment/runtime-environment.ts","ui/packages/safe-storage/safe-storage.ts","ui/packages/stats/stats.ts"],"sourcesContent":["import '@github/include-fragment-element'\n\nwindow.IncludeFragmentElement.prototype.fetch = (request: Request) => {\n  request.headers.append('X-Requested-With', 'XMLHttpRequest')\n  return window.fetch(request)\n}\n","import {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass GitCloneHelpElement extends HTMLElement {\n  @target helpField: HTMLInputElement\n  @targets helpTexts: HTMLElement[]\n  @targets cloneURLButtons: HTMLElement[]\n\n  updateURL(event: Event) {\n    const switcher = event.currentTarget as HTMLElement\n\n    const url = switcher.getAttribute('data-url') || ''\n\n    this.helpField.value = url\n\n    if (switcher.matches('.js-git-protocol-clone-url')) {\n      for (const el of this.helpTexts) {\n        el.textContent = url\n      }\n    }\n\n    for (const button of this.cloneURLButtons) {\n      button.classList.remove('selected')\n    }\n    switcher.classList.add('selected')\n  }\n}\n","function defaultPositions(query: string, text: string): number[] {\n  const positions: number[] = []\n  let lastIndex = 0\n  for (let i = 0; i < query.length; i++) {\n    const char = query[i]!\n    const index = text.indexOf(char, lastIndex)\n    if (index === -1) return positions\n    lastIndex = index + 1\n    positions.push(index)\n  }\n  return positions\n}\n\nclass MarkedTextElement extends HTMLElement {\n  #lastText = ''\n  #lastQuery = ''\n  #observer: MutationObserver\n  #timer: number\n  positions?: typeof defaultPositions\n\n  static observedAttributes = ['query', 'data-owner-input']\n\n  get query(): string {\n    if (this.ownerInput) return this.ownerInput.value\n    return this.getAttribute('query') || ''\n  }\n\n  set query(query: string) {\n    this.setAttribute('query', query)\n  }\n\n  get ownerInput(): HTMLInputElement | null {\n    const el = this.ownerDocument.getElementById(this.getAttribute('data-owner-input') || '')\n    return el instanceof HTMLInputElement ? el : null\n  }\n\n  connectedCallback(): void {\n    this.handleEvent()\n    this.ownerInput?.addEventListener('input', this)\n    this.#observer = new MutationObserver(() => this.handleEvent())\n  }\n\n  handleEvent(): void {\n    if (this.#timer) cancelAnimationFrame(this.#timer)\n    this.#timer = requestAnimationFrame(() => this.mark())\n  }\n\n  disconnectedCallback(): void {\n    this.ownerInput?.removeEventListener('input', this)\n    this.#observer.disconnect()\n  }\n\n  mark() {\n    const text = this.textContent || ''\n    const query = this.query\n    if (text === this.#lastText && query === this.#lastQuery) return\n    this.#lastText = text\n    this.#lastQuery = query\n    this.#observer.disconnect()\n    let lastPosition = 0\n    const frag = document.createDocumentFragment()\n    for (const i of (this.positions || defaultPositions)(query, text)) {\n      if (Number(i) !== i || i < lastPosition || i > text.length) continue\n      const slice = text.slice(lastPosition, i)\n      if (slice !== '') {\n        frag.appendChild(document.createTextNode(text.slice(lastPosition, i)))\n      }\n      lastPosition = i + 1\n      const mark = document.createElement('mark')\n      mark.textContent = text[i]!\n      frag.appendChild(mark)\n    }\n    frag.appendChild(document.createTextNode(text.slice(lastPosition)))\n    this.replaceChildren(frag)\n    this.#observer.observe(this, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n    })\n  }\n}\n\ndeclare global {\n  interface Window {\n    MarkedTextElement: typeof MarkedTextElement\n  }\n}\n\nexport default MarkedTextElement\n\nif (!window.customElements.get('marked-text')) {\n  window.MarkedTextElement = MarkedTextElement\n  window.customElements.define('marked-text', MarkedTextElement)\n}\n","import {validate} from './behaviors/html-validation'\n\ninterface PasswordOptions {\n  minimumCharacterCount: number\n  passphraseLength: number\n}\n\ninterface Result {\n  valid: boolean\n  hasMinimumCharacterCount: boolean\n  hasMinimumPassphraseLength: boolean\n  hasLowerCase: boolean\n  hasNumber: boolean\n}\n\nclass PasswordStrengthElement extends HTMLElement {\n  connectedCallback() {\n    this.addEventListener('input', onInput)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('input', onInput)\n  }\n}\n\nif (!window.customElements.get('password-strength')) {\n  window.PasswordStrengthElement = PasswordStrengthElement\n  window.customElements.define('password-strength', PasswordStrengthElement)\n}\n\ndeclare global {\n  interface Window {\n    PasswordStrengthElement: typeof PasswordStrengthElement\n  }\n}\n\nfunction onInput(event: Event) {\n  const passwordStrength = event.currentTarget\n  if (!(passwordStrength instanceof PasswordStrengthElement)) return\n  const passwordInput = event.target\n  if (!(passwordInput instanceof HTMLInputElement)) return\n  const form = passwordInput.form\n  if (!(form instanceof HTMLFormElement)) return\n\n  const result = validatePassword(passwordInput.value, {\n    minimumCharacterCount: Number(passwordStrength.getAttribute('minimum-character-count')),\n    passphraseLength: Number(passwordStrength.getAttribute('passphrase-length')),\n  })\n\n  if (result.valid) {\n    passwordInput.setCustomValidity('')\n    const errorHint = passwordStrength.querySelector('dl.form-group')\n    if (errorHint) {\n      errorHint.classList.remove('errored')\n      errorHint.classList.add('successed')\n    }\n  } else if (passwordStrength.getAttribute('skip-custom-validity') !== 'true') {\n    passwordInput.setCustomValidity(passwordStrength.getAttribute('invalid-message') || 'Invalid')\n  }\n\n  highlightPasswordStrengthExplainer(passwordStrength, result)\n  validate(form)\n}\n\nfunction validatePassword(password: string, options: PasswordOptions): Result {\n  const result = {\n    valid: false,\n    hasMinimumCharacterCount: password.length >= options.minimumCharacterCount,\n    hasMinimumPassphraseLength: options.passphraseLength !== 0 && password.length >= options.passphraseLength,\n    hasLowerCase: /[a-z]/.test(password),\n    hasNumber: /\\d/.test(password),\n  }\n  result.valid =\n    result.hasMinimumPassphraseLength || (result.hasMinimumCharacterCount && result.hasLowerCase && result.hasNumber)\n  return result\n}\n\nfunction highlightPasswordStrengthExplainer(element: HTMLElement, result: Result) {\n  const moreThanNCharactersEl = element.querySelector('[data-more-than-n-chars]')\n  const minCharsEl = element.querySelector<HTMLElement>('[data-min-chars]')!\n  const numberReqEl = element.querySelector<HTMLElement>('[data-number-requirement]')!\n  const letterReqEl = element.querySelector<HTMLElement>('[data-letter-requirement]')!\n  const errorClasses =\n    element\n      .getAttribute('error-class')\n      ?.split(' ')\n      .filter(t => t.length > 0) || []\n  const passClasses =\n    element\n      .getAttribute('pass-class')\n      ?.split(' ')\n      .filter(t => t.length > 0) || []\n\n  for (const part of [moreThanNCharactersEl, minCharsEl, numberReqEl, letterReqEl]) {\n    part?.classList.remove(...errorClasses, ...passClasses)\n  }\n\n  if (result.hasMinimumPassphraseLength && moreThanNCharactersEl) {\n    moreThanNCharactersEl.classList.add(...passClasses)\n  } else if (result.valid) {\n    minCharsEl.classList.add(...passClasses)\n    numberReqEl.classList.add(...passClasses)\n    letterReqEl.classList.add(...passClasses)\n  } else {\n    const charTextClasses = result.hasMinimumCharacterCount ? passClasses : errorClasses\n    const numberTextClasses = result.hasNumber ? passClasses : errorClasses\n    const caseTextClasses = result.hasLowerCase ? passClasses : errorClasses\n\n    moreThanNCharactersEl?.classList.add(...errorClasses)\n    minCharsEl.classList.add(...charTextClasses)\n    numberReqEl.classList.add(...numberTextClasses)\n    letterReqEl.classList.add(...caseTextClasses)\n  }\n}\n","/* eslint eslint-comments/no-use: off */\n\nimport './include-fragment-element-hacks'\nimport {IncludeFragmentElement} from '@github/include-fragment-element'\nimport {controller, target, attr} from '@github/catalyst'\n\nconst DEFAULT_INTERVAL = 1000\nconst DEFAULT_MULTIPLIER = 1.5\n\n@controller\nclass PollIncludeFragmentElement extends IncludeFragmentElement {\n  @target retryButton: HTMLButtonElement | null\n  @attr intervalMilliseconds = DEFAULT_INTERVAL\n  @attr backoffMultiplier = DEFAULT_MULTIPLIER\n\n  pollingTimeout: NodeJS.Timeout | null = null\n\n  override async fetch(request: Request, ms?: number): Promise<Response> {\n    const response = await super.fetch(request)\n    // Protecting from NaN here as per the documentation describes that it will be\n    // return 0 if attribute doesn't exist: https://catalyst.rocks/guide/attrs/\n\n    let interval = ms || this.intervalMilliseconds\n    if (!interval || isNaN(interval)) {\n      interval = DEFAULT_INTERVAL\n    }\n    const multiplier = isNaN(this.backoffMultiplier) ? DEFAULT_MULTIPLIER : this.backoffMultiplier\n\n    if (response.status === 202) {\n      await new Promise(resolve => {\n        this.pollingTimeout = setTimeout(resolve, interval)\n      })\n      return this.fetch(request, interval * multiplier)\n    } else {\n      return response\n    }\n  }\n\n  override refetch() {\n    this.cancelPolling()\n    return super.refetch()\n  }\n\n  override connectedCallback() {\n    super.connectedCallback()\n\n    if (this.retryButton) {\n      this.retryButton.addEventListener('click', () => {\n        this.refetch()\n      })\n    }\n  }\n\n  disconnectedCallback() {\n    this.cancelPolling()\n  }\n\n  private cancelPolling() {\n    if (this.pollingTimeout) {\n      clearTimeout(this.pollingTimeout)\n    }\n  }\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\ntype Keyword = {\n  word: string\n  position: number\n  beginningOfLine: boolean\n}\n\n// Extracts a keyword from the source text, backtracking from the cursor position.\nexport default function keyword(text: string, key: string, cursor: number): Keyword | void {\n  // Activation key not found in front of the cursor.\n  const keyIndex = text.lastIndexOf(key, cursor - 1)\n  if (keyIndex === -1) return\n\n  // Space between the cursor and previous activation key.\n  const spaceIndex = text.lastIndexOf(' ', cursor - 1)\n  if (spaceIndex > keyIndex) return\n\n  const newlineIndex = text.lastIndexOf('\\n', cursor - 1)\n  if (newlineIndex > keyIndex) return\n\n  // Activation key must occur at beginning of line.\n  const pre = text[keyIndex - 1]!\n  if (pre && pre !== '\\n') return\n\n  // Extract matched keyword.\n  const word = text.substring(keyIndex + key.length, cursor)\n  return {word, position: keyIndex + key.length, beginningOfLine: isBeginningOfLine(pre)}\n}\n\nconst isBeginningOfLine = (character: string): boolean => {\n  // When slash is the first character in the text area, the previous character is undefined\n  return character === undefined || /\\n/.test(character)\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\nconst properties = ['position:absolute;', 'overflow:auto;', 'word-wrap:break-word;', 'top:0px;', 'left:-9999px;']\n\n// Copy CSS properties from text field to div that would affect the cursor position.\nconst propertyNamesToCopy = [\n  'box-sizing',\n  'font-family',\n  'font-size',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'height',\n  'letter-spacing',\n  'line-height',\n  'max-height',\n  'min-height',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'border-bottom',\n  'border-left',\n  'border-right',\n  'border-top',\n  'text-decoration',\n  'text-indent',\n  'text-transform',\n  'width',\n  'word-spacing',\n]\n\n// Map from text field element to its mirror.\nconst mirrorMap = new WeakMap()\n\n// Builds offscreen div that mirrors the text field.\n//\n// textField - A HTMLInputElement or HTMLTextAreaElement element\n// markerPosition - Optional Number to position a cursor marker at\n//                  (defaults to the end of the text)\n//\n// Returns an Element attached to the DOM. It is the callers\n// responsibility to cleanup and remove the element after they are\n// finished with their measurements.\nexport default function textFieldMirror(\n  textField: HTMLInputElement | HTMLTextAreaElement,\n  markerPosition: number | null,\n): {mirror: HTMLElement; marker: HTMLElement} {\n  const nodeName = textField.nodeName.toLowerCase()\n  if (nodeName !== 'textarea' && nodeName !== 'input') {\n    throw new Error('expected textField to a textarea or input')\n  }\n\n  let mirror = mirrorMap.get(textField)\n  if (mirror && mirror.parentElement === textField.parentElement) {\n    mirror.textContent = ''\n  } else {\n    mirror = document.createElement('div')\n    mirrorMap.set(textField, mirror)\n    const style = window.getComputedStyle(textField)\n    const props = properties.slice(0)\n    if (nodeName === 'textarea') {\n      props.push('white-space:pre-wrap;')\n    } else {\n      props.push('white-space:nowrap;')\n    }\n    for (let i = 0, len = propertyNamesToCopy.length; i < len; i++) {\n      const name = propertyNamesToCopy[i]!\n      props.push(`${name}:${style.getPropertyValue(name)};`)\n    }\n    mirror.style.cssText = props.join(' ')\n  }\n\n  const marker = document.createElement('span')\n  marker.style.cssText = 'position: absolute;'\n  marker.textContent = '\\u00a0'\n\n  let before\n  let after\n  if (typeof markerPosition === 'number') {\n    let text = textField.value.substring(0, markerPosition)\n    if (text) {\n      before = document.createTextNode(text)\n    }\n    text = textField.value.substring(markerPosition)\n    if (text) {\n      after = document.createTextNode(text)\n    }\n  } else {\n    const text = textField.value\n    if (text) {\n      before = document.createTextNode(text)\n    }\n  }\n\n  if (before) {\n    mirror.appendChild(before)\n  }\n\n  mirror.appendChild(marker)\n\n  if (after) {\n    mirror.appendChild(after)\n  }\n\n  if (!mirror.parentElement) {\n    if (!textField.parentElement) {\n      throw new Error('textField must have a parentElement to mirror')\n    }\n    textField.parentElement.insertBefore(mirror, textField)\n  }\n\n  mirror.scrollTop = textField.scrollTop\n  mirror.scrollLeft = textField.scrollLeft\n\n  return {mirror, marker}\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\nimport Combobox from '@github/combobox-nav'\nimport keyword from './keyword'\nimport textFieldSelectionPosition from './text-field-selection-position'\n\ntype Match = {\n  text: string\n  key: string\n  position: number\n  beginningOfLine: boolean\n}\n\nexport interface Result {\n  fragment: HTMLElement\n  matched: boolean\n}\n\nconst states = new WeakMap()\n\nclass SlashCommandExpander {\n  expander: SlashCommandExpanderElement\n  input: HTMLInputElement | HTMLTextAreaElement\n  menu: HTMLElement | null\n  oninput: (event: Event) => void\n  onkeydown: (event: KeyboardEvent) => void\n  onpaste: (event: Event) => void\n  oncommit: (event: Event) => void\n  onblur: (event: Event) => void\n  onmousedown: (event: Event) => void\n  combobox: Combobox | null\n  match: Match | null\n  justPasted: boolean\n  interactingWithMenu: boolean\n\n  constructor(expander: SlashCommandExpanderElement, input: HTMLInputElement | HTMLTextAreaElement) {\n    this.expander = expander\n    this.input = input\n    this.combobox = null\n    this.menu = null\n    this.match = null\n    this.justPasted = false\n    this.oninput = this.onInput.bind(this)\n    this.onpaste = this.onPaste.bind(this)\n    this.onkeydown = this.onKeydown.bind(this)\n    this.oncommit = this.onCommit.bind(this)\n    this.onmousedown = this.onMousedown.bind(this)\n    this.onblur = this.onBlur.bind(this)\n    this.interactingWithMenu = false\n    input.addEventListener('paste', this.onpaste)\n    input.addEventListener('input', this.oninput)\n    ;(input as HTMLElement).addEventListener('keydown', this.onkeydown)\n    input.addEventListener('blur', this.onblur)\n  }\n\n  destroy() {\n    this.input.removeEventListener('paste', this.onpaste)\n    this.input.removeEventListener('input', this.oninput)\n    ;(this.input as HTMLElement).removeEventListener('keydown', this.onkeydown)\n    this.input.removeEventListener('blur', this.onblur)\n  }\n\n  activate(match: Match, menu: HTMLElement) {\n    if (this.input !== document.activeElement) return\n    this.setMenu(match, menu)\n  }\n\n  deactivate(): boolean {\n    const menu = this.menu\n    const combobox = this.combobox\n    if (!menu || !combobox) return false\n    this.menu = null\n    this.combobox = null\n\n    menu.removeEventListener('combobox-commit', this.oncommit)\n    menu.removeEventListener('mousedown', this.onmousedown)\n    combobox.destroy()\n    menu.remove()\n\n    return true\n  }\n\n  setMenu(match: Match, menu: HTMLElement) {\n    this.deactivate()\n    this.menu = menu\n\n    if (!menu.id) menu.id = `text-expander-${Math.floor(Math.random() * 100000).toString()}`\n    this.expander.append(menu)\n\n    const itemsContainer = menu.querySelector<HTMLElement>('.js-command-list-container')\n\n    if (itemsContainer) {\n      this.combobox = new Combobox(this.input, itemsContainer)\n    } else {\n      this.combobox = new Combobox(this.input, menu)\n    }\n\n    const {top, left} = textFieldSelectionPosition(this.input, match.position)\n    const topMargin = parseInt(window.getComputedStyle(this.input).fontSize)\n\n    menu.style.top = `${top + topMargin}px`\n    menu.style.left = `${left}px`\n\n    this.combobox.start()\n    menu.addEventListener('combobox-commit', this.oncommit)\n    menu.addEventListener('mousedown', this.onmousedown)\n\n    // Focus first menu item.\n    this.combobox.navigate(1)\n  }\n\n  setValue(value: string | null) {\n    if (value === null || value === undefined) return\n\n    const match = this.match\n    if (!match) return\n\n    let {cursor, value: insertValue} = this.replaceCursorMark(value)\n    insertValue = insertValue?.length === 0 ? insertValue : `${insertValue} `\n\n    const selectionStart = match.position - match.key.length\n    const selectionEnd = match.position + match.text.length\n\n    this.input.focus()\n\n    let execCommandSucceeded = false\n    try {\n      this.input.setSelectionRange(selectionStart, selectionEnd)\n      execCommandSucceeded = document.execCommand('insertText', false, insertValue)\n    } catch (e) {\n      execCommandSucceeded = false\n    }\n\n    if (!execCommandSucceeded) {\n      const beginning = this.input.value.substring(0, match.position - match.key.length)\n      const remaining = this.input.value.substring(match.position + match.text.length)\n\n      this.input.value = beginning + insertValue + remaining\n    }\n\n    this.deactivate()\n\n    cursor = selectionStart + (cursor || insertValue.length)\n    this.input.selectionStart = cursor\n    this.input.selectionEnd = cursor\n  }\n\n  // Take a value and replace occurrences of %cursor%.\n  //\n  // Returns object with two keys:\n  // - cursor: holds index of cursor mark location\n  // - value: Given value with the cursor marks removed.\n  replaceCursorMark(value: string) {\n    const cursorPattern = /%cursor%/gm\n\n    const cursorFlagMatch = cursorPattern.exec(value)\n    if (cursorFlagMatch) {\n      return {\n        cursor: cursorFlagMatch.index,\n        value: value.replace(cursorPattern, ''),\n      }\n    } else {\n      return {\n        cursor: null,\n        value,\n      }\n    }\n  }\n\n  async onCommit({target}: Event) {\n    const item = target\n    if (!(item instanceof HTMLElement)) return\n    if (!this.combobox) return\n\n    const match = this.match\n    if (!match) return\n\n    const detail = {item, key: match.key, value: null}\n    const event = new CustomEvent('text-expander-value', {cancelable: true, detail})\n    const canceled = !this.expander.dispatchEvent(event)\n    const {onValue} = await import('./slash-command-suggester')\n    await onValue(this.expander, match.key, item)\n\n    if (canceled) return\n    if (detail.value) this.setValue(detail.value)\n  }\n\n  onBlur() {\n    if (this.interactingWithMenu) {\n      this.interactingWithMenu = false\n      return\n    }\n\n    this.deactivate()\n  }\n\n  onPaste() {\n    this.justPasted = true\n  }\n\n  async delay(milliseconds: number) {\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\n  }\n\n  async onInput() {\n    if (this.justPasted) {\n      this.justPasted = false\n      return\n    }\n\n    const match = this.findMatch()\n    if (match) {\n      this.match = match\n      await this.delay(this.appropriateDelay())\n\n      // Text was changed while waiting for delay\n      if (this.match !== match) return\n      const menu = await this.notifyProviders(match)\n\n      // Text was cleared while waiting on async providers.\n      if (!this.match) return\n\n      if (menu) {\n        this.activate(match, menu)\n      } else {\n        this.deactivate()\n      }\n    } else {\n      this.match = null\n      this.deactivate()\n    }\n  }\n\n  // How long should we wait before displaying the slash command menu?\n  appropriateDelay(): number {\n    // When something is typing at 50 WPM, they won't see the prompt.\n    // 50 WPM = 250 CPM = 4 characters per second\n    // 1000ms / 4 = 250ms per character\n    return 250\n  }\n\n  findMatch(): Match | void {\n    const cursor = this.input.selectionEnd\n    const text = this.input.value\n    for (const key of this.expander.getKeys()) {\n      const found = keyword(text, key, cursor!)\n      if (found) {\n        return {text: found.word, key, position: found.position, beginningOfLine: found.beginningOfLine}\n      }\n    }\n  }\n\n  async notifyProviders(match: Match): Promise<HTMLElement | void> {\n    const providers: Array<Promise<Result> | Result> = []\n    const provide = (result: Promise<Result> | Result) => providers.push(result)\n    const event = new CustomEvent('text-expander-change', {\n      cancelable: true,\n      detail: {provide, text: match.text, key: match.key},\n    })\n    const canceled = !this.expander.dispatchEvent(event)\n    if (canceled) return\n    const {onChange} = await import('./slash-command-suggester')\n    onChange(this.expander, match.key, provide, match.text)\n\n    const all = await Promise.all(providers)\n    const fragments = all.filter(x => x.matched).map(x => x.fragment)\n    return fragments[0]\n  }\n\n  onMousedown() {\n    this.interactingWithMenu = true\n  }\n\n  onKeydown(event: KeyboardEvent) {\n    // TODO: Refactor to use data-hotkey\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if (event.key !== 'Escape') return\n    if (this.deactivate()) {\n      event.stopImmediatePropagation()\n      event.preventDefault()\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  }\n}\n\nexport default class SlashCommandExpanderElement extends HTMLElement {\n  getKeys(): string[] {\n    const keys = this.getAttribute('keys')\n    return keys ? keys.split(' ') : []\n  }\n\n  connectedCallback() {\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    const input = this.querySelector('input[type=\"text\"], textarea')\n    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) return\n    const state = new SlashCommandExpander(this, input)\n    states.set(this, state)\n  }\n\n  disconnectedCallback() {\n    const state = states.get(this)\n    if (!state) return\n    state.destroy()\n    states.delete(this)\n  }\n\n  setValue(value: string) {\n    const state = states.get(this)\n    if (!state) return\n    state.setValue(value)\n  }\n\n  setMenu(menu: HTMLElement, interactionExpected = false) {\n    const state = states.get(this)\n    if (!state) return\n    if (!state.match) return\n    if (interactionExpected) {\n      state.interactingWithMenu = true\n    }\n    state.setMenu(state.match, menu)\n  }\n\n  closeMenu() {\n    const state = states.get(this)\n    if (!state) return\n    state.setValue('')\n  }\n\n  isLoading() {\n    const loadingMenu = this.getElementsByClassName('js-slash-command-expander-loading')[0] as HTMLElement\n\n    if (loadingMenu) {\n      const loadingMenuClone = loadingMenu.cloneNode(true) as HTMLElement\n      // eslint-disable-next-line github/no-d-none\n      loadingMenuClone.classList.remove('d-none')\n      this.setMenu(loadingMenuClone)\n    }\n  }\n\n  showError() {\n    const errorMenu = this.getElementsByClassName('js-slash-command-expander-error')[0] as HTMLElement\n\n    if (errorMenu) {\n      const errorMenuClone = errorMenu.cloneNode(true) as HTMLElement\n      // eslint-disable-next-line github/no-d-none\n      errorMenuClone.classList.remove('d-none')\n      this.setMenu(errorMenuClone)\n    }\n  }\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\nimport textFieldMirror from './text-field-mirror'\n\n// Get offset position of cursor in a `textField` field. The offset is the\n// number of pixels from the top left of the `textField`. Useful for\n// positioning a popup near the insertion point.\n//\n// const {top, left} = textFieldSelectionPosition(textarea)\n//\n// Measures offset position of cursor in text field.\n//\n// field - A HTMLTextAreaElement or HTMLInputElement\n// index - Number index into textField.value (default: textField.selectionEnd)\n//\n// Returns object with {top, left} properties.\nexport default function textFieldSelectionPosition(\n  field: HTMLInputElement | HTMLTextAreaElement,\n  index: number | null = field.selectionEnd,\n): {top: number; left: number} {\n  const {mirror, marker} = textFieldMirror(field, index)\n\n  const mirrorRect = mirror.getBoundingClientRect()\n  const markerRect = marker.getBoundingClientRect()\n\n  setTimeout(() => {\n    mirror.remove()\n  }, 5000)\n\n  return {\n    top: markerRect.top - mirrorRect.top,\n    left: markerRect.left - mirrorRect.left,\n  }\n}\n","/*\nThis was pulled in from github/text-expander-element to make iterating and testing easier.\nSee https://github.com/github/ui-platform/issues/88\n*/\n\nimport SlashCommandExpanderElement from './slash-command-expander-element'\nexport {SlashCommandExpanderElement as default}\n\ndeclare global {\n  interface Window {\n    SlashCommandExpanderElement: typeof SlashCommandExpanderElement\n  }\n}\n\nif (!window.customElements.get('slash-command-expander')) {\n  window.SlashCommandExpanderElement = SlashCommandExpanderElement\n  window.customElements.define('slash-command-expander', SlashCommandExpanderElement)\n}\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass TextSuggesterElement extends HTMLElement {\n  @target input: HTMLInputElement\n  @target suggestionContainer: HTMLElement\n  @target suggestion: HTMLElement\n\n  acceptSuggestion() {\n    if (this.suggestion?.textContent) {\n      this.input.value = this.suggestion.textContent\n      this.input.dispatchEvent(new Event('input'))\n      if (this.suggestionContainer) this.suggestionContainer.hidden = true\n      this.input.focus()\n    }\n  }\n}\n","function isSetAlike<V>(value: unknown): value is Set<V> {\n  return Boolean(\n    value instanceof Set ||\n      (value &&\n        typeof value === 'object' &&\n        'size' in value &&\n        'add' in value &&\n        'delete' in value &&\n        'clear' in value),\n  )\n}\n\n/**\n * An input component that fetches and filters items.\n *\n * Important:\n * - Uses src attribute to fetch items.\n * - Uses `data-property` attribute to load items from the response.\n */\nclass VirtualFilterInputElement<V> extends HTMLElement {\n  #abortController?: AbortController\n  #animationFrameId = 0\n  #lastQuery: string | null = null\n  #timer?: number\n  #items: Set<V> = new Set()\n  #filtered: Set<V> | null = null\n  filter: (item: V, query: string) => boolean | null = (item, query) => String(item).includes(query)\n\n  static get observedAttributes() {\n    return ['src', 'loading', 'data-property', 'aria-owns']\n  }\n\n  get filtered(): Set<V> {\n    if (this.#filtered) return this.#filtered\n\n    if (this.hasAttribute('aria-owns')) {\n      const el = this.ownerDocument.getElementById(this.getAttribute('aria-owns') || '')\n      if (el && isSetAlike<V>(el)) {\n        this.#filtered = el\n      }\n    }\n\n    return (this.#filtered ||= new Set())\n  }\n\n  set filtered(set: Set<V>) {\n    this.#filtered = set\n  }\n\n  get input(): HTMLInputElement | HTMLTextAreaElement | null {\n    return this.querySelector<HTMLInputElement | HTMLTextAreaElement>('input, textarea')\n  }\n\n  get src(): string {\n    return this.getAttribute('src') || ''\n  }\n\n  set src(value: string) {\n    this.setAttribute('src', value)\n  }\n\n  get loading(): 'eager' | 'lazy' {\n    if (this.getAttribute('loading') === 'lazy') return 'lazy'\n    return 'eager'\n  }\n\n  set loading(value: 'eager' | 'lazy') {\n    this.setAttribute('loading', value)\n  }\n\n  get accept(): string {\n    return this.getAttribute('accept') || ''\n  }\n\n  set accept(value: string) {\n    this.setAttribute('accept', value)\n  }\n\n  get property(): string {\n    return this.getAttribute('data-property') || ''\n  }\n\n  set property(value: string) {\n    this.setAttribute('data-property', value)\n  }\n\n  reset() {\n    this.filtered.clear()\n    this.#items = new Set()\n  }\n\n  clear() {\n    if (!this.input) return\n    this.input.value = ''\n    this.input.dispatchEvent(new Event('input'))\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n    const isReady = this.isConnected && this.src\n    const eager = this.loading === 'eager'\n    const isLoaderAttribute = name === 'src' || name === 'loading' || name === 'accept' || name === 'data-property'\n    const isDataSourceAttribute = name === 'src' || name === 'data-property'\n    const valueChanged = oldValue !== newValue\n\n    // Reset the lastQuery in case src or property has changed.\n    // This means that the data will be different and we don't want to preserve the same filtering query.\n    if (isDataSourceAttribute && valueChanged) {\n      this.#lastQuery = null\n      // clear the debounce timer when value and datasource has changed\n      // the new dataset will be filtered in load() method\n      if (this.#timer) clearTimeout(this.#timer)\n    }\n\n    if (isReady && eager && isLoaderAttribute && valueChanged) {\n      cancelAnimationFrame(this.#animationFrameId)\n      this.#animationFrameId = requestAnimationFrame(() => this.load())\n    } else if (name === 'aria-owns') {\n      this.#filtered = null\n    }\n  }\n\n  connectedCallback() {\n    if (this.src && this.loading === 'eager') {\n      cancelAnimationFrame(this.#animationFrameId)\n      this.#animationFrameId = requestAnimationFrame(() => this.load())\n    }\n    const input = this.input\n    if (!input) return\n\n    // Trigger aria-owns behavior which does not always trigger from attributeChangedCallback\n    const owns = this.getAttribute('aria-owns')\n    if (owns !== null) {\n      this.attributeChangedCallback('aria-owns', '', owns)\n    }\n\n    input.setAttribute('autocomplete', 'off')\n    input.setAttribute('spellcheck', 'false')\n\n    if (this.src && this.loading === 'lazy') {\n      if (document.activeElement === input) {\n        // If the input is focused, we want to load immediately\n        this.load()\n      } else {\n        // Otherwise, we want to load when the input is focused\n        input.addEventListener(\n          'focus',\n          () => {\n            this.load()\n          },\n          {once: true},\n        )\n      }\n    }\n\n    // Dispatches to `handleEvent`.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/EventListener/handleEvent\n    input.addEventListener('input', this)\n  }\n\n  disconnectedCallback() {\n    this.input?.removeEventListener('input', this)\n  }\n\n  handleEvent(event: Event) {\n    if (event.type === 'input') {\n      if (this.#timer) clearTimeout(this.#timer)\n      // We try to simulate a \"sensible\" debounce, assuming that we're\n      // filtering a large number of items, we can debounce slightly longer\n      // for shallow queries\n      this.#timer = window.setTimeout(() => this.filterItems(), this.input?.value?.length || 0 < 3 ? 300 : 100)\n    }\n  }\n\n  async load() {\n    this.#abortController?.abort()\n    this.#abortController = new AbortController()\n    const {signal} = this.#abortController\n    if (!this.src) throw new Error('missing src')\n\n    // Functional stand in for the W3 spec \"queue a task\" paradigm\n    await new Promise(resolve => setTimeout(resolve, 0))\n    if (signal.aborted) return\n\n    this.dispatchEvent(new Event('loadstart'))\n\n    try {\n      const response = await this.fetch(this.request(), {\n        signal,\n        headers: {'X-Requested-With': 'XMLHttpRequest'},\n      })\n      if (location.origin + this.src !== response.url) {\n        // If the response URL does not match the src we are ignoring it.\n        return\n      }\n\n      if (!response.ok) {\n        throw new Error(`Failed to load resource: the server responded with a status of ${response.status}`)\n      }\n      this.#items = new Set((await response.json())[this.property])\n      // reset lastQuery, as the dataset has changed\n      this.#lastQuery = null\n      this.dispatchEvent(new Event('loadend'))\n    } catch (e) {\n      if (signal.aborted) {\n        this.dispatchEvent(new Event('loadend'))\n        return\n      }\n      // Dispatch `error` and `loadend` async to allow\n      // the `load()` promise to resolve _before_ these\n      // events are fired.\n      ;(async () => {\n        this.dispatchEvent(new Event('error'))\n        this.dispatchEvent(new Event('loadend'))\n      })()\n      throw e\n    }\n\n    this.filtered.clear()\n    this.filterItems()\n  }\n\n  request(): Request {\n    return new Request(this.src, {\n      method: 'GET',\n      credentials: 'same-origin',\n      headers: {\n        Accept: this.accept || 'application/json',\n      },\n    })\n  }\n\n  fetch(request: RequestInfo, init?: RequestInit): Promise<Response> {\n    return fetch(request, init)\n  }\n\n  filterItems() {\n    const query = this.input?.value.trim() ?? ''\n    const lastQuery = this.#lastQuery\n    this.#lastQuery = query\n    if (query === lastQuery) return\n    this.dispatchEvent(new CustomEvent('virtual-filter-input-filter'))\n    let items: Set<V>\n    // If the search is additive, we can filter the subset rather than the superset\n    // as we know the subset must contain all items present in the last query\n    if (lastQuery && query.includes(lastQuery)) {\n      items = this.filtered\n    } else {\n      items = this.#items\n      // If the search is not additive, we need to retain the original items order. To do that we need to repopulate the filtered set.\n      this.filtered.clear()\n    }\n    for (const item of items) {\n      if (this.filter(item, query)) {\n        this.filtered.add(item)\n      } else {\n        this.filtered.delete(item)\n      }\n    }\n    this.dispatchEvent(new CustomEvent('virtual-filter-input-filtered'))\n  }\n}\n\nexport default VirtualFilterInputElement\n\ndeclare global {\n  interface Window {\n    VirtualFilterInputElement: typeof VirtualFilterInputElement\n  }\n}\n\nif (!window.customElements.get('virtual-filter-input')) {\n  window.VirtualFilterInputElement = VirtualFilterInputElement\n  window.customElements.define('virtual-filter-input', VirtualFilterInputElement)\n}\n","/**\n * A list component that keeps only visible items in DOM.\n * The items that do not fit in the viewport will be detached from DOM and reattached on scroll.\n *\n * Important:\n * - Virtual List will use the first item in the dataset to calculate assumed visual height for all items\n * - There is no error correction for items having different visual height\n * - It extends Set to be compatible with virtual-filter-input-element - to be \"controllable\" from the outside\n */\n\nconst observer = new IntersectionObserver(entries => {\n  for (const entry of entries) {\n    if (!entry.isIntersecting) continue\n    if (!(entry.target instanceof VirtualListElement)) continue\n    if (entry.target.updating !== 'eager') continue\n    entry.target.update()\n  }\n})\n\n// @ts-expect-error Type 'VirtualListElement<V>' is missing the following properties from type 'Set<V>': union, intersection, difference, symmetricDifference, and 3 more\nclass VirtualListElement<V> extends HTMLElement implements Set<V> {\n  #sorted = false\n  #items: Set<V> = new Set()\n\n  // Heights is used to track the rendered height\n  // of a list element. This is useful because the\n  // height may vary from item to item, and so each\n  // height must be tracked.\n  #heights: Map<V, number> = new Map()\n  #assumedHeight = Infinity\n\n  #rangeCache = new Map<string, [number, number]>()\n  #renderCache = new Map<V, Element>()\n\n  #animationFrameId = 0\n\n  static get observedAttributes() {\n    return ['data-updating', 'aria-activedescendant']\n  }\n\n  get updating(): 'eager' | 'lazy' {\n    if (this.getAttribute('data-updating') === 'lazy') return 'lazy'\n    return 'eager'\n  }\n\n  set updating(value: 'eager' | 'lazy') {\n    this.setAttribute('data-updating', value)\n  }\n\n  get size(): number {\n    return this.#items.size\n  }\n\n  get range(): [number, number] {\n    const visibleHeight = this.getBoundingClientRect().height\n    const {scrollTop} = this\n    const key = `${scrollTop}-${visibleHeight}`\n    if (this.#rangeCache.has(key)) return this.#rangeCache.get(key)!\n    let rowStart = 0\n    let rowEnd = 0\n    let startHeight = 0\n    let endHeight = 0\n    const heights = this.#heights\n    for (const item of this.#items) {\n      const height = heights.get(item) || this.#assumedHeight\n      if (startHeight + height < scrollTop) {\n        startHeight += height\n        rowStart += 1\n        rowEnd += 1\n      } else if (endHeight - height < visibleHeight) {\n        endHeight += height\n        rowEnd += 1\n      } else if (endHeight >= visibleHeight) {\n        break\n      }\n    }\n    return [rowStart, rowEnd]\n  }\n\n  get list(): HTMLElement {\n    const list = this.querySelector('ul, ol, tbody')\n\n    if (!list) {\n      throw new Error('virtual-list must have a container element inside: any of <ul>, <ol>, <tbody>')\n    }\n\n    return list as HTMLElement\n  }\n\n  attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null) {\n    if (oldValue === newValue || !this.isConnected) return\n    const nowEager = name === 'data-updating' && newValue === 'eager'\n    const nowSorted = name === 'data-sorted' && this.hasAttribute('data-sorted')\n    if (nowEager || nowSorted) {\n      this.update()\n    }\n    if (name === 'aria-activedescendant') {\n      const itemIndex = this.getIndexByElementId(newValue)\n      this.dispatchEvent(new ActiveDescendantChangedEvent(itemIndex, newValue))\n      if (this.updating === 'eager') this.update()\n    }\n  }\n\n  connectedCallback(): void {\n    // eslint-disable-next-line github/prefer-observers\n    this.addEventListener('scroll', () => this.update())\n    this.updateSync = this.updateSync.bind(this)\n    observer.observe(this)\n  }\n\n  update(): void {\n    if (this.#animationFrameId) cancelAnimationFrame(this.#animationFrameId)\n    if (!this.#sorted && this.hasAttribute('data-sorted')) {\n      this.#animationFrameId = requestAnimationFrame(() => {\n        if (this.dispatchEvent(new CustomEvent('virtual-list-sort', {cancelable: true}))) {\n          this.sort()\n        }\n      })\n    } else {\n      this.#animationFrameId = requestAnimationFrame(this.updateSync)\n    }\n  }\n\n  renderItem(item: V): Element | undefined {\n    const detail = {item, fragment: document.createDocumentFragment()}\n    this.dispatchEvent(new CustomEvent('virtual-list-render-item', {detail}))\n    return detail.fragment.children[0]\n  }\n\n  private recalculateHeights(value: V) {\n    const list = this.list\n    if (!list) return\n    const row = this.renderItem(value)\n    if (!row) return\n    list.append(row)\n    const height = list.children[0]!.getBoundingClientRect().height\n    list.replaceChildren()\n    if (!height) return\n    this.#assumedHeight = height\n    this.#heights.set(value, height)\n  }\n\n  // returns the correct index of the item in the list (rendering order)\n  // uses #renderCache as a basis for calculating the index, as renderCache remembers the item insertion order\n  // note: as soon as we rely on insertion order in the cache, we need to properly invalidate it when data is updated\n  private getIndexByElementId(id: string | null): number {\n    if (!id) return -1\n\n    let index = 0\n    for (const [, row] of this.#renderCache) {\n      if (row.id === id || row.querySelector(`#${id}`)) {\n        return index\n      }\n      index++\n    }\n    return -1\n  }\n\n  private updateSync(): void {\n    const list = this.list\n\n    const [rowStart, rowEnd] = this.range\n    if (rowEnd < rowStart) return\n    const cancelled = !this.dispatchEvent(new CustomEvent('virtual-list-update', {cancelable: true}))\n    if (cancelled) return\n    const itemsRows = new Map<V, Element>()\n    const renderCache = this.#renderCache\n    let i = -1\n    let renderEnd = true\n    let startHeight = 0\n    let scrollTop = 0\n    let itemHeight = 0\n    for (const item of this.#items) {\n      if (i === -1 && (!Number.isFinite(this.#assumedHeight) || this.#assumedHeight === 0)) {\n        // When virtual list is visually hidden, it still can accept and render data\n        // This branch handles the case when virtual list was shown after the data was rendered (with item height === 0)\n        this.recalculateHeights(item)\n      }\n      i += 1\n      itemHeight = this.#heights.get(item) || this.#assumedHeight\n      if (i < rowStart) {\n        startHeight += itemHeight\n        scrollTop = startHeight\n        continue\n      }\n      if (i > rowEnd) {\n        renderEnd = false\n        break\n      }\n      let row = null\n      if (renderCache.has(item)) {\n        row = renderCache.get(item)!\n      } else {\n        row = this.renderItem(item)\n        if (!row) continue\n\n        row.querySelector('[aria-setsize]')?.setAttribute('aria-setsize', this.#items.size.toString())\n        row.querySelector('[aria-posinset]')?.setAttribute('aria-posinset', (i + 1).toString())\n        renderCache.set(item, row)\n      }\n\n      // set the attribute to the value, which needs to be used when this row should be scrolled into view\n      row.querySelector('[tabindex]')?.setAttribute('data-scrolltop', scrollTop.toString())\n      scrollTop += itemHeight\n\n      itemsRows.set(item, row)\n    }\n\n    list.replaceChildren(...itemsRows.values())\n\n    list.style.paddingTop = `${startHeight}px`\n    const totalHeight = this.size * this.#assumedHeight\n    list.style.height = `${totalHeight || 0}px`\n\n    // The itemsRows list must be iterated after all rows have been rendered to get accurate heights\n    let renderedPastBottom = false\n    const scrollBottom = this.getBoundingClientRect().bottom\n    for (const [item, row] of itemsRows) {\n      const {height, bottom} = row.getBoundingClientRect()\n      renderedPastBottom = renderedPastBottom || bottom >= scrollBottom\n      this.#heights.set(item, height)\n    }\n\n    const moreItemsToRender = !renderEnd && this.size > itemsRows.size\n    if (moreItemsToRender && !renderedPastBottom) {\n      this.#rangeCache.delete(`${this.scrollTop}-${this.getBoundingClientRect().height}`)\n      return this.update()\n    } else {\n      this.dispatchEvent(new RenderedEvent<V>(renderCache))\n    }\n\n    this.dispatchEvent(new CustomEvent('virtual-list-updated'))\n  }\n\n  private resetRenderCache() {\n    this.#renderCache = new Map<V, Element>()\n  }\n\n  has(value: V): boolean {\n    return this.#items.has(value)\n  }\n\n  add(value: V): this {\n    this.#items.add(value)\n    this.#sorted = false\n    // If this is the first item added we need to render it to get an estimate for the row height of an entity.\n    if (!Number.isFinite(this.#assumedHeight)) {\n      this.recalculateHeights(value)\n    }\n    this.resetRenderCache()\n    this.dispatchEvent(new Event('virtual-list-data-updated'))\n    if (this.updating === 'eager') this.update()\n    return this\n  }\n\n  delete(value: V): boolean {\n    const ret = this.#items.delete(value)\n    this.#sorted = false\n    this.#heights.delete(value)\n    this.resetRenderCache()\n    this.dispatchEvent(new Event('virtual-list-data-updated'))\n    if (this.updating === 'eager') this.update()\n    return ret\n  }\n\n  clear(): void {\n    this.#items.clear()\n    this.#heights.clear()\n    // Resetting the assumedHeight attribute, as the fresh data may contain completely different items.\n    // This will lead to height recalculation for a fresh dataset.\n    // Otherwise, the size of the list container will be incorrectly estimated.\n    this.#assumedHeight = Infinity\n    this.#sorted = true\n    this.resetRenderCache()\n    this.dispatchEvent(new Event('virtual-list-data-updated'))\n    if (this.updating === 'eager') this.update()\n  }\n\n  forEach(callbackfn: (value: V, value2: V, set: Set<V>) => void, thisArg?: unknown): void {\n    for (const item of this)\n      callbackfn.call(\n        thisArg,\n        item,\n        item,\n        // @ts-expect-error Type 'VirtualListElement<V>' is missing the following properties from type 'Set<V>': union, intersection, difference, symmetricDifference, and 3 more\n        this,\n      )\n  }\n\n  entries(): IterableIterator<[V, V]> {\n    return this.#items.entries()\n  }\n\n  values(): IterableIterator<V> {\n    return this.#items.values()\n  }\n\n  keys(): IterableIterator<V> {\n    return this.#items.keys()\n  }\n\n  [Symbol.iterator](): IterableIterator<V> {\n    return this.#items[Symbol.iterator]()\n  }\n\n  sort(compareFn?: (a: V, b: V) => number): this {\n    this.#items = new Set(Array.from(this).sort(compareFn))\n    this.#sorted = true\n    this.dispatchEvent(new Event('virtual-list-data-updated'))\n    if (this.updating === 'eager') this.update()\n    return this\n  }\n}\n\ndeclare global {\n  interface Window {\n    VirtualListElement: typeof VirtualListElement\n  }\n  // @ts-fixme HTMLElement doesn't expose `Symbol.toStringTag`\n  interface HTMLElement {\n    [Symbol.toStringTag]: 'HTMLElement'\n  }\n}\n\nexport class ActiveDescendantChangedEvent extends Event {\n  constructor(\n    public readonly index: number,\n    public readonly id: string | null,\n  ) {\n    super('virtual-list-activedescendant-changed')\n  }\n}\n\nexport class RenderedEvent<V> extends Event {\n  constructor(public readonly rowsCache: Map<V, Element>) {\n    super('virtual-list-rendered')\n  }\n}\n\nexport default VirtualListElement\n\nif (!window.customElements.get('virtual-list')) {\n  window.VirtualListElement = VirtualListElement\n  window.customElements.define('virtual-list', VirtualListElement)\n}\n","import {ghTrustedTypes} from '@github-ui/trusted-types'\nimport {trustedTypesPolicy} from './policy'\n\nconst policyName = 'include-fragment-element-no-op'\n\n// This is a temporary policy to allow us to migrate to Trusted Types without breaking existing code.\nexport const temporaryPermissiveIncludeFragmentPolicy = ghTrustedTypes.createPolicy(policyName, {\n  createHTML: (s: string) => {\n    return trustedTypesPolicy.apply({\n      policy: () => s,\n      policyName,\n      fallback: s,\n      fallbackOnError: true,\n    })\n  },\n})\n","// Primer includes:\n// @github/auto-complete-element\n// @github/clipboard-copy-element\n// @github/tab-container-element\n// @github/relative-time-element\n// @github/image-crop-element\n// @github/details-menu-element\n// `modal-dialog`\nimport '@primer/view-components'\n\nimport '@github/auto-check-element'\nimport '@github/details-dialog-element'\nimport '@github/file-attachment-element'\nimport '@github/filter-input-element'\nimport '@github/g-emoji-element'\nimport '@github/include-fragment-element'\nimport '@github/markdown-toolbar-element'\nimport '@github/remote-input-element'\nimport '@github/task-lists-element'\nimport '@github/text-expander-element'\nimport '@github/typing-effect-element'\n\n// Element hacks\nimport './github/include-fragment-element-hacks'\n\n// Internal Elements\nimport './github/fuzzy-list-element'\nimport './github/git-clone-help-element'\nimport './github/marked-text-element'\nimport './github/password-strength-element'\nimport './github/platform-toggle'\nimport './github/poll-include-fragment-element'\nimport './github/slash-command-expander-element'\nimport './github/text-suggester-element'\nimport './github/virtual-filter-input-element'\nimport './github/virtual-list-element'\n\n// Set IncludeFragmentElement to use CSP Trusted Types\nimport {temporaryPermissiveIncludeFragmentPolicy} from '@github-ui/trusted-types-policies/include-fragment-element'\nwindow.IncludeFragmentElement.setCSPTrustedTypesPolicy(temporaryPermissiveIncludeFragmentPolicy)\n","import {onFocus, onInput} from '@github-ui/onfocus'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nconst supportedFields = [\n  'input[pattern]',\n  'input[required]',\n  'textarea[required]',\n  'input[data-required-change]',\n  'textarea[data-required-change]',\n  'input[data-required-value]',\n  'textarea[data-required-value]',\n].join(',')\n\ntype Field = HTMLInputElement | HTMLTextAreaElement\n\nfunction checkValidityForRequiredValueField(field: Field) {\n  const requiredValue = field.getAttribute('data-required-value')!\n  const prefix = field.getAttribute('data-required-value-prefix')\n\n  if (field.value === requiredValue) {\n    field.setCustomValidity('')\n  } else {\n    let message = requiredValue\n    if (prefix) {\n      message = prefix + message\n    }\n    field.setCustomValidity(message)\n  }\n}\n\nonInput('[data-required-value]', function (event) {\n  const field = event.currentTarget as Field\n  checkValidityForRequiredValueField(field)\n})\n\non('change', '[data-required-value]', function (event) {\n  const field = event.currentTarget as Field\n  checkValidityForRequiredValueField(field)\n\n  // We need to call validate since we don't fire a `change` event on the form\n  // when session-resume dumps the text back into the field.\n  validate(field.form!)\n})\n\nonInput('[data-required-trimmed]', function (event) {\n  const field = event.currentTarget as Field\n  if (field.value.trim() === '') {\n    field.setCustomValidity(field.getAttribute('data-required-trimmed')!)\n  } else {\n    field.setCustomValidity('')\n  }\n})\n\non('change', '[data-required-trimmed]', function (event) {\n  const field = event.currentTarget as Field\n  if (field.value.trim() === '') {\n    field.setCustomValidity(field.getAttribute('data-required-trimmed')!)\n  } else {\n    field.setCustomValidity('')\n  }\n\n  // We need to call validate since we don't fire a `change` event on the form\n  // when session-resume dumps the text back into the field.\n  validate(field.form!)\n})\n\n// Observe required fields and validate form when their validation state\n// changes.\nonFocus(supportedFields, field => {\n  let previousValid = (field as Field).checkValidity()\n  function inputHandler() {\n    const currentValid = (field as Field).checkValidity()\n    if (currentValid !== previousValid && (field as Field).form) {\n      validate((field as Field).form!)\n    }\n    previousValid = currentValid\n  }\n\n  field.addEventListener('input', inputHandler)\n  field.addEventListener('blur', function blurHandler() {\n    field.removeEventListener('input', inputHandler)\n    field.removeEventListener('blur', blurHandler)\n  })\n})\n\nconst installedForms = new WeakMap()\n\n// Install validation handlers on a form.\nfunction installHandlers(form: HTMLFormElement) {\n  if (installedForms.get(form)) return\n  form.addEventListener('change', () => validate(form))\n  installedForms.set(form, true)\n}\n\n// Validate a form or input.\nexport function validate(form: HTMLInputElement | HTMLFormElement) {\n  const validity = form.checkValidity()\n  for (const button of form.querySelectorAll<HTMLButtonElement>('button[data-disable-invalid]')) {\n    button.disabled = !validity\n  }\n}\n\nobserve('button[data-disable-invalid]', {\n  constructor: HTMLButtonElement,\n  initialize(button) {\n    const form = button.form\n    if (form) {\n      installHandlers(form)\n      button.disabled = !form.checkValidity()\n    }\n  },\n})\n\n// A custom attribute similar to `required`, but only passes validation once\n// the value of the field has changed from its initial value.\nobserve('input[data-required-change], textarea[data-required-change]', function (element) {\n  const field = element as Field\n  const radioInputDefault =\n    field.type === 'radio' && field.form ? (field.form.elements.namedItem(field.name) as RadioNodeList).value : null\n\n  // Custom Validity Event Handler.\n  function customValidity(event?: Event) {\n    const form = field.form!\n    if (event && field.type === 'radio' && form && radioInputDefault) {\n      for (const radio of form.elements.namedItem(field.name) as RadioNodeList) {\n        if (radio instanceof HTMLInputElement) {\n          radio.setCustomValidity(field.value === radioInputDefault ? 'unchanged' : '')\n        }\n      }\n    } else {\n      field.setCustomValidity(field.value === (radioInputDefault || field.defaultValue) ? 'unchanged' : '')\n    }\n  }\n\n  field.addEventListener('input', customValidity)\n  field.addEventListener('change', customValidity)\n  customValidity()\n\n  if (field.form) {\n    validate(field.form)\n  }\n})\n\ndocument.addEventListener('reset', function (event: Event) {\n  if (event.target instanceof HTMLFormElement) {\n    const form = event.target\n    setTimeout(() => validate(form))\n  }\n})\n","import {score as fuzzyScore, hasMatch, positions} from 'fzy.js'\n\nconst getScore = (value: string, text: string, minScore: number) => {\n  if (!hasMatch(value, text)) return -Infinity\n  const score = fuzzyScore(value, text)\n  if (score < minScore) return -Infinity\n  return score\n}\nconst highlightElement = (node: HTMLElement, value: string, text: string) => {\n  node.textContent = ''\n\n  let lastPosition = 0\n  for (const i of positions(value, text)) {\n    const slice = text.slice(lastPosition, i)\n    if (slice !== '') {\n      node.appendChild(document.createTextNode(text.slice(lastPosition, i)))\n    }\n    lastPosition = i + 1\n    const mark = document.createElement('mark')\n    mark.textContent = text[i]!\n    node.appendChild(mark)\n  }\n\n  node.appendChild(document.createTextNode(text.slice(lastPosition)))\n}\n\ninterface sortAbort {\n  aborted: boolean\n}\nconst sorting: WeakMap<FuzzyListElement, sortAbort> = new WeakMap()\n\ntype FuzzyListLazyRenderCallback = (text: string) => Node\ninterface state {\n  timer: number | null\n  handler: MutationObserver\n  items: Set<Node>\n  lazyItems: Map<string, FuzzyListLazyRenderCallback>\n}\nconst states: WeakMap<FuzzyListElement, state> = new WeakMap()\n\nconst textCache: WeakMap<Node, string> = new WeakMap()\nconst getTextCache = (item: Node) => {\n  if (!textCache.has(item) && item instanceof HTMLElement) {\n    const value = (item.getAttribute('data-value') || item.textContent || '').trim()\n    textCache.set(item, value)\n    return value\n  }\n  return textCache.get(item) || ''\n}\n\nclass FuzzyListElement extends HTMLElement {\n  connectedCallback() {\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    const list = this.querySelector('ul')\n    if (!list) return\n\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    const items = new Set(list.querySelectorAll('li'))\n\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    const inputEl = this.querySelector('input')\n    if (inputEl instanceof HTMLInputElement) {\n      inputEl.addEventListener('input', () => {\n        this.value = inputEl.value\n      })\n    }\n\n    const handler = new MutationObserver(mutations => {\n      let update = false\n      for (const mutation of mutations) {\n        if (mutation.type === 'childList' && mutation.addedNodes.length) {\n          for (const item of mutation.addedNodes) {\n            if (item instanceof HTMLLIElement && !items.has(item)) {\n              const text = getTextCache(item)\n              update = update || hasMatch(this.value, text)\n              items.add(item)\n            }\n          }\n        }\n      }\n      if (update) this.sort()\n    })\n    handler.observe(list, {childList: true})\n\n    const state = {handler, items, lazyItems: new Map(), timer: null}\n    states.set(this, state)\n  }\n\n  disconnectedCallback() {\n    const state = states.get(this)\n    if (state) {\n      state.handler.disconnect()\n      states.delete(this)\n    }\n  }\n\n  addLazyItems(dataset: string[], render: FuzzyListLazyRenderCallback) {\n    const state = states.get(this)\n    if (!state) return\n    const {lazyItems} = state\n    const {value} = this\n    let update = false\n    for (const item of dataset) {\n      lazyItems.set(item, render)\n      update = update || (Boolean(value) && hasMatch(value, item))\n    }\n    if (update) this.sort()\n  }\n\n  sort() {\n    const oldSortAbort = sorting.get(this)\n    if (oldSortAbort) oldSortAbort.aborted = true\n    const sortAbort = {aborted: false}\n    sorting.set(this, sortAbort)\n    const {minScore, markSelector, maxMatches, value} = this\n    const state = states.get(this)\n    if (!state) return\n    if (!this.dispatchEvent(new CustomEvent('fuzzy-list-will-sort', {cancelable: true, detail: value}))) return\n    const {items, lazyItems} = state\n    const shouldMark = this.hasAttribute('mark-selector')\n\n    const list = this.querySelector('ul')\n    if (!list) return\n\n    const itemsToRender: Array<\n      {render: FuzzyListLazyRenderCallback; text: string; score: number} | {item: Node; score: number}\n    > = []\n\n    if (value) {\n      for (const item of items) {\n        const text = getTextCache(item)\n        const score = getScore(value, text, minScore)\n        if (score === -Infinity) continue\n        itemsToRender.push({item, score})\n      }\n      for (const [text, render] of lazyItems) {\n        const score = getScore(value, text, minScore)\n        if (score === -Infinity) continue\n        itemsToRender.push({text, render, score})\n      }\n      itemsToRender.sort((a, b) => b.score - a.score).splice(maxMatches)\n    } else {\n      let i = itemsToRender.length\n      for (const item of items) {\n        if (i >= maxMatches) break\n        itemsToRender.push({item, score: 1})\n        i += 1\n      }\n      for (const [text, render] of lazyItems) {\n        if (i >= maxMatches) break\n        itemsToRender.push({text, render, score: 1})\n        i += 1\n      }\n    }\n\n    requestAnimationFrame(() => {\n      if (sortAbort.aborted) return\n\n      // Store a reference to the checked input (if there is one) as when we\n      // append other (stale) items they could be checked, and we want to keep\n      // the originally checked item as the only checked item\n      const checkedInputBeforeFilter = list.querySelector('input[type=\"radio\"]:checked')\n\n      list.textContent = ''\n      let offset = 0\n\n      const nextBatch = () => {\n        if (sortAbort.aborted) return\n        const end = Math.min(itemsToRender.length, offset + 100)\n        const fragment = document.createDocumentFragment()\n        for (let i = offset; i < end; i += 1) {\n          const itemToRender = itemsToRender[i]!\n          let item = null\n          if ('render' in itemToRender && 'text' in itemToRender) {\n            const {render, text} = itemToRender\n            item = render(text)\n            items.add(item)\n            textCache.set(item, text)\n            lazyItems.delete(text)\n          } else if ('item' in itemToRender) {\n            item = itemToRender.item\n          }\n          if (item instanceof HTMLElement) {\n            if (shouldMark) {\n              highlightElement(\n                markSelector ? item.querySelector(markSelector) || item : item,\n                shouldMark ? value : '',\n                getTextCache(item),\n              )\n            }\n            fragment.appendChild(item)\n          }\n        }\n        offset = end\n\n        // Loop through all items that are about to be rendered - if there are\n        // any radios that are checked that conflict with the one checked item,\n        // then reset them to unchecked state\n        let inputStateReset = false\n        if (checkedInputBeforeFilter instanceof HTMLInputElement) {\n          for (const checkedInput of fragment.querySelectorAll('input[type=\"radio\"]:checked')) {\n            if (checkedInput instanceof HTMLInputElement && checkedInput.value !== checkedInputBeforeFilter.value) {\n              checkedInput.checked = false\n              inputStateReset = true\n            }\n          }\n        }\n\n        if (this.getAttribute('data-tab-only-first')) {\n          // Only make first button tabbable, others are navigable by arrow keys\n          // https://github.com/github/accessibility-audits/issues/6591\n          const buttons = this.querySelectorAll('button.js-emoji-button')\n          for (const button of buttons) {\n            button.setAttribute('tabindex', '-1')\n          }\n          buttons.item(0)?.setAttribute('tabindex', '0')\n        } else {\n          // Make sure that the fragments we're appending are accessible by 'tab'\n          for (const button of fragment.querySelectorAll('button[tabindex=\"-1\"]')) {\n            button.setAttribute('tabindex', '0')\n          }\n        }\n\n        list.appendChild(fragment)\n\n        // If any checked items were changed then a change event should be\n        // fired to let other observers know\n        if (checkedInputBeforeFilter && inputStateReset) {\n          checkedInputBeforeFilter.dispatchEvent(new Event('change', {bubbles: true}))\n        }\n\n        if (end < itemsToRender.length) {\n          requestAnimationFrame(nextBatch)\n        } else {\n          list.hidden = itemsToRender.length === 0\n          const emptyEl = this.querySelector<HTMLElement>('[data-fuzzy-list-show-on-empty]')\n          if (emptyEl) {\n            emptyEl.hidden = itemsToRender.length > 0\n          }\n\n          this.dispatchEvent(new CustomEvent('fuzzy-list-sorted', {detail: itemsToRender.length}))\n        }\n      }\n\n      nextBatch()\n    })\n  }\n\n  get value(): string {\n    return this.getAttribute('value') || ''\n  }\n\n  set value(value: string) {\n    this.setAttribute('value', value)\n  }\n\n  get markSelector(): string {\n    return this.getAttribute('mark-selector') || ''\n  }\n\n  set markSelector(value: string) {\n    if (value) {\n      this.setAttribute('mark-selector', value)\n    } else {\n      this.removeAttribute('mark-selector')\n    }\n  }\n\n  get minScore(): number {\n    return Number(this.getAttribute('min-score') || 0)\n  }\n\n  set minScore(value: number) {\n    if (Number.isNaN(value)) return\n    this.setAttribute('min-score', String(value))\n  }\n\n  get maxMatches(): number {\n    return Number(this.getAttribute('max-matches') || Infinity)\n  }\n\n  set maxMatches(value: number) {\n    if (Number.isNaN(value)) return\n    this.setAttribute('max-matches', String(value))\n  }\n\n  static get observedAttributes(): string[] {\n    return ['value', 'mark-selector', 'min-score', 'max-matches']\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n    if (oldValue === newValue) return\n    const state = states.get(this)\n    if (!state) return\n    if (state.timer) window.clearTimeout(state.timer)\n    state.timer = window.setTimeout(() => this.sort(), 100)\n  }\n}\n\nexport default FuzzyListElement\n\nif (!window.customElements.get('fuzzy-list')) {\n  window.FuzzyListElement = FuzzyListElement\n  window.customElements.define('fuzzy-list', FuzzyListElement)\n}\n\ndeclare global {\n  interface Window {\n    FuzzyListElement: typeof FuzzyListElement\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nexport function getPlatform(): string | null {\n  if (/Windows/.test(navigator.userAgent)) {\n    return 'windows'\n  }\n  if (/Macintosh/.test(navigator.userAgent)) {\n    return 'mac'\n  }\n  return null\n}\n\nfunction runningOnPlatform(element: Element): boolean {\n  const platforms = (element.getAttribute('data-platforms') || '').split(',')\n  const platform = getPlatform()\n  return Boolean(platform && platforms.includes(platform))\n}\n\nobserve('.js-remove-unless-platform', function (el) {\n  if (!runningOnPlatform(el)) {\n    el.remove()\n  }\n})\n","export interface ClientEnvironment {\n  readonly locale: string\n  readonly featureFlags: string[]\n}\n\nlet env: ClientEnvironment | undefined\n\nexport function getEnv() {\n  if (!env) {\n    throw new Error(\n      'Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.',\n    )\n  }\n\n  return env\n}\n\nexport function getLocale() {\n  return env?.locale ?? 'en-US'\n}\n\nfunction loadEnv() {\n  if (typeof document !== 'undefined') {\n    const envTag = document.getElementById('client-env')\n    if (envTag) {\n      try {\n        env = JSON.parse(envTag.textContent || '')\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error parsing client-env', error)\n      }\n    }\n  }\n}\n\n// Automatically load the env on initial page load\nloadEnv()\n\n// This is a special helper method for setting the env in the SSR environment only\nexport function setClientEnvForSsr(clientEnv: ClientEnvironment | undefined) {\n  env = clientEnv\n}\n\n// This env object is used as a default for tests only and is not included in production builds\nexport const clientEnvForTests: ClientEnvironment = {\n  locale: 'en',\n  featureFlags: ['test_flag'],\n}\n\nexport function _resetForTests({loadNewEnv, forceUndefined}: {loadNewEnv: boolean; forceUndefined?: boolean}) {\n  // forget the current env\n  env = forceUndefined ? undefined : clientEnvForTests\n\n  if (loadNewEnv) {\n    // load the latest env\n    loadEnv()\n  }\n}\n","import {ssrSafeDocument, ssrSafeWindow} from '@github-ui/ssr-utils'\n\n// Check if document has passed interactive state.\n//\n// The document has finished loading and the document has been parsed but\n// sub-resources such as images, stylesheets and frames are still loading.\n// The state indicates that the DOMContentLoaded event has been fired.\nexport const ready: Promise<void> = (function () {\n  if (ssrSafeDocument?.readyState === 'interactive' || ssrSafeDocument?.readyState === 'complete') {\n    return Promise.resolve()\n  } else {\n    return new Promise<void>(resolve => {\n      ssrSafeDocument?.addEventListener('DOMContentLoaded', () => {\n        resolve()\n      })\n    })\n  }\n})()\n\n// Check if document has passed loaded state.\n//\n// The document and all sub-resources have finished loading. The state\n// indicates that the load event has been fired.\nexport const loaded: Promise<unknown> = (function () {\n  if (ssrSafeDocument?.readyState === 'complete') {\n    return Promise.resolve()\n  } else {\n    return new Promise(resolve => {\n      ssrSafeWindow?.addEventListener('load', resolve)\n    })\n  }\n})()\n","import memoize from '@github/memoize'\nimport {getEnv} from '@github-ui/client-env'\nimport {IS_SERVER} from '@github-ui/ssr-utils'\n\nfunction getEnabledFeaturesSet(): Set<string> {\n  const features = getEnv().featureFlags\n  const featuresUpperCase = features.map(feature => feature.toLowerCase())\n  return new Set<string>(featuresUpperCase)\n}\n\nconst featuresSet =\n  IS_SERVER || process.env.NODE_ENV === 'test' ? getEnabledFeaturesSet : memoize(getEnabledFeaturesSet)\n\nexport function getEnabledFeatures(): string[] {\n  return Array.from(featuresSet())\n}\n\nexport function isFeatureEnabled(name: string): boolean {\n  return featuresSet().has(name.toLowerCase())\n}\n\n//exported to allow mocking in tests\nconst featureFlag = {isFeatureEnabled}\n\nexport {featureFlag}\n","import memoize from '@github/memoize'\nimport {ssrSafeDocument} from '@github-ui/ssr-utils'\n\nconst runtimeEnvironment = memoize(githubEnvironment)\n\n// return the github instance environment\n// if dotcom, returns 'dotcom'\n// if enterprise, returns 'enterprise'\nfunction githubEnvironment(): string {\n  return ssrSafeDocument?.head?.querySelector<HTMLMetaElement>('meta[name=\"runtime-environment\"]')?.content || ''\n}\n\nexport const isEnterprise = memoize(isEnterpriseEnvironment)\nfunction isEnterpriseEnvironment(): boolean {\n  return runtimeEnvironment() === 'enterprise'\n}\n\n// This is the \"bundler\" that built the client-side assets, e.g. \"webpack\"\nexport const bundler = typeof BUNDLER !== 'undefined' ? BUNDLER : undefined\n","import {ssrSafeWindow} from '@github-ui/ssr-utils'\nimport {sendStats} from '@github-ui/stats'\n\ntype StorageBackend = 'sessionStorage' | 'localStorage'\n\n/**\n * An implementation of the Storage API that throws away all data.  Used in\n * cases when the requested Storage backend is not available.\n */\nclass NoOpStorage {\n  getItem() {\n    return null\n  }\n\n  setItem() {\n    return undefined\n  }\n\n  removeItem() {\n    return undefined\n  }\n\n  clear() {\n    return undefined\n  }\n\n  key() {\n    return null\n  }\n\n  get length() {\n    return 0\n  }\n}\n\ntype SafeStorageOptions = {\n  /** Callers may opt not to suppress quota errors thrown on set in case they rely on recieving them. */\n  throwQuotaErrorsOnSet: boolean\n  /** The amount of time the value should remain in storage, in milliseconds */\n  ttl?: number\n  /** Don't send stats in CI */\n  sendCacheStats?: boolean\n}\n\n/**\n * Safely access Storage items by wrapping a Storage instance\n * (localStorage or sessionStorage) with safe versions of its API\n * methods.  Callers may opt not to suppress quota errors thrown on\n * set in case they rely on recieving them.\n */\nexport default function safeStorage<T = string>(\n  storageKey: StorageBackend,\n  options: SafeStorageOptions = {throwQuotaErrorsOnSet: false},\n  global = ssrSafeWindow,\n  deserialize: (value: string) => T = value => value as unknown as T,\n  serialize: (value: T) => string = (value: T) => value as unknown as string,\n) {\n  let storage: Storage\n  try {\n    if (!global) {\n      // in an SSR environment, use noop storage\n      throw new Error()\n    }\n\n    storage = global[storageKey] || new NoOpStorage()\n  } catch {\n    storage = new NoOpStorage()\n  }\n\n  const {throwQuotaErrorsOnSet} = options\n\n  function emitStats(key: PlatformBrowserIncrementKey) {\n    if (options.sendCacheStats) {\n      sendStats({incrementKey: key})\n    }\n  }\n\n  /**  Safely get storage item. Returns `null` if the item is older than the provided ttl */\n  function getItem(key: string, now: number = new Date().getTime()): T | null {\n    try {\n      const value = storage.getItem(key)\n      if (!value) {\n        return null\n      }\n      const expiryKey = `${key}:expiry`\n      const expiry = Number(storage.getItem(expiryKey))\n      if (expiry && now > expiry) {\n        removeItem(key)\n        removeItem(expiryKey)\n        emitStats('SAFE_STORAGE_VALUE_EXPIRED')\n        return null\n      } else {\n        emitStats('SAFE_STORAGE_VALUE_WITHIN_TTL')\n        return deserialize(value)\n      }\n    } catch (error) {\n      // Ignore browser private mode error.\n      return null\n    }\n  }\n\n  /**\n   * Safely set storage item.\n   * If `ttl` is provided, set an expiry time for the item under the key `${key}:expiry`\n   * This function will be called\n   */\n  function setItem(key: string, value: T, now: number = new Date().getTime()) {\n    try {\n      storage.setItem(key, serialize(value) as unknown as string)\n      if (options.ttl) {\n        const expiryKey = `${key}:expiry`\n        const expiry = now + options.ttl\n        storage.setItem(expiryKey, expiry.toString())\n      }\n    } catch (error) {\n      if (throwQuotaErrorsOnSet && error instanceof Error && error.message.toLowerCase().includes('quota')) throw error\n    }\n  }\n\n  // Safely remove storage item.\n  function removeItem(key: string) {\n    try {\n      storage.removeItem(key)\n      if (options.ttl) {\n        const expiryKey = `${key}:expiry`\n        storage.removeItem(expiryKey)\n      }\n    } catch (error) {\n      // Ignore browser private mode error.\n    }\n  }\n\n  return {\n    getItem,\n    setItem,\n    removeItem,\n    clear: storage.clear,\n    key: storage.key,\n    get length() {\n      return storage.length\n    },\n  }\n}\n\nexport function jsonSafeStorage<T>(storageBackend: StorageBackend) {\n  return safeStorage<T>(\n    storageBackend,\n    {throwQuotaErrorsOnSet: false},\n    ssrSafeWindow,\n    JSON.parse as (value: string) => T,\n    JSON.stringify as (obj: T) => string,\n  )\n}\n","import {ssrSafeDocument} from '@github-ui/ssr-utils'\nimport {loaded} from '@github-ui/document-ready'\nimport {bundler} from '@github-ui/runtime-environment'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {throttle} from '@github/mini-throttle'\n\nlet stats: PlatformBrowserStat[] = []\nconst chunkSize = 64 * 1024\n\nexport function sendStats(stat: PlatformBrowserStat, flushImmediately = false, samplingProbability = 0.5): void {\n  if (isFeatureEnabled('BROWSER_STATS_DISABLED') === true) {\n    return\n  }\n  if (samplingProbability < 0 || samplingProbability > 1) {\n    throw new RangeError('Sampling probability must be between 0 and 1')\n  }\n\n  if (stat.timestamp === undefined) stat.timestamp = new Date().getTime()\n  stat.loggedIn = isLoggedIn()\n  stat.staff = isStaff()\n  stat.bundler = bundler\n  if (Math.random() < samplingProbability) {\n    stats.push(stat)\n  }\n\n  if (flushImmediately) {\n    flushStats()\n  } else {\n    throttledScheduleSendStats()\n  }\n}\n\nlet queued: number | null = null\n\nconst throttledScheduleSendStats = throttle(async function scheduleSendStats() {\n  await loaded\n  if (queued == null) {\n    queued = window.requestIdleCallback(flushStats)\n  }\n}, 5000)\n\nfunction flushStats() {\n  queued = null\n  if (!stats.length) {\n    return\n  }\n\n  const url = ssrSafeDocument?.head?.querySelector<HTMLMetaElement>('meta[name=\"browser-stats-url\"]')?.content\n  if (!url) {\n    return\n  }\n\n  const batches = getBatches(stats)\n\n  for (const batch of batches) {\n    safeSend(url, `{\"stats\": [${batch.join(',')}] }`)\n  }\n\n  stats = []\n}\n\n// getBatches breaks up the list of stats into smaller batches\n// that are less than 64kb in size. This is to avoid hitting the\n// size limit of the beacon API.\nfunction getBatches(items: PlatformBrowserStat[]): string[][] {\n  const batches: string[][] = []\n  const itemStrings = items.map(item => JSON.stringify(item))\n\n  while (itemStrings.length > 0) {\n    batches.push(makeBatch(itemStrings))\n  }\n\n  return batches\n}\n\n// makeBatch walks the items and collects batches of items that are within\n// the 64kb limit. If an item is too big to fit in a batch, it is sent alone.\nfunction makeBatch(itemStrings: string[]): string[] {\n  const firstItem = itemStrings.shift()!\n  const batch: string[] = [firstItem]\n  let size = firstItem.length\n\n  while (itemStrings.length > 0 && size <= chunkSize) {\n    const nextItemSize = itemStrings[0]!.length\n\n    if (size + nextItemSize <= chunkSize) {\n      const itemString = itemStrings.shift()!\n      batch.push(itemString)\n      size += nextItemSize\n    } else {\n      break\n    }\n  }\n\n  return batch\n}\n\nfunction safeSend(url: string, data: string) {\n  try {\n    if (navigator.sendBeacon) {\n      navigator.sendBeacon(url, data)\n    }\n  } catch {\n    // Silently ignore errors: https://github.com/github/github/issues/178088#issuecomment-829936461\n  }\n}\n\nfunction isLoggedIn(): boolean {\n  return !!ssrSafeDocument?.head?.querySelector<HTMLMetaElement>('meta[name=\"user-login\"]')?.content\n}\n\nexport function isStaff(): boolean {\n  return !!ssrSafeDocument?.head?.querySelector<HTMLMetaElement>('meta[name=\"user-staff\"]')?.content\n}\n\n// Flush stats before users navigate away from the page\nssrSafeDocument?.addEventListener('pagehide', flushStats)\nssrSafeDocument?.addEventListener('visibilitychange', flushStats)\n"],"names":["window","IncludeFragmentElement","prototype","fetch","request","headers","append","GitCloneHelpElement","HTMLElement","updateURL","event","switcher","currentTarget","url","getAttribute","helpField","value","matches","el","helpTexts","textContent","button","cloneURLButtons","classList","remove","add","target","targets","controller","MarkedTextElement","query","ownerInput","setAttribute","ownerDocument","getElementById","HTMLInputElement","connectedCallback","handleEvent","addEventListener","observer","MutationObserver","timer","cancelAnimationFrame","requestAnimationFrame","mark","disconnectedCallback","removeEventListener","disconnect","text","lastText","lastQuery","lastPosition","frag","document","createDocumentFragment","i","positions","lastIndex","length","char","index","indexOf","push","Number","slice","appendChild","createTextNode","createElement","replaceChildren","observe","attributes","childList","subtree","observedAttributes","customElements","get","define","PasswordStrengthElement","onInput","passwordStrength","passwordInput","form","HTMLFormElement","result","validatePassword","password","options","valid","hasMinimumCharacterCount","minimumCharacterCount","hasMinimumPassphraseLength","passphraseLength","hasLowerCase","test","hasNumber","setCustomValidity","errorHint","querySelector","highlightPasswordStrengthExplainer","element","moreThanNCharactersEl","minCharsEl","numberReqEl","letterReqEl","errorClasses","split","filter","t","passClasses","part","charTextClasses","numberTextClasses","caseTextClasses","validate","PollIncludeFragmentElement","ms","response","interval","intervalMilliseconds","isNaN","multiplier","backoffMultiplier","status","Promise","resolve","pollingTimeout","setTimeout","refetch","cancelPolling","retryButton","clearTimeout","attr","isBeginningOfLine","character","undefined","properties","propertyNamesToCopy","mirrorMap","WeakMap","states","SlashCommandExpander","destroy","input","onpaste","oninput","onkeydown","onblur","activate","match","menu","activeElement","setMenu","deactivate","combobox","oncommit","onmousedown","id","Math","floor","random","toString","expander","itemsContainer","Combobox","top","left","textFieldSelectionPosition","field","selectionEnd","mirror","marker","textFieldMirror","textField","markerPosition","before","after","nodeName","toLowerCase","parentElement","set","style","getComputedStyle","props","len","name","getPropertyValue","cssText","join","substring","insertBefore","scrollTop","scrollLeft","mirrorRect","getBoundingClientRect","markerRect","position","topMargin","parseInt","fontSize","start","navigate","setValue","cursor","insertValue","replaceCursorMark","selectionStart","key","focus","execCommandSucceeded","setSelectionRange","execCommand","e","beginning","remaining","cursorPattern","cursorFlagMatch","exec","replace","onCommit","item","detail","CustomEvent","cancelable","canceled","dispatchEvent","onValue","onBlur","interactingWithMenu","onPaste","justPasted","delay","milliseconds","findMatch","appropriateDelay","notifyProviders","getKeys","found","keyword","keyIndex","lastIndexOf","spaceIndex","newlineIndex","pre","word","beginningOfLine","providers","provide","onChange","fragments","all","x","matched","map","fragment","onMousedown","onKeydown","stopImmediatePropagation","preventDefault","constructor","bind","SlashCommandExpanderElement","keys","HTMLTextAreaElement","state","delete","interactionExpected","closeMenu","isLoading","loadingMenu","getElementsByClassName","loadingMenuClone","cloneNode","showError","errorMenu","errorMenuClone","TextSuggesterElement","acceptSuggestion","suggestion","Event","suggestionContainer","hidden","VirtualFilterInputElement","filtered","hasAttribute","Set","src","loading","accept","property","reset","clear","items","attributeChangedCallback","oldValue","newValue","isReady","isConnected","eager","valueChanged","animationFrameId","load","owns","once","type","filterItems","abortController","abort","AbortController","signal","aborted","location","origin","ok","json","Request","method","credentials","Accept","init","trim","includes","String","IntersectionObserver","entries","entry","isIntersecting","VirtualListElement","updating","update","Symbol","iterator","size","range","visibleHeight","height","rangeCache","has","rowStart","rowEnd","startHeight","endHeight","heights","assumedHeight","list","nowEager","nowSorted","itemIndex","getIndexByElementId","ActiveDescendantChangedEvent","updateSync","sorted","sort","renderItem","children","recalculateHeights","row","renderCache","itemsRows","Map","renderEnd","itemHeight","isFinite","values","paddingTop","totalHeight","renderedPastBottom","scrollBottom","bottom","moreItemsToRender","RenderedEvent","resetRenderCache","ret","Infinity","forEach","callbackfn","thisArg","call","compareFn","Array","from","rowsCache","policyName","temporaryPermissiveIncludeFragmentPolicy","ghTrustedTypes","createPolicy","createHTML","trustedTypesPolicy","apply","policy","s","fallback","fallbackOnError","setCSPTrustedTypesPolicy","checkValidityForRequiredValueField","requiredValue","prefix","message","on","onFocus","previousValid","checkValidity","inputHandler","currentValid","blurHandler","installedForms","validity","querySelectorAll","disabled","HTMLButtonElement","initialize","radioInputDefault","elements","namedItem","customValidity","radio","defaultValue","getScore","minScore","hasMatch","score","fuzzyScore","highlightElement","node","sorting","textCache","getTextCache","FuzzyListElement","inputEl","handler","mutations","mutation","addedNodes","HTMLLIElement","lazyItems","addLazyItems","dataset","render","Boolean","oldSortAbort","sortAbort","markSelector","maxMatches","shouldMark","itemsToRender","a","b","splice","checkedInputBeforeFilter","offset","nextBatch","end","min","itemToRender","inputStateReset","checkedInput","checked","buttons","bubbles","emptyEl","removeAttribute","getPlatform","navigator","userAgent","runningOnPlatform","platforms","platform","env","getEnv","getLocale","locale","loadEnv","envTag","JSON","parse","error","console","ready","ssrSafeDocument","readyState","loaded","ssrSafeWindow","getEnabledFeaturesSet","features","featureFlags","feature","featuresSet","IS_SERVER","memoize","getEnabledFeatures","isFeatureEnabled","featureFlag","runtimeEnvironment","head","content","isEnterprise","bundler","BUNDLER","NoOpStorage","getItem","setItem","removeItem","safeStorage","storageKey","throwQuotaErrorsOnSet","global","deserialize","serialize","storage","emitStats","sendCacheStats","sendStats","incrementKey","ttl","expiryKey","now","Date","getTime","expiry","Error","jsonSafeStorage","storageBackend","stringify","stats","stat","flushImmediately","samplingProbability","timestamp","loggedIn","staff","isStaff","flushStats","throttledScheduleSendStats","queued","throttle","requestIdleCallback","batch","getBatches","batches","itemStrings","makeBatch","firstItem","shift","nextItemSize","itemString","safeSend","data","sendBeacon"],"sourceRoot":""}