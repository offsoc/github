(function(){$(document).ready(function(){return $("#test-smtp-settings .js-popover-close").on("click",function(){return $("#smtp_test_result").removeClass("error").removeClass("success").html("")}),$(".js-test-smtp").on("click",function(e){var s,t,r,a;return e.preventDefault(),s=$(e.target),r=$(".js-testing-smtp"),t=$("#smtp_test_email"),(a=$("#smtp_test_result")).removeClass("error").removeClass("success").html(""),t.val()?(r.show(),s.attr("disabled",!0),$(".js-input-radio:checked").each(window.forms.checkInputRadioField),$.ajax({url:s.attr("value"),data:$("form").serialize(),dataType:"json",type:"POST",success:function(e){var t;return(t=e.redirect_to)&&(document.location.href=t),r.hide(),s.attr("disabled",!1),"success"===e.status?a.addClass("success").html("Successfully sent email."):a.addClass("error").html(e.error),a.show()},error:function(e,t,o){return r.hide(),s.attr("disabled",!1),a.addClass("error").html("error: "+o),a.show()}})):(a.html("email is required").addClass("error"),a.show())})})}).call(this);