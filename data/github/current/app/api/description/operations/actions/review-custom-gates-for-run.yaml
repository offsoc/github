---
summary: 'Review custom deployment protection rules for a workflow run'
description: |-
  Approve or reject custom deployment protection rules provided by a GitHub App for a workflow run. For more information, see "[Using environments for deployment](${externalDocsUrl}/actions/deployment/targeting-different-environments/using-environments-for-deployment)."

  > [!NOTE]
  > GitHub Apps can only review their own custom deployment protection rules. To approve or reject pending deployments that are waiting for review from a specific person or team, see [`POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments`](/rest/actions/workflow-runs#review-pending-deployments-for-a-workflow-run).

  OAuth app tokens and personal access tokens (classic) need the `repo` scope to use this endpoint with a private repository.
tags:
  - actions
operationId: actions/review-custom-gates-for-run
externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/actions/workflow-runs#review-custom-deployment-protection-rules-for-a-workflow-run'
x-github-internal:
  path: /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule
  http-method: post
  published: true
  owner: "@github/actions-fusion-reviewers"
x-github-releases:
  - api.github.com
  - ghec
  - ghes: '>= 3.10'
parameters:
  - $ref: '../../components/parameters/owner.yaml'
  - $ref: '../../components/parameters/repo.yaml'
  - $ref: '../../components/parameters/run-id.yaml'
requestBody:
  required: true
  content:
    application/json:
      schema:
        anyOf:
          - $ref: '../../components/schemas/review-custom-gates-comment-required.yaml'
          - $ref: '../../components/schemas/review-custom-gates-state-required.yaml'
      examples:
        default:
          value:
            environment_name: prod-eus
            state: approved
            comment: All health checks passed.
responses:
  '204':
    description: Response
x-github:
  githubCloudOnly: false
  enabledForGitHubApps: true
  previews: []
  category: actions
  subcategory: workflow-runs
