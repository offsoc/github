{"version":3,"file":"chunk-ui_packages_task-component-element_task-component-element_ts-xxxxxxxxxxxx.js","mappings":"81BAIE,cADK,+BAAMA,6BAA6BC,YAKxC,MAAMC,cAAe,K,EACnB,IAAMC,EAAM,IAAI,CAACC,YAAY,CAAC,kBAAoB,G,MAClD,IAAI,CAAEC,E,uBAAN,IAAI,E,UAA0BC,QAE9B,GAAM,CAACC,OAAAA,CAAM,CAAC,CAAG,EAAH,KAAUF,EAAyB,IAAIG,iBAE/CC,EAAM,CAAC,EAAE,IAAI,CAACL,YAAY,CAAC,0BAA0B,CAAC,CACtDM,EAAO,IAAIC,SACjBD,EAAKE,GAAG,CAAC,OAAQT,GACjB,IAAMU,EAAW,MAAMC,MAAML,EAAK,CAChCF,OAAAA,EACAQ,OAAQ,QACRC,KAAMN,EACNO,QAAS,CACP,oBAAqB,IAAI,CAACC,KAAK,CAACC,KAAK,CACrC,mBAAoB,iBACpBC,OAAQ,kBACV,CACF,GACA,GAAKP,EAASQ,EAAE,GAGhB,MAAMR,EAASS,IAAI,GAEff,EAAOgB,OAAO,EAChB,MAEJ,C,8BA/BA,S,uIAAA,Q,kBAAA,M,UAAClB,EAAiD,K,CAgCpD,E,GA9BGmB,EAAAA,EAAMA,C,CAHIxB,qBAAAA,SAAAA,CAAAA,QAAAA,KAAAA,GAAAA,qBAAAA,EAAAA,CADZyB,EAAAA,EAAUA,C,CACEzB,qB","sources":["ui/packages/task-component-element/task-component-element.ts"],"sourcesContent":["import {controller, target} from '@github/catalyst'\n\n@controller\nexport class TaskComponentElement extends HTMLElement {\n  #completeTaskController: AbortController | null = null\n\n  @target token: HTMLInputElement\n\n  async completeTask() {\n    const key = this.getAttribute('data-task-key') || ''\n    this.#completeTaskController?.abort()\n\n    const {signal} = (this.#completeTaskController = new AbortController())\n\n    const url = `${this.getAttribute('data-complete-task-url')}`\n    const form = new FormData()\n    form.set('task', key)\n    const response = await fetch(url, {\n      signal,\n      method: 'PATCH',\n      body: form,\n      headers: {\n        'Scoped-CSRF-Token': this.token.value,\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n      },\n    })\n    if (!response.ok) {\n      return\n    }\n    await response.json()\n\n    if (signal.aborted) {\n      return\n    }\n  }\n}\n"],"names":["TaskComponentElement","HTMLElement","completeTask","key","getAttribute","completeTaskController","abort","signal","AbortController","url","form","FormData","set","response","fetch","method","body","headers","token","value","Accept","ok","json","aborted","target","controller"],"sourceRoot":""}