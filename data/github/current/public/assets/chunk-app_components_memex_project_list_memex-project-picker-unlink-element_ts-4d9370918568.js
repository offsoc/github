"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_memex_project_list_memex-project-picker-unlink-element_ts","app_components_memex_project_list_project-buttons-list-element_ts"],{55373:(e,t,n)=>{n.r(t);var o=n(39595),i=n(37550);function r(e,t,n,o){var i,r=arguments.length,c=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(c=(r<3?i(c):r>3?i(t,n,c):i(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c}let c=class MemexProjectPickerUnlinkElement extends HTMLElement{unlinkProject(e){e.preventDefault(),document.getElementById("action-type-control")?.setAttribute("value",i.ActionType.Link);let t=document.getElementById("js-project-picker-form"),n=t?.querySelector("memex-project-picker")||t?.querySelector("memex-project-picker-panel");if(!n)return;let o=this.button.getAttribute("data-number");if(!o)return;let r=parseInt(o);n.removeItem(this.button.getAttribute("data-name")||"",r,this.button.getAttribute("data-owner")||"")&&n.triggerUpdate(e)}};r([o.aC],c.prototype,"button",void 0),c=r([o.p_],c)},37550:(e,t,n)=>{n.r(t),n.d(t,{ActionType:()=>o});var o,i=n(39595),r=n(78350);function c(e,t,n,o){var i,r=arguments.length,c=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(c=(r<3?i(c):r>3?i(t,n,c):i(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c}!function(e){e.Create="create",e.Link="link"}(o||(o={}));let l=class ProjectButtonsListElement extends HTMLElement{connectedCallback(){this.updateActionType("link"),this.newProjectButton.addEventListener("click",()=>this.handleNewProjectFromLinkingMenuClick())}handleSplitButtonClick(){"create"===this.actionType.getAttribute("value")&&this.submitForm()}handleNewProjectFromLinkingMenuClick(){this.updateActionType("create"),this.submitForm()}select(e){let t=e.detail.relatedTarget.querySelector('input[name="button_state"]');t===this.newProjectInput?(this.newProject.hidden=!1,this.linkProject.hidden=!0,this.linkingMenu.hidden=!0,this.updateActionType("create"),this.splitButtonContainer.setAttribute("data-button-type","create")):t===this.linkProjectInput&&(this.newProject.hidden=!0,this.linkProject.hidden=!1,this.linkingMenu.hidden=!1,this.updateActionType("link"),this.splitButtonContainer.setAttribute("data-button-type","link"))}submitForm(){let e=document.getElementById("js-project-picker-form");(0,r.k_)(e)}updateActionType(e){this.actionType.setAttribute("value",e)}};c([i.aC],l.prototype,"splitButtonContainer",void 0),c([i.aC],l.prototype,"actionType",void 0),c([i.aC],l.prototype,"newProjectButton",void 0),c([i.aC],l.prototype,"newProject",void 0),c([i.aC],l.prototype,"linkProject",void 0),c([i.aC],l.prototype,"newProjectInput",void 0),c([i.aC],l.prototype,"linkProjectInput",void 0),c([i.aC],l.prototype,"linkingMenu",void 0),l=c([i.p_],l)},78350:(e,t,n)=>{n.d(t,{Cy:()=>l,K3:()=>s,Z8:()=>a,k_:()=>r,lK:()=>p,m$:()=>c});var o=n(41695);function i(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function r(e,t){t&&(function(e,t){if(!(e instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw Error("The specified element is not owned by the form element.")}(e,t),(0,o.A)(t)),i(e,"submit",!0)&&e.submit()}function c(e,t){if("boolean"==typeof t){if(e instanceof HTMLInputElement)e.checked=t;else throw TypeError("only checkboxes can be set to boolean value")}else{if("checkbox"===e.type)throw TypeError("checkbox can't be set to string value");e.value=t}i(e,"change",!1)}function l(e,t){for(let n in t){let o=t[n],i=e.elements.namedItem(n);i instanceof HTMLInputElement?i.value=o:i instanceof HTMLTextAreaElement&&(i.value=o)}}function a(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function u(e){return new URLSearchParams(e)}function s(e,t){let n=new URLSearchParams(e.search);for(let[e,o]of u(t))n.append(e,o);return n.toString()}function p(e){return u(new FormData(e)).toString()}},41695:(e,t,n)=>{function o(e){let t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=i(t);if(e.name){let o=e.matches("input[type=submit]")?"Submit":"",i=e.value||o;n||((n=document.createElement("input")).type="hidden",n.classList.add("js-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=i}else n&&n.remove()}function i(e){let t=e.querySelector("input.js-submit-button-value");return t instanceof HTMLInputElement?t:null}n.d(t,{A:()=>o,C:()=>i})}}]);
//# sourceMappingURL=app_components_memex_project_list_memex-project-picker-unlink-element_ts-390300894f61.js.map