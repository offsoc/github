"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["licensing-enterprise-overview"],{51848:(e,t,a)=>{let s;a.d(t,{BI:()=>h,Ti:()=>p,lA:()=>u});var n=a(70837),r=a(97524),i=a(74572),l=a(51528);let{getItem:o}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,n.O)("octolytics");delete e.baseContext,s=new r.s(e)}catch(e){}function m(e){let t=(0,n.O)("octolytics").baseContext||{};if(t)for(let[e,a]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=a,delete t[e]);let a=document.querySelector("meta[name=visitor-payload]");for(let[e,s]of(a&&Object.assign(t,JSON.parse(atob(a.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=s);return t.staff=(0,l.X)().toString(),Object.assign(t,e)}function u(e){s?.sendPageView(m(e))}function h(e,t={}){let a=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,n=a?{service:a}:{};for(let[e,a]of Object.entries(t))null!=a&&(n[e]=`${a}`);s&&(m(n),s.sendEvent(e||"unknown",m(n)))}function p(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},78288:(e,t,a)=>{var s,n,r=a(72245),i=a(74848),l=a(65481),o=a(87330),c=a(59857),d=a(281),m=a(17909),u=a(96540);let h=(0,u.createContext)({basePath:"",enterpriseContactUrl:"",isStafftools:!1}),p=({children:e,enterpriseContactUrl:t,isStafftools:a,slug:s})=>{let n=a?`/stafftools/enterprises/${s}`:`/enterprises/${s}`,r=(0,u.useMemo)(()=>({basePath:n,enterpriseContactUrl:t,isStafftools:a}),[n,t,a]);return(0,i.jsx)(h.Provider,{value:r,children:e})},x=()=>{let e=(0,u.useContext)(h);if(!e)throw Error("useNavigation must be used within a NavigationProvider");return e};try{h.displayName||(h.displayName="NavigationContext")}catch{}try{p.displayName||(p.displayName="NavigationContextProvider")}catch{}function f(e){let{enterpriseContactUrl:t,isStafftools:a}=x();return(0,i.jsxs)(d.W,{children:[(0,i.jsx)(d.W.Anchor,{children:(0,i.jsx)(o.K,{icon:c.KebabHorizontalIcon,variant:"invisible","aria-label":"Open menu","data-testid":"ghe-summary-menu-button",unsafeDisableTooltip:!0})}),(0,i.jsx)(d.W.Overlay,{width:"medium",children:(0,i.jsxs)(m.l,{"data-testid":"ghe-summary-menu",children:[(0,i.jsx)(m.l.Item,{onSelect:e.onDownloadCsvSelect,disabled:e.isCsvDownloadDisabled,"data-testid":"ghe-summary-menu-download-item",children:"Download CSV report"}),e.isVolumeLicensed&&e.isSelfServe&&!e.isSelfServeBlocked&&!a&&(0,i.jsx)(m.l.Item,{onSelect:e.onManageSeatsSelect,"data-testid":"ghe-summary-menu-manage-seats-item",children:"Manage seats"}),e.isVolumeLicensed&&!e.isSelfServe&&t&&!a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(m.l.Group,{children:(0,i.jsxs)(m.l.GroupHeading,{className:"f5 text-normal","data-testid":"ghe-summary-menu-contact-sales-heading",children:[(0,i.jsx)("a",{href:t,"data-testid":"ghe-summary-menu-contact-sales-link",children:"Contact sales"})," ","to buy more licenses"]})})]})]})})]})}try{f.displayName||(f.displayName="EnterpriseCloudSummaryHeaderMenu")}catch{}var g=a(86519),y=a(52139),v=a(30729),_=a(20053);let j={enterpriseProgressBar:"EnterpriseCloudSeatCount-module__enterpriseProgressBar--mRNwJ",lineHeightSpacious:"EnterpriseCloudSeatCount-module__lineHeightSpacious--loIbM",vssProgressBar:"EnterpriseCloudSeatCount-module__vssProgressBar--M0wzQ"};function b({canViewMembers:e,isTrial:t,isVolumeLicensed:a,enterpriseLicensesConsumed:s,enterpriseLicensesPurchased:n,vssLicensesConsumed:r,vssLicensesPurchasedWithOverage:l}){return(0,i.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,i.jsx)("h4",{className:"f5",children:"Total consumed seats"}),a||t?(0,i.jsx)(S,{enterpriseLicensesConsumed:s,totalAvailableLicenses:n+l,vssLicensesConsumed:r,vssLicensesPurchased:l}):(0,i.jsx)(C,{seatsUsed:s}),(0,i.jsx)(N,{canViewMembers:e,isVolumeLicensed:a,hasVssBundle:l>0})]})}function N({canViewMembers:e,isVolumeLicensed:t,hasVssBundle:a}){let{basePath:s,isStafftools:n}=x();return(0,i.jsxs)("div",{className:"text-small color-fg-muted","data-testid":"seat-count-description",children:[t?a?"Organization members, outside collaborators, and pending invitations consume enterprise licenses. Users matched to a Visual Studio assignment consume a Visual Studio license.":"Organization members, outside collaborators, and pending invitations consume enterprise licenses.":"Organization members and outside collaborators consume enterprise licenses.",t&&(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(g.A,{href:"https://docs.github.com/en/enterprise-cloud@latest/billing/managing-the-plan-for-your-github-account/about-per-user-pricing","data-testid":"seat-count-learn-more-link",children:"Learn more"})]}),(e||n)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("a",{href:`${s}/people`,"data-testid":"seat-count-view-members-link",children:"View members"})]})]})}function S({enterpriseLicensesConsumed:e,totalAvailableLicenses:t,vssLicensesConsumed:a,vssLicensesPurchased:s}){let n=e+a,r=0!==t?e/t*100:100,l=0!==t?a/t*100:100,o=s>0,d=`${e.toLocaleString()} Enterprise licenses used.`;return o&&(d+=` ${a.toLocaleString()} Visual Studio licenses used.`),d+=` ${t.toLocaleString()} total licenses available.`,(0,i.jsxs)("div",{className:"mb-1 d-flex flex-column gap-2",children:[(0,i.jsxs)("div",{className:"d-flex flex-justify-between flex-items-baseline flex-wrap",children:[(0,i.jsx)("div",{className:(0,_.$)("f3",j.lineHeightSpacious),"data-testid":"seat-count-total-consumed",children:n.toLocaleString()}),(0,i.jsxs)("div",{className:"f6 color-fg-muted no-wrap","data-testid":"seat-count-total-purchased",children:[t.toLocaleString()," available"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(y.z,{barSize:"small","aria-label":"Consumed seats","aria-valuetext":d,"data-testid":"seat-count-progress-bar",children:[(0,i.jsx)(y.z.Item,{progress:r,className:(0,_.$)(j.enterpriseProgressBar),"data-testid":"seat-count-progress-enterprise"},"enterprise"),o&&(0,i.jsx)(y.z.Item,{progress:l,className:(0,_.$)(j.vssProgressBar),"data-testid":"seat-count-progress-vss"},"vss")]}),o&&(0,i.jsxs)("div",{className:"d-flex flex-row mt-2 f6","data-testid":"seat-count-legend",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center mr-3",children:[(0,i.jsx)(v.A,{icon:c.DotFillIcon,size:16,className:"mr-1 fgColor-accent"}),(0,i.jsx)("span",{className:"mr-1 text-bold",children:"Enterprise"}),(0,i.jsx)("span",{"data-testid":"seat-count-legend-enterprise-count",children:e.toLocaleString()})]}),(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsx)(v.A,{icon:c.DotFillIcon,size:16,className:"mr-1 fgColor-success"}),(0,i.jsx)("span",{className:"mr-1 text-bold",children:"Visual Studio"}),(0,i.jsx)("span",{"data-testid":"seat-count-legend-vss-count",children:a.toLocaleString()})]})]})]})]})}function C({seatsUsed:e}){return(0,i.jsx)("div",{className:(0,_.$)("f3",j.lineHeightSpacious),"data-testid":"seat-count-used-no-limit",children:e.toLocaleString()})}try{b.displayName||(b.displayName="EnterpriseCloudSeatCount")}catch{}try{N.displayName||(N.displayName="SeatCountDescription")}catch{}try{S.displayName||(S.displayName="SeatCountLimited")}catch{}try{C.displayName||(C.displayName="SeatCountNoLimit")}catch{}var w=a(38553),E=a(55847);!function(e){e.Inactive="inactive",e.Pending="pending",e.Ready="ready",e.Error="error"}(s||(s={}));let A={flashDismissButton:"ExportStatusBanner-module__flashDismissButton--UMeGO"};function R({exportJobState:e,onDismissClick:t,emailNotificationMessage:a,showDownloadButtonOnReady:n,onDownloadButtonClick:r}){return(0,i.jsx)(l.A,{full:!0,variant:e===s.Error?"danger":"default",children:(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsxs)("div",{className:"flex-1","data-testid":"export-status-text-long",children:[(0,i.jsx)("span",{children:(0,i.jsx)(c.InfoIcon,{})}),e===s.Pending&&(a||"The CSV report is being generated."),e===s.Error&&"The CSV report could not be generated. Please try again later.",e===s.Ready&&"CSV report generation complete."]}),(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center gap-1","data-testid":"export-status-text-short",children:[e===s.Pending&&(0,i.jsx)(w.A,{size:"small","data-testid":"export-status-pending-spinner"}),e===s.Ready&&!n&&(0,i.jsx)(v.A,{icon:c.CheckIcon,size:"small",className:"fgColor-success"}),e===s.Error&&(0,i.jsx)(v.A,{icon:c.XIcon,size:"small",className:"fgColor-danger"}),(0,i.jsxs)("div",{className:"mr-1 color-fg-muted",children:[e===s.Pending&&"Generating CSV",e===s.Ready&&(n?(0,i.jsx)(E.Q,{onClick:r,children:"Download CSV"}):"Downloaded CSV"),e===s.Error&&"Download failed"]}),(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,icon:c.XIcon,className:(0,_.$)(A.flashDismissButton),size:"medium",variant:"invisible","aria-label":e===s.Pending?"Cancel export":"Close export","data-testid":"ghe-button-dismiss-export",onClick:t})})]})]})})}try{R.displayName||(R.displayName="ExportStatusBanner")}catch{}let P={manageSeatsCol:"ManageSeats-module__manageSeatsCol--t8L9C",newSeatsInput:"ManageSeats-module__newSeatsInput--EaL3j"};var D=a(28784);let I={CANCEL_PLAN_CHANGE_FAILED_REASON_UNKNOWN:"Sorry, we were unable to cancel your pending plan change.",UPDATE_SEATS_FAILED_REASON_UNKNOWN:"Sorry, we were unable to change your seats."};async function L(e,t){return(await (0,D.lS)(`${e}/settings/billing/seat_price?seats=${t}`)).json()}async function M(e,t){let a=await (0,D.lS)(`${e}/settings/billing/change_seats?seats=${t}`,{method:"PUT"}),s=await a.json();if(!s)throw Error(I.UPDATE_SEATS_FAILED_REASON_UNKNOWN);if("error"in s)throw Error(s.error);return{successMessage:s.success,newPayment:s.newPayment,newPendingCycleChange:s.newPendingCycleChange,newSeatCount:s.newSeatCount}}var k=a(71312);function T({paymentMethod:e}){let{basePath:t}=x(),a=e?.credit_card||e?.paypal,s=a?e?.credit_card?`${e.card_type} \u{2022}\u{2022}\u{2022}\u{2022} ${e.last_four}`:"PayPal":null,n=`${t}/settings/billing/payment_information#payment-method`;return(0,i.jsxs)("span",{className:"text-small color-fg-muted",children:[(0,i.jsx)(v.A,{icon:c.CreditCardIcon,className:"mr-2"}),a&&(0,i.jsx)("span",{className:"mr-2","data-testid":"payment-info",children:s}),(0,i.jsx)(g.A,{href:n,"data-testid":"payment-info-edit-link",children:a?"Edit Payment":"Set up payment"})]})}try{T.displayName||(T.displayName="ManageSeatsPaymentMethod")}catch{}let $="enterprise_account_manage_seats";function O({currentPrice:e,isMonthlyPlan:t,isTrial:a,paymentMethod:s,onCancelClick:n,onSaveClick:r,seatsPurchased:l,seatsConsumed:d}){let[m,h]=(0,u.useState)(l),[p,f]=(0,u.useState)(null),[g,y]=(0,u.useState)(null),{sendClickAnalyticsEvent:j}=(0,k.S)(),{basePath:b}=x(),N=Math.max(l-300,Math.max(d,1)),S=a?50:l+300,C=e=>(y(null),e>S)?(a?y("You may have a maximum of 50 seats during your trial."):y("You can only add or remove up to 300 seats at a time"),h(S),!1):!(e<N)||(y(`You need at least ${B(N,"seat")}`),h(N),!1),w=e=>{h(e)};return(0,u.useEffect)(()=>{L(b,m).then(f)},[b,m]),(0,i.jsxs)("div",{className:"pt-4 px-4 pb-4 d-flex flex-1 flex-column text-normal color-fg-default","data-testid":"manage-seats",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-wrap col-12",children:[(0,i.jsxs)("div",{className:(0,_.$)("d-flex","flex-column","flex-wrap","col-4","p-2",P.manageSeatsCol),children:[(0,i.jsx)("h5",{children:"Total seats"}),(0,i.jsxs)("div",{className:"my-2",children:[(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,icon:c.DashIcon,className:"px-3 rounded-right-0 border-right-0","aria-label":"Remove seat",onClick:()=>{j({category:$,action:"click_to_decrease_seats_number",label:"ref_cta:decrease_seats_number;ref_loc:enterprise_licensing"}),C(m-1)&&h(m-1)},"data-testid":"remove-seat-button"}),(0,i.jsx)("input",{type:"number",value:m,min:N,max:S,className:(0,_.$)("form-control",P.newSeatsInput),"aria-label":"Number of seats",onChange:e=>w(parseInt(e.target.value,10)),onClick:()=>{j({category:$,action:"click_on_seats_input",label:"ref_cta:seats_input;ref_loc:enterprise_licensing"})},onBlur:e=>C(parseInt(e.target.value,10)),"data-testid":"new-seats-input"}),(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,icon:c.PlusIcon,className:"px-3 rounded-left-0 border-left-0","aria-label":"Add seat",onClick:()=>{j({category:$,action:"click_to_increase_seats_number",label:"ref_cta:increase_seats_number;ref_loc:enterprise_licensing"}),C(m+1)&&h(m+1)},"data-testid":"add-seat-button"})]}),g&&(0,i.jsxs)("p",{className:"f6 color-fg-muted mt-2 mb-0",children:[(0,i.jsx)(v.A,{icon:c.AlertIcon,className:"mr-2 color-fg-attention"}),g]})]}),!g&&(0,i.jsxs)("p",{className:"text-small color-fg-muted",children:["You currently have ",B(l,"seat")]})]}),(0,i.jsxs)("div",{className:(0,_.$)("d-flex","flex-column","col-4","p-2",P.manageSeatsCol),children:[(0,i.jsx)("h5",{"data-testid":"payment-term-label",children:t?a?"Estimated monthly payment":"Monthly payment":a?"Estimated yearly payment":"Yearly payment"}),(0,i.jsx)("span",{className:"f2",children:p?.current_price||e}),!a&&p?.payment_increase&&(0,i.jsxs)("p",{className:"text-small color-fg-muted my-2",children:["Your payment increases by"," ",(0,i.jsx)("strong",{className:"color-fg-danger",children:p?.payment_increase})]}),!a&&p?.payment_decrease&&(0,i.jsxs)("p",{className:"text-small color-fg-muted my-2",children:["Your payment decreases by"," ",(0,i.jsx)("strong",{className:"color-fg-success",children:p?.payment_decrease})]})]}),(0,i.jsxs)("div",{className:(0,_.$)("d-flex","flex-column","col-4","p-2",P.manageSeatsCol),children:[(0,i.jsx)("h5",{children:"Due today"}),(0,i.jsx)("span",{className:"f2",children:p?.payment_due||"\u2014"}),(0,i.jsx)(T,{paymentMethod:s})]})]}),(0,i.jsxs)("div",{className:"d-flex flex-row flex-wrap flex-justify-end",children:[(0,i.jsxs)("div",{className:"d-flex flex-column flex-auto px-2 text-small color-fg-muted",children:[(0,i.jsx)("p",{className:"mb-1",children:p?.payment_due_notice}),(0,i.jsx)("p",{className:"mb-1",children:p?.sales_tax_notice})]}),(0,i.jsxs)("div",{className:"d-flex flex-row",children:[(0,i.jsx)("span",{className:"mr-3",children:(0,i.jsx)(E.Q,{onClick:()=>{n()},"data-testid":"manage-seats-cancel-button",children:"Cancel"})}),(0,i.jsx)(E.Q,{variant:"primary",onClick:()=>{C(m)&&r(m)},"data-testid":"manage-seats-save-button",children:"Confirm seats"})]})]})]})}function B(e,t,a=!0){let s=1===e?t:`${t}s`;return a?`${e.toLocaleString()} ${s}`:s}try{O.displayName||(O.displayName="ManageSeats")}catch{}var V=a(85053);let F={summaryCardHeaderNoBody:"SummaryCard-module__summaryCardHeaderNoBody--BFPH6"};function H(e){return(0,i.jsxs)("div",{className:"Box d-flex flex-column gap-0",children:[(0,i.jsxs)("div",{className:(0,_.$)("Box-header","d-flex","flex-row","flex-items-center","gap-2",!e.children&&F.summaryCardHeaderNoBody),"data-testid":"summary-card-header",children:[(0,i.jsx)("div",{className:"p-2 bgColor-default border rounded-2",children:(0,i.jsx)(e.headerIconComponent,{className:"d-block",size:16})}),(0,i.jsxs)("div",{className:"flex-1 d-flex flex-row flex-items-center gap-2",children:[(0,i.jsx)("h3",{className:"text-normal","data-testid":"summary-card-title",children:e.title}),(0,i.jsx)(z,{activationState:e.activationState})]}),e.headerMenu&&(0,i.jsx)("div",{"data-testid":"summary-card-header-menu",children:e.headerMenu})]}),e.children&&(0,i.jsx)("div",{className:"Box-footer pt-0 px-0","data-testid":"summary-card-body",children:e.children})]})}function z({activationState:e}){return(0,i.jsxs)(i.Fragment,{children:[e===n.Inactive&&(0,i.jsx)(V.A,{variant:"default","data-testid":"summary-card-label-inactive",children:"Disabled"}),e===n.Trial&&(0,i.jsx)(V.A,{variant:"accent","data-testid":"summary-card-label-trial",children:"Active trial"}),e===n.TrialExpired&&(0,i.jsx)(V.A,{variant:"attention","data-testid":"summary-card-label-trial-expired",children:"Expired trial"})]})}!function(e){e.Active="active",e.Inactive="inactive",e.Trial="trial",e.TrialExpired="trial_expired"}(n||(n={}));try{H.displayName||(H.displayName="SummaryCard")}catch{}try{z.displayName||(z.displayName="HeaderLabel")}catch{}var G=a(86079),U=a(90876);let W={cancelButton:"PendingPlanChange-module__cancelButton--QmhqE"};function K({onCancelConfirmed:e,pendingChange:t}){let{isStafftools:a}=x(),{changeType:s,effectiveDate:n,isChangingSeats:r,newPrice:l,newSeatCount:o,planDisplayName:d,planDuration:m}=t,[h,p]=(0,u.useState)(!1),f=()=>{p(!1)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)("div",{className:"flex-self-center pr-3",children:(0,i.jsx)(v.A,{icon:c.ClockIcon,size:16,className:"fgColor-attention"})}),(0,i.jsx)("div",{className:"flex-auto text-small",children:(0,i.jsxs)("div",{className:"my-1","data-testid":"pending-plan-change",children:["Your ",s," to ",d," plan"," ",r?`with ${o.toLocaleString()} seats `:"","will be effective on ",(0,i.jsx)("strong",{children:(0,U.GP)(n,"MMMM d, yyyy")}),".",(0,i.jsx)("br",{}),"The new price will be ",(0,i.jsx)("strong",{children:l})," / ",m,"."," ",!a&&(0,i.jsx)(E.Q,{as:"a",variant:"invisible",size:"small",className:(0,_.$)("d-inline",W.cancelButton),onClick:()=>{p(!0)},"data-testid":"cancel-pending-plan-change-button",children:"Cancel"})]})}),(0,i.jsx)("strong",{className:"flex-self-center f5",children:l})]}),h&&(0,i.jsx)(G.l,{title:"Cancel pending plan change",onClose:f,width:"medium",footerButtons:[{content:(0,i.jsx)("span",{"data-testid":"confirm-dialog-cancel-button",children:"Close"}),onClick:f},{autoFocus:!0,content:(0,i.jsx)("span",{"data-testid":"confirm-dialog-confirm-button",children:"Confirm cancellation"}),buttonType:"danger",onClick:()=>{p(!1),e()}}],children:"Are you sure you want to cancel this pending plan change? Cancelling the pending changes will revert back to your original plan."})]})}try{K.displayName||(K.displayName="PendingPlanChange")}catch{}let J={lineHeightSpacious:"EnterpriseCloudSummary-module__lineHeightSpacious--bJff7",warnFooter:"EnterpriseCloudSummary-module__warnFooter--qh_2w",bannerDismissButton:"EnterpriseCloudSummary-module__bannerDismissButton--NmWXW",gap6:"EnterpriseCloudSummary-module__gap6--GhpJb"};async function X(e){e=e.replace(/enterprises/,"businesses");let t=await (0,D.lS)(`${e}/pending_plan_changes/?cancel_seats=true`,{method:"PUT"}),a=await t.json();if(!a)throw Error(I.CANCEL_PLAN_CHANGE_FAILED_REASON_UNKNOWN);if("error"in a)throw Error(a.error);return{successMessage:a.success}}async function Y(e,t){return new Promise(a=>{let s=setTimeout(()=>{a()},e);t.addEventListener("abort",()=>{clearTimeout(s),a()})})}async function q(e,t){let a=await (0,D.lS)(e,{signal:t});if(a.status>=400){let e;try{e=await a.json()}catch{throw Error("Failed to download CSV file")}throw Error(e?.job?.error_message||"Failed to download CSV file")}return a.status}async function Q(e,t){let a=await (0,D.lS)(e,{method:"POST",body:{export_format:"csv"},signal:t});if(!a.ok)throw Error("Failed to create export job");return a.json()}async function Z(e,t){let a;do 200!==(a=await q(e,t))&&await Y(2e3,t);while(200!==a)}function ee(e){let[t,a]=(0,u.useState)(null),[r,d]=(0,u.useState)(e.currentPayment),[m,h]=(0,u.useState)(e.enterpriseLicensesPurchased),[p,g]=(0,u.useState)(e.isManagingSeats||!1),[y,v]=(0,u.useState)(null),[j,N]=(0,u.useState)(null),[S,C]=(0,u.useState)(e.pendingCycleChange??null),{basePath:w}=x(),E=`${w}/people/export?use_licensing_settings=true`,A=n.Active;e.trialInfo&&(A=e.trialInfo?.isActive?n.Trial:n.TrialExpired);let P=e.trialInfo?e.isMonthly?"Estimated monthly payment":"Estimated yearly payment":e.isMonthly?"Monthly payment":"Yearly payment",{exportJobState:D,emailNotificationMessage:L,startExport:k,dismissExport:T,doDownload:$,autoDownloadExport:B}=function(e){let[t,a]=(0,u.useState)(s.Inactive),[n,r]=(0,u.useState)(void 0),[i,l]=(0,u.useState)(""),o=(0,u.useRef)(null),c=!n,d=(0,u.useCallback)(()=>{window.location.assign(i)},[i]);return(0,u.useEffect)(()=>()=>{o.current?.abort()},[]),(0,u.useEffect)(()=>{t===s.Ready&&i&&c&&d()},[t,c,i,d]),{exportJobState:t,emailNotificationMessage:n,startExport:async()=>{o.current?.abort(),o.current=new AbortController;let t=o.current.signal;a(s.Pending),r(void 0);try{let{job_url:n,export_url:i,notify:o}=await Q(e,t);o&&r(o),await Z(n,t),l(i),a(s.Ready)}catch(e){"AbortError"!==e.name&&a(s.Error)}},dismissExport:()=>{o.current?.abort(),a(s.Inactive)},doDownload:d,autoDownloadExport:c}}(E),V=async e=>{N(null),v(null);try{let{successMessage:t,newPayment:a,newSeatCount:s,newPendingCycleChange:n}=await M(w,e);s&&h(s),a&&d(a),n&&C(n),v(t),g(!1)}catch(e){N(e instanceof Error?e.message:I.UPDATE_SEATS_FAILED_REASON_UNKNOWN)}},F=async()=>{N(null);try{let{successMessage:e}=await X(w);a(e),C(null)}catch(e){a(null),e instanceof Error?("There are no pending changes to update."===e.message&&C(null),N(e.message)):N(I.CANCEL_PLAN_CHANGE_FAILED_REASON_UNKNOWN)}};return(0,i.jsxs)(H,{activationState:A,headerIconComponent:c.GlobeIcon,title:"Enterprise Cloud",headerMenu:(0,i.jsx)(f,{isCsvDownloadDisabled:D===s.Pending,isSelfServe:e.isSelfServe,isSelfServeBlocked:e.isSelfServeBlocked,isVolumeLicensed:e.isVolumeLicensed,onDownloadCsvSelect:k,onManageSeatsSelect:()=>{g(!0)}}),children:[j&&(0,i.jsx)(l.A,{full:!0,variant:"danger",children:(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("span",{children:(0,i.jsx)(c.InfoIcon,{})}),j]}),(0,i.jsx)("div",{className:"d-flex flex-row flex-items-center gap-1",children:(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,icon:c.XIcon,size:"medium",variant:"invisible","aria-label":"Dismiss this message",onClick:()=>{N(null)},className:(0,_.$)(J.bannerDismissButton)})})})]})}),y&&(0,i.jsx)(l.A,{full:!0,variant:"success",children:(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("span",{children:(0,i.jsx)(c.CheckIcon,{})}),y]}),(0,i.jsx)("div",{className:"d-flex flex-row flex-items-center gap-1",children:(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,icon:c.XIcon,size:"medium",variant:"invisible","aria-label":"Dismiss this message",onClick:()=>{v(null)},className:(0,_.$)(J.bannerDismissButton)})})})]})}),t&&(0,i.jsx)(l.A,{full:!0,variant:"default",children:(0,i.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,i.jsx)("div",{className:"flex-1",children:t}),(0,i.jsx)("div",{className:"d-flex flex-row flex-items-center gap-1",children:(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(o.K,{unsafeDisableTooltip:!0,icon:c.XIcon,size:"medium",variant:"invisible","aria-label":"Dismiss this message",onClick:()=>{a(null)},className:(0,_.$)(J.bannerDismissButton)})})})]})}),D!==s.Inactive&&(0,i.jsx)(R,{exportJobState:D,onDismissClick:T,emailNotificationMessage:L,showDownloadButtonOnReady:!B,onDownloadButtonClick:$}),p?(0,i.jsx)(O,{currentPrice:r,isMonthlyPlan:!0,isTrial:!!e.trialInfo,onCancelClick:()=>{g(!1)},onSaveClick:V,paymentMethod:e.paymentMethod,seatsPurchased:m,seatsConsumed:e.enterpriseLicensesConsumed}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:(0,_.$)("pt-4","px-4","pb-4","d-flex","flex-column","flex-md-row","border-bottom",e.isSelfServe&&J.gap6),children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(b,{canViewMembers:e.canViewMembers,isTrial:!!e.trialInfo,isVolumeLicensed:e.isVolumeLicensed,enterpriseLicensesConsumed:e.enterpriseLicensesConsumed,enterpriseLicensesPurchased:m,vssLicensesConsumed:e.vssLicensesConsumed,vssLicensesPurchasedWithOverage:e.vssLicensesPurchasedWithOverage})}),(0,i.jsx)("div",{className:"flex-1",children:e.isSelfServe&&(0,i.jsxs)("div",{className:"d-flex flex-column gap-1","data-testid":"payment-info",children:[(0,i.jsx)("h4",{className:"f5",children:P}),(0,i.jsx)("div",{className:(0,_.$)("f3",J.lineHeightSpacious),children:r}),(0,i.jsxs)("div",{className:"text-small color-fg-muted",children:["Each consumed seat is ",e.unitCost,"."]})]})})]})}),(0,i.jsx)(et,{billingTermEndDate:e.billingTermEndDate,isManagingSeats:p,isVolumeLicensed:e.isVolumeLicensed,cancelPendingPlanChange:F,pendingCycleChange:S,trialInfo:e.trialInfo})]})}function et({billingTermEndDate:e,isManagingSeats:t,isVolumeLicensed:a,cancelPendingPlanChange:s,pendingCycleChange:n,trialInfo:r}){return(0,i.jsxs)(i.Fragment,{children:[!t&&(0,i.jsx)("div",{className:(0,_.$)("pt-3","px-4","pb-0","f6"),children:r?(0,i.jsxs)("span",{className:"color-fg-muted","data-testid":"ghe-summary-trial-footer",children:["Trial ",r.isActive?"ends":"ended",r.expirationDate&&` on ${(0,U.GP)(r.expirationDate,"MMMM d, yyyy")}.`]}):(0,i.jsx)("span",{className:"color-fg-muted","data-testid":"ghe-summary-active-footer",children:a?`Valid until ${(0,U.GP)(e,"MMMM d, yyyy")} (includes support and updates).`:`Billing date on ${(0,U.GP)(e,"MMMM d, yyyy")}.`})}),n&&(0,i.jsx)("div",{className:(0,_.$)("mt-3","py-2","px-3","flash-warn",J.warnFooter,"rounded-bottom-2"),children:(0,i.jsx)(K,{pendingChange:n,onCancelConfirmed:s})})]})}try{ee.displayName||(ee.displayName="EnterpriseCloudSummary")}catch{}try{et.displayName||(et.displayName="Footer")}catch{}function ea({ghe:e,...t}){return(0,i.jsx)(p,{...t,children:(0,i.jsx)("div",{className:"mb-4","data-testid":"licensing-enterprise-overview",children:(0,i.jsx)(ee,{...e})})})}try{ea.displayName||(ea.displayName="EnterpriseOverview")}catch{}(0,r.k)("licensing-enterprise-overview",{Component:ea})},92536:(e,t,a)=>{a.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let a=this.registrationEntries[e];a?a.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new s),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let s=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,a)=>{a.d(t,{Mm:()=>r,QJ:()=>i,w8:()=>n});var s=a(96540);function n(e){return((0,s.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function r(e){let t=(0,s.useRef)(e.__wrapperElement.anchor||null),[a,n]=(0,s.useState)(!1),r=(0,s.useCallback)(()=>{n(!a)},[a,n]);return(0,s.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",a.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,a]),i(e,r),{ref:t,open:a,setOpen:n}}function i(e,t){let a=(0,s.useRef)(e.__wrapperElement.anchor);(0,s.useEffect)(()=>{let e=a.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[a,t])}},72245:(e,t,a)=>{a.d(t,{k:()=>c});let s=new(a(92536)).R;var n=a(74848),r=a(39595),i=a(24508),l=a(23235);let o=class ReactPartialElement extends i.H{async getReactNode(e){var t;let{Component:a}=await (t=this.name,s.getRegistration(t)),r=this.closest("react-partial-anchor");return(0,n.jsx)(l.c,{partialName:this.name,embeddedData:e,Component:a,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:r})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function c(e,t){s.register(e,t)}o=function(e,t,a,s){var n,r=arguments.length,i=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,a,i):n(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i}([r.p_],o)},23581:(e,t,a)=>{a.d(t,{A:()=>l});let{getItem:s,setItem:n,removeItem:r}=(0,a(74572).A)("localStorage"),i="REACT_PROFILING_ENABLED",l={enable:()=>n(i,"true"),disable:()=>r(i),isEnabled:()=>!!s(i)}},71312:(e,t,a)=>{a.d(t,{S:()=>l,s:()=>i});var s=a(96540),n=a(51848),r=a(31481);function i(){let e=(0,s.useContext)(r.I);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:a,metadata:i}=e;return{sendAnalyticsEvent:(0,s.useCallback)((e,s,r={})=>{let l={react:!0,app_name:t,category:a,...i};(0,n.BI)(e,{...l,...r,target:s})},[t,a,i])}}function l(){let{sendAnalyticsEvent:e}=i();return{sendClickAnalyticsEvent:(0,s.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},28784:(e,t,a)=>{function s(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let a={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:a})}function n(e,t){let a={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},n=t?.body?JSON.stringify(t.body):void 0;return s(e,{...t,body:n,headers:a})}function r(e,t={}){let a={...t.headers,"GitHub-Is-React":"true"};return s(e,{...t,headers:a})}function i(e,t){let a={...t?.headers??{},"GitHub-Is-React":"true"};return n(e,{...t,headers:a})}a.d(t,{DI:()=>s,QJ:()=>r,Sr:()=>i,lS:()=>n})},23235:(e,t,a)=>{a.d(t,{c:()=>p});var s=a(74848),n=a(96540),r=a(36165),i=a(45588),l=a(49107),o=a(47767),c=a(59840);function d({children:e,history:t}){let[a,r]=(0,n.useState)({location:t.location});return(0,c.m)(()=>t.listen(r),[t]),(0,s.jsx)(o.Ix,{location:a.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var m=a(17857),u=a(51261),h=a(75014);function p({partialName:e,embeddedData:t,Component:a,wasServerRendered:o,ssrError:c,anchorElement:p}){let x=n.useRef(),f=globalThis.window;x.current||(x.current=f?(0,u.z)({window:f}):(0,i.sC)({initialEntries:[{pathname:"/"}]}));let g=x.current,y=(0,h.w8)(p);return(0,s.jsx)(r.U,{appName:e,wasServerRendered:o,children:(0,s.jsx)(l.Q,{history:g,routes:[],children:(0,s.jsxs)(d,{history:g,children:[(0,s.jsx)(a,{...t.props,...y}),(0,s.jsx)(m.h,{ssrError:c})]})})})}try{p.displayName||(p.displayName="PartialEntry")}catch{}},24508:(e,t,a)=>{a.d(t,{H:()=>ReactBaseElement});var s=a(74848),n=a(39595),r=a(5338),i=a(96540),l=a(23581),o=a(79461),c=a(51528);function d(e,t,a,s){var n,r=arguments.length,i=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,a,i):n(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i}let m=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:r.H,hydrateRoot:r.c};l.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),a=this.ssrError?.textContent,n=await this.getReactNode(t),o=(0,s.jsx)(i.StrictMode,{children:n});if(a&&this.logSSRError(a),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,o,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=m.exec(e.message),a=String(t?.groups?.invariant);(0,c.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:a}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(o);this.classList.add("loaded")}getReactDomWithProfiling(){return a.e("react-profiling").then(a.t.bind(a,87335,19))}logSSRError(e){if(o.z[e])return console.error("SSR failed with an expected error:",o.z[e]);try{let t=JSON.parse(e),a=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:a,filename:s,lineno:n,colno:r}=e,i=`${t} at ${a} (${s}:${n}:${r})`;return t=" ",i}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,a)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([n.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([n.aC],ReactBaseElement.prototype,"ssrError",void 0),d([n.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{m.displayName||(m.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_primer_react_lib-esm_Dialog_Dialog_js-node_modules_primer_react_lib-esm_-b15f0a","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(78288)),e.O()}]);
//# sourceMappingURL=licensing-enterprise-overview-8b461eebd601.js.map