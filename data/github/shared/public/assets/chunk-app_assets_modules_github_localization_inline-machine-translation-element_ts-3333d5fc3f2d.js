"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_localization_inline-machine-translation-element_ts"],{70170:(e,t,n)=>{function r(e,t=0,{start:n=!0,middle:r=!0,once:i=!1}={}){let o,a=n,s=0,l=!1;function c(...u){if(l)return;let d=Date.now()-s;s=Date.now(),n&&r&&d>=t&&(a=!0),a?(a=!1,e.apply(this,u),i&&c.cancel()):(r&&d<t||!r)&&(clearTimeout(o),o=setTimeout(()=>{s=Date.now(),e.apply(this,u),i&&c.cancel()},r?t-d:t))}return c.cancel=()=>{clearTimeout(o),l=!0},c}function i(e,t=0,{start:n=!1,middle:i=!1,once:o=!1}={}){return r(e,t,{start:n,middle:i,once:o})}n.d(t,{n:()=>r,s:()=>i})},6980:(e,t,n)=>{var r=n(39595);let i={en:{translateTo:"Translate to English",translatedTo:"Translated to English",wasThisTranslationHelpful:"Was this translation helpful?",giveFeedback:"Give Feedback",translationFeedbackLink:"https://github.com/github/feedback/discussions/4373",viewOriginal:"View original",originalContent:{en:"Original comment in English",es:"Original comment in Spanish",pt:"Original comment in Portuguese",ko:"Original comment in Korean"}},es:{translateTo:"Traducir al espa\xf1ol",translatedTo:"Traducido al espa\xf1ol",wasThisTranslationHelpful:"\xbfFue \xfatil esta traducci\xf3n?",giveFeedback:"Env\xeda tus comentarios",translationFeedbackLink:"https://github.com/github/feedback/discussions/6534",viewOriginal:"Ver original",originalContent:{en:"Comentario original en ingl\xe9s",es:"Comentario original en espa\xf1ol",pt:"Comentario original en portugu\xe9s",ko:"Comentario original en coreano"}},pt:{translateTo:"Traduzir para portugu\xeas",translatedTo:"Traduzido para o portugu\xeas",wasThisTranslationHelpful:"Esta tradu\xe7\xe3o foi \xfatil?",giveFeedback:"D\xea sua opini\xe3o",translationFeedbackLink:"https://github.com/github/feedback/discussions/4374",viewOriginal:"Ver original",originalContent:{en:"Coment\xe1rio original em ingl\xeas",es:"Coment\xe1rio original em espanhol",pt:"Coment\xe1rio original em portugu\xeas",ko:"Coment\xe1rio original em coreano"}},ko:{translateTo:"\uD55C\uAD6D\uC5B4\uB85C \uBC88\uC5ED",translatedTo:"\uD55C\uAD6D\uC5B4\uB85C \uBC88\uC5ED",wasThisTranslationHelpful:"\uC774 \uBC88\uC5ED\uC774 \uB3C4\uC6C0\uC774 \uB418\uC168\uB098\uC694?",giveFeedback:"\uD53C\uB4DC\uBC31 \uC81C\uACF5",translationFeedbackLink:"https://github.com/github/feedback/discussions/4372",viewOriginal:"\uC6D0\uBCF8 \uBCF4\uAE30",originalContent:{en:"\uC601\uC5B4\uB85C \uB41C \uC6D0\uBCF8 \uC8FC\uC11D",es:"\uC2A4\uD398\uC778\uC5B4\uB85C \uB41C \uC6D0\uBCF8 \uC8FC\uC11D",pt:"\uD3EC\uB974\uD22C\uAC08\uC5B4\uB85C \uB41C \uC6D0\uBCF8 \uC8FC\uC11D",ko:"\uD55C\uAD6D\uC5B4\uB85C \uB41C \uC6D0\uBCF8 \uC8FC\uC11D"}}};async function o(e,t=1e4){let n=new FormData;for(let[t,r]of Object.entries(e))n.append(t,r);return(await s("/localization/translations",{timeout:t,method:"POST",body:n,mode:"same-origin",headers:new Headers({Accept:"application/json","X-Requested-With":"XMLHttpRequest","GitHub-Verified-Fetch":"true"})})).json()}async function a(e){(function(e){let t=new URL(e,window.location.origin);if(t.origin!==window.location.origin)throw Error(`Language detection URL "${t}" must be relative`);if(!/^\/[\w-]+\/[\w.-]+\/discussions\/\d+(\/comments\/\d+)?\/language_detections$/.test(t.pathname))throw Error(`Language detection URL path "${t.pathname}" must match /OWNER/REPO/discussions/ID/language_detections or /OWNER/REPO/discussions/ID/comments/ID/language_detections`)})(e),await s(e,{method:"POST",headers:new Headers({"GitHub-Verified-Fetch":"true"}),timeout:5e3})}async function s(e,t){let{timeout:n}=t,r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await fetch(e,{...t,signal:r.signal});return clearTimeout(i),o}var l=n(51848);function c(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}let u=class InlineMachineTranslationElement extends HTMLElement{async updateUserInterface(){let e=i[this.getBrowserLanguage()],t=await this.detectLanguageIfNeeded();if(!e){this.triggerContainer.hidden=!0;return}let n=e.translateTo,r=e.viewOriginal,o=e.originalContent[t];o&&(this.fromLanguageContainer.textContent=o,this.targetLanguageContainer.textContent=this.showsTranslatedContent?r:n)}connectedCallback(){this.observer=new IntersectionObserver(this.observerCallback.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.triggerContainer.parentElement&&this.observer.observe(this.triggerContainer.parentElement)}disconnectedCallback(){this.observer?.disconnect()}async observerCallback(e){if(e[0]?.intersectionRatio===1){let e=await this.detectLanguageIfNeeded(),t=this.getBrowserLanguage(),n=!!i[e]&&t!==e;this.triggerContainer.hidden=!n,this.trackTelemetry(n?"UGC_translation_offered":"UGC_translation_not_offered",{language_from:this.detectedLanguage??"",language_to:this.getBrowserLanguage()}),await this.updateUserInterface()}}trackTelemetry(e,t){(0,l.BI)(e,t)}async detectLanguageIfNeeded(){return this.getSourceElement()?.outerHTML?(this.detectedLanguage||this.triggeredLanguageDetection||!this.detectLanguageUrl||(this.triggeredLanguageDetection=!0,await a(this.detectLanguageUrl)),Promise.resolve(this.detectedLanguage)):Promise.resolve("")}setShowsTranslatedContent(e){this.trackTelemetry(e?"UGC_translation_enabled":"UGC_translation_disabled",{original_content_length:this.originalContentLength,is_reply:this.isReply,is_nested_reply:this.isNestedReply,language_from:this.detectedLanguage??"",language_to:this.getBrowserLanguage()}),this.showsTranslatedContent=e,this.updateUserInterface()}getBrowserLanguage(){return navigator.language.slice(0,2).toLowerCase()}toggleFeedback(e){let t=this.getFeedbackElement();if(!t)return;t.hidden=!t.hidden;let n=t.querySelector(".js-was-this-translation-helpful"),r=t.querySelector(".js-give-feedback");n&&r&&(n.innerHTML=i[e].wasThisTranslationHelpful,r.innerHTML=i[e].giveFeedback,r.href=i[e].translationFeedbackLink)}async click(){let e=this.getSourceElement();if(!e)return;let t=this.getBrowserLanguage();if(!i[t])return;if(this.toggleFeedback(t),this.showsTranslatedContent){e.innerHTML=this.originalContent,this.setShowsTranslatedContent(!1);return}let n=await this.detectLanguageIfNeeded();if(!i[n])return;let r=e.getAttribute("data-target-translation-type")||"",a=e.getAttribute("data-target-translation-id")||"",s=(await o({id:a,type:r,from:n,to:t}))[0].translations[0].text;this.originalContent=e.innerHTML,this.originalContentLength=e.querySelector("td")?.innerHTML.trim().length??0,this.isReply="comment"===r,this.isNestedReply=null!==e.closest(".nested-discussion-timeline-comment"),e.innerHTML=s,this.setShowsTranslatedContent(!0)}getSourceElement(){let e=this.button.closest(".timeline-comment");return e?.querySelector(".js-translation-source")}getFeedbackElement(){let e=this.button.closest(".timeline-comment");return e?.querySelector(".js-translation-feedback")}constructor(...e){super(...e),this.showsTranslatedContent=!1,this.detectedLanguage="",this.detectLanguageUrl="",this.triggeredLanguageDetection=!1}};u.attrPrefix="",c([r.aC],u.prototype,"button",void 0),c([r.aC],u.prototype,"triggerContainer",void 0),c([r.aC],u.prototype,"fromLanguageContainer",void 0),c([r.aC],u.prototype,"targetLanguageContainer",void 0),c([r.CF],u.prototype,"detectedLanguage",void 0),c([r.CF],u.prototype,"detectLanguageUrl",void 0),u=c([r.p_],u)},27756:(e,t,n)=>{let r;function i(){if(!r)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return r}function o(){return r?.locale??"en-US"}n.d(t,{JK:()=>o,_$:()=>i}),function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{r=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},5728:(e,t,n)=>{n.d(t,{G:()=>i,K:()=>o});var r=n(97156);let i=r.XC?.readyState==="interactive"||r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),o=r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.cg?.addEventListener("load",e)})},97564:(e,t,n)=>{n.d(t,{G7:()=>l,XY:()=>c,fQ:()=>s});var r=n(5225),i=n(27756);function o(){return new Set((0,i._$)().featureFlags.map(e=>e.toLowerCase()))}let a=n(97156).X3?o:(0,r.A)(o);function s(){return Array.from(a())}function l(e){return a().has(e.toLowerCase())}let c={isFeatureEnabled:l}},51848:(e,t,n)=>{let r;n.d(t,{BI:()=>h,Ti:()=>m,lA:()=>g});var i=n(70837),o=n(97524),a=n(74572),s=n(51528);let{getItem:l}=(0,a.A)("localStorage"),c="dimension_",u=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,i.O)("octolytics");delete e.baseContext,r=new o.s(e)}catch(e){}function d(e){let t=(0,i.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,r]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))u.includes(e.toLowerCase())&&(t[e]=r);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function g(e){r?.sendPageView(d(e))}function h(e,t={}){let n=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,i=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(i[e]=`${n}`);r&&(d(i),r.sendEvent(e||"unknown",d(i)))}function m(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},14740:(e,t,n)=>{n.d(t,{k:()=>a,v:()=>s});var r=n(5225),i=n(97156);let o=(0,r.A)(function(){return i.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),a=(0,r.A)(function(){return"enterprise"===o()}),s="webpack"},74572:(e,t,n)=>{n.d(t,{A:()=>a,D:()=>s});var r=n(97156),i=n(51528);let o=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function a(e,t={throwQuotaErrorsOnSet:!1},n=r.cg,a=e=>e,s=e=>e){let l;try{if(!n)throw Error();l=n[e]||new o}catch{l=new o}let{throwQuotaErrorsOnSet:c}=t;function u(e){t.sendCacheStats&&(0,i.i)({incrementKey:e})}function d(e){try{if(l.removeItem(e),t.ttl){let t=`${e}:expiry`;l.removeItem(t)}}catch(e){}}return{getItem:function(e,t=new Date().getTime()){try{let n=l.getItem(e);if(!n)return null;let r=`${e}:expiry`,i=Number(l.getItem(r));if(i&&t>i)return d(e),d(r),u("SAFE_STORAGE_VALUE_EXPIRED"),null;return u("SAFE_STORAGE_VALUE_WITHIN_TTL"),a(n)}catch(e){return null}},setItem:function(e,n,r=new Date().getTime()){try{if(l.setItem(e,s(n)),t.ttl){let n=`${e}:expiry`,i=r+t.ttl;l.setItem(n,i.toString())}}catch(e){if(c&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:d,clear:l.clear,key:l.key,get length(){return l.length}}}function s(e){return a(e,{throwQuotaErrorsOnSet:!1},r.cg,JSON.parse,JSON.stringify)}},97156:(e,t,n)=>{n.d(t,{KJ:()=>r.KJ,Kn:()=>i.Kn,X3:()=>r.X3,XC:()=>i.XC,cg:()=>i.cg,fV:()=>i.fV,g5:()=>r.g5});var r=n(15572),i=n(86733)},86733:(e,t,n)=>{n.d(t,{Kn:()=>o,XC:()=>r,cg:()=>i,fV:()=>a});let r="undefined"==typeof document?void 0:document,i="undefined"==typeof window?void 0:window,o="undefined"==typeof history?void 0:history,a="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:"",href:""}:location},15572:(e,t,n)=>{n.d(t,{KJ:()=>o,X3:()=>i,g5:()=>a});var r=n(86733);let i=void 0===r.XC,o=!i;function a(){return!!i||!!r.XC.querySelector('react-app[data-ssr="true"]')}},51528:(e,t,n)=>{n.d(t,{X:()=>h,i:()=>c});var r=n(97156),i=n(5728),o=n(14740),a=n(97564),s=n(70170);let l=[];function c(e,t=!1,n=.5){if(!0!==(0,a.G7)("BROWSER_STATS_DISABLED")){if(n<0||n>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=new Date().getTime()),e.loggedIn=!!r.XC?.head?.querySelector('meta[name="user-login"]')?.content,e.staff=h(),e.bundler=o.v,Math.random()<n&&l.push(e),t?g():d()}}let u=null,d=(0,s.n)(async function(){await i.K,null==u&&(u=window.requestIdleCallback(g))},5e3);function g(){if(u=null,!l.length)return;let e=r.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let t of function(e){let t=[],n=e.map(e=>JSON.stringify(e));for(;n.length>0;)t.push(function(e){let t=e.shift(),n=[t],r=t.length;for(;e.length>0&&r<=65536;){let t=e[0].length;if(r+t<=65536){let i=e.shift();n.push(i),r+=t}else break}return n}(n));return t}(l))!function(e,t){try{navigator.sendBeacon&&navigator.sendBeacon(e,t)}catch{}}(e,`{"stats": [${t.join(",")}] }`);l=[]}}function h(){return!!r.XC?.head?.querySelector('meta[name="user-staff"]')?.content}r.XC?.addEventListener("pagehide",g),r.XC?.addEventListener("visibilitychange",g)},97524:(e,t,n)=>{n.d(t,{s:()=>AnalyticsClient});var r=n(60185),i=n(88288),o=n(36301);let AnalyticsClient=class AnalyticsClient{constructor(e){this.options=e}get collectorUrl(){return this.options.collectorUrl}get clientId(){return this.options.clientId?this.options.clientId:(0,o.y)()}createEvent(e){return{page:location.href,title:document.title,context:{...this.options.baseContext,...(0,i.K)(),...e}}}sendPageView(e){let t=this.createEvent(e);this.send({page_views:[t]})}sendEvent(e,t){let n={...this.createEvent(t),type:e};this.send({events:[n]})}send({page_views:e,events:t}){let n=JSON.stringify({client_id:this.clientId,page_views:e,events:t,request_context:(0,r.j)()});try{if(navigator.sendBeacon){navigator.sendBeacon(this.collectorUrl,n);return}}catch{}fetch(this.collectorUrl,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:n,keepalive:!1})}}},36301:(e,t,n)=>{let r;function i(){return`${Math.round(2147483647*Math.random())}.${Math.round(Date.now()/1e3)}`}function o(){try{let e=function(){let e;let t=document.cookie.match(/_octo=([^;]+)/g);if(!t)return;let n=[0,0];for(let r of t){let[,t]=r.split("="),[,i,...o]=t.split("."),a=i.split("-").map(Number);a>n&&(n=a,e=o.join("."))}return e}();if(e)return e;let t=i();return!function(e){let t=`GH1.1.${e}`,n=new Date(Date.now()+31536e6).toUTCString(),{domain:r}=document;r.endsWith(".github.com")&&(r="github.com"),document.cookie=`_octo=${t}; expires=${n}; path=/; domain=${r}; secure; samesite=lax`}(t),t}catch(e){return r||(r=i()),r}}n.d(t,{y:()=>o})},88288:(e,t,n)=>{n.d(t,{K:()=>i});let r=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];function i(){let e={};try{for(let[t,n]of new URLSearchParams(window.location.search)){let i=t.toLowerCase();r.includes(i)&&(e[i]=n)}return e}catch(e){return{}}}},70837:(e,t,n)=>{n.d(t,{O:()=>r});function r(e="ha"){let t;let n={};for(let r of Array.from(document.head.querySelectorAll(`meta[name^="${e}-"]`))){let{name:i,content:o}=r,a=i.replace(`${e}-`,"").replace(/-/g,"_");"url"===a?t=o:n[a]=o}if(!t)throw Error(`AnalyticsClient ${e}-url meta tag not found`);return{collectorUrl:t,...Object.keys(n).length>0?{baseContext:n}:{}}}},60185:(e,t,n)=>{n.d(t,{j:()=>r});function r(){return{referrer:function(){let e;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(e){}}return""===e&&(e=document.referrer),e}(),user_agent:navigator.userAgent,screen_resolution:function(){try{return`${screen.width}x${screen.height}`}catch(e){return"unknown"}}(),browser_resolution:function(){let e=0,t=0;try{return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):null!=document.documentElement&&null!=document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):null!=document.body&&null!=document.body.clientWidth&&(t=document.body.clientWidth,e=document.body.clientHeight),`${t}x${e}`}catch(e){return"unknown"}}(),browser_languages:navigator.languages?navigator.languages.join(","):navigator.language||"",pixel_ratio:window.devicePixelRatio,timestamp:Date.now(),tz_seconds:-60*new Date().getTimezoneOffset()}}},5225:(e,t,n)=>{function r(...e){return JSON.stringify(e,(e,t)=>"object"==typeof t?t:String(t))}function i(e,t={}){let{hash:n=r,cache:i=new Map}=t;return function(...t){let r=n.apply(this,t);if(i.has(r))return i.get(r);let o=e.apply(this,t);return o instanceof Promise&&(o=o.catch(e=>{throw i.delete(r),e})),i.set(r,o),o}}n.d(t,{A:()=>i})}}]);
//# sourceMappingURL=app_assets_modules_github_localization_inline-machine-translation-element_ts-01eeada268f3.js.map