{"version":3,"file":"chunk-ui_packages_repos-branches_components_PullRequestLabel_tsx-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/repos-branches/types.ts","ui/packages/repos-branches/components/PullRequestLabel.tsx","ui/packages/repos-branches/components/PullRequestMetadataLabel.tsx"],"sourcesContent":["export type BranchPageType = 'overview' | 'yours' | 'active' | 'stale' | 'all'\n\ntype IssueReference = {\n  title: string\n  permalink: string\n  isPullRequest: boolean\n  state: string\n  reviewableState: string | undefined\n  merged: boolean\n}\n\nexport type PullRequest = IssueReference & {number: number}\n\nexport type BranchPage = {\n  type: BranchPageType\n  title: string\n  href: string\n  onlyShowForPushUsers?: boolean\n}\n\nexport type Author = {\n  login: string\n  name: string\n  path: string\n  avatarUrl: string\n}\n\nexport type Branch = {\n  name: string\n  isDefault: boolean\n  mergeQueueEnabled: boolean\n  path: string\n  rulesetsPath?: string\n  protectedByBranchProtections?: boolean\n  author?: Author\n  authoredDate: string\n  deleteable?: boolean\n  deleteProtected?: boolean\n  isBeingRenamed?: boolean\n  renameable?: boolean\n}\n\nexport type BranchMetadata = {\n  oid: string\n  aheadBehind: [number, number]\n  maxDiverged?: number\n  statusCheckRollup?: {\n    state: string\n    shortText: string | undefined\n  }\n  pullRequest?: PullRequest\n  mergeQueue?: {\n    path: string\n    count: number\n  }\n  author?: Author\n}\n\nexport type RenameBranchEffects = {\n  prRetargetCount: number\n  prRetargetRepoCount: number\n  prClosureCount: number\n  draftReleaseCount: number\n  protectedBranchCount: number\n  willPagesChange: boolean | null\n}\n\nexport enum PullRequestStatus {\n  Open = 'OPEN',\n  Closed = 'CLOSED',\n  Merged = 'MERGED',\n  Draft = 'DRAFT',\n}\n","import {Link} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport {issueLinkedPullRequestHovercardPath} from '@github-ui/paths'\nimport type {Repository} from '@github-ui/current-repository'\nimport {type PullRequest, PullRequestStatus} from '../types'\nimport PullRequestMetadataLabel from './PullRequestMetadataLabel'\n\ninterface PullRequestLabelProps {\n  repo: Repository\n  pullRequest: PullRequest\n  sx?: BetterSystemStyleObject\n}\n\nfunction getStatus(pullRequest: PullRequest): PullRequestStatus {\n  if (pullRequest.state === 'open' && pullRequest.reviewableState === 'draft') {\n    return PullRequestStatus.Draft\n  } else if (pullRequest.state === 'open') {\n    return PullRequestStatus.Open\n  } else if (pullRequest.merged) {\n    return PullRequestStatus.Merged\n  } else {\n    return PullRequestStatus.Closed\n  }\n}\n\nexport default function PullRequestLabel({repo, pullRequest, sx}: PullRequestLabelProps) {\n  const {permalink, number} = pullRequest\n  const status = getStatus(pullRequest)\n  return (\n    <Link\n      href={permalink}\n      muted\n      sx={{fontWeight: 'normal', alignItems: 'center'}}\n      target=\"_blank\"\n      data-hovercard-url={issueLinkedPullRequestHovercardPath({\n        owner: repo.ownerLogin,\n        repo: repo.name,\n        pullRequestNumber: number,\n      })}\n      aria-label={`Link to the ${status.toLowerCase()} pull request #${number}`}\n    >\n      <PullRequestMetadataLabel kind=\"pull-request\" number={pullRequest.number} status={status} sx={sx} />\n    </Link>\n  )\n}\n\ntry{ PullRequestLabel.displayName ||= 'PullRequestLabel' } catch {}","import {\n  GitMergeIcon,\n  GitMergeQueueIcon,\n  GitPullRequestClosedIcon,\n  GitPullRequestDraftIcon,\n  GitPullRequestIcon,\n} from '@primer/octicons-react'\nimport {Label, Octicon, Text, useTheme} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport {PullRequestStatus} from '../types'\n\ninterface BaseProps {\n  kind: 'merge-queue' | 'pull-request'\n  sx?: BetterSystemStyleObject\n}\ninterface MergeQueueLabelProps extends BaseProps {\n  kind: 'merge-queue'\n  queueCount: number // Number of pull requests in the queue\n}\n\ninterface PullRequestLabelProps extends BaseProps {\n  kind: 'pull-request'\n  number: number // Pull request number\n  status: PullRequestStatus // Pull request status\n}\n\ntype PullRequestMetadata = MergeQueueLabelProps | PullRequestLabelProps\nfunction LabelIcon({\n  kind,\n  status,\n  queueCount,\n}: {\n  kind: 'pull-request' | 'merge-queue'\n  status: PullRequestStatus | null\n  queueCount: number | null\n}): JSX.Element {\n  const {theme} = useTheme()\n  if (kind === 'pull-request') {\n    switch (status) {\n      case PullRequestStatus.Open:\n        return (\n          <div data-testid=\"open-pull-request-icon\">\n            <Octicon size={14} icon={GitPullRequestIcon} sx={{color: theme?.colors.open.fg}} />\n          </div>\n        )\n      case PullRequestStatus.Closed:\n        return (\n          <div data-testid=\"closed-pull-request-icon\">\n            <Octicon size={14} icon={GitPullRequestClosedIcon} sx={{color: theme?.colors.closed.fg}} />\n          </div>\n        )\n      case PullRequestStatus.Merged:\n        return (\n          <div data-testid=\"merged-pull-request-icon\">\n            <Octicon size={14} icon={GitMergeIcon} sx={{color: theme?.colors.done.fg}} />\n          </div>\n        )\n      case PullRequestStatus.Draft:\n      default:\n        return (\n          <div data-testid=\"draft-pull-request-icon\">\n            <Octicon size={14} icon={GitPullRequestDraftIcon} sx={{color: 'fg.subtle'}} />\n          </div>\n        )\n    }\n  }\n  if ((queueCount || 0) > 0) {\n    return (\n      <div data-testid=\"merge-queue-icon\">\n        <Octicon size={14} icon={GitMergeQueueIcon} sx={{color: theme?.colors.attention.fg}} />\n      </div>\n    )\n  }\n  return (\n    <div data-testid=\"merge-queue-icon\">\n      <Octicon size={14} icon={GitMergeQueueIcon} sx={{color: 'fg.subtle'}} />\n    </div>\n  )\n}\n\nexport default function PullRequestMetadataLabel({sx, ...pullRequestMetadata}: PullRequestMetadata) {\n  const number =\n    pullRequestMetadata.kind === 'pull-request' ? pullRequestMetadata.number : pullRequestMetadata.queueCount\n  return (\n    <Label size=\"small\" sx={{...sx, '&:hover': {bg: 'canvas.subtle'}}}>\n      <LabelIcon\n        kind={pullRequestMetadata.kind}\n        status={pullRequestMetadata.kind === 'pull-request' ? pullRequestMetadata.status : null}\n        queueCount={pullRequestMetadata.kind === 'merge-queue' ? number : null}\n      />\n      <Text sx={{ml: 1, color: 'fg.muted'}}>\n        {pullRequestMetadata.kind === 'pull-request' ? '#' : ''}\n        {number}\n      </Text>\n    </Label>\n  )\n}\n\ntry{ LabelIcon.displayName ||= 'LabelIcon' } catch {}\ntry{ PullRequestMetadataLabel.displayName ||= 'PullRequestMetadataLabel' } catch {}"],"names":["PullRequestStatus","PullRequestLabel","repo","pullRequest","sx","permalink","number","status","state","reviewableState","Draft","Open","merged","Merged","Closed","Link","href","muted","fontWeight","alignItems","target","data-hovercard-url","issueLinkedPullRequestHovercardPath","owner","ownerLogin","name","pullRequestNumber","aria-label","toLowerCase","PullRequestMetadataLabel","kind","displayName","LabelIcon","queueCount","theme","useTheme","div","data-testid","Octicon","size","icon","GitPullRequestIcon","color","colors","open","fg","GitPullRequestClosedIcon","closed","GitMergeIcon","done","GitPullRequestDraftIcon","GitMergeQueueIcon","attention","pullRequestMetadata","Label","bg","Text","ml"],"sourceRoot":""}