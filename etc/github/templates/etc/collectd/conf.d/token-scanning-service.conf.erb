# Metrics collection for token-scanning-service
<% if secret_scanning_enabled? %>
<Plugin processes>
  # Multiple token-scanning APIs are captured under this match:
  # - token-scanning-api
  # - token-scanning-scans-api
  Process "token-scanning-api"
  Process "token-scanning-hydro-consumer"
  Process "token-scanning-backfill-worker"
  Process "token-scanning-reposync-worker"
  Process "token-scanning-content-backfill-worker"
  Process "token-scanning-content-worker"
  Process "token-scanning-custom-patterns-backfill-worker"
  Process "token-scanning-hcs-upgrade-backfill-worker"
  Process "token-scanning-jobgroup-worker"
  Process "token-scanning-incremental-worker"
  Process "token-scanning-partner-validity-worker"
  Process "token-scanning-job-worker"
  ProcessMatch "token-scanning-backfill-unmigrated-repos-scheduler" "\/app\/shell transition backfill-unmigrated-repos"
  ProcessMatch "token-scanning-dispatch" "\/bin\/bash \/local\/command"
  ProcessMatch "token-scanning-encrypted-secrets-backfill-scheduler" "\/app\/internal\/shell transition backfill-missing-encrypted-secrets --all"
  ProcessMatch "token-scanning-hcs-upgrade-backfill-scheduler" "\/app\/shell hcs-backfills run"
  ProcessMatch "token-scanning-repository-update-scheduler" "\/app\/repository-update-worker"
</Plugin>
<%- else -%>
# File intentionally blank.
# This feature of GitHub Enterprise Server is not enabled.
<%- end -%>
