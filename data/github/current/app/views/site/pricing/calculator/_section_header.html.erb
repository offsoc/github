<%# erblint:counter DeprecatedComponentsCounter 1 %>
<div class="d-flex flex-column">
  <label class="d-flex flex-row flex-justify-between flex-items-center">
    <div class="d-flex flex-row py-4 pr-3 flex-1 flex-items-center">
      <div class="d-flex mr-3 p-1 circle color-bg-inset">
        <span class="d-flex p-3">
          <%= render(Primer::Beta::Octicon.new(icon_name, size: :medium)) %>
        </span>
      </div>

      <div class="col-10">
        <h2 class="h6-mktg mb-2"><%= heading %></h2>
        <p class="f5-mktg mb-0 flex-self-center"><%= description %></p>
      </div>
    </div>
    <%= render Primer::ButtonComponent.new(scheme: :invisible, tag: :a,
      "aria-label": "Reset input",
      "data-action": "click:#{name}-calculator#resetButtonClicked",
      "data-target": "pricing-calculator.#{name}CalculatorReset",
      "classes": "cursor-pointer faded-out",
      role: "button",
      mt: 1, mr: 2, px: 2) do %>
      <%= render(Primer::Beta::Octicon.new(:trash, size: :small)) %>
    <% end %>
    <%= render partial: "site/pricing/calculator/toggle", locals: {
      name: "#{name}-toggleSubsection",
      data_action: "change:pricing-calculator-section#toggleSubsectionActive",
      data_hydro_action: "click to activate calculator section",
      data_hydro_label: "section:#{name}",
      classes: "flex-self-center",
    } %>
  </label>

  <div class="d-flex flex-justify-between flex-items-center mt-n2 calculator-toggle-container calculator-toggle-container--hidden" data-target="pricing-calculator-section.sectionVisibleToggleContainer">
    <div class="border-bottom flex-1 flex-self-center"></div>
    <%= image_tag("modules/site/pricing/calculator/chevron.svg",
      height: 20,
      width: 20,
      alt: "toggle-#{name}-visible",
      class: "mx-2 calculator-chevron",
      data: {
        action: "click:pricing-calculator-section#toggleSubsectionVisible",
        target: "pricing-calculator-section.sectionVisibleToggle",
      }
    ) %>
    <div class="border-bottom flex-1 flex-self-center"></div>
  </div>
</div>
