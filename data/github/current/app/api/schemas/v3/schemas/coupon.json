{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "id": "https://schema.github.com/v3/coupon.json",
  "title": "Coupon",
  "description": "A discount coupon that can be applied to a user or organization account.",
  "type": "object",
  "definitions": {
    "discount": {
      "description": "Monthly discount to be applied to the account.",
      "example": "$7",
      "type": "string"
    },
    "group": {
      "description": "A label for simple classification. Must be present in Coupon::GROUP_NAMES.",
      "example": "prizes",
      "type": "string"
    },
    "note": {
      "description": "Helpful context about the coupon.",
      "example": "See github/sponsorships#1234",
      "type": "string"
    },
    "code": {
      "description": "The code users will enter to redeem the coupon.",
      "example": "we<3code2040",
      "type": "string"
    },
    "duration": {
      "description": "Number of days that the coupon will be applied.",
      "example": 30,
      "type": [
        "integer",
        "null"
      ]
    },
    "limit": {
      "description": "How many times the coupon can be redeemed.",
      "example": 10,
      "type": [
        "integer",
        "null"
      ]
    },
    "expires_at": {
      "description": "The deadline for redeeming the coupon.",
      "example": "2014-08-09T08:02:04+12:00",
      "format": "date-time",
      "type": "string"
    }
  },
  "links": [
    {
      "href": "/staff/coupons",
      "method": "POST",
      "rel": "create",
      "schema": {
        "properties": {
          "discount": {
            "$ref": "#/definitions/discount"
          },
          "group": {
            "$ref": "#/definitions/group"
          },
          "note": {
            "$ref": "#/definitions/note"
          },
          "code": {
            "$ref": "#/definitions/code"
          },
          "duration": {
            "$ref": "#/definitions/duration"
          },
          "limit": {
            "$ref": "#/definitions/limit"
          },
          "expires_at": {
            "$ref": "#/definitions/expires_at"
          }
        },
        "required": [
          "discount",
          "group",
          "note"
        ],
        "type": "object"
      },
      "title": "Create a new coupon"
    }
  ],
  "properties": {
    "code": {
      "$ref": "#/definitions/code"
    },
    "discount": {
      "$ref": "#/definitions/discount"
    },
    "expires_at": {
      "$ref": "#/definitions/expires_at"
    }
  },
  "additionalProperties": false,
  "required": [
    "code",
    "discount",
    "expires_at"
  ]
}
