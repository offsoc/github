import {Meta} from '@storybook/blocks'
import * as ListViewStories from '../src/ListView/stories/ListView.stories'

<Meta title="Recipes/ListView/Documentation/Usage" />

# Usage

The [ListView component](?path=/docs/shared-components-list-view--readme) may **visually** look like what you need, but has **highly specific use cases it should only be used for**.

If you would like help determining if your use case is a valid use case for using ListView:

* [**Ask in #collab-shared-components**](https://github.slack.com/archives/C05HD5GU6CA)!
* Request reviews from `@github/accessibility-reviewers` and `@github/collab-shared-components-a11y-reviewers`.

If you would like ListView to automatically adapt to your content needs and make this document obsolete, please [vocalize your support in this issue](https://github.com/github/primer/issues/2674).

## Why is this so strict?

ListView having two primary actions is an **atypical and unique** interaction pattern for assistive technology users on the web.

ListView component placement should be **predictable**, so a user can anticipate its presence when returing to an experience where it is used. Because of this, its use needs to be **highly intentional and considered**.

If a ListView is used for something that is not a close use case match it risks people **not being able to use GitHub content in expected ways**.

## What is a ListView?

A ListView is an interactive list, where each list item has:

1. **One main action**, and
2. **One or more secondary actions**.

Sample actions include:

* Navigating to the primary location the ListItem references.
* Selecting one or more ListItems to have bulk actions performed on them.
* Linking to metadata.
* Applying labels.
* Navigating to the issue assignee's GitHub profile.
* Toggling overflow menu actions open and closed.

Additionally, a [parent metadata area](https://ui.githubapp.com/storybook/?path=%2Fdocs%2Frecipes-list-view-accessibility-list-view--docs#metadata-container) with bulk actions are a strong signal for the need for a ListView. Although not required, they are often found together. Sample metadata bulk actions include:

* Display density.
* Selecting all/none.
* Sorting.
* Custom controls that affect selected items.

You will need to **use a different component** if your use case does not **closely match** the previous content.

## Examples of what a ListView is not

Oftentimes a design may look like a candidate for ListView. The extra interaction that is supplied by using a ListView may come as a surprise to an assistive technology user, and a more expected pattern should be used instead.

### A list where each list item has a title, a description, and a single action

This pattern is used frequently across GitHub.

![A list of issue templates when going to create a new issue. Each issue template contains a title, a brief description, and a link styled to look like a button. Some phrases in the descriptions also contain a link. Cropped screenshot.](https://github.com/ericwbailey/test/assets/634191/d188f4ef-1a6a-468c-b3dc-413ed3f163c0)

A good example of this is picking an Issue template when creating a new issue. Note that this use case:

* Each list item only has a single action (choosing a template),
* Does not have any secondary actions,
* No metadata area or bulk actions that apply to the whole list.

From an assistive technology perspective, this is an unordered list that contains a heading, a paragraph, and one or more links. There are specific assistive technology announcements and usage expectations that differ than how a ListView works.

#### Primer components to use instead

This kind of design has a lot of different possible variations. While there is no one Primer component for this approach, it can be built using:

* [Button](https://primer.style/design/components/button)
* [Heading](https://primer.style/design/components/heading)
* [Link](https://primer.style/design/components/link)
* [Text](https://primer.style/design/components/text)

### Side navigation/filters

![Cropped screenshots of the search results filtering side panel, the logged-in homepage list of teams a user belongs to, and an Issue sidepanel for editing assignee, labels, projects, milestones, and development metadata. The image is captioned with the text, 'Not ListViews' and a red x icon.](https://github.com/ericwbailey/test/assets/634191/61565d19-c9a2-4be6-876a-ab823d6b6f40)

This might seem tempting as it is a list of items. Note that this use case:

* Each list item only has a single action (selection).
* No metadata area or bulk actions that apply to the whole list.

From an assistive technology perspective this is a `nav` landmark with an unordered list of links. There are specific assistive technology announcements and usage expectations that differ than how a ListView works.

#### Primer component to use instead

* [NavList](https://primer.style/design/components/nav-list)

### Tables

![A table with a title of 'Your branches'. It lists links to branches, when they were last updated, their CI check status, behind/ahead tally, and Pull Request. The image is captioned with the text, 'Not ListView' and a red x icon. Cropped screenshot.](https://github.com/ericwbailey/test/assets/634191/bc5eb578-b3c8-4e0f-8e13-78531f83de5d)

A ListView is a list with two main overall content areas:

1. Its primary action area, and
2. Its secondary actions area.

Tables have **more than two overall content areas**. Each cell of information has an associated column and row. This relationship is required for communicate understanding how each cell relates to other cells in the table.

While table rows can be selected, each cell should only have one primary action.

From an assistive technology perspective this is a `table` element whose cells may contain links and buttons. There are specific assistive technology announcements and usage expectations that differ than how a ListView works.

#### Primer component to use instead

* [DataTable](https://primer.style/design/components/data-table)

### Tree views

![A list of directories in a hierarchical tree format. The 'app' directory is open, and its child directory 'components' is also open. The image is captioned with the text, 'Not ListView' and a red x icon. Cropped screenshot.](https://github.com/ericwbailey/test/assets/634191/7eed8d29-a1f8-496a-a53e-444df235c7b6)

A tree view is a navigable list of items with child lists that can be expanded/collapsed and navigated into/out of. Hierarchy and a parent/child relationship for content nodes are vital for understanding and operating tree view. ListViews are mostly flat, they do not have this hierarchical relationship.

Tree views are a lot like an operating system file explorer. Note that this use case:

* Each list item only has a single action (navigation).
* Does not have any secondary actions,
* No metadata area or bulk actions that apply to the whole list.

GitHub's primary use case for the tree view is its repository file browsing UI.

From an assistive technology perspective this is a tree interaction. There are specific assistive technology announcements and usage expectations that differ than how a ListView works.

#### Primer component to use instead

* [TreeView](https://primer.style/design/components/tree-view)

### A list of search results

![Two cropped screenshots of GitHub search results for 'node'. One is for repositories and one is for code. The image is captioned with the text, 'Not ListViews' and a red x icon.](https://github.com/ericwbailey/test/assets/634191/4f9bf128-cc79-436b-90e7-a41ecde84466)

This pattern is a lot like the "list where each list item has a title, a description, and one or more actions" use case described earlier. Note that this use case:

* Has only one primary action (navigating to the search result from its preview), and
* Cannot have two or more results be selected at the same time.

Search results can have secondary actions, such as starring it, navigating to one of its labels, navigating to its list of stargazers, etc. However, each secondary action is separate and can be operated independently.

From an assistive technology perspective, this is a stack of `div`s that contain a heading element, a paragraph element, one or more links, and a button. There are specific assistive technology announcements and usage expectations that differ than how a ListView works.

#### Primer components to use instead

There currently is no search result Primer component. It can be built using:

* [Avatar](https://primer.style/design/components/avatar)
* [BorderBox](https://primer.style/design/components/border-box)
* [Button](https://primer.style/design/components/button)
* [Heading](https://primer.style/design/components/heading)
* [LabelGroup](https://primer.style/design/components/label-group) and [Label](https://primer.style/design/components/label)
* [Link](https://primer.style/design/components/link)
* [Text](https://primer.style/design/components/text)

## Examples of what a ListView is

### A list of Issues

![A list of Issues for GitHub's github organization. The image is captioned with the text, 'ListView' and a green checkmark icon. Cropped screenshot.](https://github.com/ericwbailey/test/assets/634191/a37e2f8c-52ba-4cad-8b56-24fe5b77b691)

This is a desirable use of ListView because two or more Issues can be selected to take action on.

### A list of Pull Requests

![A list of Pull Requests for Github's github organization. The image is captioned with the text, 'ListView' and a green checkmark icon. Cropped screenshot.](https://github.com/ericwbailey/test/assets/634191/bfaee144-dfec-405d-ba61-ea188fabf512)

This is a desirable use of ListView because two or more Pull Requests can be selected to take action on.

## Is my use case a ListView?

If you would like help determining if your use case is a valid use case for using ListView:

* [**Ask in #collab-shared-components**](https://github.slack.com/archives/C05HD5GU6CA)!
* Request reviews from `@github/accessibility-reviewers` and `@github/collab-shared-components-a11y-reviewers`.
