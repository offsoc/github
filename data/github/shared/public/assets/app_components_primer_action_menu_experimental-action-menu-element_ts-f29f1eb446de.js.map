{"version":3,"file":"chunk-app_components_primer_action_menu_experimental-action-menu-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/@primer/behaviors/dist/esm/anchored-position.js","app/components/primer/action_menu/experimental-action-menu-element.ts"],"sourcesContent":["const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom'],\n};\nconst alternateAlignments = {\n    start: ['end', 'center'],\n    end: ['start', 'center'],\n    center: ['end', 'start'],\n};\nexport function getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft,\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    if (isOnTopLayer(element))\n        return document.body;\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction isOnTopLayer(element) {\n    var _a;\n    if (element.tagName === 'DIALOG') {\n        return true;\n    }\n    try {\n        if (element.matches(':popover-open') && /native code/.test((_a = document.body.showPopover) === null || _a === void 0 ? void 0 : _a.toString())) {\n            return true;\n        }\n    }\n    catch (_b) {\n        return false;\n    }\n    return false;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (!(parentNode instanceof Element)) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth,\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity),\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false,\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds,\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height,\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    let anchorAlign = align;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        const alternateAlignment = alternateAlignments[align];\n        let alignmentAttempt = 0;\n        if (alternateAlignment) {\n            let prevAlign = align;\n            while (alignmentAttempt < alternateAlignment.length &&\n                shouldRecalculateAlignment(prevAlign, pos, relativeViewportRect, floatingRect)) {\n                const nextAlign = alternateAlignment[alignmentAttempt++];\n                prevAlign = nextAlign;\n                pos = calculatePosition(floatingRect, anchorRect, anchorSide, nextAlign, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorAlign = nextAlign;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = Math.max(viewportRect.height + relativeViewportRect.top - floatingRect.height, 0);\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide, anchorAlign });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\nfunction shouldRecalculateAlignment(align, currentPos, containerDimensions, elementDimensions) {\n    if (align === 'end') {\n        return currentPos.left < containerDimensions.left;\n    }\n    else if (align === 'start' || align === 'center') {\n        return (currentPos.left + elementDimensions.width > containerDimensions.left + containerDimensions.width ||\n            currentPos.left < containerDimensions.left);\n    }\n}\n","import type {AnchorAlignment, AnchorSide} from '@primer/behaviors'\nimport {getAnchoredPosition} from '@primer/behaviors'\nimport type {IncludeFragmentElement} from '@github/include-fragment-element'\n\nclass ExperimentalActionMenuElement extends HTMLElement {\n  #abortController: AbortController\n  #firstCharactersOfItems: string[]\n  #firstMenuItem: HTMLElement\n  #lastMenuItem: HTMLElement\n  #shouldTryLoadingFragment = true\n\n  get anchorAlign(): AnchorAlignment {\n    return (this.getAttribute('data-anchor-align') || 'start') as AnchorAlignment\n  }\n\n  get anchorSide(): AnchorSide {\n    return (this.getAttribute('data-anchor-side') || 'outside-bottom') as AnchorSide\n  }\n\n  get menu(): HTMLUListElement | null {\n    return this.querySelector<HTMLUListElement>('[role=\"menu\"],[role=\"listbox\"]')\n  }\n\n  get isListBox(): boolean {\n    if (!this.menu) return false\n\n    return this.menu.getAttribute('role') === 'listbox'\n  }\n\n  get trigger(): HTMLButtonElement | null {\n    return this.querySelector<HTMLButtonElement>('button')\n  }\n\n  get overlay(): HTMLDivElement | null {\n    return this.querySelector<HTMLDivElement>('.Overlay')\n  }\n\n  get menuItems(): HTMLElement[] | null {\n    if (!this.menu) return null\n\n    if (this.isListBox) {\n      return Array.from(this.menu.querySelectorAll<HTMLElement>('[role=\"option\"]'))\n    }\n\n    return Array.from(\n      this.menu.querySelectorAll<HTMLElement>('[role=\"menuitem\"],[role=\"menuitemcheckbox\"],[role=\"menuitemradio\"]'),\n    )\n  }\n\n  get includeFragment(): IncludeFragmentElement | null {\n    return this.querySelector<IncludeFragmentElement>(`[data-target~=\"action-menu.includeFragment\"]`)\n  }\n\n  get includeFragmentLoadingItem(): HTMLElement | null {\n    return this.querySelector<HTMLElement>(`[data-target~=\"action-menu.includeFragmentLoadingItem\"]`)\n  }\n\n  get open() {\n    return this.hasAttribute('open')\n  }\n\n  set open(value: boolean) {\n    const initialBodyWidth = document.body.clientWidth\n\n    const observer = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        if (initialBodyWidth !== entry.contentRect.width && this.open) {\n          this.#updatePosition()\n        }\n      }\n    })\n\n    if (value) {\n      if (this.open) return\n      if (!this.trigger || !this.menu) return\n\n      this.setAttribute('open', '')\n      this.trigger.setAttribute('aria-expanded', 'true')\n      this.overlay?.removeAttribute('hidden')\n      this.menu.style.visibility = 'hidden'\n\n      this.#updatePosition()\n      // If the window width is changed when the menu is open,\n      // this keeps the menu aligned to the button\n      observer.observe(document.body)\n\n      this.menu.style.visibility = 'visible'\n\n      if (this.includeFragmentLoadingItem) {\n        this.includeFragmentLoadingItem.tabIndex = 0\n        this.includeFragmentLoadingItem.focus()\n      }\n    } else {\n      if (!this.open) return\n      this.removeAttribute('open')\n      this.trigger?.setAttribute('aria-expanded', 'false')\n      this.overlay && this.overlay.setAttribute('hidden', 'true')\n      observer.unobserve(document.body)\n\n      // TODO: Do this without a setTimeout\n      setTimeout(() => {\n        // There are some actions that may move focus to another part of the page intentionally.\n        // For example: \"Quote Reply\" in the comment options moves focus to the comment box.\n        // This only moves focus to the trigger if it's not managed in another way.\n        if (document.activeElement === document.body) this.trigger?.focus()\n      }, 1)\n    }\n  }\n\n  connectedCallback() {\n    if (!this.trigger) return\n\n    this.#addEvents()\n  }\n\n  disconnectedCallback() {\n    this.#abortController.abort()\n  }\n\n  show() {\n    this.open = true\n  }\n\n  hide() {\n    this.open = false\n  }\n\n  #addEvents() {\n    this.#abortController = new AbortController()\n    const {signal} = this.#abortController\n\n    if (!this.trigger || !this.menu) return\n    this.trigger.addEventListener('keydown', this.buttonKeydown.bind(this), {signal})\n    this.trigger.addEventListener('click', this.buttonClick.bind(this), {signal})\n\n    if (this.hasAttribute('preload')) {\n      this.trigger.addEventListener('mouseenter', this.loadHTMLFragment.bind(this), {signal})\n      this.trigger.addEventListener('focus', this.loadHTMLFragment.bind(this), {signal})\n    }\n\n    this.#firstCharactersOfItems = []\n\n    this.#addEventsToMenuItems(signal)\n\n    if (this.includeFragment) {\n      this.includeFragment.addEventListener('load', this.handleIncludeFragmentLoaded.bind(this))\n    }\n\n    window.addEventListener('mousedown', this.backgroundMousedown.bind(this), true)\n  }\n\n  #addEventsToMenuItems(signal: AbortSignal) {\n    if (!this.menuItems) return\n\n    for (const menuItem of this.menuItems) {\n      if (menuItem.textContent) {\n        this.#firstCharactersOfItems.push(menuItem.textContent.trim()[0]!.toLowerCase())\n      }\n\n      menuItem.addEventListener('keydown', this.menuItemKeydown.bind(this), {signal})\n      menuItem.addEventListener('click', this.menuItemClick.bind(this), {signal})\n      menuItem.addEventListener('mouseover', this.menuItemMouseover.bind(this), {signal})\n\n      if (!this.#firstMenuItem) {\n        this.#firstMenuItem = menuItem\n      }\n      this.#lastMenuItem = menuItem\n    }\n  }\n\n  setFocusToMenuItem(newMenuItem: HTMLElement) {\n    if (!this.menuItems) return\n\n    for (const item of this.menuItems) {\n      if (item === newMenuItem) {\n        item.tabIndex = 0\n        newMenuItem.focus()\n      } else {\n        item.tabIndex = -1\n      }\n    }\n  }\n\n  setFocusToPreviousMenuItem(currentMenuItem: HTMLElement) {\n    if (!this.menuItems) return\n\n    let newMenuItem = null\n    let index = null\n\n    if (currentMenuItem === this.#firstMenuItem) {\n      newMenuItem = this.#lastMenuItem\n    } else {\n      index = this.menuItems.indexOf(currentMenuItem)\n      newMenuItem = this.menuItems[index - 1]!\n    }\n\n    this.setFocusToMenuItem(newMenuItem)\n\n    return newMenuItem\n  }\n\n  setFocusToNextMenuItem(currentMenuItem: HTMLElement) {\n    if (!this.menuItems) return\n\n    let newMenuItem = null\n    let index = null\n\n    if (currentMenuItem === this.#lastMenuItem) {\n      newMenuItem = this.#firstMenuItem\n    } else {\n      index = this.menuItems.indexOf(currentMenuItem)\n      newMenuItem = this.menuItems[index + 1]!\n    }\n    this.setFocusToMenuItem(newMenuItem)\n\n    return newMenuItem\n  }\n\n  setFocusByFirstCharacter(currentMenuItem: HTMLElement, character: string) {\n    if (!this.menuItems) return\n\n    let start = null\n    let index = null\n\n    if (character.length > 1) {\n      return\n    }\n\n    character = character.toLowerCase()\n\n    // Get start index for search based on position of currentMenuItem\n    start = this.menuItems.indexOf(currentMenuItem) + 1\n    if (start >= this.menuItems.length) {\n      start = 0\n    }\n\n    // Check remaining slots in the menu\n    index = this.#firstCharactersOfItems.indexOf(character, start)\n\n    // If character is not found in remaining slots, check from beginning\n    if (index === -1) {\n      index = this.#firstCharactersOfItems.indexOf(character, 0)\n    }\n\n    // If match is found\n    if (index > -1) {\n      this.setFocusToMenuItem(this.menuItems[index]!)\n    }\n  }\n\n  #updatePosition() {\n    if (!this.trigger || !this.menu) return\n\n    const float = this.querySelector<HTMLElement>('[data-menu-overlay]') || this.menu\n    const anchor = this.trigger\n    const {top, left} = getAnchoredPosition(float, anchor, {side: this.anchorSide, align: this.anchorAlign})\n\n    float.style.top = `${top}px`\n    float.style.left = `${left}px`\n  }\n\n  // Menu event handlers\n  buttonKeydown(event: KeyboardEvent) {\n    // TODO: use data-hotkey\n    // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n    const key = event.key\n    let flag = false\n\n    switch (key) {\n      case ' ':\n      case 'Enter':\n      case 'ArrowDown':\n      case 'Down':\n        this.show()\n        this.setFocusToMenuItem(this.#firstMenuItem)\n        flag = true\n        break\n\n      case 'Esc':\n      case 'Escape':\n        this.hide()\n        flag = true\n        break\n\n      case 'Up':\n      case 'ArrowUp':\n        this.show()\n        this.setFocusToMenuItem(this.#lastMenuItem)\n        flag = true\n        break\n\n      default:\n        break\n    }\n\n    if (flag) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n  }\n\n  buttonClick(event: MouseEvent) {\n    if (this.open) {\n      this.hide()\n    } else {\n      this.show()\n      this.setFocusToMenuItem(this.#firstMenuItem)\n    }\n\n    event.stopPropagation()\n    event.preventDefault()\n  }\n\n  menuItemKeydown(event: KeyboardEvent) {\n    const currentTarget = event.currentTarget\n    // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n    const key = event.key\n    let flag = false\n\n    function isPrintableCharacter(str: string) {\n      return str.length === 1 && str.match(/\\S/)\n    }\n\n    // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n    if (event.ctrlKey || event.altKey || event.metaKey) {\n      return\n    }\n\n    if (event.shiftKey) {\n      if (isPrintableCharacter(key)) {\n        this.setFocusByFirstCharacter(currentTarget as HTMLElement, key)\n        flag = true\n      }\n\n      // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n      if (event.key === 'Tab') {\n        this.trigger?.focus()\n        this.hide()\n        flag = true\n      }\n    } else {\n      switch (key) {\n        case 'Enter':\n          this.selectMenuItem(currentTarget as HTMLElement)\n          break\n\n        case 'Esc':\n        case 'Escape':\n          this.hide()\n          flag = true\n          break\n\n        case 'Up':\n        case 'ArrowUp':\n          this.setFocusToPreviousMenuItem(currentTarget as HTMLElement)\n          flag = true\n          break\n\n        case 'ArrowDown':\n        case 'Down':\n          this.setFocusToNextMenuItem(currentTarget as HTMLElement)\n          flag = true\n          break\n\n        case 'Home':\n        case 'PageUp':\n          this.setFocusToMenuItem(this.#firstMenuItem)\n          flag = true\n          break\n\n        case 'End':\n        case 'PageDown':\n          this.setFocusToMenuItem(this.#lastMenuItem)\n          flag = true\n          break\n\n        case 'Tab':\n          this.selectMenuItem(currentTarget as HTMLElement)\n          break\n\n        default:\n          if (isPrintableCharacter(key)) {\n            this.setFocusByFirstCharacter(currentTarget as HTMLElement, key)\n            flag = true\n          }\n          break\n      }\n    }\n\n    if (flag) {\n      event.stopPropagation()\n      event.preventDefault()\n    }\n  }\n\n  menuItemClick(event: MouseEvent) {\n    const currentTarget = event.currentTarget\n\n    if (this.isListBox && this.menuItems && currentTarget) {\n      for (const menuItem of this.menuItems) {\n        if (menuItem.contains(currentTarget as HTMLElement)) {\n          this.selectMenuItem(menuItem)\n          return\n        }\n      }\n    }\n\n    this.hide()\n  }\n\n  menuItemMouseover(event: MouseEvent) {\n    ;(event.currentTarget as HTMLButtonElement).focus()\n  }\n\n  backgroundMousedown(event: MouseEvent) {\n    if (!this) return\n\n    if (!this.contains(event.target as Node)) {\n      if (this.open) {\n        this.hide()\n      }\n    }\n  }\n\n  handleIncludeFragmentLoaded() {\n    const {signal} = this.#abortController\n    this.#addEventsToMenuItems(signal)\n\n    if (this.open) {\n      this.setFocusToMenuItem(this.#firstMenuItem)\n    }\n  }\n\n  async loadHTMLFragment(): Promise<string | undefined> {\n    if (!this.#shouldTryLoadingFragment) return\n    this.#shouldTryLoadingFragment = false\n    try {\n      const htmlFragment = await this.includeFragment?.load()\n      return htmlFragment\n    } catch (e) {\n      //allow retries on failure\n      this.#shouldTryLoadingFragment = true\n      return\n    }\n  }\n\n  selectMenuItem(selectedItem: HTMLElement) {\n    if (this.isListBox && this.menuItems) {\n      for (const menuItem of this.menuItems) {\n        const selected = menuItem === selectedItem\n        menuItem.setAttribute('aria-selected', selected.toString())\n\n        if (selected) {\n          const radioInput = menuItem.querySelector<HTMLInputElement>('input[type=radio]')\n          if (radioInput !== null) {\n            radioInput.checked = selected\n          }\n\n          const itemLabel = menuItem.getAttribute('aria-label')\n          const menuLabelId = this.menu?.getAttribute('aria-labelledby')\n          const menuLabelNode = menuLabelId && document.getElementById(menuLabelId)\n          if (menuLabelNode && itemLabel !== null) {\n            menuLabelNode.textContent = itemLabel\n          }\n        }\n      }\n    }\n\n    this.hide()\n  }\n}\n\nif (!window.customElements.get('experimental-action-menu')) {\n  window.ExperimentalActionMenuElement = ExperimentalActionMenuElement\n  window.customElements.define('experimental-action-menu', ExperimentalActionMenuElement)\n}\n\ndeclare global {\n  interface Window {\n    ExperimentalActionMenuElement: typeof ExperimentalActionMenuElement\n  }\n}\n\nexport default ExperimentalActionMenuElement\n"],"names":["alternateOrders","alternateAlignments","start","end","center","getAnchoredPosition","floatingElement","anchorElement","settings","parentElement","getPositionedParent","element","isOnTopLayer","_a","tagName","matches","test","document","body","showPopover","toString","_b","parentNode","HTMLElement","getComputedStyle","position","clippingRect","getClippingRect","Element","parentNodeStyle","overflow","clippingNode","elemRect","getBoundingClientRect","elemStyle","borderTop","borderLeft","borderRight","borderBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","map","v","parseInt","top","left","width","height","Math","max","window","innerHeight","Infinity","parentElementStyle","parentElementRect","pureCalculateAnchoredPosition","viewportRect","relativePosition","floatingRect","anchorRect","side","align","allowOutOfBounds","anchorOffset","alignmentOffset","relativeViewportRect","pos","calculatePosition","anchorSide","anchorAlign","currentPos","alternateOrder","positionAttempt","prevSide","length","containerDimensions","elementDimensions","nextSide","alternateAlignment","alignmentAttempt","prevAlign","nextAlign","Object","assign","getDefaultSettings","_c","_d","_e","positionDefaults","startsWith","anchorPosition","anchorRight","anchorBottom","ExperimentalActionMenuElement","getAttribute","menu","querySelector","isListBox","trigger","overlay","menuItems","Array","from","querySelectorAll","includeFragment","includeFragmentLoadingItem","open","hasAttribute","value","initialBodyWidth","clientWidth","observer","ResizeObserver","entries","entry","contentRect","updatePosition","setAttribute","removeAttribute","style","visibility","observe","tabIndex","focus","unobserve","setTimeout","activeElement","connectedCallback","addEvents","disconnectedCallback","abortController","abort","show","hide","setFocusToMenuItem","newMenuItem","item","setFocusToPreviousMenuItem","currentMenuItem","index","firstMenuItem","lastMenuItem","indexOf","setFocusToNextMenuItem","setFocusByFirstCharacter","character","toLowerCase","firstCharactersOfItems","buttonKeydown","event","key","flag","stopPropagation","preventDefault","buttonClick","menuItemKeydown","currentTarget","isPrintableCharacter","str","match","ctrlKey","altKey","metaKey","shiftKey","selectMenuItem","menuItemClick","menuItem","contains","menuItemMouseover","backgroundMousedown","target","handleIncludeFragmentLoaded","signal","addEventsToMenuItems","loadHTMLFragment","shouldTryLoadingFragment","load","e","selectedItem","selected","radioInput","checked","itemLabel","menuLabelId","menuLabelNode","getElementById","textContent","AbortController","addEventListener","bind","push","trim","float","anchor","customElements","get","define"],"sourceRoot":""}