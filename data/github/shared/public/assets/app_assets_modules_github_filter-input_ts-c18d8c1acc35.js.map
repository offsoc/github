{"version":3,"file":"app_assets_modules_github_filter-input_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/filter-input.ts","ui/packages/form-utils/form-utils.ts","ui/packages/form-utils/remote-submit.ts","ui/packages/hotkey/hotkey.ts","ui/packages/hotkey/keyboard-shortcuts-helper.ts","ui/packages/input-navigation-behavior/scrollto.ts","ui/packages/input-navigation-behavior/input-navigation-behavior.ts","ui/packages/ssr-utils/ssr-globals.ts","ui/packages/ssr-utils/ssr.ts","ui/packages/subscription/subscription.ts","ui/packages/visible/visible.ts"],"sourcesContent":["import {type TemplateResult, html, render} from 'lit-html'\nimport {\n  activate as activateNavigation,\n  deactivate as deactivateNavigation,\n  focus as focusNavigation,\n} from '@github-ui/input-navigation-behavior'\n// eslint-disable-next-line no-restricted-imports\nimport {fire} from 'delegated-events'\nimport memoize from '@github/memoize/decorator'\nimport {requestSubmit} from '@github-ui/form-utils'\nimport {target} from '@github/catalyst'\nimport {until} from 'lit-html/directives/until'\nimport dompurify from 'dompurify'\n\nexport interface Suggestion {\n  value: string\n  description?: string\n  isAlpha?: boolean\n  isBeta?: boolean\n  isNew?: boolean\n}\n\n// Export the cache to allow it be be cleared in tests\n/* eslint-disable-next-line custom-elements/no-exports-with-element */\nexport const memoizeCache = new Map()\n\n// ================= DEPRECATED =================\n// Use QueryBuilderElement instead of this class.\n// ----------------------------------------------\n\n/**\n * When using any code example from this comment block, replace\n * `your-component` with your component's HTML tag name.\n *\n * Catalyst components that extend this base class need to be set up as\n * described below. Using the GitHub::FilterInputComponent is recommended\n * as that sets this up for you.\n * - An element with data-target=\"your-component.autocompleteDropdown\"\n * - An element within that with data-target=\"your-component.autocompleteResults\"\n * - (Optional) An element with data-target=\"your-component.clearButton\"\n *   This in turns needs data-action=\"click:your-component#clear\"\n * - A form with data-target=\"your-component.searchForm\"\n *   This in turns needs the following data-action values:\n *    navigation:keydown:your-component#handleFormKeydownEvent\n *    navigation:open:your-component#handleSelectedSuggestionResultEvent\n * - An input field with data-target=\"your-component.searchInput\"\n *   This in turn needs the following data attributes:\n *   - data-initial-value - the query value at the time of page-load\n *   - data-default-value - the default query, put into the search box when\n *     the search is cleared. For most filters, this will be an empty string,\n *     but some filters may enforce a default. For example, that there must\n *     always be an \"is:\" value and that this defaults to \"is:open\"\n *   - data-suggestable-qualifiers; optional - alternatively, override\n *     fetchQualifierSuggestions and define the qualifiers in the TypeScript\n *     directly.\n *   - data-negatable-qualifiers; optional - allows you to make use of the\n *     negatableQualifiers and removeNegationFromQualifierIfSupported methods\n *   - data-action:\n *       input:your-component#updateFilterSuggestionResults\n *       focusin:your-component#updateFilterSuggestionResults\n *       focusout:delay:your-component#handleSearchBlur\n *       keydown:your-component#inputKey\n *   - data-filter-support-url; optional - if this is provided, a \"learn more\"\n *     link pointing to this URL will be added to the invalid search message\n *\n * When creating a subclass, you should also consider whether to override\n * any of the fields listed below the targets.\n */\nexport abstract class BaseFilterElement extends HTMLElement {\n  @target autocompleteDropdown: HTMLElement\n  @target autocompleteResults: HTMLElement\n  @target clearButton: HTMLButtonElement | null\n  @target searchForm: HTMLFormElement\n  @target searchInput: HTMLInputElement\n\n  showAllQualifiersIfNoneMatch = true\n  fuzzyMatchQualifiers = false\n  fuzzyMatchValues = true\n  showSubmissionOptionIfInvalidSearchTerms = false\n  suggestionsTitle = 'Available filters'\n  spaceBetweenValueAndDescription = true\n  selectorOfElementToActivateOnBlur: string | null = null\n  unqualifiedSearchTermsAlwaysValid = true\n\n  @memoize({cache: memoizeCache})\n  async cachedJSON<T>(url: RequestInfo): Promise<T> {\n    const response = await fetch(url, {\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n      },\n    })\n    if (!response.ok) {\n      const responseError = new Error()\n      const statusText = response.statusText ? ` ${response.statusText}` : ''\n      responseError.message = `HTTP ${response.status}${statusText}`\n      throw responseError\n    }\n    return response.json()\n  }\n\n  // As an alternative to defining the qualifiers in the template, you can\n  // override this method to return an array of Suggestions, defined in the\n  // TypeScript itself.\n  fetchQualifierSuggestions(): Suggestion[] {\n    const attribute = 'data-suggestable-qualifiers'\n    const qualifiersJSON = this.searchInput.getAttribute(attribute)\n    if (qualifiersJSON === null) {\n      throw new Error(`\n        ${attribute} is missing from ${this.searchInput.getAttribute('data-target')}.\n        Either add it or override fetchQualifierSuggestions.\n      `)\n    }\n    return JSON.parse(qualifiersJSON)\n  }\n\n  // A list of qualifiers for which the \"-\" prefix can be used for negation\n  // The qualifier strings should not include the colon.\n  negatableQualifiers(): string[] {\n    return JSON.parse(this.searchInput.getAttribute('data-negatable-qualifiers') || '[]')\n  }\n\n  removeNegationFromQualifierIfSupported(filterInput: string) {\n    if (!filterInput.startsWith('-')) {\n      return filterInput\n    }\n\n    // eslint-disable-next-line prefer-const\n    let [qualifier, ...values] = filterInput.split(':')\n\n    const strippedQualifier = qualifier!.substring(1)\n    if (this.negatableQualifiers().includes(strippedQualifier)) {\n      qualifier = strippedQualifier\n    }\n\n    if (filterInput.includes(':')) {\n      qualifier += ':'\n    }\n\n    return values?.length > 0 ? `${qualifier}${values.join(':')}` : qualifier\n  }\n\n  // In the search \"repo:github/github\", the qualifier is \"repo\" (no colon).\n  //\n  // This method should return a Promise that resolves to an array of Suggestions\n  // that are valid for the given qualifier.\n  //\n  // The most common pattern here is to either:\n  // 1) Retrieve a hardcoded list of suggestions from a data attribute\n  // 2) Retrieve a URL from a data attribute and call this.cachedJSON\n  // to retrieve the suggestions from that.\n  //\n  // You may want to mix and match approaches depending on the qualifier passed.\n  //\n  // Don't forget to use removeNegationFromQualifierIfSupported to remove possible negation.\n  //\n  // If you're using the `UI::SuggestableSearchComponent` (which populates\n  // data-suggestable-* and data-suggestable-*-path appropriately), the\n  // base implementation of this method here should suffice.\n  fetchSuggestionsForQualifier(qualifier: string): Promise<Suggestion[]> {\n    qualifier = this.removeNegationFromQualifierIfSupported(qualifier)!\n    const suggestionAttribute = `data-suggestable-${qualifier}`\n    const suggestionPathAttribute = `data-suggestable-${qualifier}-path`\n    if (this.searchInput.hasAttribute(suggestionAttribute)) {\n      return JSON.parse(this.searchInput.getAttribute(suggestionAttribute) || '[]')\n    } else if (this.searchInput.hasAttribute(suggestionPathAttribute)) {\n      const url = this.searchInput.getAttribute(suggestionPathAttribute)\n      if (!url) throw new Error(`${suggestionPathAttribute} not set`)\n      return this.cachedJSON(url)\n    } else {\n      return Promise.resolve([])\n    }\n  }\n\n  // Hide the dropdown and disable navigation\n  hideFilterSuggestions() {\n    deactivateNavigation(this.searchForm)\n    this.autocompleteDropdown.hidden = true\n\n    this.searchInput.removeAttribute('aria-activedescendant')\n  }\n\n  // Parses the current search query to decide what autocompletes to show\n  updateFilterSuggestionResults(): void {\n    const searchString = this.searchInput.value\n\n    // The `currentString` is the text before the cursor position up until the\n    // previous whitespace, ignoring whitespace in quoted values.\n    // e.g. in: `repo:foo/bar reason:me| blah` it will be \"reason:me\"\n    const textBeforeCursor = searchString.slice(0, this.searchInput.selectionEnd!)\n    const currentString = (textBeforeCursor.match(/\\S+?(:(?:\"[^\"]*\"|[^\\s:])+?)?$/) || [''])[0].replace(/\"/g, '')\n\n    // Make sure results are visible\n    this.autocompleteDropdown.hidden = false\n\n    // Update the suggestions list\n    // If the current string has a \":\" then we are autocompleting the value,\n    // otherwise we are still autocompleting a qualifier\n    let qualifier\n    let value\n    if (currentString.includes(':')) {\n      ;[qualifier, ...value] = currentString.split(':') as [string, ...string[]]\n    } else {\n      qualifier = currentString\n    }\n\n    if (value != null) {\n      this.renderValueSuggestions(qualifier, value.join(':'))\n    } else {\n      this.renderQualifierSuggestions(qualifier)\n    }\n\n    if (\n      searchString.trim().length > 0 &&\n      (!this.invalidSearchTerms() || this.showSubmissionOptionIfInvalidSearchTerms) &&\n      !this.searchMatchesDefault()\n    ) {\n      // If it's a non-empty, valid search that doesn't match the default, show\n      // the clear button and focus on the first item in the suggestions list:\n      // the \"submit\" option to trigger the search automatically on return\n      if (this.clearButton) this.clearButton.hidden = false\n      focusNavigation(this.searchForm)\n    } else {\n      // Otherwise, hide the clear button, and enable keyboard navigation\n      // of the suggestions list, but don't highlight anything\n      if (this.clearButton) this.clearButton.hidden = true\n      activateNavigation(this.searchForm)\n    }\n  }\n\n  // handles a suggestion item being selected\n  handleSelectedSuggestionResultEvent(event: Event) {\n    const selectedSuggestion = event.target as Element\n\n    // If clicking the documentation link, open it in a new tab\n    if (selectedSuggestion.classList.contains('js-filter-input-support-url')) {\n      return\n    }\n\n    // if the user selected the \"search\" entry, just submit the search form\n    if (selectedSuggestion.hasAttribute('data-search')) {\n      requestSubmit(this.searchForm)\n      return\n    }\n\n    // otherwise, replace the currently typed string with the suggested string in the input field\n    // or append the new value if this is a multi-value search (i.e. using commas)\n    let suggestedText = selectedSuggestion.getAttribute('data-value') || ''\n    // append a space if the user did not type a qualifier:\n    if (suggestedText[suggestedText.length - 1] !== ':') {\n      suggestedText += ' '\n    }\n    const textBeforeCursor = this.searchInput.value.slice(0, this.searchInput.selectionEnd!)\n    const phraseBeforeCursor = textBeforeCursor.match(/(\\S+)$/)?.pop() || ''\n    const textAfterCursor = this.searchInput.value.slice(this.searchInput.selectionEnd!)\n    //add a space after the cursor if the user is typing in the middle of the field\n    const spacer = textAfterCursor[0] !== ' ' ? ' ' : ''\n\n    if (phraseBeforeCursor) {\n      if (phraseBeforeCursor.startsWith('-') && !suggestedText.startsWith('-')) {\n        suggestedText = `-${suggestedText}`\n      }\n      if (phraseBeforeCursor.includes(',')) {\n        const existingValues = phraseBeforeCursor.split(',')\n        existingValues.pop()\n        let suggestedValue = suggestedText.split(':').slice(1).join(':')\n        if (suggestedValue.trim().includes(' ')) {\n          suggestedValue = `\"${suggestedValue.trim()}\" `\n        }\n        existingValues.push(suggestedValue || '')\n        suggestedText = existingValues.join(',')\n      } else {\n        const existingValues = suggestedText.split(':')\n        let suggestedValue = existingValues.slice(1).join(':')\n        existingValues.pop()\n        if (suggestedValue.slice(0, -1).includes(' ')) {\n          suggestedValue = `\"${suggestedValue.slice(0, -1)}\" `\n        }\n        existingValues.push(suggestedValue || '')\n        suggestedText = existingValues.join(':')\n      }\n    }\n\n    const updatedTextBeforeCursor = textBeforeCursor.replace(/\\S+$/, '')\n    this.searchInput.value = updatedTextBeforeCursor + suggestedText + spacer + textAfterCursor\n\n    event.preventDefault()\n\n    // return focus to the input field\n    this.searchInput.focus()\n\n    // move the cursor back to just after the suggested text\n    const cursorPosition = updatedTextBeforeCursor.length + suggestedText.length\n    this.searchInput.setSelectionRange(cursorPosition, cursorPosition)\n\n    // trigger an input event so other code knows the field updated\n    fire(this.searchInput, 'input')\n  }\n\n  handleFormKeydownEvent(event: CustomEvent) {\n    if (event.detail.hotkey === 'Enter') {\n      // Don't submit if only has \"loading...\"\n      if (this.autocompleteResults.querySelector('.js-filter-loading')) {\n        return\n      }\n\n      // Don't submit if we are choosing an autocomplete suggestion\n      if (this.autocompleteResults.querySelector('.js-navigation-item.navigation-focus')) {\n        return\n      }\n\n      requestSubmit(this.searchForm)\n    }\n  }\n\n  // Clear search and refresh list of alerts when a user clicks the 'x' icon in the search bar\n  clear() {\n    this.searchInput.value = this.getDefaultSearch()\n\n    if (this.getInitialValue().trim().length === 0) {\n      // The query started off blank and has been cleared so it's blank again. Rather than reloading\n      // the page, just clear the input and refresh the display state.\n      this.updateFilterSuggestionResults()\n    } else {\n      // The query has been cleared, and the blank query is different from the active one: execute the\n      // blank query so we refresh the list of results.\n      requestSubmit(this.searchForm)\n    }\n  }\n\n  // Render autocomplete suggestions to match qualifier names from the currently typed text\n  renderQualifierSuggestions(filterString: string): void {\n    if (this.showAllQualifiersIfNoneMatch) {\n      this.renderMatchingOrAllQualifierSuggestions(filterString)\n    } else {\n      this.renderMatchingQualifierSuggestions(filterString)\n    }\n  }\n\n  handleSuggestionNavigation(event: Event) {\n    if (event.target != null) {\n      this.searchInput.setAttribute('aria-activedescendant', (event.target as Element).id)\n    }\n  }\n\n  // Render autocomplete suggestions to match qualifier names from the currently typed text\n  // or all qualifiers if none match.\n  renderMatchingOrAllQualifierSuggestions(filterString: string): void {\n    const suggestions = this.fetchQualifierSuggestions()\n    const matchingSuggestions = this.filterSuggestionsList(suggestions, filterString, {\n      fuzzy: this.fuzzyMatchQualifiers,\n    })\n      /* eslint-disable-next-line github/no-then */\n      .then(matching => {\n        // If there are no matching suggestions, just show them all\n        if (matching.length === 0) return suggestions\n        return matching\n      })\n\n    this.renderSuggestionDropdown(matchingSuggestions)\n  }\n\n  // Render autocomplete suggestions to match qualifier names from the currently typed text\n  private renderMatchingQualifierSuggestions(filterString: string): void {\n    const matchingSuggestions = this.filterSuggestionsList(this.fetchQualifierSuggestions(), filterString, {\n      fuzzy: this.fuzzyMatchQualifiers,\n    })\n    this.renderSuggestionDropdown(matchingSuggestions)\n  }\n\n  // Render autocomplete suggestions to match qualifier values from the currently typed text.\n  //\n  // qualifier - Qualifier to find value suggestions for.\n  // filterString - Filter input to filter suggestions by.\n  renderValueSuggestions(qualifier: string, filterString: string) {\n    const matchingSuggestions = this.fetchMatchingSuggestions(qualifier, filterString)\n    this.renderSuggestionDropdown(matchingSuggestions)\n  }\n\n  // Fetch value suggestions for the given qualifier.\n  //\n  // qualifier - Qualifier to fetch matching suggestions for.\n  // filterString - Filter input to filter suggestions by.\n  //\n  // Returns a list of matching suggestions, prefixed with the given qualifier.\n  async fetchMatchingSuggestions(qualifier: string, filterString: string): Promise<Suggestion[]> {\n    const suggestionsPromise = this.fetchSuggestionsForQualifier(qualifier)\n    const lastSearchTerm = filterString.split(',').pop() || ''\n    const suggestions = await this.filterSuggestionsList(suggestionsPromise, lastSearchTerm, {\n      fuzzy: this.fuzzyMatchValues,\n    })\n\n    // prepend the qualifier to each suggestion\n    return suggestions.map(suggestion => ({\n      value: `${qualifier}:${suggestion.value}`,\n      description: suggestion.description,\n    }))\n  }\n\n  // filter a (promise of a) list of suggestions by a search query\n  async filterSuggestionsList(\n    suggestionsPromise: Promise<Suggestion[]> | Suggestion[],\n    _search: string,\n    {fuzzy} = {fuzzy: true},\n  ): Promise<Suggestion[]> {\n    const suggestions = await suggestionsPromise\n    let search = _search.trim().toLowerCase()\n\n    // if the search is empty, just return all results\n    if (!search || search.length === 0) {\n      return suggestions\n    }\n\n    if (search.startsWith('-')) {\n      search = search.slice(1)\n    }\n\n    return suggestions.filter(suggestion => {\n      if (fuzzy) return suggestion.value.toLowerCase().includes(search)\n      return suggestion.value.toLowerCase().startsWith(search)\n    })\n  }\n\n  // Render a promise of suggestions into the dropdown\n  // If the suggestions haven't finished loading,  \"loading...\" will be rendered until they do\n  renderSuggestionDropdown(suggestionsPromise: Promise<Suggestion[]>): void {\n    render(\n      html`\n        <div role=\"listbox\" aria-label=\"${this.suggestionsTitle}\">\n          ${this.renderSearchWarningIfRequired()}\n          ${this.shouldRenderSubmissionOption() ? this.renderSearchSuggestion() : ''}\n          ${until(this.renderSuggestionList(suggestionsPromise), this.renderLoadingItem())}\n        </div>\n      `,\n      this.autocompleteResults,\n    )\n\n    this.postDropdownRender()\n  }\n\n  renderSearchWarningIfRequired(): TemplateResult | string {\n    const searchWarningContainerSelector = this.searchInput.getAttribute('data-search-warning-container')\n    const searchWarningContainer = searchWarningContainerSelector\n      ? document.querySelector<HTMLElement>(searchWarningContainerSelector)\n      : null\n\n    const invalidTerms = this.invalidSearchTerms()\n    if (!invalidTerms || invalidTerms.length === 0) {\n      if (searchWarningContainer) {\n        searchWarningContainer.hidden = true\n      }\n      return ''\n    }\n\n    let link: TemplateResult | string\n    const supportURL = this.getFilterSupportURL()\n    if (supportURL) {\n      link = html`<a\n        class=\"js-navigation-item js-navigation-open js-filter-input-support-url px-1\"\n        href=\"${supportURL}\"\n        role=\"link\"\n        tabindex=\"0\"\n        target=\"_blank\"\n      >\n        Learn more about filters.\n      </a>`\n    } else {\n      link = ''\n    }\n\n    // prettier-ignore\n    const content = html`Sorry, we don't support the <span class=\"text-bold\">${dompurify.sanitize(invalidTerms)}</span> filter yet. ${link}`\n\n    if (searchWarningContainer) {\n      render(content, searchWarningContainer)\n      searchWarningContainer.hidden = false\n      focusNavigation(searchWarningContainer)\n      return ''\n    }\n\n    return html`\n      <div\n        class=\"color-bg-attention color-fg-muted ml-n2 mr-n2 mt-n1 py-1 px-2 js-search-warning-container\"\n        role=\"alert\"\n      >\n        ${content}\n      </div>\n    `\n  }\n\n  // The attribute retrieved here is optional, so may not be present\n  getFilterSupportURL(): string | null {\n    return this.searchInput.getAttribute('data-filter-support-url')\n  }\n\n  // Subclasses may wish to perform additional rendering after the\n  // main dropdown has rendered.\n\n  postDropdownRender(): void {}\n\n  // Renders a result (for the top of the list) that the user can select to submit the search\n  renderSearchSuggestion() {\n    const searchString = this.searchInput.value.trim()\n    if (searchString.length === 0) {\n      return html``\n    }\n\n    // don't prompt users to submit a searchString containing a qualifier with no value\n    // but allow them to submit if the searchString includes a value with an additional ':' at the end\n    if (/:\\s|:$/g.test(searchString)) {\n      if (!/(?:\\w+:){2,}/g.test(searchString)) return html``\n    }\n\n    return html`\n      <div\n        id=\"${this.getComponentTagName()}-search-submit-option\"\n        class=\"border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item\"\n        data-action=\"navigation:focus:${this.getComponentTagName()}#handleSuggestionNavigation\"\n        data-search=\"true\"\n        role=\"option\"\n      >\n        <span class=\"text-bold\">${searchString}</span> - submit\n      </div>\n    `\n  }\n\n  // Returns a string of all invalid search terms in the current query\n  // For example 'invalid1 invalid2'. If no terms are invalid, return\n  // null or the empty string.\n  //\n  // If the concept of an invalid term is not relevant, just return null.\n  invalidSearchTerms(): string | null {\n    const validQualifiers = this.fetchQualifierSuggestions().map(q => q.value)\n    // Matches qualifiers such as \"risk:\", \"enabled:\", \"not-enabled:\", \"is:\", \"sort:\", \"archived:\"\n    const qualifierRegex = new RegExp(/[^\\s:]+:/)\n    // Matches any strings that are in quotes, including escaped quotes, note that within the quotes,\n    // spaces are allowed.\n    const quotedStringRegex = new RegExp(/\"(?:\\\\\"|.)*?\"/)\n    // Matches a qualifier followed by a value, such as 'risk:high' or 'team:\"my team\"'\n    const qualifiedSearchTerm = new RegExp(`${qualifierRegex.source}(?:${quotedStringRegex.source}|[^\\\\s]*)`)\n    // Matches a search term that is not a qualifier, such as \"repo-name\"\n    const unqualifiedSearchTermRegex = new RegExp(/[^\\s]+/)\n\n    const searchTermsRegex = new RegExp(`${qualifiedSearchTerm.source}|${unqualifiedSearchTermRegex.source}`, 'g')\n\n    const parts = this.searchInput.value.match(searchTermsRegex) || []\n\n    const invalidParts = parts.filter(part => {\n      part = this.removeNegationFromQualifierIfSupported(part)!\n      const colonIndex = part.indexOf(':')\n\n      if (colonIndex === -1) {\n        if (this.unqualifiedSearchTermsAlwaysValid) {\n          return null\n        } else {\n          // Assume valid only if any of the valid qualifiers start with what's typed so far\n          return !validQualifiers.some(validQualifier => validQualifier.startsWith(part))\n        }\n      } else {\n        const typedQualifier = part.substr(0, colonIndex + 1)\n        return !validQualifiers.some(validQualifier => validQualifier === typedQualifier)\n      }\n    })\n\n    if (invalidParts.length === 0) {\n      return null\n    }\n\n    return invalidParts.join(' ')\n  }\n\n  searchMatchesDefault(): boolean {\n    const sortedSearchInput = this.searchInput.value.trim().split(' ').sort()\n    const sortedDefaultSearch = this.getDefaultSearch().trim().split(' ').sort()\n    return (\n      sortedSearchInput.length === sortedDefaultSearch.length &&\n      sortedSearchInput.every((value, index) => value === sortedDefaultSearch[index])\n    )\n  }\n\n  // The query value at the time of page-load\n  getInitialValue(): string {\n    return this.getDataAttributeOrThrow('data-initial-value')\n  }\n\n  getComponentTagName(): string {\n    return this.tagName.toLowerCase()\n  }\n\n  // The value that should be put into the search input when the user\n  // clears the search. Often this will be the empty string, but some\n  // filters enforce that certain qualifiers are present.\n  getDefaultSearch(): string {\n    return this.getDataAttributeOrThrow('data-default-value')\n  }\n\n  getDataAttributeOrThrow(attribute: string): string {\n    const value = this.searchInput.getAttribute(attribute)\n    if (value === null) {\n      throw new Error(`${attribute} is missing from search input`)\n    }\n    return value\n  }\n\n  // Renders a title like \"Narrow your search\" in the dropdown\n  // aria-hidden=\"true\" is used to prevent screenreaders counting this\n  // title as a selectable item in the list when it isn't.\n  renderSuggestionsTitle() {\n    return html`<p\n      class=\"h6 width-full text-normal border-bottom color-bg-default color-fg-muted py-2 mb-2\"\n      aria-hidden=\"true\"\n    >\n      ${this.suggestionsTitle}\n    </p>`\n  }\n\n  // Renders a list of suggestions for the dropdown.\n  async renderSuggestionList(_suggestions: Promise<Suggestion[]>) {\n    const suggestions = await _suggestions\n\n    const suggestionsHTML = suggestions.map(\n      (suggestion, index) => html`\n        <div\n          class=\"border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item\"\n          data-value=\"${suggestion.value}\"\n          data-action=\"navigation:focus:${this.getComponentTagName()}#handleSuggestionNavigation\"\n          aria-label=\"${suggestion.value} ${suggestion.description}\"\n          id=\"${this.getComponentTagName()}-suggestion-${index}\"\n          role=\"option\"\n        >\n          <span class=\"text-bold\">${suggestion.value}</span>${this.spaceBetweenValueAndDescription ? ' ' : ''}<span\n            class=\"autocomplete-text-qualifier color-fg-muted\"\n            >&nbsp;${suggestion.description}</span\n          >\n          ${suggestion.isAlpha && this.alphaTag} ${suggestion.isBeta && this.betaTag}\n          ${suggestion.isNew ? this.newTag : ''}\n        </div>\n      `,\n    )\n\n    if (suggestionsHTML.length) {\n      suggestionsHTML.unshift(this.renderSuggestionsTitle())\n    }\n\n    return suggestionsHTML\n  }\n\n  renderLoadingItem() {\n    return html`\n      ${this.renderSuggestionsTitle()}\n      <span class=\"js-filter-loading\">loading...</span>\n    `\n  }\n\n  handleSearchBlur() {\n    this.hideFilterSuggestions()\n\n    if (this.selectorOfElementToActivateOnBlur) {\n      activateNavigation(document.querySelector<HTMLElement>(this.selectorOfElementToActivateOnBlur))\n    }\n  }\n\n  inputKey(event: KeyboardEvent) {\n    // We can't use data-hotkey since there's no corresponding UI element\n    // Related discussion: https://github.com/github/code-scanning/issues/4960\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if (event.key === 'Escape') {\n      this.handleSearchBlur()\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  }\n\n  shouldRenderSubmissionOption(): boolean {\n    return this.showSubmissionOptionIfInvalidSearchTerms || !this.invalidSearchTerms()\n  }\n\n  static tagFn(name: string) {\n    return html`<span class=\"lh-condensed px-1 rounded-2 border color-border-success\">${name}</span>`\n  }\n\n  alphaTag = BaseFilterElement.tagFn('Alpha')\n  betaTag = BaseFilterElement.tagFn('Beta')\n  newTag = html`<span class=\"Label ml-1 Label--accent color-bg-default float-right\">New</span>`\n}\n","import {persistSubmitButtonValue} from './remote-submit'\n\ntype TextField = HTMLInputElement | HTMLTextAreaElement\ntype Button = HTMLInputElement | HTMLButtonElement\n\nfunction fire(target: HTMLElement, name: string, cancelable: boolean): boolean {\n  return target.dispatchEvent(\n    new CustomEvent(name, {\n      bubbles: true,\n      cancelable,\n    }),\n  )\n}\n\n// Submit a form while ensuring that `submit` event is also triggered.\n//\n// Calling native `form.submit()` method immediately submits the form without triggering the `submit` event.\n// As a result, code that wants to hook into form submits would never execute.\n//\n// This method first triggers the `submit` event and, if that event wasn't `preventDefault`d, submits the\n// form natively.\nexport function requestSubmit(form: HTMLFormElement, submitter?: Button) {\n  if (submitter) {\n    checkButtonValidity(form, submitter)\n    persistSubmitButtonValue(submitter)\n  }\n  if (fire(form, 'submit', true)) {\n    form.submit()\n  }\n}\n\n// Check submitter validity for form.requestSubmit compatibility.\n// See https://html.spec.whatwg.org/#dom-form-requestsubmit.\nfunction checkButtonValidity(form: HTMLFormElement, submitter: Button) {\n  if (!(form instanceof HTMLFormElement)) throw new TypeError('The specified element is not of type HTMLFormElement.')\n  if (!(submitter instanceof HTMLElement)) throw new TypeError('The specified element is not of type HTMLElement.')\n  if (submitter.type !== 'submit') throw new TypeError('The specified element is not a submit button.')\n  if (!form || form !== submitter.form) throw new Error('The specified element is not owned by the form element.')\n}\n\n// Set a form field value while ensuring that `change` event is also triggered.\n//\n// Having the `change` event fire is important for various behaviors to react, such as form validation.\nexport function changeValue(input: TextField, value: string | boolean) {\n  if (typeof value === 'boolean') {\n    if (input instanceof HTMLInputElement) {\n      input.checked = value\n    } else {\n      throw new TypeError('only checkboxes can be set to boolean value')\n    }\n  } else {\n    if (input.type === 'checkbox') {\n      throw new TypeError(\"checkbox can't be set to string value\")\n    } else {\n      input.value = value\n    }\n  }\n  fire(input, 'change', false)\n}\n\n// Fill multiple form fields by item name.\nexport function fillFormValues(form: HTMLFormElement, fields: {[key: string]: string}) {\n  for (const name in fields) {\n    const value = fields[name]\n    const element = form.elements.namedItem(name)\n\n    if (element instanceof HTMLInputElement) {\n      element.value = value!\n    } else if (element instanceof HTMLTextAreaElement) {\n      element.value = value!\n    }\n  }\n}\n\n// Test if element is a form field.\nexport function isFormField(element: Node): boolean {\n  if (!(element instanceof HTMLElement)) {\n    return false\n  }\n\n  const name = element.nodeName.toLowerCase()\n  const type = (element.getAttribute('type') || '').toLowerCase()\n  return (\n    name === 'select' ||\n    name === 'textarea' ||\n    (name === 'input' && type !== 'submit' && type !== 'reset') ||\n    element.isContentEditable\n  )\n}\n\nfunction searchParamsFromFormData(formData: FormData): URLSearchParams {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return new URLSearchParams(formData as any)\n}\n\n// Get a `?` search string for a URL for a GET form, using its `action` attribute as well as its other fields.\nexport function combineGetFormSearchParams(formAction: URL, formData: FormData): string {\n  const allSearchParams = new URLSearchParams(formAction.search)\n  const searchParamsFromInputs = searchParamsFromFormData(formData)\n  for (const [key, value] of searchParamsFromInputs) {\n    allSearchParams.append(key, value)\n  }\n  return allSearchParams.toString()\n}\n\n// Serialize form data into string.\nexport function serialize(form: HTMLFormElement): string {\n  return searchParamsFromFormData(new FormData(form)).toString()\n}\n","// Emulates submit button submission values by inserting a hidden input to the form.\n//\n// Submit events can be triggerd in the following ways:\n// - User clicks on a submit button.\n// - User press Enter when focusing on a form field; also known as \"implicit submission\".\n// - Programmatically via requestSubmit helper.\n//\n// On GitHub.com, the submission is either handled by the browser or remoteForm.\n//\n// For submissions triggered by user actions, the name and value of the clicked submit button (also known as\n// \"the submitter\") is passed along in the request, and can be programmatically retrieved with FormData.entries().\n//\n// However, this value will be lost in the following cases:\n// - 1. When the submitter button is disabled, most commonly by [data-disable-with].\n// - 2. When submitting via requestSubmit (from form.js), because the submission does not originated from a submitter.\n// - 3. When submitting with remoteForm, because FormData(form).entries() does not know about the submitter. In Safari\n// the submitter is known during the submission steps, but this behavior is not supported in any other browsers.\n//\n// @see {@link https://github.com/github/form-data-entries/pull/7}.\n//\n// For the exact workarounds, refer to ./form.js and ./remote.js.\nexport function persistSubmitButtonValue(button: HTMLButtonElement | HTMLInputElement) {\n  const form = button.closest('form')\n  if (!(form instanceof HTMLFormElement)) {\n    return\n  }\n\n  let input = findPersistedSubmitButtonValue(form)\n\n  if (button.name) {\n    const defaultValue = button.matches('input[type=submit]') ? 'Submit' : ''\n    const value = button.value || defaultValue\n    if (!input) {\n      input = document.createElement('input')\n      input.type = 'hidden'\n      input.classList.add('js-submit-button-value')\n      form.prepend(input)\n    }\n    input.name = button.name\n    input.value = value\n  } else if (input) {\n    input.remove()\n  }\n}\n\nexport function findPersistedSubmitButtonValue(form: HTMLFormElement): HTMLInputElement | null {\n  const input = form.querySelector('input.js-submit-button-value')\n  return input instanceof HTMLInputElement ? input : null\n}\n","// this file is a shim to allow importing @github/hotkey and is the only allowed import for @github/hotkey\n// eslint-disable-next-line no-restricted-imports\nexport * from '@github/hotkey'\n\n// - (?:^|,)    Starting with the beginning of the string or the comma delineating the previous item\n// - ((?:[^,]|,(?=\\+| |$))*(?:,(?=,))?)    The target capture group, consisting of:\n//   - (?:[^,]|,(?=\\+| |$))*    Any number of characters that are not commas, or are commas that are followed by a\n//     plus sign, space, or end of string (ie, the commas in `,+Control` or `Control+, g` or `Control+,`)\n//   - (?:,(?=,))?    Optionally ending with a comma followed by another comma, like the commas in `Control+,,n` or\n//     `Control+,,,`\n// - (?=,|$)    Ending with a comma or the end of the string\nconst chordOrKeyRegex = /(?:^|,)((?:[^,]|,(?=\\+| |$))*(?:,(?=,))?)/g\n\nexport function splitHotkeyString(hotkey: string) {\n  // \",\" is a valid key name, so we can't just use `String.split()`. Even with a regular expression we can't split, for\n  // example \"Control+,,,\" into [\"Control+,\", \",\"] without a lookbehind (not supported in Safari).\n\n  // Instead, we match against all valid substrings:\n  return Array.from(hotkey.matchAll(chordOrKeyRegex)).map(([, chord]) => chord!)\n}\n","import {eventToHotkeyString} from './hotkey'\n\n/** Returns false if a user has explicitly disabled character key shortcuts. */\nexport const areCharacterKeyShortcutsEnabled = () => {\n  const keyboardShortcutsPreference = document.querySelector<HTMLMetaElement>(\n    'meta[name=keyboard-shortcuts-preference]',\n  )\n  if (keyboardShortcutsPreference) {\n    return keyboardShortcutsPreference.content === 'all'\n  }\n  return true\n}\n\n/**\n * Character-key shortcuts are implemented only with lowercase characters (\"g\", \"g f\"), uppercase characters (\"Shift+A\", \"a\"),\n * symbols (\"Alt+g\"), and punctuation (\"?\", \"!\", \"/\").\n *\n * Returns true if string is NOT what we define as a character key shortcut.\n */\nexport const isNonCharacterKeyShortcut = (hotkey: string) => {\n  return /Enter|Arrow|Escape|Meta|Control|Mod|Esc/.test(hotkey) || (hotkey.includes('Alt') && hotkey.includes('Shift'))\n}\n\nconst nonEditableInputTypes = new Set([\n  'button',\n  'checkbox',\n  'color',\n  'file',\n  'hidden',\n  'image',\n  'radio',\n  'range',\n  'reset',\n  'submit',\n])\n\n/**\n * Returns true if `element` is editable - that is, if it can be focused and typed in like an input or textarea.\n */\nexport function isEditableElement(target: EventTarget | null): boolean {\n  if (!(target instanceof HTMLElement)) return false\n\n  const name = target.nodeName.toLowerCase()\n  const type = target.getAttribute('type')?.toLowerCase() ?? 'text'\n\n  const isReadonly =\n    target.ariaReadOnly === 'true' ||\n    target.getAttribute('aria-readonly') === 'true' ||\n    target.getAttribute('readonly') !== null\n\n  return (\n    (name === 'select' ||\n      name === 'textarea' ||\n      (name === 'input' && !nonEditableInputTypes.has(type)) ||\n      target.isContentEditable) &&\n    !isReadonly\n  )\n}\n\n/**\n * Returns false if a user settings has character key shortcut disabled and keyboard event corresponds to a character\n * key shortcut. Character key shortcuts are never enabled on editable form inputs.\n */\nexport const isShortcutAllowed = (event: KeyboardEvent) => {\n  const hotkey = eventToHotkeyString(event)\n\n  // Never allow character key shortcuts in inputs\n  const allowCharacterKeyShortcuts = areCharacterKeyShortcutsEnabled() && !isEditableElement(event.target)\n\n  return isNonCharacterKeyShortcut(hotkey) || allowCharacterKeyShortcuts\n}\n","type ScrollToOptions = {\n  top: number\n  left?: number\n}\n\nexport default function scrollTo(targetContainer: HTMLElement, options: ScrollToOptions) {\n  let container: Node = targetContainer\n  const document = targetContainer.ownerDocument\n\n  if (\n    container === document ||\n    // @ts-expect-error - Suppress TS2367 error that I don't trust\n    container === document.defaultView ||\n    container === document.documentElement ||\n    container === document.body\n  ) {\n    container = document\n  }\n\n  if (!document.defaultView) return\n\n  const Document = document.defaultView.Document\n\n  if (container instanceof Document) {\n    const top = options.top != null ? options.top : document.defaultView.pageYOffset\n    const left = options.left != null ? options.left : document.defaultView.pageXOffset\n    document.defaultView.scrollTo(left, top)\n    return\n  }\n\n  const HTMLElement = document.defaultView.HTMLElement\n\n  if (!(container instanceof HTMLElement)) {\n    throw new Error('invariant')\n  }\n\n  container.scrollTop = options.top\n  if (options.left != null) {\n    container.scrollLeft = options.left\n  }\n}\n","// Navigation Behavior\n//\n// Provides basic cursor, vi and emacs keyboard navigation. As well as\n// mouseover selection.\n//\n// item Element with .js-navigation-item. The current focused\n//            item is denoted with the .navigation-focus class.\n// container Element with .js-navigation-container class name.\n//                 Contains item elements. The active container is denoted\n//                 by the .js-active-navigation-container class.\n//\n// The .js-active-navigation-container class can be part of the html or\n// added programmatically with navigation('focus'). Making it part of\n// the template will automatically activate it without any extra JS.\n// Just make sure its the only active container on the page.\n//\n// li.navigation-focus { background: yellow; }\n//\n// <ul class=\"js-navigation-container js-active-navigation-container\">\n//   <li class=\"js-navigation-item\"><a href=\"\">One</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Two</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Three</a></li>\n// </ul>\n//\n// Methods\n//\n// .navigation('active')\n//\n// Returns current active container.\n//\n// .navigation('activate')\n//\n// Activates navigation container.\n//\n// .navigation('deactivate')\n//\n// Deactivates navigation container.\n//\n// .navigation('push')\n//\n// Activates navigation container and push it onto a stack.\n//\n// .navigation('pop')\n//\n// Deactivates navigation container and remove it from stack. Then\n// activate the previous container on the top of the stack.\n//\n// .navigation('focus')\n//\n// Activates navigation container and focus first item.\n//\n// .navigation('clear')\n//\n// Removes current focus.\n//\n// .navigation('refocus')\n//\n// Removes current focus and focuses on the first item.\n//\n//\n// Events\n//\n// navigation:focus\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Focus navigation item\n// Target .js-navigation-item Element\n//\n// navigation:keydown\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Deactivate navigation\n// Target .js-navigation-item or .js-navigation-container Element\n// Context info\n//   * originalEvent - keydown event\n//   * relatedTarget - .js-navigation-container Element\n//\n// navigation:keyopen\n//\n// Bubbles Yes\n// Cancelable No\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n// navigation:open\n//\n// Bubbles Yes\n// Cancelable Yes\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n\nimport {compose, fromEvent} from '@github-ui/subscription'\nimport {fire, on} from 'delegated-events'\nimport {overflowOffset, overflowParent, positionedOffset} from '@primer/behaviors'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {isShortcutAllowed} from '@github-ui/hotkey/keyboard-shortcuts-helper'\nimport {observe} from '@github/selector-observer'\nimport scrollTo from './scrollto'\nimport visible from '@github-ui/visible'\nimport {ssrSafeWindow} from '@github-ui/ssr-utils'\n\nconst ctrlBindings = ssrSafeWindow?.navigator.userAgent.match(/Macintosh/)\nconst modifierKey = ctrlBindings ? 'metaKey' : 'ctrlKey'\nconst hotkeyModifier = ctrlBindings ? 'Meta' : 'Control'\n\nlet disableMouseEvents = false\nlet mousePosition = {\n  x: 0,\n  y: 0,\n}\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\n// Binds mouseover handlers on navigation containers.\n//\n// This is an optimization to avoid adding a global mouseover to document.\nobserve('.js-navigation-container:not(.js-navigation-container-no-mouse)', {\n  subscribe: el =>\n    compose(fromEvent(el, 'mouseover', onContainerMouseMove), fromEvent(el, 'mouseover', onContainerMouseOver)),\n})\n\n// Tracks last mouse position inside container.\nfunction onContainerMouseMove(event: Event) {\n  if (!(event instanceof MouseEvent)) return\n  if (mousePosition.x !== event.clientX || mousePosition.y !== event.clientY) {\n    disableMouseEvents = false\n  }\n  mousePosition = {\n    x: event.clientX,\n    y: event.clientY,\n  }\n}\n\nfunction onContainerMouseOver(event: Event) {\n  if (disableMouseEvents) {\n    return\n  }\n  const container = event.currentTarget\n  const {target} = event\n  if (\n    !(target instanceof Element) ||\n    !(container instanceof HTMLElement) ||\n    !container.closest('.js-active-navigation-container')\n  ) {\n    return\n  }\n  const item = target.closest('.js-navigation-item')\n  if (item) focusItem(item, container)\n}\n\nlet count = 0\nobserve('.js-active-navigation-container', {\n  add() {\n    count++\n    if (count === 1) document.addEventListener('keydown', fireCustomKeydown)\n  },\n  remove() {\n    count--\n    if (count === 0) document.removeEventListener('keydown', fireCustomKeydown)\n  },\n})\n\n// Dispatches custom events from focused items.\n//\n// It also makes it easy to bind custom hotkeys to focused items.\nfunction fireCustomKeydown(event: KeyboardEvent) {\n  if (\n    event.target !== document.body &&\n    event.target instanceof HTMLElement &&\n    !event.target.classList.contains('js-navigation-enable')\n  ) {\n    return\n  }\n\n  disableMouseEvents = true\n\n  const container = getActiveContainer()\n  let dispatched = false\n\n  if (container) {\n    const target = container.querySelector('.js-navigation-item.navigation-focus') || container\n    dispatched = fire(target, 'navigation:keydown', {\n      hotkey: eventToHotkeyString(event),\n      originalEvent: event,\n      originalTarget: event.target,\n    })\n  }\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\non('navigation:keydown', '.js-active-navigation-container', function (event) {\n  const container = event.currentTarget as HTMLElement\n  const isInput = event.detail.originalTarget.matches('input, textarea')\n  const item = event.target as HTMLElement\n\n  if (!isShortcutAllowed(event.detail.originalEvent)) return\n\n  if (item.classList.contains('js-navigation-item')) {\n    if (isInput) {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'ArrowUp':\n          cursorUp(item, container)\n          break\n        case 'ArrowDown':\n          cursorDown(item, container)\n          break\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail.originalEvent[modifierKey])\n          break\n      }\n    } else {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n            break\n          case 'Alt+v':\n            pageUp(item, container)\n            break\n          case 'Control+v':\n            pageDown(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'j':\n        case 'J':\n          cursorDown(item, container)\n          break\n        case 'k':\n        case 'Shift+K':\n          cursorUp(item, container)\n          break\n        case 'o':\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail[modifierKey])\n          break\n      }\n    }\n  } else {\n    const firstItem = getItems(container)[0]\n    if (firstItem) {\n      if (isInput) {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'ArrowDown':\n            focusItem(firstItem, container)\n        }\n      } else {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n            case 'Control+v':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'j':\n            focusItem(firstItem, container)\n        }\n      }\n    }\n  }\n\n  if (isInput) {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        event.preventDefault()\n        break\n      case 'Enter':\n        event.preventDefault()\n    }\n  } else {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n        case 'Control+v':\n        case 'Alt+v':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'j':\n      case 'k':\n      case 'o':\n        event.preventDefault()\n        break\n      case 'Enter':\n      case `${modifierKey}+Enter`:\n        event.preventDefault()\n    }\n  }\n})\n\n// Fire custom navigation:open event.\n//\n// Examples:\n//\n// on('navigation:open', '.listings .listing', function() {\n//   window.location = this.querySelector('a').getAttribute('href')\n// }).\nfunction fireOpen(\n  event: Event & {modifierKey?: boolean; altKey?: boolean; ctrlKey?: boolean; metaKey?: boolean; shiftKey?: boolean},\n) {\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  const modifier = event.modifierKey || event.altKey || event.ctrlKey || event.metaKey\n  const dispatched = fire(event.currentTarget as Element, 'navigation:open', {\n    modifierKey: modifier,\n    shiftKey: event.shiftKey,\n  })\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\n// Open the item on click.\non('click', '.js-active-navigation-container .js-navigation-item', function (event) {\n  fireOpen(event)\n})\n\n// Handle keydown open events.\non('navigation:keyopen', '.js-active-navigation-container .js-navigation-item', function (event) {\n  const a = event.currentTarget.classList.contains('js-navigation-open')\n    ? event.currentTarget\n    : event.currentTarget.querySelector('.js-navigation-open')\n  if (a instanceof HTMLAnchorElement) {\n    if (event.detail.modifierKey) {\n      window.open(a.href, '_blank')\n      window.focus()\n    } else {\n      const clicked = a.dispatchEvent(\n        new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n        }),\n      )\n      if (clicked) {\n        a.click()\n      }\n    }\n    event.preventDefault()\n  } else {\n    fireOpen(event)\n  }\n})\n\n// Make container active by adding the js-active-navigation-container class to it.\nexport function activate(container: Element | null) {\n  const activeContainer = getActiveContainer()\n  if (container !== activeContainer) {\n    if (activeContainer !== null) deactivate(activeContainer)\n    container?.classList.add('js-active-navigation-container')\n  }\n}\n\n// Remove active id from container.\nexport function deactivate(container: Element) {\n  container.classList.remove('js-active-navigation-container')\n}\n\nconst containerStack: Element[] = []\n\n// Active container and push previous onto a stack.\nexport function push(container: HTMLElement) {\n  const activeContainer = getActiveContainer()\n  if (activeContainer) {\n    containerStack.push(activeContainer)\n  }\n  activate(container)\n}\n\n// Deactivate container and activate the next on the stack.\nexport function pop(container: Element) {\n  deactivate(container)\n  clear(container)\n\n  const activeContainer = containerStack.pop()\n  if (activeContainer) {\n    activate(activeContainer)\n  }\n}\n\n// Active the container and focus on the target or first element.\nexport function focus(container: HTMLElement, targetElement?: HTMLElement) {\n  const target = targetElement || container\n\n  const firstItem = getItems(container)[0]\n  const item = target.closest('.js-navigation-item') || firstItem\n\n  activate(container)\n\n  if (item instanceof HTMLElement) {\n    const focusPrevented = focusItem(item, container)\n    if (focusPrevented) {\n      return\n    }\n    const parent = overflowParent(item)\n    if (!parent) return\n    scrollItemTo(parent, item)\n  }\n}\n\n// Clear current focus.\nexport function clear(container: Element) {\n  const elements = container.querySelectorAll('.js-navigation-item.navigation-focus')\n  for (const element of elements) {\n    element.classList.remove('navigation-focus')\n  }\n}\n\n// Clear current focus and focus on the target or first element.\nexport function refocus(container: HTMLElement, target?: HTMLElement) {\n  clear(container)\n  focus(container, target)\n}\n\n// Select the previous item and scroll to it if its off screen.\nfunction cursorUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const previous = items[index - 1]\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(previous)\n    if (!overflowParentEl) return\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl, previous)\n    } else {\n      scrollItemTo(overflowParentEl, previous)\n    }\n  }\n}\n\n// Select the next item and scroll to it if its off screen.\nfunction cursorDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const next = items[index + 1]\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(next)\n    if (!overflowParentEl) return\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl, next)\n    } else {\n      scrollItemTo(overflowParentEl, next)\n    }\n  }\n}\n\n// Scrolls up to the previous item that is above the viewport.\nfunction pageUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let previous\n  let dimension\n  while (\n    (previous = items[index - 1]) &&\n    (dimension = overflowOffset(previous, overflowParentEl)) &&\n    dimension.top >= 0\n  ) {\n    index--\n  }\n\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    scrollPageTo(overflowParentEl, previous)\n  }\n}\n\n// Scrolls down to the next item that is below the viewport.\nfunction pageDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let next\n  let dimension\n  while ((next = items[index + 1]) && (dimension = overflowOffset(next, overflowParentEl)) && dimension.bottom >= 0) {\n    index++\n  }\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n    scrollPageTo(overflowParentEl, next)\n  }\n}\n\n// Handle opening item from keyboard.\n//\n// Hitting o or enter on a item will call this method.\nfunction keyOpen(item: Element, modifier = false) {\n  fire(item, 'navigation:keyopen', {\n    modifierKey: modifier,\n  })\n}\n\nfunction focusItem(target: Element, container: Element): boolean {\n  if (fire(target, 'navigation:focus')) {\n    clear(container)\n    target.classList.add('navigation-focus')\n\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction getActiveContainer() {\n  return document.querySelector('.js-active-navigation-container')\n}\n\nfunction getItems(container: Element): HTMLElement[] {\n  const items = []\n  for (const element of container.querySelectorAll('.js-navigation-item')) {\n    if (element instanceof HTMLElement && visible(element)) {\n      items.push(element)\n    }\n  }\n\n  return items\n}\n\nfunction getScrollStyle(container: HTMLElement): string {\n  return container.getAttribute('data-navigation-scroll') || 'item'\n}\n\nfunction scrollPageTo(container: HTMLElement, element: HTMLElement, behavior: ScrollBehavior = 'smooth') {\n  const overflow = overflowOffset(element, container)\n  if (!overflow) return\n\n  if (overflow.bottom <= 0) {\n    element.scrollIntoView({behavior, block: 'start'})\n  } else if (overflow.top <= 0) {\n    element.scrollIntoView({behavior, block: 'end'})\n  }\n}\n\nfunction scrollItemTo(container: HTMLElement, element: HTMLElement) {\n  const position = positionedOffset(element, container)\n  const overflow = overflowOffset(element, container)\n\n  if (position == null || overflow == null) {\n    return\n  }\n\n  if (overflow.bottom <= 0 && document.body) {\n    const scrollHeight = container.offsetParent != null ? container.scrollHeight : document.body.scrollHeight\n    const overflowHeight = overflow.height ?? 0\n\n    const scrollTop = scrollHeight - (position.bottom + overflowHeight)\n    scrollTo(container, {\n      top: scrollTop,\n    })\n  } else if (overflow.top <= 0) {\n    scrollTo(container, {\n      top: position.top,\n    })\n  }\n}\n","// When using SSR, browser globals are not available. If you try to use them, Node.js will throw an error\ntype SSRSafeLocation = Pick<Location, 'pathname' | 'origin' | 'search' | 'hash' | 'href'>\n\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeDocument = typeof document === 'undefined' ? undefined : document\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeWindow = typeof window === 'undefined' ? undefined : window\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeHistory = typeof history === 'undefined' ? undefined : history\n\nexport const ssrSafeLocation: SSRSafeLocation =\n  // eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\n  typeof location === 'undefined' ? {pathname: '', origin: '', search: '', hash: '', href: ''} : location\n\nexport function setLocation(url: string) {\n  // eslint-disable-next-line no-restricted-syntax\n  const parsedURL: SSRSafeLocation = new URL(url)\n  const {pathname, origin, search, hash} = parsedURL\n\n  Object.assign(ssrSafeLocation, {pathname, origin, search, hash})\n}\n","import {ssrSafeDocument} from './ssr-globals'\n\n/***\n * Are we rendering on the server?\n */\nexport const IS_SERVER = typeof ssrSafeDocument === 'undefined'\n\n/***\n * Are we rendering on the client?\n */\nexport const IS_BROWSER = !IS_SERVER\n\n/***\n * This helper returns `true` if:\n * - we are rendering on the server\n * - we are on the client, and the app has been hydrated from a server-render\n */\nexport function wasServerRendered() {\n  if (IS_SERVER) {\n    return true\n  }\n\n  return Boolean(ssrSafeDocument!.querySelector('react-app[data-ssr=\"true\"]'))\n}\n","// TODO: Research replacing this module with a composable observable library.\n// The scope of this module simply returns a finalized subscription object.\n\n// Lightweight TC39 observable Subscription.\nexport class Subscription {\n  constructor(cleanup: () => void) {\n    this.closed = false\n    this.unsubscribe = () => {\n      cleanup()\n      this.closed = true\n    }\n  }\n\n  // A boolean value indicating whether the subscription is closed.\n  closed: boolean\n  // Cancels the subscription.\n  unsubscribe: () => void\n}\n\n// Create a Subscription from an event.\nexport function fromEvent(\n  target: EventTarget,\n  eventName: string,\n  onNext: EventListenerOrEventListenerObject,\n  options: AddEventListenerOptions = {capture: false},\n): Subscription {\n  target.addEventListener(eventName, onNext, options)\n  return new Subscription(() => {\n    target.removeEventListener(eventName, onNext, options)\n  })\n}\n\n// Combine several subscriptions into a single subscription.\n//\n// subscriptions - A list of subscriptions to combine.\n//\n// Returns a single, combined, subscription.\nexport function compose(...subscriptions: Subscription[]): Subscription {\n  return new Subscription(() => {\n    for (const subscription of subscriptions) {\n      subscription.unsubscribe()\n    }\n  })\n}\n","// Due to the way `visible` is implemented, it causes the browser to\n// perform a full page reflow, it lays out all elements again, when called. This\n// is one of the most time consuming operations the browser can perform, so it\n// affects perceived page load times.\n//\n// The preferred way to determine element visibility is check for the presence\n// of the `hidden` attribute: `if (el.hidden) ...` and `el.hidden = false`.\n//\n// More info: https://github.com/github/eslint-plugin-github/blob/master/docs/rules/no-d-none.md.\n//\n// We would ideally like to remove the `visible` function and consistently\n// use the `hidden` attribute.\n//\n// Returns true if the element is hidden.\nfunction hidden(element: HTMLElement): boolean {\n  return element.offsetWidth <= 0 && element.offsetHeight <= 0\n}\n\nexport default function visible(element: HTMLElement): boolean {\n  return !hidden(element)\n}\n"],"names":["memoizeCache","Map","BaseFilterElement","HTMLElement","cachedJSON","url","response","fetch","headers","Accept","ok","responseError","statusText","message","status","json","fetchQualifierSuggestions","attribute","qualifiersJSON","searchInput","getAttribute","JSON","parse","negatableQualifiers","removeNegationFromQualifierIfSupported","filterInput","startsWith","qualifier","values","split","strippedQualifier","substring","includes","length","join","fetchSuggestionsForQualifier","suggestionAttribute","suggestionPathAttribute","hasAttribute","Promise","resolve","hideFilterSuggestions","deactivateNavigation","searchForm","autocompleteDropdown","hidden","removeAttribute","updateFilterSuggestionResults","value","searchString","currentString","textBeforeCursor","slice","selectionEnd","match","replace","renderValueSuggestions","renderQualifierSuggestions","trim","invalidSearchTerms","showSubmissionOptionIfInvalidSearchTerms","searchMatchesDefault","clearButton","focusNavigation","activateNavigation","handleSelectedSuggestionResultEvent","event","selectedSuggestion","target","classList","contains","requestSubmit","suggestedText","phraseBeforeCursor","pop","textAfterCursor","spacer","existingValues","suggestedValue","push","updatedTextBeforeCursor","preventDefault","focus","cursorPosition","setSelectionRange","fire","handleFormKeydownEvent","detail","hotkey","autocompleteResults","querySelector","clear","getDefaultSearch","getInitialValue","filterString","showAllQualifiersIfNoneMatch","renderMatchingOrAllQualifierSuggestions","renderMatchingQualifierSuggestions","handleSuggestionNavigation","setAttribute","id","suggestions","matchingSuggestions","filterSuggestionsList","fuzzy","fuzzyMatchQualifiers","then","matching","renderSuggestionDropdown","fetchMatchingSuggestions","suggestionsPromise","lastSearchTerm","fuzzyMatchValues","map","suggestion","description","_search","search","toLowerCase","filter","render","html","suggestionsTitle","renderSearchWarningIfRequired","shouldRenderSubmissionOption","renderSearchSuggestion","until","renderSuggestionList","renderLoadingItem","postDropdownRender","link","searchWarningContainerSelector","searchWarningContainer","document","invalidTerms","supportURL","getFilterSupportURL","content","dompurify","test","getComponentTagName","validQualifiers","q","qualifierRegex","RegExp","quotedStringRegex","qualifiedSearchTerm","source","unqualifiedSearchTermRegex","searchTermsRegex","invalidParts","parts","part","colonIndex","indexOf","unqualifiedSearchTermsAlwaysValid","some","validQualifier","typedQualifier","substr","sortedSearchInput","sort","sortedDefaultSearch","every","index","getDataAttributeOrThrow","tagName","renderSuggestionsTitle","_suggestions","suggestionsHTML","spaceBetweenValueAndDescription","isAlpha","alphaTag","isBeta","betaTag","isNew","newTag","unshift","handleSearchBlur","selectorOfElementToActivateOnBlur","inputKey","key","tagFn","name","memoize","cache","cancelable","dispatchEvent","CustomEvent","bubbles","form","submitter","checkButtonValidity","HTMLFormElement","type","persistSubmitButtonValue","submit","changeValue","input","HTMLInputElement","checked","fillFormValues","fields","element","elements","namedItem","HTMLTextAreaElement","isFormField","nodeName","isContentEditable","searchParamsFromFormData","formData","URLSearchParams","combineGetFormSearchParams","formAction","allSearchParams","append","toString","serialize","FormData","button","closest","findPersistedSubmitButtonValue","defaultValue","matches","createElement","add","prepend","remove","chordOrKeyRegex","splitHotkeyString","Array","from","matchAll","chord","areCharacterKeyShortcutsEnabled","keyboardShortcutsPreference","isNonCharacterKeyShortcut","nonEditableInputTypes","Set","isShortcutAllowed","eventToHotkeyString","allowCharacterKeyShortcuts","isEditableElement","isReadonly","ariaReadOnly","has","scrollTo","targetContainer","options","container","ownerDocument","defaultView","documentElement","body","Document","top","pageYOffset","left","pageXOffset","scrollTop","scrollLeft","ctrlBindings","ssrSafeWindow","navigator","userAgent","modifierKey","hotkeyModifier","disableMouseEvents","mousePosition","x","y","onContainerMouseMove","MouseEvent","clientX","clientY","onContainerMouseOver","currentTarget","Element","item","focusItem","observe","subscribe","el","compose","fromEvent","count","fireCustomKeydown","getActiveContainer","dispatched","originalEvent","originalTarget","fireOpen","modifier","altKey","ctrlKey","metaKey","shiftKey","activate","activeContainer","deactivate","addEventListener","removeEventListener","on","isInput","cursorDown","cursorUp","keyOpen","pageUp","previous","dimension","items","getItems","overflowParentEl","overflowParent","overflowOffset","scrollPageTo","pageDown","next","bottom","firstItem","a","HTMLAnchorElement","window","open","href","click","containerStack","targetElement","parent","scrollItemTo","querySelectorAll","refocus","getScrollStyle","visible","behavior","overflow","scrollIntoView","block","position","positionedOffset","scrollHeight","offsetParent","overflowHeight","height","ssrSafeDocument","undefined","ssrSafeHistory","history","ssrSafeLocation","location","pathname","origin","hash","IS_SERVER","IS_BROWSER","wasServerRendered","Boolean","Subscription","constructor","cleanup","closed","unsubscribe","eventName","onNext","capture","subscriptions","subscription","offsetWidth","offsetHeight"],"sourceRoot":""}