---
type: object
properties:
  action:
    type: string
    enum:
      - create
  enterprise:
    $ref: '../enterprise-webhooks.yaml'
  installation:
    $ref: '../simple-installation.yaml'
  organization:
    $ref: '../organization-simple-webhooks.yaml'
  package:
    type: object
    properties:
      created_at:
        type: string
      description:
        type: string
      ecosystem:
        type: string
      html_url:
        type: string
      id:
        type: integer
      name:
        type: string
      namespace:
        type: string
      package_version:
        type: object
        properties:
          blob_store:
            type: string
          container_metadata:
            type: object
            properties:
              labels:
                type: object
                properties:
                  all_labels:
                    type: object
                    properties:
                      com.github.base_image.id:
                        type: string
                      com.github.base_image.repo_digest:
                        type: string
                      com.github.repo.branch:
                        type: string
                      ghes.licenses.path:
                        type: string
                      org.opencontainers.image.created:
                        type: string
                      org.opencontainers.image.description:
                        type: string
                      org.opencontainers.image.documentation:
                        type: string
                      org.opencontainers.image.revision:
                        type: string
                      org.opencontainers.image.source:
                        type: string
                  description:
                    type: string
                  image_url:
                    type: string
                  licenses:
                    type: string
                  revision:
                    type: string
                  source:
                    type: string
                required:
                  - description
                  - source
                  - revision
                  - image_url
                  - licenses
                  - all_labels
              manifest:
                type: object
                properties:
                  config:
                    type: object
                    properties:
                      digest:
                        type: string
                      media_type:
                        type: string
                      size:
                        type: integer
                    required:
                      - digest
                      - media_type
                      - size
                  digest:
                    type: string
                  layers:
                    type: array
                    items:
                      type: object
                      properties:
                        digest:
                          type: string
                        media_type:
                          type: string
                        size:
                          type: integer
                      required:
                        - digest
                        - media_type
                        - size
                  media_type:
                    type: string
                  size:
                    type: integer
                  uri:
                    type: string
                required:
                  - digest
                  - media_type
                  - uri
                  - size
                  - config
                  - layers
              tag:
                type: object
                properties:
                  digest:
                    type: string
                  name:
                    type: string
                required:
                  - name
                  - digest
            required:
              - tag
              - labels
              - manifest
          created_at:
            type: string
          description:
            type: string
          html_url:
            type: string
          id:
            type: integer
          name:
            type: string
          updated_at:
            type: string
        required:
          - id
          - name
          - description
          - blob_store
          - html_url
          - created_at
          - updated_at
      updated_at:
        type: string
    required:
      - id
      - name
      - namespace
      - description
      - ecosystem
      - html_url
      - created_at
      - updated_at
      - package_version
  repository:
    $ref: '../repository-webhooks.yaml'
  sender:
    $ref: '../simple-user-webhooks.yaml'
required:
  - action
  - package
  - organization
  - sender
