have_func: checking for mmap() in sys/mman.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
checked program was:
/* begin */
1: #include "ruby.h"
2: 
3: int main(int argc, char **argv)
4: {
5:   return !!argv[argc];
6: }
/* end */

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/mman.h>
 4: 
 5: /*top*/
 6: extern int t(void);
 7: int main(int argc, char **argv)
 8: {
 9:   if (argc > 1000000) {
10:     int (* volatile tp)(void)=(int (*)(void))&t;
11:     printf("%d", (*tp)());
12:   }
13: 
14:   return !!argv[argc];
15: }
16: int t(void) { void ((*volatile p)()); p = (void ((*)()))mmap; return !p; }
/* end */

--------------------

have_func: checking for munmap() in sys/mman.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/mman.h>
 4: 
 5: /*top*/
 6: extern int t(void);
 7: int main(int argc, char **argv)
 8: {
 9:   if (argc > 1000000) {
10:     int (* volatile tp)(void)=(int (*)(void))&t;
11:     printf("%d", (*tp)());
12:   }
13: 
14:   return !!argv[argc];
15: }
16: int t(void) { void ((*volatile p)()); p = (void ((*)()))munmap; return !p; }
/* end */

--------------------

have_func: checking for rb_io_descriptor()... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
conftest.c: In function ‘t’:
conftest.c:14:57: error: ‘rb_io_descriptor’ undeclared (first use in this function)
   14 | int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_io_descriptor; return !p; }
      |                                                         ^~~~~~~~~~~~~~~~
conftest.c:14:57: note: each undeclared identifier is reported only once for each function it appears in
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_io_descriptor; return !p; }
/* end */

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: extern void rb_io_descriptor();
15: int t(void) { rb_io_descriptor(); return 0; }
/* end */

--------------------

have_func: checking for mremap() in sys/mman.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/mman.h>
 4: 
 5: /*top*/
 6: extern int t(void);
 7: int main(int argc, char **argv)
 8: {
 9:   if (argc > 1000000) {
10:     int (* volatile tp)(void)=(int (*)(void))&t;
11:     printf("%d", (*tp)());
12:   }
13: 
14:   return !!argv[argc];
15: }
16: int t(void) { void ((*volatile p)()); p = (void ((*)()))mremap; return !p; }
/* end */

--------------------

have_header: checking for linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
checked program was:
/* begin */
1: #include "ruby.h"
2: 
3: #include <linux/tcp.h>
/* end */

--------------------

have_type: checking for struct tcp_info in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef struct tcp_info conftest_type;
12: int conftestval[sizeof(conftest_type)?1:-1];
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_state in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_state - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_ca_state in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_ca_state - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_retransmits in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_retransmits - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_probes in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_probes - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_backoff in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_backoff - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_options in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_options - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_wscale in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:17: error: cannot take address of bit-field ‘tcpi_snd_wscale’
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_snd_wscale - (char *)0;
      |                 ^
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_wscale - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_wscale in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:17: error: cannot take address of bit-field ‘tcpi_rcv_wscale’
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_wscale - (char *)0;
      |                 ^
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_wscale - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rto in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rto - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_ato in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_ato - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_mss in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_mss - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_mss in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_mss - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_unacked in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_unacked - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_sacked in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_sacked - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_lost in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_lost - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_retrans in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_retrans - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_fackets in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_fackets - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_last_data_sent in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_last_data_sent - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_last_ack_sent in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_last_ack_sent - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_last_data_recv in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_last_data_recv - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_last_ack_recv in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_last_ack_recv - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_pmtu in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_pmtu - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_ssthresh in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_ssthresh - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rtt in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rtt - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rttvar in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rttvar - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_ssthresh in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_ssthresh - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_cwnd in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_cwnd - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_advmss in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_advmss - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_reordering in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_reordering - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_rtt in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_rtt - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_space in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_space - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_total_retrans in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_total_retrans - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_wnd in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_wnd - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_bwnd in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:41: error: ‘struct tcp_info’ has no member named ‘tcpi_snd_bwnd’; did you mean ‘tcpi_snd_cwnd’?
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_snd_bwnd - (char *)0;
      |                                         ^~~~~~~~~~~~~
      |                                         tcpi_snd_cwnd
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_bwnd - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_nxt in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:41: error: ‘struct tcp_info’ has no member named ‘tcpi_snd_nxt’; did you mean ‘tcpi_snd_mss’?
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_snd_nxt - (char *)0;
      |                                         ^~~~~~~~~~~~
      |                                         tcpi_snd_mss
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_nxt - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_nxt in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:41: error: ‘struct tcp_info’ has no member named ‘tcpi_rcv_nxt’; did you mean ‘tcpi_rcv_rtt’?
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_nxt - (char *)0;
      |                                         ^~~~~~~~~~~~
      |                                         tcpi_rcv_rtt
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_nxt - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_toe_tid in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:39: error: ‘struct tcp_info’ has no member named ‘tcpi_toe_tid’
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_toe_tid - (char *)0;
      |                                       ^~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_toe_tid - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_rexmitpack in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:39: error: ‘struct tcp_info’ has no member named ‘tcpi_snd_rexmitpack’
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_snd_rexmitpack - (char *)0;
      |                                       ^~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_rexmitpack - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_rcv_ooopack in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_rcv_ooopack - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_struct_member: checking for struct tcp_info.tcpi_snd_zerowin in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:11:41: error: ‘struct tcp_info’ has no member named ‘tcpi_snd_zerowin’; did you mean ‘tcpi_snd_cwnd’?
   11 | int s = (char *)&((struct tcp_info*)0)->tcpi_snd_zerowin - (char *)0;
      |                                         ^~~~~~~~~~~~~~~~
      |                                         tcpi_snd_cwnd
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: int s = (char *)&((struct tcp_info*)0)->tcpi_snd_zerowin - (char *)0;
12: int main(int argc, char **argv)
13: {
14:   return !!argv[argc];
15: }
/* end */

--------------------

have_const: checking for TCP_ESTABLISHED in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_ESTABLISHED’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_ESTABLISHED;
      |                                  ^~~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_ESTABLISHED;
/* end */

--------------------

have_const: checking for TCPS_ESTABLISHED in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_ESTABLISHED’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_ESTABLISHED;
      |                                  ^~~~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_ESTABLISHED;
/* end */

--------------------

have_const: checking for TCP_SYN_SENT in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_SYN_SENT’ undeclared here (not in a function); did you mean ‘TCP_SYNCNT’?
   12 | conftest_type conftestval = (int)TCP_SYN_SENT;
      |                                  ^~~~~~~~~~~~
      |                                  TCP_SYNCNT
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_SYN_SENT;
/* end */

--------------------

have_const: checking for TCPS_SYN_SENT in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_SYN_SENT’ undeclared here (not in a function); did you mean ‘TCP_SYNCNT’?
   12 | conftest_type conftestval = (int)TCPS_SYN_SENT;
      |                                  ^~~~~~~~~~~~~
      |                                  TCP_SYNCNT
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_SYN_SENT;
/* end */

--------------------

have_const: checking for TCP_SYN_RECV in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_SYN_RECV’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_SYN_RECV;
      |                                  ^~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_SYN_RECV;
/* end */

--------------------

have_const: checking for TCPS_SYN_RECEIVED in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_SYN_RECEIVED’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_SYN_RECEIVED;
      |                                  ^~~~~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_SYN_RECEIVED;
/* end */

--------------------

have_const: checking for TCP_FIN_WAIT1 in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_FIN_WAIT1’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_FIN_WAIT1;
      |                                  ^~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_FIN_WAIT1;
/* end */

--------------------

have_const: checking for TCPS_FIN_WAIT_1 in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_FIN_WAIT_1’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_FIN_WAIT_1;
      |                                  ^~~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_FIN_WAIT_1;
/* end */

--------------------

have_const: checking for TCP_FIN_WAIT2 in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_FIN_WAIT2’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_FIN_WAIT2;
      |                                  ^~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_FIN_WAIT2;
/* end */

--------------------

have_const: checking for TCPS_FIN_WAIT_2 in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_FIN_WAIT_2’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_FIN_WAIT_2;
      |                                  ^~~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_FIN_WAIT_2;
/* end */

--------------------

have_const: checking for TCP_TIME_WAIT in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_TIME_WAIT’ undeclared here (not in a function); did you mean ‘TCP_TIMESTAMP’?
   12 | conftest_type conftestval = (int)TCP_TIME_WAIT;
      |                                  ^~~~~~~~~~~~~
      |                                  TCP_TIMESTAMP
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_TIME_WAIT;
/* end */

--------------------

have_const: checking for TCPS_TIME_WAIT in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_TIME_WAIT’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_TIME_WAIT;
      |                                  ^~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_TIME_WAIT;
/* end */

--------------------

have_const: checking for TCP_CLOSE in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_CLOSE’ undeclared here (not in a function); did you mean ‘TCP_CORK’?
   12 | conftest_type conftestval = (int)TCP_CLOSE;
      |                                  ^~~~~~~~~
      |                                  TCP_CORK
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_CLOSE;
/* end */

--------------------

have_const: checking for TCPS_CLOSED in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_CLOSED’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_CLOSED;
      |                                  ^~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_CLOSED;
/* end */

--------------------

have_const: checking for TCP_CLOSE_WAIT in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_CLOSE_WAIT’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_CLOSE_WAIT;
      |                                  ^~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_CLOSE_WAIT;
/* end */

--------------------

have_const: checking for TCPS_CLOSE_WAIT in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_CLOSE_WAIT’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_CLOSE_WAIT;
      |                                  ^~~~~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_CLOSE_WAIT;
/* end */

--------------------

have_const: checking for TCP_LAST_ACK in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_LAST_ACK’ undeclared here (not in a function); did you mean ‘TCP_FLAG_ACK’?
   12 | conftest_type conftestval = (int)TCP_LAST_ACK;
      |                                  ^~~~~~~~~~~~
      |                                  TCP_FLAG_ACK
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_LAST_ACK;
/* end */

--------------------

have_const: checking for TCPS_LAST_ACK in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_LAST_ACK’ undeclared here (not in a function); did you mean ‘TCP_FLAG_ACK’?
   12 | conftest_type conftestval = (int)TCPS_LAST_ACK;
      |                                  ^~~~~~~~~~~~~
      |                                  TCP_FLAG_ACK
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_LAST_ACK;
/* end */

--------------------

have_const: checking for TCP_LISTEN in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_LISTEN’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_LISTEN;
      |                                  ^~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_LISTEN;
/* end */

--------------------

have_const: checking for TCPS_LISTEN in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_LISTEN’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_LISTEN;
      |                                  ^~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_LISTEN;
/* end */

--------------------

have_const: checking for TCP_CLOSING in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCP_CLOSING’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCP_CLOSING;
      |                                  ^~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCP_CLOSING;
/* end */

--------------------

have_const: checking for TCPS_CLOSING in sys/types.h,netdb.h,string.h,sys/socket.h,netinet/in.h,linux/tcp.h... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security   -c conftest.c"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c:12:34: error: ‘TCPS_CLOSING’ undeclared here (not in a function)
   12 | conftest_type conftestval = (int)TCPS_CLOSING;
      |                                  ^~~~~~~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <sys/types.h>
 4: #include <netdb.h>
 5: #include <string.h>
 6: #include <sys/socket.h>
 7: #include <netinet/in.h>
 8: #include <linux/tcp.h>
 9: 
10: /*top*/
11: typedef int conftest_type;
12: conftest_type conftestval = (int)TCPS_CLOSING;
/* end */

--------------------

have_func: checking for getpagesize() in unistd.h... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: #include <unistd.h>
 4: 
 5: /*top*/
 6: extern int t(void);
 7: int main(int argc, char **argv)
 8: {
 9:   if (argc > 1000000) {
10:     int (* volatile tp)(void)=(int (*)(void))&t;
11:     printf("%d", (*tp)());
12:   }
13: 
14:   return !!argv[argc];
15: }
16: int t(void) { void ((*volatile p)()); p = (void ((*)()))getpagesize; return !p; }
/* end */

--------------------

have_func: checking for rb_thread_call_without_gvl()... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c: In function ‘t’:
conftest.c:14:57: error: ‘rb_thread_call_without_gvl’ undeclared (first use in this function)
   14 | int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_thread_call_without_gvl; return !p; }
      |                                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~
conftest.c:14:57: note: each undeclared identifier is reported only once for each function it appears in
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_thread_call_without_gvl; return !p; }
/* end */

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: extern void rb_thread_call_without_gvl();
15: int t(void) { rb_thread_call_without_gvl(); return 0; }
/* end */

--------------------

have_func: checking for rb_thread_blocking_region()... -------------------- no

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c: In function ‘t’:
conftest.c:14:57: error: ‘rb_thread_blocking_region’ undeclared (first use in this function)
   14 | int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_thread_blocking_region; return !p; }
      |                                                         ^~~~~~~~~~~~~~~~~~~~~~~~~
conftest.c:14:57: note: each undeclared identifier is reported only once for each function it appears in
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_thread_blocking_region; return !p; }
/* end */

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
/usr/bin/ld: /tmp/ccbKRk1s.o: in function `t':
/github/vendor/gems/3.3.4/ruby/3.3.0/gems/raindrops-0.20.1.2.gb321241/ext/raindrops/conftest.c:15: undefined reference to `rb_thread_blocking_region'
collect2: error: ld returned 1 exit status
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: extern void rb_thread_blocking_region();
15: int t(void) { rb_thread_blocking_region(); return 0; }
/* end */

--------------------

have_func: checking for rb_thread_io_blocking_region()... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
conftest.c: In function ‘t’:
conftest.c:14:57: error: ‘rb_thread_io_blocking_region’ undeclared (first use in this function)
   14 | int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_thread_io_blocking_region; return !p; }
      |                                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
conftest.c:14:57: note: each undeclared identifier is reported only once for each function it appears in
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: int t(void) { void ((*volatile p)()); p = (void ((*)()))rb_thread_io_blocking_region; return !p; }
/* end */

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: /*top*/
 4: extern int t(void);
 5: int main(int argc, char **argv)
 6: {
 7:   if (argc > 1000000) {
 8:     int (* volatile tp)(void)=(int (*)(void))&t;
 9:     printf("%d", (*tp)());
10:   }
11: 
12:   return !!argv[argc];
13: }
14: extern void rb_thread_io_blocking_region();
15: int t(void) { rb_thread_io_blocking_region(); return 0; }
/* end */

--------------------

checking for GCC 4+ atomic builtins... -------------------- yes

LD_LIBRARY_PATH=.:/usr/share/rbenv/versions/3.3.4/lib "gcc -o conftest -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/x86_64-linux -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/backward -I/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0 -I. -Wdate-time -D_FORTIFY_SOURCE=2   -D_GNU_SOURCE  -D_BSD_SOURCE  -g -O2 -fdebug-prefix-map=/tmp/brew2deb/packages/ruby=. -fstack-protector-strong -Wformat -Werror=format-security conftest.c  -L. -L/usr/share/rbenv/versions/3.3.4/lib -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -fstack-protector-strong -rdynamic -Wl,-export-dynamic     -Wl,-rpath,/usr/share/rbenv/versions/3.3.4/lib -L/usr/share/rbenv/versions/3.3.4/lib -lruby-static -lz -lrt -lrt -ljemalloc -lgmp -ldl -lcrypt -lm -lpthread   -lm -lpthread  -ljemalloc -lc"
In file included from /usr/include/x86_64-linux-gnu/bits/libc-header-start.h:33,
                 from /usr/include/stdio.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/defines.h:16,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:25,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from conftest.c:1:
/usr/include/features.h:187:3: warning: #warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE" [-Wcpp]
  187 | # warning "_BSD_SOURCE and _SVID_SOURCE are deprecated, use _DEFAULT_SOURCE"
      |   ^~~~~~~
checked program was:
/* begin */
 1: #include "ruby.h"
 2: 
 3: int main(int argc, char * const argv[]) {
 4:         unsigned long i = 0;
 5:         __sync_lock_test_and_set(&i, 0);
 6:         __sync_lock_test_and_set(&i, 1);
 7:         __sync_bool_compare_and_swap(&i, 0, 1);
 8:         __sync_add_and_fetch(&i, argc);
 9:         __sync_sub_and_fetch(&i, argc);
10:         return 0;
11: }
/* end */

--------------------

extconf.h is:
/* begin */
  1: #ifndef EXTCONF_H
  2: #define EXTCONF_H
  3: #define HAVE_MMAP 1
  4: #define HAVE_MUNMAP 1
  5: #define HAVE_RB_IO_DESCRIPTOR 1
  6: #define HAVE_MREMAP 1
  7: #define HAVE_LINUX_TCP_H 1
  8: #define HAVE_TYPE_STRUCT_TCP_INFO 1
  9: #define HAVE_STRUCT_TCP_INFO_TCPI_STATE 1
 10: #define HAVE_ST_TCPI_STATE 1
 11: #define CFUNC_tcp_info_tcpi_state static VALUE tcp_info_tcpi_state(VALUE self){\
 12: 	struct tcp_info *info = DATA_PTR(self);\
 13: 	return UINT2NUM((uint32_t)info->tcpi_state);}
 14: #define DEFINE_METHOD_tcp_info_tcpi_state rb_define_method(cTCP_Info,"state",tcp_info_tcpi_state,0)
 15: #define HAVE_STRUCT_TCP_INFO_TCPI_CA_STATE 1
 16: #define HAVE_ST_TCPI_CA_STATE 1
 17: #define CFUNC_tcp_info_tcpi_ca_state static VALUE tcp_info_tcpi_ca_state(VALUE self){\
 18: 	struct tcp_info *info = DATA_PTR(self);\
 19: 	return UINT2NUM((uint32_t)info->tcpi_ca_state);}
 20: #define DEFINE_METHOD_tcp_info_tcpi_ca_state rb_define_method(cTCP_Info,"ca_state",tcp_info_tcpi_ca_state,0)
 21: #define HAVE_STRUCT_TCP_INFO_TCPI_RETRANSMITS 1
 22: #define HAVE_ST_TCPI_RETRANSMITS 1
 23: #define CFUNC_tcp_info_tcpi_retransmits static VALUE tcp_info_tcpi_retransmits(VALUE self){\
 24: 	struct tcp_info *info = DATA_PTR(self);\
 25: 	return UINT2NUM((uint32_t)info->tcpi_retransmits);}
 26: #define DEFINE_METHOD_tcp_info_tcpi_retransmits rb_define_method(cTCP_Info,"retransmits",tcp_info_tcpi_retransmits,0)
 27: #define HAVE_STRUCT_TCP_INFO_TCPI_PROBES 1
 28: #define HAVE_ST_TCPI_PROBES 1
 29: #define CFUNC_tcp_info_tcpi_probes static VALUE tcp_info_tcpi_probes(VALUE self){\
 30: 	struct tcp_info *info = DATA_PTR(self);\
 31: 	return UINT2NUM((uint32_t)info->tcpi_probes);}
 32: #define DEFINE_METHOD_tcp_info_tcpi_probes rb_define_method(cTCP_Info,"probes",tcp_info_tcpi_probes,0)
 33: #define HAVE_STRUCT_TCP_INFO_TCPI_BACKOFF 1
 34: #define HAVE_ST_TCPI_BACKOFF 1
 35: #define CFUNC_tcp_info_tcpi_backoff static VALUE tcp_info_tcpi_backoff(VALUE self){\
 36: 	struct tcp_info *info = DATA_PTR(self);\
 37: 	return UINT2NUM((uint32_t)info->tcpi_backoff);}
 38: #define DEFINE_METHOD_tcp_info_tcpi_backoff rb_define_method(cTCP_Info,"backoff",tcp_info_tcpi_backoff,0)
 39: #define HAVE_STRUCT_TCP_INFO_TCPI_OPTIONS 1
 40: #define HAVE_ST_TCPI_OPTIONS 1
 41: #define CFUNC_tcp_info_tcpi_options static VALUE tcp_info_tcpi_options(VALUE self){\
 42: 	struct tcp_info *info = DATA_PTR(self);\
 43: 	return UINT2NUM((uint32_t)info->tcpi_options);}
 44: #define DEFINE_METHOD_tcp_info_tcpi_options rb_define_method(cTCP_Info,"options",tcp_info_tcpi_options,0)
 45: #define CFUNC_tcp_info_tcpi_snd_wscale static inline void tcp_info_tcpi_snd_wscale(void) {}
 46: #define DEFINE_METHOD_tcp_info_tcpi_snd_wscale rb_define_method(cTCP_Info,"snd_wscale",rb_f_notimplement,0)
 47: #define CFUNC_tcp_info_tcpi_rcv_wscale static inline void tcp_info_tcpi_rcv_wscale(void) {}
 48: #define DEFINE_METHOD_tcp_info_tcpi_rcv_wscale rb_define_method(cTCP_Info,"rcv_wscale",rb_f_notimplement,0)
 49: #define HAVE_STRUCT_TCP_INFO_TCPI_RTO 1
 50: #define HAVE_ST_TCPI_RTO 1
 51: #define CFUNC_tcp_info_tcpi_rto static VALUE tcp_info_tcpi_rto(VALUE self){\
 52: 	struct tcp_info *info = DATA_PTR(self);\
 53: 	return UINT2NUM((uint32_t)info->tcpi_rto);}
 54: #define DEFINE_METHOD_tcp_info_tcpi_rto rb_define_method(cTCP_Info,"rto",tcp_info_tcpi_rto,0)
 55: #define HAVE_STRUCT_TCP_INFO_TCPI_ATO 1
 56: #define HAVE_ST_TCPI_ATO 1
 57: #define CFUNC_tcp_info_tcpi_ato static VALUE tcp_info_tcpi_ato(VALUE self){\
 58: 	struct tcp_info *info = DATA_PTR(self);\
 59: 	return UINT2NUM((uint32_t)info->tcpi_ato);}
 60: #define DEFINE_METHOD_tcp_info_tcpi_ato rb_define_method(cTCP_Info,"ato",tcp_info_tcpi_ato,0)
 61: #define HAVE_STRUCT_TCP_INFO_TCPI_SND_MSS 1
 62: #define HAVE_ST_TCPI_SND_MSS 1
 63: #define CFUNC_tcp_info_tcpi_snd_mss static VALUE tcp_info_tcpi_snd_mss(VALUE self){\
 64: 	struct tcp_info *info = DATA_PTR(self);\
 65: 	return UINT2NUM((uint32_t)info->tcpi_snd_mss);}
 66: #define DEFINE_METHOD_tcp_info_tcpi_snd_mss rb_define_method(cTCP_Info,"snd_mss",tcp_info_tcpi_snd_mss,0)
 67: #define HAVE_STRUCT_TCP_INFO_TCPI_RCV_MSS 1
 68: #define HAVE_ST_TCPI_RCV_MSS 1
 69: #define CFUNC_tcp_info_tcpi_rcv_mss static VALUE tcp_info_tcpi_rcv_mss(VALUE self){\
 70: 	struct tcp_info *info = DATA_PTR(self);\
 71: 	return UINT2NUM((uint32_t)info->tcpi_rcv_mss);}
 72: #define DEFINE_METHOD_tcp_info_tcpi_rcv_mss rb_define_method(cTCP_Info,"rcv_mss",tcp_info_tcpi_rcv_mss,0)
 73: #define HAVE_STRUCT_TCP_INFO_TCPI_UNACKED 1
 74: #define HAVE_ST_TCPI_UNACKED 1
 75: #define CFUNC_tcp_info_tcpi_unacked static VALUE tcp_info_tcpi_unacked(VALUE self){\
 76: 	struct tcp_info *info = DATA_PTR(self);\
 77: 	return UINT2NUM((uint32_t)info->tcpi_unacked);}
 78: #define DEFINE_METHOD_tcp_info_tcpi_unacked rb_define_method(cTCP_Info,"unacked",tcp_info_tcpi_unacked,0)
 79: #define HAVE_STRUCT_TCP_INFO_TCPI_SACKED 1
 80: #define HAVE_ST_TCPI_SACKED 1
 81: #define CFUNC_tcp_info_tcpi_sacked static VALUE tcp_info_tcpi_sacked(VALUE self){\
 82: 	struct tcp_info *info = DATA_PTR(self);\
 83: 	return UINT2NUM((uint32_t)info->tcpi_sacked);}
 84: #define DEFINE_METHOD_tcp_info_tcpi_sacked rb_define_method(cTCP_Info,"sacked",tcp_info_tcpi_sacked,0)
 85: #define HAVE_STRUCT_TCP_INFO_TCPI_LOST 1
 86: #define HAVE_ST_TCPI_LOST 1
 87: #define CFUNC_tcp_info_tcpi_lost static VALUE tcp_info_tcpi_lost(VALUE self){\
 88: 	struct tcp_info *info = DATA_PTR(self);\
 89: 	return UINT2NUM((uint32_t)info->tcpi_lost);}
 90: #define DEFINE_METHOD_tcp_info_tcpi_lost rb_define_method(cTCP_Info,"lost",tcp_info_tcpi_lost,0)
 91: #define HAVE_STRUCT_TCP_INFO_TCPI_RETRANS 1
 92: #define HAVE_ST_TCPI_RETRANS 1
 93: #define CFUNC_tcp_info_tcpi_retrans static VALUE tcp_info_tcpi_retrans(VALUE self){\
 94: 	struct tcp_info *info = DATA_PTR(self);\
 95: 	return UINT2NUM((uint32_t)info->tcpi_retrans);}
 96: #define DEFINE_METHOD_tcp_info_tcpi_retrans rb_define_method(cTCP_Info,"retrans",tcp_info_tcpi_retrans,0)
 97: #define HAVE_STRUCT_TCP_INFO_TCPI_FACKETS 1
 98: #define HAVE_ST_TCPI_FACKETS 1
 99: #define CFUNC_tcp_info_tcpi_fackets static VALUE tcp_info_tcpi_fackets(VALUE self){\
100: 	struct tcp_info *info = DATA_PTR(self);\
101: 	return UINT2NUM((uint32_t)info->tcpi_fackets);}
102: #define DEFINE_METHOD_tcp_info_tcpi_fackets rb_define_method(cTCP_Info,"fackets",tcp_info_tcpi_fackets,0)
103: #define HAVE_STRUCT_TCP_INFO_TCPI_LAST_DATA_SENT 1
104: #define HAVE_ST_TCPI_LAST_DATA_SENT 1
105: #define CFUNC_tcp_info_tcpi_last_data_sent static VALUE tcp_info_tcpi_last_data_sent(VALUE self){\
106: 	struct tcp_info *info = DATA_PTR(self);\
107: 	return UINT2NUM((uint32_t)info->tcpi_last_data_sent);}
108: #define DEFINE_METHOD_tcp_info_tcpi_last_data_sent rb_define_method(cTCP_Info,"last_data_sent",tcp_info_tcpi_last_data_sent,0)
109: #define HAVE_STRUCT_TCP_INFO_TCPI_LAST_ACK_SENT 1
110: #define HAVE_ST_TCPI_LAST_ACK_SENT 1
111: #define CFUNC_tcp_info_tcpi_last_ack_sent static VALUE tcp_info_tcpi_last_ack_sent(VALUE self){\
112: 	struct tcp_info *info = DATA_PTR(self);\
113: 	return UINT2NUM((uint32_t)info->tcpi_last_ack_sent);}
114: #define DEFINE_METHOD_tcp_info_tcpi_last_ack_sent rb_define_method(cTCP_Info,"last_ack_sent",tcp_info_tcpi_last_ack_sent,0)
115: #define HAVE_STRUCT_TCP_INFO_TCPI_LAST_DATA_RECV 1
116: #define HAVE_ST_TCPI_LAST_DATA_RECV 1
117: #define CFUNC_tcp_info_tcpi_last_data_recv static VALUE tcp_info_tcpi_last_data_recv(VALUE self){\
118: 	struct tcp_info *info = DATA_PTR(self);\
119: 	return UINT2NUM((uint32_t)info->tcpi_last_data_recv);}
120: #define DEFINE_METHOD_tcp_info_tcpi_last_data_recv rb_define_method(cTCP_Info,"last_data_recv",tcp_info_tcpi_last_data_recv,0)
121: #define HAVE_STRUCT_TCP_INFO_TCPI_LAST_ACK_RECV 1
122: #define HAVE_ST_TCPI_LAST_ACK_RECV 1
123: #define CFUNC_tcp_info_tcpi_last_ack_recv static VALUE tcp_info_tcpi_last_ack_recv(VALUE self){\
124: 	struct tcp_info *info = DATA_PTR(self);\
125: 	return UINT2NUM((uint32_t)info->tcpi_last_ack_recv);}
126: #define DEFINE_METHOD_tcp_info_tcpi_last_ack_recv rb_define_method(cTCP_Info,"last_ack_recv",tcp_info_tcpi_last_ack_recv,0)
127: #define HAVE_STRUCT_TCP_INFO_TCPI_PMTU 1
128: #define HAVE_ST_TCPI_PMTU 1
129: #define CFUNC_tcp_info_tcpi_pmtu static VALUE tcp_info_tcpi_pmtu(VALUE self){\
130: 	struct tcp_info *info = DATA_PTR(self);\
131: 	return UINT2NUM((uint32_t)info->tcpi_pmtu);}
132: #define DEFINE_METHOD_tcp_info_tcpi_pmtu rb_define_method(cTCP_Info,"pmtu",tcp_info_tcpi_pmtu,0)
133: #define HAVE_STRUCT_TCP_INFO_TCPI_RCV_SSTHRESH 1
134: #define HAVE_ST_TCPI_RCV_SSTHRESH 1
135: #define CFUNC_tcp_info_tcpi_rcv_ssthresh static VALUE tcp_info_tcpi_rcv_ssthresh(VALUE self){\
136: 	struct tcp_info *info = DATA_PTR(self);\
137: 	return UINT2NUM((uint32_t)info->tcpi_rcv_ssthresh);}
138: #define DEFINE_METHOD_tcp_info_tcpi_rcv_ssthresh rb_define_method(cTCP_Info,"rcv_ssthresh",tcp_info_tcpi_rcv_ssthresh,0)
139: #define HAVE_STRUCT_TCP_INFO_TCPI_RTT 1
140: #define HAVE_ST_TCPI_RTT 1
141: #define CFUNC_tcp_info_tcpi_rtt static VALUE tcp_info_tcpi_rtt(VALUE self){\
142: 	struct tcp_info *info = DATA_PTR(self);\
143: 	return UINT2NUM((uint32_t)info->tcpi_rtt);}
144: #define DEFINE_METHOD_tcp_info_tcpi_rtt rb_define_method(cTCP_Info,"rtt",tcp_info_tcpi_rtt,0)
145: #define HAVE_STRUCT_TCP_INFO_TCPI_RTTVAR 1
146: #define HAVE_ST_TCPI_RTTVAR 1
147: #define CFUNC_tcp_info_tcpi_rttvar static VALUE tcp_info_tcpi_rttvar(VALUE self){\
148: 	struct tcp_info *info = DATA_PTR(self);\
149: 	return UINT2NUM((uint32_t)info->tcpi_rttvar);}
150: #define DEFINE_METHOD_tcp_info_tcpi_rttvar rb_define_method(cTCP_Info,"rttvar",tcp_info_tcpi_rttvar,0)
151: #define HAVE_STRUCT_TCP_INFO_TCPI_SND_SSTHRESH 1
152: #define HAVE_ST_TCPI_SND_SSTHRESH 1
153: #define CFUNC_tcp_info_tcpi_snd_ssthresh static VALUE tcp_info_tcpi_snd_ssthresh(VALUE self){\
154: 	struct tcp_info *info = DATA_PTR(self);\
155: 	return UINT2NUM((uint32_t)info->tcpi_snd_ssthresh);}
156: #define DEFINE_METHOD_tcp_info_tcpi_snd_ssthresh rb_define_method(cTCP_Info,"snd_ssthresh",tcp_info_tcpi_snd_ssthresh,0)
157: #define HAVE_STRUCT_TCP_INFO_TCPI_SND_CWND 1
158: #define HAVE_ST_TCPI_SND_CWND 1
159: #define CFUNC_tcp_info_tcpi_snd_cwnd static VALUE tcp_info_tcpi_snd_cwnd(VALUE self){\
160: 	struct tcp_info *info = DATA_PTR(self);\
161: 	return UINT2NUM((uint32_t)info->tcpi_snd_cwnd);}
162: #define DEFINE_METHOD_tcp_info_tcpi_snd_cwnd rb_define_method(cTCP_Info,"snd_cwnd",tcp_info_tcpi_snd_cwnd,0)
163: #define HAVE_STRUCT_TCP_INFO_TCPI_ADVMSS 1
164: #define HAVE_ST_TCPI_ADVMSS 1
165: #define CFUNC_tcp_info_tcpi_advmss static VALUE tcp_info_tcpi_advmss(VALUE self){\
166: 	struct tcp_info *info = DATA_PTR(self);\
167: 	return UINT2NUM((uint32_t)info->tcpi_advmss);}
168: #define DEFINE_METHOD_tcp_info_tcpi_advmss rb_define_method(cTCP_Info,"advmss",tcp_info_tcpi_advmss,0)
169: #define HAVE_STRUCT_TCP_INFO_TCPI_REORDERING 1
170: #define HAVE_ST_TCPI_REORDERING 1
171: #define CFUNC_tcp_info_tcpi_reordering static VALUE tcp_info_tcpi_reordering(VALUE self){\
172: 	struct tcp_info *info = DATA_PTR(self);\
173: 	return UINT2NUM((uint32_t)info->tcpi_reordering);}
174: #define DEFINE_METHOD_tcp_info_tcpi_reordering rb_define_method(cTCP_Info,"reordering",tcp_info_tcpi_reordering,0)
175: #define HAVE_STRUCT_TCP_INFO_TCPI_RCV_RTT 1
176: #define HAVE_ST_TCPI_RCV_RTT 1
177: #define CFUNC_tcp_info_tcpi_rcv_rtt static VALUE tcp_info_tcpi_rcv_rtt(VALUE self){\
178: 	struct tcp_info *info = DATA_PTR(self);\
179: 	return UINT2NUM((uint32_t)info->tcpi_rcv_rtt);}
180: #define DEFINE_METHOD_tcp_info_tcpi_rcv_rtt rb_define_method(cTCP_Info,"rcv_rtt",tcp_info_tcpi_rcv_rtt,0)
181: #define HAVE_STRUCT_TCP_INFO_TCPI_RCV_SPACE 1
182: #define HAVE_ST_TCPI_RCV_SPACE 1
183: #define CFUNC_tcp_info_tcpi_rcv_space static VALUE tcp_info_tcpi_rcv_space(VALUE self){\
184: 	struct tcp_info *info = DATA_PTR(self);\
185: 	return UINT2NUM((uint32_t)info->tcpi_rcv_space);}
186: #define DEFINE_METHOD_tcp_info_tcpi_rcv_space rb_define_method(cTCP_Info,"rcv_space",tcp_info_tcpi_rcv_space,0)
187: #define HAVE_STRUCT_TCP_INFO_TCPI_TOTAL_RETRANS 1
188: #define HAVE_ST_TCPI_TOTAL_RETRANS 1
189: #define CFUNC_tcp_info_tcpi_total_retrans static VALUE tcp_info_tcpi_total_retrans(VALUE self){\
190: 	struct tcp_info *info = DATA_PTR(self);\
191: 	return UINT2NUM((uint32_t)info->tcpi_total_retrans);}
192: #define DEFINE_METHOD_tcp_info_tcpi_total_retrans rb_define_method(cTCP_Info,"total_retrans",tcp_info_tcpi_total_retrans,0)
193: #define HAVE_STRUCT_TCP_INFO_TCPI_SND_WND 1
194: #define HAVE_ST_TCPI_SND_WND 1
195: #define CFUNC_tcp_info_tcpi_snd_wnd static VALUE tcp_info_tcpi_snd_wnd(VALUE self){\
196: 	struct tcp_info *info = DATA_PTR(self);\
197: 	return UINT2NUM((uint32_t)info->tcpi_snd_wnd);}
198: #define DEFINE_METHOD_tcp_info_tcpi_snd_wnd rb_define_method(cTCP_Info,"snd_wnd",tcp_info_tcpi_snd_wnd,0)
199: #define CFUNC_tcp_info_tcpi_snd_bwnd static inline void tcp_info_tcpi_snd_bwnd(void) {}
200: #define DEFINE_METHOD_tcp_info_tcpi_snd_bwnd rb_define_method(cTCP_Info,"snd_bwnd",rb_f_notimplement,0)
201: #define CFUNC_tcp_info_tcpi_snd_nxt static inline void tcp_info_tcpi_snd_nxt(void) {}
202: #define DEFINE_METHOD_tcp_info_tcpi_snd_nxt rb_define_method(cTCP_Info,"snd_nxt",rb_f_notimplement,0)
203: #define CFUNC_tcp_info_tcpi_rcv_nxt static inline void tcp_info_tcpi_rcv_nxt(void) {}
204: #define DEFINE_METHOD_tcp_info_tcpi_rcv_nxt rb_define_method(cTCP_Info,"rcv_nxt",rb_f_notimplement,0)
205: #define CFUNC_tcp_info_tcpi_toe_tid static inline void tcp_info_tcpi_toe_tid(void) {}
206: #define DEFINE_METHOD_tcp_info_tcpi_toe_tid rb_define_method(cTCP_Info,"toe_tid",rb_f_notimplement,0)
207: #define CFUNC_tcp_info_tcpi_snd_rexmitpack static inline void tcp_info_tcpi_snd_rexmitpack(void) {}
208: #define DEFINE_METHOD_tcp_info_tcpi_snd_rexmitpack rb_define_method(cTCP_Info,"snd_rexmitpack",rb_f_notimplement,0)
209: #define HAVE_STRUCT_TCP_INFO_TCPI_RCV_OOOPACK 1
210: #define HAVE_ST_TCPI_RCV_OOOPACK 1
211: #define CFUNC_tcp_info_tcpi_rcv_ooopack static VALUE tcp_info_tcpi_rcv_ooopack(VALUE self){\
212: 	struct tcp_info *info = DATA_PTR(self);\
213: 	return UINT2NUM((uint32_t)info->tcpi_rcv_ooopack);}
214: #define DEFINE_METHOD_tcp_info_tcpi_rcv_ooopack rb_define_method(cTCP_Info,"rcv_ooopack",tcp_info_tcpi_rcv_ooopack,0)
215: #define CFUNC_tcp_info_tcpi_snd_zerowin static inline void tcp_info_tcpi_snd_zerowin(void) {}
216: #define DEFINE_METHOD_tcp_info_tcpi_snd_zerowin rb_define_method(cTCP_Info,"snd_zerowin",rb_f_notimplement,0)
217: #define HAVE_GETPAGESIZE 1
218: #define HAVE_RB_THREAD_CALL_WITHOUT_GVL 1
219: #define HAVE_RB_THREAD_IO_BLOCKING_REGION 1
220: #define HAVE_GCC_ATOMIC_BUILTINS 1
221: #endif
/* end */

