"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_experimental-action-list-element_experimental-action-list-element_ts"],{14936:(t,e,i)=>{i.r(e);var n=i(94120),r=i(39595);function s(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function o(t,e){var i=s(t,e,"get");return i.get?i.get.call(t):i.value}function a(t,e,i){!function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function l(t,e,i){var n=s(t,e,"set");return!function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(t,n,i),i}function c(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}var h=new WeakMap,u=new WeakMap;let d=class ExperimentalActionListElement extends HTMLElement{connectedCallback(){!0===this.arrowNavigation&&this.setupFocusZone(),this.isNavigationList||(window.addEventListener("hashchange",()=>{this.removeHighlightFromActiveItems(),this.addHighlightToCurrentTarget()}),this.addHighlightToCurrentTarget())}setupFocusZone(){o(this,u)&&o(this,u).abort(),l(this,h,Array.from(this.querySelectorAll(".ActionList-content"))),l(this,u,(0,n.zB)(this,{bindKeys:n.z0.ArrowAll|n.z0.HomeAndEnd,getNextFocusable:(t,e,i)=>{if("BUTTON"===e.tagName){if("ArrowRight"===i.code)return"true"===e.getAttribute("aria-expanded")?this.getNextVisibleItem(e):(this.expandItem(e),e);if("ArrowLeft"===i.code)return"false"===e.getAttribute("aria-expanded")?this.getPreviousVisibleItem(e):(this.collapseItem(e),e)}return"next"===t?this.getNextVisibleItem(e):"previous"===t?this.getPreviousVisibleItem(e):void 0},focusableElementFilter:t=>!t.closest("[hidden]")}))}getNextVisibleItem(t){let e=o(this,h).indexOf(t);if(e+1>=o(this,h).length)return null;let i=o(this,h)[e+1],n=this.getParentHiddenSubGroup(i);return i.parentElement?.hidden||n?this.getNextVisibleItem(i):i}getPreviousVisibleItem(t){let e=o(this,h).indexOf(t);if(e<=0)return null;let i=o(this,h)[e-1],n=this.getParentHiddenSubGroup(i);return i.parentElement?.hidden||n?this.getPreviousVisibleItem(i):i}expandItem(t){t.dispatchEvent(new CustomEvent("action-menu-item-toggle",{bubbles:!0,detail:{action:"expanded",item:t}})),t.nextElementSibling?.removeAttribute("data-hidden"),t.setAttribute("aria-expanded","true")}collapseItem(t){t.dispatchEvent(new CustomEvent("action-menu-item-toggle",{bubbles:!0,detail:{action:"collapsed",item:t}})),t.nextElementSibling?.setAttribute("data-hidden",""),t.setAttribute("aria-expanded","false")}getParentHiddenSubGroup(t){return t?.closest("ul.ActionList--subGroup[data-hidden]")}itemIsExpanded(t){return t?.tagName==="A"||t?.getAttribute("aria-expanded")==="true"}handleItemWithSubItemClick(t){let e=t.target;if(!(e instanceof HTMLElement))return;let i=e.closest("button");i&&(this.itemIsExpanded(i)?this.collapseItem(i):this.expandItem(i),t.stopPropagation())}handleItemClick(t){let e=t.target;if(!(e instanceof HTMLElement))return;let i=e.closest(".ActionList-item");i&&(this.removeHighlightFromActiveItems(),this.addHighlightToItem(i))}addHighlightToCurrentTarget(){if(!this.isNavigationList&&""!==window.location.hash)for(let t of document.querySelectorAll(".ActionList-item")){let e=t.querySelector(".ActionList-content");e&&e.hash===window.location.hash&&this.addHighlightToItem(t)}}addHighlightToItem(t){if(t.classList.add("ActionList-item--navActive"),t.setAttribute("aria-current","location"),!t.classList.contains("ActionList-item--subItem")||!t.closest(".ActionList-item--hasSubItem"))return;let e=t.parentElement.previousElementSibling;e?.classList.add("ActionList-content--hasActiveSubItem")}removeHighlightFromActiveItems(){for(let t of document.querySelectorAll(".ActionList-item--navActive"))this.removeHighlightFromActiveItem(t);for(let t of document.querySelectorAll(".ActionList-content--hasActiveSubItem"))t.classList.remove("ActionList-content--hasActiveSubItem")}removeHighlightFromActiveItem(t){t.classList.remove("ActionList-item--navActive"),t.removeAttribute("aria-current")}constructor(...t){super(...t),a(this,h,{writable:!0,value:void 0}),a(this,u,{writable:!0,value:void 0}),this.arrowNavigation=!1,this.isNavigationList=!1,l(this,u,null)}};c([r.CF],d.prototype,"arrowNavigation",void 0),c([r.CF],d.prototype,"isNavigationList",void 0),d=c([r.p_],d)}}]);
//# sourceMappingURL=ui_packages_experimental-action-list-element_experimental-action-list-element_ts-d38288d1dc7c.js.map