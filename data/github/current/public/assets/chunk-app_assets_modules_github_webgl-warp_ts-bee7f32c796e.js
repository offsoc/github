"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_webgl-warp_ts"],{10490:(t,e,i)=>{i.d(e,{stageSetup:()=>c});var s=i(39437);let r=window,h=document.body,n=document.documentElement,o=class Warplines{onInit(){this.group=new s.B69,this.create(),this.ready=!0}onFrame(){if(this.ready&&this.hyper){for(let t=0;t<this.count;t++){let e=this.geometry.getAttribute("position").array,i=this.geometry.getAttribute("velocity").array,r=2*t,h=2*t+1,n=6*t+2,o=6*t+5;if(i[r]+=this.acceleration,i[h]+=this.acceleration-this.accelerationTail,e[n]+=i[r],e[o]+=i[h],e[o]>this.warplinesPos){let t=s.cj9.randFloatSpread(500);e[n]=t,e[o]=t,i[r]=0,i[h]=0}}this.geometry.getAttribute("position").needsUpdate=!0}}create(){this.geometry=new s.LoY,this.geometry.setAttribute("position",new s.THS(new Float32Array(6*this.count),3)),this.geometry.setAttribute("velocity",new s.THS(new Float32Array(2*this.count),1));for(let t=0;t<this.count;t++){let e=s.cj9.randFloatSpread(400),i=s.cj9.randFloatSpread(200),r=s.cj9.randFloatSpread(500),h=this.geometry.getAttribute("position").array,n=this.geometry.getAttribute("velocity").array,o=6*t;h[o]=e,h[o+1]=i,h[o+2]=r,h[o+3]=e,h[o+4]=i,h[o+5]=r,n[2*t]=n[2*t+1]=0}let t=new s.mrM({color:16777215}),e=new s.DXC(this.geometry,t);this.group.add(e)}hyperStart(){this.hyper=!0,this.stage.scene.add(this.group)}hyperStop(){setTimeout(()=>{this.hyper=!1,this.stage.scene.remove(this.group)},this.hyperDelay)}constructor(t){this.onInit=this.onInit.bind(this),this.onFrame=this.onFrame.bind(this),this.create=this.create.bind(this),this.count=8e3,this.acceleration=.03,this.accelerationTail=.005,this.hyperDelay=1e3,this.warplinesPos=100,this.geometry=null,this.group=null,this.ready=!1,this.stage=t}},a=class Wormhole{onFrame(){if(!this.ready||!this.hyper||!this.texture)return;let{hype:t,stage:e}=this;this.texture.offset.y-=t.normalize*t.speed,this.texture.needsUpdate=!0,this.group.scale.set(t.scale,t.scale,1);let{rotation:i,position:s}=e.camera;this.group.rotation.set(i.x,i.y,i.z),this.group.position.set(s.x,s.y,s.z),this.group.rotation.z-=.008}onInit(){this.create(),this.ready=!0}create(){this.group=new s.B69,this.group.position.z=this.stage.camera.position.z;let t=new s.Tap;this.texture=t.load("/images/modules/signup/launch_codes/wormhole.jpg"),this.texture.wrapT=s.GJx,this.texture.wrapS=s.GJx;let e=new s.Ho_(100,0,300,40,40,!0),i=new s.G_z({color:16777215,opacity:1,map:this.texture,blending:s.EZo,side:s.hsX,transparent:!0,depthTest:!0}),r=new s.Q1f;r.setHSL(Math.random(),1,.8);let h=new s.HiM(r,4,100);h.position.set(0,0,0);let n=new s.eaF(e,i);n.position.set(0,0,0),n.rotation.x=Math.PI/2,this.group.add(n),this.group.add(h)}hyperStart(){this.hyper=!0,setTimeout(()=>{this.stage.scene.add(this.group)},this.hyperDelay)}hyperStop(){setTimeout(()=>{this.hyper=!1},this.hyperDelay)}constructor(t){this.onInit=this.onInit.bind(this),this.onFrame=this.onFrame.bind(this),this.create=this.create.bind(this),this.group=null,this.texture=null,this.ease=10,this.hyperDelay=1e3,this.hype={normalize:.001,scale:.15,speed:6.26},this.ready=!1,this.hyper=!1,this.stage=t}},d=class Starfield{onInit(){this.group=new s.B69,this.group.position.set(this.move.x,this.move.y,this.move.z-this.hyperDistance),this.group.rotation.set(this.look.x,this.look.y,this.look.z),this.create(),this.ready=!0}onFrame(){this.ready&&this.group&&(this.group.position.z+=(this.move.z-this.group.position.z)/this.ease)}create(){let t=new s.LoY,e=new s.Tap().load("/images/modules/signup/launch_codes/star.png"),i=new s.BH$({size:this.size,color:16777215,opacity:.8,blending:s.EZo,transparent:!0,map:e}),r=new Float32Array((this.total+1)*3),h=new s.Pq0;for(let t=0;t<this.total;t++)h.x=s.cj9.randFloatSpread(this.spread),h.y=s.cj9.randFloatSpread(this.spread),h.z=s.cj9.randFloatSpread(this.hyperEnd),h.toArray(r,3*t);t.setAttribute("position",new s.THS(r,3));let n=new s.ONl(t,i);this.group.add(n)}createLandingStar(){let t=new s.Tap().load("/images/modules/signup/launch_codes/star.png"),e=new s.tcD(this.destinationSize,32),i=new s.V9B({color:16777215,opacity:1,blending:s.EZo,transparent:!1,map:t}),r=new s.eaF(e,i);return r.position.set(0,0,this.destinationPos),r}hyperStart(){this.stage.scene.add(this.group),this.move={x:0,y:0,z:this.distance},this.group.scale.set(.75,.75,1),this.ease+=100,this.move.z-=this.hyperDistance,this.hyper=!0;let t=this.createLandingStar();this.group.add(t)}hyperStop(){this.group.scale.set(1,1,1.99),this.ease-=100,this.move.z+=this.hyperEnd,this.hyper=!1}constructor(t){this.onInit=this.onInit.bind(this),this.onFrame=this.onFrame.bind(this),this.create=this.create.bind(this),this.total=600,this.spread=2e3,this.size=25,this.destinationSize=75,this.distance=-3e3,this.destinationPos=200,this.hyperDistance=5e3,this.hyperEnd=this.hyperDistance-this.distance-this.destinationPos,this.ease=15,this.move={x:0,y:0,z:this.distance},this.look={x:0,y:0,z:0},this.group=null,this.ready=!1,this.hyper=!1,this.stage=t}},p=class WarpStage{resolveRenderer(t){return t=t||{},new s.JeP(t)}triggerEvent(t){if(this.ready)for(let e of this.objects)"function"==typeof e[t]&&e[t].call(e)}drawFrame(){this.ready&&(this.triggerEvent("onFrame"),this.renderer.render(this.scene,this.camera)),requestAnimationFrame(this.drawFrame)}screenInfo(){let t=Math.max(0,r.innerWidth||n.clientWidth||h.clientWidth||0),e=Math.max(0,r.innerHeight||n.clientHeight||h.clientHeight||0);return{width:t,height:e,ratio:t/e,centerX:t/2,centerY:e/2}}onResize(){let t=this.screenInfo();this.width=t.width,this.height=t.height,this.ready&&(this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,requestAnimationFrame(()=>this.camera.updateProjectionMatrix()))}hyperStart(){this.triggerEvent("hyperStart")}hyperStop(){this.triggerEvent("hyperStop")}init(){this.renderer&&this.renderer.domElement&&(this.renderer.domElement.setAttribute("id",this.id),document.querySelector(".js-signup-warp-bg")?.appendChild(this.renderer.domElement)),this.onResize(),this.triggerEvent("onInit"),this.drawFrame(),window.addEventListener("resize",()=>this.onResize())}constructor(t,e){this.triggerEvent=this.triggerEvent.bind(this),this.drawFrame=this.drawFrame.bind(this),this.onResize=this.onResize.bind(this),this.init=this.init.bind(this),this.objects=[new d(this),new a(this),new o(this)],this.width=0,this.height=0,this.ease=20,this.move={x:0,y:0,z:200},this.look={x:0,y:0,z:0},this.id=t,this.renderer=this.resolveRenderer(e||{}),this.camera=new s.ubm(60,window.innerWidth/window.innerHeight,.1,1e4),this.light=new s.nCl(16777215,1,3e3,.4,.5,1),this.scene=new s.Z58,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.sortObjects=!1,this.camera.position.set(this.move.x,this.move.y,this.move.z),this.camera.rotation.set(this.look.x,this.look.y,this.look.z),this.camera.lookAt(this.scene.position),this.light.position.set(this.move.x,this.move.y,this.move.z),this.scene.add(this.light),this.ready=!0}},l=()=>{try{let t=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl")))}catch(t){return!1}},c=()=>{if(l())return new p("warp-stage",{alpha:!0,antialias:!0,precision:"mediump"})}}}]);
//# sourceMappingURL=app_assets_modules_github_webgl-warp_ts-7bb368fd5511.js.map