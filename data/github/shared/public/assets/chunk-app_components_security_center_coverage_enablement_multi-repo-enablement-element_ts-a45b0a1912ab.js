"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_security_center_coverage_enablement_multi-repo-enablement-element_ts"],{79960:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var n=o(39595);function s(e,t,o,n){var s,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(i<3?s(r):i>3?s(t,o,r):s(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r}let i=class MultiRepoEnablementElement extends HTMLElement{attributeChangedCallback(e){"data-selected-repos-count"===e&&this.selectedReposCountChanged()}get changedSettingsCount(){let e=0;for(let t of this.form.querySelectorAll("multi-repo-enablement-setting"))parseInt(t?.settingSelection?.value,10)>=0&&e++;return e}handleSettingSelectionChange(){this.submitErrorMessage&&(this.submitErrorMessage.hidden=!0),this.changedSettingsCountElement&&(this.changedSettingsCountElement.textContent=String(this.changedSettingsCount))}reset(){for(let e of(this.form.reset(),this.form.querySelectorAll("multi-repo-enablement-setting")))"function"==typeof e?.handleSelectionChange&&e.handleSelectionChange();this.handleSettingSelectionChange()}selectedReposCountChanged(){let e=1===this.selectedReposCount?"repository":"repositories";this.selectedReposCountElement&&(this.selectedReposCountElement.textContent=`${this.selectedReposCount} ${e} selected`),this.selectedReposChangedSinceLastFetch=!0}showDialog(){this.selectedReposChangedSinceLastFetch&&(this.reloadDialogContent(),this.selectedReposChangedSinceLastFetch=!1)}submit(e){if(e.preventDefault(),this.submitButton.disabled=0!==this.changedSettingsCount,0===this.changedSettingsCount){this.submitErrorMessage.hidden=!1,this.submitErrorMessage.focus();return}this.submitButton.textContent="Submitting\u2026",this.form.submit()}reloadDialogContent(){let e=new URL(this.contentUrl,window.location.origin);"true"===this.form.use_query.value?(e.searchParams.set("use_query","true"),e.searchParams.set("query",this.form.query.value)):e.searchParams.set("selected_repo_ids",this.form.selected_repo_ids.value),this.dialogContentElement&&(this.dialogContentElement.src=e.toString())}constructor(...e){super(...e),this.selectedReposCount=0,this.contentUrl=""}};s([n.CF],i.prototype,"selectedReposCount",void 0),s([n.CF],i.prototype,"contentUrl",void 0),s([n.aC],i.prototype,"changedSettingsCountElement",void 0),s([n.aC],i.prototype,"form",void 0),s([n.aC],i.prototype,"selectedReposCountElement",void 0),s([n.aC],i.prototype,"showButton",void 0),s([n.aC],i.prototype,"submitErrorMessage",void 0),s([n.aC],i.prototype,"submitButton",void 0),s([n.aC],i.prototype,"dialogContentElement",void 0),i=s([n.p_],i)}}]);
//# sourceMappingURL=app_components_security_center_coverage_enablement_multi-repo-enablement-element_ts-4f8af0f7ce0c.js.map