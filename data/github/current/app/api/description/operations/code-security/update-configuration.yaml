---
summary: 'Update a code security configuration'
description: |-
  Updates a code security configuration in an organization.

  The authenticated user must be an administrator or security manager for the organization to use this endpoint.

  OAuth app tokens and personal access tokens (classic) need the `write:org` scope to use this endpoint.
tags:
  - code-security
operationId: code-security/update-configuration

externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/code-security/configurations#update-a-code-security-configuration'

x-github-internal:
  path: /orgs/{org}/code-security/configurations/{configuration_id}
  http-method: patch
  published: true
  owner: '@github/security-products-growth-reviewers'

x-github-releases:
  - api.github.com
  - ghec
  - ghes: '>= 3.15'

parameters:
  - $ref: '../../components/parameters/org.yaml'
  - $ref: '../../components/parameters/configuration-id.yaml'

requestBody:
  required: true
  content:
    application/json:
      schema:
        type: object
        additionalProperties: false
        properties:
          name:
            type: string
            description: The name of the code security configuration. Must be unique within the organization.
          description:
            type: string
            description: A description of the code security configuration
            maxLength: 255
          advanced_security:
            type: string
            description: The enablement status of GitHub Advanced Security
            enum:
              - enabled
              - disabled
          dependency_graph:
            type: string
            description: The enablement status of Dependency Graph
            enum:
              - enabled
              - disabled
              - not_set
          dependency_graph_autosubmit_action:
            type: string
            description: The enablement status of Automatic dependency submission
            enum:
              - enabled
              - disabled
              - not_set
          dependency_graph_autosubmit_action_options:
            type: object
            description: Feature options for Automatic dependency submission
            properties:
              labeled_runners:
                type: boolean
                description: Whether to use runners labeled with 'dependency-submission' or standard GitHub runners.
          dependabot_alerts:
            type: string
            description: The enablement status of Dependabot alerts
            enum:
              - enabled
              - disabled
              - not_set
          dependabot_security_updates:
            type: string
            description: The enablement status of Dependabot security updates
            enum:
              - enabled
              - disabled
              - not_set
          code_scanning_default_setup:
            type: string
            description: The enablement status of code scanning default setup
            enum:
              - enabled
              - disabled
              - not_set
          secret_scanning:
            type: string
            description: The enablement status of secret scanning
            enum:
              - enabled
              - disabled
              - not_set
          secret_scanning_push_protection:
            type: string
            description: The enablement status of secret scanning push protection
            enum:
              - enabled
              - disabled
              - not_set
          secret_scanning_validity_checks:
            type: string
            description: The enablement status of secret scanning validity checks
            enum:
              - enabled
              - disabled
              - not_set
          secret_scanning_non_provider_patterns:
            type: string
            description: The enablement status of secret scanning non-provider patterns
            enum:
              - enabled
              - disabled
              - not_set
          private_vulnerability_reporting:
            type: string
            description: The enablement status of private vulnerability reporting
            enum:
              - enabled
              - disabled
              - not_set
          enforcement:
            type: string
            description: The enforcement status for a security configuration
            enum:
              - enforced
              - unenforced
      examples:
        default:
          summary: Example for updating a code security configuration
          value:
            name: octo-org recommended settings v2
            secret_scanning: disabled
            code_scanning_default_setup: enabled

responses:
  '200':
    description: Response when a configuration is updated
    content:
      application/json:
        schema:
          $ref: '../../components/schemas/code-security-configuration.yaml'
        examples:
          default:
            $ref: '../../components/examples/code-security-configuration-updated.yaml'
  '204':
    description: Response when no new updates are made

x-github:
  githubCloudOnly: false
  enabledForGitHubApps: true
  category: code-security
  subcategory: configurations

x-githubEnterpriseOverlays:
  '>= 3.15':
    description: |-
      Updates a code security configuration in an organization.

      The authenticated user must be an administrator or security manager for the organization to use this endpoint.

      OAuth app tokens and personal access tokens (classic) need the `write:org` scope to use this endpoint.

      > [!NOTE]
      > Only installed security products may be specified in the request body. Specifying an uninstalled security product will result in a validation error.
    requestBody:
      content:
        application/json:
          schema:
            properties:
              dependency_graph_autosubmit_action:
              dependency_graph_autosubmit_action_options:
              dependency_graph:
                description: The enablement status of Dependency Graph. Dependency Graph is not configurable in GitHub Enterprise Server.
