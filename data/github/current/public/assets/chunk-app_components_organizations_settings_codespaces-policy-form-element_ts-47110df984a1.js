"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_organizations_settings_codespaces-policy-form-element_ts"],{83899:(t,e,o)=>{o.r(e);var i=o(39595),n=o(46650);function a(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r}let r="codespaces.allowed_machine_types",s="codespaces.allowed_port_privacy_settings",l="codespaces.allowed_maximum_retention_period",c="codespaces.host_setup",p="codespaces.network_configuration",u="Host setup can only be applied once per repository.";function d(t){null!==t&&(t.hidden=!0)}function h(t){null!==t&&(t.hidden=!1)}let y="User",g="Repository",f="Business",m="User",C=class CodespacesPolicyFormElement extends HTMLElement{connectedCallback(){this.unsavedChangesWarning=this.getAttribute("data-unsaved-changes-warning"),this.policyOwnerType=this.getAttribute("data-owner-type")||"Organization";let t=JSON.parse(this.machineTypeConstraintElement.getAttribute("data-value"));this.machineTypeConstraint={...t,allowable_values:t.allowable_values.map(t=>({...t,displayText:t.display_name}))};let e=JSON.parse(this.portPrivacyConstraintElement.getAttribute("data-value"));this.portPrivacyConstraint={...e,allowable_values:e.allowable_values.map(t=>({...t,displayText:t.display_name}))};let o=this.constraintList.getAttribute("data-existing-policy");null!==o&&(this.policyData={...JSON.parse(o),policyConstraints:this.parseExistingConstraints(this.constraintList.getAttribute("data-existing-policy-constraints")),policyTargetType:this.fetchPolicyTargetType()},this.initializeVariables(),this.updateChangePolicyTargetButtons())}handlePolicyNameChange(t){let e=t.currentTarget;this.policyData={...this.policyData,name:e.value.trim()},this.updateSaveButton()}async addConstraint(t){window.onbeforeunload=()=>this.unsavedChangesWarning;let e=JSON.parse(t.currentTarget.getAttribute("data-constraint-button-info"));null!==e&&(this.addConstraintToPolicyFormData(e),this.updateConstraintDropdown(),d(this.addConstraintInfo),this.showConstraintListRow(e.name),this.handleDisplayedDefaultsForPolicyConstraint(e),this.updateSaveButton(),this.updateChangePolicyTargetButtons(),this.updateHostSetupOverrideNote(),this.updateNetworkConfigurationOverrideNote())}async updateConstraintDropdown(){let t=this.addConstraintDropdownUrl.getAttribute("data-value"),e=new URLSearchParams({current_policy_constraints:JSON.stringify(this.policyData.policyConstraints.map(t=>t.name)),all_repos_target:JSON.stringify(this.policyData.policyTargetType===y),all_repos_host_setup_policy_exists:JSON.stringify("true"===this.allReposHostSetupPolicyExists.getAttribute("data-value")),all_repos_network_configuration_policy_exists:JSON.stringify("true"===this.allReposNetworkConfigurationPolicyExists.getAttribute("data-value"))}),o=await fetch(`${t}?${e}`);if(o.ok){let t=(0,n.B)(document,await o.text());this.addConstraintDropdownList.replaceWith(t)}else h(this.genericError)}updateSaveButton(){this.policyData.policyConstraints.length>0&&this.policyData.name?this.saveButton.disabled=!1:this.saveButton.disabled=!0}initializeVariables(){this.hostSetupRepoIdsList=JSON.parse(this.hostSetupRepoIds.getAttribute("data-value")),this.networkConfigurationRepoIdsList=JSON.parse(this.networkConfigurationRepoIds.getAttribute("data-value")),this.allReposHostSetupPolicyExistsValue="true"===this.allReposHostSetupPolicyExists.getAttribute("data-value"),this.allReposNetworkConfigurationPolicyExistsValue="true"===this.allReposNetworkConfigurationPolicyExists.getAttribute("data-value")}getTargetCheckboxes(){if("Business"!==this.policyOwnerType)return document.querySelectorAll('input[name="enable[]"][data-form-field-name="codespaces-policy-group-target-ids"]');{let t=new Set;return Array.from(document.querySelectorAll('input[name="organization_ids[]"]:checked, input[name="enable[]"][data-form-field-name="codespaces-policy-group-target-ids"]')).filter(e=>!t.has(e.value)&&(t.add(e.value),!0))}}updateChangePolicyTargetButtons(){this.shouldDisableSelectedTargets()?(d(this.targetSelectorSelected),h(this.targetSelectorDisabledSelected)):(d(this.targetSelectorDisabledSelected),h(this.targetSelectorSelected)),this.hasDisabledAllRepositoriesPolicyTarget()?(d(this.targetSelectorAll),h(this.targetSelectorDisabledAll)):(d(this.targetSelectorDisabledAll),h(this.targetSelectorAll))}shouldDisableSelectedTargets(){return this.policyData.policyConstraints.some(t=>t.global_target_only)}hasDisabledAllRepositoriesPolicyTarget(){return this.policyData.policyConstraints.some(t=>[c,p].includes(t.name))&&(this.allReposHostSetupPolicyExistsValue||this.allReposNetworkConfigurationPolicyExistsValue)}addConstraintToPolicyFormData(t){this.policyData={...this.policyData,policyConstraints:this.policyData.policyConstraints.concat({...t,allowed_values:t.allowable_values?.map(t=>t.name),maximum_value:t.maximum_allowable_value})}}handleDisplayedDefaultsForPolicyConstraint(t){switch(t.name){case r:this.showAllAllowedValuesTextFor(r),this.checkAllAllowableValues(r);break;case s:this.showAllAllowedValuesTextFor(s),this.checkAllAllowableValues(s)}}handleDisplayingAllowedValuesTextForConstraint(t,e){let o=null,i=null,n=null;switch(t){case r:o=this.selectedAllowedValuesTextForMachineTypes,i=this.noSelectedAllowedValuesTextForMachineTypes,n=this.machineTypeConstraint;break;case s:o=this.selectedAllowedValuesTextForPortPrivacySettings,i=this.noSelectedAllowedValuesTextForPortPrivacySettings,n=this.portPrivacyConstraint;break;default:return}if(0===e.length){h(i),d(o);return}e.length>0&&(o.textContent=n?.allowable_values?.filter(t=>e.includes(t.name)).map(t=>t.displayText).join(", ")||"",h(o),d(i))}showAllAllowedValuesTextFor(t){let e=null,o=null,i=null;switch(t){case r:e=this.selectedAllowedValuesTextForMachineTypes,o=this.noSelectedAllowedValuesTextForMachineTypes,i=this.machineTypeConstraint;break;case s:e=this.selectedAllowedValuesTextForPortPrivacySettings,o=this.noSelectedAllowedValuesTextForPortPrivacySettings,i=this.portPrivacyConstraint;break;default:return}e.textContent=i?.allowable_values?.map(t=>t.displayText).join(", ")||"",h(e),d(o)}checkAllAllowableValues(t){let e;switch(t){case r:e=this.constraintAllowableValueCheckboxesForMachineTypes;break;case s:e=this.constraintAllowableValueCheckboxesForPortPrivacySettings;break;default:e=[]}for(let t of e)t.checked=!0}selectAllowableValueForConstraint(t){let e=t.currentTarget,o=e.getAttribute("data-constraint-name"),i=e?.value,n=this.findConstraintIndexInPolicyData(o);if(!(-1!==n))return;let a=this.policyData.policyConstraints[n],r=a.allowed_values?.find(t=>t===i),s=a.allowed_values||[],l=r?s.filter(t=>t!==i):s.concat(i);this.updatePolicyDataConstraintAtIndex(n,{...a,allowed_values:l}),this.handleDisplayingAllowedValuesTextForConstraint(o,l)}selectNetworkConfigForConstraint(t){let e=t.currentTarget,o=e.getAttribute("data-config-id"),i=e.getAttribute("data-config-name"),n=e.getAttribute("data-constraint-name"),a=this.findConstraintIndexInPolicyData(n),r=this.policyData.policyConstraints[a];this.updatePolicyDataConstraintAtIndex(a,{...r,params:{id:o,name:i}}),this.handleDisplayingUpdatedNetworkConfigSelection(o,i)}handleDisplayingUpdatedNetworkConfigSelection(t,e){let o=!1;for(let e of this.networkConfigurationMenu.querySelectorAll(".network-config-menu-item"))e.getAttribute("data-config-id")===t&&(o=!0);o?(this.selectedNetworkConfigurationText.textContent=e,d(this.noSelectedNetworkConfigurationText),h(this.selectedNetworkConfigurationText)):(d(this.selectedNetworkConfigurationText),h(this.noSelectedNetworkConfigurationText))}updatePolicyDataConstraintAtIndex(t,e){window.onbeforeunload=()=>this.unsavedChangesWarning,this.policyData={...this.policyData,policyConstraints:[...this.policyData.policyConstraints.slice(0,t),e,...this.policyData.policyConstraints.slice(t+1)]}}saveMaximumValueConstraintChange(t){let{value:e,constraintName:o}=t.detail,i=this.findConstraintIndexInPolicyData(o);if(!(-1!==i))return;let n=this.policyData.policyConstraints[i],a=parseInt(e);this.updatePolicyDataConstraintAtIndex(i,{...n,maximum_value:a})}saveAllowedValuesConstraintChange(t){let{values:e,constraintName:o}=t.detail,i=this.findConstraintIndexInPolicyData(o);if(!(-1!==i))return;let n=this.policyData.policyConstraints[i];this.updatePolicyDataConstraintAtIndex(i,{...n,allowed_values:e})}saveHostSetupConstraintChange(t){let{hostSetup:e,constraintName:o}=t.detail,i=this.findConstraintIndexInPolicyData(o);if(!(-1!==i))return;let n=this.policyData.policyConstraints[i];this.updatePolicyDataConstraintAtIndex(i,{...n,params:e})}findConstraintIndexInPolicyData(t){return this.policyData.policyConstraints.findIndex(e=>e.name===t)}async removeConstraint(t){window.onbeforeunload=()=>this.unsavedChangesWarning;let e=t.currentTarget.getAttribute("data-removed-constraint-name");if(null===e)return;let o=this.policyData.policyConstraints.findIndex(t=>t.name===e);this.policyData={...this.policyData,policyConstraints:[...this.policyData.policyConstraints.slice(0,o),...this.policyData.policyConstraints.slice(o+1)]},this.hideConstraintListRow(e),this.updateConstraintDropdown(),0===this.policyData.policyConstraints.length&&h(this.addConstraintInfo),this.updateSaveButton(),this.updateChangePolicyTargetButtons(),this.updateHostSetupOverrideNote(),this.updateNetworkConfigurationOverrideNote()}hideConstraintListRow(t){for(let e of this.activeConstraintsListRows)e.getAttribute("data-added-constraint-name")===t&&d(e)}showConstraintListRow(t){for(let e of this.activeConstraintsListRows)e.getAttribute("data-added-constraint-name")===t&&h(e)}selectOrganizations(){window.onbeforeunload=()=>this.unsavedChangesWarning;let t=this.getTargetCheckboxes();this.selectedTargetsCountTextElement.textContent=`${t.length.toString()} selected`,h(this.selectedTargetsCountTextElement)}selectRepositories(){window.onbeforeunload=()=>this.unsavedChangesWarning;let t=this.getTargetCheckboxes();for(let e of(this.selectedRepoList=[],t))this.selectedRepoList.push(parseInt(e.value));this.selectedTargetsCountTextElement.textContent=`${t.length.toString()} selected`,h(this.selectedTargetsCountTextElement),this.updateHostSetupOverrideNote(),this.updateNetworkConfigurationOverrideNote()}updateHostSetupOverrideNote(){if(void 0===this.selectReposHostSetupWarning)return;let t=this.policyData.policyTargetType!==y,e=this.policyData.policyConstraints.some(t=>t.name===c);this.allReposHostSetupPolicyExistsValue&&t&&e?h(this.selectReposHostSetupWarning):d(this.selectReposHostSetupWarning)}updateNetworkConfigurationOverrideNote(){if(void 0===this.selectReposNetworkConfigurationWarning)return;let t="true"===this.allReposNetworkConfigurationPolicyExists.getAttribute("data-value"),e=this.policyData.policyTargetType!==y,o=this.policyData.policyConstraints.some(t=>t.name===p);t&&e&&o?h(this.selectReposNetworkConfigurationWarning):d(this.selectReposNetworkConfigurationWarning)}updateRepositoriesTargetType(t){window.onbeforeunload=()=>this.unsavedChangesWarning;let e=this.policyData.policyTargetType,o=t.currentTarget?.getAttribute("value");if(e!==o&&(this.policyData={...this.policyData,policyTargetType:o},this.updateConstraintDropdown(),this.updateHostSetupOverrideNote(),this.updateNetworkConfigurationOverrideNote()),"Organization"===this.policyOwnerType)switch(o){case y:d(this.dynamicRepositorySelectionEl),d(this.selectedRepositoriesDescriptionEl),h(this.allRepositoriesDescriptionEl);break;case g:d(this.allRepositoriesDescriptionEl),h(this.dynamicRepositorySelectionEl),h(this.selectedRepositoriesDescriptionEl)}else if("Business"===this.policyOwnerType)switch(o){case f:d(this.dynamicRepositorySelectionEl),d(this.selectedRepositoriesDescriptionEl),h(this.allRepositoriesDescriptionEl);break;case m:d(this.allRepositoriesDescriptionEl),h(this.dynamicRepositorySelectionEl),h(this.selectedRepositoriesDescriptionEl)}}fetchPolicyTargetType(){switch(this.targetSelector.querySelector('[data-selector="policy-selection"]')?.textContent?.trim()){case"All repositories":default:return y;case"Selected repositories":return g;case"All organizations":return f;case"Selected organizations":return m}}updateHostSetupMultiplePerRepoNotErrorVisbility(){this.saveErrorElement.textContent===u&&(d(this.saveErrorElement),this.saveErrorElement.textContent="")}updateNetworkConfigurationMultiplePerRepoNotErrorVisbility(){"Network configurations can only applied once per repository."===this.saveErrorElement.textContent&&(d(this.saveErrorElement),this.saveErrorElement.textContent="")}validatePolicyForHostSetup(){if(this.updateHostSetupMultiplePerRepoNotErrorVisbility(),this.policyData&&this.policyData.policyConstraints){for(let t of this.policyData.policyConstraints)if(t.name===c&&t.params&&this.selectedRepoList.some(t=>this.hostSetupRepoIdsList.includes(t)))return this.saveErrorElement.textContent=u,d(this.spinnerElement),h(this.saveErrorElement),!1}return!0}async savePolicy(t){if(window.onbeforeunload=null,this.policyData.policyTargetType===g&&!this.validatePolicyForHostSetup())return;h(this.spinnerElement);let e=t.currentTarget,o=e.getAttribute("data-csrf")||"",i=e.getAttribute("data-submit-url")||"",n=e.getAttribute("data-redirect-url")||"",a="post",r=this.buildFormData(o);this.policyData.id&&(a="put");try{let t=await fetch(i,{method:a,body:r,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(200===t.status){window.location.href=n;return}let e=await t.json();e.error&&e.error.length>0&&(this.saveErrorElement.textContent=e.error),d(this.spinnerElement),h(this.saveErrorElement)}catch(t){d(this.spinnerElement),h(this.saveErrorElement)}}buildFormData(t){let e=new FormData;e.set("authenticity_token",t),e.append("policy_group[name]",this.policyData.name);let o=this.getTargetCheckboxes();if("Organization"===this.policyOwnerType)for(let t of(e.append("policy_group[all_repositories]",JSON.stringify(this.policyData.policyTargetType===y)),o))e.append("policy_group[repository_ids][]",t.value);else if("Business"===this.policyOwnerType)for(let t of(e.append("policy_group[all_organizations]",JSON.stringify(this.policyData.policyTargetType===f)),o))e.append("policy_group[organization_ids][]",t.value);for(let t of this.policyData.policyConstraints){if(e.append("policy_group[constraints][][name]",t.name),t.allowed_values)for(let o of t.allowed_values)e.append("policy_group[constraints][][value][]",o);if(t.maximum_value){let o=t.maximum_value;t.name===l&&(o*=1440),e.append("policy_group[constraints][][value]",o.toString())}if(t.name===c&&t.params){let o=t.params,i={repo:o.repo?.toString(),branch:o.branch?.toString(),path:o.path?.toString()};e.append("policy_group[constraints][][value]",JSON.stringify(i))}if(t.name===p&&t.params){let o=t.params,i={id:o.id?.toString(),name:o.name?.toString()};e.append("policy_group[constraints][][value]",JSON.stringify(i))}}return e}constructor(...t){super(...t),this.constraint="",this.addedConstraintName="",this.constraintButtonName="",this.constraintButtonInfo="",this.existingPolicy="",this.existingPolicyConstraints="",this.removedConstraintName="",this.selector="",this.policyData={name:"",policyTargetType:y,policyConstraints:[]},this.policyOwnerType="Organization",this.machineTypeConstraint={name:r},this.portPrivacyConstraint={name:s},this.isolatedConstraintsList=[],this.disabledSelectedRepositoryConstraintsList=[],this.hostSetupRepoIdsList=[],this.networkConfigurationRepoIdsList=[],this.selectedRepoList=[],this.parseExistingConstraints=t=>{let e=JSON.parse(t);return e?e.map(t=>(t.name===l&&t.maximum_value&&(t.maximum_value=t.maximum_value/24/60),t)):[]}}};a([i.aC],C.prototype,"constraintList",void 0),a([i.aC],C.prototype,"addConstraintInfo",void 0),a([i.aC],C.prototype,"addConstraintDropdownList",void 0),a([i.aC],C.prototype,"saveButton",void 0),a([i.aC],C.prototype,"saveErrorElement",void 0),a([i.aC],C.prototype,"spinnerElement",void 0),a([i.aC],C.prototype,"selectReposHostSetupWarning",void 0),a([i.aC],C.prototype,"selectReposNetworkConfigurationWarning",void 0),a([i.zV],C.prototype,"activeConstraintsListRows",void 0),a([i.aC],C.prototype,"machineTypeConstraintElement",void 0),a([i.aC],C.prototype,"noSelectedAllowedValuesTextForMachineTypes",void 0),a([i.aC],C.prototype,"selectedAllowedValuesTextForMachineTypes",void 0),a([i.zV],C.prototype,"constraintAllowableValueCheckboxesForMachineTypes",void 0),a([i.aC],C.prototype,"portPrivacyConstraintElement",void 0),a([i.aC],C.prototype,"noSelectedAllowedValuesTextForPortPrivacySettings",void 0),a([i.aC],C.prototype,"selectedAllowedValuesTextForPortPrivacySettings",void 0),a([i.zV],C.prototype,"constraintAllowableValueCheckboxesForPortPrivacySettings",void 0),a([i.aC],C.prototype,"selectedTargetsCountTextElement",void 0),a([i.aC],C.prototype,"targetSelector",void 0),a([i.aC],C.prototype,"dynamicRepositorySelectionEl",void 0),a([i.aC],C.prototype,"allRepositoriesDescriptionEl",void 0),a([i.aC],C.prototype,"selectedRepositoriesDescriptionEl",void 0),a([i.aC],C.prototype,"hostSetupRepoIds",void 0),a([i.aC],C.prototype,"targetSelectorAll",void 0),a([i.aC],C.prototype,"targetSelectorSelected",void 0),a([i.aC],C.prototype,"targetSelectorDisabledAll",void 0),a([i.aC],C.prototype,"targetSelectorDisabledSelected",void 0),a([i.aC],C.prototype,"networkConfigurationRepoIds",void 0),a([i.aC],C.prototype,"policyURLNetworkConfigurationAllRepos",void 0),a([i.aC],C.prototype,"noSelectedNetworkConfigurationText",void 0),a([i.aC],C.prototype,"selectedNetworkConfigurationText",void 0),a([i.aC],C.prototype,"networkConfigurationMenu",void 0),a([i.aC],C.prototype,"addConstraintDropdownUrl",void 0),a([i.aC],C.prototype,"genericError",void 0),a([i.aC],C.prototype,"allReposHostSetupPolicyExists",void 0),a([i.aC],C.prototype,"allReposNetworkConfigurationPolicyExists",void 0),a([i.CF],C.prototype,"constraint",void 0),a([i.CF],C.prototype,"addedConstraintName",void 0),a([i.CF],C.prototype,"constraintButtonName",void 0),a([i.CF],C.prototype,"constraintButtonInfo",void 0),a([i.CF],C.prototype,"existingPolicy",void 0),a([i.CF],C.prototype,"existingPolicyConstraints",void 0),a([i.CF],C.prototype,"removedConstraintName",void 0),a([i.CF],C.prototype,"selector",void 0),C=a([i.p_],C)},40440:(t,e,o)=>{function i(t){let e=document.querySelectorAll(t);if(e.length>0)return e[e.length-1]}function n(){return`${window.location.protocol}//${window.location.host}${function(){let t=i("meta[name=analytics-location]");return t?t.content:window.location.pathname}()+function(){let t=i("meta[name=analytics-location-query-strip]"),e="";t||(e=window.location.search);let o=i("meta[name=analytics-location-params]");for(let t of(o&&(e+=(e?"&":"?")+o.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let o=t.content.split(":",2);e=e.replace(RegExp(`(^|[?&])${o[0]}($|=)`,"g"),`$1${o[1]}$2`)}return e}()}`}o.d(e,{M:()=>n})},27756:(t,e,o)=>{let i;function n(){if(!i)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return i}function a(){return i?.locale??"en-US"}o.d(e,{JK:()=>a,_$:()=>n}),function(){if("undefined"!=typeof document){let t=document.getElementById("client-env");if(t)try{i=JSON.parse(t.textContent||"")}catch(t){console.error("Error parsing client-env",t)}}}()},5728:(t,e,o)=>{o.d(e,{G:()=>n,K:()=>a});var i=o(97156);let n=i.XC?.readyState==="interactive"||i.XC?.readyState==="complete"?Promise.resolve():new Promise(t=>{i.XC?.addEventListener("DOMContentLoaded",()=>{t()})}),a=i.XC?.readyState==="complete"?Promise.resolve():new Promise(t=>{i.cg?.addEventListener("load",t)})},40588:(t,e,o)=>{o.d(e,{N7:()=>f});var i=o(36301),n=o(54098),a=o(24212),r=o(40440),s=o(14740),l=o(97156),c=o(97564),p=o(54861);let u=!1,d=0,h=Date.now(),y=new Set(["Failed to fetch","NetworkError when attempting to fetch resource."]);function g(t){return!!("AbortError"===t.name||"TypeError"===t.name&&y.has(t.message)||t.name.startsWith("ApiError")&&y.has(t.message))}function f(t,e={}){if((0,c.G7)("FAILBOT_HANDLE_NON_ERRORS")){if(!(t instanceof Error||"object"==typeof t&&null!==t&&"name"in t&&"string"==typeof t.name&&"message"in t&&"string"==typeof t.message)){if(function(t){if(!t||"boolean"==typeof t||"number"==typeof t)return!0;if("string"==typeof t){if(b.some(e=>t.includes(e)))return!0}else if("object"==typeof t&&"string"==typeof t.message&&"number"==typeof t.code)return!0;return!1}(t))return;let o=Error(),i=function(t){try{return JSON.stringify(t)}catch{return"Unserializable"}}(t);m(v({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof t}, with value ${i}`,stacktrace:w(o),catalogService:void 0},e));return}g(t)||m(v(C(t),e))}else g(t)||m(v(C(t),e))}async function m(t){if(!(!T&&!u&&d<10&&(0,n.TT)()))return;let e=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(e){if(t.error.stacktrace.some(t=>S.test(t.filename)||S.test(t.function))){u=!0;return}d++;try{await fetch(e,{method:"post",body:JSON.stringify(t)})}catch{}}}function C(t){return{type:t.name,value:t.message,stacktrace:w(t),catalogService:t.catalogService}}function v(t,e={}){return Object.assign({error:t,sanitizedUrl:(0,r.M)()||window.location.href,readyState:document.readyState,referrer:(0,p.dR)(),timeSinceLoad:Math.round(Date.now()-h),user:function(){let t=document.head?.querySelector('meta[name="user-login"]')?.content;if(t)return t;let e=(0,i.y)();return`anonymous-${e}`}()||void 0,bundler:s.v,ui:!!document.querySelector('meta[name="ui"]')},e)}function w(t){return(0,a.q)(t.stack||"").map(t=>({filename:t.file||"",function:String(t.methodName),lineno:(t.lineNumber||0).toString(),colno:(t.column||0).toString()}))}let S=/(chrome|moz|safari)-extension:\/\//,T=!1;l.cg?.addEventListener("pageshow",()=>T=!1),l.cg?.addEventListener("pagehide",()=>T=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",t=>{f(t.data.error)});let b=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"]},97564:(t,e,o)=>{o.d(e,{G7:()=>l,XY:()=>c,fQ:()=>s});var i=o(5225),n=o(27756);function a(){return new Set((0,n._$)().featureFlags.map(t=>t.toLowerCase()))}let r=o(97156).X3?a:(0,i.A)(a);function s(){return Array.from(r())}function l(t){return r().has(t.toLowerCase())}let c={isFeatureEnabled:l}},51848:(t,e,o)=>{let i;o.d(e,{BI:()=>h,Ti:()=>y,lA:()=>d});var n=o(70837),a=o(97524),r=o(74572),s=o(51528);let{getItem:l}=(0,r.A)("localStorage"),c="dimension_",p=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let t=(0,n.O)("octolytics");delete t.baseContext,i=new a.s(t)}catch(t){}function u(t){let e=(0,n.O)("octolytics").baseContext||{};if(e)for(let[t,o]of(delete e.app_id,delete e.event_url,delete e.host,Object.entries(e)))t.startsWith(c)&&(e[t.replace(c,"")]=o,delete e[t]);let o=document.querySelector("meta[name=visitor-payload]");for(let[t,i]of(o&&Object.assign(e,JSON.parse(atob(o.content))),new URLSearchParams(window.location.search)))p.includes(t.toLowerCase())&&(e[t]=i);return e.staff=(0,s.X)().toString(),Object.assign(e,t)}function d(t){i?.sendPageView(u(t))}function h(t,e={}){let o=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,n=o?{service:o}:{};for(let[t,o]of Object.entries(e))null!=o&&(n[t]=`${o}`);i&&(u(n),i.sendEvent(t||"unknown",u(n)))}function y(t){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,JSON.stringify(e)]))}},46650:(t,e,o)=>{o.d(e,{B:()=>s});var i=o(6440),n=o(2240);let a="parse-html-no-op",r=i.wA.createPolicy(a,{createHTML:t=>n.b.apply({policy:()=>t,policyName:a,fallback:t,sanitize:!1,fallbackOnError:!0})});function s(t,e){let o=t.createElement("template");return o.innerHTML=r.createHTML(e),t.importNode(o.content,!0)}},14740:(t,e,o)=>{o.d(e,{k:()=>r,v:()=>s});var i=o(5225),n=o(97156);let a=(0,i.A)(function(){return n.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),r=(0,i.A)(function(){return"enterprise"===a()}),s="webpack-react-next"},74572:(t,e,o)=>{o.d(e,{A:()=>r,D:()=>s});var i=o(97156),n=o(51528);let a=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function r(t,e={throwQuotaErrorsOnSet:!1},o=i.cg,r=t=>t,s=t=>t){let l;try{if(!o)throw Error();l=o[t]||new a}catch{l=new a}let{throwQuotaErrorsOnSet:c}=e;function p(t){e.sendCacheStats&&(0,n.i)({incrementKey:t})}function u(t){try{if(l.removeItem(t),e.ttl){let e=`${t}:expiry`;l.removeItem(e)}}catch(t){}}return{getItem:function(t,e=new Date().getTime()){try{let o=l.getItem(t);if(!o)return null;let i=`${t}:expiry`,n=Number(l.getItem(i));if(n&&e>n)return u(t),u(i),p("SAFE_STORAGE_VALUE_EXPIRED"),null;return p("SAFE_STORAGE_VALUE_WITHIN_TTL"),r(o)}catch(t){return null}},setItem:function(t,o,i=new Date().getTime()){try{if(l.setItem(t,s(o)),e.ttl){let o=`${t}:expiry`,n=i+e.ttl;l.setItem(o,n.toString())}}catch(t){if(c&&t instanceof Error&&t.message.toLowerCase().includes("quota"))throw t}},removeItem:u,clear:l.clear,key:l.key,get length(){return l.length}}}function s(t){return r(t,{throwQuotaErrorsOnSet:!1},i.cg,JSON.parse,JSON.stringify)}},69653:(t,e,o)=>{o.d(e,{Ai:()=>a,Gq:()=>i,SO:()=>n});let{getItem:i,setItem:n,removeItem:a}=(0,o(74572).A)("sessionStorage")},54861:(t,e,o)=>{o.d(e,{BW:()=>n,Ff:()=>h,HK:()=>v,JA:()=>E,LM:()=>y,Pv:()=>T,Vy:()=>d,ZW:()=>S,dR:()=>w,di:()=>g,fX:()=>b,k9:()=>C,my:()=>m,r7:()=>_,wG:()=>f,xT:()=>u});var i=o(69653);let n="reload",a="soft-nav:fail",r="soft-nav:fail-referrer",s="soft-nav:referrer",l="soft-nav:marker",c="soft-nav:react-app-name",p="soft-nav:latest-mechanism";function u(){(0,i.SO)(l,"0"),(0,i.Ai)(s),(0,i.Ai)(a),(0,i.Ai)(r),(0,i.Ai)(c),(0,i.Ai)(p)}function d(t){(0,i.SO)(l,t)}function h(){(0,i.SO)(l,"0")}function y(){let t=(0,i.Gq)(l);return t&&"0"!==t}function g(){return(0,i.Gq)(l)}function f(){return!!m()}function m(){return(0,i.Gq)(a)}function C(t){(0,i.SO)(a,t||n),(0,i.SO)(r,window.location.href)}function v(){(0,i.SO)(s,window.location.href)}function w(){return(0,i.Gq)(s)||document.referrer}function S(){let t=b();t?(0,i.SO)(c,t):(0,i.Ai)(c)}function T(){return(0,i.Gq)(c)}function b(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}function E(t){(0,i.SO)(p,t)}function _(){return(0,i.Gq)(p)}},97156:(t,e,o)=>{o.d(e,{KJ:()=>i.KJ,Kn:()=>n.Kn,X3:()=>i.X3,XC:()=>n.XC,cg:()=>n.cg,fV:()=>n.fV,g5:()=>i.g5});var i=o(15572),n=o(86733)},86733:(t,e,o)=>{o.d(e,{Kn:()=>a,XC:()=>i,cg:()=>n,fV:()=>r});let i="undefined"==typeof document?void 0:document,n="undefined"==typeof window?void 0:window,a="undefined"==typeof history?void 0:history,r="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:"",href:""}:location},15572:(t,e,o)=>{o.d(e,{KJ:()=>a,X3:()=>n,g5:()=>r});var i=o(86733);let n=void 0===i.XC,a=!n;function r(){return!!n||!!i.XC.querySelector('react-app[data-ssr="true"]')}},51528:(t,e,o)=>{o.d(e,{X:()=>h,i:()=>c});var i=o(97156),n=o(5728),a=o(14740),r=o(97564),s=o(70170);let l=[];function c(t,e=!1,o=.5){if(!0!==(0,r.G7)("BROWSER_STATS_DISABLED")){if(o<0||o>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===t.timestamp&&(t.timestamp=new Date().getTime()),t.loggedIn=!!i.XC?.head?.querySelector('meta[name="user-login"]')?.content,t.staff=h(),t.bundler=a.v,Math.random()<o&&l.push(t),e?d():u()}}let p=null,u=(0,s.n)(async function(){await n.K,null==p&&(p=window.requestIdleCallback(d))},5e3);function d(){if(p=null,!l.length)return;let t=i.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(t){for(let e of function(t){let e=[],o=t.map(t=>JSON.stringify(t));for(;o.length>0;)e.push(function(t){let e=t.shift(),o=[e],i=e.length;for(;t.length>0&&i<=65536;){let e=t[0].length;if(i+e<=65536){let n=t.shift();o.push(n),i+=e}else break}return o}(o));return e}(l))!function(t,e){try{navigator.sendBeacon&&navigator.sendBeacon(t,e)}catch{}}(t,`{"stats": [${e.join(",")}] }`);l=[]}}function h(){return!!i.XC?.head?.querySelector('meta[name="user-staff"]')?.content}i.XC?.addEventListener("pagehide",d),i.XC?.addEventListener("visibilitychange",d)},2240:(t,e,o)=>{o.d(e,{b:()=>c,r:()=>TrustedTypesPolicyError});var i=o(97564),n=o(51528),a=o(40588),r=o(42838),s=o.n(r),l=o(51848);let TrustedTypesPolicyError=class TrustedTypesPolicyError extends Error{};let c={apply:function({policy:t,policyName:e,fallback:o,fallbackOnError:r=!1,sanitize:c,silenceErrorReporting:p=!1}){try{if((0,i.G7)("BYPASS_TRUSTED_TYPES_POLICY_RULES"))return o;(0,n.i)({incrementKey:"TRUSTED_TYPES_POLICY_CALLED",trustedTypesPolicyName:e},!1,.1);let a=t();return c&&new Promise(t=>{let o=window.performance.now(),i=s().sanitize(a,{FORBID_ATTR:[]}),n=window.performance.now();if(a.length!==i.length){let r=Error("Trusted Types policy output sanitized"),s=r.stack?.slice(0,1e3),c=a.slice(0,250);(0,l.BI)("trusted_types_policy.sanitize",{policyName:e,output:c,stack:s,outputLength:a.length,sanitizedLength:i.length,executionTime:n-o}),t(a)}}),a}catch(t){if(t instanceof TrustedTypesPolicyError||(p||(0,a.N7)(t),(0,n.i)({incrementKey:"TRUSTED_TYPES_POLICY_ERROR",trustedTypesPolicyName:e}),!r))throw t}return o}}},6440:(t,e,o)=>{o.d(e,{wA:()=>p});var i,n=o(97156),a=o(51528);function r(t){return()=>{throw TypeError(`The policy does not implement the function ${t}`)}}let s={createHTML:r("createHTML"),createScript:r("createScript"),createScriptURL:r("createScriptURL")},l=(i=globalThis).__TRUSTED_TYPE_POLICIES__??(i.__TRUSTED_TYPE_POLICIES__=new Map),c=globalThis.trustedTypes??{createPolicy:(t,e)=>({name:t,...s,...e})},p={createPolicy:(t,e)=>{if(l.has(t))return(0,a.i)({incrementKey:"TRUSTED_TYPES_POLICY_INITIALIZED_TWICE"}),l.get(t);{let o=Object.freeze(c.createPolicy(t,e));return l.set(t,o),o}}},u=!1;n.XC?.addEventListener("securitypolicyviolation",t=>{"require-trusted-types-for"!==t.violatedDirective||u||(console.warn(`Hi fellow Hubber!
    You're probably seeing a Report Only Trusted Types error near this message. This is intended behaviour, staff-only,
    does not impact application control flow, and is used solely for statistic collection. Unfortunately we
    can't gather these statistics without adding the above warnings to your console. Sorry about that!
    Feel free to drop by #prodsec-engineering if you have any additional questions about Trusted Types or CSP.`),u=!0)})}}]);
//# sourceMappingURL=app_components_organizations_settings_codespaces-policy-form-element_ts-2be13ea97cc4.js.map