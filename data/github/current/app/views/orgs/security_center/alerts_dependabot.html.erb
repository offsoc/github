<% page_info(title: "Security · Dependabot Alerts · #{organization.display_login}") %>

<%= render(
  SecurityCenter::PageComponent.new(
    backfill_in_progress: backfill_in_progress,
    organization:,
    selected_tab: :dependabot_alerts,
    user: current_user
  )
) do |page_component| %>
  <% page_component.with_header_section do %>
    <%= render(SecurityCenter::SubheadComponent.new(
      actor: current_user,
      scope: organization,
      heading: "Dependabot alerts"
    )) { |c| c.with_feedback_link } %>
  <% end %>

  <% page_component.with_main_section do %>
    <%= render(DependabotAlerts::RulesPromoBannerComponent.new(organization:)) %>

    <%= render DependabotAlerts::TableComponent.new(
      query:,
      query_string:,
      show_alert_number: false,
      alerts_page_path:,
      filter_suggestions_path:,
      menu_content_path:,
      teams_filter_menu_data:,
      show_incomplete_data_warning:,
      organization:
    ) %>
  <% end %>
<% end %>
