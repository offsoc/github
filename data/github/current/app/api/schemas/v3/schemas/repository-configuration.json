{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "id": "https://schema.github.com/v3/repository-configuration.json",
  "title": "Repository configuration",
  "description": "A way to store/retrieve secrets for an App.",
  "type": "object",
  "definitions": {
    "key_identifier": {
      "description": "A key identifier used to validate signing the value.",
      "example": "5678",
      "type": "string"
    },
    "value": {
      "description": "The encrypted text of the secret",
      "example": "RUvpacplms420zEoamVLTcfF",
      "type": "string",
      "pattern": "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
    },
    "repository_id": {
      "description": "The ID of the repository.",
      "example": 42,
      "type": "integer"
    },
    "app_id": {
      "description": "The ID of the GitHub App.",
      "type": "integer"
    },
    "key": {
      "description": "The public SSH key to add to your GitHub account.",
      "type": "string",
      "pattern": "^ssh-(rsa|dss|ed25519) |^ecdsa-sha2-nistp(256|384|521) "
    }
  },
  "links": [
    {
      "title": "Sets a config key/value for a GitHub App.",
      "href": "/repositories/{repository_id}/config/{app_id}/{key}",
      "method": "PUT",
      "rel": "set-for-app",
      "schema": {
        "properties": {
          "key_identifier": {
            "$ref": "#/definitions/key_identifier"
          },
          "value": {
            "$ref": "#/definitions/value"
          }
        },
        "required": [
          "key_identifier",
          "value"
        ],
        "type": "object"
      }
    }
  ]
}
