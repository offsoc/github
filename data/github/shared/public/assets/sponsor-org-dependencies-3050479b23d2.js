"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["sponsor-org-dependencies"],{92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new s),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let s=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>i,QJ:()=>a,w8:()=>n});var s=r(96540);function n(e){return((0,s.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function i(e){let t=(0,s.useRef)(e.__wrapperElement.anchor||null),[r,n]=(0,s.useState)(!1),i=(0,s.useCallback)(()=>{n(!r)},[r,n]);return(0,s.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),a(e,i),{ref:t,open:r,setOpen:n}}function a(e,t){let r=(0,s.useRef)(e.__wrapperElement.anchor);(0,s.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>c});let s=new(r(92536)).R;var n=r(74848),i=r(39595),a=r(24508),o=r(23235);let l=class ReactPartialElement extends a.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,s.getRegistration(t)),i=this.closest("react-partial-anchor");return(0,n.jsx)(o.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:i})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function c(e,t){s.register(e,t)}l=function(e,t,r,s){var n,i=arguments.length,a=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}([i.p_],l)},23581:(e,t,r)=>{r.d(t,{A:()=>o});let{getItem:s,setItem:n,removeItem:i}=(0,r(74572).A)("localStorage"),a="REACT_PROFILING_ENABLED",o={enable:()=>n(a,"true"),disable:()=>i(a),isEnabled:()=>!!s(a)}},11706:(e,t,r)=>{var s,n=r(72245),i=r(74848),a=r(96540),o=r(92240),l=r(69909),c=r(44981),d=r(59857),h=r(59572),p=r(95677),u=r(54392),m=r(56221),g=r(55847),x=r(84300),f=r(75177),b=r(86519),y=r(38553),j=r(28784);!function(e){e.SUCCESS="success",e.ERROR="critical"}(s||(s={}));let _=({orgName:e,setBanner:t,viewerPrimaryEmail:r})=>{let[s,n]=(0,a.useState)(!1),[c,h]=(0,a.useState)(!1),p=(0,a.useRef)(null),u=async()=>{h(!0);try{let r=await (0,j.lS)(`/orgs/${e}/sponsoring/sponsorships_dependencies_exports`,{method:"POST",body:{}});if(!r.ok){h(!1),n(!1),t({variant:"critical",message:"There was a problem exporting your dependencies.",isVisible:!0});return}let s=await r.json();h(!1),n(!1),t({variant:"success",message:s.msg,isVisible:!0});return}catch(e){h(!1),n(!1),t({variant:"critical",message:"There was a problem exporting your dependencies.",isVisible:!0});return}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Q,{ref:p,leadingVisual:d.MoveToBottomIcon,onClick:()=>{n(!0)},...(0,o.G)("dependencies-export-button"),children:"Export as CSV"}),(0,i.jsx)(x.A,{returnFocusRef:p,title:"Export dependencies",isOpen:s,onDismiss:()=>{n(!1)},children:(0,i.jsxs)("div",{children:[(0,i.jsx)(x.A.Header,{id:"header",children:"Export dependencies"}),(0,i.jsxs)(f.A,{sx:{p:3},children:[(0,i.jsxs)("span",{children:["We'll start the export process and email you at"," ",(0,i.jsx)(l.A,{sx:{fontWeight:"bold"},children:r})," with the export attached when it's done. Update your"," ",(0,i.jsx)(b.A,{inline:!0,href:"/settings/emails",children:"contact email settings"})," ","to change where the file is sent."]}),(0,i.jsx)(g.Q,{sx:{mt:2},block:!0,variant:"primary",onClick:u,...(0,o.G)("dependencies-start-export-button"),children:c?(0,i.jsx)(y.A,{size:"small"}):"Start export"})]})]})})]})};try{_.displayName||(_.displayName="ExportDependencies")}catch{}var v=r(22868),R=r(33520);let A=({isOpen:e,setIsOpen:t,dependencyCount:r,orgName:s,sponsorableName:n})=>{let[c,d]=(0,a.useState)([]),[h,p]=(0,a.useState)(1),u=(0,a.useRef)(null),m=(0,a.useCallback)(async()=>{let e=`/sponsors/${n}/represented-dependencies?account=${s}&page=${h}&format=json`,t=await (0,j.DI)(e,{method:"GET"});t?.ok&&d(await t.json())},[h,s,n]);return(0,a.useEffect)(()=>{e&&m()},[e,m]),(0,i.jsx)(x.A,{title:"Repository List",onDismiss:()=>{t(!1)},isOpen:e,...(0,o.G)("dialog-box"),returnFocusRef:u,sx:{overflowY:"auto"},children:(0,i.jsxs)("div",{children:[(0,i.jsx)(x.A.Header,{id:"header",children:"Repository List"}),(0,i.jsxs)(f.A,{sx:{fontSize:1},children:[(0,i.jsxs)(f.A,{sx:{padding:3,borderBottom:"1px solid",borderColor:"border.subtle"},children:[(0,i.jsx)(l.A,{sx:{fontWeight:"bold"},children:s}),(0,i.jsxs)("span",{children:["\xa0depends on ",r," repositories"]}),(0,i.jsxs)(l.A,{sx:{fontWeight:"bold"},children:["\xa0",n]}),(0,i.jsx)("span",{children:"\xa0owns or maintains"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(f.A,{sx:{display:"flex",justifyContent:"space-between",paddingTop:1,paddingBottom:1,paddingLeft:3,paddingRight:3},children:(0,i.jsx)(l.A,{sx:{fontSize:0,fontWeight:"bold",color:"fg.subtle"},children:"Repository Name"})}),(0,i.jsxs)("div",{children:[c.map((e,t)=>(0,i.jsx)(f.A,{sx:{display:"flex",justifyContent:"space-between",borderTop:"1px solid",borderColor:"border.subtle",padding:3},children:(0,i.jsx)("span",{children:(0,i.jsx)(b.A,{href:`https://github.com/${e.fullRepoName}`,children:e.name})})},t)),c.length>8&&(0,i.jsx)(f.A,{sx:{borderTop:"1px solid",borderColor:"border.subtle"},children:(0,i.jsx)(R.A,{pageCount:Math.ceil(r/8),currentPage:h,onPageChange:(e,t)=>{p(t),e.preventDefault()},showPages:{narrow:!1}})})]})]})]})]})})};try{A.displayName||(A.displayName="DependenciesDialogBox")}catch{}let S={id:"sponsorableName",header:"Maintainer",field:"sponsorableName",renderCell:e=>(0,i.jsx)(b.A,{href:`/sponsors/${e.sponsorableName}`,children:(0,i.jsxs)(f.A,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(v.r,{src:e.sponsorableAvatarUrl,square:e.sponsorableIsOrg,size:26}),(0,i.jsx)(l.A,{sx:{ml:2,fontSize:"1.2em"},children:`${e.sponsorableName}`})]})})},E=(e,t,r,s,n)=>({id:"sponsorableDependencies",header:"Your dependencies they maintain or own",field:"dependenciesArray",renderCell:a=>(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:a?.dependenciesArray[0]?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{sx:{color:"fg.muted"},children:a.dependenciesArray[0].name}),a?.dependenciesArray[1]&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.A,{sx:{color:"fg.muted"},children:`, ${a.dependenciesArray[1].name}`})})]}):null}),a.dependencyCount>2&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.A,{onClick:()=>t(a.sponsorableName),style:{cursor:"pointer"},...(0,o.G)("show-more-link"),children:(0,i.jsx)("span",{className:"ml-1",children:a.dependencyCount>2?`+${a.dependencyCount-2} more`:""})}),(0,i.jsx)(A,{isOpen:s[a.sponsorableName]||!1,setIsOpen:()=>r(a.sponsorableName),dependencyCount:a.dependencyCount,orgName:e,sponsorableName:n})]})]})}),w={id:"recentActivity",header:"Recent activity",field:"recentActivity",renderCell:e=>e.recentActivity&&(0,i.jsx)(l.A,{sx:{color:"fg.muted"},...(0,o.G)("recent-activity"),children:e.recentActivity})},C=e=>({id:"sponsor",header:()=>(0,i.jsx)("span",{className:"sr-only",children:"Actions"}),width:"auto",renderCell:t=>{let r=`/sponsors/${t.sponsorableName}?sponsor=${e}`;return(0,i.jsx)(g.Q,{as:"a",size:"small",href:r,leadingVisual:t.viewerIsSponsor?d.HeartFillIcon:d.HeartIcon,"aria-label":t.viewerIsSponsor?"Sponsoring":"Sponsor",sx:{".octicon-heart, .octicon-heart-fill":{color:"sponsors.fg"},":hover .octicon-heart, :hover .octicon-heart-fill":{transform:"scale(1.1)"},width:"100%"},...(0,o.G)("sponsor-button")})}});function N({sponsorableDependencies:e,pageSize:t=10,orgName:r,viewerPrimaryEmail:n}){let[g,x]=(0,a.useState)(0),[f,b]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),[R,A]=(0,a.useState)({}),[N,k]=(0,a.useState)(e.length),[D,T]=(0,a.useState)(e.slice(0,t)),[I,O]=(0,a.useState)([]),[P,$]=(0,a.useState)({variant:void 0,message:"",isVisible:!1}),[G,H]=(0,a.useState)(!1),[B,L]=(0,a.useState)(!1),V=e=>{v(e),A(t=>({...t,[e]:!0}))},z=e=>{A(t=>({...t,[e]:!1}))},F=()=>{L(!0),H(!1),b(""),k(e.length),x(0),L(!1)},M=async t=>{if(L(!0),H(!0),x(0),!t){k(e.length),O([]),H(!1),L(!1);return}let n=`/orgs/${r}/dependencies/search?search_term=${t}`,i=await (0,j.lS)(n,{method:"GET"});if(!i.ok)return $({variant:s.ERROR,message:"An error occurred while searching for your dependencies.",isVisible:!0}),k(e.length),L(!1);{let e=await i.json();k(e.length),O(e),L(!1);return}},W=(0,a.useCallback)(async()=>{let r=g*t,s=r+t,n=e.slice(r,s);return G&&!B&&(0===I.length&&(n=[]),I.length&&(n=I.slice(r,s))),T(n)},[g,t,B,I,G,e]);(0,a.useEffect)(()=>{W()},[W,g]);let q=(0,a.useMemo)(()=>[S,E(r,V,z,R,y),w,C(r)],[R,r,y]);return(0,i.jsxs)("div",{children:[P?.isVisible&&(0,i.jsx)(u.l,{variant:P.variant,title:P.variant===s.SUCCESS?"Success":"Error",description:P.message,onDismiss:()=>$(e=>({...e,isVisible:!1})),...(0,o.G)("dependencies-flash-banner")}),(0,i.jsxs)("div",{className:"border-bottom color-border-muted mb-3",children:[(0,i.jsx)(l.A,{as:"h2",id:"dependencies-heading",sx:{mt:0,mb:2,py:2},children:"Dependencies"}),(0,i.jsx)("p",{className:"f5 color-fg-muted mb-4",children:"We only show dependencies that have an active sponsors profile. We use files in your repositories like package-lock.json and requirements.txt to find your dependencies. We check their maintainer status by seeing if they\u2019re listed in a repository\u2019s funding file."})]}),0===e.length?(0,i.jsx)("div",{...(0,o.G)("your-sponsorships-empty-state"),children:(0,i.jsxs)(h.A,{children:[(0,i.jsx)(h.A.Visual,{children:(0,i.jsx)(d.HeartIcon,{size:"medium"})}),(0,i.jsx)(h.A.Heading,{children:"Your dependencies will appear here"}),(0,i.jsx)(h.A.Description,{children:`Looks like you don't have any dependencies that can be sponsored right now. You can find open source
              maintainers to sponsor on our explore page.`}),(0,i.jsx)(h.A.PrimaryAction,{href:"/search?q=is%3Asponsorable&type=Users",children:"Explore maintainers"})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"d-flex flex-nowrap mb-3",children:[(0,i.jsx)(c.A,{className:"flex-1 mr-2",placeholder:"Search maintainers, dependencies",value:f,onChange:e=>{b(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&M(f)},trailingAction:(0,i.jsxs)(i.Fragment,{children:[f&&G?(0,i.jsx)(c.A.Action,{onClick:()=>{F()},icon:d.XCircleFillIcon,"aria-label":"Clear search",sx:{mr:0,color:"fg.subtle"},...(0,o.G)("clear-search-button")}):null,(0,i.jsx)(c.A.Action,{onClick:()=>{M(f)},icon:d.SearchIcon,"aria-label":"Search",sx:{color:"fg.subtle"},...(0,o.G)("search-button")})]})}),(0,i.jsx)(_,{orgName:r,viewerPrimaryEmail:n,setBanner:$})]}),G&&0===D.length?(0,i.jsxs)(h.A,{children:[(0,i.jsx)(h.A.Heading,{children:"No results"}),(0,i.jsx)(h.A.Description,{children:"Try searching for something else"})]}):(0,i.jsxs)(p.X.Container,{children:[B?(0,i.jsx)(p.X.Skeleton,{"aria-labelledby":"Loading dependencies table",columns:q,rows:t,...(0,o.G)("table-loading")}):(0,i.jsx)(m.b,{data:D,columns:q}),e.length>t&&(0,i.jsx)(p.X.Pagination,{defaultPageIndex:g,pageSize:t,"aria-label":"Table pagination",totalCount:N,onChange:e=>{x(e.pageIndex)}},g+Math.random())]})]})]})}try{N.displayName||(N.displayName="SponsorOrgDependencies")}catch{}(0,n.k)("sponsor-org-dependencies",{Component:N})},92240:(e,t,r)=>{r.d(t,{G:()=>s});let s=e=>({"data-testid":e})},28784:(e,t,r)=>{function s(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:r})}function n(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},n=t?.body?JSON.stringify(t.body):void 0;return s(e,{...t,body:n,headers:r})}function i(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return s(e,{...t,headers:r})}function a(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return n(e,{...t,headers:r})}r.d(t,{DI:()=>s,QJ:()=>i,Sr:()=>a,lS:()=>n})},22868:(e,t,r)=>{r.d(t,{r:()=>o});var s=r(74848),n=r(97156),i=r(78209),a=r(96540);let o=(0,a.forwardRef)(function({src:e,size:t=20,...r},o){let l=(0,a.useMemo)(()=>{let r=new URL(e,n.fV.origin);return r.searchParams.has("size")||r.searchParams.has("s")||r.searchParams.set("size",String(2*Number(t))),r.toString()},[e,t]);return(0,s.jsx)(i.A,{ref:o,src:l,size:t,"data-testid":"github-avatar",...r})});try{o.displayName||(o.displayName="GitHubAvatar")}catch{}},23235:(e,t,r)=>{r.d(t,{c:()=>m});var s=r(74848),n=r(96540),i=r(36165),a=r(45588),o=r(49107),l=r(47767),c=r(59840);function d({children:e,history:t}){let[r,i]=(0,n.useState)({location:t.location});return(0,c.m)(()=>t.listen(i),[t]),(0,s.jsx)(l.Ix,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var h=r(17857),p=r(51261),u=r(75014);function m({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:c,anchorElement:m}){let g=n.useRef(),x=globalThis.window;g.current||(g.current=x?(0,p.z)({window:x}):(0,a.sC)({initialEntries:[{pathname:"/"}]}));let f=g.current,b=(0,u.w8)(m);return(0,s.jsx)(i.U,{appName:e,wasServerRendered:l,children:(0,s.jsx)(o.Q,{history:f,routes:[],children:(0,s.jsxs)(d,{history:f,children:[(0,s.jsx)(r,{...t.props,...b}),(0,s.jsx)(h.h,{ssrError:c})]})})})}try{m.displayName||(m.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var s=r(74848),n=r(39595),i=r(5338),a=r(96540),o=r(23581),l=r(79461),c=r(51528);function d(e,t,r,s){var n,i=arguments.length,a=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}let h=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:i.H,hydrateRoot:i.c};o.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,n=await this.getReactNode(t),l=(0,s.jsx)(a.StrictMode,{children:n});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,l,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=h.exec(e.message),r=String(t?.groups?.invariant);(0,c.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87335,19))}logSSRError(e){if(l.z[e])return console.error("SSR failed with an expected error:",l.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:s,lineno:n,colno:i}=e,a=`${t} at ${r} (${s}:${n}:${i})`;return t=" ",a}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([n.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([n.aC],ReactBaseElement.prototype,"ssrError",void 0),d([n.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{h.displayName||(h.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js","vendors-node_modules_primer_react_lib-esm_DataTable_DataTable_js","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-bb8e60","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(11706)),e.O()}]);
//# sourceMappingURL=sponsor-org-dependencies-95d3f2597f73.js.map