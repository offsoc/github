"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_tasklist-block-operations_operations_ts"],{77914:(e,t,n)=>{n.d(t,{appendItem:()=>c,removeItem:()=>s,removeTasklistBlock:()=>u,transformToHTML:()=>g,updateItemPosition:()=>o,updateItemState:()=>d,updateItemTitle:()=>p,updateTasklistTitle:()=>h});var i=n(30509),l=n(30746),r=n(532),a=n(94958);function c(e,t,n){return m(e,i=>{let l=f(i)[t];l&&(l.value=y(l.value,e=>{e.children.push({type:"listItem",checked:!1,children:k(n)})}),e=v(e,l))}),e}function s(e,t){return m(e,n=>{let i=f(n)[t[0]];i&&(i.value=y(i.value,e=>{e.children.splice(t[1],1)}),e=v(e,i))}),e}function u(e,t){return m(e,n=>{let i=f(n)[t];if(!i)return;let l=n.children.indexOf(i);n.children.splice(l,1),e=function(e,t){let n=e.slice(0,t.position.start.offset),i=e.slice(t.position.end.offset);return[n.trimEnd(),i.trimStart()].filter(Boolean).join("\n\n")}(e,i)}),e}function o(e,t,n){return m(e,i=>{let l;let r=f(i)[t[0]],a=f(i)[n[0]];r&&a&&(r.value=y(r.value,e=>{l=e.children[t[1]],e.children.splice(t[1],1)}),a.value=y(a.value,e=>{l&&e.children.splice(n[1],0,l)}),r===a?e=v(e,r):t[0]<n[0]?(e=v(e,a),e=v(e,r)):(e=v(e,r),e=v(e,a)))}),e}function d(e,t,n){return m(e,i=>{let l=f(i)[t[0]];l&&(l.value=y(l.value,e=>{let i=e.children[t[1]];i&&(i.checked=n)}),e=v(e,l))}),e}function p(e,t,n){return m(e,i=>{let l=f(i)[t[0]];l&&(l.value=y(l.value,e=>{let i=e.children[t[1]];i&&(i.children=k(n))}),e=v(e,l))}),e}function h(e,t,n){return m(e,i=>{let l=n.trim(),r=f(i)[t];r&&(r.value=y(r.value,(e,t,n)=>{if(!l){let e=t.children.findIndex(e=>"heading"===e.type);e>-1&&t.children.splice(e,1);return}n||(n={type:"heading",depth:3,children:[]},t.children.unshift(n)),n.children=[{type:"raw",value:l}]}),e=v(e,r))}),e}function f(e){return e.children.filter(e=>"code"===e.type&&"[tasklist]"===e.lang)}function v(e,t){let n=e.slice(0,t.position.start.offset),i=e.slice(t.position.end.offset);return`${n}\`\`\`[tasklist]
${t.value}
\`\`\`${i}`}function m(e,t){return(0,r.V)().use(a.A).use(()=>t).data("settings",{bullet:"-",listItemIndent:"one",join:[(e,t)=>{if("heading"===e.type&&"list"===t.type)return 0}],handlers:{raw:e=>e.value}}).processSync(e).toString()}function y(e,t){return m(e,n=>{let i=n.children.find(e=>"list"===e.type),l=n.children.find(e=>"heading"===e.type);for(let t of(i||(i={type:"list",children:[]},n.children.push(i)),i.children))for(let n of t.children)"paragraph"===n.type&&(n.children=n.children.map(t=>({type:"raw",value:e.slice(t.position.start.offset,t.position.end.offset)})));t(i,n,l)}).replace(/\n+$/,"")}function k(e){return[{type:"paragraph",children:[{type:"raw",value:e.trim()}]}]}function g(e){return(0,i.y)(e,{extensions:[(0,l.T)()],htmlExtensions:[(0,l.I)()]}).replace(/^<p>|<\/p>$/g,"")}}}]);
//# sourceMappingURL=ui_packages_tasklist-block-operations_operations_ts-8e24c684b1e3.js.map