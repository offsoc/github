"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["sponsors-newsletters"],{92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new s),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let s=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>o,QJ:()=>i,w8:()=>n});var s=r(96540);function n(e){return((0,s.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function o(e){let t=(0,s.useRef)(e.__wrapperElement.anchor||null),[r,n]=(0,s.useState)(!1),o=(0,s.useCallback)(()=>{n(!r)},[r,n]);return(0,s.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),i(e,o),{ref:t,open:r,setOpen:n}}function i(e,t){let r=(0,s.useRef)(e.__wrapperElement.anchor);(0,s.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>c});let s=new(r(92536)).R;var n=r(74848),o=r(39595),i=r(24508),a=r(23235);let l=class ReactPartialElement extends i.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,s.getRegistration(t)),o=this.closest("react-partial-anchor");return(0,n.jsx)(a.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:o})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function c(e,t){s.register(e,t)}l=function(e,t,r,s){var n,o=arguments.length,i=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(o<3?n(i):o>3?n(t,r,i):n(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}([o.p_],l)},23581:(e,t,r)=>{r.d(t,{A:()=>a});let{getItem:s,setItem:n,removeItem:o}=(0,r(74572).A)("localStorage"),i="REACT_PROFILING_ENABLED",a={enable:()=>n(i,"true"),disable:()=>o(i),isEnabled:()=>!!s(i)}},10942:(e,t,r)=>{var s,n=r(72245),o=r(74848),i=r(96540),a=r(92240),l=r(59857),c=r(55847),d=r(66889),u=r(67269);function m({tiers:e}){let t=(0,i.useMemo)(()=>["published","custom"],[]),r="retired",s="recurring",n="one_time",m=(0,i.useCallback)(e=>e.map(e=>e.subscriptionCount).reduce((e,t)=>e+t,0),[]),p=(0,i.useMemo)(()=>Object.values(e),[e]),h=(0,i.useMemo)(()=>p.filter(e=>e.frequency===n),[p]),_=(0,i.useMemo)(()=>p.filter(e=>e.frequency===s),[p]),f=(0,i.useCallback)(e=>`(${e} ${1===e?"sponsor":"sponsors"})`,[]),g=(0,i.useCallback)(e=>{let t="retired"===e.state?"[retired] ":"";return`${t}${e.name} ${f(e.subscriptionCount)}`},[f]),y=(0,i.useMemo)(()=>{let e=m(p);return{key:"all",text:`All sponsors ${f(e)}`,showDivider:!1}},[p,m,f]),[R,b]=(0,i.useState)([y]),[v,E]=(0,i.useState)(p),[S,w]=(0,i.useState)(!1),[x,C]=(0,i.useState)(""),k=(0,i.useMemo)(()=>({leadingVisual:l.CircleSlashIcon,text:"No matches",disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"}),[]),j=(0,i.useMemo)(()=>{let e=m(_);return{key:"recurring",text:`Recurring sponsors ${f(e)}`,showDivider:!1}},[m,f,_]),A=(0,i.useMemo)(()=>{let e=m(h);return{key:"one-time",text:`One-time sponsors ${f(e)}`,showDivider:!1}},[m,f,h]),N=(0,i.useMemo)(()=>e=>p.filter(e).sort((e,t)=>e.monthlyPriceInCents>t.monthlyPriceInCents?1:-1).map((e,t)=>({key:e.id,text:g(e),showDivider:0===t})),[p,g]),T=(0,i.useMemo)(()=>N(e=>t.includes(e.state)&&e.frequency===s),[t,N]),D=(0,i.useMemo)(()=>N(e=>t.includes(e.state)&&e.frequency===n),[t,N]),M=(0,i.useMemo)(()=>N(e=>e.state===r&&e.frequency===s),[N]),$=(0,i.useMemo)(()=>N(e=>e.state===r&&e.frequency===n),[N]),O=(0,i.useMemo)(()=>[y,j,A],[y,A,j]),P=(0,i.useMemo)(()=>O.map(e=>e.key),[O]),I=(0,i.useMemo)(()=>{if(1!==R.length)return!1;let e=R[0]?.key?.toString();return!!e&&P.includes(e)},[P,R]),L=(0,i.useMemo)(()=>[...O,...T,...D,...M,...$],[O,T,D,M,$]),B=(0,i.useMemo)(()=>{if(!x)return L;let e=x?L.filter(e=>(e.text||"").toLowerCase().includes(x.toLocaleLowerCase())):L;return 0===e.length?[k]:e},[x,L,k]);return(0,o.jsxs)(d.A,{children:[(0,o.jsx)(d.A.Label,{children:"Send email to"}),(0,o.jsx)(u.X,{title:"Select recipients",items:B,open:S,onOpenChange:e=>w(e),onFilterChange:C,selected:R,onSelectedChange:t=>{if(0===t.length){b([y]),E(p);return}if(t.length>R.length){let e=t.find(e=>!R.includes(e))?.key?.toString();if(e&&P.includes(e))switch(e){case y.key:b([y]),E(p);return;case j.key:b([j]),E(_);return;case A.key:b([A]),E(h);return}}let r=t.filter(e=>e.key&&!P.includes(e.key.toString()));E(r.map(t=>t.key&&e[t.key])),b(r)},renderAnchor:e=>{let t="";if(I)t=R[0]?.text||"Select recipients";else{let e=m(v);t=`${v.map(e=>e.name).join("; ")} ${f(e)}`}return(0,o.jsx)(c.Q,{trailingAction:l.TriangleDownIcon,...e,children:t})},overlayProps:{width:"medium"},showItemDividers:!0}),v.map(e=>(0,o.jsx)("input",{type:"hidden",name:"newsletter[tier_ids][]",value:e.id,...(0,a.G)("newsletter-tier-input")},e.id))]})}try{m.displayName||(m.displayName="SponsorsNewsletters")}catch{}try{(s=ACTIVE_STATES).displayName||(s.displayName="ACTIVE_STATES")}catch{}(0,n.k)("sponsors-newsletters",{Component:m})},92240:(e,t,r)=>{r.d(t,{G:()=>s});let s=e=>({"data-testid":e})},23235:(e,t,r)=>{r.d(t,{c:()=>h});var s=r(74848),n=r(96540),o=r(36165),i=r(45588),a=r(49107),l=r(47767),c=r(59840);function d({children:e,history:t}){let[r,o]=(0,n.useState)({location:t.location});return(0,c.m)(()=>t.listen(o),[t]),(0,s.jsx)(l.Ix,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var u=r(17857),m=r(51261),p=r(75014);function h({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:c,anchorElement:h}){let _=n.useRef(),f=globalThis.window;_.current||(_.current=f?(0,m.z)({window:f}):(0,i.sC)({initialEntries:[{pathname:"/"}]}));let g=_.current,y=(0,p.w8)(h);return(0,s.jsx)(o.U,{appName:e,wasServerRendered:l,children:(0,s.jsx)(a.Q,{history:g,routes:[],children:(0,s.jsxs)(d,{history:g,children:[(0,s.jsx)(r,{...t.props,...y}),(0,s.jsx)(u.h,{ssrError:c})]})})})}try{h.displayName||(h.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var s=r(74848),n=r(39595),o=r(5338),i=r(96540),a=r(23581),l=r(79461),c=r(51528);function d(e,t,r,s){var n,o=arguments.length,i=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(o<3?n(i):o>3?n(t,r,i):n(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}let u=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:o.H,hydrateRoot:o.c};a.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,n=await this.getReactNode(t),l=(0,s.jsx)(i.StrictMode,{children:n});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,l,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=u.exec(e.message),r=String(t?.groups?.invariant);(0,c.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87335,19))}logSSRError(e){if(l.z[e])return console.error("SSR failed with an expected error:",l.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:s,lineno:n,colno:o}=e,i=`${t} at ${r} (${s}:${n}:${o})`;return t=" ",i}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([n.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([n.aC],ReactBaseElement.prototype,"ssrError",void 0),d([n.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{u.displayName||(u.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionList_js","vendors-node_modules_primer_react_lib-esm_FeatureFlags_FeatureFlags_js-node_modules_primer_re-7138f0","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(10942)),e.O()}]);
//# sourceMappingURL=sponsors-newsletters-deec968eeed0.js.map