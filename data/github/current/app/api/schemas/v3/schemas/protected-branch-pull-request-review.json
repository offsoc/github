{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "https://schema.github.com/v3/protected-branch-pull-request-review.json",
  "title": "Protected Branch Pull Request Review",
  "type": "object",
  "definitions": {
    "url": {
      "type": "string",
      "format": "uri",
      "example": "https://api.github.com/repos/octocat/Hello-World/branches/master/protection/dismissal_restrictions"
    },
    "dismiss_stale_reviews": {
      "type": "boolean",
      "example": true
    },
    "require_code_owner_reviews": {
      "type": "boolean",
      "example": true
    },
    "required_approving_review_count": {
      "type": "integer",
      "minimum": 0,
      "maximum": 6,
      "example": 2
    },
    "dismissal_restrictions": {
      "type": "object",
      "properties": {
        "users": {
          "description": "The list of users with review dismissal access.",
          "type": "array",
          "items": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "https://schema.github.com/v3/simple-user.json#"
              }
            ]
          }
        },
        "teams": {
          "description": "The list of teams with review dismissal access.",
          "type": "array",
          "items": {
            "$ref": "https://schema.github.com/v3/team.json#"
          }
        }
      }
    },
    "bypass_pull_request_allowances": {
      "type": "object",
      "properties": {
        "users": {
          "description": "The list of users allowed to bypass pull request requirements.",
          "type": "array",
          "items": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "https://schema.github.com/v3/simple-user.json#"
              }
            ]
          }
        },
        "teams": {
          "description": "The list of teams allowed to bypass pull request requirements.",
          "type": "array",
          "items": {
            "$ref": "https://schema.github.com/v3/team.json#"
          }
        },
        "apps": {
          "description": "The list of apps allowed to bypass pull request requirements.",
          "type": "array",
          "items": {
            "$ref": "https://schema.github.com/v3/integration.json#"
          }
        }
      }
    }
  },
  "properties": {
    "url": {
      "$ref": "#/definitions/url"
    },
    "dismiss_stale_reviews": {
      "$ref": "#/definitions/dismiss_stale_reviews"
    },
    "require_code_owner_reviews": {
      "$ref": "#/definitions/require_code_owner_reviews"
    },
    "required_approving_review_count": {
      "$ref": "#/definitions/required_approving_review_count"
    },
    "dismissal_restrictions": {
      "$ref": "#/definitions/dismissal_restrictions"
    },
    "bypass_pull_request_allowances": {
      "$ref": "#/definitions/bypass_pull_request_allowances"
    }
  },
  "additionalProperties": false,
  "required": [
    "dismiss_stale_reviews",
    "require_code_owner_reviews"
  ]
}
