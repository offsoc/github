
<%= render(Primer::Alpha::ActionMenu.new(menu_id: "role-filter-menu", select_variant: :single,  data: { "filter-on": "role" })) do |c| %>
  <% c.with_show_button(
    scheme: :invisible
  ) do |trigger| %>
    <% trigger.with_trailing_action_icon(icon: :"triangle-down") %>
    Role
  <% end %>
  <% c.with_item(
    active: params[:query].blank?,
    classes: "js-member-search-filter",
    data: { filter: "" },
    tag: :a,
  ) do |item| %>
    All
  <% end %>
  <% c.with_item(
    active: params[:query] == 'role:read',
    classes: "js-member-search-filter",
    data: { filter: "role:read" },
    tag: :a,
  ) do |item| %>
    Read
  <% end %>
  <% c.with_item(
    active: params[:query] == 'role:triage',
    classes: "js-member-search-filter",
    data: { filter: "role:triage" },
    tag: :a,
  ) do |item| %>
    Triage
  <% end %>
  <% c.with_item(
    active: params[:query] == 'role:write',
    classes: "js-member-search-filter",
    data: { filter: "role:write" },
    tag: :a,
  ) do |item| %>
    Write
  <% end %>
  <% c.with_item(
    active: params[:query] == 'role:maintain',
    classes: "js-member-search-filter",
    data: { filter: "role:maintain" },
    role: "menuitemradio",
    tag: :a,
  ) do |item| %>
    Maintain
  <% end %>
  <% c.with_item(
    active: params[:query] == 'role:admin',
    classes: "js-member-search-filter",
    data: { filter: "role:admin" },
    tag: :a,
  ) do |item| %>
    Admin
  <% end %>
  <% if view.show_custom_roles? %>
    <% view.org_custom_roles.each do |role| %>
      <% c.with_item(
        active: params[:query] == "role:#{role.name}",
        classes: "js-member-search-filter",
        data: { filter: "role:'#{role.name}'" },
        tag: :a,
      ) do |item| %>
        <%= role.name %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
