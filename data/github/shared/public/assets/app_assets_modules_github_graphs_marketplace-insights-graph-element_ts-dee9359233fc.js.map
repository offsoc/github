{"version":3,"file":"chunk-app_assets_modules_github_graphs_marketplace-insights-graph-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/d3-array/src/ascending.js","node_modules/d3-array/src/bisector.js","node_modules/d3-array/src/extent.js","node_modules/d3-array/src/min.js","app/assets/modules/github/d3/format-symbol.ts","app/assets/modules/github/d3/tip.ts","app/assets/modules/github/graphs/marketplace-insights-graph-element.ts","node_modules/d3-array/src/quickselect.js","app/assets/modules/github/graphs/traffic.ts","node_modules/d3-scale/src/utcTime.js","node_modules/d3-array/src/median.js","node_modules/d3-array/src/quantile.js","node_modules/d3-array/src/number.js","app/assets/modules/github/locale.ts","node_modules/d3-selection/src/pointer.js","node_modules/d3-selection/src/sourceEvent.js"],"sourcesContent":["export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import {getUserLanguage} from '../locale'\n\nexport default function formatSymbol(number: number): string {\n  const formatter = Intl.NumberFormat(getUserLanguage(), {\n    maximumFractionDigits: 2,\n    maximumSignificantDigits: 4,\n    notation: 'compact',\n  })\n\n  return formatter.format(number)\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n// d3.tip\n// Copyright (c) 2013 Justin Palmer\n//\n// Tooltips for d3.js SVG visualizations\n\nimport {select, selection} from 'd3-selection'\nimport type {Selection} from 'd3-selection'\n\nfunction getSVGNode(el: Selection): SVGSVGElement {\n  const node = el.node()\n  if (node.tagName.toLowerCase() === 'svg') {\n    return node\n  }\n\n  return node.ownerSVGElement\n}\n\ninterface BBox {\n  nw: SVGPoint\n  ne: SVGPoint\n  se: SVGPoint\n  sw: SVGPoint\n  n: SVGPoint\n  s: SVGPoint\n  e: SVGPoint\n  w: SVGPoint\n}\n\ntype DatumCallback<T> = (datum: T) => string\n\nexport interface Tip<T> {\n  (selection: Selection): void\n  attr(name: string, value: string | null | DatumCallback<T>): Tip<T>\n  offset(value: [number, number]): Tip<T>\n  html(value: DatumCallback<T>): Tip<T>\n  hide(): Tip<T>\n  show: (...items: unknown[]) => Tip<T>\n}\n\nexport default function d3Tip<T>(): Tip<T> {\n  const node = initNode()\n  let svg = null\n  let point = null\n\n  function offset() {\n    return [0, 0]\n  }\n  function html() {\n    return ' '\n  }\n\n  function tip(el: Selection) {\n    svg = getSVGNode(el)\n    point = svg.createSVGPoint()\n    document.body.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function (event, d) {\n    const content = html(d)\n    const poffset = offset(d)\n    const dir = 'n'\n    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n    const scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\n\n    node.innerHTML = content\n    node.style.opacity = '1'\n    node.style.pointerEvents = 'all'\n\n    const coords = directionN(point, node, event.target)\n    node.classList.toggle(dir, true)\n    node.style.top = `${coords.top + poffset[0] + scrollTop}px`\n    node.style.left = `${coords.left + poffset[1] + scrollLeft}px`\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function () {\n    node.style.opacity = '0'\n    node.style.pointerEvents = 'none'\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.  Sets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns the tip\n  tip.attr = function (name: string, value: string | null | DatumCallback<T>) {\n    selection.prototype.attr.apply(select(node), [name, value])\n    return tip\n  }\n\n  // Public: Sets the offset of the tip\n  //\n  // Returns the tip\n  tip.offset = function (value: [number, number]) {\n    offset = function () {\n      return value\n    }\n\n    return tip\n  }\n\n  // Public: sets the html value of the tooltip\n  //\n  // Returns the tip\n  tip.html = function (value: DatumCallback<T>) {\n    html = value\n    return tip\n  }\n\n  return tip\n}\n\nfunction directionN(point: SVGPoint, node: HTMLElement, target: Element): {top: number; left: number} {\n  const bbox = getScreenBBox(target, point)\n  return {\n    top: bbox.n.y - node.offsetHeight,\n    left: bbox.n.x - node.offsetWidth / 2,\n  }\n}\n\nfunction initNode(): HTMLElement {\n  const node = document.createElement('div')\n\n  node.style.position = 'absolute'\n  node.style.top = '0'\n  node.style.opacity = '0'\n  node.style.pointerEvents = 'none'\n  node.style.boxSizing = 'border-box'\n\n  return node\n}\n\n// Gets the screen coordinates of a shape.\n//\n// Given a shape on the screen, will return an SVGPoint for the directions\n// n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),\n// sw(southwest).\n//\n//    +-+-+\n//    |   |\n//    +   +\n//    |   |\n//    +-+-+\n//\n// Returns an Object {n, s, e, w, nw, sw, ne, se}\nfunction getScreenBBox(target: Element, point: SVGPoint): BBox {\n  let targetel = target\n  while ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {\n    targetel = targetel.parentNode\n  }\n  const bbox = {}\n  const matrix = targetel.getScreenCTM()\n  const tbbox = targetel.getBBox()\n  const width = tbbox.width\n  const height = tbbox.height\n  const x = tbbox.x\n  const y = tbbox.y\n\n  point.x = x\n  point.y = y\n  bbox.nw = point.matrixTransform(matrix)\n  point.x += width\n  bbox.ne = point.matrixTransform(matrix)\n  point.y += height\n  bbox.se = point.matrixTransform(matrix)\n  point.x -= width\n  bbox.sw = point.matrixTransform(matrix)\n  point.y -= height / 2\n  bbox.w = point.matrixTransform(matrix)\n  point.x += width\n  bbox.e = point.matrixTransform(matrix)\n  point.x -= width / 2\n  point.y -= height / 2\n  bbox.n = point.matrixTransform(matrix)\n  point.y += height\n  bbox.s = point.matrixTransform(matrix)\n\n  return bbox\n}\n","import {controller, target} from '@github/catalyst'\nimport type {GraphData} from './traffic'\nimport d3Tip from '../d3/tip'\nimport {fetchPoll} from '@github-ui/fetch-utils'\nimport {format} from 'd3-format'\nimport memoize from '@github/memoize'\nimport {renderTrafficGraph} from './traffic'\nimport {throttle} from '@github/mini-throttle'\nimport {utcFormat} from 'd3-time-format'\n\ninterface Data {\n  total: number\n  unique: number\n  date: Date\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype GraphNetworkData = any\n\nconst cachedData = memoize(fetchData)\nasync function fetchData(url: string): Promise<GraphNetworkData> {\n  const response = await fetchPoll(url, {headers: {accept: 'application/json'}})\n  return await response.json()\n}\n\n@controller\nclass MarketplaceInsightsGraphElement extends HTMLElement {\n  @target graph: HTMLElement\n  @target container: HTMLElement\n\n  throttledRender: () => void\n\n  async connectedCallback() {\n    const graph = this.graph\n    const url = graph.getAttribute('data-url')\n    if (!url) {\n      return\n    }\n\n    // Remove possibly existing cached graph.\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    for (const el of graph.querySelectorAll('svg.viz')) {\n      el.remove()\n    }\n\n    graph.classList.add('is-graph-loading')\n    graph.classList.remove('is-graph-load-error', 'is-graph-empty')\n\n    let data: GraphNetworkData\n\n    try {\n      data = await cachedData(url)\n      graph.classList.remove('is-graph-loading')\n      if (data != null && data.unusable) {\n        graph.classList.add('is-graph-without-usable-data')\n      } else if (\n        (data != null && data.length === 0) ||\n        (data != null && data.summary != null && data.summary.total === 0) ||\n        (data[0] != null && data[0].weeks != null && data[0].weeks.length === 0)\n      ) {\n        graph.classList.add('is-graph-empty')\n      } else {\n        render(this.container, data)\n      }\n    } catch (error) {\n      graph.classList.remove('is-graph-loading')\n      graph.classList.add('is-graph-load-error')\n      throw error\n    }\n\n    this.throttledRender = throttle(() => render(this.container, data), 100)\n    /* eslint-disable-next-line github/prefer-observers */\n    window.addEventListener('resize', this.throttledRender)\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener('resize', this.throttledRender)\n  }\n}\n\nfunction render(container: Element, data: GraphData) {\n  const longFormat = utcFormat('%A, %B %-d, %Y')\n  const numberFormat = format(',')\n  const tip = d3Tip<Data>()\n    .attr('class', 'svg-tip web-views comparison')\n    .offset([-10, 0])\n    .html(d => {\n      const totalWord = d.total === 1 ? 'view' : 'views'\n      const uniqueWord = d.unique === 1 ? 'unique visitor' : 'unique visitors'\n      // eslint-disable-next-line github/unescaped-html-literal\n      return `<span class='title'>${longFormat(\n        d.date,\n      )}</span> <ul class='web-views'> <li class='totals metric-0'><strong>${numberFormat(\n        d.total,\n      )}</strong> ${totalWord}</li> <li class='uniques metric-1'><strong>${numberFormat(\n        d.unique,\n      )}</strong> ${uniqueWord}</li> </ul>`\n    })\n  const dimensions = {\n    width: container.clientWidth,\n    height: container.clientHeight,\n    margin: {\n      top: 20,\n      right: 40,\n      bottom: 30,\n      left: 30,\n    },\n  }\n  renderTrafficGraph(container, data, tip, dimensions)\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import {ascending, bisector, max as d3max, extent, median} from 'd3-array'\nimport {axisBottom, axisLeft, axisRight} from 'd3-axis'\nimport {pointer, select} from 'd3-selection'\nimport {scaleLinear, scaleUtc} from 'd3-scale'\nimport type {Tip} from '../d3/tip'\nimport {line as d3line} from 'd3-shape'\nimport {format} from 'd3-format'\nimport formatSymbol from '../d3/format-symbol'\nimport {utcFormat} from 'd3-time-format'\n\ninterface Dimensions {\n  width: number\n  height: number\n  margin: {\n    top: number\n    right: number\n    bottom: number\n    left: number\n  }\n}\n\nexport interface GraphData {\n  error: string\n  summary: {\n    total: number\n    unique: number\n  }\n  counts: Array<{bucket: number; date: Date; total: number; unique: number}>\n}\n\nfunction numberFormat(value: number): string {\n  const fn = format(',')\n  return fn(value)\n}\n\nexport function renderTrafficGraph<T>(container: Element, data: GraphData, tip: Tip<T>, dimensions: Dimensions) {\n  const margin = dimensions.margin\n  const width = dimensions.width - margin.left - margin.right\n  const height = dimensions.height - margin.top - margin.bottom\n  if (!data || data.error != null) {\n    return\n  }\n  const x = scaleUtc().range([0, width])\n  let y = scaleLinear().range([height, 0])\n  const y2 = scaleLinear().range([height, 0])\n  const shortFormat = utcFormat('%m/%d')\n  const xAxis = axisBottom(x)\n    .ticks(data.counts.length)\n    .tickSize(height + 5)\n    .tickPadding(10)\n    // @ts-expect-error types should be validated here\n    .tickFormat(shortFormat)\n  // @ts-expect-error types should be validated here\n  let yAxis = axisLeft(y).ticks(3).tickFormat(formatSymbol)\n  const line = d3line()\n    // @ts-expect-error types should be validated here\n    .x(d => x(d.key))\n    // @ts-expect-error types should be validated here\n    .y(d => y(d.value))\n  const vis = select(container)\n    .select('.js-graph')\n    .append('svg')\n    .attr('viewBox', `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)\n    .attr('preserveAspectRatio', 'xMinYMin meet')\n    .attr('class', 'viz')\n    .attr('data-hpc', '')\n    .append('g')\n    .attr('transform', `translate(${margin.left},${margin.top})`)\n    .call(tip)\n  const counts = data.counts\n  for (const c of counts) {\n    c.date = new Date(c.bucket * 1000)\n  }\n  counts.sort((a, b) => ascending(a.date, b.date))\n  // @ts-expect-error types should be validated here\n  const bisectAtDate = bisector(d => d.date).left\n\n  // @ts-expect-error types should be validated here\n  function showFocusedValue(event) {\n    let elements\n    const x0 = x.invert(pointer(event)[0])\n    const idx = bisectAtDate(counts, x0, 1)\n    const d0 = counts[idx - 1]\n    const d1 = counts[idx]\n    if (d0 && d1) {\n      // @ts-expect-error types should be validated here\n      const d = x0 - d0.date > d1.date - x0 ? d1 : d0\n      // @ts-expect-error types should be validated here\n      elements = vis.selectAll('g.dots circle').filter(z => z.key === d.date)\n      elements = elements.nodes()\n      // @ts-expect-error types should be validated here\n      elements.sort((a, b) => Number(a.getAttribute('cy')) - Number(b.getAttribute('cy')))\n      return tip.show({target: elements[0]}, d)\n    }\n  }\n\n  const totals = counts.map(item => ({key: item.date, value: item.total}))\n  const uniques = counts.map(item => ({key: item.date, value: item.unique}))\n\n  const series = [totals, uniques]\n  const [startDay, endDay] = extent(counts, c => c.date.getTime())\n  const ref1 = extent(totals, t => t.value)\n  const vmax = ref1[1]\n  const umax = d3max(uniques, u => u.value)\n  // @ts-expect-error types should be validated here\n  const umax1 = umax + median(uniques, d => d.value)\n  // @ts-expect-error types should be validated here\n  x.domain([startDay, endDay])\n  // @ts-expect-error types should be validated here\n  y.domain([0, vmax])\n  y2.domain([0, umax1])\n  const totalCount = data.summary.total\n  const trafficTotalEl = container.querySelector('.js-traffic-total')\n  if (trafficTotalEl) trafficTotalEl.textContent = numberFormat(totalCount)\n  const uniqueCount = data.summary.unique\n  const trafficUniquesEl = container.querySelector('.js-traffic-uniques')\n  if (trafficUniquesEl) trafficUniquesEl.textContent = numberFormat(uniqueCount)\n  vis.append('g').attr('class', 'x axis').call(xAxis)\n  vis.append('g').attr('class', 'y axis views').call(yAxis)\n  vis\n    .selectAll('path.path')\n    .data(series)\n    .enter()\n    .append('path')\n    .attr('class', (d, i) => `path ${i === 0 ? 'total' : 'unique'}`)\n    // @ts-expect-error types should be validated here\n    .attr('d', (d, i) => (i === 0 ? line(d) : line.y(v => y2(v.value))(d)))\n  const dots = vis\n    .selectAll('g.dots')\n    .data(series)\n    .enter()\n    .append('g')\n    .attr('class', (d, i) => (i === 0 ? 'dots totals' : 'dots uniques'))\n  dots.each(function (d, i) {\n    /* eslint-disable-next-line @typescript-eslint/no-invalid-this */\n    const el = select(this)\n    if (i === 1) {\n      y = y2\n    }\n    return (\n      el\n        .selectAll('circle')\n        // @ts-expect-error types should be validated here\n        .data(z => z)\n        .enter()\n        .append('circle')\n        // @ts-expect-error types should be validated here\n        .attr('cx', z => x(z.key))\n        // @ts-expect-error types should be validated here\n        .attr('cy', z => y(z.value))\n        .attr('r', 4)\n    )\n  })\n  // @ts-expect-error types should be validated here\n  yAxis = axisRight(y2).ticks(3).tickFormat(formatSymbol)\n  vis.append('g').attr('class', 'y axis unique').attr('transform', `translate(${width}, 0)`).call(yAxis)\n  vis\n    .append('rect')\n    .attr('class', 'overlay')\n    .attr('width', width)\n    .attr('height', height)\n    .on('mousemove', showFocusedValue)\n    .on('mouseout', function () {\n      setTimeout(tip.hide, 500)\n    })\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\nexport const months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n]\n\nexport const getUserLanguage = (): string => {\n  try {\n    // @ts-expect-error - `getCanonicalLocales` not TS supported but has browser support\n    return Intl.getCanonicalLocales(window.navigator.language)[0]\n  } catch (e) {\n    return 'en-US'\n  }\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n"],"names":["a","b","NaN","f","delta","compare","left","x","lo","hi","length","mid","d","center","i","right","values","valueof","min","max","undefined","value","index","formatSymbol","number","formatter","NumberFormat","getUserLanguage","maximumFractionDigits","maximumSignificantDigits","notation","format","d3Tip","node","initNode","document","createElement","style","position","top","opacity","pointerEvents","boxSizing","point","offset","html","tip","el","svg","tagName","toLowerCase","ownerSVGElement","createSVGPoint","body","appendChild","show","event","content","poffset","scrollTop","documentElement","scrollLeft","innerHTML","coords","directionN","target","bbox","getScreenBBox","targetel","getScreenCTM","parentNode","matrix","tbbox","getBBox","width","height","y","nw","matrixTransform","ne","se","sw","w","e","n","s","offsetHeight","offsetWidth","classList","toggle","hide","attr","name","selection","prototype","apply","select","cachedData","memoize","fetchData","url","response","fetchPoll","headers","accept","json","MarketplaceInsightsGraphElement","HTMLElement","connectedCallback","data","graph","getAttribute","querySelectorAll","remove","add","unusable","summary","total","weeks","render","container","error","throttledRender","throttle","window","addEventListener","disconnectedCallback","removeEventListener","longFormat","utcFormat","numberFormat","totalWord","uniqueWord","unique","date","dimensions","clientWidth","clientHeight","margin","bottom","renderTrafficGraph","controller","swap","array","j","t","fn","scaleUtc","init","domain","Date","UTC","arguments","range","scaleLinear","y2","shortFormat","xAxis","axisBottom","ticks","counts","tickSize","tickPadding","tickFormat","yAxis","axisLeft","line","d3line","key","vis","append","call","c","bucket","sort","ascending","bisectAtDate","bisector","totals","map","item","uniques","series","startDay","endDay","extent","getTime","vmax","ref1","umax1","umax","d3max","u","quantile","p","Float64Array","from","numbers","i0","Math","floor","value0","quickselect","k","m","z","log","exp","sd","sqrt","newLeft","newRight","subarray","value1","totalCount","trafficTotalEl","querySelector","textContent","uniqueCount","trafficUniquesEl","selectAll","enter","v","dots","each","axisRight","on","elements","x0","invert","pointer","idx","d0","d1","filter","nodes","Number","setTimeout","weekdays","months","Intl","getCanonicalLocales","navigator","language","sourceEvent","currentTarget","clientX","clientY","inverse","getBoundingClientRect","rect","clientLeft","clientTop","pageX","pageY"],"sourceRoot":""}