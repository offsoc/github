"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_account_verifications_launch-code-element_ts"],{50734:(t,e,s)=>{s.r(e);var i=s(39595);function r(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o}let n=class LaunchCodeElement extends HTMLElement{connectedCallback(){this.handleLoaded()}handlePaste(t){let e;t.preventDefault();let s=t.clipboardData;if(!s)return;let i=s.getData("text");if(RegExp(`^${this.pattern}*$`).test(i)){for(let t of this.inputs){let s=this.inputs.indexOf(t);if(e=t,!i[s])break;t.value=i[s]}this.form.checkValidity()?this.submit():e?.focus()}}handleKeyInput(t){let e=t.target,s=this.inputs.indexOf(e),i=this.inputs[s+1];""!==this.result.innerHTML.trim()&&(this.result.textContent=""),e.checkValidity()?i?this.form.checkValidity()?this.submit():i.focus():this.form.reportValidity()&&this.submit():e.value=""}handleKeyNavigation(t){if(!["Backspace","ArrowLeft","ArrowRight"].includes(t.key))return;let e=t.target,s=this.inputs.indexOf(e),i=this.inputs[s+1];switch(t.key){case"Backspace":{let t=this.inputs[s-1];t&&(this.moveCursorToEndOfInput(t),t.value="",this.result.textContent="");return}case"ArrowLeft":{let t=this.inputs[s-1];t&&this.moveCursorToEndOfInput(t);return}case"ArrowRight":i&&this.moveCursorToEndOfInput(i);return}}moveCursorToEndOfInput(t){let e=t.value.length;t.focus(),t.setSelectionRange(e,e)}async submit(){if(this.ajax){let t=await fetch(this.form.action,{method:this.form.method,body:new FormData(this.form),headers:{"X-Requested-With":"XMLHttpRequest"}});t.ok?(this.result.innerHTML=await t.text(),this.dispatchEvent(new CustomEvent("launch-code-success",{bubbles:!0}))):(this.result.innerHTML=await t.text(),"true"===this.result.getAttribute("data-dirty")?this.forceResultScreenReaderAnnounce():this.result.setAttribute("data-dirty","true"),this.clearEnteredCode(),this.dispatchEvent(new CustomEvent("launch-code-error",{bubbles:!0})))}else this.form.submit()}handleLoaded(){""!==this.result.innerHTML.trim()&&this.forceResultScreenReaderAnnounce()}forceResultScreenReaderAnnounce(){setTimeout(()=>{this.result.firstElementChild&&this.result.firstElementChild.appendChild(document.createTextNode("\xa0"))},200)}clearEnteredCode(){for(let t of this.inputs)t.value="";this.inputs[0]?.focus()}constructor(...t){super(...t),this.ajax=!1}};r([i.aC],n.prototype,"form",void 0),r([i.zV],n.prototype,"inputs",void 0),r([i.aC],n.prototype,"result",void 0),r([i.CF],n.prototype,"pattern",void 0),r([i.CF],n.prototype,"ajax",void 0),n=r([i.p_],n)}}]);
//# sourceMappingURL=app_components_account_verifications_launch-code-element_ts-64ff5916dedc.js.map