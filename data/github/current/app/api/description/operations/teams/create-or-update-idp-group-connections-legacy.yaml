---
summary: Create or update IdP group connections (Legacy)
description: |-
  > [!WARNING]
  > **Deprecation notice:** This endpoint route is deprecated and will be removed from the Teams API. We recommend migrating your existing code to use the new [`Create or update IdP group connections`](${externalDocsUrl}/rest/teams/team-sync#create-or-update-idp-group-connections) endpoint.

  Team synchronization is available for organizations using GitHub Enterprise Cloud. For more information, see [GitHub's products](${externalDocsUrl}/github/getting-started-with-github/githubs-products) in the GitHub Help documentation.

  Creates, updates, or removes a connection between a team and an IdP group. When adding groups to a team, you must include all new and existing groups to avoid replacing existing groups with the new ones. Specifying an empty `groups` array will remove all connections for a team.
tags:
  - teams
operationId: teams/create-or-update-idp-group-connections-legacy
externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/teams/team-sync#create-or-update-idp-group-connections-legacy'
parameters:
  - $ref: '../../components/parameters/team-id.yaml'
requestBody:
  required: true
  content:
    application/json:
      schema:
        type: object
        properties:
          groups:
            type: array
            description: The IdP groups you want to connect to a GitHub team. When
              updating, the new `groups` object will replace the original one. You
              must include any existing groups that you don't want to remove.
            items:
              type: object
              properties:
                group_id:
                  type: string
                  description: ID of the IdP group.
                group_name:
                  type: string
                  description: Name of the IdP group.
                group_description:
                  type: string
                  description: Description of the IdP group.
                id:
                  type: string
                  example: '"caceab43fc9ffa20081c"'
                name:
                  type: string
                  example: '"external-team-6c13e7288ef7"'
                description:
                  type: string
                  example: '"moar cheese pleese"'
              required:
                - group_id
                - group_name
                - group_description
          synced_at:
            type: string
            example: '"I am not a timestamp"'
        required:
          - groups
      examples:
        default:
          value:
            groups:
              - group_id: '123'
                group_name: Octocat admins
                description: The people who configure your octoworld.
                group_description: string
responses:
  '200':
    description: Response
    content:
      application/json:
        schema:
          $ref: '../../components/schemas/group-mapping.yaml'
        examples:
          default:
            $ref: '../../components/examples/group-mapping-2.yaml'
  '422':
    $ref: '../../components/responses/validation_failed.yaml'
  '403':
    $ref: '../../components/responses/forbidden.yaml'
x-github-releases:
  - ghec
x-github:
  githubCloudOnly: true
  enabledForGitHubApps: false
  removalDate: '2021-02-01'
  deprecationDate: '2020-01-21'
  category: teams
  subcategory: team-sync
deprecated: true
x-deprecation-details:
  date: '2020-01-21'
  sunsetDate: '2021-02-01'
x-github-internal:
  path: '/teams/{team_id}/team-sync/group-mappings'
  http-method: patch
  service-tier: 2
  published: true
  owner: "@github/identity-tnt"
