{"version":3,"file":"chunk-vendors-node_modules_d3-ease_src_circle_js-node_modules_d3-geo_src_centroid_js-node_modules_d-2d6b7e-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/d3-array/src/fsum.js","node_modules/d3-array/src/range.js","node_modules/d3-ease/src/circle.js","node_modules/d3-geo/src/centroid.js","node_modules/d3-geo/src/graticule.js","node_modules/d3-geo/src/identity.js","node_modules/d3-geo/src/math.js","node_modules/d3-geo/src/noop.js","node_modules/d3-geo/src/path/bounds.js","node_modules/d3-geo/src/path/area.js","node_modules/d3-geo/src/path/centroid.js","node_modules/d3-geo/src/path/context.js","node_modules/d3-geo/src/path/measure.js","node_modules/d3-geo/src/path/string.js","node_modules/d3-geo/src/path/index.js","node_modules/d3-geo/src/clip/buffer.js","node_modules/d3-geo/src/pointEqual.js","node_modules/d3-geo/src/clip/rejoin.js","node_modules/d3-geo/src/cartesian.js","node_modules/d3-geo/src/polygonContains.js","node_modules/d3-array/src/merge.js","node_modules/d3-geo/src/clip/index.js","node_modules/d3-geo/src/clip/antimeridian.js","node_modules/d3-geo/src/circle.js","node_modules/d3-geo/src/compose.js","node_modules/d3-geo/src/rotation.js","node_modules/d3-geo/src/transform.js","node_modules/d3-geo/src/projection/fit.js","node_modules/d3-geo/src/projection/resample.js","node_modules/d3-geo/src/projection/index.js","node_modules/d3-geo/src/projection/equirectangular.js","node_modules/d3-geo/src/clip/circle.js","node_modules/d3-geo/src/clip/rectangle.js","node_modules/d3-geo/src/clip/line.js","node_modules/d3-geo/src/stream.js","node_modules/topojson-client/src/identity.js","node_modules/topojson-client/src/feature.js","node_modules/topojson-client/src/transform.js","node_modules/topojson-client/src/reverse.js","node_modules/topojson-client/src/mesh.js","node_modules/topojson-client/src/stitch.js","node_modules/d3-drag/src/noevent.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-scale/src/pow.js","node_modules/d3-selection/src/pointer.js","node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-zoom/src/constant.js","node_modules/d3-zoom/src/event.js","node_modules/d3-zoom/src/transform.js","node_modules/d3-zoom/src/noevent.js","node_modules/d3-zoom/src/zoom.js"],"sourcesContent":["// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport default function(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","export default x => x;\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","export default function(x) {\n  return x;\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n"],"names":["Adder","constructor","_partials","Float64Array","_n","add","x","p","i","j","y","hi","lo","Math","abs","valueOf","n","start","stop","step","arguments","length","max","ceil","range","circleOut","t","sqrt","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","lambda00","phi00","x0","y0","z0","centroidStream","sphere","point","centroidPoint","lineStart","centroidLineStart","lineEnd","centroidLineEnd","polygonStart","centroidRingStart","centroidRingEnd","polygonEnd","lambda","phi","cosPhi","centroidPointCartesian","z","centroidLinePointFirst","centroidLinePoint","w","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","m","v","object","NaN","graticuleX","y1","dy","concat","map","graticuleY","x1","dx","graticule","X","Y","DX","DY","precision","type","coordinates","lines","filter","outline","slice","reverse","extent","_","extentMajor","extentMinor","stepMajor","stepMinor","epsilon","epsilon2","pi","PI","halfPi","quarterPi","tau","degrees","radians","atan","atan2","cos","hypot","sin","sign","acos","asin","noop","Infinity","result","bounds","x00","y00","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","area","areaPointFirst","areaPoint","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","context","_context","prototype","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","arc","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","PathString","_string","circle","radius","projection","projectionStream","contextStream","path","apply","stream","measure","identity","_circle","push","join","line","rejoin","pop","shift","a","b","Intersection","points","other","entry","o","e","segments","compareIntersection","startInside","interpolate","subject","clip","forEach","segment","p0","p1","pointEqual","sort","current","isSubject","array","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","k","cartesianNormalizeInPlace","d","l","longitude","merge","arrays","Array","from","flatten","pointVisible","clipLine","sink","polygon","ring","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","sinPhi","normal","angle","winding","sum","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","delta","absDelta","antimeridian","intersection","phiArc","pointLine","clean","ringSegments","validSegment","sign0","sinLambda0Lambda1","sign1","to","direction","circleRadius","cosRadius","compose","invert","rotationIdentity","round","forwardRotationLambda","deltaLambda","rotationLambda","rotation","rotationPhiGamma","deltaPhi","deltaGamma","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","transformer","methods","s","TransformStream","key","fit","fitBounds","clipExtent","scale","translate","fitExtent","h","min","cosMinDistance","project","delta2","resampleLineTo","a0","b0","c0","a1","b1","c1","depth","d2","c","phi2","lambda2","x2","y2","dx2","dy2","dz","a00","b00","c00","resampleStream","linePoint","ringPoint","transformRadians","scaleTranslateRotate","sx","sy","alpha","scaleTranslate","transform","cosAlpha","sinAlpha","ai","bi","ci","fi","equirectangularRaw","projectAt","rotate","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","theta","preclip","postclip","recenter","center","resample","reset","transformRotate","r","undefined","clipAngle","cr","smallRadius","notHemisphere","visible","intersect","two","pa","pb","n1","n2","n2n2","n1n2","determinant","n1xn2","A","uu","t2","q","polar","meridian","q1","code","v0","v00","point2","circleStream","t0","t1","sinRadius","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","polygonInside","cleanInside","ax","ay","bx","by","reflectX","reflectY","fitSize","size","fitWidth","width","fitHeight","height","streamGeometry","geometry","streamGeometryType","hasOwnProperty","streamObjectType","Feature","FeatureCollection","features","Sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","topology","id","bbox","properties","transformPoint","kx","ky","input","output","arcs","meshArcs","extractArcs","geom","geomsByArc","extract0","g","extract1","extract2","extract3","geoms","stitch","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","f","end","dp","fg","unshift","gf","nonpassivecapture","capture","passive","event","preventDefault","stopImmediatePropagation","view","root","document","documentElement","selection","on","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","transformPow","exponent","pow","transformSqrt","transformSquare","copy","node","sourceEvent","currentTarget","svg","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","cosh","exp","zoomRho","rho","rho2","rho4","zoom","S","ux0","uy0","w0","ux1","uy1","w1","log","d1","r0","r1","coshr0","u","duration","SQRT2","_1","_2","ZoomEvent","target","dispatch","Object","defineProperties","value","enumerable","configurable","Transform","applyX","applyY","location","invertX","invertY","rescaleX","domain","rescaleY","toString","nopropagation","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","hasAttribute","viewBox","baseVal","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","touchstarting","touchfirst","touchending","constrain","wheelDelta","touchable","scaleExtent","listeners","clickDistance2","tapDistance","property","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","schedule","transition","gesture","tween","args","that","__zooming","Gesture","active","taps","pointer","wheel","mouse","clearTimeout","moved","changedTouches","k1","shiftKey","call","started","touches","identifier","touch0","touch1","l0","l1","dl","collection","interrupt","each","scaleBy","scaleTo","k0","translateBy","translateTo","emit","datum","constant","clickDistance"],"sourceRoot":""}