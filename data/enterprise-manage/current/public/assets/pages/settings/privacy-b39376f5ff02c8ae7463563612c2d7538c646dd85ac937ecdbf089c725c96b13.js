(function(){var e;window.pages||(window.pages={}),(e=window.pages).settings||(e.settings={}),window.pages.settings.privacy={getAcmeIssue:function(e){var s,t,i;return s=$(".js-acme-issue-loading"),i=$("#acme-issue-status"),t=$("#acme-issue-status-log"),e&&(e.preventDefault(),i.hide(),s.show(),$(".acme-issue-status-field").empty(),$("#acme-issue-status-error-row").hide()),$.ajax({url:"/setup/settings/acme/issue",type:e?"POST":"GET",dataType:"json",error:function(e,s){return t.text(e.responseText),$("#acme-issue-status-error").text(s)},success:function(e){return $("#acme-issue-status-status").text(e.status),t.text(e.log),e.refresh?setTimeout(window.pages.settings.privacy.getAcmeIssue,2e3):"DONE"===e.status?($("#acme-issue-done-instructions").show(),$("#ssl_certificate").prop("disabled",!0),$("#ssl_key").prop("disabled",!0),$("#ssl_certificate_acme").val(e.certificate),$("#ssl_key_acme").val(e.key)):$("#acme-issue-status-error").text(e.error)},complete:function(){if(s.hide(),i.show(),$("#acme-issue-status-error").text())return $("#acme-issue-status-error-row").show()}})}},$(function(){return $(document).ready(function(){return $(document).on("click",".js-acme-issue",window.pages.settings.privacy.getAcmeIssue)})})}).call(this);