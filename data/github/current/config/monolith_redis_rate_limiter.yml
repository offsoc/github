development:
  servers:
    - master: localhost:6379:3
      replicas: localhost:6379:3
    - master: localhost:6379:4
      replicas: localhost:6379:4

test:
  servers:
    # Use port so that different worker processes have their own databases
    # Use database `:6` and `:7` to avoid colliding with development and with`redis2.yml` in test
    - master: localhost:<%= 6379 + (ENV['TEST_ENV_NUMBER'] || 0).to_i %>:6
      replicas: localhost:<%= 6379 + (ENV['TEST_ENV_NUMBER'] || 0).to_i %>:6
    - master: localhost:<%= 6379 + (ENV['TEST_ENV_NUMBER'] || 0).to_i %>:7
      replicas: localhost:<%= 6379 + (ENV['TEST_ENV_NUMBER'] || 0).to_i %>:7

# production redis config is stored in config/protected/monolith_redis_rate_limiter.yml
