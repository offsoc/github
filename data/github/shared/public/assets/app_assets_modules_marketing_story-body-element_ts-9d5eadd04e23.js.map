{"version":3,"file":"chunk-app_assets_modules_marketing_story-body-element_ts-xxxxxxxxxxxx.js","mappings":"2hBAGO,2BAAMA,yBAAyBC,YAGpCC,mBAAoB,CAClBC,OAAOC,MAAM,CAAG,IAAM,IAAI,CAACC,cAAc,EAC3C,CAIAA,gBAAiB,CAGf,IAAK,IAAMC,KADsC,IAAI,CAACC,IAAI,CAACC,gBAAgB,CAAC,yBACpC,CACtC,IAAMC,EAAQH,EAAYI,aAAa,CAAC,gCAAgCC,YAClEC,EAAON,EAAYI,aAAa,CAAC,yBACvCE,CAAAA,EAAKC,IAAI,CAAG,CAAC,qCAAqC,EAAEC,UAAUX,OAAOY,QAAQ,CAACF,IAAI,EAAE,MAAM,EAAEC,UAC1FL,EAAMO,IAAI,IACV,CAAC,CACHJ,EAAKK,eAAe,CAAC,SACvB,CACF,CACF,E,GApBGC,EAAAA,EAAMA,C,CADIlB,iBAAAA,SAAAA,CAAAA,OAAAA,KAAAA,GAAAA,iBAAAA,EAAAA,CADZmB,EAAAA,EAAUA,C,CACEnB,iB","sources":["app/assets/modules/marketing/story-body-element.ts"],"sourcesContent":["import {controller, target} from '@github/catalyst'\n\n@controller\nexport class StoryBodyElement extends HTMLElement {\n  @target body: HTMLLinkElement\n\n  connectedCallback() {\n    window.onload = () => this.addTwitterLink()\n  }\n\n  // TestimonialComponent is run through the rich text parser and doesn't have context of request\n  // so we need to add the twitter link in js\n  addTwitterLink() {\n    // data-target is stripped in the HTML sanitizer (else we'd use data attributes)\n    const testimonials: NodeListOf<HTMLDivElement> = this.body.querySelectorAll('.js-story-testimonial')\n    for (const testimonial of testimonials) {\n      const quote = testimonial.querySelector('.js-story-testimonial-quote')?.textContent as string\n      const link = testimonial.querySelector('.js-testimoniial-tweet') as HTMLLinkElement\n      link.href = `https://twitter.com/intent/tweet?url=${encodeURI(window.location.href)}&text=${encodeURI(\n        quote.trim(),\n      )}`\n      link.removeAttribute('hidden')\n    }\n  }\n}\n"],"names":["StoryBodyElement","HTMLElement","connectedCallback","window","onload","addTwitterLink","testimonial","body","querySelectorAll","quote","querySelector","textContent","link","href","encodeURI","location","trim","removeAttribute","target","controller"],"sourceRoot":""}