<% gate_requests ||= [] %>

<%= render(Primer::Alpha::Layout.new(first_in_source: :main)) do |component| %>
  <% component.with_main do %>
    <%= render "pull_requests/conversation_content", pull_node: pull_node, pull_request: pull_request, gate_requests: gate_requests %>
  <% end %>

  <% component.with_sidebar(col_placement: :end, row_placement: :end) do %>
    <%= render "pull_requests/sidebar", deferred_content: defined?(deferred_content) ? deferred_content : false, pull: pull_request %>
  <% end %>
<% end %>
