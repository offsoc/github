{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "id": "https://schema.github.com/v3/protection-rule.json",
  "title": "Protection rule",
  "description": "A rule that protects deployments in an environment",
  "type": "object",
  "definitions": {
    "id": {
      "type": "integer",
      "description": "The ID of the protection rule.",
      "example": 5
    },
    "node_id": {
      "type": "string",
      "example": "RW52aXJvbm1lbnQ6MQo="
    },
    "wait_timer": {
      "type": "integer",
      "description": "The wait timer in minutes for this wait protection rule.",
      "example": 15
    },
    "type": {
      "type": "string",
      "description": "The type of this protection rule.",
      "example": "required_reviewers"
    },
    "reviewers": {
      "description": "The list of reviewers for this approval protection rule.",
      "type": "array",
      "items": {
        "oneOf": [
          {
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "User"
                ]
              },
              "reviewer": {
                "$ref": "https://schema.github.com/v3/simple-user.json#"
              }
            }
          },
          {
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "Team"
                ]
              },
              "reviewer": {
                "$ref": "https://schema.github.com/v3/team.json#"
              }
            }
          }
        ]
      }
    }
  },
  "links": [

  ],
  "properties": {
    "id": {
      "$ref": "#/definitions/id"
    },
    "node_id": {
      "$ref": "#/definitions/node_id"
    },
    "wait_timer": {
      "$ref": "#/definitions/wait_timer"
    },
    "type": {
      "$ref": "#/definitions/type"
    },
    "reviewers": {
      "$ref": "#/definitions/reviewers"
    }
  },
  "additionalProperties": false,
  "required": [
    "id",
    "node_id",
    "type"
  ]
}
