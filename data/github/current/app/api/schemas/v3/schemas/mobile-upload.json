{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "id": "https://schema.github.com/v3/mobile-upload.json",
  "title": "Mobile Upload",
  "description": "The ability to upload user assets or repository files from the iOS and Android apps.",
  "type": "object",
  "definitions": {
    "repository_id": {
      "description": "The ID of the repository.",
      "example": 42,
      "type": "integer"
    },
    "subject_id": {
      "description": "The global node ID of the subject that is being commented on.",
      "example": "MDU6SXNzdWU1",
      "type": "string"
    },
    "asset_id": {
      "description": "The ID of the asset.",
      "example": 42,
      "type": "integer"
    },
    "file_id": {
      "description": "The ID of the file.",
      "example": 42,
      "type": "integer"
    },
    "name": {
      "description": "The name of the file to be uploaded.",
      "example": "mona.png",
      "type": "string"
    },
    "size": {
      "description": "The size of the file upload, in bytes.",
      "example": 1234,
      "type": "number"
    },
    "content_type": {
      "description": "The content type of the file being uploaded",
      "example": "image/png",
      "type": "string"
    }
  },
  "links": [
    {
      "title": "Mark a user asset upload as being complete",
      "method": "PUT",
      "rel": "complete-user-asset",
      "href": "/mobile/upload/assets/{asset_id}",
      "schema": {
        "additionalProperties": false,
        "type": [
          "null",
          "object"
        ]
      }
    },
    {
      "title": "Mark a repository file upload as being complete",
      "method": "PUT",
      "rel": "complete-repo-file",
      "href": "/mobile/upload/repository-files/{file_id}",
      "schema": {
        "additionalProperties": false,
        "type": [
          "null",
          "object"
        ]
      }
    },
    {
      "title": "Create an upload policy for an asset",
      "method": "POST",
      "rel": "policy",
      "href": "/mobile/upload/policy",
      "schema": {
        "properties": {
          "name": {
            "$ref": "#/definitions/name"
          },
          "size": {
            "$ref": "#/definitions/size"
          },
          "content_type": {
            "$ref": "#/definitions/content_type"
          },
          "repository_id": {
            "$ref": "#/definitions/repository_id"
          },
          "subject_id": {
            "$ref": "#/definitions/subject_id"
          }
        },
        "type": "object",
        "additionalProperties": false,
        "required": [
          "name",
          "size",
          "content_type"
        ]
      }
    }
  ]
}
