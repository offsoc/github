{"version":3,"file":"memex-index-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/memex-index.ts","app/assets/modules/github/memex/focus-search-and-announce-results.ts","ui/packages/aria-live/aria-live.ts","ui/packages/client-env/client-env.ts","ui/packages/feature-flags/feature-flags.ts","ui/packages/ssr-utils/ssr-globals.ts","ui/packages/ssr-utils/ssr.ts","node_modules/@github/memoize/dist/esm/index.js","node_modules/@primer/live-region-element/dist/esm/index.js"],"sourcesContent":["import {focusOnSearchInputAndAnnounceResults} from './github/memex/focus-search-and-announce-results'\n\ndocument.addEventListener('turbo:load', () => {\n  focusOnSearchInputAndAnnounceResults()\n})\n","import {announceFromElement} from '@github-ui/aria-live'\n\nexport function focusOnSearchInputAndAnnounceResults() {\n  const input = document.getElementById('project-search-input') as HTMLInputElement\n  if (!input) return\n\n  const url = new URL(window.location.href, window.location.origin)\n  if (url.searchParams.has('is_search')) {\n    url.searchParams.delete('is_search')\n    history.replaceState({}, document.title, url.toString())\n\n    input?.focus()\n    input?.setSelectionRange(input.value.length, input.value.length)\n\n    // For screen readers, focus takes precedence over ARIA Live Region updates.\n    // However, if the ARIA Live Region update is delayed, the ARIA Live Region update will be announced.\n    setTimeout(() => {\n      const searchResultElement = document.getElementById('projects-search-results-text')\n      if (searchResultElement) {\n        announceFromElement(searchResultElement)\n      }\n    }, 1000)\n  }\n}\n","import {ssrSafeDocument} from '@github-ui/ssr-utils'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {\n  announce as liveRegionAnnounce,\n  announceFromElement as liveRegionAnnounceFromElement,\n} from '@primer/live-region-element'\n\nexport interface ElementWithAriaNotify extends Element {\n  ariaNotify: (\n    message: string,\n    options?: {interrupt?: 'none' | 'pending' | 'all'; priority?: 'none' | 'important'},\n  ) => void\n}\n\n/**\n * Troubleshooting guide for aria-live regions available on the Hub\n * - https://thehub.github.com/epd/engineering/dev-practicals/frontend/accessibility/readiness-routine/screenreaders/live-regions-and-focus-management-techniques/#why-isnt-my-live-region-working-as-i-expect\n */\n\n// Announce an element's text to the screen reader.\nexport function announceFromElement(el: HTMLElement, options?: {assertive?: boolean; element?: HTMLElement}) {\n  if (isFeatureEnabled('arianotify_comprehensive_migration')) {\n    announce(getTextContent(el), {...options, element: options?.element ?? el})\n  } else if (isFeatureEnabled('primer_live_region_element') && options?.element === undefined) {\n    liveRegionAnnounceFromElement(el, {\n      politeness: options?.assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    announce(getTextContent(el), options)\n  }\n}\n\n// Announce message update to screen reader.\n// Note: Use caution when using this function while a dialog is active.\n// If the message is updated while the dialog is open, the screen reader may not announce the live region.\n// For more information, view the document on dialog and live region support: https://github.com/github/accessibility/blob/main/docs/dialog-live-region-support.md\nexport function announce(message: string, options?: {assertive?: boolean; element?: HTMLElement}) {\n  const {assertive, element} = options ?? {}\n\n  if (isFeatureEnabled('arianotify_comprehensive_migration') && 'ariaNotify' in Element.prototype) {\n    ;((element || document.body) as Element as ElementWithAriaNotify).ariaNotify(message, {\n      interrupt: options?.assertive ? 'all' : 'none',\n    })\n  } else if (isFeatureEnabled('primer_live_region_element') && element === undefined) {\n    liveRegionAnnounce(message, {\n      politeness: assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    setContainerContent(message, assertive, element)\n  }\n}\n\n// Set aria-live container to message.\nfunction setContainerContent(message: string, assertive?: boolean, element?: HTMLElement) {\n  const getQuerySelector = () => {\n    return assertive ? '#js-global-screen-reader-notice-assertive' : '#js-global-screen-reader-notice'\n  }\n  const container = element ?? ssrSafeDocument?.querySelector(getQuerySelector())\n  if (!container) return\n  if (container.textContent === message) {\n    /* This is a hack due to the way the aria live API works.\n    A screen reader will not read a live region again\n    if the text is the same. Adding a space character tells\n    the browser that the live region has updated,\n    which will cause it to read again, but with no audible difference. */\n    container.textContent = `${message}\\u00A0`\n  } else {\n    container.textContent = message\n  }\n}\n\n// Gets the trimmed text content of an element.\nfunction getTextContent(el: HTMLElement): string {\n  // innerText does not contain hidden text\n  /* eslint-disable-next-line github/no-innerText */\n  return (el.getAttribute('aria-label') || el.innerText || '').trim()\n}\n","export interface ClientEnvironment {\n  readonly locale: string\n  readonly featureFlags: string[]\n}\n\nlet env: ClientEnvironment | undefined\n\nexport function getEnv() {\n  if (!env) {\n    throw new Error(\n      'Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.',\n    )\n  }\n\n  return env\n}\n\nexport function getLocale() {\n  return env?.locale ?? 'en-US'\n}\n\nfunction loadEnv() {\n  if (typeof document !== 'undefined') {\n    const envTag = document.getElementById('client-env')\n    if (envTag) {\n      try {\n        env = JSON.parse(envTag.textContent || '')\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error parsing client-env', error)\n      }\n    }\n  }\n}\n\n// Automatically load the env on initial page load\nloadEnv()\n\n// This is a special helper method for setting the env in the SSR environment only\nexport function setClientEnvForSsr(clientEnv: ClientEnvironment | undefined) {\n  env = clientEnv\n}\n\n// This env object is used as a default for tests only and is not included in production builds\nexport const clientEnvForTests: ClientEnvironment = {\n  locale: 'en',\n  featureFlags: ['test_flag'],\n}\n\nexport function _resetForTests({loadNewEnv, forceUndefined}: {loadNewEnv: boolean; forceUndefined?: boolean}) {\n  // forget the current env\n  env = forceUndefined ? undefined : clientEnvForTests\n\n  if (loadNewEnv) {\n    // load the latest env\n    loadEnv()\n  }\n}\n","import memoize from '@github/memoize'\nimport {getEnv} from '@github-ui/client-env'\nimport {IS_SERVER} from '@github-ui/ssr-utils'\n\nfunction getEnabledFeaturesSet(): Set<string> {\n  const features = getEnv().featureFlags\n  const featuresUpperCase = features.map(feature => feature.toLowerCase())\n  return new Set<string>(featuresUpperCase)\n}\n\nconst featuresSet =\n  IS_SERVER || process.env.NODE_ENV === 'test' ? getEnabledFeaturesSet : memoize(getEnabledFeaturesSet)\n\nexport function getEnabledFeatures(): string[] {\n  return Array.from(featuresSet())\n}\n\nexport function isFeatureEnabled(name: string): boolean {\n  return featuresSet().has(name.toLowerCase())\n}\n\n//exported to allow mocking in tests\nconst featureFlag = {isFeatureEnabled}\n\nexport {featureFlag}\n","// When using SSR, browser globals are not available. If you try to use them, Node.js will throw an error\ntype SSRSafeLocation = Pick<Location, 'pathname' | 'origin' | 'search' | 'hash' | 'href'>\n\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeDocument = typeof document === 'undefined' ? undefined : document\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeWindow = typeof window === 'undefined' ? undefined : window\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeHistory = typeof history === 'undefined' ? undefined : history\n\nexport const ssrSafeLocation: SSRSafeLocation =\n  // eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\n  typeof location === 'undefined' ? {pathname: '', origin: '', search: '', hash: '', href: ''} : location\n\nexport function setLocation(url: string) {\n  // eslint-disable-next-line no-restricted-syntax\n  const parsedURL: SSRSafeLocation = new URL(url)\n  const {pathname, origin, search, hash} = parsedURL\n\n  Object.assign(ssrSafeLocation, {pathname, origin, search, hash})\n}\n","import {ssrSafeDocument} from './ssr-globals'\n\n/***\n * Are we rendering on the server?\n */\nexport const IS_SERVER = typeof ssrSafeDocument === 'undefined'\n\n/***\n * Are we rendering on the client?\n */\nexport const IS_BROWSER = !IS_SERVER\n\n/***\n * This helper returns `true` if:\n * - we are rendering on the server\n * - we are on the client, and the app has been hydrated from a server-render\n */\nexport function wasServerRendered() {\n  if (IS_SERVER) {\n    return true\n  }\n\n  return Boolean(ssrSafeDocument!.querySelector('react-app[data-ssr=\"true\"]'))\n}\n","export function defaultHash(...args) {\n    // JSON.stringify ellides `undefined` and function values by default. We do not want that.\n    return JSON.stringify(args, (_, v) => (typeof v === 'object' ? v : String(v)));\n}\nexport default function memoize(fn, opts = {}) {\n    const { hash = defaultHash, cache = new Map() } = opts;\n    return function (...args) {\n        const id = hash.apply(this, args);\n        if (cache.has(id))\n            return cache.get(id);\n        let result = fn.apply(this, args);\n        if (result instanceof Promise) {\n            // eslint-disable-next-line github/no-then\n            result = result.catch(error => {\n                cache.delete(id);\n                throw error;\n            });\n        }\n        cache.set(id, result);\n        return result;\n    };\n}\n","const Ordering = {\n  Less: \"less\",\n  Equal: \"equal\",\n  Greater: \"greater\"\n};\n\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter) => {\n  __accessCheck$2(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter) => {\n  __accessCheck$2(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$1 = (obj, member, method) => {\n  __accessCheck$2(obj, member, \"access private method\");\n  return method;\n};\nvar _compareFn, _heap, _heapifyDown, heapifyDown_fn, _heapifyUp, heapifyUp_fn;\nclass MinHeap {\n  constructor({ compareFn }) {\n    __privateAdd$2(this, _heapifyDown);\n    __privateAdd$2(this, _heapifyUp);\n    __privateAdd$2(this, _compareFn, void 0);\n    __privateAdd$2(this, _heap, void 0);\n    __privateSet$2(this, _compareFn, compareFn);\n    __privateSet$2(this, _heap, []);\n  }\n  insert(value) {\n    __privateGet$2(this, _heap).push(value);\n    __privateMethod$1(this, _heapifyUp, heapifyUp_fn).call(this);\n  }\n  pop() {\n    const item = __privateGet$2(this, _heap)[0];\n    if (__privateGet$2(this, _heap)[__privateGet$2(this, _heap).length - 1]) {\n      __privateGet$2(this, _heap)[0] = __privateGet$2(this, _heap)[__privateGet$2(this, _heap).length - 1];\n      __privateGet$2(this, _heap).pop();\n    }\n    __privateMethod$1(this, _heapifyDown, heapifyDown_fn).call(this);\n    return item;\n  }\n  peek() {\n    return __privateGet$2(this, _heap)[0];\n  }\n  delete(value) {\n    const index = __privateGet$2(this, _heap).indexOf(value);\n    if (index === -1) {\n      return;\n    }\n    swap(__privateGet$2(this, _heap), index, __privateGet$2(this, _heap).length - 1);\n    __privateGet$2(this, _heap).pop();\n    __privateMethod$1(this, _heapifyDown, heapifyDown_fn).call(this);\n  }\n  clear() {\n    __privateSet$2(this, _heap, []);\n  }\n  get size() {\n    return __privateGet$2(this, _heap).length;\n  }\n}\n_compareFn = new WeakMap();\n_heap = new WeakMap();\n_heapifyDown = new WeakSet();\nheapifyDown_fn = function() {\n  let index = 0;\n  while (hasLeftChild(index, __privateGet$2(this, _heap).length)) {\n    let smallerChildIndex = getLeftChildIndex(index);\n    if (hasRightChild(index, __privateGet$2(this, _heap).length) && __privateGet$2(this, _compareFn).call(this, rightChild(__privateGet$2(this, _heap), index), leftChild(__privateGet$2(this, _heap), index)) === Ordering.Less) {\n      smallerChildIndex = getRightChildIndex(index);\n    }\n    if (__privateGet$2(this, _compareFn).call(this, __privateGet$2(this, _heap)[index], __privateGet$2(this, _heap)[smallerChildIndex]) === Ordering.Less) {\n      break;\n    } else {\n      swap(__privateGet$2(this, _heap), index, smallerChildIndex);\n    }\n    index = smallerChildIndex;\n  }\n};\n_heapifyUp = new WeakSet();\nheapifyUp_fn = function() {\n  let index = __privateGet$2(this, _heap).length - 1;\n  while (hasParent(index) && __privateGet$2(this, _compareFn).call(this, __privateGet$2(this, _heap)[index], parent(__privateGet$2(this, _heap), index)) === Ordering.Less) {\n    swap(__privateGet$2(this, _heap), index, getParentIndex(index));\n    index = getParentIndex(index);\n  }\n};\nfunction getLeftChildIndex(index) {\n  return 2 * index + 1;\n}\nfunction getRightChildIndex(index) {\n  return 2 * index + 2;\n}\nfunction getParentIndex(index) {\n  return Math.floor((index - 1) / 2);\n}\nfunction hasLeftChild(index, size) {\n  return getLeftChildIndex(index) < size;\n}\nfunction hasRightChild(index, size) {\n  return getRightChildIndex(index) < size;\n}\nfunction hasParent(index) {\n  return index > 0;\n}\nfunction leftChild(heap, index) {\n  return heap[getLeftChildIndex(index)];\n}\nfunction rightChild(heap, index) {\n  return heap[getRightChildIndex(index)];\n}\nfunction parent(heap, index) {\n  return heap[getParentIndex(index)];\n}\nfunction swap(heap, a, b) {\n  const tmp = heap[a];\n  heap[a] = heap[b];\n  heap[b] = tmp;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter) => {\n  __accessCheck$1(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter) => {\n  __accessCheck$1(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _a, _promise, _resolve, _reject;\nclass Deferred {\n  constructor() {\n    __publicField(this, _a, \"Deferred\");\n    __privateAdd$1(this, _promise, void 0);\n    __privateAdd$1(this, _resolve, void 0);\n    __privateAdd$1(this, _reject, void 0);\n    __privateSet$1(this, _promise, new Promise((resolve, reject) => {\n      __privateSet$1(this, _resolve, resolve);\n      __privateSet$1(this, _reject, reject);\n    }));\n  }\n  then(onfulfilled, onrejected) {\n    return Promise.prototype.then.apply(__privateGet$1(this, _promise), [onfulfilled, onrejected]);\n  }\n  catch(onrejected) {\n    return Promise.prototype.catch.apply(__privateGet$1(this, _promise), [onrejected]);\n  }\n  finally(onfinally) {\n    return Promise.prototype.finally.apply(__privateGet$1(this, _promise), [onfinally]);\n  }\n  resolve(value) {\n    __privateGet$1(this, _resolve).call(this, value);\n  }\n  reject(reason) {\n    __privateGet$1(this, _reject).call(this, reason);\n  }\n  getPromise() {\n    return __privateGet$1(this, _promise);\n  }\n}\n_a = Symbol.toStringTag;\n_promise = new WeakMap();\n_resolve = new WeakMap();\n_reject = new WeakMap();\n\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _pending, _queue, _timeoutId, _performWork, performWork_fn, _updateContainerWithMessage, updateContainerWithMessage_fn;\nconst DEFAULT_THROTTLE_DELAY_MS = 150;\nclass LiveRegionElement extends HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _performWork);\n    __privateAdd(this, _updateContainerWithMessage);\n    /**\n     * A flag to indicate if a message has been announced and we are currently\n     * waiting for the delay to pass before announcing the next message.\n     */\n    __privateAdd(this, _pending, void 0);\n    /**\n     * A priority queue to store messages to be announced by the live region.\n     */\n    __privateAdd(this, _queue, void 0);\n    /**\n     * The id for a timeout being used by the live region to either wait until the\n     * next message or wait until the delay has passed before announcing the next\n     * message\n     */\n    __privateAdd(this, _timeoutId, void 0);\n    if (!this.shadowRoot) {\n      const template2 = getTemplate();\n      const shadowRoot = this.attachShadow({ mode: \"open\" });\n      shadowRoot.appendChild(template2.content.cloneNode(true));\n    }\n    __privateSet(this, _pending, false);\n    __privateSet(this, _timeoutId, null);\n    __privateSet(this, _queue, new MinHeap({\n      compareFn: compareMessages\n    }));\n  }\n  /**\n   * The delay in milliseconds to wait between announcements. This helps to\n   * prevent announcements getting dropped if multiple are made at the same time.\n   */\n  get delay() {\n    const value = this.getAttribute(\"delay\");\n    if (value) {\n      return parseInt(value, 10);\n    }\n    return DEFAULT_THROTTLE_DELAY_MS;\n  }\n  set delay(value) {\n    this.setAttribute(\"delay\", `${value}`);\n  }\n  /**\n   * Announce a message using a live region with a corresponding politeness\n   * level.\n   */\n  announce(message, options = {}) {\n    const { delayMs, politeness = \"polite\" } = options;\n    const now = Date.now();\n    const deferred = new Deferred();\n    const item = {\n      deferred,\n      politeness,\n      contents: message,\n      scheduled: delayMs !== void 0 ? now + delayMs : now\n    };\n    __privateGet(this, _queue).insert(item);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n    return {\n      ...deferred.getPromise(),\n      cancel: () => {\n        __privateGet(this, _queue).delete(item);\n        deferred.resolve();\n      }\n    };\n  }\n  /**\n   * Announce a message using the text content of an element with a\n   * corresponding politeness level\n   */\n  announceFromElement(element, options) {\n    const textContent = getTextContent(element);\n    if (textContent !== \"\") {\n      return this.announce(textContent, options);\n    }\n    const promise = Promise.resolve();\n    return {\n      ...promise,\n      cancel: noop\n    };\n  }\n  getMessage(politeness = \"polite\") {\n    const container = this.shadowRoot?.getElementById(politeness);\n    if (!container) {\n      throw new Error(\"Unable to find container for message\");\n    }\n    return container.textContent;\n  }\n  /**\n   * Prevent pending messages from being announced by the live region.\n   */\n  clear() {\n    if (__privateGet(this, _timeoutId) !== null) {\n      clearTimeout(__privateGet(this, _timeoutId));\n      __privateSet(this, _timeoutId, null);\n    }\n    __privateGet(this, _queue).clear();\n  }\n}\n_pending = new WeakMap();\n_queue = new WeakMap();\n_timeoutId = new WeakMap();\n_performWork = new WeakSet();\nperformWork_fn = function() {\n  if (__privateGet(this, _pending)) {\n    return;\n  }\n  let message = __privateGet(this, _queue).peek();\n  if (!message) {\n    return;\n  }\n  if (__privateGet(this, _timeoutId) !== null) {\n    clearTimeout(__privateGet(this, _timeoutId));\n    __privateSet(this, _timeoutId, null);\n  }\n  const now = Date.now();\n  if (message.scheduled <= now) {\n    message = __privateGet(this, _queue).pop();\n    if (message) {\n      __privateMethod(this, _updateContainerWithMessage, updateContainerWithMessage_fn).call(this, message);\n    }\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n    return;\n  }\n  const timeout = message.scheduled - now;\n  __privateSet(this, _timeoutId, window.setTimeout(() => {\n    __privateSet(this, _timeoutId, null);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n  }, timeout));\n};\n_updateContainerWithMessage = new WeakSet();\nupdateContainerWithMessage_fn = function(message) {\n  __privateSet(this, _pending, true);\n  const { contents, deferred, politeness } = message;\n  const container = this.shadowRoot?.getElementById(politeness);\n  if (!container) {\n    __privateSet(this, _pending, false);\n    throw new Error(`Unable to find container for message. Expected a container with id=\"${politeness}\"`);\n  }\n  if (container.textContent === contents) {\n    container.textContent = `${contents}\\xA0`;\n  } else {\n    container.textContent = contents;\n  }\n  if (__privateGet(this, _timeoutId) !== null) {\n    clearTimeout(__privateGet(this, _timeoutId));\n  }\n  deferred.resolve();\n  if (this.delay > 0) {\n    __privateSet(this, _timeoutId, window.setTimeout(() => {\n      __privateSet(this, _timeoutId, null);\n      __privateSet(this, _pending, false);\n      __privateMethod(this, _performWork, performWork_fn).call(this);\n    }, this.delay));\n  } else {\n    __privateSet(this, _timeoutId, null);\n    __privateSet(this, _pending, false);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n  }\n};\nfunction getTextContent(element) {\n  let value = \"\";\n  if (element.hasAttribute(\"aria-label\")) {\n    value = element.getAttribute(\"aria-label\");\n  } else if (element.innerText) {\n    value = element.innerText;\n  } else if (element.textContent) {\n    value = element.textContent;\n  }\n  return value ? value.trim() : \"\";\n}\nlet template = null;\nconst templateContent = `\n<style>\n:host {\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n</style>\n<div id=\"polite\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n<div id=\"assertive\" aria-live=\"assertive\" aria-atomic=\"true\"></div>\n`;\nfunction getTemplate() {\n  if (template) {\n    return template;\n  }\n  template = document.createElement(\"template\");\n  template.innerHTML = templateContent;\n  return template;\n}\nfunction compareMessages(a, b) {\n  if (a.politeness === b.politeness) {\n    if (a.scheduled === b.scheduled) {\n      return Ordering.Equal;\n    }\n    if (a.scheduled < b.scheduled) {\n      return Ordering.Less;\n    }\n    return Ordering.Greater;\n  }\n  if (a.politeness === \"assertive\" && b.politeness !== \"assertive\") {\n    return Ordering.Less;\n  }\n  if (a.politeness !== \"assertive\" && b.politeness === \"assertive\") {\n    return Ordering.Greater;\n  }\n  return Ordering.Equal;\n}\nfunction noop() {\n}\n\nif (!customElements.get(\"live-region\")) {\n  customElements.define(\"live-region\", LiveRegionElement);\n}\n\nfunction announce(message, options = {}) {\n  let liveRegion = findLiveRegion(options.from);\n  if (!liveRegion) {\n    liveRegion = document.createElement(\"live-region\");\n    if (options.appendTo) {\n      options.appendTo.appendChild(liveRegion);\n    } else {\n      const container = getLiveRegionContainer(options.from);\n      container.appendChild(liveRegion);\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      return liveRegion.announce(message, options);\n    }\n    let canceled = false;\n    let cancel = () => {\n      canceled = true;\n    };\n    const promise = wait(REGISTER_WAIT_MS).then(() => {\n      if (!canceled) {\n        const result = liveRegion.announce(message, options);\n        cancel = result.cancel;\n        return result;\n      }\n    });\n    return {\n      ...promise,\n      cancel: () => {\n        cancel();\n      }\n    };\n  }\n  return liveRegion.announce(message, options);\n}\nfunction announceFromElement(element, options = {}) {\n  let liveRegion = findLiveRegion(options.from);\n  if (!liveRegion) {\n    liveRegion = document.createElement(\"live-region\");\n    if (options.appendTo) {\n      options.appendTo.appendChild(liveRegion);\n    } else {\n      const container = getLiveRegionContainer(options.from);\n      container.appendChild(liveRegion);\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      return liveRegion.announceFromElement(element, options);\n    }\n    let canceled = false;\n    let cancel = () => {\n      canceled = true;\n    };\n    const promise = wait(REGISTER_WAIT_MS).then(() => {\n      if (!canceled) {\n        const result = liveRegion.announceFromElement(element, options);\n        cancel = result.cancel;\n        return result;\n      }\n    });\n    return {\n      ...promise,\n      cancel: () => {\n        cancel();\n      }\n    };\n  }\n  return liveRegion.announceFromElement(element, options);\n}\nfunction findLiveRegion(from) {\n  let liveRegion = null;\n  liveRegion = from ? getClosestLiveRegion(from) : null;\n  if (liveRegion !== null) {\n    return liveRegion;\n  }\n  const container = getLiveRegionContainer(from);\n  liveRegion = container.querySelector(\"live-region\");\n  if (liveRegion !== null) {\n    return liveRegion;\n  }\n  return null;\n}\nfunction getClosestLiveRegion(from) {\n  const dialog = from.closest(\"dialog\");\n  let current = from;\n  while (current = current.parentElement) {\n    if (dialog && !dialog.contains(current)) {\n      break;\n    }\n    for (const child of current.childNodes) {\n      if (child instanceof LiveRegionElement) {\n        return child;\n      }\n    }\n  }\n  return null;\n}\nfunction getLiveRegionContainer(from) {\n  let container = document.body;\n  if (from) {\n    const dialog = from.closest(\"dialog\");\n    if (dialog) {\n      container = dialog;\n    }\n  }\n  return container;\n}\nconst REGISTER_WAIT_MS = 150;\nfunction wait(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport { LiveRegionElement, announce, announceFromElement, templateContent };\n"],"names":["document","addEventListener","focusOnSearchInputAndAnnounceResults","input","getElementById","url","URL","window","location","href","origin","searchParams","has","delete","history","replaceState","title","toString","focus","setSelectionRange","value","length","setTimeout","searchResultElement","announceFromElement","el","options","isFeatureEnabled","announce","getTextContent","element","undefined","liveRegionAnnounceFromElement","politeness","assertive","message","Element","prototype","body","ariaNotify","interrupt","liveRegionAnnounce","setContainerContent","container","ssrSafeDocument","querySelector","textContent","getAttribute","innerText","trim","env","getEnv","getLocale","locale","loadEnv","envTag","JSON","parse","error","console","getEnabledFeaturesSet","Set","features","featureFlags","map","feature","toLowerCase","featuresSet","IS_SERVER","memoize","getEnabledFeatures","Array","from","name","featureFlag","ssrSafeWindow","ssrSafeHistory","ssrSafeLocation","pathname","search","hash","IS_BROWSER","wasServerRendered","Boolean","defaultHash","args","stringify","_","v","String","fn","opts","cache","Map","id","apply","get","result","Promise","catch","set","Ordering","Less","Equal","Greater","_compareFn","_heap","_heapifyDown","heapifyDown_fn","_heapifyUp","heapifyUp_fn","_a","_promise","_resolve","_reject","_pending","_queue","_timeoutId","_performWork","performWork_fn","_updateContainerWithMessage","updateContainerWithMessage_fn","__accessCheck$2","obj","member","msg","TypeError","__privateGet$2","getter","call","__privateAdd$2","WeakSet","add","__privateSet$2","setter","__privateMethod$1","method","MinHeap","constructor","compareFn","insert","push","pop","item","peek","index","indexOf","swap","clear","size","getParentIndex","Math","floor","heap","a","b","tmp","WeakMap","getLeftChildIndex","smallerChildIndex","hasParent","__defProp","Object","defineProperty","__defNormalProp","key","enumerable","configurable","writable","__publicField","__accessCheck$1","__privateGet$1","__privateAdd$1","__privateSet$1","Deferred","resolve","reject","then","onfulfilled","onrejected","finally","onfinally","reason","getPromise","Symbol","toStringTag","__accessCheck","__privateGet","__privateAdd","__privateSet","__privateMethod","LiveRegionElement","HTMLElement","shadowRoot","template2","template","createElement","innerHTML","templateContent","attachShadow","mode","appendChild","content","cloneNode","compareMessages","delay","parseInt","setAttribute","delayMs","now","Date","deferred","contents","scheduled","cancel","hasAttribute","noop","getMessage","clearTimeout","timeout","liveRegion","findLiveRegion","appendTo","canceled","wait","REGISTER_WAIT_MS","getClosestLiveRegion","dialog","closest","current","parentElement","contains","child","childNodes","getLiveRegionContainer","customElements","define","ms"],"sourceRoot":""}