{"version":3,"file":"app_assets_modules_github_sticky-scroll-into-view_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/perform-transition.ts","app/assets/modules/github/behaviors/details.ts","app/assets/modules/github/behaviors/hash-change.ts","app/assets/modules/github/behaviors/header.ts","app/assets/modules/github/behaviors/sticky-css.ts","app/assets/modules/github/behaviors/sticky.ts","app/assets/modules/github/fragment-target.ts","app/assets/modules/github/sticky-scroll-into-view.ts"],"sourcesContent":["// performTransition\n//\n// CSS3 transitions have some major pitfalls. First trying to transition\n// elements from `display:none` to `display:block.` And also dealing with\n// computed properties like `height:auto`.\n//\n// This helper attempts to deal with those issues while still defining\n// the transitions in pure css.\n//\n// Behaviors that intend to support these special case transitions\n// should call `performTransition` when they add or remove their state\n// classes.\n//\n// Any element that is performing a transition needs to be annotated\n// with the `js-transitionable` class name.\n//\n// @example\n//\n// <div class=\"js-transitionable collapse\">\n//   Slide down\n// </div>\n//\n// .collapse {\n//   display: none;\n//   position: relative;\n//   height: 0;\n//   overflow: hidden;\n//   @include transition(0.35s, height, ease);\n// }\n// .collapse.open {\n//   display: block;\n//   height: auto;\n// }\n//\n// performTransition document.querySelector('.collapse', () => {\n//   this.classList.add('open')\n// })\n\nconst supportsTransitions = 'ontransitionend' in window\n\n// DEPRECATED: PerformTransition is deprecated.\nexport default function performTransition(container: HTMLElement, cb: () => void) {\n  if (!supportsTransitions) {\n    cb()\n    return\n  }\n\n  const els = Array.from(container.querySelectorAll('.js-transitionable'))\n  if (container.classList.contains('js-transitionable')) els.push(container)\n\n  for (const el of els) {\n    const transitionHeight = isTransitioningHeight(el)\n    if (!(el instanceof HTMLElement)) continue\n\n    el.addEventListener(\n      'transitionend',\n      () => {\n        el.style.display = ''\n        el.style.visibility = ''\n\n        if (transitionHeight) {\n          withoutTransition(el, function () {\n            el.style.height = ''\n          })\n        }\n      },\n      {once: true},\n    )\n\n    el.style.boxSizing = 'content-box'\n    el.style.display = 'block'\n    el.style.visibility = 'visible'\n\n    if (transitionHeight) {\n      withoutTransition(el, function () {\n        el.style.height = getComputedStyle(el).height\n      })\n    }\n\n    // force reflow\n    el.offsetHeight\n  }\n\n  cb()\n\n  for (const el of els) {\n    if (!(el instanceof HTMLElement)) continue\n    if (isTransitioningHeight(el)) {\n      const currentHeight = getComputedStyle(el).height\n      el.style.boxSizing = ''\n      if (currentHeight === '0px') {\n        el.style.height = `${el.scrollHeight}px`\n      } else {\n        el.style.height = '0px'\n      }\n    }\n  }\n}\n\n// Detect if element is transitioning its height property.\nfunction isTransitioningHeight(el: Element) {\n  return getComputedStyle(el).transitionProperty === 'height'\n}\n\n// Apply style change callback w/o triggering a transition.\nfunction withoutTransition(el: HTMLElement, cb: () => void) {\n  el.style.transition = 'none'\n  cb()\n  el.offsetHeight\n  el.style.transition = ''\n}\n","/* eslint eslint-comments/no-use: off */\n/* eslint-disable github/no-then */\n\n/**\n * Details toggle.\n *\n * Use the details toggle to toggle content on the page. Similar to the\n * [HTML5 details element](https://www.w3.org/wiki/HTML/Elements/details).\n *\n * There are minimum two classes you will need to trigger the JS behavior.\n *\n * Apply the `.js-details-target` class to the element that will trigger\n * the toggle through a mouse click. For accessibility reasons, we recommend using a\n * `<button>` tag for this, but it can be applied to any element.\n *\n * A single `.js-details-container` class will be applied to a parent element that is wrapping\n * all the details components. The behavior will toggle an `Details--on` class on this element\n * which the CSS will use to show and hide the appropriate objects.\n *\n * There are default styling classes that will show and hide content for you. `.Details`\n * is a component that is built to show hidden content on open, and hide shown content\n * on close.\n *\n * The default state of the component is closed. Wrap the content and target with the `Details`\n * class. And apply `Details-content--hidden` to any element that you want *hidden* when closed\n * and *shown* when open.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\">See more info</button>\n *   <div class=\"Details-content--hidden\">Hidden details</div>\n * </div>\n * ```\n *\n * Shown content\n *\n * If you have some content that you would like to be *shown* by default and\n * *hidden* when the details is `Details--on`. Then you can use the `Details-content--shown`\n * class.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\" aria-label=\"Expand and collapse\">\n *     <%= octicon(\"chevron-down\", :class => \"Details-content--shown\") %>\n *     <%= octicon(\"chevron-up\", :class => \"Details-content--hidden\") %>\n *   </button>\n *   <div class=\"Details-content--shown\">Shown details</div>\n * </div>\n * ```\n *\n * For a11y reasons you can use the `data-label-open` and `data-label-closed` attributes\n * to set the aria-label of the button when the details is open or closed.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *  <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\" aria-label=\"Expand\"\n *    data-aria-label-open=\"Collapse\" data-aria-label-closed=\"Expand\">\n *   <%= octicon(\"chevron-down\", :class => \"Details-content--shown\") %>\n *   <%= octicon(\"chevron-up\", :class => \"Details-content--hidden\") %>\n *  </button>\n *  <div class=\"Details-content--hidden\">Hidden details</div>\n * </div>\n */\n\nimport hashChange from './hash-change'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport performTransition from '../perform-transition'\nimport {preservePosition} from 'scroll-anchoring'\n\nfunction findAndFocusByQuerySelector(container: HTMLElement, elements: string[]) {\n  elements.find(selector => {\n    const elementsFromSelector = Array.from(container.querySelectorAll<HTMLElement>(selector))\n    const lastVisibleElement = elementsFromSelector.findLast(el => {\n      return window.getComputedStyle(el).display !== 'none'\n    })\n\n    if (lastVisibleElement && document.activeElement !== lastVisibleElement) {\n      lastVisibleElement.focus()\n      return true // found\n    }\n  })\n}\n\nfunction restoreAutofocus(container: HTMLElement) {\n  findAndFocusByQuerySelector(container, ['.js-focus-on-dismiss', 'input[autofocus], textarea[autofocus]'])\n}\n\nfunction hideTooltip(target: HTMLElement) {\n  if (!target.classList.contains('tooltipped')) return\n  target.classList.remove('tooltipped')\n  target.addEventListener(\n    'mouseleave',\n    () => {\n      target.classList.add('tooltipped')\n      // eslint-disable-next-line github/no-blur\n      target.blur()\n    },\n    {once: true},\n  )\n}\n\nfunction groupMembers(group: string): Element[] {\n  return [...document.querySelectorAll('.js-details-container')].filter(\n    el => el.getAttribute('data-details-container-group') === group,\n  )\n}\n\nfunction containerTargets(container: Element): Element[] {\n  return [...container.querySelectorAll('.js-details-target')].filter(\n    target => target.closest('.js-details-container') === container,\n  )\n}\n\nfunction toggleGroup(container: Element, open: boolean): string | null {\n  const group = container.getAttribute('data-details-container-group')\n  if (!group) return null\n  preservePosition(container, () => {\n    for (const otherContainer of groupMembers(group)) {\n      if (otherContainer !== container) {\n        updateOpenState(otherContainer, open)\n      }\n    }\n  })\n  return group\n}\n\nfunction updateOpenState(container: Element, open: boolean) {\n  container.classList.toggle('open', open)\n  container.classList.toggle('Details--on', open)\n  if (open) {\n    const initialFocus = container.querySelector<HTMLElement>('.js-details-initial-focus')\n    if (initialFocus) {\n      setTimeout(() => {\n        initialFocus.focus()\n      }, 0)\n    }\n  }\n  for (const target of containerTargets(container)) {\n    target.setAttribute('aria-expanded', open.toString())\n    if (!target.hasAttribute('data-aria-label-open') || !target.hasAttribute('data-aria-label-closed')) continue\n    target.setAttribute(\n      'aria-label',\n      open ? target.getAttribute('data-aria-label-open')! : target.getAttribute('data-aria-label-closed')!,\n    )\n  }\n}\n\nexport function toggleDetailsTarget(target: HTMLElement, opts?: {withGroup?: boolean; force?: boolean}) {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const open = opts?.force ?? !container.classList.contains('open')\n  const withGroup = opts?.withGroup ?? false\n  performTransition(container, () => {\n    updateOpenState(container, open)\n    const group = withGroup ? toggleGroup(container, open) : null\n    Promise.resolve().then(() => {\n      restoreAutofocus(container)\n      hideTooltip(target)\n      container.dispatchEvent(\n        new CustomEvent('details:toggled', {\n          bubbles: true,\n          cancelable: false,\n          detail: {open},\n        }),\n      )\n      if (group) {\n        container.dispatchEvent(\n          new CustomEvent('details:toggled-group', {\n            bubbles: true,\n            cancelable: false,\n            detail: {open, group},\n          }),\n        )\n      }\n    })\n  })\n}\n\nexport function isDetailsTargetExpanded(target: HTMLElement): boolean {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const classList = container.classList\n  return classList.contains('Details--on') || classList.contains('open')\n}\n\nfunction handleDetailsTargetClick(event: Event) {\n  const withGroup = (event as MouseEvent).altKey\n  const target = event.currentTarget as HTMLElement\n  toggleDetailsTarget(target, {withGroup})\n  event.preventDefault()\n}\non('click', '.js-details-target', handleDetailsTargetClick)\n\n// Expand collapsed outdated diff if anchor points to it\n//   /github/github/pull/123#discussion-diff-456\n//   /github/github/pull/123#discussion-r345\nhashChange(function ({target}) {\n  if (target) ensureExpanded(target)\n})\n\nexport function ensureExpanded(target: Element) {\n  let toCollapse = false\n  let node = target.parentElement\n  while (node) {\n    if (node.classList.contains('Details-content--shown')) {\n      toCollapse = true\n    }\n    if (node.classList.contains('js-details-container')) {\n      node.classList.toggle('open', !toCollapse)\n      node.classList.toggle('Details--on', !toCollapse)\n      toCollapse = false\n    }\n    node = node.parentElement\n  }\n}\n","// Variant on the native `hashchange` event with extra features:\n//\n// * Guarantees that handlers run on DOMContentLoaded, or immediately if page has\n//   already loaded;\n// * If the anchor references an element by id, the `data.target` property of the\n//   argument passed to handlers will be a reference to that DOM element.\n//\n// Each handler will be invoked with a `data` object containing properties:\n//\n// * `oldURL` - String URL prior to the hash change, or `null` on initial page load;\n// * `newURL` - String URL after hash change, or current page URL;\n// * `target` - DOM element whose id matches the anchor value, or `null`.\n//\n// Examples\n//\n// ```js\n// // Redirect old anchor issue urls\n// hashChange((data) => {\n//   const m = data.newURL.match(/\\/issues#issue\\/(\\d+)$/)\n//   if (m) window.location = data.newURL.replace(/\\/?#issue\\/.+/, \"/#{m[1]}\")\n// })\n//\n// // Ensure that the referenced comment's parent container is visible\n// hashChange((data) => {\n//   const container = data.target && data.target.closest('.js-comments-container')\n//   if (container) container.classList.remove('d-none')\n// })\n// ```\n\nimport {ready} from '@github-ui/document-ready'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav/states'\n\nconst handlers: HashChangeListener[] = []\nlet ran = 0\n\ntype HashChangeListener = (opts: {oldURL: string | null; newURL: string; target?: Element | null}) => unknown\n\nexport default function hashChange(handler: HashChangeListener) {\n  ;(async function () {\n    handlers.push(handler)\n    await ready\n    runRemainingHandlers()\n  })()\n}\n\nhashChange.clear = () => {\n  handlers.length = ran = 0\n}\n\nfunction runRemainingHandlers() {\n  const index = ran\n  ran = handlers.length\n  runHandlers(handlers.slice(index), null, window.location.href)\n}\n\nfunction runHandlers(handlersToRun: HashChangeListener[], oldURL: string | null, newURL: string) {\n  const id = window.location.hash.slice(1)\n  const target = id ? document.getElementById(id) : null\n  const data = {oldURL, newURL, target}\n\n  for (const fn of handlersToRun) {\n    fn.call(null, data)\n  }\n}\n\n// Track ieOldURL manually to work around an open IE bug where the hashchange\n// event does not have oldURL or newURL attributes. See\n// https://connect.microsoft.com/IE/feedback/details/828283/implement-hashchangeevent-oldurl-and-newurl\nlet ieOldURL = window.location.href\nwindow.addEventListener('popstate', function () {\n  ieOldURL = window.location.href\n})\n\nwindow.addEventListener('hashchange', function (event) {\n  const newURL = window.location.href\n  try {\n    runHandlers(handlers, event.oldURL || ieOldURL, newURL)\n  } finally {\n    ieOldURL = newURL\n  }\n})\n\nlet softNavOldURL: string | null = null\n\ndocument.addEventListener(SOFT_NAV_STATE.START, function () {\n  softNavOldURL = window.location.href\n})\n\ndocument.addEventListener(SOFT_NAV_STATE.SUCCESS, function () {\n  runHandlers(handlers, softNavOldURL, window.location.href)\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {toggleDetailsTarget} from './details'\n\nobserve('.js-skip-to-content', element => {\n  element.addEventListener('focus', event => {\n    const target = event.currentTarget as HTMLElement\n    if (target.getAttribute('data-skip-target-assigned') === 'true') return\n\n    const defaultContentID = 'main-content'\n    let mainElement = document.querySelector('main')\n    if (!mainElement) mainElement = document.querySelector('#skip-to-content')?.nextElementSibling as HTMLElement\n    if (!mainElement) return\n\n    let mainElementID = mainElement.getAttribute('id')\n\n    if (!mainElementID) {\n      mainElementID = defaultContentID\n      mainElement.setAttribute('id', mainElementID)\n    }\n\n    target.setAttribute('href', `#${mainElementID}`)\n    target.setAttribute('data-skip-target-assigned', 'true')\n  })\n\n  element.addEventListener('click', event => {\n    const target = event.currentTarget as HTMLElement\n    const href = target.getAttribute('href')\n    if (!href) return\n\n    const mainContent = document.querySelector(href) as HTMLElement\n    if (!mainContent) return\n\n    mainContent.setAttribute('tabindex', '-1')\n    mainContent.setAttribute('data-skipped-to-content', '1')\n    mainContent.focus()\n  })\n})\n\nexport function hasSkippedToContent() {\n  const skippedToContent = document.querySelector('[data-skipped-to-content]')\n  if (skippedToContent) {\n    skippedToContent.removeAttribute('data-skipped-to-content')\n    return true\n  }\n  return false\n}\n\nconst touchDevice = 'ontouchstart' in document\nconst headerMenuItems = document.querySelectorAll<HTMLElement>('.js-header-menu-item')\nfor (const menuItem of headerMenuItems) {\n  menuItem.addEventListener('details:toggled', event => {\n    const target = event.target as HTMLInputElement\n\n    if (event instanceof CustomEvent && event.detail.open) {\n      for (const item of headerMenuItems) {\n        if (item !== target) {\n          toggleDetailsTarget(item, {force: false})\n        }\n      }\n    }\n  })\n\n  if (!touchDevice) {\n    menuItem.addEventListener('mouseleave', event => {\n      const target = event.target as HTMLInputElement\n\n      if (target.classList.contains('open')) {\n        toggleDetailsTarget(target, {force: false})\n      }\n    })\n  }\n}\n\ndocument.addEventListener('context-region-label:update', event => {\n  if (!(event instanceof CustomEvent && event.detail.label)) return\n\n  const contextRegionLabels = document.querySelectorAll('.js-context-region-label')\n  for (const contextRegionLabel of contextRegionLabels) {\n    contextRegionLabel.textContent = event.detail.label\n  }\n})\n\ndocument.addEventListener('turbo:before-cache', event => {\n  for (const dialog of (event.target as HTMLElement).querySelectorAll('dialog[open], modal-dialog[open]')) {\n    ;(dialog as HTMLDialogElement).close()\n  }\n})\n\n// Add a class to the body when the search input is active so we can apply some custom styles\nobserve('qbsearch-input', () => {\n  document.addEventListener('qbsearch-input:expand', () => {\n    document.body.setAttribute('blackbird-search-active', 'true')\n  })\n\n  document.addEventListener('qbsearch-input:close', () => {\n    document.body.setAttribute('blackbird-search-active', 'false')\n    document.body.style.overflow = ''\n  })\n})\n","// The current pixel height of the base sticky headers - currently only set by notification shelf\nlet baseStickyHeaderHeight = 0\n\ntype StickyHeightObserver = (newHeight: number) => void\nconst stickyHeaderHeightObservers = new Set<StickyHeightObserver>()\n\nexport function observeStickyHeaderHeight(observer: StickyHeightObserver): void {\n  stickyHeaderHeightObservers.add(observer)\n}\n\nexport function unobserveStickyHeaderHeight(observer: StickyHeightObserver): void {\n  stickyHeaderHeightObservers.delete(observer)\n}\n\nexport function getBaseStickyHeaderHeight() {\n  return baseStickyHeaderHeight\n}\n\nexport function setBaseStickyHeaderHeight(height: number) {\n  baseStickyHeaderHeight = height\n\n  // set a css variable on the body for calculations within other sticky headers\n  if (height) {\n    document.body.style.setProperty('--base-sticky-header-height', `${height}px`)\n  } else {\n    document.body.style.removeProperty('--base-sticky-header-height')\n  }\n\n  for (const observer of stickyHeaderHeightObservers) {\n    observer(height)\n  }\n}\n\nexport const baseStickyHeaderHeightCss = 'var(--base-sticky-header-height, 0px)'\n","// `position: sticky` behavior that works with the notification shelf\n//\n// This module provides three pieces of functionality:\n//\n// - A JavaScript polyfill for `position: sticky` for legacy html which hasn't been upgraded to\n//   use `position: sticky` or cannot yet  because the layout doesn't work with `position: sticky`\n// - Augments `position: sticky` elements to add an `.is-stuck` class to elements when they are stuck\n//   requires `.js-position-sticky` to be added to the stuck element\n// - Ensures that any sticky headers that are on the same page as the notifications shelf sit below it\n//   vertically, rather than hidden underneath the shelf\n// - Provides a `.js-notification-shelf-offset-top` class, that will offset the `top` value of the\n//   element it is attached to, to ensure it sits below the notification header if it exists\n//   (see `.gh-header-shadow` for example usage)\n//\n// Usage:\n//\n// Legacy:\n//\n//    <div class=\"js-sticky js-sticky-offset-scroll top-0\">My sticky content</div>\n//\n// Modern:\n//\n//    <div class=\"js-sticky js-position-sticky top-0\" style=\"position: sticky\">My sticky content</div>\n//\n// Aligning another element to sit below the notification shelf\n//\n//    <div class=\"js-notification-shelf-offset-top\" style=\"position: fixed; top: 60px; left: 0; right: 0;\">...</div>\n//\n// Before using this module, please consider using `position: sticky` directly. Or if you need the stuck state,\n// please consider using the `.js-sticky-state` module:\n// @see app/assets/modules/marketing/sticky-state.ts\n\nimport {hasSkippedToContent} from './header'\nimport {loaded} from '@github-ui/document-ready'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {getBaseStickyHeaderHeight, setBaseStickyHeaderHeight} from './sticky-css'\n\n// Have we set up the handlers already?\nlet listening = false\nlet stickyHeaderRendered = false\ninterface StickySet {\n  element: HTMLElement\n  placeholder: HTMLElement | null\n  offsetParent: Element | null\n  top: number\n}\n\nconst stickySets: StickySet[] = []\n\nfunction manageObservers() {\n  if (stickySets.length) {\n    addObservers()\n  } else {\n    removeObservers()\n  }\n}\n\nfunction addObservers() {\n  if (!listening) {\n    /* eslint-disable-next-line github/prefer-observers */\n    window.addEventListener('resize', checkElementsForStickingHandler)\n    /* eslint-disable-next-line github/prefer-observers */\n    document.addEventListener('scroll', checkElementsForStickingHandler)\n    listening = true\n  }\n}\n\nfunction removeObservers() {\n  window.removeEventListener('resize', checkElementsForStickingHandler)\n  document.removeEventListener('scroll', checkElementsForStickingHandler)\n  listening = false\n}\n\nexport function forceStickyRelayout() {\n  checkElementsForSticking(true)\n}\n\nfunction checkElementsForStickingHandler() {\n  checkElementsForSticking()\n}\n\nfunction checkElementsForSticking(force = false) {\n  for (const set of stickySets) {\n    if (set.element.offsetHeight > 0) {\n      // element isn't hidden\n      const {element, placeholder, top} = set\n      const elementBox = element.getBoundingClientRect()\n\n      if (placeholder) {\n        const placeholderBox = placeholder.getBoundingClientRect()\n\n        if (element.classList.contains('is-stuck')) {\n          if (placeholderBox.top > withShelfOffset(element, top)) {\n            unpinSet(set)\n          } else {\n            updatePinnedSet(set)\n          }\n        } else {\n          if (elementBox.top <= withShelfOffset(element, top)) {\n            pinSet(set)\n          } else if (force) {\n            updatePinnedSet(set)\n          }\n        }\n      } else {\n        // Ideally we'd write this more naturally, as:\n        //\n        //      if (elementBox.top <= withShelfOffset(element, top)) {\n        //\n        // however, at some zoom levels (eg. 175% in Chrome v98, but not at 150%\n        // or 200%) `elementBox.top` may evaluate to an imprecise non-integer\n        // value, like 60.000003814697266 instead of the expected 60 pixels,\n        // causing the comparison to incorrectly fail.\n        //\n        // So, we reframe the comparison in terms of a \"fuzz factor\"\n        // corresponding to a small sub-pixel quantity.\n        const fuzzFactor = 0.1\n        if (elementBox.top - withShelfOffset(element, top) < fuzzFactor) {\n          pinSet(set)\n        } else {\n          unpinSet(set)\n        }\n      }\n    }\n  }\n}\n\n// Determine if the browser has support for `position: sticky`.\nfunction browserHasSticky(el: HTMLElement): boolean {\n  const {position} = window.getComputedStyle(el)\n  return /sticky/.test(position)\n}\n\n// Pin an element.\nfunction pinSet({element, placeholder, top}: StickySet) {\n  if (placeholder) {\n    const elementBox = element.getBoundingClientRect()\n\n    setTopImportant(element, withShelfOffset(element, top))\n    element.style.left = `${elementBox.left}px`\n    element.style.width = `${elementBox.width}px`\n    element.style.marginTop = '0'\n    element.style.position = 'fixed'\n    placeholder.style.display = 'block'\n  }\n\n  element.classList.add('is-stuck')\n}\n\n// Unpin an element.\nfunction unpinSet({element, placeholder}: StickySet) {\n  if (placeholder) {\n    element.style.position = 'static'\n    element.style.marginTop = placeholder.style.marginTop\n    placeholder.style.display = 'none'\n  }\n\n  element.classList.remove('is-stuck')\n}\n\nfunction updatePinnedSet({element, placeholder, offsetParent, top}: StickySet) {\n  if (placeholder && !hasSkippedToContent()) {\n    const elementBox = element.getBoundingClientRect()\n    const placeholderBox = placeholder.getBoundingClientRect()\n\n    setTopImportant(element, withShelfOffset(element, top))\n    element.style.left = `${placeholderBox.left}px`\n    if (placeholderBox.width !== 0) element.style.width = `${placeholderBox.width}px`\n\n    // if the bottom of the fixed box overflows it's container, scroll it\n    if (offsetParent) {\n      const parentBox = offsetParent.getBoundingClientRect()\n\n      if (parentBox.bottom < elementBox.height + parseInt(String(top))) {\n        element.style.top = `${parentBox.bottom - elementBox.height}px`\n      }\n    }\n  }\n}\n\nfunction findOrCreatePlaceholder(el: HTMLElement): HTMLElement | null {\n  if (browserHasSticky(el)) {\n    return null\n  }\n\n  const previousElement = el.previousElementSibling as HTMLElement\n  if (previousElement && previousElement.classList.contains('is-placeholder')) {\n    return previousElement\n  }\n\n  const div = document.createElement('div')\n  div.style.visibility = 'hidden'\n  div.style.display = 'none'\n  div.style.height = window.getComputedStyle(el).height\n  div.className = el.className\n  div.classList.remove('js-sticky')\n  div.classList.add('is-placeholder')\n\n  return el.parentNode!.insertBefore(div, el)\n}\n\nfunction createSet(el: HTMLElement) {\n  const placeholder = findOrCreatePlaceholder(el)\n  const oldPosition = window.getComputedStyle(el).position\n\n  el.style.position = 'static' // do this to get offsetParent\n  const offsetParent = el.offsetParent\n\n  // set to fixed so we can read the `top` value from CSS\n  el.style.position = 'fixed'\n\n  const top = getOriginalTop(el)\n  const hash = {\n    element: el,\n    placeholder,\n    offsetParent,\n    top: top === 'auto' ? 0 : parseInt(top || '0'),\n  }\n\n  // set back to static\n  el.style.position = oldPosition\n\n  stickySets.push(hash)\n}\n\nfunction removeSet(el: HTMLElement) {\n  const idx = stickySets.map(set => set.element).indexOf(el)\n  stickySets.splice(idx, 1)\n}\n\nasync function initializeSet(el: HTMLElement) {\n  await loaded\n\n  requestAnimationFrame(() => {\n    if (!el.isConnected) return\n    createSet(el)\n    checkElementsForSticking()\n    manageObservers()\n  })\n  if (!stickyHeaderRendered) {\n    window.dispatchEvent(new CustomEvent('sticky-header-rendered'))\n    stickyHeaderRendered = true\n  }\n}\n\nobserve('.js-sticky', {\n  constructor: HTMLElement,\n  add(el) {\n    initializeSet(el)\n  },\n  remove(el) {\n    removeSet(el)\n    manageObservers()\n  },\n})\n\nobserve('.js-notification-top-shelf', {\n  constructor: HTMLElement,\n  add(shelfEl) {\n    initializeNotificationShelf(shelfEl)\n  },\n  remove() {\n    if (getBaseStickyHeaderHeight() > 0) {\n      setBaseStickyHeaderHeight(0)\n      updateTopOffsets()\n      forceStickyRelayout()\n    }\n  },\n})\n\n// Update the top value to include the shelf offset if elements are added later.\nobserve('.js-notification-shelf-offset-top, .js-position-sticky', {\n  constructor: HTMLElement,\n  add: updateTopOffset,\n})\n\n// Sets the global notificationShelfHeight variable to match a newly rendered shelf\n// if required, so that other sticky headers can adjust their position to match.\nasync function initializeNotificationShelf(shelfEl: HTMLElement) {\n  // don't measure the height of a hidden shelf\n  if (shelfEl.offsetParent === null) return\n  await loaded\n\n  const height = Math.floor(shelfEl.getBoundingClientRect().height)\n  if (height > 0) {\n    setBaseStickyHeaderHeight(height)\n    updateTopOffsets()\n    forceStickyRelayout()\n  }\n}\n\n// Updates the top offset of all js-position-sticky or js-notification-shelf-offset-top\n// elements to include the height of the notification shelf.\n//\n// If the shelf has since been removed, will return `top` to it's original value.\nfunction updateTopOffsets() {\n  for (const el of document.querySelectorAll<HTMLElement>('.js-position-sticky, .js-notification-shelf-offset-top')) {\n    updateTopOffset(el)\n  }\n}\n\n// Updates the top offset to include the notification bar offset.\nfunction updateTopOffset(el: HTMLElement) {\n  if (el.classList.contains('js-notification-top-shelf')) return\n\n  const top = parseInt(getOriginalTop(el)) || 0\n  setTopImportant(el, top + getBaseStickyHeaderHeight())\n}\n\n// Returns the original-top value if it's been set as a data-attribute, or if not\n// retrieves it from getComputedStyle and caches it.\n//\n// This is required because an element with an already modified top value may be\n// loaded in from the PJAX cache, and without this attribute, we cannot tell if\n// we already added the shelf offset to it's top value or not.\nfunction getOriginalTop(el: HTMLElement): string {\n  const originalTop = el.getAttribute('data-original-top')\n  if (originalTop != null) return originalTop\n\n  const top = window.getComputedStyle(el).top\n  el.setAttribute('data-original-top', top)\n  return top\n}\n\n// Add a pixel offset to a number (e.g an existing top value) to offset it\n// by the current height of the notification shelf.\nfunction withShelfOffset(el: HTMLElement, top: number): number {\n  if (el.classList.contains('js-notification-top-shelf')) return top\n\n  return top + getBaseStickyHeaderHeight()\n}\n\n// Update the top style property of an element with !important.\nfunction setTopImportant(el: HTMLElement, top: number) {\n  el.style.setProperty('top', `${top}px`, 'important')\n}\n","// Find element within document matching location hash.\nexport function findFragmentTarget(document: Document, hash: string = location.hash): Element | null {\n  return findElementByFragmentName(document, decodeFragmentValue(hash))\n}\n\n// Find element within document matching id or name.\nexport function findElementByFragmentName(document: Document, name: string): Element | null {\n  if (name === '') return null\n  return document.getElementById(name) || document.getElementsByName(name)[0]!\n}\n\n// Decode location hash.\nexport function decodeFragmentValue(hash: string): string {\n  try {\n    return decodeURIComponent(hash.slice(1))\n  } catch {\n    return ''\n  }\n}\n","import {findFragmentTarget} from './fragment-target'\nimport {forceStickyRelayout} from './behaviors/sticky'\n\n// Scroll element into view accounting for sticky/fixed overlays.\nexport function scrollIntoView(el: Element | HTMLElement) {\n  if (el.hasAttribute('data-ignore-sticky-scroll')) {\n    // Some elements already take sticky headers into account, and can scroll themselves properly\n    return\n  }\n\n  const document = el.ownerDocument\n  setTimeout(() => {\n    if (document && document.defaultView) {\n      el.scrollIntoView()\n      document.defaultView.scrollBy(0, -computeFixedYOffset(document))\n    }\n  }, 0)\n}\n\n// Scroll to fragment target element accounting for sticky/fixed\n// overlays.\nexport function scrollToFragmentTarget(document: Document) {\n  const target = findFragmentTarget(document)\n  if (target) {\n    scrollIntoView(target)\n  }\n}\n\n// Compute height of visible sticky/fixed overlay on page.\nexport function computeFixedYOffset(document: Document): number {\n  // Force synchronous layout of any sticky elements before measuring offset\n  forceStickyRelayout()\n\n  const jsStickyEls = document.querySelectorAll('.js-sticky-offset-scroll')\n  const positionStickyEls = document.querySelectorAll('.js-position-sticky')\n\n  // Find maximum combined height of sticky-offset / position-sticky elements\n  // If none are present, fallback to 0 as Math.max() returns -Infinity\n\n  const scrollOffset =\n    Math.max(\n      0,\n      ...Array.from(jsStickyEls).map(el => {\n        const {top, height} = el.getBoundingClientRect()\n        return top === 0 ? height : 0\n      }),\n    ) +\n    Math.max(\n      0,\n      ...Array.from(positionStickyEls).map(el => {\n        const {top, height} = el.getBoundingClientRect()\n        const topStyleValue = parseInt(getComputedStyle(el).top)\n\n        if (!el.parentElement) {\n          return 0\n        }\n\n        const parentTop = el.parentElement.getBoundingClientRect().top\n        // include js-position-sticky element height in scroll offset if element is sticky\n        return top === topStyleValue && parentTop < 0 ? height : 0\n      }),\n    )\n\n  // Use .js-position-sticky-stacked for sticky elements that are stacked (e.g. multiple sticky elements on a page)\n  // rather than nested\n  const jsStickyElsStacked = document.querySelectorAll('.js-position-sticky-stacked')\n  const stackedHeight = Array.from(jsStickyElsStacked).reduce((a, el) => {\n    const {height, top} = el.getBoundingClientRect()\n    const isOffScreen = top < 0\n    const isStuck = el.classList.contains('is-stuck')\n    return a + (!isOffScreen && isStuck ? height : 0)\n  }, 0)\n\n  return scrollOffset + stackedHeight\n}\n"],"names":["supportsTransitions","window","isTransitioningHeight","el","getComputedStyle","transitionProperty","withoutTransition","cb","style","transition","offsetHeight","updateOpenState","container","open","classList","toggle","initialFocus","querySelector","setTimeout","focus","target","querySelectorAll","filter","closest","setAttribute","toString","hasAttribute","getAttribute","toggleDetailsTarget","opts","containerSelector","force","contains","withGroup","performTransition","els","Array","from","push","transitionHeight","HTMLElement","addEventListener","display","visibility","height","once","boxSizing","currentHeight","scrollHeight","group","toggleGroup","preservePosition","otherContainer","document","Promise","resolve","then","findAndFocusByQuerySelector","elements","find","selector","lastVisibleElement","elementsFromSelector","findLast","activeElement","remove","add","blur","dispatchEvent","CustomEvent","bubbles","cancelable","detail","isDetailsTargetExpanded","ensureExpanded","toCollapse","node","parentElement","on","event","altKey","currentTarget","preventDefault","hashChange","handlers","ran","handler","ready","runRemainingHandlers","index","length","runHandlers","slice","location","href","handlersToRun","oldURL","newURL","id","hash","data","getElementById","fn","call","clear","ieOldURL","softNavOldURL","SOFT_NAV_STATE","START","SUCCESS","hasSkippedToContent","skippedToContent","removeAttribute","observe","element","mainElement","nextElementSibling","mainElementID","mainContent","touchDevice","headerMenuItems","menuItem","item","label","contextRegionLabel","textContent","dialog","close","body","overflow","baseStickyHeaderHeight","stickyHeaderHeightObservers","Set","setBaseStickyHeaderHeight","observer","setProperty","removeProperty","listening","stickyHeaderRendered","stickySets","manageObservers","checkElementsForStickingHandler","removeEventListener","forceStickyRelayout","checkElementsForSticking","set","placeholder","top","elementBox","getBoundingClientRect","placeholderBox","withShelfOffset","unpinSet","updatePinnedSet","pinSet","setTopImportant","left","width","marginTop","position","offsetParent","parentBox","bottom","parseInt","String","initializeSet","loaded","requestAnimationFrame","isConnected","createSet","findOrCreatePlaceholder","browserHasSticky","test","previousElement","previousElementSibling","div","createElement","className","parentNode","insertBefore","oldPosition","getOriginalTop","initializeNotificationShelf","shelfEl","Math","floor","updateTopOffsets","updateTopOffset","originalTop","constructor","removeSet","idx","map","indexOf","splice","findFragmentTarget","findElementByFragmentName","decodeFragmentValue","name","getElementsByName","decodeURIComponent","scrollIntoView","ownerDocument","defaultView","scrollBy","computeFixedYOffset","scrollToFragmentTarget","jsStickyEls","positionStickyEls","scrollOffset","max","topStyleValue","parentTop","reduce","a","isStuck"],"sourceRoot":""}