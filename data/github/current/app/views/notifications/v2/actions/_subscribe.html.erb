<%
  # disables the button if the list is ignored, as subscribing won't work
  list_is_ignored ||= false

  button_title = if list_is_ignored
    "Cannot subscribe as you are ignoring the repository"
  else
    "Subscribe"
  end
%>

<%= render partial: "notifications/v2/actions/action", locals: {
    classes: local_assigns[:classes],
    button_classes: local_assigns[:button_classes],
    hidden: local_assigns[:hidden],
    form_path: notifications_beta_mark_as_subscribed_path,
    form_attributes: { "data-subscription-status": "subscribed", "data-status": "read", "data-update": true },
    button_title: button_title,
    button_icon: "bell",
    button_disabled: list_is_ignored,
    notification_id: local_assigns[:notification_id],
    show_button_text: local_assigns[:show_button_text]
  }
%>
