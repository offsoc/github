"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["copilot-immersive"],{92186:(e,t,s)=>{var i=s(86233),r=s(79840),o=s(9449);function n(e){return(0,o.jsx)(o.Fragment,{children:e.children})}try{n.displayName||(n.displayName="App")}catch{}var a=s(88492),l=s(47050),d=s(5291),c=s(82897),_=s(42024),p=s(65490),m=s(97665),u=s(55293),h=s(39012),x=s(76206),g=s(45471);let v=null;var j=s(31881),f=s(75177),y=s(11963),b=s(13180),w=s(59857),k=s(281),A=s(73729),T=s(44981),C=s(17909);let I=({title:e,items:t,selectedItemID:s,onSelect:i,loading:r,searchPlaceholder:n,asLinks:a})=>{let[l,d]=(0,u.useState)(""),c=t.filter(e=>e.text.toLowerCase().includes(l.toLowerCase()));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.A,{sx:{px:3,py:2},children:(0,o.jsx)(A.A,{as:"h1",sx:{fontSize:1},children:e})}),(0,o.jsxs)(f.A,{sx:{px:2},children:[(0,o.jsx)(T.A,{block:!0,contrast:!0,leadingVisual:w.SearchIcon,"aria-label":n||"Search",placeholder:n||"Search",value:l,onChange:e=>d(e.target.value)}),(0,o.jsx)("span",{className:"sr-only",children:"Items will be filtered as you type"})]}),(0,o.jsx)(C.l,{sx:{py:0},children:(0,o.jsx)(C.l.Divider,{sx:{mb:0}})}),(0,o.jsx)(C.l,{sx:{maxHeight:"30dvh",overflowY:"auto",overflowX:"hidden"},children:r?(0,o.jsx)(C.l.Item,{sx:{p:3,textAlign:"center"},children:"Loading..."}):c.length?c.map(e=>a?(0,o.jsxs)(C.l.LinkItem,{active:e.id===s,href:e.id!==s?e.href:void 0,children:[e.leadingVisual&&(0,o.jsx)(C.l.LeadingVisual,{children:e.leadingVisual}),e.text]},e.id):(0,o.jsxs)(C.l.Item,{active:e.id===s,onSelect:()=>e.id!==s?i?.(e):void 0,children:[e.leadingVisual&&(0,o.jsx)(C.l.LeadingVisual,{children:e.leadingVisual}),e.text]},e.id)):(0,o.jsx)(C.l.Item,{sx:{p:3,textAlign:"center"},children:"No items"})})]})};try{I.displayName||(I.displayName="SelectMenu")}catch{}let L=()=>{let{threads:e,selectedThreadID:t,mode:s}=(0,l.Pk)(),i=(0,d.b)(),[r,n]=(0,u.useState)(!1),a=(0,u.useMemo)(()=>i.sortThreads(e).map(e=>({id:e.id,text:(0,x.CB)(e),href:`/copilot/c/${e.id}`})),[e,i]),c=(0,u.useCallback)(async t=>{let s=e.get(t.id);s&&await i.selectThread(s)},[e,i]);return(0,u.useEffect)(()=>{(async()=>{n(!0),await i.fetchThreads(),n(!1)})()},[i]),(0,o.jsxs)(k.W,{children:[(0,o.jsx)(k.W.Anchor,{children:(0,o.jsx)(b.v,{icon:w.HistoryIcon,label:"Conversation history",tooltipDirection:"s",variant:"invisible",sx:{color:"fg.muted"}})}),(0,o.jsx)(k.W.Overlay,{width:"medium",children:(0,o.jsx)(I,{title:"Previous conversations",searchPlaceholder:"Search previous conversations",items:a,selectedItemID:t,onSelect:c,loading:r,asLinks:"immersive"===s})})]})};try{L.displayName||(L.displayName="PreviousThreadsHeaderMenu")}catch{}var N=s(60188),D=s(10871),S=s(16372),P=s(85349),E=s(55847),B=s(69909);function H({repo:e}){let[t,s]=(0,u.useState)(!1),i=(0,u.useCallback)(()=>s(!0),[s]),r=(0,u.useCallback)(()=>s(!1),[s]);return(0,o.jsx)(P.T,{renderAnchor:t=>(0,o.jsx)(E.Q,{...t,leadingVisual:()=>(0,o.jsx)(S.W,{ownerLogin:e.ownerLogin,ownerType:e.ownerType,size:20}),sx:{color:"fg.default",height:"28px"},variant:"invisible",children:e.name}),open:t,onOpen:i,onClose:r,overlayProps:{width:"large"},children:(0,o.jsxs)(f.A,{sx:{display:"flex",flexDirection:"column",maxWidth:"500px",padding:2},children:[(0,o.jsxs)(f.A,{sx:{display:"flex",flexDirection:"row",gap:2,alignItems:"center",p:2,pb:0},children:[(0,o.jsx)(S.W,{ownerLogin:e.ownerLogin,ownerType:e.ownerType,size:32}),(0,o.jsxs)(f.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,o.jsx)(B.A,{sx:{fontSize:1,fontWeight:600},children:e.name}),(0,o.jsxs)(B.A,{sx:{color:"fg.muted",fontSize:0},children:[(0,o.jsx)("span",{style:{textTransform:"capitalize"},children:e.visibility})," repository"]})]})]}),e.description&&(0,o.jsx)(B.A,{sx:{p:2,pt:3},children:e.description}),(0,o.jsx)(C.l.Divider,{sx:{mx:"-8px"}}),(0,o.jsxs)(C.l.LinkItem,{href:`/${e.ownerLogin}/${e.name}?copilot=1`,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(w.LinkExternalIcon,{})}),"Open this conversation in repository view"]})]})})}try{H.displayName||(H.displayName="RepoButton")}catch{}var W=s(27788);let R=e=>{let{selectedThreadID:t,threads:s,mode:i}=(0,l.Pk)(),r=(0,d.b)(),n=(0,W.Z)(),a=t?s.get(t):null;return(0,o.jsx)(h.iw,{handleDelete:()=>{a&&r.deleteThread(a),"immersive"===i&&n(x.Jz)},setShowExperimentsDialog:e.setShowExperimentsDialog,thread:a})};try{R.displayName||(R.displayName="ThreadHeaderMenu")}catch{}function z(e){let{experimentsDialogRef:t,showExperimentsDialog:s,setShowExperimentsDialog:i}=e,r=(0,l.Pk)(),n=(0,d.b)(),{currentTopic:a,messages:c}=r,_=(0,x.CB)(n.getSelectedThread(r));return(0,N.D)(`${_} \xb7 GitHub Copilot`),c.length>0||r.currentTopic?(0,o.jsxs)(f.A,{sx:{alignItems:"center",borderBottom:"1px solid",borderBottomColor:"border.default",justifyContent:"space-between",display:"flex",px:3,py:"12px"},children:[(0,o.jsx)(A.A,{as:"h1",sx:{fontSize:2,mr:1},children:_}),c.length>0&&a&&(0,x.Z6)(a)&&(0,o.jsx)(H,{repo:a}),(0,o.jsx)(f.A,{sx:{marginInlineStart:"auto"},children:(0,o.jsx)(M,{setShowExperimentsDialog:i})}),s&&(0,o.jsx)(y.J,{onDismiss:()=>{i(!1)},experimentsDialogRef:t})]}):null}function M(e){return(0,o.jsxs)(f.A,{sx:{alignItems:"center",display:"flex",flexShrink:0,gap:1},children:[(0,o.jsx)(D.z,{href:"/copilot",leadingVisual:w.PlusIcon,sx:{mr:1,"[data-component=text]":{display:["none","block","block"]}},children:"New conversation"}),(0,o.jsx)(L,{}),(0,o.jsx)(R,{setShowExperimentsDialog:e.setShowExperimentsDialog})]})}try{z.displayName||(z.displayName="Header")}catch{}try{M.displayName||(M.displayName="Actions")}catch{}function U({chat:e}){let t=(0,l.Pk)(),[s,i]=(0,u.useState)(!1),r=(0,u.useRef)(null),n=t.messages.length?"100dvh - 64px - 52px":"100dvh - 64px",a=(0,u.useSyncExternalStore)(()=>()=>{},()=>(null===v&&(v=function(){let e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}()),v),()=>0),d=(0,u.useRef)(!1);(0,u.useEffect)(()=>{if(!d.current){let e=document.createElement("style");document.head.appendChild(e),e.appendChild(document.createTextNode("#js-global-screen-reader-notice, #js-global-screen-reader-notice-assertive { margin: -1px; }"))}d.current=!0},[]);let c=t.currentTopic&&(0,x.Z6)(t.currentTopic);return(0,o.jsxs)(j.M,{columnGap:"normal",containerWidth:"full",padding:"normal",rowGap:"normal",sx:{"> div":{flexDirection:"column",height:"inherit",flexWrap:"nowrap"},height:`calc(${n})`,paddingLeft:"0 !important",paddingRight:"0 !important",paddingTop:"0 !important"},children:[(0,o.jsxs)(j.M.Header,{sx:{mb:"0 !important"},children:[(0,o.jsx)(f.A,{sx:{"@media screen and (max-width: 767px)":{display:"none"}},children:(0,o.jsx)(z,{setShowExperimentsDialog:i,experimentsDialogRef:r,showExperimentsDialog:s})}),(0,o.jsx)(f.A,{sx:{"@media screen and (min-width: 768px)":{display:"none"}},children:(0,o.jsx)(h.Y9,{view:"thread",showExperimentsDialog:s,setShowExperimentsDialog:i,experimentsDialogRef:r,isImmersive:!0})})]}),(0,o.jsx)(g.W,{}),(0,o.jsx)(j.M.Content,{as:"div",sx:{'div:has(> [role="separator"])':{left:[null,null,"9px","10px"],height:0,top:"calc(50% - 5%)",m:0},marginLeft:"auto",marginRight:"auto !important","@media screen and (max-width: 767px)":{px:3}},width:void 0,children:(0,o.jsx)(f.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100%",maxHeight:`calc(${n})`,pb:3,pt:0,pr:0,pl:1,overflow:["visible","visible","hidden"],".copilot-messages-container":{pb:[108,108,0]},".copilot-chat-messages, .copilot-chat-input":{p:0,width:"100%"},".copilot-chat-messages":{height:t.messages.length?"100vh":void 0,overflowY:["visible","visible","auto"],pt:3,pb:[c?108:62,c?108:62,0],pl:[0,0,"calc((100% - 720px) / 2)"],pr:[0,0,`calc((100% - 720px) / 2 - ${a}px)`],overscrollBehavior:"auto"},".copilot-chat-input":{position:["fixed","fixed","relative"],bottom:[3,3,0],left:["20px","20px","0"],width:[`calc(100vw - 35px - ${a}px)`,`calc(100vw - 35px - ${a}px)`,"100%"],px:[0,0,"calc((100% - 720px) / 2)"]}},"data-hpc":!0,children:e})})]})}try{U.displayName||(U.displayName="Layout")}catch{}var F=s(24128),V=s(86519),$=s(54392);let O={Container:"Unlicensed-module__Container--I0TFf",Top:"Unlicensed-module__Top--cWpnI",Bottom:"Unlicensed-module__Bottom--OirW4",Info:"Unlicensed-module__Info--OtZ1X"};function q(){return(0,o.jsxs)("div",{className:O.Container,children:[(0,o.jsx)("div",{className:O.Top,children:(0,o.jsx)(F.A,{})}),(0,o.jsxs)("div",{className:O.Bottom,children:[(0,o.jsx)($.l,{variant:"upsell",title:"Upgrade",hideTitle:!0,icon:(0,o.jsx)(w.CopilotIcon,{}),description:(0,o.jsx)("span",{children:"Accelerate your development speed with Copilot"}),primaryAction:(0,o.jsx)(D.z,{as:"a",href:"https://github.com/features/copilot#pricing",children:"Upgrade"})}),(0,o.jsxs)("p",{className:O.Info,children:["Discover all the"," ",(0,o.jsx)(V.A,{href:"https://github.com/features/copilot",inline:!0,children:"benefits"})," ","of the world\u2019s leading AI developer tool."]})]})]})}try{q.displayName||(q.displayName="Unlicensed")}catch{}function K(){return(0,c.B)().licensed?(0,o.jsx)(G,{children:(0,o.jsx)(Y,{})}):(0,o.jsx)(q,{})}let X=new p.E;function G({children:e}){let t=(0,c.B)();return(0,o.jsx)(_.LB,{children:(0,o.jsx)(m.Ht,{client:X,children:(0,o.jsx)(l.Mj,{login:t.currentUserLogin,apiURL:t.apiURL,workerPath:t.searchWorkerFilePath,threadId:t.threadID,refs:[],mode:"immersive",topic:t.requestedTopic,ssoOrganizations:t.ssoOrganizations,renderKnowledgeBases:t.renderKnowledgeBases,renderAttachKnowledgeBaseHerePopover:t.renderAttachKnowledgeBaseHerePopover,renderKnowledgeBaseAttachedToChatPopover:t.renderKnowledgeBaseAttachedToChatPopover,customInstructions:t.customInstructions,agentsPath:t.agentsPath,optedInToUserFeedback:t.optedInToUserFeedback,reviewLab:t.reviewLab,children:e})})})}function Y(){let e=(0,l.Pk)(),t=(0,d.b)(),{selectedThreadID:s}=e;return(0,u.useEffect)(()=>{t.fetchMessages(s)},[]),(0,u.useEffect)(()=>{let e=()=>{window.location.href.includes("/r/")?(t.showTopicPicker(!1),t.selectThread(null)):window.location.href.includes("/c/")||(t.showTopicPicker(!0),t.selectThread(null))};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[t]),(0,o.jsx)(U,{chat:(0,o.jsx)(a.r,{},e.selectedThreadID)})}try{K.displayName||(K.displayName="CopilotImmersive")}catch{}try{G.displayName||(G.displayName="CopilotImmersiveProviders")}catch{}try{Y.displayName||(Y.displayName="Immersive")}catch{}(0,r.Q)("copilot-immersive",()=>({App:n,routes:[(0,i.a)({path:"/copilot",Component:K}),(0,i.a)({path:"/copilot/c/:threadID",Component:K}),(0,i.a)({path:"/copilot/d/:docsetName",Component:K}),(0,i.a)({path:"/copilot/r/:owner/:repository",Component:K})]}))},86233:(e,t,s)=>{s.d(t,{a:()=>i});function i({path:e,Component:t,shouldNavigateOnError:s,transitionType:i,children:r}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let s=`${e.pathname}${e.search}`;t=await window.fetch(s,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom","X-React-Router":"json"}})}catch(e){return{type:s?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:s?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:s?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:i,children:r}}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-7901e7","vendors-node_modules_react-router-dom_dist_index_js","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionList_js","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_stack-68835d","vendors-node_modules_primer_react_lib-esm_Heading_Heading_js-node_modules_primer_react_lib-es-cdb604","vendors-node_modules_primer_react_lib-esm_PageLayout_PageLayout_js","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-b1b3d3","vendors-node_modules_github_hotkey_dist_index_js-node_modules_lodash-es_capitalize_js","vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_primer_react_node_m-73dd48","vendors-node_modules_tanstack_query-core_build_modern_queryClient_js-node_modules_tanstack_qu-0e879d","vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_fzy_js_index-192fd2","vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--df3bb1","vendors-node_modules_primer_react_lib-esm_Label_Label_js-node_modules_highlight_js_lib_index_-b32584","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_primer_react_lib-es-982330","ui_packages_react-core_register-app_ts","ui_packages_relay-environment_relay-environment_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_copilot-chat_utils_copilot-chat-hooks_ts-ui_packages_issue-viewer_utils_queries_ts","ui_packages_paths_index_ts-ui_packages_react-core_create-browser-history_ts-ui_packages_safe--238647","ui_packages_use-client-value_use-client-value_ts-ui_packages_copilot-chat_components_Header_t-12eff5"],()=>t(92186)),e.O()}]);
//# sourceMappingURL=copilot-immersive-76516c563120.js.map