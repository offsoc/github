"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_graphs_package-dependencies-security-graph-element_ts"],{95931:(t,e,n)=>{n.d(e,{A:()=>r});function r(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=Array(a);++r<a;)i[r]=t+r*n;return i}},51889:(t,e,n)=>{n.d(e,{l7:()=>c,V4:()=>d,eH:()=>s});var r=Array.prototype.slice;function a(t){return t}function i(t){return"translate("+(t+.5)+",0)"}function o(t){return"translate(0,"+(t+.5)+")"}function l(){return!this.__axis}function u(t,e){var n=[],u=null,s=null,c=6,d=6,f=3,p=1===t||4===t?-1:1,h=4===t||2===t?"x":"y",g=1===t||3===t?i:o;function m(r){var i=null==u?e.ticks?e.ticks.apply(e,n):e.domain():u,o=null==s?e.tickFormat?e.tickFormat.apply(e,n):a:s,m=Math.max(c,0)+f,y=e.range(),x=+y[0]+.5,v=+y[y.length-1]+.5,b=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return e=>+t(e)})(e.copy()),w=r.selection?r.selection():r,k=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(i,e).order(),A=M.exit(),C=M.enter().append("g").attr("class","tick"),T=M.select("line"),_=M.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(C),T=T.merge(C.append("line").attr("stroke","currentColor").attr(h+"2",p*c)),_=_.merge(C.append("text").attr("fill","currentColor").attr(h,p*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),r!==w&&(k=k.transition(r),M=M.transition(r),T=T.transition(r),_=_.transition(r),A=A.transition(r).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=b(t))?g(t):this.getAttribute("transform")}),C.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return g(e&&isFinite(e=e(t))?e:b(t))})),A.remove(),k.attr("d",4===t||2==t?d?"M"+p*d+","+x+"H0.5V"+v+"H"+p*d:"M0.5,"+x+"V"+v:d?"M"+x+","+p*d+"V0.5H"+v+"V"+p*d:"M"+x+",0.5H"+v),M.attr("opacity",1).attr("transform",function(t){return g(b(t))}),T.attr(h+"2",p*c),_.attr(h,p*m).text(o),w.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each(function(){this.__axis=b})}return m.scale=function(t){return arguments.length?(e=t,m):e},m.ticks=function(){return n=r.call(arguments),m},m.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.call(t),m):n.slice()},m.tickValues=function(t){return arguments.length?(u=null==t?null:r.call(t),m):u&&u.slice()},m.tickFormat=function(t){return arguments.length?(s=t,m):s},m.tickSize=function(t){return arguments.length?(c=d=+t,m):c},m.tickSizeInner=function(t){return arguments.length?(c=+t,m):c},m.tickSizeOuter=function(t){return arguments.length?(d=+t,m):d},m.tickPadding=function(t){return arguments.length?(f=+t,m):f},m}function s(t){return u(2,t)}function c(t){return u(3,t)}function d(t){return u(4,t)}},87031:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(10541),a=n(50183);function i(){let t=function(){let t=document.createElement("div");return t.style.position="absolute",t.style.top="0",t.style.opacity="0",t.style.pointerEvents="none",t.style.boxSizing="border-box",t}(),e=null;function n(){return[0,0]}function i(){return" "}function o(n){e=(function(t){let e=t.node();return"svg"===e.tagName.toLowerCase()?e:e.ownerSVGElement})(n).createSVGPoint(),document.body.appendChild(t)}return o.show=function(r,a){let l=i(a),u=n(a),s=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;t.innerHTML=l,t.style.opacity="1",t.style.pointerEvents="all";let d=function(t,e,n){let r=function(t,e){let n=t;for(;void 0===n.getScreenCTM&&"undefined"===n.parentNode;)n=n.parentNode;let r={},a=n.getScreenCTM(),i=n.getBBox(),o=i.width,l=i.height,u=i.x,s=i.y;return e.x=u,e.y=s,r.nw=e.matrixTransform(a),e.x+=o,r.ne=e.matrixTransform(a),e.y+=l,r.se=e.matrixTransform(a),e.x-=o,r.sw=e.matrixTransform(a),e.y-=l/2,r.w=e.matrixTransform(a),e.x+=o,r.e=e.matrixTransform(a),e.x-=o/2,e.y-=l/2,r.n=e.matrixTransform(a),e.y+=l,r.s=e.matrixTransform(a),r}(n,t);return{top:r.n.y-e.offsetHeight,left:r.n.x-e.offsetWidth/2}}(e,t,r.target);return t.classList.toggle("n",!0),t.style.top=`${d.top+u[0]+s}px`,t.style.left=`${d.left+u[1]+c}px`,o},o.hide=function(){return t.style.opacity="0",t.style.pointerEvents="none",o},o.attr=function(e,n){return r.Ay.prototype.attr.apply((0,a.A)(t),[e,n]),o},o.offset=function(t){return n=function(){return t},o},o.html=function(t){return i=t,o},o}},53113:(t,e,n)=>{n.r(e);var r=n(51889),a=n(39595),i=n(95931),o=n(21671),l=n(53170),u=n(4049),s=n(87031),c=n(27193),d=n(14398),f=n(5225),p=n(50183);function h(t,e,n,r){var a,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}let g=(0,f.A)(m);async function m(t){let e=await (0,c.Ee)(t,{headers:{accept:"application/json"}});return await e.json()}let y=class PackageDependenciesSecurityGraphElement extends HTMLElement{async connectedCallback(){let t=this.graph,e=t.getAttribute("data-url");if(e){for(let e of t.querySelectorAll("svg"))e.remove();t.classList.add("is-graph-loading"),t.classList.remove("is-graph-load-error","is-graph-empty");try{let n=await g(e);t.classList.remove("is-graph-loading"),null!=n&&n.unusable?t.classList.add("is-graph-without-usable-data"):null!=n&&0===n.length||null!=n&&null!=n.summary&&0===n.summary.total||null!=n[0]&&null!=n[0].weeks&&0===n[0].weeks.length?t.classList.add("is-graph-empty"):function(t,e){let n=Math.round(t.getBoundingClientRect().width)-30-0,a=Math.round(t.getBoundingClientRect().height)-10-20,c=(0,l.A)().domain((0,i.A)(e.length)).rangeRound([0,n]).padding(.2),f=(0,r.l7)(c).ticks(e.length).tickFormat(()=>""),h=(0,u.A)().domain([0,(0,o.A)(e,t=>t.count)+5]).range([a,0]),g=(0,r.V4)(h).ticks(3).tickSize(-n).tickFormat(t=>(0,d.GP)(",~s")(t)),m=(0,p.A)(t).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${n+30+0} ${a+10+20}`).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform","translate(30, 10)"),y=(0,s.A)().attr("class","svg-tip").attr("role","status").offset([-10,0]).html(t=>`${new Intl.NumberFormat("en-US").format(t.count)} ${1===t.count?"vulnerability":"vulnerabilities"} affecting ${new Intl.NumberFormat("en-US").format(t.dependents)} ${1===t.dependents?"dependent":"dependents"}`);m.call(y),m.append("g").attr("class","y axis").call(g),m.append("g").attr("class","x axis").attr("transform",`translate(0, ${a})`).call(f);let x=m.selectAll(".bar").data(e).enter().append("g").attr("transform",(t,e)=>`translate(${c(e)}, 0)`).append("a").attr("class","no-underline").attr("aria-label",t=>`Filter to ${t.label} severity vulnerabilities`).attr("xlink:href",t=>t.url).on("focus",y.show).on("blur",y.hide),v=x.append("rect").attr("class",t=>`alert-label--${t.label.toLowerCase()}`).attr("width",c.bandwidth()).attr("height",t=>a-h(t.count)).attr("y",t=>h(t.count)).on("mouseover",y.show).on("mouseout",y.hide);e.find(t=>t.selected)&&v.attr("style",t=>t.selected?"":"fill-opacity: 0.2"),x.append("text").text(t=>t.label).attr("class","axis").attr("text-anchor","middle").attr("y",a+16).attr("x",c.bandwidth()/2)}(t,n)}catch(e){throw t.classList.remove("is-graph-loading"),t.classList.add("is-graph-load-error"),e}}}};h([a.aC],y.prototype,"graph",void 0),y=h([a.p_],y)},53170:(t,e,n)=>{n.d(e,{A:()=>function t(){var e,n,i=(0,a.A)().unknown(void 0),o=i.domain,l=i.range,u=0,s=1,c=!1,d=0,f=0,p=.5;function h(){var t=o().length,r=s<u,a=r?s:u,i=r?u:s;e=(i-a)/Math.max(1,t-d+2*f),c&&(e=Math.floor(e)),a+=(i-a-e*(t-d))*p,n=e*(1-d),c&&(a=Math.round(a),n=Math.round(n));var h=(function(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=Array(a);++r<a;)i[r]=t+r*n;return i})(t).map(function(t){return a+e*t});return l(r?h.reverse():h)}return delete i.unknown,i.domain=function(t){return arguments.length?(o(t),h()):o()},i.range=function(t){return arguments.length?([u,s]=t,u=+u,s=+s,h()):[u,s]},i.rangeRound=function(t){return[u,s]=t,u=+u,s=+s,c=!0,h()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(t){return arguments.length?(c=!!t,h()):c},i.padding=function(t){return arguments.length?(d=Math.min(1,f=+t),h()):d},i.paddingInner=function(t){return arguments.length?(d=Math.min(1,t),h()):d},i.paddingOuter=function(t){return arguments.length?(f=+t,h()):f},i.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),h()):p},i.copy=function(){return t(o(),[u,s]).round(c).paddingInner(d).paddingOuter(f).align(p)},r.C.apply(h(),arguments)}});var r=n(99065),a=n(99311)},99311:(t,e,n)=>{n.d(e,{A:()=>function t(){var e=new InternMap,n=[],r=[],a=o;function l(t){let i=e.get(t);if(void 0===i){if(a!==o)return a;e.set(t,i=n.push(t)-1)}return r[i%r.length]}return l.domain=function(t){if(!arguments.length)return n.slice();for(let r of(n=[],e=new InternMap,t))e.has(r)||e.set(r,n.push(r)-1);return l},l.range=function(t){return arguments.length?(r=Array.from(t),l):r.slice()},l.unknown=function(t){return arguments.length?(a=t,l):a},l.copy=function(){return t(n,r).unknown(a)},i.C.apply(l,arguments),l}});let InternMap=class InternMap extends Map{constructor(t,e=a){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(r(this,t))}has(t){return super.has(r(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}};function r({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function a(t){return null!==t&&"object"==typeof t?t.valueOf():t}var i=n(99065);let o=Symbol("implicit")}}]);
//# sourceMappingURL=app_assets_modules_github_graphs_package-dependencies-security-graph-element_ts-693a5b449524.js.map