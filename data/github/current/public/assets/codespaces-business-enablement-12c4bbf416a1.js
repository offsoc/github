"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["codespaces-business-enablement"],{52770:(e,t,r)=>{var s,a,i=r(72245),n=r(9449),o=r(65481),l=r(89015),c=r(66889),d=r(43257),u=r(55847),h=r(84300),m=r(75177),p=r(69909),x=r(30729),b=r(44981),_=r(33520),f=r(59857),g=r(55293),j=r(28784),y=r(281),v=r(17909),R=r(22868),E=r(86519),S=r(83056);function N({org:e,enabled:t,updateOrgEnablement:r,disableForm:s,checked:a,handleCheckClick:i}){return(0,n.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center","data-testid":"org-item",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,n.jsx)("input",{type:"checkbox",name:"organizations[]",value:e.id,"aria-label":"Member",className:"mr-3",checked:a,onChange:()=>i(e.id),"data-testid":"org-item-checkbox"}),(0,n.jsxs)(m.A,{sx:{ml:2,display:"flex",alignItems:"center"},children:[(0,n.jsx)(E.A,{href:e.path,children:(0,n.jsx)(R.r,{sx:{mr:2,cursor:"pointer"},src:e.avatarUrl,size:32,"data-hovercard-url":(0,S.qs)({owner:e.displayLogin}),square:!0})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(E.A,{href:e.path,children:e.displayLogin})}),(0,n.jsx)("div",{children:(0,n.jsx)(p.A,{sx:{color:"muted.fg"},className:"color-fg-muted text-small",children:((e,t,r="s")=>`${e} ${t}${1!==e?r:""}`)(e.memberCount,"member")})})]})]})]})}),(0,n.jsx)(()=>(0,n.jsxs)(y.W,{children:[(0,n.jsx)(y.W.Button,{children:t?"Enabled":"Disabled"}),(0,n.jsx)(y.W.Overlay,{children:(0,n.jsxs)(v.l,{selectionVariant:"single",children:[(0,n.jsx)(v.l.Item,{onSelect:()=>r("enable"),selected:t,disabled:s,"data-testid":"org-item-enable-menu",children:"Enabled"}),(0,n.jsx)(v.l.Item,{onSelect:()=>r("disable"),selected:!t,children:"Disabled"})]})})]}),{})]})}try{N.displayName||(N.displayName="OrgItem")}catch{}try{(s=EnablementMenu).displayName||(s.displayName="EnablementMenu")}catch{}function w({organizations:e,orgsToUpdate:t,setOrgsToUpdate:r,children:s,disableForm:a}){let[i,o]=(0,g.useState)({}),l=e=>{let s=Object.keys(i),a={};for(let t of s)a[parseInt(t)]=e;r({...t,...a})},c=e=>{if(i[e]){let t={...i};delete t[e],o(t)}else o({...i,[e]:"checked"})};return(0,n.jsxs)("div",{className:"Box rounded-top-2 rounded-0","data-testid":"org-select",children:[(0,n.jsx)("div",{className:"Box-header",children:(0,n.jsx)("div",{className:"Box-title",children:(0,n.jsxs)("div",{className:"d-inline-flex flex-justify-between width-full",children:[(0,n.jsx)("div",{children:(0,n.jsx)("form",{children:(0,n.jsxs)("label",{className:"table-list-header-meta py-1",children:[(0,n.jsx)("input",{type:"checkbox",id:"select-all-checkbox","data-testid":"select-all-checkbox",className:"mr-2",onClick:()=>{let t={};if(0===Object.keys(i).length)for(let r of e)t[r.id]="checked";o(t)}}),(0,n.jsx)("span",{id:"codespaces-org-select-default-header",children:"Select organizations"})]})})}),(0,n.jsx)("div",{className:"flex-justify-between",children:(0,n.jsx)(()=>(0,n.jsxs)(y.W,{children:[(0,n.jsx)(y.W.Button,{children:"Set organization access"}),(0,n.jsx)(y.W.Overlay,{width:"medium",children:(0,n.jsxs)(v.l,{children:[(0,n.jsxs)(v.l.Item,{onSelect:()=>l("enable"),children:["Enable",(0,n.jsx)(v.l.Description,{variant:"block",children:"Selected organizations may control access to Codespaces"})]}),(0,n.jsxs)(v.l.Item,{onSelect:()=>l("disable"),children:["Disable",(0,n.jsx)(v.l.Description,{variant:"block",children:"Selected organizations won\u2019t have access to Codespaces"})]})]})})]}),{})})]})})}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{className:"Box-row",children:s}),e.map(e=>(0,n.jsx)("li",{className:"Box-row",children:(0,n.jsx)(N,{org:e,enabled:t[e.id]?"enable"===t[e.id]:"Enabled"===e.enablementStatus,updateOrgEnablement:s=>r({...t,[e.id]:s}),disableForm:a,checked:!!i[e.id],handleCheckClick:e=>c(e)})},e.id))]})]})}try{w.displayName||(w.displayName="OrgSelect")}catch{}try{(a=BulkActionMenu).displayName||(a.displayName="BulkActionMenu")}catch{}var A=r(70170);function C({policy_input_list:e,submit_url:t,initalOrganizations:r,search_url:s,initialPageCount:a,disable_form:i}){let y=(0,g.useRef)(null),[v,R]=(0,g.useState)(!1),[E,S]=(0,g.useState)(e.find(e=>e.checked)),[N,C]=(0,g.useState)(""),[k,D]=(0,g.useState)(""),[O,I]=(0,g.useState)({}),[T,P]=(0,g.useState)(1),[B,z]=(0,g.useState)(a),[$,L]=(0,g.useState)(),[M,F]=(0,g.useState)(""),H=async()=>{let e=new FormData;e.append("enablement",E.value),"selected_entities"===E.value&&e.append("orgs_to_update",JSON.stringify(O));try{let r=await (0,j.DI)(t,{method:"PUT",body:e,headers:{Accept:"application/json"}});if(!r.ok)return Error("Failed to update");{R(!1);let e=await r.json();return C(e.message),D(""),r}}catch(e){return e}},G=e=>{C(""),D(""),S(e)},q=()=>{C(""),D("Something went wrong. Please try again.")},W=async(e,t)=>{e.preventDefault(),await U(M,t)},U=async(e,t=1)=>{try{let r=await (0,j.DI)(`${s}?page=${t}&query=${e}`,{headers:{Accept:"application/json"}});if(r.ok){let e=await r.json();P(t),z(e.pageCount),L(e.orgs)}else q()}catch(e){q()}},J=(0,g.useCallback)((0,A.s)(async e=>{F(e),await U(e)},200),[F,U]);return(0,n.jsxs)("div",{"data-testid":"codespaces-settings-index",children:[N&&(0,n.jsx)(o.A,{children:N}),k&&(0,n.jsx)(o.A,{variant:"danger",children:k}),(0,n.jsx)("h3",{className:"text-normal pb-2 mt-6",children:"Manage organization access to GitHub Codespaces"}),(0,n.jsx)("p",{children:"Assign which organizations will have access to GitHub Codespaces inside your enterprise."}),(0,n.jsx)("div",{className:"py-3",children:(0,n.jsx)("form",{children:(0,n.jsx)(l.A,{"aria-labelledby":"enablementChoice",name:"choiceGroup",children:e.map(e=>(0,n.jsxs)(c.A,{disabled:e.disabled,children:[(0,n.jsx)(d.A,{name:e.name,value:e.value,defaultChecked:e.checked,onClick:()=>G(e),"data-testid":`codespaces-settings-${e.value}`}),(0,n.jsxs)(c.A.Label,{children:[e.text,(0,n.jsx)("p",{className:"note",children:e.description})]})]},e.value))})})}),(0,n.jsx)(u.Q,{sx:{mb:3},ref:y,onClick:()=>R(!0),children:"Save"}),(0,n.jsxs)(h.A,{isOpen:v,returnFocusRef:y,onDismiss:()=>R(!1),"aria-labelledby":"update-codespaces-settings",children:[(0,n.jsx)(h.A.Header,{id:"update-codespaces-settings",children:"Update GitHub Codespaces settings?"}),(0,n.jsxs)(m.A,{sx:{p:3},children:[(0,n.jsxs)(p.A,{id:"label",sx:{fontFamily:"sans-serif"},children:[(0,n.jsx)(x.A,{icon:f.AlertIcon,sx:{mr:2,color:"danger.fg"}}),E.confirm_message]}),(0,n.jsxs)(m.A,{sx:{display:"flex",mt:3,justifyContent:"flex-end"},children:[(0,n.jsx)(u.Q,{sx:{mr:1},onClick:()=>R(!1),children:"Cancel"}),(0,n.jsx)(u.Q,{variant:"danger",onClick:H,children:"Submit"})]})]})]}),"selected_entities"===E.value&&(0,n.jsxs)("div",{className:"mt-2 mb-2",children:[(0,n.jsx)(w,{organizations:$||r,orgsToUpdate:O,setOrgsToUpdate:I,disableForm:i,children:(0,n.jsx)(b.A,{className:"formControl input-block mb-3",leadingVisual:f.SearchIcon,placeholder:"Find an organization\u2026","aria-label":"Find a organization","data-testid":"query-text-input",onChange:e=>J(e.target.value)})}),(0,n.jsx)(_.A,{pageCount:B,currentPage:T,onPageChange:W})]})]})}try{C.displayName||(C.displayName="Index")}catch{}(0,i.k)("codespaces-business-enablement",{Component:C})},92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new s),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let s=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>i,QJ:()=>n,w8:()=>a});var s=r(55293);function a(e){return((0,s.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function i(e){let t=(0,s.useRef)(e.__wrapperElement.anchor||null),[r,a]=(0,s.useState)(!1),i=(0,s.useCallback)(()=>{a(!r)},[r,a]);return(0,s.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),n(e,i),{ref:t,open:r,setOpen:a}}function n(e,t){let r=(0,s.useRef)(e.__wrapperElement.anchor);(0,s.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>c});let s=new(r(92536)).R;var a=r(9449),i=r(39595),n=r(24508),o=r(23235);let l=class ReactPartialElement extends n.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,s.getRegistration(t)),i=this.closest("react-partial-anchor");return(0,a.jsx)(o.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:i})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function c(e,t){s.register(e,t)}l=function(e,t,r,s){var a,i=arguments.length,n=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(n=(i<3?a(n):i>3?a(t,r,n):a(t,r))||n);return i>3&&n&&Object.defineProperty(t,r,n),n}([i.p_],l)},23581:(e,t,r)=>{r.d(t,{A:()=>o});let{getItem:s,setItem:a,removeItem:i}=(0,r(74572).A)("localStorage"),n="REACT_PROFILING_ENABLED",o={enable:()=>a(n,"true"),disable:()=>i(n),isEnabled:()=>!!s(n)}},28784:(e,t,r)=>{function s(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:r})}function a(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},a=t?.body?JSON.stringify(t.body):void 0;return s(e,{...t,body:a,headers:r})}function i(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return s(e,{...t,headers:r})}function n(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return a(e,{...t,headers:r})}r.d(t,{DI:()=>s,QJ:()=>i,Sr:()=>n,lS:()=>a})},22868:(e,t,r)=>{r.d(t,{r:()=>o});var s=r(9449),a=r(97156),i=r(78209),n=r(55293);let o=(0,n.forwardRef)(function({src:e,size:t=20,...r},o){let l=(0,n.useMemo)(()=>{let r=new URL(e,a.fV.origin);return r.searchParams.has("size")||r.searchParams.has("s")||r.searchParams.set("size",String(2*Number(t))),r.toString()},[e,t]);return(0,s.jsx)(i.A,{ref:o,src:l,size:t,"data-testid":"github-avatar",...r})});try{o.displayName||(o.displayName="GitHubAvatar")}catch{}},23235:(e,t,r)=>{r.d(t,{c:()=>p});var s=r(9449),a=r(55293),i=r(36165),n=r(45588),o=r(49107),l=r(47767),c=r(59840);function d({children:e,history:t}){let[r,i]=(0,a.useState)({location:t.location});return(0,c.m)(()=>t.listen(i),[t]),(0,s.jsx)(l.Ix,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var u=r(17857),h=r(51261),m=r(75014);function p({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:c,anchorElement:p}){let x=a.useRef(),b=globalThis.window;x.current||(x.current=b?(0,h.z)({window:b}):(0,n.sC)({initialEntries:[{pathname:"/"}]}));let _=x.current,f=(0,m.w8)(p);return(0,s.jsx)(i.U,{appName:e,wasServerRendered:l,children:(0,s.jsx)(o.Q,{history:_,routes:[],children:(0,s.jsxs)(d,{history:_,children:[(0,s.jsx)(r,{...t.props,...f}),(0,s.jsx)(u.h,{ssrError:c})]})})})}try{p.displayName||(p.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var s=r(9449),a=r(39595),i=r(34613),n=r(55293),o=r(23581),l=r(79461),c=r(51528);function d(e,t,r,s){var a,i=arguments.length,n=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(n=(i<3?a(n):i>3?a(t,r,n):a(t,r))||n);return i>3&&n&&Object.defineProperty(t,r,n),n}let u=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:i.createRoot,hydrateRoot:i.hydrateRoot};o.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,a=await this.getReactNode(t),l=(0,s.jsx)(n.StrictMode,{children:a});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,l,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=u.exec(e.message),r=String(t?.groups?.invariant);(0,c.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87358,19))}logSSRError(e){if(l.z[e])return console.error("SSR failed with an expected error:",l.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:s,lineno:a,colno:i}=e,n=`${t} at ${r} (${s}:${a}:${i})`;return t=" ",n}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([a.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([a.aC],ReactBaseElement.prototype,"ssrError",void 0),d([a.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{u.displayName||(u.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-7a33ef","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c","ui_packages_paths_index_ts"],()=>t(52770)),e.O()}]);
//# sourceMappingURL=codespaces-business-enablement-66f281c08004.js.map