{
  "$schema": "http://json-schema.org/draft-04/schema",
  "$id": "https://schema.github.com/projects-v2/v1/project.json#",
  "name": "Project",
  "description": "Top-level project entity",
  "type": "object",
  "definitions": {
    "id": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9_-]+$"
    },
    "field_option": {
      "name": "Field Option",
      "description": "Configuration for one option of a single-select field.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "name": {
          "type": "string"
        },
        "color": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "field_settings": {
      "name": "Field Settings",
      "description": "Configuration for a field.",
      "type": "object",
      "properties": {
        "width": {
          "type": "integer"
        },
        "options": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/field_option"
          }
        }
      }
    },
    "field": {
      "name": "Field",
      "description": "Defines a field that can hold data of a particular type for each item in a project.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "name": {
          "type": "string"
        },
        "data_type": {
          "type": "integer"
        },
        "settings": {
          "$ref": "#/definitions/field_settings"
        }
      },
      "required": [
        "name",
        "data_type"
      ]
    },
    "view": {
      "name": "View",
      "description": "Defines options for viewing a project in a single tab.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "visible_fields": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "group_by": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "vertical_group_by": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "sort_by": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "filter": {
          "type": "string"
        },
        "layout": {
          "type": "string"
        }
      }
    },
    "workflow_action": {
      "name": "Workflow Action",
      "description": "Defines a single action to take in response to an automation workflow trigger.",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "set_field"
          ]
        },
        "arguments": {
          "type": "object",
          "properties": {
            "field_id": {
              "$ref": "#/definitions/id"
            },
            "field_option_id": {
              "$ref": "#/definitions/id"
            }
          },
          "required": [
            "field_id"
          ]
        }
      },
      "required": [
        "type",
        "arguments"
      ]
    },
    "permission": {
      "name": "Permission",
      "description": "Defines a permission for a user, organization, or team",
      "type": "object",
      "properties": {
        "actor_type": {
          "type": "string",
          "enum": [
            "User",
            "Organization",
            "Team"
          ]
        },
        "actor_id": {
          "type": "integer"
        },
        "action": {
          "type": "string",
          "enum": [
            "read",
            "write",
            "admin",
            "none"
          ]
        }
      },
      "required": [
        "actor_type",
        "actor_id",
        "action"
      ]
    },
    "column_value": {
      "name": "Column Value",
      "description": "Defines column values for a project item.",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "workflow": {
      "name": "Workflow",
      "description": "Defines an automation workflow for a project.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "enabled": {
          "type": "boolean"
        },
        "trigger_type": {
          "type": "string",
          "enum": [
            "closed",
            "item_added",
            "reopened",
            "review_changes_requested",
            "review_approved",
            "merged"
          ]
        },
        "content_types": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Issue",
              "PullRequest"
            ]
          }
        },
        "actions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/workflow_action"
          }
        }
      },
      "required": [
        "name",
        "trigger_type",
        "actions"
      ]
    },
    "item": {
      "content_id": {
        "type": "string"
      },
      "content_type": {
        "type": "string"
      },
      "draft_content": {
        "type": "string"
      },
      "column_values": {
        "type": "array",
        "items": {
          "$ref": "#/definitions/column_value"
        }
      }
    }
  },
  "properties": {
    "owner_type": {
      "type": "string",
      "enum": [
        "User",
        "Organization",
        "Repository"
      ]
    },
    "owner_id": {
      "type": "integer"
    },
    "title": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "public": {
      "type": "boolean"
    },
    "short_description": {
      "type": "string"
    },
    "status_field": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "settings": {
          "type": "object",
          "properties": {
            "width": {
              "type": "integer"
            },
            "options": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/field_option"
              }
            }
          },
          "required": [
            "options"
          ]
        }
      },
      "required": [
        "id",
        "settings"
      ]
    },
    "custom_fields": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/field"
      }
    },
    "views": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/view"
      }
    },
    "permissions": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/permission"
      }
    },
    "items": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/item"
      }
    },
    "workflows": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/workflow"
      }
    }
  },
  "required": [
    "owner_type",
    "owner_id"
  ]
}
