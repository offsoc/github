current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ext/gpgme
/usr/share/rbenv/versions/3.3.4/bin/ruby extconf.rb
************************************************************************
IMPORTANT!  gpgme gem uses locally built versions of required C libraries,
namely libgpg-error, libassuan, and gpgme.

If this is a concern for you and you want to use the system library
instead, abort this installation process and reinstall gpgme gem as
follows:

    gem install gpgme -- --use-system-libraries

************************************************************************
Extracting libgpg-error-1.46.tar.bz2 into tmp/x86_64-linux-gnu/ports/libgpg-error/1.46... OK
Running 'configure' for libgpg-error 1.46... OK
Running 'compile' for libgpg-error 1.46... OK
Running 'install' for libgpg-error 1.46... OK
Activating libgpg-error 1.46 (from /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/libgpg-error/1.46)...
Extracting libassuan-2.5.5.tar.bz2 into tmp/x86_64-linux-gnu/ports/libassuan/2.5.5... OK
Running 'configure' for libassuan 2.5.5... OK
Running 'compile' for libassuan 2.5.5... OK
Running 'install' for libassuan 2.5.5... OK
Activating libassuan 2.5.5 (from /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/libassuan/2.5.5)...
Extracting gpgme-1.18.0.tar.bz2 into tmp/x86_64-linux-gnu/ports/gpgme/1.18.0... OK
Running 'configure' for gpgme 1.18.0... OK
Running 'compile' for gpgme 1.18.0... OK
Running 'install' for gpgme 1.18.0... OK
Activating gpgme 1.18.0 (from /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/gpgme/1.18.0)...
checking for linker flags for static linking... -Wl,-Bstatic
checking for gpgme.h... yes
checking for gpgme >= 1.1.3... yes
checking for gpgme_op_export_keys()... yes
creating Makefile

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ext/gpgme
make DESTDIR\= sitearchdir\=./.gem.20250114-113-67lzc2 sitelibdir\=./.gem.20250114-113-67lzc2 clean

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ext/gpgme
make DESTDIR\= sitearchdir\=./.gem.20250114-113-67lzc2 sitelibdir\=./.gem.20250114-113-67lzc2
compiling gpgme_n.c
gpgme_n.c: In function ‘rb_s_gpgme_op_edit’:
gpgme_n.c:1468:3: warning: ‘gpgme_op_edit’ is deprecated [-Wdeprecated-declarations]
 1468 |   err = gpgme_op_edit (ctx, key, edit_cb, (void *)vcb, out);
      |   ^~~
In file included from gpgme_n.c:43:
/github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/gpgme/1.18.0/include/gpgme.h:2619:15: note: declared here
 2619 | gpgme_error_t gpgme_op_edit       (gpgme_ctx_t ctx, gpgme_key_t key,
      |               ^~~~~~~~~~~~~
gpgme_n.c: In function ‘rb_s_gpgme_op_edit_start’:
gpgme_n.c:1497:3: warning: ‘gpgme_op_edit_start’ is deprecated [-Wdeprecated-declarations]
 1497 |   err = gpgme_op_edit_start (ctx, key, edit_cb, (void *)vcb, out);
      |   ^~~
In file included from gpgme_n.c:43:
/github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/gpgme/1.18.0/include/gpgme.h:2616:15: note: declared here
 2616 | gpgme_error_t gpgme_op_edit_start (gpgme_ctx_t ctx, gpgme_key_t key,
      |               ^~~~~~~~~~~~~~~~~~~
gpgme_n.c: In function ‘rb_s_gpgme_op_card_edit’:
gpgme_n.c:1526:3: warning: ‘gpgme_op_card_edit’ is deprecated [-Wdeprecated-declarations]
 1526 |   err = gpgme_op_card_edit (ctx, key, edit_cb, (void *)vcb, out);
      |   ^~~
In file included from gpgme_n.c:43:
/github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/gpgme/1.18.0/include/gpgme.h:2626:15: note: declared here
 2626 | gpgme_error_t gpgme_op_card_edit       (gpgme_ctx_t ctx, gpgme_key_t key,
      |               ^~~~~~~~~~~~~~~~~~
gpgme_n.c: In function ‘rb_s_gpgme_op_card_edit_start’:
gpgme_n.c:1555:3: warning: ‘gpgme_op_card_edit_start’ is deprecated [-Wdeprecated-declarations]
 1555 |   err = gpgme_op_card_edit_start (ctx, key, edit_cb, (void *)vcb, out);
      |   ^~~
In file included from gpgme_n.c:43:
/github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ports/x86_64-linux-gnu/gpgme/1.18.0/include/gpgme.h:2622:15: note: declared here
 2622 | gpgme_error_t gpgme_op_card_edit_start (gpgme_ctx_t ctx, gpgme_key_t key,
      |               ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/ruby.h:27,
                 from /usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby.h:38,
                 from gpgme_n.c:39:
gpgme_n.c: In function ‘Init_gpgme_n’:
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/anyargs.h:338:142: warning: passing argument 3 of ‘rb_define_module_function_04’ from incompatible pointer type [-Wincompatible-pointer-types]
  338 | #define rb_define_module_function(mod, mid, func, arity)    RBIMPL_ANYARGS_DISPATCH_rb_define_module_function((arity), (func))((mod), (mid), (func), (arity))
      |                                                                                                                                              ^~~~~~
      |                                                                                                                                              |
      |                                                                                                                                              VALUE (*)(VALUE,  VALUE,  VALUE,  VALUE) {aka long unsigned int (*)(long unsigned int,  long unsigned int,  long unsigned int,  long unsigned int)}
gpgme_n.c:2425:3: note: in expansion of macro ‘rb_define_module_function’
 2425 |   rb_define_module_function (mGPGME, "gpgme_op_keylist_ext_start",
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/anyargs.h:274:21: note: expected ‘VALUE (*)(VALUE,  VALUE,  VALUE,  VALUE,  VALUE)’ {aka ‘long unsigned int (*)(long unsigned int,  long unsigned int,  long unsigned int,  long unsigned int,  long unsigned int)’} but argument is of type ‘VALUE (*)(VALUE,  VALUE,  VALUE,  VALUE)’ {aka ‘long unsigned int (*)(long unsigned int,  long unsigned int,  long unsigned int,  long unsigned int)’}
  274 | RBIMPL_ANYARGS_DECL(rb_define_module_function, VALUE, const char *)
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~
/usr/share/rbenv/versions/3.3.4/include/ruby-3.3.0/ruby/internal/anyargs.h:259:41: note: in definition of macro ‘RBIMPL_ANYARGS_DECL’
  259 | RBIMPL_ANYARGS_ATTRSET(sym) static void sym ## _04(__VA_ARGS__, VALUE(*)(VALUE, VALUE, VALUE, VALUE, VALUE), int); \
      |                                         ^~~
linking shared-object gpgme_n.so
Cleaning files only used during build.
/usr/share/rbenv/versions/3.3.4/lib/ruby/3.3.0/fileutils.rb:1328:in `rm_rf': wrong number of arguments (given 2, expected 1) (ArgumentError)
	from ./extconf.rb:28:in `block in <main>'
	from <internal:dir>:411:in `glob'
	from ./extconf.rb:27:in `glob'
	from ./extconf.rb:27:in `<main>'
make: [Makefile:273: clean-ports] Error 1 (ignored)

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ext/gpgme
make DESTDIR\= sitearchdir\=./.gem.20250114-113-67lzc2 sitelibdir\=./.gem.20250114-113-67lzc2 install
/usr/bin/install -c -m 0755 gpgme_n.so ./.gem.20250114-113-67lzc2

current directory: /github/vendor/gems/3.3.4/ruby/3.3.0/gems/gpgme-2.0.22/ext/gpgme
make DESTDIR\= sitearchdir\=./.gem.20250114-113-67lzc2 sitelibdir\=./.gem.20250114-113-67lzc2 clean
