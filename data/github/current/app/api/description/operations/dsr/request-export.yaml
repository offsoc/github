# This endpoint is only meant to be used on multi tenant enviromnent
---
summary: 'Request a DSR export by a Tenant admin.'
description: |-
  Endpoint used by a Tenant admin to request a DSR export operation. Due to its multi-tenant nature, it should not be published.
tags:
  - dsr
operationId: dsr/request-export

externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/dsr/dsr-request-export#request-a-dsr-export-by-a-tenant-admin'

x-github-internal:
  path: /exports/dsr/user/{username}
  http-method: post
  # this endpoint is only meant to be used in multi-tenant enviromnents. It should not be published.
  published: false
  owner: '@github/privacy-engineers'

x-github-releases:
  - ghec

parameters:
  - $ref: '../../components/parameters/username.yaml'

responses:
  '200':
    description: The DSR export request has been successfully created.
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              description: Result message from DSR export.
            status_url:
              type: string
              description: URL to check the status of the DSR export.
        examples:
          default:
            $ref: '../../components/examples/dsr-request-export.yaml'

x-github:
  githubCloudOnly: true
  enabledForGitHubApps: false
  category: dsr
  subcategory: dsr-request-export
