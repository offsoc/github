{"version":3,"file":"settings-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/codespaces.ts","app/assets/modules/github/color-modes.ts","app/assets/modules/github/hydro-tracking.ts","app/assets/modules/github/profile/edit-social-account.ts","app/assets/modules/github/repositories/overview.ts","app/assets/modules/github/settings/actions-policy-form.ts","app/assets/modules/github/settings/larger-runners-networking.ts","app/assets/modules/github/settings/profile.ts","app/assets/modules/github/settings/security-analysis.ts","app/assets/modules/github/settings/webauthn-create.ts","app/assets/modules/github/settings/actions-policy-popover.ts","app/assets/modules/github/settings/add-runner-input.ts","app/assets/modules/github/settings/advanced-security-usage-list.ts","app/assets/modules/github/settings/appearance-form-element.ts","app/assets/modules/github/settings/appearance-preview-element.ts","app/assets/modules/github/settings/apps.ts","app/assets/modules/github/settings/apps/installation-repo-selection.ts","app/assets/modules/github/codespaces/default-location-setting-element.ts","app/assets/modules/github/settings/codespaces-user-secrets.ts","app/assets/modules/github/settings/dependabot-alert-rule-form.ts","app/assets/modules/github/settings/dependabot-alert-rule-criteria-providers.ts","app/assets/modules/github/settings/dependabot-repository-selection-input.ts","app/assets/modules/github/settings/integrations-callback-urls.ts","app/assets/modules/github/settings/integrations-edit.ts","app/assets/modules/github/settings/integrations.ts","app/assets/modules/github/settings/key-links.ts","app/assets/modules/github/settings/oauth-apps.ts","app/assets/modules/github/settings/email.ts","app/assets/modules/github/settings/org-secrets.ts","app/assets/modules/github/settings/org-variables.ts","app/assets/modules/github/settings/personal-access-token-collapsible-containers.ts","app/assets/modules/github/settings/personal-access-tokens.ts","app/assets/modules/github/settings/personal-access-token-summary.ts","app/assets/modules/github/settings/personal-access-token-cap-check.ts","app/assets/modules/github/settings/personal-access-token-edit.ts","app/assets/modules/github/settings/personal-access-token-sso.ts","app/assets/modules/github/settings/repository-collabs.ts","app/assets/modules/github/settings/policy-repos-container-checkbox-selector.ts","app/assets/modules/github/settings/repository-options.ts","app/assets/modules/github/settings/repository-restore.ts","app/assets/modules/github/settings/repository-security-analysis.ts","app/assets/modules/github/settings/repository-selection-input.ts","app/assets/modules/github/settings/repository-settings.ts","app/assets/modules/github/settings/retention-form-element.ts","app/assets/modules/github/settings/runner-labels.ts","app/assets/modules/github/settings/saved-replies.ts","app/assets/modules/github/settings/selected-item-count.ts","app/assets/modules/github/settings/selected-item-list.ts","app/assets/modules/github/settings/user-add.ts","app/assets/modules/github/settings/user-settings.ts","app/assets/modules/github/settings/pages-composer.ts","app/assets/modules/github/settings/upload-repository-image.ts","app/assets/modules/github/settings/user-blocks.ts","app/assets/modules/github/settings/user-sessions.ts","app/assets/modules/github/settings/tokens.ts","app/assets/modules/github/settings/pages-build-type.ts","app/assets/modules/github/settings/pages-jekyll-config.ts","app/assets/modules/github/secret-scanning/custom-patterns-list.ts","app/assets/modules/github/secret-scanning/settings/push-protection.ts","ui/packages/browser-history-state/browser-history-state.ts","ui/packages/cookies/cookies.ts","ui/packages/details-dialog/details-dialog.ts","ui/packages/query-builder-element/query-builder-api.ts","ui/packages/sudo/sudo.ts","ui/packages/webauthn-support-level/webauthn-support-level.ts"],"sourcesContent":["// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\non('remote-input-error', '#js-codespaces-repository-select', () => {\n  const warning = document.querySelector<HTMLElement>('#js-codespaces-unable-load-repositories-warning')!\n  warning.hidden = false\n})\n\nfunction updateNewCodespaceUrl(form: FormData): void {\n  const url = new URL(document.location.href, window.location.origin)\n  const urlParams = new URLSearchParams(url.search)\n  // Certain form name/values we don't want to save as these are very ENV specific.\n  // They can cause problems in different environments (e.g. review lab, local, production, etc...)\n  // Add those keys to this list as needed.\n  const paramsKeysToReject = ['vscs_target']\n\n  for (const [key, value] of form.entries()) {\n    if (paramsKeysToReject.includes(key) || !value) {\n      urlParams.delete(key)\n      continue\n    }\n\n    urlParams.set(key, value as string)\n  }\n\n  window.history.replaceState({}, '', `?${urlParams.toString()}`)\n}\n\nremoteForm('.js-new-codespace-form', async function (form, wants) {\n  const container = form.closest<HTMLElement>('[data-replace-remote-form-target]')!\n  const submitButton = container.querySelector('.js-new-codespace-submit-button')\n\n  if (submitButton instanceof HTMLInputElement) {\n    submitButton.disabled = true\n  }\n\n  form.classList.remove('is-error')\n  form.classList.add('is-loading')\n\n  try {\n    if (submitButton) {\n      submitButton.setAttribute('disabled', 'true')\n    }\n\n    const response = await wants.html()\n    if (response.status !== 200) {\n      resetNewCodespacePageWithResponseError()\n    }\n    replaceAndRefocus(container, response.html)\n\n    if (container.getAttribute('data-allow-update-url') === 'true') {\n      const newFormData = new FormData(document.querySelector('form.js-new-codespace-form') as HTMLFormElement)\n      updateNewCodespaceUrl(newFormData)\n    }\n  } catch (e) {\n    resetNewCodespacePageWithResponseError()\n    throw e // We still want this to wind up in telemetry\n  }\n})\n\nexport function replaceAndRefocus(target: HTMLElement, partial: DocumentFragment) {\n  const partialContent = partial.querySelector('*')\n\n  const focusedElement = target.ownerDocument.activeElement\n\n  let elementToRefocus\n  if (focusedElement instanceof HTMLElement) {\n    elementToRefocus = partialContent?.querySelector(generateCssSelectorForElement(focusedElement))\n  }\n\n  target.replaceWith(partial)\n\n  if (elementToRefocus instanceof HTMLElement) {\n    elementToRefocus.focus()\n  }\n}\n\nfunction generateCssSelectorForElement(element: HTMLElement) {\n  const tagName = element.tagName.toLowerCase()\n  const classNames = element.hasAttribute('class') ? `.${element.className.split(' ').join('.')}` : ''\n  const id = element.hasAttribute('id') ? `#${element.id}` : ''\n  const name = element.hasAttribute('name') ? `[name=\"${element.getAttribute('name')}\"]` : ''\n\n  return `${tagName}${id}${classNames}${name}`\n}\n\nfunction resetNewCodespacePageWithResponseError() {\n  const url = new URL(document.location.href, window.location.origin)\n  const urlParams = new URLSearchParams(url.search)\n  urlParams.set('response_error', 'true')\n  window.location.replace(`${window.location.pathname}?${urlParams.toString()}`)\n}\n\ntype LoadingState = null | 'provisioning' | 'provisioned' | 'stuck' | 'failed'\n\nlet loadingState: LoadingState = null\n\nfunction advanceLoadingState(state: LoadingState) {\n  loadingState = state\n\n  if (state !== null) {\n    const loadingSteps = document.querySelector<HTMLDivElement>('.js-codespace-loading-steps')!\n    loadingSteps.setAttribute('data-current-state', loadingState as string)\n  }\n}\n\nobserve('.js-codespace-loading-steps', {\n  constructor: HTMLElement,\n  add: el => {\n    const currentState = el.getAttribute('data-current-state') as LoadingState\n    if (currentState) advanceLoadingState(currentState)\n  },\n})\n\nobserve('.js-codespace-advance-state', {\n  constructor: HTMLElement,\n  add: el => {\n    const targetState = el.getAttribute('data-state') as LoadingState\n    if (targetState) advanceLoadingState(targetState)\n  },\n})\n\ninterface CascadeTokenResponse {\n  token: string\n}\n\nlet cascadeToken: string | null = null\n\nfunction fetchCascadeToken(mintTokenForm: HTMLFormElement) {\n  remoteForm('.js-fetch-cascade-token', async function (_form, wants) {\n    try {\n      const response = await wants.json()\n      const payload = response.json as CascadeTokenResponse\n      cascadeToken = payload.token\n    } catch (e) {\n      // do nothing since we have a fallback to this error and don't want to throw\n    }\n  })\n\n  requestSubmit(mintTokenForm)\n}\n\nfunction waitForCascadeTokenWithTimeout(\n  querySelector: string,\n  cb: (token: string | undefined) => void,\n  timeout: number,\n) {\n  const container = document.querySelector(querySelector)\n  if (container) {\n    const start = Date.now()\n    const checkToken = () => {\n      const elapsed = Date.now() - start\n      if (cascadeToken || elapsed >= timeout) {\n        clearInterval(checkInterval)\n        cb(cascadeToken || undefined)\n        return\n      }\n    }\n    const checkInterval = setInterval(checkToken, 50)\n  }\n}\n\nobserve('.js-auto-submit-form', {\n  constructor: HTMLFormElement,\n  initialize: requestSubmit,\n})\n\nobserve('.js-workbench-form-container', {\n  constructor: HTMLElement,\n  add: container => {\n    const cascadeTokenField = container.querySelector('.js-cascade-token') as HTMLInputElement\n    if (cascadeTokenField === null) {\n      const form = document.querySelector('.js-workbench-form-container form') as HTMLFormElement\n      requestSubmit(form)\n    } else {\n      resolveCascadeToken(container, cascadeTokenField)\n    }\n  },\n})\n\nfunction resolveCascadeToken(container: HTMLElement, cascadeTokenField: HTMLInputElement) {\n  if (cascadeTokenField.value !== '') {\n    const form = container.querySelector('form') as HTMLFormElement\n\n    requestSubmit(form)\n  } else {\n    const mintTokenForm = document.querySelector('.js-fetch-cascade-token') as HTMLFormElement\n\n    fetchCascadeToken(mintTokenForm)\n\n    // wait 10000ms (10 seconds) for token and insert into the form if we successfully fetch a token\n    waitForCascadeTokenWithTimeout('.js-workbench-form-container', insertCodespaceTokenIntoShowAuthForm, 10000)\n  }\n}\n\nfunction insertCodespaceTokenIntoShowAuthForm(token: string | undefined) {\n  const form = document.querySelector('.js-workbench-form-container form') as HTMLFormElement\n  if (form && token) {\n    insertCodespaceTokenIntoCascadeField(form, token)\n    insertCodespaceTokenIntoPartnerInfo(form, token)\n    requestSubmit(form)\n  } else {\n    // something happened and we couldn't get the token!\n    advanceLoadingState('failed')\n  }\n}\n\nfunction insertCodespaceTokenIntoCascadeField(form: HTMLFormElement, token: string) {\n  const cascadeField = form.querySelector('.js-cascade-token')\n  if (cascadeField) {\n    cascadeField.setAttribute('value', token)\n  }\n}\n\nfunction insertCodespaceTokenIntoPartnerInfo(form: HTMLFormElement, token: string) {\n  const partnerInfoField = form.querySelector('.js-partner-info')\n  if (partnerInfoField) {\n    let partnerInfoData = partnerInfoField.getAttribute('value')\n    if (partnerInfoData) {\n      partnerInfoData = partnerInfoData.replace('%CASCADE_TOKEN_PLACEHOLDER%', token)\n      partnerInfoField.setAttribute('value', partnerInfoData)\n    }\n  }\n}\n","import {ready} from '@github-ui/document-ready'\nimport {setCookie} from '@github-ui/cookies'\n\nexport type ColorMode = 'light' | 'dark'\nexport type ColorModeWithAuto = ColorMode | 'auto'\n\n/**\n * Set the OS preferred color mode on page load\n */\n;(async () => {\n  await ready\n  setPreferredColorModeCookie()\n\n  // update the cookie when OS preferred color mode changes\n  if (window.matchMedia) {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n\n    if (mediaQuery?.addEventListener) {\n      mediaQuery.addEventListener('change', setPreferredColorModeCookie)\n    } else {\n      mediaQuery.addListener(setPreferredColorModeCookie)\n    }\n  }\n})()\n\nfunction setPreferredColorModeCookie() {\n  setCookie('preferred_color_mode', getPreferredColorMode() as string)\n}\n\nexport function getPreferredColorMode(): ColorMode | undefined {\n  if (prefersColorScheme('dark')) {\n    return 'dark'\n  } else if (prefersColorScheme('light')) {\n    return 'light'\n  }\n\n  return undefined\n}\n\nfunction prefersColorScheme(scheme: ColorMode): boolean {\n  return window.matchMedia && window.matchMedia(`(prefers-color-scheme: ${scheme})`).matches\n}\n\nfunction getColorModeAttribute() {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) return undefined\n  return rootEl.getAttribute('data-color-mode')\n}\n\n/**\n * Set the `data-color-mode` attribute on the html element of the page.\n */\nexport function setClientMode(mode: ColorModeWithAuto) {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) {\n    // Color modes are not active on this page\n    return\n  }\n  rootEl.setAttribute('data-color-mode', mode)\n}\n\nexport function setClientTheme(theme: string, type: ColorMode) {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) {\n    // Color modes are not active on this page\n    return\n  }\n  rootEl.setAttribute(`data-${type}-theme`, theme)\n}\n\n/**\n * Returns the user theme as defined by the `data-light-theme` or\n * `data-dark-theme` attribute.\n */\nexport function getClientTheme(type: ColorMode) {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) {\n    // Color modes are not active on this page\n    return\n  }\n  return rootEl.getAttribute(`data-${type}-theme`)\n}\n\n/**\n * Provides a stable color mode. This does not delineate the theme, but rather the light vs dark modes.\n *\n * If you're after the theme, please use {@link getClientTheme}\n */\nexport function getColorMode(fallback: ColorMode = 'light') {\n  const mode = getColorModeAttribute()\n  return (mode === 'auto' ? getPreferredColorMode() : mode) ?? fallback\n}\n","import {sendStats} from '@github-ui/stats'\n\nexport function sendData(hydroEventPayload: string, hydroEventHmac: string, hydroClientContext: string): void {\n  const data = {\n    hydroEventPayload,\n    hydroEventHmac,\n    visitorPayload: '',\n    visitorHmac: '',\n    hydroClientContext,\n  }\n\n  const visitorPayload = document.querySelector('meta[name=visitor-payload]')\n  if (visitorPayload instanceof HTMLMetaElement) {\n    data['visitorPayload'] = visitorPayload.content\n  }\n  const visitorHmac = document.querySelector('meta[name=visitor-hmac]') || ''\n  if (visitorHmac instanceof HTMLMetaElement) {\n    data['visitorHmac'] = visitorHmac.content\n  }\n\n  sendStats(data, true)\n}\n\nexport function trackView(el: HTMLElement) {\n  const payload = el.getAttribute('data-hydro-view') || ''\n  const hmac = el.getAttribute('data-hydro-view-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n}\n\nexport function sendHydroEvent(el: HTMLElement) {\n  const payload = el.getAttribute('data-hydro-click-payload') || ''\n  const hmac = el.getAttribute('data-hydro-click-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n}\n","import {controller, target, targets, attr} from '@github/catalyst'\nimport {changeValue, requestSubmit} from '@github-ui/form-utils'\n\ninterface IParticipantElement {\n  [methodName: string]: () => Promise<void>\n}\n\n// Catalyst component that defers the submission of a child <form/> until a collection of child components have\n// completed their work, such as input preprocessing or validation.\n//\n// Participating child components are identified by the `data-targets=\"waiting-form.prerequisites\"` attribute. Each\n// component must implement a method that returns a Promise. The name of the method may be specified by the\n// `data-waiting-form-method` attribute, or the default of `getPromise`.\n//\n// The child <form> element must be identified by `data-target=\"waiting-form.form\"`. Its submit button must be\n// identified by `data-target=\"waiting-form.submit\"` and have a `data-action` set to\n// `click:waiting-form#submitPolitely`.\n//\n// Example:\n//\n// <waiting-form>\n//   <form data-target=\"waiting-form.form\">\n//     <other-component data-targets=\"waiting-form.prerequisites\" data-waiting-form-method=\"getSomePromise\">\n//        <input type=\"text\" name=\"blah0\" />\n//     </other-component>\n//     <another-component data-targets=\"waiting-form.prerequisites\">\n//        <input type=\"text\" name=\"blah1\" />\n//     </another-component>\n//     <button\n//        type=\"submit\"\n//        data-target=\"waiting-form.submit\"\n//        data-action=\"click:waiting-form#submitPolitely\"\n//      >\n//        Submit\n//      </button>\n//   </form>\n// </waiting-form>\n@controller\nclass WaitingFormElement extends HTMLElement {\n  @target form: HTMLFormElement\n  @targets prerequisites: HTMLElement[]\n  @target submit: HTMLButtonElement\n\n  async submitPolitely() {\n    this.submit.disabled = true\n    try {\n      if (this.prerequisites.length > 0) {\n        await Promise.all(this.prerequisites.map(participant => this.getPrerequisitePromise(participant)))\n      }\n\n      requestSubmit(this.form)\n    } finally {\n      this.submit.disabled = false\n    }\n  }\n\n  private getPrerequisitePromise(participant: HTMLElement): Promise<void> {\n    const promiseMethodName = participant.getAttribute('data-waiting-form-method') || 'getPromise'\n    return (participant as unknown as IParticipantElement)[promiseMethodName]!()\n  }\n}\n\n@controller\nexport class SocialAccountEditorElement extends HTMLElement {\n  @target urlField: HTMLInputElement\n  @target iconField: HTMLInputElement\n  @targets iconOptions: HTMLElement[]\n  @target iconGeneric: HTMLElement\n  @target iconSpinner: HTMLElement\n  @attr nodeinfoSoftwareUrl = ''\n\n  private recognitionPromise = Promise.resolve()\n\n  recognizeUrl() {\n    this.recognitionPromise = new Promise(async resolve => {\n      this.preprocessUrl()\n      const matchingOption = await this.findMatchingSocialAccountIconOption(this.urlField.value)\n      this.setChosenSocialIcon(matchingOption)\n      resolve()\n    })\n  }\n\n  resetToDefault() {\n    if (this.urlField.value === this.urlField.defaultValue) return\n    changeValue(this.urlField, this.urlField.defaultValue)\n  }\n\n  waitForRecognition(): Promise<void> {\n    return this.recognitionPromise\n  }\n\n  private preprocessUrl(): void {\n    const url = this.urlField.value.trim()\n    if (url.length === 0) return\n\n    if (!/^https?:\\/\\//.test(url)) {\n      this.urlField.value = `https://${url}`\n    }\n  }\n\n  private setChosenSocialIcon(chosenOption: Element) {\n    const chosenKey = chosenOption.getAttribute('data-provider-key') || 'generic'\n\n    for (const choice of this.iconOptions) {\n      choice.hidden = choice !== chosenOption\n    }\n    this.iconSpinner.hidden = true\n    this.iconField.value = chosenKey\n  }\n\n  private async findMatchingSocialAccountIconOption(url: string): Promise<Element> {\n    for (const choice of this.iconOptions) {\n      for (const patternElement of choice.querySelectorAll('[data-provider-pattern]')) {\n        const pattern = new RegExp(patternElement.getAttribute('data-provider-pattern')!, 'i')\n        if (pattern.test(url)) {\n          return choice\n        }\n      }\n    }\n\n    // No direct URL pattern match. See if we should probe for the host for Nodeinfo.\n    const nodeInfoIcon = await this.findNodeInfoIconOption(url)\n    if (nodeInfoIcon) return nodeInfoIcon\n\n    return this.iconGeneric\n  }\n\n  private async findNodeInfoIconOption(url: string): Promise<Element | null> {\n    if (this.nodeinfoSoftwareUrl.trim().length === 0) return null\n\n    const nodeInfoCandidates = new Map<string, Element>()\n    for (const choice of this.iconOptions) {\n      for (const nodeInfoElement of choice.querySelectorAll('[data-try-nodeinfo-pattern]')) {\n        const pattern = new RegExp(nodeInfoElement.getAttribute('data-try-nodeinfo-pattern')!, 'i')\n        const expectedSoftware = nodeInfoElement.getAttribute('data-nodeinfo-software')\n\n        const match = url.match(pattern)\n        if (match && expectedSoftware) {\n          nodeInfoCandidates.set(expectedSoftware, choice)\n        }\n      }\n    }\n    if (nodeInfoCandidates.size === 0) return null\n\n    let parsedURL: URL | null = null\n    try {\n      parsedURL = new URL(url, window.location.origin)\n    } catch (e) {\n      return null\n    }\n\n    this.showSpinner()\n\n    const u = new URL(this.nodeinfoSoftwareUrl, window.location.origin)\n    u.searchParams.set('host', parsedURL.host)\n    const checkResponse = await fetch(u, {\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n      },\n    })\n\n    const checkDocument = await checkResponse.json()\n    const softwareName = checkDocument?.['software_name']\n    if (softwareName) {\n      return nodeInfoCandidates.get(softwareName) || null\n    } else {\n      return null\n    }\n  }\n\n  showSpinner() {\n    for (const choice of this.iconOptions) {\n      choice.hidden = true\n    }\n    this.iconSpinner.hidden = false\n  }\n}\n","import FilterInputElement from '@github/filter-input-element'\nimport RemoteInputElement from '@github/remote-input-element'\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {sendHydroEvent} from '../hydro-tracking'\n\non('tab-container-changed', '.js-branches-tags-tabs', async function (event) {\n  const newTabPanel = event.detail.relatedTarget\n  const tabContainer = event.currentTarget\n  if (!newTabPanel || !tabContainer) return\n\n  let oldValue\n  let newControl\n\n  for (const controlInput of tabContainer.querySelectorAll('[data-controls-ref-menu-id]')) {\n    if (!(controlInput instanceof FilterInputElement || controlInput instanceof RemoteInputElement)) return\n    const id = controlInput.getAttribute('data-controls-ref-menu-id')!\n    const isNewControl = newTabPanel.id === id\n    controlInput.hidden = !isNewControl\n    if (isNewControl) {\n      newControl = controlInput\n    } else if (!oldValue) {\n      oldValue = controlInput.input ? controlInput.input.value : ''\n    }\n  }\n  const newInput = newControl && newControl.input\n  if (newInput) {\n    if (newControl && oldValue !== undefined) newInput.value = oldValue\n    newInput.focus()\n  }\n})\n\non('click', '.js-branch-select-menu', event => {\n  const target = event.currentTarget\n\n  if (target instanceof HTMLDetailsElement && !target.open) {\n    sendHydroEvent(target)\n  }\n})\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass ActionsPolicyFormElement extends HTMLElement {\n  @target specificOptions: HTMLElement\n  @target selectRadio: HTMLInputElement\n\n  connectedCallback() {\n    // In case user refreshes the page and the form saved state in Firefox\n    this.toggleSpecificOptions()\n  }\n\n  toggleSpecificOptions() {\n    if (this.selectRadio.checked) {\n      this.specificOptions.hidden = false\n    } else {\n      this.specificOptions.hidden = true\n    }\n  }\n}\n","import {attr, controller, target} from '@github/catalyst'\n\n@controller\nclass PublicIpElement extends HTMLElement {\n  @target checkbox: HTMLInputElement\n  @target description: HTMLDivElement\n  @target labelSection: HTMLDivElement\n\n  static attrPrefix = ''\n  @attr isAllowed = false\n\n  connectedCallback() {\n    this.isAllowed = this.hasAttribute('is-allowed')\n  }\n\n  checkboxChanged() {\n    const publicIpEnabled = this.checkbox.checked\n    const isAllowed = this.isAllowed\n    if (!isAllowed && !publicIpEnabled) {\n      this.checkbox.setAttribute('disabled', 'disabled')\n      this.description.classList.remove('color-fg-muted')\n      this.labelSection.classList.add('color-fg-subtle')\n    }\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// These behaviours also affect the inline editable profile on the user's page\n\non('change', '.js-profile-editable-pronouns-select', function () {\n  const select = document.querySelector<HTMLSelectElement>('.js-profile-editable-pronouns-select')!\n  const input = document.querySelector<HTMLInputElement>('.js-profile-editable-pronouns-custom')!\n  const initialValue = input.getAttribute('data-initial-value')!\n\n  if (select.value === 'Custom') {\n    // Reset the input value to the user's pronouns if they're custom\n    if ([...select.options].find(option => option.value === initialValue)) {\n      input.value = ''\n    } else {\n      input.value = initialValue\n    }\n\n    input.hidden = false\n    input.focus()\n  } else {\n    input.value = select.value\n    input.hidden = true\n  }\n})\n","import {controller, target} from '@github/catalyst'\nimport {requestSubmit} from '@github-ui/form-utils'\nimport type {ModalDialogElement} from '@primer/view-components/app/components/primer/alpha/modal_dialog'\n\n@controller\nclass AdvancedSecurityNewReposElement extends HTMLElement {\n  @target checkbox: HTMLFormElement\n  @target status: HTMLElement\n  @target dialog: ModalDialogElement | HTMLDialogElement\n  @target form: HTMLFormElement\n\n  // Handle the checkbox changing state\n  toggle(event: Event) {\n    if (this.checkbox.checked) {\n      // Show the dialog if they're enabling\n      // Hide the status indicator - it may be shown from a previous submission,\n      // but we don't want to give the impression that the current selection has\n      // been submitted yet.\n      this.status.hidden = true\n      if (this.dialog instanceof HTMLDialogElement) {\n        this.dialog.showModal()\n      } else {\n        this.dialog.show()\n      }\n      event.stopPropagation()\n    } else {\n      // For disable, just submit the form, but ensure the indicator is visible\n      this.status.hidden = false\n      requestSubmit(this.form)\n    }\n  }\n\n  // Handle the buttons in the confirmation dialog\n\n  confirm() {\n    this.status.hidden = false\n    requestSubmit(this.form)\n    this.dialog.open = false\n  }\n\n  // clear the checkbox if the dialog is closed by anything other\n  // than the confirm button (which won't fire this event)\n  close() {\n    this.checkbox.checked = false\n  }\n}\n","import {create, supported, parseCreationOptionsFromJSON} from '@github/webauthn-json/browser-ponyfill'\nimport type {\n  CredentialCreationOptionsJSON,\n  RegistrationPublicKeyCredential,\n} from '@github/webauthn-json/browser-ponyfill'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\nimport {remoteForm} from '@github/remote-form'\nimport sudo from '@github-ui/sudo'\nimport {toggleDetailsTarget} from '../behaviors/details'\nimport {iuvpaaSupportLevel} from '@github-ui/webauthn-support-level'\n\ninterface RegistrationResponse {\n  nickname?: string\n  passkey_type?: string\n  registered_passkeys_count?: number\n  registered_security_keys_count?: number\n  webauthn_register_request?: JSON\n  registration?: string\n  error?: string\n}\n\nlet originalErrorMessage: string | null\n\nfunction togglePasskeyRegistrationButton(hidden: boolean) {\n  const registerButton = document.querySelector<HTMLInputElement>('.js-trusted-device-registration-button')!\n  registerButton.hidden = hidden\n}\n\n/******* Reading/writing registration form data ********/\n\nfunction u2fForm(): HTMLFormElement | null {\n  return document.querySelector<HTMLFormElement>('.js-add-u2f-registration-form')\n}\n\nconst registerRequestDataAttribute = 'data-webauthn-register-request'\n\nfunction updateDataAttribute(data: RegistrationResponse): void {\n  if (data.webauthn_register_request) {\n    u2fForm()?.setAttribute(registerRequestDataAttribute, JSON.stringify(data.webauthn_register_request))\n  }\n}\n\n// exporting as an object that can be stubbed for testing purposes\nexport const helper = {\n  reloadPage: (anchor?: string) => {\n    if (anchor) {\n      window.location.replace(`#${anchor}`)\n    }\n    window.location.reload()\n  },\n}\n\n/******* DOM listeners ********/\n\n// delete passkey\nremoteForm('.js-passkey-registration-delete', async function (form, wants) {\n  const registration = form.closest<HTMLElement>('.js-passkey-registration')!\n  const button = registration.querySelector<HTMLButtonElement>('.js-passkey-registration-delete-button')!\n  // Trigger a spinner while deleting a U2F device\n  if (button) {\n    button.disabled = true\n  } else {\n    registration.classList.add('is-sending')\n  }\n\n  const response = await wants.json()\n\n  if (response.json.registered_passkeys_count === 0) {\n    // We need to refresh the UI to update preferred 2FA method\n    helper.reloadPage()\n  } else {\n    // Remove the U2F registration from the list once deleted\n    updateDataAttribute(response.json)\n    registration.remove()\n    if (button && response.json.registered_passkeys_count === 0) {\n      const passkeysView = document.querySelector<HTMLElement>('.js-passkeys-view')!\n      passkeysView.hidden = true\n      const emptyView = document.querySelector<HTMLElement>('.js-passkeys-empty-view')!\n      emptyView.hidden = false\n    }\n  }\n})\n\n// delete security key\nremoteForm('.js-u2f-registration-delete', async function (form, wants) {\n  const registration = form.closest<HTMLElement>('.js-u2f-registration')!\n  const button = registration.querySelector<HTMLButtonElement>('.js-u2f-registration-delete-button')!\n  // Trigger a spinner while deleting a U2F device\n  if (button) {\n    button.disabled = true\n  } else {\n    registration.classList.add('is-sending')\n  }\n\n  const response = await wants.json()\n\n  if (response.json.registered_security_keys_count === 0) {\n    // We need to refresh the UI to update preferred 2FA method and two_factor_summary_row labels\n    helper.reloadPage()\n  } else {\n    // Remove the U2F registration from the list once deleted\n    updateDataAttribute(response.json)\n    registration.remove()\n  }\n})\n\nremoteForm('.js-passkey-update', async function (form, wants) {\n  const container = form.closest<HTMLElement>('.js-details-container')!\n  const errorDisplay = container.querySelector<HTMLElement>('.js-passkey-edit-form-error')!\n  const showNickname = container.querySelector<HTMLElement>('.js-passkey-nickname')!\n\n  let response\n  try {\n    response = await wants.json()\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    const errorText = error.response?.json?.error\n    if (errorText) {\n      errorDisplay.textContent = errorText\n    }\n    errorDisplay.hidden = false\n  }\n\n  if (!response) return\n\n  toggleDetailsTarget(container)\n  errorDisplay.hidden = true\n  const data = response.json\n  if (data?.nickname) {\n    showNickname.textContent = data.nickname\n  }\n  for (const field of form.elements) {\n    if (field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement) {\n      field.defaultValue = field.value\n    }\n  }\n})\n\n// Reveal the form the input when 'register a new device' is clicked\non('click', '.js-add-u2f-registration-link', function () {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-active')\n  newDeviceBox.classList.remove('is-showing-error')\n  const nickname = document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-field')!\n  nickname.value = ''\n  nickname.focus()\n})\n\n/******* Error Handling ********/\n\n// Reveal the error message with optional custom text content.\nfunction showError(text?: string) {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-showing-error')\n  newDeviceBox.classList.remove('is-sending')\n\n  const error_message = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error-message')!\n  error_message.textContent = ''\n  for (const el of newDeviceBox.querySelectorAll<HTMLElement>('.js-webauthn-message')) {\n    el.hidden = true\n  }\n\n  const error_container = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error')!\n  error_container.hidden = false\n  error_message.textContent = originalErrorMessage\n\n  const error_message_info = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error-message-info')!\n  error_message_info.textContent = text ?? ''\n  error_message_info.hidden = false\n}\n\nfunction toggleDuplicatePasskeyMessage(hidden: boolean) {\n  const duplicateMessage = document.querySelector<HTMLElement>('.js-passkey-duplicate-message')!\n  duplicateMessage.hidden = hidden\n}\n\nfunction toggleUpgradeConflictPasskeyMessage(hidden: boolean) {\n  const conflictMessage = document.querySelector<HTMLElement>('.js-webauthn-registration-upgrade-conflict-message')!\n  conflictMessage.hidden = hidden\n}\n\n/******* Registration ********/\n\nfunction resetForm() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.remove('is-sending', 'is-active')\n}\n\n// Persist the client's registration response on the server.\nasync function saveRegistration(registerResponse: RegistrationPublicKeyCredential): Promise<void> {\n  const sudoPassed = await sudo()\n  if (!sudoPassed) {\n    throw new Error('sudo failed')\n  }\n\n  const for_passkey = document.querySelector<HTMLButtonElement>('.js-passkey')\n  const form = document.querySelector<HTMLFormElement>('.js-add-u2f-registration-form')!\n\n  ;(form.elements.namedItem('response') as HTMLInputElement).value = JSON.stringify(registerResponse)\n\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n    })\n    if (!response.ok) {\n      throw new Error('Response was not ok')\n    }\n    const data: RegistrationResponse = await response.clone().json()\n\n    updateDataAttribute(data)\n    resetForm()\n    if (for_passkey) {\n      handlePasskeySave(data)\n    } else {\n      handleSecurityKeySave(data)\n    }\n  } catch (error) {\n    if (response) {\n      const errorResponse: RegistrationResponse = await response.json()\n      updateDataAttribute(errorResponse)\n      showError(errorResponse.error)\n    } else {\n      showError()\n    }\n  }\n}\n\nfunction handleSecurityKeySave(data: RegistrationResponse): void {\n  const htmlString = data.registration\n  if (!htmlString) {\n    return\n  }\n\n  const registrations = <HTMLElement>document.querySelector('.js-u2f-registrations')\n  registrations.append(parseHTML(document, htmlString))\n  if (data.registered_security_keys_count === 1) {\n    // for the first registered security key, we need to refresh the UI to update preferred 2FA method and two_factor_summary_row labels\n    helper.reloadPage('webauthn')\n  }\n}\n\nfunction handlePasskeySave(data: RegistrationResponse) {\n  const defer = document.querySelector<HTMLDivElement>('.js-new-u2f-registration-never-ask')\n  if (defer) {\n    defer.hidden = true\n  }\n  document.querySelector<HTMLDivElement>('.js-new-u2f-registration')!.hidden = true\n  document.querySelector<HTMLDivElement>('.js-webauthn-confirm')!.hidden = true\n  document.querySelector<HTMLDivElement>('.js-new-u2f-registration-success')!.hidden = false\n  const nickname = document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-field')!\n  switch (data.passkey_type) {\n    case 'synced': {\n      document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-advice-synced')!.hidden = false\n      break\n    }\n    case 'hardware': {\n      document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-advice-hardware')!.hidden = false\n      break\n    }\n    case 'bound':\n    case 'upgraded': {\n      nickname.value = data.nickname || ''\n      break\n    }\n  }\n  nickname.focus()\n}\n\nfunction showSpinner() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-sending')\n  newDeviceBox.classList.remove('is-showing-error')\n}\n\nfunction hideSpinner() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.remove('is-sending')\n}\n\n// Ask the device to register itself when the user taps its button.\nexport async function waitForWebauthnDevice(): Promise<void> {\n  const passkey = document.querySelector<HTMLButtonElement>('.js-passkey')\n  if (passkey) {\n    await waitForPasskeyGesture()\n  } else {\n    await waitForSecurityKeyGesture()\n  }\n}\n\nexport async function waitForPasskeyGesture(): Promise<void> {\n  try {\n    togglePasskeyRegistrationButton(true)\n    toggleDuplicatePasskeyMessage(true)\n    toggleUpgradeConflictPasskeyMessage(true)\n    showSpinner()\n\n    const registerRequestJSON: CredentialCreationOptionsJSON = JSON.parse(\n      u2fForm()!.getAttribute(registerRequestDataAttribute)!,\n    )\n    const registerResponse = await create(parseCreationOptionsFromJSON(registerRequestJSON))\n    await saveRegistration(registerResponse)\n  } catch (error) {\n    hideSpinner()\n\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.name === 'InvalidStateError') {\n      if (userHasSecurityKeys()) {\n        // if the user has security keys show the confirm\n        document.querySelector<HTMLButtonElement>('.js-new-u2f-registration')!.hidden = true\n        document.querySelector<HTMLButtonElement>('.js-webauthn-confirm')!.hidden = false\n        document.querySelector<HTMLButtonElement>('.js-webauthn-confirm-button')!.focus()\n      } else {\n        // if the user has no security keys and they have passkeys, we can assume it's a duplicate Passkey\n        if (userHasPasskeys()) {\n          togglePasskeyRegistrationButton(false)\n          toggleDuplicatePasskeyMessage(false)\n        } else {\n          // if the user has no passkeys, some other error has occurred (shouldn't happen)\n          togglePasskeyRegistrationButton(false)\n          showError()\n        }\n      }\n    } else {\n      togglePasskeyRegistrationButton(false)\n      showError()\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      if (error.name !== 'NotAllowedError' && userHasSecurityKeys() && (await iuvpaaSupportLevel()) === 'unsupported') {\n        toggleUpgradeConflictPasskeyMessage(false)\n      }\n      throw error\n    }\n  }\n}\n\nexport async function waitForSecurityKeyGesture(): Promise<void> {\n  try {\n    showSpinner()\n    const registerRequestJSON: CredentialCreationOptionsJSON = JSON.parse(\n      u2fForm()!.getAttribute(registerRequestDataAttribute)!,\n    )\n    const registerResponse = await create(parseCreationOptionsFromJSON(registerRequestJSON))\n    await saveRegistration(registerResponse)\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.name === 'InvalidStateError') {\n      showError()\n      // and show duplicate security key error message\n      document.querySelector<HTMLElement>('.js-webauthn-duplicate-registration-message')!.hidden = false\n    } else {\n      showError()\n      throw error\n    }\n  }\n}\n\non('click', '.js-add-u2f-registration-retry', function () {\n  waitForWebauthnDevice()\n})\n\n// Reveal the passkey registration form.\nobserve('.js-add-u2f-registration-form.for-trusted-device', {\n  constructor: HTMLFormElement,\n  add(el) {\n    el.hidden = false\n  },\n})\n\n// Handle the creation of a new registration.\non('submit', '.js-add-u2f-registration-form', function (event) {\n  event.preventDefault()\n  waitForWebauthnDevice()\n})\n\nobserve('.js-webauthn-box', function (el) {\n  // Remove the 'unsupported' message.\n  el.classList.toggle('available', supported())\n})\n\nobserve('.js-webauthn-registration-error-message', function (el) {\n  originalErrorMessage = el.textContent\n  el.textContent = ''\n})\n\non('auto-check-success', '.js-u2f-registration-nickname-field', function () {\n  const continueButton = document.querySelector<HTMLInputElement>('.js-trusted-device-continue')!\n  continueButton.disabled = false\n})\n\non('auto-check-error', '.js-u2f-registration-nickname-field', function () {\n  const continueButton = document.querySelector<HTMLInputElement>('.js-trusted-device-continue')!\n  continueButton.disabled = true\n})\n\nfunction userHasSecurityKeys() {\n  const securityKeyElem = document.querySelector<HTMLInputElement>('#existing_security_key_count')\n  return securityKeyElem && parseInt(securityKeyElem.value) > 0\n}\n\nfunction userHasPasskeys() {\n  const passkeyElem = document.querySelector<HTMLInputElement>('#existing_passkey_count')\n  return passkeyElem && parseInt(passkeyElem.value) > 0\n}\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass ActionsPolicyPopoverElement extends HTMLElement {\n  @target popoverEl: HTMLElement\n\n  override togglePopover() {\n    this.popoverEl.hidden = !this.popoverEl.hidden\n    return true\n  }\n}\n","import {getState, replaceState} from '@github-ui/browser-history-state'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non(\n  'click',\n  '.js-actions-runner-platform-radio',\n  function (event) {\n    const target = event.target as Element\n    const selection = target.closest<HTMLElement>('.js-actions-runner-instructions')!\n    const architectureMenu = selection.querySelector<HTMLElement>('.js-actions-runner-architecture-menu')!\n\n    const os = target.getAttribute('data-download-os')!\n    const defaultArchitecture = architectureMenu.getAttribute('data-default-architecture')!\n\n    for (const el of architectureMenu.querySelectorAll<HTMLElement>('[data-download-os]')) {\n      const elementOS = el.getAttribute('data-download-os')!\n      el.hidden = elementOS !== os\n      if (elementOS === os && el.getAttribute('data-download-architecture') === defaultArchitecture) {\n        el.click()\n      }\n    }\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-instructions')!.hidden = os !== 'win'\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-arm64-preview')!.hidden = !(\n      os === 'win' && defaultArchitecture === 'arm64'\n    )\n    selection.querySelector<HTMLElement>('.js-actions-runner-unix-instructions')!.hidden = os === 'win'\n    updateUrlParams('os', os)\n  },\n  {capture: true},\n)\n\non(\n  'details-menu-selected',\n  '.js-actions-runner-architecture-menu',\n  function (event) {\n    const target = event.detail.relatedTarget as Element\n    const selection = target.closest<HTMLElement>('.js-actions-runner-instructions')!\n    const downloadUrl = target.getAttribute('data-download-url')!\n    const filename = target.getAttribute('data-download-filename')!\n    const token = target.getAttribute('data-download-token')!\n    const hash = target.getAttribute('data-download-hash')!\n    const os = target.getAttribute('data-download-os')!\n\n    for (const el of selection.querySelectorAll('.js-action-runner-url')) {\n      el.textContent = downloadUrl\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-filename')) {\n      el.textContent = filename\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-token')) {\n      el.textContent = token\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-hash')) {\n      el.textContent = hash\n    }\n    const architecture = target.getAttribute('data-download-architecture')!\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-arm64-preview')!.hidden = !(\n      os === 'win' && architecture === 'arm64'\n    )\n    updateUrlParams('arch', architecture)\n  },\n  {capture: true},\n)\n\nfunction updateUrlParams(key: string, value: string) {\n  const urlParams = new URLSearchParams(window.location.search)\n  urlParams.set(key, value)\n\n  const url = new URL(window.location.href, window.location.origin)\n  url.search = urlParams.toString()\n  replaceState(getState(), '', url.toString())\n}\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {pushState} from '@github-ui/browser-history-state'\nimport {ready} from '@github-ui/document-ready'\n\n// If the page parameter is provided, the page number in the\n// container's src URL will be updated to the provided number.\n// Otherwise the src URL will be used as-is.\n//\n// This function is exported so that it can be tested.\nexport async function updateAdvancedSecurityEntity(container: HTMLElement, page?: number) {\n  const showOnError = container.querySelector<HTMLElement>('[data-show-on-error]')\n  const loadingElement = container.querySelector<HTMLElement>('[data-loading]')\n\n  const dataContainer = container.querySelector<HTMLElement>('[data-content-container]')\n  if (dataContainer == null) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  let src = container.getAttribute('data-src')\n  if (src == null) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  // Update the page number if one has been explicitly passed in\n  // and hide the pager, replacing it with a spinner.\n  //\n  // There's no javascript to handle showing the pager again and\n  // hiding the paging spinner, since the container's entire contents\n  // - including the pager - are replaced with the response data (or\n  // error message) anyway!\n  if (page !== undefined) {\n    const srcURL = new URL(src, window.origin)\n\n    srcURL.pathname = srcURL.pathname.replace(/\\d+$/, page.toString())\n\n    const newSrc = srcURL.toString()\n\n    if (src === newSrc) {\n      // another container has triggered a statechange but we are still on the correct page and do not need\n      // to fetch again\n      return\n    }\n\n    src = newSrc\n\n    const pager = container.querySelector<HTMLElement>('.js-advanced-security-entities-pagination')\n    if (pager) {\n      pager.hidden = true\n    }\n    const pagerLoadingElement = container.querySelector('[data-pager-loading]')\n    if (pagerLoadingElement) {\n      pagerLoadingElement.removeAttribute('hidden')\n    }\n    const otherHideables = container.querySelectorAll<HTMLElement>('[data-hide-when-paging]')\n    for (const hideable of otherHideables) {\n      hideable.hidden = true\n    }\n  } else {\n    if (dataContainer.children.length > 0) {\n      // another pjax container has reloaded but we are already showing a page and we do not need\n      // to fetch again\n      return\n    }\n  }\n\n  let entityList\n  try {\n    entityList = await fetchSafeDocumentFragment(document, src)\n  } catch {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n  if (!entityList) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  if (loadingElement) {\n    loadingElement.hidden = true\n  }\n\n  dataContainer.textContent = ''\n  dataContainer.appendChild(entityList)\n}\n\nfunction findContainerWithRef(refToFind: string): HTMLDivElement | null {\n  const containers = document.querySelectorAll<HTMLDivElement>('.js-ghas-entity-list-container')\n  if (containers == null || containers.length === 0) {\n    return null\n  }\n\n  for (const container of containers) {\n    const showOnError = container.querySelector<HTMLElement>('[data-show-on-error]')\n    const loadingElement = container.querySelector<HTMLElement>('[data-loading]')\n    const dataContainer = container.querySelector<HTMLElement>('[data-content-container]')\n\n    const ref = container.getAttribute('data-ref')\n    if (ref == null) {\n      handleErrorState(showOnError, loadingElement, dataContainer)\n      return null\n    }\n\n    // found the container worth updating\n    if (ref === refToFind) {\n      return container\n    }\n  }\n\n  return null\n}\n\nexport async function retrieveAdvancedSecurityEntities(page?: number) {\n  const containers = document.querySelectorAll<HTMLDivElement>('.js-ghas-entity-list-container')\n  if (containers == null || containers.length === 0) {\n    return\n  }\n\n  for (const container of containers) {\n    await updateAdvancedSecurityEntity(container, page)\n  }\n}\n\nfunction handleErrorState(\n  showOnError: HTMLElement | null,\n  loadingElement: HTMLElement | null,\n  dataContainer: HTMLElement | null,\n) {\n  if (showOnError) {\n    showOnError.hidden = false\n  }\n  if (loadingElement) {\n    loadingElement.hidden = true\n  }\n  if (dataContainer) {\n    dataContainer.textContent = ''\n  }\n}\n\n// retrieve the repo/org list on page load\n;(async () => {\n  await ready\n  retrieveAdvancedSecurityEntities()\n})()\n\n// switching between settings pages is handled by turbo, so doesn't trigger a\n// full page reload. Listen for turbo:load to handle this\ndocument.addEventListener('turbo:load', function () {\n  retrieveAdvancedSecurityEntities()\n})\n\nwindow.addEventListener('popstate', function (event) {\n  if (event.state === null) {\n    // the user has popped through all the states and gone back to the first page\n    // this will not trigger a statechange event so we must reload it explicitly\n    retrieveAdvancedSecurityEntities(1)\n  }\n})\n\n// reload entries on a push/pop state change\nwindow.addEventListener('statechange', function () {\n  const params = new URLSearchParams(document.location.search)\n  const trackedParams = ['advanced_security_entities_page', 'advanced_security_users_page']\n\n  for (const param of trackedParams) {\n    const pageNumber = parseInt(params.get(param) || '')\n    if (isNaN(pageNumber)) {\n      continue\n    }\n\n    const container = findContainerWithRef(param)\n    if (container == null) {\n      continue\n    }\n\n    updateAdvancedSecurityEntity(container, pageNumber)\n  }\n})\n\non('click', '.js-advanced-security-entities-pagination a', function (event) {\n  if (event == null || event.target == null) {\n    return\n  }\n  const href = (event.target as HTMLAnchorElement).href\n\n  const hrefURL = new URL(href, window.origin)\n\n  const currentParams = new URLSearchParams(document.location.search)\n\n  for (const [key, value] of currentParams) {\n    if (!hrefURL.searchParams.has(key)) {\n      hrefURL.searchParams.append(key, value)\n    }\n  }\n\n  pushState(null, '', hrefURL.toString())\n\n  event.preventDefault()\n})\n","import {type ColorMode, getClientTheme, getPreferredColorMode, setClientMode, setClientTheme} from '../color-modes'\nimport {controller, targets} from '@github/catalyst'\n\n@controller\nclass AppearanceFormElement extends HTMLElement {\n  @targets modePanels: HTMLElement[]\n\n  modeSelectChange(event: Event) {\n    const select = event.currentTarget as HTMLSelectElement\n    const modeName = select.value\n    const form = this.activatePanel(modeName)!\n    this.activateForm(form)\n  }\n\n  activatePanel(modeName: string) {\n    let activeForm\n    for (const panel of this.modePanels) {\n      const hidden = this.modePanels.length > 1 ? panel.getAttribute('data-mode-panel') !== modeName : false\n      panel.hidden = hidden\n      if (!hidden) {\n        const form = panel.querySelector('form') as HTMLFormElement\n        if (form) {\n          activeForm = form\n        }\n      }\n    }\n    return activeForm\n  }\n\n  activateForm(form: HTMLFormElement) {\n    const selectedInputs = form.querySelectorAll<HTMLInputElement>('input[type=\"radio\"]:checked')\n    if (selectedInputs.length === 0) {\n      const currentMode = getPreferredColorMode()\n      const userTheme = getClientTheme(currentMode as ColorMode)\n      const input = form.querySelector<HTMLInputElement>(`input[value=${userTheme}]`)\n      if (input) {\n        input.checked = true\n        this.changeTheme(input)\n      }\n    } else {\n      for (const selectedInput of selectedInputs) {\n        this.changeTheme(selectedInput)\n      }\n    }\n    form.dispatchEvent(new Event('submit'))\n  }\n\n  themeClicked(event: Event) {\n    const selectedInput = event.currentTarget as HTMLInputElement\n    this.changeTheme(selectedInput)\n  }\n\n  changeTheme(input: HTMLInputElement) {\n    const theme = input.value\n    const themeType = input.getAttribute('data-type')\n    const mode = input.getAttribute('data-mode')\n\n    if (theme && themeType && mode) {\n      setClientMode(mode as ColorMode)\n      setClientTheme(theme, themeType as ColorMode)\n    }\n  }\n\n  async saveTheme(event: Event) {\n    event.preventDefault()\n\n    const form = event.currentTarget as HTMLFormElement\n    const formData = new FormData(form)\n    await fetch(form.action, {\n      method: form.method,\n      body: formData,\n      headers: {'X-Requested-With': 'XMLHttpRequest'},\n    })\n  }\n}\n","import {type ColorMode, getPreferredColorMode} from '../color-modes'\nimport {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass AppearancePreviewElement extends HTMLElement {\n  @target boxElement: HTMLElement\n  @target activeLabel: HTMLElement\n  @targets themePreviews: HTMLElement[]\n\n  connectedCallback() {\n    this.checkActive()\n    window\n      .matchMedia(`(prefers-color-scheme: ${this.getAttribute('data-mode')})`)\n      .addEventListener('change', () => this.checkActive())\n  }\n\n  themePreview(e: Event) {\n    const disc = e.currentTarget as HTMLElement\n    if (!disc) {\n      return\n    }\n    const theme = disc.getAttribute('data-theme')\n    for (const preview of this.themePreviews) {\n      preview.hidden = preview.getAttribute('data-theme') !== theme\n    }\n  }\n\n  previewReset() {\n    const selectedTheme = this.boxElement.querySelector('input:checked') as HTMLInputElement\n    const theme = selectedTheme.value\n    for (const preview of this.themePreviews) {\n      preview.hidden = preview.getAttribute('data-theme') !== theme\n    }\n  }\n\n  checkActive() {\n    if ((this.getAttribute('data-mode') as ColorMode) === getPreferredColorMode()) {\n      this.boxElement.classList.add('Box--blue')\n      this.activeLabel.hidden = false\n    } else {\n      this.boxElement.classList.remove('Box--blue')\n      this.activeLabel.hidden = true\n    }\n  }\n}\n","import {debounce} from '@github/mini-throttle'\nimport {onInput} from '@github-ui/onfocus'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nremoteForm('.js-app-bgcolor-form', async function (form, wants) {\n  const noticeContainer = form.querySelector('.js-app-bgcolor-save-notice')\n  if (!noticeContainer) {\n    return\n  }\n\n  let response\n  try {\n    response = await wants.html()\n  } catch (responseError) {\n    noticeContainer.classList.remove('visible')\n  }\n\n  if (response) {\n    noticeContainer.classList.add('visible')\n    setTimeout(() => noticeContainer.classList.remove('visible'), 1500)\n  }\n})\n\nfunction updateLogoBackgroundColor(container: Element, bgcolor: string) {\n  const bgcolorEl = container.querySelector('.js-app-logo-with-bgcolor')\n\n  if (bgcolorEl instanceof HTMLElement) {\n    bgcolorEl.style.backgroundColor = `#${bgcolor}`\n  }\n}\n\nfunction saveLogoBackgroundColor(form: HTMLFormElement, input: HTMLInputElement) {\n  if (input.checkValidity()) {\n    requestSubmit(form)\n  }\n}\n\nonInput('.js-app-bgcolor-input', function (event) {\n  const input = event.target\n  if (!(input instanceof HTMLInputElement)) return\n  const form = input.closest<HTMLFormElement>('form')!\n  const color = input.value.replace(/^#/, '')\n\n  if (color.length < 1) {\n    input.classList.remove('color-fg-danger')\n    updateLogoBackgroundColor(form, input.defaultValue)\n    return\n  }\n\n  if (input.checkValidity()) {\n    input.classList.remove('color-fg-danger')\n    updateLogoBackgroundColor(form, color)\n\n    if (form.classList.contains('js-app-bgcolor-form')) {\n      debounce(() => saveLogoBackgroundColor(form, input), 400)()\n    }\n  } else {\n    input.classList.add('color-fg-danger')\n    updateLogoBackgroundColor(form, input.defaultValue)\n  }\n})\n","// GitHub Apps: Installation repository select menu behavior\n\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction selectedRepositories() {\n  return document.querySelectorAll<HTMLInputElement>('.js-selected-repository-field')\n}\n\nfunction isMaxRepositoriesSelected() {\n  const form = document.querySelector('.js-integrations-install-form')\n  if (form instanceof HTMLFormElement) {\n    const max = +(form.getAttribute('data-max-repos') || 0)\n    return max > 0 && selectedRepositories().length >= max\n  }\n}\n\n// Fetch new menu content, excluding selected repositories\nfunction toggleRepoVisibilityFromResults() {\n  const menu = document.querySelector<HTMLElement>('#repository-menu-list')!\n  const ids = Array.from(selectedRepositories()).map(input => input.value)\n  let anyVisible = false\n  for (const item of menu.querySelectorAll<HTMLButtonElement>('[role=menuitem]')) {\n    const hidden = ids.includes(item.value)\n    if (!anyVisible && !hidden) anyVisible = true\n    item.hidden = hidden\n  }\n  const noRepo = menu.querySelector('.js-no-repository-found')\n  if (noRepo instanceof HTMLElement) noRepo.hidden = anyVisible\n}\n\n// Disable the submit and cancel buttons if repository selection is required\nfunction updateFormValidity() {\n  const selectRepos = document.querySelector<HTMLInputElement>('.js-select-repositories-radio')\n  if (!selectRepos) return\n\n  const formIsValid = !selectRepos.checked || selectedRepositories().length > 0\n  toggleEnable('js-integrations-install-form-submit', formIsValid)\n  toggleEnable('js-integrations-install-form-cancel', true)\n}\n\n// Enable/disable button matching certain class\nfunction toggleEnable(className: string, enable: boolean) {\n  const button = document.querySelector(`.${className}`)\n  if (button && button instanceof HTMLButtonElement) {\n    if (button.disabled === enable) {\n      button.disabled = !enable\n    }\n  }\n}\n\n// Remove repository selection inputs if repository selection is not required\nfunction toggleRepoSelectionSection() {\n  const selectRepos = document.querySelector<HTMLInputElement>('.js-select-repositories-radio')\n  const repoSection = document.querySelector<HTMLElement>('.js-integrations-install-repo-selection')!\n  if (!selectRepos) return\n\n  repoSection.classList.toggle('has-removed-contents', !selectRepos.checked)\n}\n\nfunction updateRepositoriesSelectedCopy() {\n  const count = selectedRepositories().length\n  const repoCountEl = document.querySelector<HTMLElement>('.js-integration-total-repos')!\n  repoCountEl.hidden = count === 0\n  // eslint-disable-next-line i18n-text/no-en\n  repoCountEl.textContent = `Selected ${count} ${count === 1 ? 'repository' : 'repositories'}.`\n}\n\nobserve('.js-apps-install-select-repositories-container remote-input', el => {\n  el.addEventListener('remote-input-success', toggleRepoVisibilityFromResults)\n  el.addEventListener('remote-input-error', toggleRepoVisibilityFromResults)\n})\n\non(\n  'details-menu-selected',\n  '.js-apps-install-select-repositories-menu',\n  function (event) {\n    const button = event.detail.relatedTarget as Element\n\n    // Copy template content and insert selected repository into the \"picked\" list\n    const pickedCountainer = document.querySelector<HTMLElement>('.js-integrations-install-repo-picked')!\n    const result = button.querySelector<HTMLTemplateElement>('template')!.content.cloneNode(true)\n    pickedCountainer.prepend(result)\n\n    // Remove any errors from the form\n    document.querySelector<HTMLElement>('.js-min-repository-error')!.hidden = true\n    document.querySelector<HTMLElement>('.js-max-repository-warning')!.hidden = !isMaxRepositoriesSelected()\n\n    // Update selected repo counts and enable the install/save button if\n    // necessary\n    updateRepositoriesSelectedCopy()\n    updateFormValidity()\n    toggleRepoVisibilityFromResults()\n  },\n  {capture: true},\n)\n\non('change', '.js-integrations-install-form', updateFormValidity)\non('change', '.js-user-programmatic-access-form', updateFormValidity)\n\non('click', '.js-repository-picker-remove', function (event) {\n  // Remove the element from the \"Picked\" list\n  const row = event.currentTarget.closest<HTMLElement>('.js-repository-picker-result')!\n  row.remove()\n\n  // Show an error message if no repos are selected\n  document.querySelector<HTMLElement>('.js-min-repository-error')!.hidden = selectedRepositories().length > 0\n\n  updateRepositoriesSelectedCopy()\n  updateFormValidity()\n  toggleRepoVisibilityFromResults()\n})\n\non('change', '.js-installation-repositories-radio', toggleRepoSelectionSection)\n\non('click', '.js-integrations-install-form-cancel', function () {\n  window.location.reload()\n})\n","import {controller, target} from '@github/catalyst'\nimport {parseHTML} from '@github-ui/parse-html'\n\n@controller\nclass DefaultLocationSettingElement extends HTMLElement {\n  @target manualRadioButton: HTMLInputElement\n  @target regionSelect: HTMLInputElement\n  @target locationForm: HTMLFormElement\n  @target autoRadioButton: HTMLInputElement\n\n  async changeManuallySelected() {\n    if (this.manualRadioButton.checked) {\n      this.regionSelect.disabled = false\n      if (this.regionSelect.value !== '') {\n        await this.regionSelected()\n      }\n    }\n  }\n\n  async changeAutoSelected() {\n    if (this.autoRadioButton.checked) {\n      this.regionSelect.disabled = true\n      await this.submitSelectedRegion(null)\n    }\n  }\n\n  async regionSelected() {\n    const selectedRegion = this.regionSelect.value\n    await this.submitSelectedRegion(selectedRegion)\n  }\n\n  async submitSelectedRegion(region: string | null) {\n    const data = new FormData(this.locationForm)\n    if (region !== null) {\n      data.append('codespace_default_location', region)\n    }\n    const response = await fetch(this.locationForm.action, {\n      method: this.locationForm.method,\n      body: data,\n      headers: {\n        Accept: 'text/fragment+html',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n    const html = parseHTML(document, await response.text())\n    const settingContainer = this.closest('.js-default-location-setting-container')!\n    settingContainer.replaceWith(html)\n  }\n}\n","import '../codespaces/default-location-setting-element'\nimport {TemplateInstance} from '@github/template-parts'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\nimport {replaceAndRefocus} from '../codespaces'\nimport type {SelectPanelExperimentalElement} from '../../../../components/primer/experimental/select-panel-element'\n\non('itemActivated', '#settings_user_codespaces_update_dotfiles_repo', () => {\n  const form = document.querySelector<HTMLFormElement>('.js-codespaces-update-dotfiles-repo-form')\n  if (!form) return\n\n  submitUserSettingsForm(form)\n})\n\non('itemActivated', '#new-codespaces-secret-repository-select-panel', event => {\n  const panel = event.target as SelectPanelExperimentalElement\n  const count = panel.selectedItems?.length\n  const info = panel.parentElement?.querySelector('[data-selected-repos-info]')\n\n  if (info) {\n    ;(info.querySelector('[data-target=\"selected-repositories.plural\"]') as HTMLElement).hidden = count === 1\n    ;(info.querySelector('[data-target=\"selected-repositories.singular\"]') as HTMLElement).hidden = count !== 1\n    info.querySelector('[data-target=\"selected-repositories.count\"]')!.textContent = count.toString()\n    ;(info.querySelector('[data-target=\"selected-repositories.active-warning\"]') as HTMLElement).hidden = count !== 0\n  }\n  const repositoryContainer = panel.parentElement?.querySelector('[data-target=\"selected-repositories.repositories\"]')\n\n  repositoryContainer!.textContent = ''\n\n  for (const item of panel.selectedItems) {\n    const repoControl = createActionListItem(item.label as string, item.value as string)\n    repositoryContainer!.append(repoControl)\n  }\n})\n\non('click', '#trusted_repositories_repo_selection_submit_button', () => {\n  const form = document.querySelector<HTMLFormElement>('.js-codespaces-update-trusted-repositories-select-form')\n  if (!form) return\n\n  const panel = document.querySelector('#trusted_repositories_repo_selection') as SelectPanelExperimentalElement\n  const inputContainer = form.querySelector('[data-target=\"add-repo-info\"]')!\n\n  for (const item of panel.selectedItems) {\n    const hiddenInput = document.createElement('input')\n    hiddenInput.type = 'hidden'\n    hiddenInput.name = 'repo[]'\n    hiddenInput.value = item.value as string\n    inputContainer.append(hiddenInput)\n  }\n\n  submitUserSettingsForm(form)\n})\n\non('click', '#trusted_repositories_repo_selection_cancel_button', () => {\n  const panel = document.querySelector('#trusted_repositories_repo_selection') as SelectPanelExperimentalElement\n  panel.dialog.close()\n})\n\non('submit', '.js-codespaces-update-dotfiles-repo-form', async event => {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  submitUserSettingsForm(form)\n})\n\nconst submitUserSettingsForm = async (form: HTMLFormElement) => {\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'text/fragment+html'},\n  })\n\n  // Show an error message (if request fails)\n  if (response.status >= 400) {\n    // eslint-disable-next-line i18n-text/no-en\n    const message = 'An unknown error occurred.'\n    const template = document.querySelector<HTMLTemplateElement>('template.js-flash-template')!\n    template.after(new TemplateInstance(template, {className: 'flash-error', message}))\n  } else {\n    const target = <HTMLElement>form.closest('[data-replace-remote-form-target]')\n\n    const partial = parseHTML(document, await response.text())\n\n    replaceAndRefocus(target, partial)\n  }\n}\n\non('click', '.js-codespaces-user-secrets-form input[name=repo]', async event => {\n  const input = event.currentTarget as HTMLInputElement\n  const form = input.closest<HTMLElement>('form')!\n  if (!form.querySelector(`[name=\"codespaces_user_secret[repository_ids][]\"][value=\"${input.value}\"]`)) {\n    // Create and insert the repository control\n    const repoName = input.closest('.select-menu-item-text')!.querySelector('[data-menu-button-contents]')!.textContent\n    if (repoName && input.value) {\n      const repoControl = createRepositoryRow(repoName, input.value)\n      form.querySelector('[data-target=\"selected-repositories.repositories\"]')!.append(repoControl)\n    }\n    // Update the count\n    updateSelectedRepositoryCount(event)\n  }\n  input.closest('details')!.removeAttribute('open')\n  event.preventDefault()\n})\n\non(\n  'change',\n  '.js-codespaces-user-secrets-form input[name=\"codespaces_user_secret[repository_ids][]\"]',\n  updateSelectedRepositoryCount,\n)\n\nfunction createActionListItem(repositoryName: string, repositoryId: string) {\n  const repoControl = document.createElement('li')\n  repoControl.className = 'ActionListItem'\n  repoControl.setAttribute('data-targets', 'action-list.items')\n  const repoIdInput = document.createElement('input')\n  repoIdInput.className = ''\n  repoIdInput.type = 'hidden'\n  repoIdInput.name = 'codespaces_user_secret[repository_ids][]'\n  repoIdInput.value = repositoryId\n  repoControl.append(repoIdInput)\n  const button = document.createElement('button')\n  button.type = 'button'\n  button.className = 'ActionListContent'\n  const span = document.createElement('span')\n  span.className = 'ActionListItem-label'\n  span.textContent = repositoryName\n  button.append(span)\n  repoControl.append(button)\n  return repoControl\n}\n\nfunction createRepositoryRow(repositoryName: string, repositoryId: string) {\n  const repoControl = document.createElement('li')\n  repoControl.className = 'css-truncate d-flex flex-items-center width-full'\n  const checkbox = document.createElement('input')\n  checkbox.className = 'repository-item-checkbox js-repository-item-checkbox mx-2 position-absolute'\n  checkbox.type = 'checkbox'\n  checkbox.name = 'codespaces_user_secret[repository_ids][]'\n  checkbox.value = repositoryId\n  checkbox.id = `user-secret-repo-${repositoryId}`\n  checkbox.checked = true\n  repoControl.append(checkbox)\n  const label = document.createElement('label')\n  label.className = 'repository-item-name d-flex flex-items-center width-full color-fg-default py-1 pr-1 pl-5'\n  label.setAttribute('for', `user-secret-repo-${repositoryId}`)\n  label.title = repositoryName\n  label.textContent = repositoryName\n  repoControl.append(label)\n\n  return repoControl\n}\n\nfunction updateSelectedRepositoryCount(event: Event) {\n  const input = event.currentTarget as HTMLInputElement\n  const form = input.closest<HTMLElement>('form')!\n  // Update the count\n  const count = form.querySelectorAll('[name=\"codespaces_user_secret[repository_ids][]\"]:checked').length\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.plural\"]')!.hidden = count === 1\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.singular\"]')!.hidden = count !== 1\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.count\"]')!.textContent = String(count)\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.active-warning\"]')!.hidden = count !== 0\n}\n\n// We're using this instead of a `pattern=` attribute on this input since using\n// a pattern doesn't support case-insensitivity\non('focusout', '.js-codespaces-user-secrets-form input[name=\"codespaces_user_secret[name]\"]', event => {\n  const field = event.currentTarget as HTMLInputElement\n  const value = field.value\n\n  const regex = new RegExp('^(?!github).+', 'i')\n  const formGroup = field.closest('div.form-group')!\n\n  if (regex.test(value)) {\n    field.setCustomValidity('')\n    formGroup.classList.remove('errored')\n    field.removeAttribute('aria-describedby')\n  } else {\n    // This string is never surfaced to the UI\n    // eslint-disable-next-line i18n-text/no-en\n    field.setCustomValidity('Secret names cannot start with \"GITHUB\"')\n    field.setAttribute('aria-describedby', 'codespaces-secret-name-error')\n    formGroup.classList.add('errored')\n  }\n  const form = field.closest<HTMLFormElement>('form')!\n  form.dispatchEvent(new Event('change'))\n})\n\non('focusout', '.js-codespaces-user-secrets-form textarea[name=\"secret_value\"]', event => {\n  const field = event.currentTarget as HTMLInputElement\n\n  const value = field.value\n\n  const formGroup = field.closest('div.form-group')!\n  if (value.trim() === '') {\n    formGroup.classList.add('errored')\n    field.setAttribute('aria-describedby', 'codespaces-secret-value-error')\n  } else {\n    formGroup.classList.remove('errored')\n    field.removeAttribute('aria-describedby')\n  }\n})\n","import {controller, target} from '@github/catalyst'\nimport type {QueryBuilderElement} from '@github-ui/query-builder-element'\n@controller\nclass DependabotAlertRuleFormElement extends HTMLElement {\n  @target name: HTMLInputElement\n  @target rule: HTMLInputElement\n  @target ruleOptions: HTMLElement\n  @target updateRule: HTMLInputElement\n\n  get #dependabotUpdatesEnabled() {\n    return this.querySelector<HTMLInputElement>('input[name=dependabot_updates_enabled]')?.value === 'true'\n  }\n\n  get #selectedRuleOption() {\n    return this.ruleOptions.querySelector<HTMLInputElement>('input:checked')\n  }\n\n  get #untilPatchRuleOption() {\n    return this.ruleOptions.querySelector<HTMLInputElement>('input[value=until_patch]')\n  }\n\n  connectedCallback() {\n    this.toggleRuleCheckbox()\n    this.focusAlertCriteriaIfInvalid()\n  }\n\n  toggleRuleCheckbox() {\n    if (!this.rule.checked) {\n      if (this.#selectedRuleOption?.value !== 'until_patch' && !this.#dependabotUpdatesEnabled) {\n        this.#untilPatchRuleOption?.click()\n      }\n      this.ruleOptions.hidden = true\n    } else {\n      this.ruleOptions.hidden = false\n    }\n    this.selectedRuleOptionDidChange()\n  }\n\n  selectedRuleOptionDidChange() {\n    // If Dependabot security updates are enabled, the updateRule checkbox is always checked and disabled,\n    // so we can ignore changes to the selected rule option.\n    // If `updateRule` is missing, it's because the form is not being rendered\n    if (this.#dependabotUpdatesEnabled || !this.updateRule) {\n      return\n    }\n    if (this.#selectedRuleOption?.value !== 'until_patch') {\n      this.updateRule.checked = false\n      this.updateRule.disabled = true\n    } else {\n      this.updateRule.disabled = false\n    }\n  }\n\n  focusAlertCriteriaIfInvalid() {\n    const queryBuilderInput = <HTMLInputElement>this.querySelector('query-builder input')\n    if (queryBuilderInput.hasAttribute('invalid')) {\n      // for the moment the nameField is the only field that is before this field, therefore\n      // we can assume that the queryBuilder is the first field that is invalid if the nameField is valid\n      if (!this.name.hasAttribute('invalid')) {\n        // we are (ab)using the `query-builder:request-provider` event to determine when the query builder\n        // is ready to be focused as it's not fully initialized during this callback\n        // https://github.com/github/dependabot-alerts/issues/1508\n        let focused = false\n        document.addEventListener('query-builder:request-provider', (event: Event) => {\n          // return unless the event is for our our query builder\n          const eventTarget = <QueryBuilderElement>event.target\n          if (!eventTarget || eventTarget.input.id !== queryBuilderInput.id) return\n\n          // since this event can be fired multiple times, only focus on the first\n          if (!focused) {\n            focused = true\n            queryBuilderInput.focus()\n          }\n        })\n      }\n    }\n  }\n}\n","import memoize from '@github/memoize'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n  type QueryFilterElement,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport type {QueryBuilderElement} from '@github-ui/query-builder-element'\n\nimport {hasMatch, score} from 'fzy.js'\n\ninterface Suggestion {\n  value: string\n  name?: string\n  description?: string\n}\n\ntype BaseProviderProps = {\n  queryBuilder: QueryBuilderElement\n  name: string\n  value: string\n  description: string\n  priority: number\n  suggestionConfigurationAttribute: string | null\n  suggestionConfigurationPath: string | null\n}\n\nconst memoizeCache = new Map()\nconst memoizeFetchJSON = memoize(fetchJSON, {cache: memoizeCache})\n\nasync function fetchJSON(url: string) {\n  const response = await fetch(url, {headers: {Accept: 'application/json'}})\n\n  if (response.ok) {\n    return await response.json()\n  } else {\n    return undefined\n  }\n}\n\nfunction filterSuggestions(suggestions: Suggestion[], query: string): Suggestion[] {\n  // no need to filter if we don't have a query\n  if (query === '') return suggestions\n\n  const filteredSuggestions = suggestions.filter(suggestion => {\n    if (hasMatch(query, suggestion.value)) return suggestion\n    if (suggestion.description != null && hasMatch(query, suggestion.description)) return suggestion\n  })\n\n  filteredSuggestions.sort((a, b) => {\n    const aValueMatch = hasMatch(query, a.value)\n    const bValueMatch = hasMatch(query, b.value)\n\n    // we want to prefer values matches over description matches\n    // if both suggestions have a value match, we use score to sort\n    if (aValueMatch && bValueMatch) {\n      return score(query, a.value) - score(query, b.value)\n    } else if (aValueMatch && !bValueMatch) {\n      // prefer a's value since it matches\n      return -1\n    } else if (!aValueMatch && bValueMatch) {\n      //  prefer b's value since it matches\n      return 1\n    } else {\n      // if neither suggestion has a value match that implies that both are matched on description\n      return score(query, a.description!) - score(query, b.description!)\n    }\n  })\n\n  // return in descending order\n  return filteredSuggestions.reverse()\n}\n\nclass BaseProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  protected queryBuilder: QueryBuilderElement\n  readonly name: string\n  readonly value: string\n  readonly singularItemName: string\n  readonly description: string\n  readonly suggestionConfigurationAttribute: string | null\n  readonly suggestionConfigurationPath: string | null\n  readonly priority: number\n\n  constructor({\n    name = '',\n    value = '',\n    description = '',\n    suggestionConfigurationAttribute = null,\n    suggestionConfigurationPath = null,\n    priority = 0,\n    queryBuilder,\n  }: BaseProviderProps) {\n    super()\n    this.suggestionConfigurationAttribute = suggestionConfigurationAttribute\n    this.suggestionConfigurationPath = suggestionConfigurationPath\n\n    // if we don't have a suggestion configuration, that\n    // means we shouldn't add this provider to the QueryBuilder\n    // (for example, this prevents the manifest provider being show for org rules)\n    if (this.hasSuggestionConfiguration()) {\n      this.queryBuilder = queryBuilder\n      this.name = name\n      this.value = value\n      this.description = description\n      this.singularItemName = value\n      this.priority = priority\n\n      this.queryBuilder.attachProvider(this)\n      this.queryBuilder.addEventListener('query', this)\n\n      // preload the suggestions to avoid lag when user interacts with the QueryBuilder\n      this.fetchSuggestions()\n    }\n  }\n\n  fetchSuggestions(): Promise<Suggestion[]> {\n    if (this.suggestionConfigurationAttribute != null) {\n      return JSON.parse(this.getSearchInput().getAttribute(this.suggestionConfigurationAttribute)!)\n    } else {\n      return memoizeFetchJSON(this.getSearchInput().getAttribute(this.suggestionConfigurationPath!)!)\n    }\n  }\n\n  hasSuggestionConfiguration(): boolean {\n    if (this.getSearchInput() === null) return false\n\n    if (this.suggestionConfigurationAttribute != null) {\n      return this.getSearchInput().getAttribute(this.suggestionConfigurationAttribute) != null\n    } else if (this.suggestionConfigurationPath != null) {\n      return this.getSearchInput().getAttribute(this.suggestionConfigurationPath) != null\n    } else {\n      return false\n    }\n  }\n\n  getSearchInput(): HTMLElement {\n    return document.querySelector<HTMLElement>('query-builder#query-builder-rule-criteria-input-combobox')!\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastQuery = event.parsedQuery.at(-1)\n    const lastQueryValue = lastQuery?.value || ''\n    const lastQueryType = lastQuery?.type\n    const lastQueryFilter = (lastQuery as QueryFilterElement)?.filter || ''\n\n    if (lastQueryType !== 'filter' && (hasMatch(lastQueryValue, this.value) || lastQueryValue === '')) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastQueryType !== 'filter' || lastQueryFilter !== this.value) return\n\n    const suggestions = await this.fetchSuggestions()\n    this.dispatchEvent(new FetchDataEvent(this.fetchSuggestions()))\n\n    const filteredSuggestions = filterSuggestions(suggestions, lastQueryValue)\n\n    // The search filter has a performance bug triggered by the number of suggestions we return\n    // The fix for now is to limit the number of suggestions to a smallish number\n    // See https://github.com/github/discussions/issues/2816\n    for (const suggestion of filteredSuggestions.slice(0, 10)) {\n      const filterItem = new FilterItem({\n        filter: this.singularItemName,\n        name: suggestion.name,\n        value: suggestion.value.replace(/\"/g, ''), // Remove quotes for some reason, unclear why we need this\n        description: suggestion.description,\n        priority: 1,\n      })\n      this.dispatchEvent(filterItem)\n    }\n  }\n}\n\nclass SeverityProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Severities',\n      value: 'severity',\n      description: 'critical, high, moderate, low',\n      priority: 1,\n      suggestionConfigurationAttribute: 'data-suggestable-severities',\n      suggestionConfigurationPath: null,\n    })\n  }\n}\n\nclass PackageProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Packages',\n      value: 'package',\n      description: 'package-name',\n      priority: 2,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-packages-path',\n    })\n  }\n}\n\nclass EcosystemProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Ecosystems',\n      value: 'ecosystem',\n      description: 'ecosystem-name',\n      priority: 3,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-ecosystems-path',\n    })\n  }\n}\n\nclass ScopeProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Scopes',\n      value: 'scope',\n      description: 'runtime, development',\n      priority: 4,\n      suggestionConfigurationAttribute: 'data-suggestable-scopes',\n      suggestionConfigurationPath: null,\n    })\n  }\n}\n\nclass ManifestProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Manifests',\n      value: 'manifest',\n      description: 'manifest-name',\n      priority: 5,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-manifests-path',\n    })\n  }\n}\n\nclass CWEProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'CWEs',\n      value: 'cwe',\n      description: 'cwe-number',\n      priority: 6,\n      suggestionConfigurationAttribute: 'data-suggestable-cwes',\n      suggestionConfigurationPath: null,\n    })\n  }\n}\n\nclass CVEProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'CVE IDs',\n      value: 'cve_id',\n      description: 'cve-id',\n      priority: 7,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-cve-ids-path',\n    })\n  }\n}\n\nclass GHSAProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'GHSA IDs',\n      value: 'ghsa_id',\n      description: 'ghsa-id',\n      priority: 8,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-ghsa-ids-path',\n    })\n  }\n}\n\ndocument.addEventListener('query-builder:request-provider', (event: Event) => {\n  const targetId = 'query-builder-rule-criteria-input-combobox'\n  const target: QueryBuilderElement | null = event.target as QueryBuilderElement\n  // only attach to our QueryBuilder\n  if (!target || target.id !== targetId) return\n\n  new SeverityProvider(target)\n  new PackageProvider(target)\n  new EcosystemProvider(target)\n  new ScopeProvider(target)\n  new ManifestProvider(target)\n  new CWEProvider(target)\n  new CVEProvider(target)\n  new GHSAProvider(target)\n})\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {TemplateInstance} from '@github/template-parts'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onKey} from '@github-ui/onfocus'\nimport {parseHTML} from '@github-ui/parse-html'\n\nasync function submitAndUpdate(event: CustomEvent) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  submitAndUpdateForm(form)\n}\n\nasync function submitAndUpdateForm(form: HTMLFormElement) {\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'text/fragment+html'},\n  })\n\n  // Show an error message (if request fails)\n  if (response.status >= 400) {\n    // eslint-disable-next-line i18n-text/no-en\n    const message = 'An unknown error occurred.'\n    const template = document.querySelector<HTMLTemplateElement>('template.js-flash-template')!\n    template.after(new TemplateInstance(template, {className: 'flash-error', message}))\n  } else {\n    const target = <HTMLElement>form.closest('[data-replace-remote-form-target]')\n    const partial = parseHTML(document, await response.text())\n    target.replaceWith(partial)\n  }\n}\n\non('submit', '.js-dependabot-selected-repos-remove-form', submitAndUpdate)\n\n// Add a selected repo to the list and clear the search box\non('auto-complete-change', '.js-dependabot-selected-repos-add-auto-complete', function (event) {\n  const autoComplete = event.target as AutocompleteElement\n  if (!autoComplete.value) {\n    return\n  }\n\n  const input = autoComplete.querySelector<HTMLInputElement>('.js-dependabot-selected-repos-add-input')\n  input!.value = autoComplete.value\n  autoComplete.value = ''\n\n  const addForm = <HTMLFormElement>autoComplete.closest('form')\n  submitAndUpdateForm(addForm)\n})\n\n// Don't let users accidentally submit the form when you hit enter\nonKey('keydown', '.js-dependabot-selected-repos-add-search', function (event: KeyboardEvent) {\n  // TODO: Refactor to use data-hotkey\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  if (event.key === 'Enter') {\n    event.preventDefault()\n  }\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n})\n","// Add and remove Callback URLs for a GitHub App\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction replaceEndWith(value: string, separator: string, replacement: string): string {\n  const parts = value.split(separator)\n  parts[parts.length - 1] = replacement\n  return parts.join(separator)\n}\n\n// Adds the `required` class to the form-group container of all callback URL\n// fields to indicate that the field is now required.\nexport function markCallbackUrlsRequired(required: boolean) {\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n  const formGroupsLength = formGroups.length\n  if (formGroupsLength === 0) return\n\n  for (const field of formGroups) {\n    if (required) {\n      field.classList.add('required')\n    } else {\n      field.classList.remove('required')\n    }\n  }\n}\n\n// Delete the ApplicationCallbackURL or the Hook if their\n// respective url input has been cleared out.\non('change', 'input.js-application-callback-url-field, input.js-hook-url-field', function ({currentTarget}) {\n  let hiddenInputId = currentTarget.id\n  hiddenInputId = replaceEndWith(hiddenInputId, '_', '_destroy')\n\n  const hiddenInput = document.getElementById(hiddenInputId)\n\n  if (hiddenInput instanceof HTMLInputElement) {\n    const inputValue = (<HTMLInputElement>currentTarget).value\n\n    if (inputValue === '') {\n      hiddenInput.value = 'true'\n    } else {\n      hiddenInput.value = 'false'\n    }\n  }\n})\n\non('click', '.js-add-application-callback-url', function (event) {\n  event.preventDefault()\n\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const template = container.querySelector<HTMLTemplateElement>('template.js-new-application-callback-url')\n  if (!template) return\n\n  container.insertAdjacentHTML(\n    'beforeend',\n    template.innerHTML.replace(/TEMPLATE_INDEX/g, new Date().getTime().toString()),\n  )\n})\n\non('click', '.js-delete-application-callback-url', function (event) {\n  event.preventDefault()\n  const currentTarget = event.currentTarget\n\n  const formGroup = currentTarget.closest<HTMLElement>('.js-application-callback-url')\n  if (!formGroup) return\n\n  const formInput = formGroup.querySelector<HTMLInputElement>('input')\n  if (!formInput) return\n\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n\n  if (formGroups.length > 1) {\n    formGroup.remove()\n  } else {\n    formInput.value = ''\n  }\n\n  let hiddenInputId = formInput.id\n  hiddenInputId = replaceEndWith(hiddenInputId, '_', '_destroy')\n\n  const hiddenInput = document.getElementById(hiddenInputId)\n  if (!(hiddenInput instanceof HTMLInputElement)) return\n\n  hiddenInput.value = 'true'\n})\n","// Edit an Integration (GitHub App)\n// The same form is used for both creating new Apps and updating existing Apps.\n\nimport {markCallbackUrlsRequired} from './integrations-callback-urls'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction setupUrlField() {\n  return document.querySelector<HTMLInputElement>('input.js-edit-integration-setup-url')!\n}\n\nfunction setupUrlHint() {\n  const formGroup = setupUrlField().closest<HTMLElement>('.form-group')!\n\n  return formGroup.querySelector<HTMLElement>('.js-setup-url-hint')!\n}\n\nfunction helpTextForRedirectOnUpdate() {\n  return document.querySelector<HTMLElement>('.js-help-text-for-redirect-on-update')!\n}\n\nfunction updateSetupUrlHint(value: string) {\n  if (value) setupUrlHint().textContent = value\n}\n\non('change', '.js-edit-integration-request-oauth-on-install', function (event) {\n  const target = event.target as HTMLInputElement\n  const urlField = setupUrlField()\n\n  if (target.checked) {\n    markCallbackUrlsRequired(true)\n    urlField.disabled = true\n    urlField.placeholder = urlField.getAttribute('data-hint-unavailable-when-install') || ''\n\n    const hintUrl = urlField.getAttribute('data-hint-same-as-callback-url') || ''\n    updateSetupUrlHint(hintUrl)\n\n    const redirectOnUpdateHint = helpTextForRedirectOnUpdate()\n    redirectOnUpdateHint.textContent =\n      redirectOnUpdateHint.getAttribute('data-hint-redirect-on-update-callback-url') || ''\n  } else {\n    markCallbackUrlsRequired(false)\n    urlField.disabled = false\n    urlField.placeholder = ''\n    urlField.value = urlField.getAttribute('data-setup-url') || ''\n\n    const hintUrl = urlField.getAttribute('data-hint-setup-url') || ''\n    updateSetupUrlHint(hintUrl)\n\n    const redirectOnUpdateHint = helpTextForRedirectOnUpdate()\n    redirectOnUpdateHint.textContent = redirectOnUpdateHint.getAttribute('data-hint-redirect-on-update-setup-url') || ''\n  }\n})\n","// Integrations\n\nimport './integrations-callback-urls'\nimport './integrations-edit'\n\nimport {changeValue} from '@github-ui/form-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onKey} from '@github-ui/onfocus'\n\nfunction enableFormSubmission() {\n  const updatePermissionsButton = document.getElementById('js-update-integration-permissions')\n\n  if (updatePermissionsButton) {\n    updatePermissionsButton.removeAttribute('disabled')\n  }\n}\n\n// A list of the currently selected \"resource\" permissions for the Integration\n// based on the permissions drop downs.\n\n// E.g. [\"issues\", \"pull_requests\", \"metadata\"]\nfunction selectedResources(): string[] {\n  const inputs = document.querySelectorAll<HTMLInputElement>(\n    '[id^=integration_permission_]:checked:not([data-permission=\"none\"])',\n  )\n  return Array.from(inputs, input => input.getAttribute('data-resource')!)\n}\n\n// A NodeList of all the '.js-integration-hook-event' input nodes that are:\n// 1. Currently 'checked'\n// 2. Belong to the given \"resource\". E.g. \"issues\", \"pull_requests\" etc.\nfunction checkedHookEventsForResource(resource: string | null) {\n  if (!resource) return []\n  return Array.from(\n    document.querySelectorAll<HTMLInputElement>(`.js-integration-hook-event[data-resource~=\"${resource}\"]:checked`),\n  )\n}\n\n// A list of all the '.js-integration-hook-event' input nodes that are:\n// 1. Currently 'checked'\n// 2. Belong to resources permissions that are selected. E.g. \"Read\", \"Read &\n//    Write\" or \"Admin\".\nfunction checkedHookEventNodes() {\n  return selectedResources().flatMap(resource => checkedHookEventsForResource(resource))\n}\n\n// Can the given Hook event be hidden based on the chosen Integration\n// resource permissions?\n// E.g. When Issues is \"Read\" but Pull Requests is \"None\" the \"Milestones\"\n// event should still be visible because it applies to *both* resource types.\nfunction hookEventCheckboxCanBeHidden(node: HTMLInputElement): boolean {\n  return !checkedHookEventNodes().includes(node)\n}\n\non('change', '.js-integration-permissions-selector [id^=integration_permission_]', function ({currentTarget}) {\n  const permission = currentTarget.getAttribute('data-permission')\n  const resource = currentTarget.getAttribute('data-resource') || ''\n\n  // One event can apply to multiple resources (E.g. milestones apply to both\n  // Issues and Pull Requests). To model this in HTML data-resource can\n  // contain one or more resource names separated by spaces. E.g.\n  // data-resource=\"issues pull_requests\", which we select using the ~= CSS\n  // attribute condition.\n  const hookEvents = document.querySelectorAll<HTMLInputElement>(\n    `.js-integration-hook-event[data-resource~=\"${resource}\"]`,\n  )\n  const permissionContainers = document.querySelectorAll(`.js-dropdown-container[data-resource~=\"${resource}\"]`)\n\n  enableFormSubmission()\n\n  if (permission !== 'none') {\n    const hookPermissionErrors = document.querySelectorAll(\n      `.js-integration-hook-event-permission-error[data-resource~='${resource}']`,\n    )\n    for (const error of hookPermissionErrors) {\n      /* eslint-disable-next-line github/no-d-none */\n      error.classList.add('d-none')\n    }\n\n    for (const el of hookEvents) {\n      el.readOnly = false\n    }\n\n    currentTarget.closest<HTMLElement>('.js-list-group-item')!.classList.remove('disabled')\n    for (const el of permissionContainers) {\n      /* eslint-disable-next-line github/no-d-none */\n      el.classList.remove('d-none')\n    }\n  } else {\n    // The integrator has selected \"none\" as the permission for this resource.\n    // Hide all Hook event checkboxes related to this resource:\n    for (const el of hookEvents) {\n      if (hookEventCheckboxCanBeHidden(el)) {\n        // Disable the event hook checkbox\n        el.readOnly = true\n        el.checked = false\n\n        // Hide the hook checkbox's container\n        /* eslint-disable-next-line github/no-d-none */\n        el.closest<HTMLElement>('.js-dropdown-container')!.classList.add('anim-fade-in', 'd-none')\n      }\n    }\n\n    // Disable the current resource permission checkbox so we don't send a\n    // value to the server when this form is submitted.\n    currentTarget.closest<HTMLElement>('.js-list-group-item')!.classList.add('disabled')\n\n    if (resource === 'single_file') {\n      clearSubmittedFields(resource, '.js-single-files-path-list')\n    }\n  }\n})\n\nfunction clearSubmittedFields(resource: string, selectedList: string) {\n  // Hide the resource container\n  /* eslint-disable-next-line github/no-d-none */\n  document\n    .querySelector<HTMLElement>(`.js-dropdown-container[data-resource~='${resource}']`)!\n    .classList.add('anim-fade-in', 'd-none')\n\n  document.querySelector<HTMLElement>(selectedList)!.textContent = ''\n}\n\n// Toggle the 'required' state of the Hook URL input Field to let users know\n// that they need to provide a value when the hook is active.\nfunction toggleHookUrlRequired(active: boolean) {\n  const hookUrlField = document.querySelector<HTMLElement>('.js-hook-url-field')\n  if (!hookUrlField) return\n\n  hookUrlField.classList.toggle('required')\n  if (active) {\n    hookUrlField.setAttribute('required', 'required')\n  } else {\n    hookUrlField.removeAttribute('required')\n  }\n\n  const hookUrlFieldContainer = hookUrlField.closest('dl.form-group')\n  if (!hookUrlFieldContainer) return\n\n  hookUrlFieldContainer.classList.toggle('required')\n}\n\non('change', '.js-hook-active-checkbox', function (event) {\n  const currentTarget = event.currentTarget as HTMLInputElement\n  for (const el of document.querySelectorAll<HTMLElement>('.js-integration-hook-enabled')) {\n    el.hidden = !currentTarget.checked\n  }\n\n  toggleHookUrlRequired(currentTarget.checked)\n})\n\nexport function toggleMetadataSelectionMenu(readOn = false) {\n  const metadataReadInput = document.querySelector<HTMLInputElement>(\n    '.js-integration-permissions-selector [id=integration_permission_metadata_read]',\n  )!\n  const row = metadataReadInput.closest<HTMLElement>('.js-list-group-item')!\n\n  if (readOn) {\n    changeValue(metadataReadInput, true)\n  }\n\n  row.querySelector<HTMLElement>('.js-mandatory-label')!.hidden = !readOn\n\n  for (const input of row.querySelectorAll<HTMLInputElement>('input')) {\n    if (input !== metadataReadInput) input.disabled = readOn\n  }\n}\n\n// Has the user selected no repository-related permissions?\nfunction noRepoPermissionSelected(): boolean {\n  let noneSelected = true\n  const allSelectedRepoPermissions = document.querySelectorAll(\n    '.js-integration-permissions-selector [id^=integration_permission_][data-resource-parent=repository]:checked',\n  )\n  for (const repoPermission of allSelectedRepoPermissions) {\n    const permission = repoPermission.getAttribute('data-permission') || 'none'\n    const resource = repoPermission.getAttribute('data-resource') || ''\n    if (resource !== 'metadata' && permission !== 'none') {\n      noneSelected = false\n      break\n    }\n  }\n  return noneSelected\n}\n\n// Handle the mandatory repository metadata permission:\n//\n// When an integrator selects _any_ repository-related permission they are\n// _always_ granted the metadata permission.\n//\n// To make this clear in the UI we select 'Read-only' in the repository\n// metadata permissions select menu and disable the menu until _no_ repository\n// permissions are selected.\non(\n  'change',\n  '.js-integration-permissions-selector [id^=integration_permission_][data-resource-parent^=repository]',\n  function ({currentTarget}) {\n    const permission = currentTarget.getAttribute('data-permission')\n    const resource = currentTarget.getAttribute('data-resource') || ''\n\n    if (resource !== 'metadata') {\n      if (permission !== 'none') {\n        toggleMetadataSelectionMenu(true)\n      } else {\n        // If no repository permission is selected, re-enable the\n        // repository-metadata menu so that the user can deselect it if they\n        // want.\n        if (noRepoPermissionSelected()) {\n          toggleMetadataSelectionMenu()\n        }\n      }\n    }\n  },\n)\n\non('change', '.js-integration-permissions-selector [name^=integration]', enableFormSubmission)\n\non('click', '.js-integration-permissions-selector .js-integration-hook-event', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n\n  if (target.readOnly) {\n    const sendEvents = target.closest<HTMLElement>('.js-send-events')!\n    const errorMessage = sendEvents.querySelector<HTMLElement>('.js-integration-hook-event-permission-error')!\n    /* eslint-disable-next-line github/no-d-none */\n    errorMessage.classList.remove('d-none')\n    event.preventDefault()\n  }\n})\n\nfunction addPath() {\n  const input = document.querySelector<HTMLInputElement>('.js-single-files input')!\n  const template = document.querySelector<HTMLTemplateElement>('.js-single-files template')!\n  const list = document.querySelector<HTMLElement>('.js-single-files-path-list')!\n\n  const path = input.value\n  if (!path) return\n\n  const item = template.content.cloneNode(true)\n  if (!(item instanceof DocumentFragment)) return\n  item.querySelector<HTMLInputElement>('input')!.value = path\n  item.querySelector<HTMLElement>('.js-single-files-path')!.textContent = path\n  input.value = ''\n\n  list.appendChild(item)\n\n  list.closest<HTMLElement>('.Box')!.hidden = false\n\n  enableFormSubmission()\n}\n\nonKey('keydown', '.js-single-files input', function (event: KeyboardEvent) {\n  // TODO: Refactor to use data-hotkey\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  if (event.key !== 'Enter') return\n  event.preventDefault()\n  addPath()\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n})\n\non('click', '.js-single-files .js-path-add', addPath)\n\non('click', '.js-single-files .js-close', function (event) {\n  if (!(event.target instanceof Element)) return\n  const item = event.target.closest<HTMLElement>('li')!\n  const list = item.parentElement\n  if (!list) return\n  list.removeChild(item)\n\n  if (list.querySelectorAll('li').length === 0) {\n    list.closest<HTMLElement>('.Box')!.hidden = true\n  }\n\n  enableFormSubmission()\n})\n","import {debounce} from '@github/mini-throttle'\nimport {onInput} from '@github-ui/onfocus'\n\n// Get the src attribute from the check target.\nfunction getCheckTargetSrc(checkTarget: HTMLElement): string {\n  const src = checkTarget.getAttribute('src')\n  if (!src) return ''\n\n  const link = document.createElement('a')\n  link.href = src\n  return link.href\n}\n\n// Input Event Handler.\nasync function handleInput(event: Event) {\n  const field = event.target as HTMLInputElement\n  const form = field.form!\n  const inputs = form.querySelectorAll<HTMLInputElement>('.js-key-link-input')\n\n  const formData = new FormData()\n  for (const input of inputs) {\n    // only append the radio button value if it's checked, otherwise ignore it completely\n    if (input.type === 'radio') {\n      if (input.checked) {\n        formData.append(input.name, input.value)\n      }\n    } else {\n      formData.append(input.name, input.value)\n    }\n  }\n\n  const checkTarget = form.querySelector<HTMLElement>('.js-key-link-check')!\n  const src = getCheckTargetSrc(checkTarget)\n  const token = checkTarget.parentElement!.querySelector<HTMLInputElement>('.js-key-link-check-csrf')!\n  const response = await fetch(src, {\n    method: 'POST',\n    mode: 'same-origin',\n    body: formData,\n    headers: {\n      'Scoped-CSRF-Token': token.value,\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  })\n  if (!response.ok) {\n    checkTarget.hidden = true\n    return\n  }\n  const preview = await response.text()\n\n  checkTarget.innerHTML = preview\n  checkTarget.hidden = false\n}\n\nonInput('.js-key-link-input', debounce(handleInput, 300))\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\n// Delete a token or revoke an application\nremoteForm('.js-revoke-access-form', async function (form, wants) {\n  await wants.html()\n  const id = form.getAttribute('data-id')!\n  const type = form.getAttribute('data-type-name')!\n  const target = document.querySelector<HTMLElement>(`.js-revoke-item[data-type='${type}'][data-id='${id}']`)!\n  target.remove()\n  if (target.classList.contains('new-token')) {\n    document.querySelector<HTMLElement>('.js-flash-new-token')!.remove()\n  }\n})\n\n// Remove an oauth application image\non('click', '.js-delete-oauth-application-image', function () {\n  const form = document.querySelector<HTMLFormElement>('.js-delete-oauth-application-image-form')!\n  requestSubmit(form)\n})\n\n// Add a new oauth application callback url form\non('click', '.js-new-callback', function (event) {\n  event.preventDefault()\n  const target = event.currentTarget\n\n  const container = target.closest<HTMLElement>('.js-callback-urls')!\n  const urlForm = container.querySelector<HTMLElement>('.js-callback-url')!\n  const newUrlForm = urlForm.cloneNode(true)\n  if (!(newUrlForm instanceof HTMLElement)) return\n\n  newUrlForm.classList.remove('is-default-callback')\n  const formInput = newUrlForm.querySelector<HTMLInputElement>('input')!\n  formInput.value = ''\n\n  container.classList.add('has-many')\n  target.parentNode!.insertBefore(newUrlForm, target)\n})\n\n// Delete an oauth application callback url\non('click', '.js-delete-callback', function (event) {\n  event.preventDefault()\n\n  const target = event.currentTarget\n  const callbackUrl = target.closest<HTMLElement>('.js-callback-url')!\n  callbackUrl.remove()\n  const container = document.querySelector<HTMLElement>('.js-callback-urls')!\n  const urls = container.querySelectorAll<HTMLElement>('.js-callback-url')\n  if (urls.length <= 1) {\n    container.classList.remove('has-many')\n  }\n})\n\non('click', '.js-oauth-application-allowlist .js-deny-this-request', function (event) {\n  const target = event.currentTarget\n  const targetSibling = target.nextElementSibling as HTMLInputElement\n\n  targetSibling.value = 'denied'\n  requestSubmit(target.closest<HTMLFormElement>('.js-org-application-access-form')!)\n})\n\n// Fetch keys list.\nasync function fetchKeysList(root: HTMLElement) {\n  if (!root) return\n  const url = root.getAttribute('data-url')\n  if (!url) return\n\n  let fragment\n  try {\n    fragment = await fetchSafeDocumentFragment(document, url)\n    root.textContent = ''\n    root.append(fragment)\n  } catch (e) {\n    // fall back to reloading the page\n    window.location.reload()\n  }\n}\n\n// Generating new integration key\non('click', '.js-generate-integration-key', function () {\n  const wrapper = document.querySelector<HTMLElement>('.js-integration-key-management-wrapper')!\n  wrapper.classList.add('downloading')\n\n  if (wrapper.classList.contains('js-integration-key-multi')) {\n    wrapper.classList.add('has-keys')\n\n    setTimeout(function () {\n      const root = document.querySelector<HTMLElement>('.js-integration-keys-container')!\n      if (root) fetchKeysList(root)\n    }, 1000)\n  }\n})\n\n// Delete an integration key; disable delete button for last remaining key\nremoteForm('.js-remove-integration-key', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch (error) {\n    // This is not the error we expected, re-throw since we don't know how to\n    // handle it.\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (!error.response) throw error\n\n    form.closest<HTMLElement>('details')!.removeAttribute('open')\n\n    const wrapper = document.querySelector<HTMLElement>('.js-integration-key-management-wrapper')!\n    const errContainer = wrapper.querySelector<HTMLElement>('.js-error-container')!\n\n    const errLabel = errContainer.querySelector<HTMLElement>('.js-error-message')!\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    switch (error.response.status) {\n      case 500:\n        errLabel.textContent = 'Oops, something went wrong.'\n        break\n      case 404:\n        errLabel.textContent = 'Oops, that key could not be found.'\n        break\n      default:\n        // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n        errLabel.textContent = error.response.json.message\n    }\n\n    wrapper.classList.add('error')\n    return\n  }\n\n  const keyId = form.getAttribute('data-key-id')!\n  const key = document.getElementById(keyId)\n\n  if (key) {\n    const root = key.closest<HTMLElement>('.js-integration-keys-container')!\n    if (root) fetchKeysList(root)\n  }\n})\n\non('click', '.js-error-dismiss', function () {\n  const root = document.querySelector<HTMLElement>('.js-integration-keys-container')!\n  if (root) fetchKeysList(root)\n})\n\non('change', '.js-checkbox-scope', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n  if (target.checked) {\n    addToSelectedBy(target, 'self')\n  } else {\n    removeFromSelectedBy(target, 'self')\n  }\n\n  // Check scope subsets if the parent is checked\n  toggleScopeSubsets(target)\n})\n\nfunction toggleScopeSubsets(target: HTMLInputElement) {\n  const container = target.closest<HTMLElement>('.js-check-scope-container')!\n  const scopes = container.querySelectorAll<HTMLInputElement>('.js-checkbox-scope')\n\n  for (const checkbox of scopes) {\n    if (checkbox !== target) {\n      if (target.checked) {\n        addToSelectedBy(checkbox, target.value)\n      } else removeFromSelectedBy(checkbox, target.value)\n    }\n  }\n}\n\n// Some scopes have related scopes. Auto-select those scope families.\non('change', '[data-check-related-scopes]', function (event) {\n  const parent = event.currentTarget as HTMLInputElement\n  const scopes = parent.getAttribute('data-check-related-scopes')!.split(' ')\n\n  for (const scope of scopes) {\n    const childScopes = document.querySelectorAll<HTMLInputElement>(`[data-scope-for=\"${scope}\"] .js-checkbox-scope`)\n\n    for (const checkbox of childScopes) {\n      if (parent.checked) {\n        addToSelectedBy(checkbox, parent.value)\n      } else removeFromSelectedBy(checkbox, parent.value)\n    }\n  }\n})\n\nasync function enabledCheckedAndDisabledScopes(event: Event) {\n  const newTokenForm = event.currentTarget as HTMLFormElement\n  const checkedParentSelector = '.js-checkbox-scope:checked:disabled'\n  const checkedParentScopes = newTokenForm.querySelectorAll<HTMLInputElement>(checkedParentSelector)\n  for (const scope of checkedParentScopes) {\n    scope.disabled = false\n  }\n}\n\n// Enable all the checked-disabled parent scopes on submit so they make it to the controller\non('submit', '#new_oauth_access', enabledCheckedAndDisabledScopes)\non('submit', '.js-edit-oauth-access', enabledCheckedAndDisabledScopes)\n\nfunction removeFromSelectedBy(target: HTMLInputElement, actor: string) {\n  let selectedBy = fetchSelectedByArray(target)\n  selectedBy = removeItemFromArray(selectedBy, actor)\n  target.setAttribute('data-selected-by', selectedBy.join(' '))\n  updateDependencyGraph(target)\n}\n\nfunction addToSelectedBy(target: HTMLInputElement, actor: string) {\n  const selectedBy = fetchSelectedByArray(target)\n  selectedBy.push(actor)\n  target.setAttribute('data-selected-by', selectedBy.join(' '))\n  updateDependencyGraph(target)\n}\n\nfunction updateDependencyGraph(target: HTMLInputElement) {\n  const selectedBy = target.getAttribute('data-selected-by')\n  target.checked = selectedBy !== ''\n  target.disabled = target.checked && selectedBy !== 'self'\n}\n\nfunction fetchSelectedByArray(target: HTMLInputElement) {\n  if (target.getAttribute('data-selected-by')) {\n    return target.getAttribute('data-selected-by')!.split(' ')\n  }\n  return []\n}\n\nfunction removeItemFromArray(arr: string[], value: string) {\n  const index = arr.indexOf(value)\n  if (index > -1) {\n    arr.splice(index, 1)\n  }\n  return arr\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\n// Disable email preference button if JS enabled.\nobserve('.js-email-global-unsubscribe-form', function (el) {\n  el.querySelector<HTMLInputElement>('.js-email-global-unsubscribe-submit')!.disabled = true\n})\n\n// Disable button until email preference has changed from current value.\non('change', '.js-email-global-unsubscribe-form', function (event) {\n  const target = event.currentTarget\n  const unsubscribeButton = target.querySelector<HTMLInputElement>('.js-email-global-unsubscribe-submit')!\n  const options = target.querySelectorAll<HTMLInputElement>('.js-email-global-unsubscribe')\n\n  // Check if any of the options have changed\n  const changed = Array.from(options).some(el => el.checked !== el.defaultChecked)\n\n  // Disable the button if nothing has changed\n  unsubscribeButton.disabled = !changed\n})\n\nremoteForm('.js-email-unsubscribe-form', async function (form, wants) {\n  await wants.text()\n  for (const el of document.querySelectorAll('.js-email-unsubscribe-message')) {\n    if (el instanceof HTMLElement) el.hidden = !el.hidden\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nconst selectedRepositories = 'VISIBILITY_SELECTED_REPOSITORIES'\n\nexport function updateSelectedRepositoryCount() {\n  const selection = document.querySelector<HTMLElement>('.js-org-secrets-selection')!\n\n  const selectedPermissionInput = selection.querySelector<HTMLElement>('.js-secrets-visibility-menu input:checked')!\n  const currentPermission = selectedPermissionInput.getAttribute('value')!\n  const repositoryAccessDialog = selection.querySelector<HTMLElement>('.js-repository-items-dialog')!\n  repositoryAccessDialog.hidden = currentPermission !== selectedRepositories\n\n  const container = selection.querySelector<HTMLElement>('.js-repository-selection-component')!\n  const count = Array.from(container.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox')).filter(\n    el => el.checked,\n  ).length\n\n  const selectedReposLabel = repositoryAccessDialog.querySelector<HTMLElement>('.js-selected-repos-label')!\n  selectedReposLabel.hidden = currentPermission !== selectedRepositories\n  selectedReposLabel.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  selectedReposLabel.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  selectedReposLabel.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\nexport function enableSaveSecretButton(event: Event) {\n  const container = (event.target as Element).closest<HTMLElement>('.js-encrypt-submit')!\n  const button = container.querySelector<HTMLButtonElement>('.js-btn-save-secret')\n  if (!button) return\n  button.disabled = false\n}\n\non('click', '.js-new-secret-value-button', function (event) {\n  const button = event.currentTarget\n  const formGroup = button.closest<HTMLElement>('.js-secret-value-form-group')!\n  const newValueInputGroup = formGroup.querySelector<HTMLElement>('.js-new-secret-value-input')!\n  newValueInputGroup.hidden = false\n  newValueInputGroup.querySelector<HTMLElement>('#secret_value')!.focus()\n  formGroup.querySelector<HTMLElement>('.js-new-secret-value-prompt')!.hidden = true\n  enableSaveSecretButton(event)\n})\n\non('reset', '.js-org-secrets-selection .js-repository-selection-component', updateSelectedRepositoryCount)\non('details-menu-selected', '.js-secrets-visibility-menu', enableSaveSecretButton, {capture: true})\non('details-menu-selected', '.js-secrets-visibility-menu', updateSelectedRepositoryCount, {capture: true})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nconst selectedRepositories = 'VISIBILITY_SELECTED_REPOSITORIES'\n\nexport function updateVariablesSelectedRepositoryCount() {\n  const selection = document.querySelector<HTMLElement>('.js-org-variables-selection')!\n\n  const selectedPermissionInput = selection.querySelector<HTMLElement>('.js-variables-visibility-menu input:checked')!\n  const currentPermission = selectedPermissionInput.getAttribute('value')!\n  const repositoryAccessDialog = selection.querySelector<HTMLElement>('.js-repository-items-dialog')!\n  repositoryAccessDialog.hidden = currentPermission !== selectedRepositories\n\n  const container = selection.querySelector<HTMLElement>('.js-repository-selection-component')!\n  const count = Array.from(container.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox')).filter(\n    el => el.checked,\n  ).length\n\n  const selectedReposLabel = repositoryAccessDialog.querySelector<HTMLElement>('.js-selected-repos-label')!\n  selectedReposLabel.hidden = currentPermission !== selectedRepositories\n  selectedReposLabel.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  selectedReposLabel.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  selectedReposLabel.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\non('reset', '.js-org-variables-selection .js-repository-selection-component', updateVariablesSelectedRepositoryCount)\non('details-menu-selected', '.js-variables-visibility-menu', updateVariablesSelectedRepositoryCount, {capture: true})\n","// PATs v2: toggleable collapse and expand for permissions and token summary containers\n// works with app/components/programmatic_access/collapsible_box_component.rb\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nexport const enum ToggleState {\n  Close = 'close',\n  Open = 'open',\n}\n\nfunction toggleContainerDisplay(container: HTMLElement, toggleState: string) {\n  const currentToggle = container.querySelector<SVGElement>(`[data-toggle-action=${toggleState}]`)!\n\n  /* eslint-disable-next-line github/no-d-none */\n  currentToggle.classList.add('d-none')\n  updateCollapsibleContainerStyles(container, toggleState)\n\n  if (toggleState === ToggleState.Close) {\n    const hiddenToggle = container.querySelector<SVGElement>(`[data-toggle-action=${ToggleState.Open}]`)!\n\n    /* eslint-disable-next-line github/no-d-none */\n    hiddenToggle.classList.remove('d-none')\n  } else {\n    const hiddenToggle = container.querySelector<SVGElement>(`[data-toggle-action=${ToggleState.Close}]`)!\n\n    /* eslint-disable-next-line github/no-d-none */\n    hiddenToggle.classList.remove('d-none')\n  }\n}\n\nexport function updateCollapsibleContainerStyles(container: HTMLElement, toggleState: string) {\n  const box = container.querySelector<HTMLDivElement>('summary .Box')!\n  const body = container.querySelector<HTMLDivElement>('.js-collapsible-body')!\n\n  // only use open styling if there are rows to display\n  // permission summary containers will always have one hidden template li\n  const rowCount = container.querySelectorAll<HTMLLIElement>('li:not([hidden])').length\n  const containerOpen = toggleState === ToggleState.Open\n\n  if (containerOpen && rowCount > 0) {\n    // style fully open container\n    box.classList.remove('rounded-bottom-2')\n    box.classList.add('rounded-bottom-0')\n    body.classList.remove('border-0')\n  } else {\n    // style closed or empty container\n    box.classList.add('rounded-bottom-2')\n    box.classList.remove('rounded-bottom-0')\n\n    // hide body borders for the hidden summary template\n    if (body.querySelector('[data-permission-template]')) body.classList.add('border-0')\n  }\n}\n\nfunction handleDetailsToggle(event: Event) {\n  const target = event.currentTarget as HTMLElement\n  const action = target.hasAttribute('open') ? ToggleState.Open : ToggleState.Close\n  toggleContainerDisplay(target, action)\n}\n\non('toggle', '.js-collapsible-container', handleDetailsToggle, {capture: true})\n","export const enum RepoSelectionType {\n  None = 'none',\n  All = 'all',\n  Selected = 'selected',\n}\n\nexport enum PermissionType {\n  Organization = 'organization',\n  Repository = 'repository',\n  User = 'user',\n}\n\nexport function updateElText(selector: string, text: string) {\n  const els = document.querySelectorAll<HTMLElement>(selector)\n  for (const el of els) {\n    el.textContent = text\n  }\n}\n","// PATs v2: Token summary display behavior\n\nimport {ToggleState, updateCollapsibleContainerStyles} from './personal-access-token-collapsible-containers'\nimport {PermissionType, RepoSelectionType, updateElText} from './personal-access-tokens'\n\nconst enum PermissionSummarySelector {\n  Organization = '#js-organization-permission-summary',\n  Repository = '#js-repository-permission-summary',\n  User = '#js-user-permission-summary',\n}\n\nconst enum CheckedPermissionsSelector {\n  Organization = '[data-organization-permissions]',\n  Repository = '[data-repository-permissions]',\n  User = '[data-user-permissions]',\n}\n\nexport function updateRepositoryCount() {\n  const repoSelectorRadio = document.querySelector<HTMLInputElement>('.js-installation-repositories-radio:checked')\n  const selectionType = repoSelectorRadio ? repoSelectorRadio.value : RepoSelectionType.None\n\n  if (selectionType === RepoSelectionType.Selected) {\n    const repositoryCount = document.querySelectorAll<HTMLInputElement>('.js-selected-repository-field').length\n    updateElText('#token-summary [data-token-summary=\"repository-count\"]', String(repositoryCount))\n  } else {\n    updateElText('#token-summary [data-token-summary=\"repository-count\"]', selectionType)\n  }\n}\n\nexport function updatePermissionSummary(permissionType: string) {\n  const permissionEls = selectedPermissionEls(permissionType)\n\n  // update permission counts in label and summary if present\n  updatePermissionCounts(permissionType, permissionEls.length)\n\n  const summaryContainer = summaryContainerEl(permissionType)\n\n  // integrations pages exit here because they don't have the summary container\n  if (!summaryContainer) return\n\n  const listEl = summaryContainer.querySelector<HTMLUListElement>('ul')!\n\n  // clear out the permission summary\n  for (const child of listEl.querySelectorAll<HTMLLIElement>('li')) {\n    if (child.getAttribute('data-permission-template') === 'false') listEl.removeChild(child)\n  }\n\n  // add currently selected permissions to summary\n  for (const permissionEl of permissionEls) {\n    appendPermissionSummary(listEl, permissionEl)\n  }\n\n  // update summary style\n  // catches case where summary was previously open but empty\n  const toggleState = summaryContainer.hasAttribute('open') ? ToggleState.Open : ToggleState.Close\n  updateCollapsibleContainerStyles(summaryContainer, toggleState)\n}\n\nexport function updateExpiration() {\n  const expirationSelect = document.querySelector<HTMLSelectElement>('.js-default-token-expiration-select')\n  if (!expirationSelect) return\n\n  const expirationValue = expirationSelect.value\n\n  if (expirationValue === 'none') {\n    updateElText('#token-summary [data-token-summary=\"expiration\"]', 'never.')\n  } else if (expirationValue === 'custom') {\n    const customDate = document.querySelector<HTMLInputElement>('#user_programmatic_access_custom_expires_at')!.value\n    // Setting the time to midnight because otherwise the default of midnight UTC might output the prior date based on timezone offset\n    const dateString = customDate ? formatDateString(new Date(`${customDate}T00:00:00`)) : 'an unselected custom date'\n    updateElText('#token-summary [data-token-summary=\"expiration\"]', `on ${dateString}.`)\n  } else {\n    const dateString = calculateDate(expirationValue)\n    updateElText('#token-summary [data-token-summary=\"expiration\"]', `on ${dateString}.`)\n  }\n}\n\nfunction dataPermissionAttribute(permissionType: string) {\n  if (permissionType === PermissionType.Organization) {\n    return CheckedPermissionsSelector.Organization\n  }\n  if (permissionType === PermissionType.Repository) {\n    return CheckedPermissionsSelector.Repository\n  }\n  if (permissionType === PermissionType.User) {\n    return CheckedPermissionsSelector.User\n  }\n\n  return null\n}\n\nfunction summaryContainerSelector(permissionType: string) {\n  if (permissionType === PermissionType.Organization) {\n    return PermissionSummarySelector.Organization\n  } else if (permissionType === PermissionType.Repository) {\n    return PermissionSummarySelector.Repository\n  } else if (permissionType === PermissionType.User) {\n    return PermissionSummarySelector.User\n  }\n\n  return null\n}\n\nfunction summaryContainerEl(permissionType: string) {\n  const selector = summaryContainerSelector(permissionType)\n  if (!selector) return null\n\n  return document.querySelector<HTMLDivElement>(selector)\n}\n\nfunction selectedPermissionEls(permissionType: string) {\n  const dataSelector = dataPermissionAttribute(permissionType)\n  if (!dataSelector) return []\n\n  const selector = `${dataSelector}.js-permissions-selector [id^=integration_permission_]:checked:not([data-permission=\"none\"]`\n  return document.querySelectorAll<HTMLInputElement>(selector)\n}\n\nfunction updatePermissionCounts(permissionType: string, count: number) {\n  // update permission count in permission label and summary if present\n  updateElText(`[data-token-summary='${permissionType}-permission-count']`, String(count))\n\n  // correctly pluralize summary\n  const selector = `${summaryContainerSelector(permissionType)} [data-token-summary-plural-count]`\n\n  if (count === 1) {\n    updateElText(selector, '')\n  } else {\n    updateElText(selector, 's')\n  }\n\n  // show/hide permission label\n  const label = document.querySelector<HTMLElement>(`${dataPermissionAttribute(permissionType)} .js-permission-label`)\n  if (label) {\n    count > 0 ? (label.hidden = false) : (label.hidden = true)\n  }\n}\n\nfunction appendPermissionSummary(listEl: HTMLUListElement, permissionEl: HTMLInputElement) {\n  const permissionName = permissionEl.closest('li')!.querySelector<HTMLElement>('strong')!.textContent\n  const permissionLevel = permissionEl.parentElement!.querySelector('[data-filter-item-text]')!.textContent!.trim()\n  const template = listEl.querySelector<HTMLLIElement>('[data-permission-template=\"true\"]')!\n\n  const item = template.cloneNode(true) as HTMLLIElement\n  const nameEl = document.createElement('strong')\n  const levelEl = document.createElement('strong')\n  nameEl.textContent = permissionName\n  levelEl.textContent = `Access: ${permissionLevel}`\n  item.hidden = false\n  item.setAttribute('data-permission-template', 'false')\n  item.append(nameEl, levelEl)\n  listEl.appendChild(item)\n}\n\nfunction formatDateString(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'short',\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  })\n    .format(date)\n    .replace(/,(?=\\s\\d{4})/, '')\n}\n\nfunction calculateDate(expirationValue: string): string {\n  const date = new Date()\n  date.setDate(date.getDate() + Number(expirationValue))\n  return formatDateString(date)\n}\n","// PATs v2: CAP Access check behavior\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\nimport {updateExpiration} from './personal-access-token-summary'\n\nenum AuthorizationState {\n  Checking = '.js-cap-checking',\n  RetryChecking = '.js-cap-retry-checking',\n  Resolved = '.js-cap-resolved',\n  Forbidden = '.js-cap-forbidden',\n}\n\nasync function verifyAuthorization(event: CustomEvent) {\n  displayAuthorizationSectionFor(AuthorizationState.Checking)\n  const relatedTarget = event.detail.relatedTarget as HTMLElement\n\n  const src = relatedTarget.getAttribute('data-src')\n\n  if (src === null) {\n    throw new Error('Target source location not found')\n  }\n\n  const url = new URL(src, window.location.origin)\n\n  const request = new Request(url.toString(), {\n    headers: {Accept: 'text/html', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n\n  let response\n\n  try {\n    response = await fetch(request)\n  } catch (err) {\n    // Ignore network errors\n  }\n\n  if (!response) {\n    displayAuthorizationSectionFor(AuthorizationState.Forbidden)\n  } else if (response.status === 403) {\n    displayAuthorizationSectionFor(AuthorizationState.Forbidden)\n  } else if (!response.ok) {\n    displayAuthorizationSectionFor(AuthorizationState.RetryChecking)\n  } else {\n    const resolvedSection = document.querySelector<HTMLElement>(AuthorizationState.Resolved)!\n\n    resolvedSection.textContent = ''\n    resolvedSection.appendChild(parseHTML(document, await response.text()))\n\n    displayAuthorizationSectionFor(AuthorizationState.Resolved)\n  }\n}\n\nfunction displayAuthorizationSectionFor(selector: AuthorizationState): HTMLElement {\n  for (const sectionSelector of Object.values(AuthorizationState)) {\n    const section = document.querySelector<HTMLElement>(sectionSelector)!\n    section.hidden = true\n  }\n\n  const section = document.querySelector<HTMLElement>(selector)!\n  updateExpiration()\n  section.hidden = false\n\n  return section\n}\n\non('click', '#js-retry-cap-check', () => {\n  const checked = document.querySelector<HTMLElement>('.js-target-container input[type=radio]:checked')!\n  const menu = checked.closest<HTMLElement>('details-menu')!\n\n  const selected = checked.parentElement as HTMLElement\n  if (!(selected instanceof HTMLElement)) return\n\n  // Replicate the current target being selected again\n  menu.dispatchEvent(\n    new CustomEvent('details-menu-selected', {\n      detail: {relatedTarget: selected},\n    }),\n  )\n})\n\non('details-menu-selected', '.js-target-container', verifyAuthorization, {capture: true})\n","// PATs v2: editing and creation\n\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {changeValue} from '@github-ui/form-utils'\n\nimport {toggleMetadataSelectionMenu} from './integrations'\nimport {PermissionType, RepoSelectionType, updateElText} from './personal-access-tokens'\nimport {onInput} from '@github-ui/onfocus'\nimport {updatePermissionSummary, updateRepositoryCount, updateExpiration} from './personal-access-token-summary'\n\nfunction resetPermissions() {\n  const selector = `[id^=integration_permission_][data-permission=${RepoSelectionType.None}]`\n  const inputs = document.querySelectorAll<HTMLInputElement>(selector)\n\n  for (const input of inputs) {\n    changeValue(input, true)\n  }\n\n  toggleMetadataSelectionMenu()\n  setInitialValues()\n}\n\nfunction toggleRepoPermissionVisibility() {\n  const selectionType = document.querySelector<HTMLInputElement>('.js-installation-repositories-radio:checked')!.value\n  const permissionSection = document.querySelector<HTMLElement>(\n    '.js-integration-permissions-selector section[data-repository-permissions]',\n  )!\n\n  if (selectionType === RepoSelectionType.None) {\n    permissionSection.hidden = true\n    updateElText(`#token-summary [data-token-summary=\"repository-permission-count\"]`, String(0))\n  } else {\n    permissionSection.hidden = false\n    updatePermissionSummary('repository')\n  }\n}\n\nfunction displayGrantForm() {\n  const grantForm = document.querySelector<HTMLElement>('#js-grant-form')!\n  const grantSummary = document.querySelector<HTMLElement>('#js-grant-summary')!\n  grantSummary.hidden = true\n  grantForm.hidden = false\n\n  const formActions = document.querySelectorAll<HTMLElement>('.js-grant-form-action')\n  for (const action of formActions) {\n    action.hidden = false\n  }\n\n  const summaryActions = document.querySelectorAll<HTMLElement>('.js-grant-summary-action')\n  for (const action of summaryActions) {\n    action.hidden = true\n  }\n}\n\nfunction displayGrantSummary(event: Event) {\n  const target = event.currentTarget as HTMLElement\n\n  if (target.classList.contains('js-grant-reload')) {\n    return window.location.reload()\n  }\n\n  const grantForm = document.querySelector<HTMLElement>('#js-grant-form')!\n  const grantSummary = document.querySelector<HTMLElement>('#js-grant-summary')!\n  grantForm.hidden = true\n  grantSummary.hidden = false\n\n  const summaryActions = document.querySelectorAll<HTMLElement>('.js-grant-summary-action')\n  for (const action of summaryActions) {\n    action.hidden = false\n  }\n\n  const formActions = document.querySelectorAll<HTMLElement>('.js-grant-form-action')\n  for (const action of formActions) {\n    action.hidden = true\n  }\n}\n\nfunction displayTokenForm() {\n  const displayFields = document.querySelectorAll<HTMLElement>('.js-token-display-field')\n  for (const field of displayFields) {\n    field.hidden = true\n  }\n\n  const formFields = document.querySelectorAll<HTMLElement>('.js-token-form-field')\n  for (const field of formFields) {\n    field.hidden = false\n  }\n}\n\nfunction hideTokenForm() {\n  const formFields = document.querySelectorAll<HTMLElement>('.js-token-form-field')\n  for (const field of formFields) {\n    field.hidden = true\n  }\n\n  const displayFields = document.querySelectorAll<HTMLElement>('.js-token-display-field')\n  for (const field of displayFields) {\n    field.hidden = false\n  }\n}\n\nfunction setInitialValues() {\n  for (const permissionType of Object.values(PermissionType)) {\n    updatePermissionSummary(permissionType)\n  }\n  updateRepositoryCount()\n\n  // set initial state of collapsible containers to closed\n  // includes permission lists and summaries\n  for (const details of document.querySelectorAll<HTMLDivElement>('.js-collapsible-container')) {\n    details.removeAttribute('open')\n  }\n}\n\nfunction validateName() {\n  const form = document.querySelector<HTMLFormElement>('.js-user-programmatic-access-form')!\n  const nameInput = form.querySelector<HTMLInputElement>('.js-token-name')!\n  const name = nameInput.value.trim()\n\n  const valid = !nameInput.classList.contains('is-autocheck-errored') && name.length > 0\n\n  const submit = form.querySelector<HTMLButtonElement>('button[type=submit]')!\n  submit.disabled = !valid\n}\n\n// When the user is filling in the name of their token\nonInput('.js-token-name-auto-check', validateName)\n\nobserve('.js-user-programmatic-access-form .js-integrations-install-repo-selection', el => {\n  // observes when repository selections are added to the DOM\n  // handles the case when user toggles back to select repositories displaying previous selections\n  const selectedRepoListObserver = new MutationObserver(updateRepositoryCount)\n  // observe subtree from element that is never removed from the dom to catch all changes\n  selectedRepoListObserver.observe(el, {childList: true, subtree: true})\n})\n\n// observes when permissions sections are changed (load, repo selection changes, target changes)\nobserve('.js-integration-permissions-selector', setInitialValues)\n\non('change', '.js-permissions-selector [id^=integration_permission_]', ({currentTarget}) => {\n  const permissionType = currentTarget.getAttribute('data-resource-parent')!\n  updatePermissionSummary(permissionType)\n})\non('change', '.js-user-programmatic-access-form .js-installation-repositories-radio', () => {\n  resetPermissions()\n  toggleRepoPermissionVisibility()\n})\non('change', '.js-user-programmatic-access-form .js-default-token-expiration-select', updateExpiration)\non('change', '.js-user-programmatic-access-form #user_programmatic_access_custom_expires_at', updateExpiration)\n\non('click', '#js-token-action-edit', displayTokenForm)\non('click', '#js-token-action-cancel', hideTokenForm)\non('click', '#js-token-action-save', function ({currentTarget}) {\n  currentTarget.classList.add('disabled')\n  currentTarget.textContent = 'Updating'\n})\n\non('click', '.js-toggle-grant-form', displayGrantForm)\non('click', '.js-toggle-grant-summary', displayGrantSummary)\n","import type FilterInputElement from '@github/filter-input-element'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nobserve('.js-configure-token-sso', function initialize(el) {\n  const filterEl = el as FilterInputElement\n  filterEl.filter = filterList\n})\n\non('filter-input-updated', '.js-configure-token-sso', checkEmptyState)\n\nfunction filterList(element: HTMLElement, elementText: string, query: string) {\n  let match = false\n\n  if (element.hasAttribute('data-filter-header')) {\n    // always display authorization headings\n    match = true\n  } else if (element.querySelector('[data-filter-item-text]')) {\n    // match filter element text to query\n    const itemText = element.querySelector('[data-filter-item-text]')!.textContent || ''\n    match = itemText.toLowerCase().indexOf(query.toLowerCase()) !== -1\n  }\n\n  return {match, hideNew: true}\n}\n\nfunction checkEmptyState(event: CustomEvent) {\n  const filter = event.currentTarget as FilterInputElement\n  const filterParent = filter.parentElement as HTMLElement\n  // toggle header and no results visibility based on filter results\n  toggleHeader('available', filterParent)\n  toggleHeader('unavailable', filterParent)\n  toggleNoResults(filterParent)\n}\n\nfunction toggleHeader(availability: string, filterParent: HTMLElement) {\n  const header = filterParent.querySelector(`[data-filter-header=${availability}]`) as HTMLDivElement\n  if (!header) return\n\n  if (filterParent.querySelector(`[data-sso-availability=${availability}]:not([hidden])`)) {\n    // show header if there are any unhidden items of that availability\n    header.hidden = false\n  } else {\n    // hide header if there are no unhidden items of that availability\n    header.hidden = true\n  }\n}\n\nfunction toggleNoResults(filterParent: HTMLElement) {\n  const noResults = filterParent.querySelector('[data-filter-empty-state]') as HTMLDivElement\n  if (!noResults) return\n\n  if (filterParent.querySelector('[data-sso-availability]:not([hidden])')) {\n    // hide no results message if there are any unhidden items\n    noResults.hidden = true\n  } else {\n    // hide no results message if there are no unhidden items\n    noResults.hidden = false\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm, type Kicker} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nfunction showError(message: string, context: Element) {\n  const error = context.querySelector<HTMLElement>('.js-repo-access-error')!\n  error.textContent = message\n  /* eslint-disable-next-line github/no-d-none */\n  error.classList.remove('d-none')\n}\n\n// Reset all errors on the collaborators screen\nfunction hideErrors() {\n  for (const error of document.querySelectorAll('.js-repo-access-error')) {\n    error.textContent = ''\n    /* eslint-disable-next-line github/no-d-none */\n    error.classList.add('d-none')\n  }\n}\n\n// Reset collaborator/teams autocompleter, avoiding submission of partial matches\nfunction resetInviteForm(form: HTMLFormElement) {\n  const button = form.querySelector<HTMLButtonElement>('.js-add-new-collab')\n  if (button) {\n    button.disabled = true\n  }\n}\n\nfunction handleTeamAdd(teamId: string) {\n  const select = document.querySelector('.js-repo-access-team-select')\n  if (select) {\n    let withoutAccess = 0\n    for (const item of select.querySelectorAll<HTMLElement>('.js-repo-access-team-select-option')) {\n      if (teamId === item.getAttribute('data-team-id')) {\n        item.hidden = true\n      }\n      if (!item.hidden) {\n        withoutAccess++\n      }\n    }\n    if (withoutAccess === 0) {\n      select.closest<HTMLElement>('.js-repo-access-group')!.classList.add('no-form')\n    }\n  }\n}\n\nfunction handleTeamRemove(teamId: string) {\n  const select = document.querySelector('.js-repo-access-team-select')\n  if (select) {\n    const team = select.querySelector(`[data-team-id='${teamId}']`)\n    if (team instanceof HTMLElement) {\n      team.hidden = false\n    }\n    select.closest<HTMLElement>('.js-repo-access-group')!.classList.remove('no-form')\n  }\n}\n\nasync function handleInviteResponse(form: HTMLFormElement, wants: Kicker) {\n  hideErrors()\n\n  const response = await wants.json()\n  const data = response.json\n  let list\n  const container = form.closest<HTMLElement>('.js-repo-access-container')!\n  const group = container.querySelector<HTMLElement>('.js-repo-access-group')!\n  if (group.id !== 'collaborators') {\n    list = group.querySelector('.js-repo-access-list')\n  }\n  const field = form.querySelector('.js-add-repo-access-field')\n  if (field instanceof HTMLInputElement) {\n    const teamId = field.value\n    field.value = ''\n\n    if (group.id === 'teams') {\n      handleTeamAdd(teamId)\n    }\n  }\n\n  if (data['error']) {\n    showError(data['error'], container)\n    return\n  }\n\n  resetInviteForm(form)\n  if (list) {\n    list.insertAdjacentHTML('beforeend', data['html'])\n    const entries = list.querySelectorAll('.js-repo-access-entry')\n    entries[entries.length - 1]!.querySelector<HTMLElement>('a')!.focus()\n  }\n\n  if (data['seats'] || data['seats'] === 0) {\n    const seatsString = data['seats'] === 1 ? 'seat' : 'seats'\n    const availableSeatsEl = document.getElementById('available-seats')\n    if (availableSeatsEl) {\n      availableSeatsEl.textContent = `${data['seats']} ${seatsString}`\n    }\n  }\n}\n\n// Update the hidden team ID field and submit when select menu changes.\n// Used instead of a radio buttion to simplify combined team/collab submit handler below.\non(\n  'details-menu-selected',\n  '.js-repo-access-team-select-menu',\n  function (event) {\n    const item = event.detail.relatedTarget as Element\n    const teamId = item.getAttribute('data-team-id') || ''\n    const teamIdField = item\n      .closest('.js-repo-access-group')!\n      .querySelector<HTMLInputElement>('.js-add-repo-access-field')!\n    teamIdField.value = teamId\n    requestSubmit(teamIdField.form!)\n  },\n  {capture: true},\n)\n\n// Add entry to repo access list (handles both collaborators and teams)\nremoteForm('.js-add-repo-access-form', handleInviteResponse)\n\n// Remove entry from repo access list (handles both collaborators and teams)\nremoteForm('.js-remove-repo-access-form', async function (form, wants) {\n  if (form.hasAttribute('data-skip-remote')) {\n    return\n  }\n\n  try {\n    await wants.text()\n  } catch (responseError) {\n    showError(form.getAttribute('data-error-message') || '', form.closest<HTMLElement>('.js-repo-access-group')!)\n    return\n  }\n\n  hideErrors()\n  const entry = form.closest<HTMLElement>('.js-repo-access-entry')!\n  const group = form.closest<HTMLElement>('.js-repo-access-group')!\n  if (group.id === 'teams') {\n    handleTeamRemove(entry.getAttribute('data-team-id') || '')\n  }\n  entry.remove()\n})\n\nfunction toggleHidden(els: HTMLElement[]) {\n  for (const el of els) {\n    el.hidden = !el.hidden\n  }\n}\n\nfunction reenableAllRoles(inpts: NodeListOf<HTMLInputElement>) {\n  for (const rInpt of inpts) {\n    rInpt.disabled = false\n    const roleDiv = rInpt.closest<HTMLElement>('.js-role-checkbox')!\n    roleDiv.classList.remove('color-fg-muted')\n  }\n}\n\nfunction toggleRoleBadge(badge: Element | null, state: boolean) {\n  if (badge instanceof HTMLElement) {\n    badge.hidden = state\n  }\n}\n\non('combobox-commit', '.js-repo-add-access-search', function (event) {\n  if (!(event.target instanceof Element)) return\n  const container = event.target.closest<HTMLElement>('.js-repo-add-access-search')!\n  const item = event.target.closest<HTMLElement>('.js-autocomplete-item')!\n\n  const selectLabel = container.querySelector<HTMLElement>('.js-selected-member-id')!\n  selectLabel.textContent = event.target.getAttribute('data-autocomplete-label') || 'selection'\n\n  const selectionBadge = container.querySelector<HTMLElement>('.js-selected-member-badge')!\n  const itemSelectionBadge = item.querySelector<HTMLElement>('.js-selection-badge')!\n  selectionBadge.innerHTML = itemSelectionBadge.innerHTML\n\n  toggleHidden(\n    Array.from(container.querySelectorAll('.js-repo-add-access-search-selected, .js-repo-add-access-search-selection')),\n  )\n\n  // Hide the base role icon by default\n  const baseRoleBadge = container.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n\n  // disable roles\n  const memberType = item.getAttribute('data-type')\n  const orgAdmin = item.hasAttribute('data-admin')\n\n  // clear out old styling if the user navigated away from adding a user\n  const inputSelector = orgAdmin ? `[data-disable-org-admin]` : `[data-disable-org-role]`\n  const roleInputs = container.querySelectorAll<HTMLInputElement>(inputSelector)\n\n  const allInputs = container.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n\n  // Roles are not displayed on user-owned repositories,\n  // Hence need for this check to guard against when roles are not displayed,\n  // So Element not found error is not raised.\n  if (allInputs.length > 0) {\n    reenableAllRoles(allInputs)\n\n    if (memberType === 'org-member') {\n      toggleRoleBadge(baseRoleBadge, false)\n      // hide all roles that are lower than default\n      for (const rI of roleInputs) {\n        rI.disabled = true\n        const roleDiv = rI.closest<HTMLElement>('.js-role-checkbox')!\n        roleDiv.classList.add('color-fg-muted')\n      }\n    }\n\n    if (orgAdmin) {\n      container.querySelector<HTMLInputElement>('.js-role-admin')!.checked = true\n    } else if (baseRoleBadge && memberType === 'org-member') {\n      const baseRoleCheckBox = baseRoleBadge\n        .closest<HTMLElement>('.js-role-checkbox')!\n        .querySelector<HTMLInputElement>('input[name=\"role\"]')!\n      baseRoleCheckBox.checked = true\n    } else if (\n      memberType === 'outside-collab' ||\n      memberType === 'team' ||\n      memberType === 'org-member' ||\n      memberType === 'email'\n    ) {\n      container.querySelector<HTMLInputElement>('.js-role-pull')!.checked = true\n    }\n  }\n})\n\non('click', '.js-cancel-selection', function (event) {\n  if (!(event.target instanceof Element)) return\n  const container = event.target.closest<HTMLElement>('.js-repo-add-access-search')!\n\n  const input = container.querySelector<HTMLInputElement>('.js-repo-add-access-search-input')!\n  input.value = ''\n\n  const allInputs = container.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n  reenableAllRoles(allInputs)\n\n  toggleHidden(\n    Array.from(container.querySelectorAll('.js-repo-add-access-search-selected, .js-repo-add-access-search-selection')),\n  )\n  const baseRoleBadge = container.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n})\n\non('details-dialog-close', '.js-add-access-form', function ({currentTarget}) {\n  const input = currentTarget.querySelector<HTMLInputElement>('.js-repo-add-access-search-input')!\n  input.value = ''\n\n  const allInputs = input.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n  reenableAllRoles(allInputs)\n\n  const selection = currentTarget.querySelector<HTMLElement>('.js-repo-add-access-search-selection')!\n  const selected = currentTarget.querySelector<HTMLElement>('.js-repo-add-access-search-selected')!\n  if (selected.hidden) return\n  toggleHidden([selected, selection])\n  const baseRoleBadge = input.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction selectRepoItem(event: Event) {\n  const item = event.target as HTMLInputElement\n  const form = item.closest<HTMLElement>('.js-policy-repos-container')!.querySelector('.js-policy-repos-form')!\n  const dataFormFieldName = form.getAttribute('data-form-field-name')\n  const selectedRepoInput = createRepoInput(item, dataFormFieldName)\n  const existing = form.querySelector(`[value='${selectedRepoInput.value}']`)\n  if (existing) {\n    existing.replaceWith(selectedRepoInput)\n  } else {\n    form.append(selectedRepoInput)\n  }\n}\n\nfunction createRepoInput(item: HTMLInputElement, dataFormFieldName: string | null): HTMLInputElement {\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = item.checked ? 'enable[]' : 'disable[]'\n  input.value = item.value\n\n  if (dataFormFieldName) {\n    input.setAttribute('data-form-field-name', dataFormFieldName)\n  }\n\n  return input\n}\n\non('change', '.js-policy-repos-container .js-repository-item-checkbox', selectRepoItem)\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {addThrottledInputEventListener} from '../throttled-input'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\non('change', '.js-repo-features-form input[type=checkbox]', function ({currentTarget}) {\n  const repoOption = currentTarget.closest<HTMLElement>('.js-repo-option')!\n  const indicator = repoOption.querySelector<HTMLElement>('.js-status-indicator')!\n  indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  indicator.classList.add('status-indicator-loading')\n})\n\nfunction setMergeQueueSettings(protectedBranchNameInput: Element) {\n  const mergeQueueCheckbox = document.querySelector<HTMLInputElement>('.js-protected-branch-merge-queue-checkbox')\n  const mergeQueueSettings = document.querySelector<HTMLInputElement>('.js-protected-branch-merge-queue-settings')\n  const mergeQueueWarning = document.querySelector<HTMLInputElement>('.js-protected-branch-name-merge-queue-warning')\n  const protectedBranchNamePattern = (protectedBranchNameInput as HTMLInputElement).value\n\n  if (mergeQueueCheckbox && mergeQueueSettings && mergeQueueWarning) {\n    const mergeQueueCheckboxLabel = mergeQueueCheckbox.closest<HTMLElement>('.form-checkbox')!\n    const mergeQueueShouldBeDisabled = protectedBranchNamePattern.includes('*')\n\n    mergeQueueCheckbox.disabled = mergeQueueShouldBeDisabled\n    mergeQueueWarning.hidden = !mergeQueueShouldBeDisabled\n    mergeQueueCheckboxLabel.classList.toggle('color-fg-muted', mergeQueueShouldBeDisabled)\n\n    if (mergeQueueShouldBeDisabled && mergeQueueCheckbox.checked) {\n      alert(mergeQueueCheckbox.getAttribute('data-auto-uncheck-message'))\n      mergeQueueSettings.hidden = mergeQueueShouldBeDisabled\n      mergeQueueCheckbox.checked = false\n    }\n  }\n}\n\n// Set merge queue settings on page load\nobserve('.js-branch-name-pattern', setMergeQueueSettings)\n\non('change', '.js-branch-name-pattern', function ({currentTarget}) {\n  setMergeQueueSettings(currentTarget as HTMLInputElement)\n})\n\nremoteForm('.js-repo-features-form', async function (form, wants) {\n  let response\n  try {\n    response = await wants.html()\n  } catch (error) {\n    for (const el of form.querySelectorAll('.status-indicator-loading')) {\n      el.classList.remove('status-indicator-loading')\n      el.classList.add('status-indicator-failed')\n      const option = el.closest<HTMLElement>('.js-repo-option')!\n      const checkbox = option.querySelector<HTMLInputElement>('input[type=checkbox]')!\n      checkbox.checked = !checkbox.checked\n    }\n    return\n  }\n  for (const el of form.querySelectorAll('.status-indicator-loading')) {\n    el.classList.remove('status-indicator-loading')\n    el.classList.add('status-indicator-success')\n  }\n\n  document.querySelector<HTMLElement>('.js-repo-nav')!.replaceWith(response.html)\n})\n\non('change', '.js-merge-features-form input[type=checkbox]', function ({currentTarget}) {\n  const form = (currentTarget as HTMLInputElement).form!\n\n  // Clear option group error states.\n  for (const el of form.querySelectorAll('.errored')) {\n    el.classList.remove('errored')\n  }\n\n  // Show loading indicator.\n  const option = currentTarget.closest<HTMLElement>('.js-repo-option')!\n  const indicator = option.querySelector<HTMLElement>('.js-status-indicator')!\n  indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  indicator.classList.add('status-indicator-loading')\n})\n\nremoteForm('.js-merge-features-form', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch (error) {\n    const warningSelector =\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      error.response && error.response.text.endsWith('(protected_branch_policy)')\n        ? '.js-no-merge-commit-warning'\n        : '.js-select-one-warning'\n    for (const el of form.querySelectorAll(warningSelector)) {\n      if (el instanceof HTMLElement) {\n        el.hidden = false\n      }\n    }\n\n    for (const el of form.querySelectorAll('.status-indicator-loading')) {\n      el.classList.remove('status-indicator-loading')\n      el.classList.add('status-indicator-failed')\n\n      // Show error message.\n      const option = el.closest<HTMLElement>('.js-repo-option')!\n      option.classList.add('errored')\n\n      const checkbox = option.querySelector<HTMLInputElement>('input[type=checkbox]')!\n      checkbox.checked = !checkbox.checked\n\n      // If the checkbox has errored but is still selected,\n      // the additional 'on' class is also required.\n      if (option) {\n        option.classList.add('on')\n      }\n    }\n\n    // Clear all success indicators.\n    for (const el of form.querySelectorAll('.status-indicator-success')) {\n      el.classList.remove('status-indicator-success')\n    }\n\n    return\n  }\n\n  // Clear option group error states.\n  for (const el of form.querySelectorAll('.errored')) {\n    el.classList.remove('errored')\n  }\n  for (const el of form.querySelectorAll('.js-select-one-warning, .js-no-merge-commit-warning')) {\n    if (el instanceof HTMLElement) {\n      el.hidden = true\n    }\n  }\n\n  // Show success indicator.\n  for (const el of form.querySelectorAll('.status-indicator-loading')) {\n    el.classList.remove('status-indicator-loading')\n    el.classList.add('status-indicator-success')\n  }\n})\n\nremoteForm('.js-push-settings-form', async function (form, wants) {\n  const checkbox = form.querySelector<HTMLInputElement>('.js-push-settings-form input[type=checkbox]')!\n  const checked = checkbox.checked\n\n  const numericContainer = form.querySelector<HTMLInputElement>('.js-push-settings-form div.js-form-numeric')!\n  const numericInput = numericContainer.querySelector<HTMLInputElement>('input[type=number]')!\n\n  numericContainer.hidden = !checked\n\n  // Show loading indicator (in this context it's really a \"saving...\" indicator)\n  const statusIndicator = form.querySelector<HTMLElement>('.js-status-indicator')!\n  statusIndicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  statusIndicator.classList.add('status-indicator-loading')\n\n  const flashComponent = form.querySelector<HTMLElement>('.js-push-save-failed-message.flash')!\n\n  try {\n    await wants.text()\n  } catch (error) {\n    // Save failed; reset inputs to last known good values.\n    checkbox.checked = checkbox.getAttribute('data-last-saved-value') === 'true'\n    numericInput.value = numericInput.getAttribute('data-last-saved-value') ?? '5'\n\n    // Show error indicators.\n    statusIndicator.classList.remove('status-indicator-success', 'status-indicator-loading')\n    statusIndicator.classList.add('status-indicator-failed')\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    flashComponent.textContent = error.response.text\n    flashComponent.hidden = false\n\n    return\n  }\n\n  // Save was successful; update last known good values.\n  checkbox.setAttribute('data-last-saved-value', checked.toString())\n  numericInput.setAttribute('data-last-saved-value', numericInput.value.trim())\n\n  // Show success indicator. Hide any error indicators.\n  statusIndicator.classList.remove('status-indicator-failed', 'status-indicator-loading')\n  statusIndicator.classList.add('status-indicator-success')\n  setTimeout(() => {\n    statusIndicator.classList.remove('status-indicator-success')\n  }, 4000)\n\n  flashComponent.hidden = true\n})\n\n// toggle to Require status checks to pass before merging\non('change', 'input.js-required-status-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-required-statuses')!\n  /* eslint-disable-next-line github/no-d-none */\n  el.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n})\n\n// toggle to Require deployments before merging\non('change', 'input.js-required-deployments-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-required-deployments')!\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n})\n\n// toggle allow fetch upstream when lock branch is enabled\non('change', 'input.js-lock-branch-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('#allow-upstream-fetching')!\n  if (!el) return\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n})\n\non('change', 'input.js-required-status-checkbox', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branches-item')!\n  const badge = container.querySelector<HTMLElement>('.js-required-status-badge')!\n  /* eslint-disable-next-line github/no-d-none */\n  badge.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n})\n\n// Add required status check.\non('auto-complete-change', '.js-add-protected-branch-required-status-check', async function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const searchValue = autocompleter.value\n  if (!searchValue) return\n\n  const container = autocompleter.closest<HTMLElement>('.js-protected-branch-options')!\n  const list = container.querySelector<HTMLElement>('.js-required-status-checks')!\n  const found = list.querySelector(`li[data-context='${CSS.escape(searchValue)}']`)\n  if (found) {\n    found.querySelector<HTMLElement>('.js-required-status-check-context')!.classList.add('user-already-added')\n    return\n  }\n\n  const dataURL = autocompleter.getAttribute('data-add-url')!\n  const url = new URL(dataURL, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('item', searchValue)\n  url.search = params.toString()\n\n  list.append(await fetchSafeDocumentFragment(document, url.toString()))\n  list.querySelector('.js-required-status-checks-empty')?.setAttribute('hidden', '')\n  container.querySelector('.js-required-status-checks-title-empty')?.setAttribute('hidden', '')\n  container.querySelector('.js-required-status-checks-title-any')?.removeAttribute('hidden')\n})\n\n// Remove required status check.\non('click', '.js-remove-required-status-check', function ({currentTarget}) {\n  const row = currentTarget.closest<HTMLElement>('.js-required-status-check')!\n  const parent = row.parentElement!\n\n  row.remove()\n\n  if (parent.childElementCount === 1 && parent.children[0]?.classList.contains('js-required-status-checks-empty')) {\n    parent.children[0]?.removeAttribute('hidden')\n\n    const container = parent.parentElement\n    container?.querySelector('.js-required-status-checks-title-any')?.setAttribute('hidden', '')\n    container?.querySelector('.js-required-status-checks-title-empty')?.removeAttribute('hidden')\n  }\n})\n\n// Require certain number of reviewers\non('change', 'input.js-reviewers-required-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  const el = container?.querySelector<HTMLElement>('.js-reviewers-count')\n  if (!el) return\n\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n\n  const input = el.querySelector<HTMLInputElement>(`input#required_approving_review_count_${el.hidden ? 0 : 1}`)\n  if (!input) return\n  input.click()\n  el.focus()\n})\n\n// Restrict who can push to this branch.\non(\n  'change',\n  '.js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle',\n  function ({currentTarget}) {\n    const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n    const el = container.querySelector<HTMLElement>('.js-authorized-pushers')!\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n\n    el.querySelector<HTMLInputElement>('.js-add-protected-branch-actor input')!.focus()\n  },\n)\n\n// When creating a new policy restricting who can push, default \"create protected\" to true.\non('change', '.js-authorized-branch-pushers-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n  const createProtectedToggle = container.querySelector<HTMLInputElement>('.js-create-protected-checkbox')\n\n  if (\n    (currentTarget as HTMLInputElement).checked &&\n    createProtectedToggle?.getAttribute('data-set-create-protected-upon-reveal') === 'true'\n  ) {\n    createProtectedToggle.checked = true\n    createProtectedToggle.removeAttribute('data-set-create-protected-upon-reveal')\n  }\n})\n\n// When removing a policy restricting who can push, set \"create protected\" to false.\non('submit', '.js-protected-branch-settings', function ({currentTarget}) {\n  const restrictPushersToggle = currentTarget.querySelector<HTMLInputElement>('.js-authorized-branch-pushers-toggle')\n  const createProtectedToggle = currentTarget.querySelector<HTMLInputElement>('.js-create-protected-checkbox')\n\n  if (restrictPushersToggle && createProtectedToggle && !restrictPushersToggle.checked) {\n    createProtectedToggle.checked = false\n  }\n})\n\n// Allow users to bypass pull requests\non('change', 'input.js-bypass-pull-request-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-pull-request-bypassers')\n  if (!el) return\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n\n  // Remove actors when we toggle the button off\n  if (el.hidden) {\n    const list = container.querySelector<HTMLElement>('.js-authorized-actors')\n    list?.replaceChildren()\n  }\n\n  el.querySelector<HTMLInputElement>('.js-add-protected-branch-actor input')?.focus()\n})\n\n// Allow users to force push\non('change', 'input[type=\"radio\"][name=\"allow_force_push\"]', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-allow-force-pushers')\n  if (!el) return\n  el.hidden = (currentTarget as HTMLInputElement).value !== 'actors'\n\n  // Remove actors when we toggle to everyone\n  if (el.hidden) {\n    const list = container.querySelector<HTMLElement>('.js-authorized-actors')\n    list?.replaceChildren()\n  }\n\n  el.querySelector<HTMLInputElement>('.js-add-protected-branch-actor input')?.focus()\n})\n\n// Expand force push options\non('change', 'input.js-force-push-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-restrict-who-pushes')\n  if (!el) return\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n\n  // Remove actors enable force push checkbox is off\n  if (el.hidden) {\n    const list = container.querySelector<HTMLElement>('.js-authorized-actors')\n    list?.replaceChildren()\n  }\n})\n\n// Merge queue checkbox: display alert when disabling the merge queue.\non('click', '.js-protected-branch-merge-queue-checkbox', function (event) {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const msg = checkbox.getAttribute('data-confirm-if-checked') || ''\n\n  // If queue is disabled, but was enabled when the form was rendered,\n  // do nothing unless the user confirms they're okay deleting the queue\n  if (!checkbox.checked && checkbox.getAttribute('checked') && !confirm(msg)) {\n    event.preventDefault()\n    return\n  }\n\n  const container = checkbox.closest<HTMLElement>('.js-protected-branch-settings')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-protected-branch-merge-queue-settings')\n  if (!el) return\n  el.hidden = !checkbox.checked\n})\n\n// Selectively enable / disable the merge queue merge strategy when require linear history is changed\non('click', '.js-protected-branch-require-linear-history-checkbox', function (event) {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const merge_strategy = document\n    .querySelector<HTMLElement>('[name=merge_queue_merge_method][value=MERGE]')\n    ?.closest<HTMLElement>('.js-protected-branch-merge-queue-method-radio')\n  const merge_strategy_input = merge_strategy?.querySelector<HTMLInputElement>('input')\n  const merge_strategy_warning = merge_strategy?.querySelector<HTMLInputElement>('.unavailable-merge-method')\n  if (!merge_strategy || !merge_strategy_input || !merge_strategy_warning) return\n\n  if (checkbox.checked) {\n    // Disable the \"merge\" strategy when linear history is enabled\n    merge_strategy.tabIndex = -1\n    merge_strategy.ariaChecked = 'false'\n    merge_strategy.classList.add('disabled')\n    merge_strategy_input.disabled = true\n    merge_strategy_warning.hidden = false\n  } else {\n    // Enable the \"merge\" strategy when linear history is disabled\n    merge_strategy.tabIndex = 0\n    merge_strategy.classList.remove('disabled')\n    merge_strategy_input.disabled = false\n    merge_strategy_warning.hidden = true\n  }\n})\n\n// Selectively enable / disable \"require linear history\" based on chosen merge queue commit strategy\non('change', '.js-protected-branch-merge-queue-method-radio input', function (event) {\n  const radio = event.currentTarget as HTMLInputElement\n  const block_merge_commits = document.querySelector<HTMLInputElement>('[name=block_merge_commits]')\n  const linear_history_warning = document.querySelector<HTMLElement>('.js-protected-branch-linear-history-warning')\n  if (!block_merge_commits || !linear_history_warning) return\n\n  if (radio.value === 'MERGE') {\n    // Disable linear history when the merge commit strategy is merge\n    block_merge_commits.disabled = true\n    block_merge_commits.checked = false\n    linear_history_warning.hidden = false\n  } else {\n    // Allow linear history if when the merge commit strategy is squash or rebase\n    block_merge_commits.disabled = false\n    linear_history_warning.hidden = true\n  }\n})\n\n// Enforce all configured restrictions for administrators.\non('change', '.js-protected-branch-include-admin-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const permissions = container.querySelectorAll('.js-protected-branch-admin-permission')\n  for (const el of permissions) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('active', !el.classList.contains('d-none'))\n  }\n})\n\n// Update list of authorized actors to include MQ bot when MQ is enabled\non('change', '.js-protected-branch-merge-queue-checkbox', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const permissions = container.querySelectorAll('.js-protected-branch-authorized-actors')\n  for (const el of permissions) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('active', !el.classList.contains('d-none'))\n  }\n})\n\n// Toggle the maximum number of allowed pushers.\nfunction toggleMaxAllowedPushers(container: HTMLElement) {\n  const allowedPushers = container.querySelector<HTMLElement>('.js-authorized-pushers')\n  if (!allowedPushers?.getAttribute('data-limit')) return\n  const allowedPushersLimit = parseInt(allowedPushers.getAttribute('data-limit') || '')\n  const allowedPushersCount = allowedPushers.querySelectorAll('.js-authorized-user-or-team').length\n  allowedPushers.classList.toggle('at-limit', allowedPushersCount >= allowedPushersLimit)\n}\n\n// Grant branch push access to a user.\non('auto-complete-change', '.js-add-protected-branch-actor', async function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const searchValue = autocompleter.value\n  if (!searchValue) return\n  autocompleter.value = ''\n\n  const container = autocompleter.closest<HTMLElement>('.js-protected-branch-options')!\n  const list = container.querySelector<HTMLElement>('.js-authorized-actors')!\n  const found = list.querySelector(`div[data-user-or-team-name='${searchValue}']`)\n  if (found) {\n    found.querySelector<HTMLElement>('.js-protected-branch-pusher')!.classList.add('user-already-added')\n    return\n  }\n\n  const dataURL = autocompleter.getAttribute('data-add-url')!\n  const url = new URL(dataURL, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('item', searchValue)\n  url.search = params.toString()\n\n  list.append(await fetchSafeDocumentFragment(document, url.toString()))\n  toggleMaxAllowedPushers(container)\n})\n\n// Remove users who are authorized to push to a specific branch.\non('click', '.js-remove-authorized-user-or-team', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n  const userOrTeam = currentTarget.closest<HTMLElement>('.js-authorized-user-or-team')!\n\n  if (userOrTeam.nextElementSibling) {\n    userOrTeam.nextElementSibling.querySelector<HTMLElement>('.js-remove-authorized-user-or-team')!.focus()\n  } else if (userOrTeam.previousElementSibling) {\n    userOrTeam.previousElementSibling.querySelector<HTMLElement>('.js-remove-authorized-user-or-team')!.focus()\n  } else {\n    container.querySelector<HTMLElement>('.js-add-protected-branch-actor input')!.focus()\n  }\n\n  userOrTeam.remove()\n  toggleMaxAllowedPushers(container)\n})\n\non('click', '.js-pages-cname-save-btn', function () {\n  const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-cname-remove-btn')!\n  if (removeButton) {\n    removeButton.disabled = false\n  }\n})\n\non('click', '.js-pages-custom-subdomain-save-btn', function () {\n  const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-custom-subdomain-remove-btn')!\n  if (removeButton) {\n    removeButton.disabled = false\n  }\n})\n\n// disable pages-cname save button until value changes\nobserve('#pages-cname-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    addThrottledInputEventListener(el, function () {\n      const button = document.querySelector<HTMLButtonElement>('.js-pages-cname-save-btn')!\n      const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-cname-remove-btn')!\n\n      if (el.value === '' && removeButton) {\n        button.disabled = true\n      } else {\n        button.disabled = el.value === el.defaultValue\n      }\n    })\n  },\n})\n\n// disable pages-custom-subdomain save button until value changes\nobserve('#pages-custom-subdomain-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    addThrottledInputEventListener(el, function () {\n      const button = document.querySelector<HTMLButtonElement>('.js-pages-custom-subdomain-save-btn')!\n      const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-custom-subdomain-remove-btn')!\n\n      if (el.value === '' && removeButton) {\n        button.disabled = true\n      } else {\n        button.disabled = el.value === el.defaultValue\n      }\n    })\n  },\n})\n\n// Query certificate status every 15 seconds.\nconst certificateQueryDuration = 15 * 1000\nsetTimeout(checkCertificateStatus, certificateQueryDuration)\nasync function checkCertificateStatus() {\n  const content = document.querySelector('.js-pages-certificate-status')\n  if (content) {\n    const url = content.getAttribute('data-status-url')!\n    const fragment = await fetchSafeDocumentFragment(document, url)\n    content.replaceWith(fragment)\n    setTimeout(checkCertificateStatus, certificateQueryDuration)\n  }\n}\n\n// Query DNS 2 seconds after page load\nsetTimeout(checkDomainStatus, 2000)\nasync function checkDomainStatus() {\n  const content = document.querySelector('.js-pages-domain-status')\n  if (content) {\n    const state = content.getAttribute('data-domain-state')!\n\n    if (!['pending', 'queued'].includes(state)) return // if state if not pending or queued, stop checking.\n\n    const url = content.getAttribute('data-domain-status-url')!\n    const fragment = await fetchSafeDocumentFragment(document, url)\n    content.replaceWith(fragment)\n    // Check domain status again in 5 seconds\n    setTimeout(checkDomainStatus, 5000)\n  }\n}\n\nfunction getPageSourceSubmitBtn() {\n  return document.querySelector<HTMLButtonElement>('.js-update-page-source-btn')!\n}\n\nfunction getPageSource(name: string) {\n  const source = document.querySelector(`input[name=${name}]:checked`)\n  if (source) {\n    return (source as HTMLInputElement).value\n  }\n  return null\n}\n\n// This flash warning is only created if a gh-pages branch exists in a project repo or if we have a user repo\nfunction getPageWarningMessage() {\n  const flashWarning = document.querySelector('.js-disable-page-warning')\n  if (flashWarning) {\n    return flashWarning as HTMLElement\n  }\n  return null\n}\n\nconst pageSourceBranch = getPageSource('source')\nconst pageSourceDir = getPageSource('source_dir')\n\non('change', '.js-select-branch', event => {\n  const input = event.target as HTMLInputElement\n  if (input.name !== 'source') return\n  const sourceDirSelector = document.querySelector<HTMLElement>('.js-select-source-dir')!\n  const branchIcon = document.querySelector<HTMLElement>('.js-branch-icon')!\n  if (input.value !== '') {\n    branchIcon.hidden = false\n    sourceDirSelector.hidden = false\n  } else {\n    branchIcon.hidden = true\n    sourceDirSelector.hidden = true\n  }\n\n  const warningObject = getPageWarningMessage()\n  if (warningObject != null) {\n    if (input.value === '') {\n      warningObject.hidden = false\n    } else {\n      warningObject.hidden = true\n    }\n  }\n\n  if (input.value !== pageSourceBranch) {\n    getPageSourceSubmitBtn().disabled = false\n    //If 'None' source is selected\n    if (input.value === '' && warningObject != null) {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  } else {\n    if (pageSourceDir === getPageSource('source_dir') || pageSourceBranch === '') {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  }\n})\n\non('change', '.js-select-source-dir', event => {\n  const input = event.target as HTMLInputElement\n  if (input.name !== 'source_dir') return\n  const sourceDir = input.value\n  if (sourceDir !== pageSourceDir) {\n    getPageSourceSubmitBtn().disabled = false\n  } else {\n    if (getPageSource('source') === pageSourceBranch) {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\n\nfunction disableRestoreButton(parent: Element) {\n  const button = parent.querySelector<HTMLButtonElement>('form>button')!\n  button.disabled = true\n\n  const summary = parent.querySelector<HTMLElement>('summary')!\n  summary.classList.add('disabled')\n\n  for (const detail of parent.querySelectorAll('details')) {\n    detail.removeAttribute('open')\n  }\n}\n\nfunction restoreStatus(parent: Element, html: DocumentFragment) {\n  const container = parent.querySelector<HTMLElement>('.js-restore-status')!\n  container.textContent = ''\n  container.append(html)\n}\n\non('submit', '.js-repo-restore', async function (event) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  let response\n  const parent = form.closest<HTMLElement>('.js-deleted-repository')!\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {\n        Accept: 'text/html',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n  } catch {\n    // Ignore network errors\n  }\n  if (!response || !response.ok) return\n  const html = parseHTML(document, await response.text())\n  restoreStatus(parent, html)\n})\n\nobserve('.js-restore-repo-job', function (el) {\n  const parent = el.closest<HTMLElement>('.js-deleted-repository')!\n  disableRestoreButton(parent)\n})\n\non('click', '.js-disableable-summary.disabled', e => e.preventDefault())\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('click', '.js-used-by-selector-button', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-used-by-selector')!\n  if (container != null) {\n    const indicator = container.querySelector<HTMLElement>('.js-status-indicator')!\n    if (indicator != null) {\n      indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n      indicator.classList.add('status-indicator-loading')\n    }\n  }\n})\n","import {\n  enableSaveSecretButton,\n  updateSelectedRepositoryCount as updateMainFormSelectedRepositoryCount,\n} from './org-secrets'\nimport {updateVariablesSelectedRepositoryCount as updateVariablesSelectedRepositoryCount} from './org-variables'\n// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\nimport type DetailsDialogElement from '@github/details-dialog-element'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nconst dataStore = new WeakMap<Element, number>()\nconst stateChangedCheckboxes = new WeakMap<Element, Set<string>>()\n\n// The maximum number of times we should load another page of pinnable items automatically, just\n// when the user wants to filter the list of pinnable items\nconst repoPageLimit = 100\n\nasync function loadMoreRepositoryItems(loadMoreButton: HTMLButtonElement) {\n  const repositorySelectionComponent = loadMoreButton.closest<HTMLElement>('.js-repository-selection-component')!\n  const timesLoaded = dataStore.get(repositorySelectionComponent) || 0\n  if (timesLoaded > repoPageLimit) {\n    return\n  }\n\n  loadMoreButton.textContent = loadMoreButton.getAttribute('data-disable-with')!\n  loadMoreButton.disabled = true\n\n  dataStore.set(repositorySelectionComponent, timesLoaded + 1)\n\n  const url = loadMoreButton.getAttribute('data-url')!\n  fetchItemsAsync(repositorySelectionComponent, url)\n\n  // This event needs to fire after the data-action is bound\n  await Promise.resolve()\n  repositorySelectionComponent.dispatchEvent(new CustomEvent('repository-items-loaded'))\n}\n\nasync function fetchItemsAsync(repositorySelectionComponent: HTMLElement, url: string) {\n  const html = await fetchSafeDocumentFragment(document, url)\n\n  repositorySelectionComponent.querySelector<HTMLElement>('.js-more-repository-items-replace-target')!.replaceWith(html)\n\n  // When a page of repository items is loaded into the DOM, update the filtering in case the user\n  // has typed a query into the text input\n  filterRepositoryItems(repositorySelectionComponent)\n}\n\non('click', '.js-more-repository-items-button', function (event: Event) {\n  const button = event.currentTarget as HTMLButtonElement\n  loadMoreRepositoryItems(button)\n})\n\nobserve('.js-more-repository-items-button', {\n  constructor: HTMLButtonElement,\n  add: loadMoreRepositoryItems,\n})\n\nfunction filterRepositoryItems(repositorySelectionComponent: HTMLElement) {\n  fire(repositorySelectionComponent.querySelector<HTMLElement>('.js-repository-items-filter-input')!, 'change')\n}\n\nfunction saveChangedCheckbox(event: Event) {\n  const checkbox = event.target as HTMLInputElement\n\n  if (!(checkbox?.type === 'checkbox')) return\n\n  const selectionComponent = checkbox.closest<HTMLElement>('.js-repository-selection-component')!\n  const changedSet = stateChangedCheckboxes.get(selectionComponent) || new Set<string>()\n\n  // If a checkbox is toggled twice, it is back to its original state, so we should forget it\n  if (changedSet.has(checkbox.value)) changedSet.delete(checkbox.value)\n  else changedSet.add(checkbox.value)\n\n  stateChangedCheckboxes.set(selectionComponent, changedSet)\n\n  const container = checkbox.closest<HTMLElement>('.js-repository-items-dialog')!\n  if (!container) return\n\n  setUpdateSelectionButtonState(container, changedSet.size > 0)\n}\n\nfunction setUpdateSelectionButtonState(container: HTMLElement, enable: boolean) {\n  const updateSelectionButton = container.querySelector<HTMLButtonElement>('.js-btn-select-repositories')!\n  updateSelectionButton.disabled = !enable\n}\n\nfunction undoChangedCheckboxes(event: Event) {\n  const container = (event.currentTarget as Element).closest<HTMLElement>('.js-repository-items-dialog')\n  if (!container) return\n\n  const repositorySelectionComponent = container.querySelector<HTMLElement>('.js-repository-selection-component')\n  if (!repositorySelectionComponent || !repositorySelectionComponent.hasAttribute('data-discard-changes-on-close'))\n    return\n\n  const changedSet = stateChangedCheckboxes.get(repositorySelectionComponent)\n  if (!changedSet) return\n\n  for (const value of changedSet.keys()) {\n    const checkbox = repositorySelectionComponent.querySelector<HTMLInputElement>(`[value='${value}']`)!\n    checkbox.checked = !checkbox.checked\n  }\n\n  // Update the desired state on exit-without-save by clearing the set of checkboxes that will be toggled\n  stateChangedCheckboxes.set(repositorySelectionComponent, new Set())\n\n  setUpdateSelectionButtonState(container, false)\n}\n\nfunction updateSelectedRepositoryCount(event: CustomEvent) {\n  const repositorySelectionComponent = event.currentTarget as Element\n  const container = repositorySelectionComponent.closest('.js-repository-items-dialog')\n  if (!container) return\n\n  const count = Array.from(\n    repositorySelectionComponent.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox'),\n  ).filter(el => el.checked).length\n\n  const itemsCountContainer = container.querySelector<HTMLElement>('.js-selected-repositories-count-container')!\n  itemsCountContainer.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  itemsCountContainer.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  itemsCountContainer.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\non('change', '.js-repository-selection-component', updateSelectedRepositoryCount)\non('reset', '.js-repository-selection-component', updateSelectedRepositoryCount)\non('change', '.js-repository-selection-component', saveChangedCheckbox)\non('click', '.js-btn-select-repositories', function (event) {\n  const container = (event.target as Element).closest<HTMLElement>('.js-repository-items-dialog')!\n  const repositorySelectionComponent = container.querySelector<HTMLElement>('.js-repository-selection-component')!\n\n  stateChangedCheckboxes.set(repositorySelectionComponent, new Set())\n\n  // Close the details dialog\n  const detailsDialog = repositorySelectionComponent.closest<DetailsDialogElement>('details-dialog')!\n  detailsDialog.toggle(false)\n\n  const orgSecretsSelection = document.querySelector<HTMLElement>('.js-org-secrets-selection')!\n  if (orgSecretsSelection) {\n    updateMainFormSelectedRepositoryCount()\n    enableSaveSecretButton(event)\n  }\n\n  const orgVariablesSelection = document.querySelector<HTMLElement>('.js-org-variables-selection')!\n  if (orgVariablesSelection) {\n    updateVariablesSelectedRepositoryCount()\n  }\n})\non('details-dialog-close', '.js-repository-items-dialog', undoChangedCheckboxes)\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onInput} from '@github-ui/onfocus'\n\non('click', '.js-repo-change-visibility-button', function ({currentTarget}) {\n  const dialogId = currentTarget.getAttribute('data-show-dialog-id')!\n  const modal = document.getElementById(dialogId) as HTMLElement\n\n  modal.addEventListener(\n    'cancel',\n    () => {\n      resetVisibilityModal(modal)\n    },\n    {once: true},\n  )\n  modal.addEventListener(\n    'close',\n    () => {\n      resetVisibilityModal(modal)\n    },\n    {once: true},\n  )\n})\n\non('click', '.js-repo-delete-button', function ({currentTarget}) {\n  const dialogId = currentTarget.getAttribute('data-show-dialog-id')!\n  const modal = document.getElementById(dialogId) as HTMLElement\n\n  modal.addEventListener(\n    'cancel',\n    () => {\n      resetDeleteModal()\n    },\n    {once: true},\n  )\n  modal.addEventListener(\n    'close',\n    () => {\n      resetDeleteModal()\n    },\n    {once: true},\n  )\n})\n\non('click', '.js-repo-visibility-proceed-button', function ({currentTarget}) {\n  const button = currentTarget as HTMLButtonElement\n  const nextStage = button.getAttribute('data-next-stage')!\n  const newVisibility = button.getAttribute('data-new-visibility')!\n\n  if (nextStage && newVisibility) {\n    transitionVisibilityModalTo(newVisibility, nextStage)\n  }\n})\n\non('click', '.js-repo-delete-proceed-button', function ({currentTarget}) {\n  const button = currentTarget as HTMLButtonElement\n  const nextStage = button.getAttribute('data-next-stage')!\n\n  if (nextStage) {\n    transitionDeleteModalTo(nextStage)\n  }\n})\n\nonInput('.js-repo-visibility-proceed-confirmation', function ({currentTarget}) {\n  const input = currentTarget as HTMLInputElement\n  const numberOfStars = parseInt(input.getAttribute('data-number-of-stars')!, 10)\n  const newVisibility = input.getAttribute('data-new-visibility')!\n  const repoNwo = input.getAttribute('data-repo-nwo')!\n\n  if (newVisibility && repoNwo) {\n    const button = document.getElementById(`repo-visibility-proceed-button-${newVisibility}`) as HTMLButtonElement\n\n    let proceed = false\n\n    if (newVisibility === 'public') {\n      proceed = input.value === repoNwo\n    } else {\n      proceed = numberOfStars === parseInt(input.value.replace(/[^0-9]+/g, ''), 10)\n    }\n\n    if (button && proceed) {\n      const form = input.closest('form') as HTMLFormElement\n\n      if (form) {\n        addHiddenFormInput(form, 'visibility', newVisibility)\n        addHiddenFormInput(form, 'verify', repoNwo)\n        button.disabled = false\n      }\n    } else {\n      button.disabled = true\n    }\n  }\n})\n\nonInput('.js-repo-delete-proceed-confirmation', function ({currentTarget}) {\n  const input = currentTarget as HTMLInputElement\n  const repoNwo = input.getAttribute('data-repo-nwo')!\n\n  if (repoNwo) {\n    const button = document.getElementById(`repo-delete-proceed-button`) as HTMLButtonElement\n    const proceed = input.value === repoNwo\n\n    if (button && proceed) {\n      const form = input.closest('form') as HTMLFormElement\n\n      if (form) {\n        addHiddenFormInput(form, 'verify', repoNwo)\n        button.disabled = false\n      }\n    } else {\n      button.disabled = true\n    }\n  }\n})\n\nfunction resetVisibilityModal(modal: HTMLElement) {\n  const newVisibility = modal.getAttribute('data-new-visibility')!\n\n  if (newVisibility) {\n    transitionVisibilityModalTo(newVisibility, '1')\n  }\n}\n\nfunction resetDeleteModal() {\n  transitionDeleteModalTo('1')\n}\n\nfunction addHiddenFormInput(form: HTMLFormElement, name: string, value: string) {\n  const newInput = document.createElement('input')\n  newInput.setAttribute('type', 'hidden')\n  newInput.setAttribute('name', name)\n  newInput.setAttribute('value', value)\n\n  form.appendChild(newInput)\n}\n\nfunction transitionVisibilityModalTo(newVisibility: string, stage: string) {\n  const replacementWarningTemplate = document.getElementById(\n    `change-repository-visibility-${newVisibility}-step-${stage}`,\n  ) as HTMLTemplateElement\n  const replacementButtonTemplate = document.getElementById(\n    `proceed-button-visibility-${newVisibility}-step-${stage}`,\n  ) as HTMLTemplateElement\n\n  if (replacementWarningTemplate && replacementButtonTemplate) {\n    const replacementButtonTemplateClone = replacementButtonTemplate.content.cloneNode(true)\n    const replacementWarningTemplateClone = replacementWarningTemplate.content.cloneNode(true)\n\n    const warningContainer = document.getElementById(\n      `repo-visibility-warning-${newVisibility}-container`,\n    ) as HTMLDivElement\n    const existingButtonContainer = document.getElementById(\n      `repo-visibility-proceed-button-${newVisibility}-container`,\n    ) as HTMLDivElement\n\n    if (warningContainer && existingButtonContainer) {\n      warningContainer.replaceWith(replacementWarningTemplateClone)\n      existingButtonContainer.replaceWith(replacementButtonTemplateClone)\n    }\n\n    const warningContent = document.querySelector(\n      `[aria-label=\"Effects of making this repository ${newVisibility}\"]`,\n    ) as HTMLDivElement\n    warningContent?.focus()\n  }\n}\n\nfunction transitionDeleteModalTo(stage: string) {\n  const replacementWarningTemplate = document.getElementById(`delete-repository-step-${stage}`) as HTMLTemplateElement\n  const replacementButtonTemplate = document.getElementById(\n    `proceed-button-delete-step-${stage}`,\n  ) as HTMLTemplateElement\n\n  if (replacementWarningTemplate && replacementButtonTemplate) {\n    const replacementButtonTemplateClone = replacementButtonTemplate.content.cloneNode(true)\n    const replacementWarningTemplateClone = replacementWarningTemplate.content.cloneNode(true)\n\n    const warningContainer = document.getElementById(`repo-delete-warning-container`) as HTMLDivElement\n    const existingButtonContainer = document.getElementById(`repo-delete-proceed-button-container`) as HTMLDivElement\n\n    if (warningContainer && existingButtonContainer) {\n      warningContainer.textContent = ''\n      existingButtonContainer.textContent = ''\n      warningContainer.appendChild(replacementWarningTemplateClone)\n      existingButtonContainer.appendChild(replacementButtonTemplateClone)\n    }\n  }\n\n  const warningContent = document.querySelector('[aria-label=\"Effects of deleting this repository\"]') as HTMLDivElement\n  warningContent?.focus()\n}\n","import {controller, target} from '@github/catalyst'\nimport {announceFromElement} from '@github-ui/aria-live'\n\n@controller\nclass RetentionFormElement extends HTMLElement {\n  @target group: HTMLElement\n  @target input: HTMLInputElement\n  @target button: HTMLButtonElement\n  @target minMessage: HTMLElement\n  @target maxMessage: HTMLElement\n  @target note: HTMLElement\n\n  validate() {\n    this.resetState()\n\n    const inputAllowsNil: boolean = this.input.hasAttribute('data-allow-nil')\n\n    if (!this.input.value && !inputAllowsNil) return\n\n    const value: number = +this.input.value\n    const min_string = this.input.getAttribute('data-min')\n    const max_string = this.input.getAttribute('data-max')\n\n    if (inputAllowsNil && !value) {\n      this.button.disabled = false\n      return\n    }\n\n    if (min_string && value < +min_string) {\n      this.group.classList.add('errored')\n      this.minMessage.hidden = false\n      announceFromElement(this.note)\n      return\n    }\n\n    if (max_string && value > +max_string) {\n      this.group.classList.add('errored')\n      this.maxMessage.hidden = false\n      announceFromElement(this.note)\n      return\n    }\n\n    this.button.disabled = false\n  }\n\n  resetState() {\n    this.minMessage.hidden = true\n    this.maxMessage.hidden = true\n    this.group.classList.remove('errored')\n    this.button.disabled = true\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\nimport {requestSubmit} from '@github-ui/form-utils'\n\n// When the user creates a new label, update the list of available labels\n//to choose from, so the user can immediately apply their new label.\non(\n  'submit',\n  '.js-create-runner-label-form',\n  async function (event: SubmitEvent) {\n    event.preventDefault()\n\n    let response\n    const form = event.currentTarget as HTMLFormElement\n    const labelsMenu = form.closest<HTMLElement>('.js-runner-labels-menu')!\n    const errorContainer = labelsMenu.querySelector<HTMLElement>('.js-runner-label-error')!\n\n    try {\n      response = await fetchSafeDocumentFragment(document, form.action, {\n        method: form.method,\n        body: new FormData(form),\n      })\n    } catch (error) {\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      if (error.response.json?.message && errorContainer) {\n        // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n        errorContainer.textContent = error.response.json.message\n        errorContainer.hidden = false\n      }\n\n      return\n    }\n\n    if (!response) return\n\n    if (errorContainer) {\n      errorContainer.hidden = true\n      errorContainer.textContent = ''\n    }\n\n    const input = response.querySelector<HTMLInputElement>('.js-label-input')\n    const list = labelsMenu.querySelector<HTMLElement>('.js-filterable-runner-labels')!\n    list.prepend(response)\n\n    // Select added label. This will trigger any listeners for label selection as well\n    input?.click()\n\n    const field = labelsMenu.querySelector<HTMLInputElement>('.js-label-filter-field')!\n    field.value = ''\n    field.focus()\n  },\n  {capture: true},\n)\n\nfunction submitOnMenuClose({currentTarget}: Event) {\n  if (currentTarget instanceof Element) {\n    const form = currentTarget.querySelector<HTMLFormElement>('.js-runner-labels-form')!\n    requestSubmit(form)\n  }\n}\n\n// On item selection, add listener to submit form on menu close\non(\n  'details-menu-selected',\n  '.js-runner-labels-details',\n  function (event) {\n    const menu = event.currentTarget\n    menu.addEventListener('toggle', submitOnMenuClose, {once: true})\n  },\n  {capture: true},\n)\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-saved-reply-delete', async function (form, wants) {\n  await wants.text()\n\n  const container = form.closest('.js-saved-reply-container')!\n  const count = container.querySelectorAll('.js-saved-reply-list-item').length\n\n  const list = container.querySelector<HTMLElement>('.js-saved-reply-list')!\n  list.hidden = count <= 1 ? true : false\n\n  const emptyContainer = container.querySelector<HTMLElement>('.js-saved-reply-empty-container')!\n  if (count === 1) emptyContainer.hidden = false\n\n  const item = form.closest('.js-saved-reply-list-item')!\n  item.remove()\n})\n","import {controller, target} from '@github/catalyst'\n\n@controller\nexport class SelectedItemCountElement extends HTMLElement {\n  @target selectedCount: HTMLElement\n  @target pluralItemsDescription: HTMLElement\n  @target singularItemDescription: HTMLElement\n\n  updateCount(count: number) {\n    this.selectedCount.textContent = String(count)\n    this.pluralItemsDescription.hidden = count === 1\n    this.singularItemDescription.hidden = count !== 1\n  }\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport type {IncludeFragmentElement} from '@github/include-fragment-element'\n\n@controller\nexport class SelectedItemListElement extends HTMLElement {\n  @target selectedCount: HTMLElement\n  @target pluralItemsDescription: HTMLElement\n  @target singularItemDescription: HTMLElement\n  @target description: HTMLElement\n  @targets items: HTMLInputElement[]\n  @target includeFragment: IncludeFragmentElement\n  @target saveButton: HTMLButtonElement\n\n  connectedCallback() {\n    this.includeFragment?.addEventListener('include-fragment-replaced', () => {\n      this.updateCount()\n      if (this.saveButton) {\n        this.saveButton.disabled = false\n      }\n    })\n  }\n\n  get count(): number {\n    return this.items.filter(item => item.checked).length\n  }\n\n  updateCount() {\n    const count = this.count\n    this.selectedCount.textContent = String(count)\n\n    this.description.hidden = count <= 0\n    this.pluralItemsDescription.hidden = count === 1\n    this.singularItemDescription.hidden = count !== 1\n  }\n\n  hideDescription() {\n    this.description.hidden = true\n  }\n\n  showDescription() {\n    const count = this.count\n    this.description.hidden = count <= 0\n  }\n}\n","import type AutocompleteElement from '@github/auto-complete-element'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// Reset user selecting autocompleter, avoiding submission of partial matches.\nfunction resetUserAddForm(form: Element, enabled: boolean) {\n  const submit = form.querySelector<HTMLButtonElement>('.js-add-new-user')!\n  submit.disabled = !enabled\n}\n\n// Ensure user selecting submit button is disabled on page load (including via pjax)\nobserve('.js-add-user-form', function (form) {\n  resetUserAddForm(form, false)\n})\n\non('auto-complete-change', '.js-add-user-completer', function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const form = autocompleter.closest<HTMLElement>('.js-add-user-form')!\n  resetUserAddForm(form, !!autocompleter.value)\n\n  const designatedUser = document.querySelector('.js-designated-user')\n  if (designatedUser) {\n    if (autocompleter.value) {\n      designatedUser.textContent = `@${autocompleter.value}`\n    } else {\n      designatedUser.textContent = designatedUser.getAttribute('data-autocomplete-text')\n    }\n  }\n})\n\nexport {resetUserAddForm}\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-verify-ssh-key', async function (form, wants) {\n  await wants.html()\n\n  const parent = form.closest<HTMLElement>('li')!\n  parent.querySelector<HTMLElement>('.js-unverified-user-key-notice')!.remove()\n  parent.querySelector<HTMLElement>('.js-user-key-icon')!.classList.remove('color-fg-danger')\n\n  form.remove()\n})\n\n// Leave a collaborated repository\nremoteForm('.js-leave-collaborated-repo', async function (form, wants) {\n  await wants.html()\n  const id = form.getAttribute('data-repo-id')!\n  const ownerLogin = form.getAttribute('data-owner-login')!\n  document.querySelector<HTMLElement>(`.js-collab-repo[data-repo-id='${id}']`)!.remove()\n  if (!document.querySelector('.js-collab-repo')) {\n    document.querySelector<HTMLElement>('.js-collaborated-repos-empty')!.hidden = false\n    document.querySelector<HTMLElement>('.js-collaborated-repos')!.hidden = true\n  }\n\n  const ownerRepos = document.querySelector(`.js-collab-repo-owner[data-owner-login='${ownerLogin}']`)\n  if (ownerRepos && !document.querySelector(`.js-collab-repo[data-owner-login='${ownerLogin}']`)) {\n    ownerRepos.remove()\n  }\n})\n\n// all other status-indicator elements.\nfunction setIndicator(target: Element, className: string) {\n  for (const statusIndicator of document.querySelectorAll('.js-setting-toggle .js-status-indicator')) {\n    statusIndicator.classList.remove('status-indicator-success', 'status-indicator-loading', 'status-indicator-failed')\n  }\n  target.classList.add(className)\n}\n\n// Auto-subscribe checkbox toggle\nremoteForm('.js-setting-toggle', async function (form, wants) {\n  const target = form.querySelector<HTMLElement>('.js-status-indicator')!\n  setIndicator(target, 'status-indicator-loading')\n  try {\n    await wants.text()\n    setIndicator(target, 'status-indicator-success')\n  } catch (error) {\n    setIndicator(target, 'status-indicator-failed')\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('click', '#load-readme', function (event) {\n  const editor = document.querySelector<HTMLTextAreaElement>('#gollum-editor-body')!\n  const buffer = document.querySelector<HTMLElement>('#editor-body-buffer')!\n  const undoLink = document.querySelector<HTMLElement>('#undo-load-readme')!\n\n  const readmeText = buffer.textContent\n  const readmeName = event.currentTarget.getAttribute('data-readme-name')!\n  swapEditorAndBufferValues(editor, buffer)\n\n  if (!(event.currentTarget instanceof HTMLButtonElement)) return\n  event.currentTarget.disabled = true\n  event.currentTarget.textContent = `${readmeName} loaded`\n  /* eslint-disable-next-line github/no-d-none */\n  undoLink.classList.remove('d-none')\n\n  function hideUndoLinkIfChanged() {\n    if (editor.value !== readmeText) {\n      /* eslint-disable-next-line github/no-d-none */\n      undoLink.classList.add('d-none')\n      editor.removeEventListener('input', hideUndoLinkIfChanged)\n    }\n  }\n\n  editor.addEventListener('input', hideUndoLinkIfChanged)\n})\n\non('click', '#undo-load-readme', function (event) {\n  const editor = document.querySelector<HTMLTextAreaElement>('#gollum-editor-body')!\n  const buffer = document.querySelector<HTMLElement>('#editor-body-buffer')!\n\n  swapEditorAndBufferValues(editor, buffer)\n  const loadReadmeButton = document.querySelector<HTMLButtonElement>('#load-readme')!\n  const readmeName = loadReadmeButton.getAttribute('data-readme-name')!\n\n  loadReadmeButton.disabled = false\n  // eslint-disable-next-line i18n-text/no-en\n  loadReadmeButton.textContent = `Load ${readmeName}`\n  /* eslint-disable-next-line github/no-d-none */\n  event.currentTarget.classList.add('d-none')\n})\n\nfunction swapEditorAndBufferValues(editor: HTMLTextAreaElement, editorBodyBuffer: HTMLElement) {\n  const oldEditorVal = editor.value\n  editor.value = editorBodyBuffer.textContent || ''\n  editorBodyBuffer.textContent = oldEditorVal\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('upload:setup', '.js-upload-repository-image', function () {\n  document.querySelector<HTMLElement>('.js-remove-repository-image-button')!.hidden = true\n})\n\non('upload:complete', '.js-upload-repository-image', function (event) {\n  const {attachment} = event.detail\n  document.querySelector<HTMLInputElement>('.js-repository-image-id')!.value = attachment.id\n  document.querySelector<HTMLElement>('.js-remove-repository-image-button')!.hidden = false\n  document.querySelector<HTMLElement>('.js-repository-image-container')!.style.backgroundImage =\n    `url(${attachment.href})`\n  document.querySelector<HTMLElement>('.js-repository-image-container')!.hidden = false\n  document.querySelector<HTMLElement>('#edit-social-preview-button')!.classList.add(...['position-absolute', 'ml-2'])\n})\n","import {changeValue} from '@github-ui/form-utils'\n\nimport {remoteForm} from '@github/remote-form'\nimport {resetUserAddForm} from './user-add'\n\nremoteForm('.js-remote-submit', async function (form, wants) {\n  const response = await wants.html()\n\n  const group = document.querySelector<HTMLElement>('.js-user-block-settings-list')!\n  const list = group.querySelector<HTMLElement>('.js-blocked-list')!\n  const blank = group.querySelector<HTMLElement>('.js-user-block-blank-slate')!\n\n  resetUserAddForm(form, false)\n  const input = form.querySelector<HTMLInputElement>('.js-add-blocked-user-field')!\n  changeValue(input, '')\n\n  blank.hidden = true\n  list.hidden = false\n  list.prepend(response.html)\n})\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-user-sessions-revoke', async function (form, wants) {\n  await wants.text()\n\n  const container = form.closest<HTMLElement>('.js-user-sessions-container')!\n  const item = form.closest<HTMLElement>('.js-user-session')!\n  item.remove()\n\n  if (container) {\n    const count = container.querySelectorAll('.js-user-session').length\n    container.classList.toggle('has-active-sessions', count > 0)\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('change', '.js-default-token-expiration-select', function (event) {\n  const selectMenu = event.target as HTMLSelectElement\n  const pickerWrapper = document.getElementById('custom-expires-wrapper') as HTMLElement\n  const picker = document.querySelector('#custom-expires-wrapper .form-select') as HTMLInputElement\n  const formElementWrapper = document.getElementById('token-expiration') as HTMLElement\n  const expirationHelperNoteWrapper = document.getElementById('expiration-helper-note') as HTMLElement\n  const expirationWarning = document.getElementById('no-expiration-warning') as HTMLElement\n  const expirationNoteContent = expirationHelperNoteWrapper.querySelector('.note') as HTMLElement\n\n  if (selectMenu && picker) {\n    if (selectMenu.value === 'custom') {\n      expirationHelperNoteWrapper.setAttribute('hidden', 'hidden')\n      expirationWarning.setAttribute('hidden', 'hidden')\n      pickerWrapper.removeAttribute('hidden')\n    } else {\n      pickerWrapper.setAttribute('hidden', 'hidden')\n      picker.value = ''\n      expirationHelperNoteWrapper.removeAttribute('hidden')\n      formElementWrapper.classList.remove('errored')\n\n      if (selectMenu.value === 'none') {\n        expirationWarning.removeAttribute('hidden')\n      } else {\n        expirationWarning.setAttribute('hidden', 'hidden')\n      }\n\n      const selectedIndex = selectMenu.selectedIndex\n      const selectedOption = selectMenu.children[selectedIndex]!\n      const humanTextAttr = selectedOption.getAttribute('data-human-date')\n\n      if (humanTextAttr) {\n        expirationNoteContent.textContent = humanTextAttr\n      }\n    }\n  }\n})\n","import {controller, targets} from '@github/catalyst'\n\n@controller\nclass PagesBuildType extends HTMLElement {\n  @targets types: HTMLElement[]\n\n  async changeType(type: number) {\n    // if we have it checked not need to do anything\n    if (this.types[type]!.hasAttribute('disabled') && this.types[type]!.hasAttribute('checked')) return\n\n    this.setAttribute('current', this.types[type]!.getAttribute('value')!)\n\n    this.getElementsByTagName('pages-jekyll-config')[0]!.setAttribute('hidden', 'true')\n\n    // get the form under the pages-build-type element\n    const form = this.getElementsByTagName('form')[0]!\n    const input = this.types[type]!\n    form.appendChild(input)\n    form.submit()\n  }\n\n  buildWorkflow() {\n    // we pass 0 here since the workflow input will always be the first\n    // element in the types array\n    this.changeType(0)\n  }\n\n  buildLegacy() {\n    // pass 1 since the legacy input will always be the second element\n    this.changeType(1)\n  }\n}\n\nif (!window.customElements.get('pages-build-type')) {\n  window.customElements.define('pages-build-type', PagesBuildType)\n}\n","import {requestSubmit} from '@github-ui/form-utils'\nimport {controller, target} from '@github/catalyst'\nimport '@oddbird/popover-polyfill'\nimport type {IncludeFragmentElement} from '@github/include-fragment-element'\nimport type {\n  ItemActivatedEvent,\n  SelectPanelExperimentalElement,\n} from '../../../../components/primer/experimental/select-panel-element'\n\n@controller\nclass PagesJekyllConfig extends HTMLElement {\n  @target includeFragment: IncludeFragmentElement\n  @target form: HTMLFormElement\n  @target submitButton: HTMLButtonElement\n  @target branchSelector: SelectPanelExperimentalElement\n  @target folderSelector: SelectPanelExperimentalElement\n\n  selectedBranch: string\n  selectedFolder: string\n\n  connectedCallback() {\n    this.selectedFolder = this.getAttribute('data-initial-subdir') || '/'\n    this.selectedBranch = this.getAttribute('data-initial-branch') || 'None'\n\n    this.#refresh()\n  }\n\n  #refresh() {\n    this.setBranchAndPath()\n    this.setSubmitButton()\n  }\n\n  selectFolder(event: CustomEvent<ItemActivatedEvent>) {\n    const activeItem = event.detail.item\n    if (!activeItem) return\n    const itemLabel = activeItem.getAttribute('data-name')\n    if (itemLabel == null) return\n    const selectFolder = itemLabel.trim()\n    this.selectedFolder = selectFolder\n    this.#refresh()\n  }\n\n  selectBranch(event: CustomEvent<ItemActivatedEvent>) {\n    const activeItem = event.detail.item\n    if (!activeItem) return\n    const itemLabel = activeItem.getAttribute('data-name')\n    if (itemLabel == null) return\n    const selectedLabel = itemLabel.trim()\n    this.selectedBranch = selectedLabel\n    this.#refresh()\n  }\n\n  setBranchAndPath() {\n    const sourceDirSelector = this.querySelector<HTMLSelectElement>('.js-jekyll-source-dir')\n    const buttonVisual = this.querySelector<HTMLSelectElement>('.Button-leadingVisual')\n    if (this.selectedBranch === 'None' || this.selectedBranch === '') {\n      sourceDirSelector?.setAttribute('hidden', '')\n      buttonVisual?.setAttribute('hidden', '')\n    } else {\n      sourceDirSelector?.removeAttribute('hidden')\n      buttonVisual?.removeAttribute('hidden')\n    }\n  }\n\n  setSubmitButton(): void {\n    if (this.submitButton.getAttribute('data-always-enabled') === 'true') return\n    const initialBranch = this.getAttribute('data-initial-source')\n    const initialFolder = this.getAttribute('data-initial-subdir')\n    const disabled =\n      (initialBranch === this.selectedBranch || (initialBranch === 'gh-pages' && this.selectedBranch === 'None')) &&\n      (initialFolder === this.selectedFolder || (!initialFolder && this.selectedFolder === '/'))\n    if (disabled) {\n      this.submitButton.setAttribute('disabled', '')\n    } else {\n      this.submitButton.removeAttribute('disabled')\n    }\n  }\n\n  submitForm() {\n    // append input to form\n    const input = document.createElement('input')\n    input.type = 'hidden'\n    input.name = 'source'\n    input.value = this.selectedBranch\n    this.form.appendChild(input)\n\n    // append the subdir input to form\n    const subdirInput = document.createElement('input')\n    subdirInput.type = 'hidden'\n    subdirInput.name = 'source_dir'\n    subdirInput.value = this.selectedFolder\n    this.form.appendChild(subdirInput)\n    requestSubmit(this.form)\n  }\n}\n\nif (!window.customElements.get('pages-jekyll-config')) {\n  window.customElements.define('pages-jekyll-config', PagesJekyllConfig)\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction copyInput(inputToCopy: HTMLInputElement): HTMLInputElement[] {\n  const stateAttribute = 'data-pattern-state'\n  const rowVersionAttribute = 'data-pattern-row-version'\n  const state = inputToCopy.getAttribute(stateAttribute) ?? ''\n  const rowVersion = inputToCopy.getAttribute(rowVersionAttribute) ?? ''\n  const input = document.createElement('input')\n  input.setAttribute('type', 'hidden')\n  input.setAttribute('name', `pattern[][id]`)\n  input.setAttribute('value', inputToCopy.value)\n\n  const stateInput = document.createElement('input')\n  stateInput.setAttribute('type', 'hidden')\n  stateInput.setAttribute('name', `pattern[][state]`)\n  stateInput.setAttribute('value', state)\n\n  const rowVersionInput = document.createElement('input')\n  rowVersionInput.setAttribute('type', 'hidden')\n  rowVersionInput.setAttribute('name', `pattern[][rowVersion]`)\n  rowVersionInput.setAttribute('value', rowVersion)\n  return [input, stateInput, rowVersionInput]\n}\n\nfunction copySelectedPatternsToBulkDeleteForm(container: Element) {\n  const checkedAlerts = container.querySelectorAll<HTMLInputElement>(\n    '.js-custom-pattern-list [data-check-all-item]:checked',\n  )\n\n  const shouldDisplayCount = checkedAlerts.length > 0\n  const countDisplayer = container.querySelector<HTMLElement>('.js-custom-pattern-selected-count')!\n  const totalCountDisplay = container.querySelector<HTMLElement>('.js-custom-pattern-total-count')!\n  countDisplayer.hidden = !shouldDisplayCount\n  totalCountDisplay.hidden = shouldDisplayCount\n\n  const stateAttribute = 'data-pattern-state'\n  const patternStates = Array.from(checkedAlerts).map(alert => alert.getAttribute(stateAttribute))\n  const allUnpublished = patternStates.every(s => s === 'unpublished')\n  const allPublished = patternStates.every(s => s === 'published')\n\n  const removeOnlyUnpublishedInfo = container.querySelectorAll<HTMLElement>(\n    '.js-custom-patterns-delete-only-unpublished',\n  )\n  const removeOnlyPublishedInfo = container.querySelectorAll<HTMLElement>('.js-custom-patterns-delete-only-published')\n  const removePublishedAndUnpublishedInfo = container.querySelectorAll<HTMLElement>(\n    '.js-custom-patterns-delete-unpublished-and-published',\n  )\n  const publishedCount = container.querySelectorAll('.js-custom-patterns-published-delete-count')\n  const unpublishedCount = container.querySelectorAll('.js-custom-patterns-unpublished-delete-count')\n  const formInputs = container.querySelector('.js-custom-patterns-bulk-delete-items')!\n\n  const toggleInfoVisibility = (show: boolean, elems: NodeListOf<HTMLElement>) => {\n    for (const elem of elems) {\n      !!elem && (elem.hidden = !show)\n    }\n  }\n\n  if (allUnpublished) {\n    toggleInfoVisibility(false, removeOnlyPublishedInfo)\n    toggleInfoVisibility(false, removePublishedAndUnpublishedInfo)\n    toggleInfoVisibility(true, removeOnlyUnpublishedInfo)\n  }\n  if (allPublished) {\n    toggleInfoVisibility(false, removeOnlyUnpublishedInfo)\n    toggleInfoVisibility(false, removePublishedAndUnpublishedInfo)\n    toggleInfoVisibility(true, removeOnlyPublishedInfo)\n  }\n  if (!allPublished && !allUnpublished) {\n    toggleInfoVisibility(false, removeOnlyPublishedInfo)\n    toggleInfoVisibility(false, removeOnlyUnpublishedInfo)\n    toggleInfoVisibility(true, removePublishedAndUnpublishedInfo)\n  }\n\n  const countPublished = patternStates.filter(s => s === 'published').length\n  const countUnpublished = patternStates.filter(s => s === 'unpublished').length\n\n  for (const elem of unpublishedCount) {\n    !!elem && (elem.innerHTML = countUnpublished.toString())\n  }\n  for (const elem of publishedCount) {\n    !!elem && (elem.innerHTML = countPublished.toString())\n  }\n\n  const publishedPlural = container.querySelectorAll<HTMLElement>('.js-custom-patterns-plural-published')\n  const unpublishedPlural = container.querySelectorAll<HTMLElement>('.js-custom-patterns-plural-unpublished')\n\n  for (const elem of publishedPlural) {\n    elem.hidden = countPublished === 1\n  }\n  for (const elem of unpublishedPlural) {\n    elem.hidden = countUnpublished === 1\n  }\n\n  formInputs.textContent = ''\n  for (let i = 0; i < checkedAlerts.length; i += 1) {\n    const inputs = copyInput(checkedAlerts[i]!)\n    for (const input of inputs) {\n      formInputs.appendChild(input)\n    }\n  }\n}\n\non('change', '.js-custom-pattern-check', ({currentTarget}) => {\n  const container = currentTarget.closest<HTMLElement>('.js-custom-pattern-list')!\n  const checked = container.querySelector('.js-custom-pattern-check:checked') != null\n  const bulkDeleteButton = container.querySelector<HTMLElement>('.js-custom-patterns-bulk-delete')\n  const filters = container.querySelector<HTMLElement>('.js-custom-patterns-filters')\n\n  !!bulkDeleteButton && (bulkDeleteButton.hidden = !checked)\n  !!filters && (filters.hidden = checked)\n\n  copySelectedPatternsToBulkDeleteForm(container)\n})\n","import {remoteForm} from '@github/remote-form'\n\n// In addition to normal .js-setting-toggle form behavior, show/hide the custom message form when the checkbox is checked\nremoteForm('.js-enable-custom-msg', async function (form, wants) {\n  const saveLinkForm = form.nextElementSibling as HTMLElement\n  const enableCheckbox = form.querySelector<HTMLInputElement>('.js-custom-msg-checkbox')\n  try {\n    await wants.text()\n    if (saveLinkForm) {\n      saveLinkForm.hidden = enableCheckbox?.checked ? false : true\n    }\n  } catch (error) {\n    // .js-setting-toggle remoteForm will show error icon\n  }\n})\n","import {ssrSafeWindow, ssrSafeHistory, ssrSafeLocation} from '@github-ui/ssr-utils'\n\nlet sessionHistoryEntries: Array<{url: string; state: unknown}> = []\nlet sessionHistoryOffset = 0\nlet state: State\n\ntype State = {\n  _id: number\n  turbo?: {\n    restorationIdentifier: string\n  }\n}\n\n/*\n * Array of history entries.\n *\n * Example:\n * {\n *   0: {\n *     url: \"/\",\n *     state: { ... }.\n *   },\n *   1: {\n *     url: \"/github/github/issues/123\",\n *     state: { ... }.\n *   },\n *   2: {\n *     url: \"/github/github/issues/123#comment-4\",\n *     state: { ... }.\n *   }.\n *  }.\n */\n\nexport function getState(): State {\n  return state\n}\n\nfunction safeGetHistory() {\n  try {\n    // Clamp history.length to 0<->9007199254740991 (Number.MAX_SAFE_INTEGER isn't supported in IE)\n    return Math.min(Math.max(0, ssrSafeHistory?.length || 0) || 0, 9007199254740991)\n  } catch (e) {\n    return 0\n  }\n}\n\nfunction initializeState(): State {\n  const newState = {_id: new Date().getTime(), ...ssrSafeHistory?.state}\n  setState(newState)\n  return newState\n}\n\n// Current index into history entries stack.\nfunction position(): number {\n  return safeGetHistory() - 1 + sessionHistoryOffset\n}\n\nfunction setState(newState: State) {\n  state = newState\n\n  // Update entry at current position\n  const url = ssrSafeLocation?.href\n  sessionHistoryEntries[position()] = {url, state}\n\n  // Trim entries to match history size\n  sessionHistoryEntries.length = safeGetHistory()\n\n  // Emit public statechange\n  ssrSafeWindow?.dispatchEvent(new CustomEvent('statechange', {bubbles: false, cancelable: false}))\n}\n\n// Generate unique id for state object.\n//\n// Use a timestamp instead of a counter since ids should still be unique\n// across page loads.\nfunction uniqueId(): number {\n  return new Date().getTime()\n}\n\n// Indirection for history.pushState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function pushState(oldState: State | null, title: string, url: string) {\n  // pushState drops any forward history entries\n  sessionHistoryOffset = 0\n  const newState = {_id: uniqueId(), ...oldState}\n  ssrSafeHistory?.pushState(newState, title, url)\n  setState(newState)\n}\n\n// Indirection for history.replaceState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function replaceState(oldState: Record<string, unknown> | null, title: string, url: string) {\n  const newState = {...getState(), ...oldState}\n  ssrSafeHistory?.replaceState(newState, title, url)\n  setState(newState)\n}\n\nstate = initializeState()\n\nssrSafeWindow?.addEventListener(\n  'popstate',\n  function onPopstate(event: PopStateEvent) {\n    const currentState: State = event.state\n\n    if (!currentState || (!currentState._id && !currentState.turbo?.restorationIdentifier)) {\n      // Unmanaged state in history entries\n      // Or could be a hashchange pop, ignore and let hashchange handle it\n      return\n    }\n\n    // Each state has a unique restorationIdentifier provided by Turbo. We compare the id\n    // to see if we are going backwards or forwards.\n    const id = currentState.turbo?.restorationIdentifier\n    const restoreId = (sessionHistoryEntries[position() - 1]?.state as State)?.turbo?.restorationIdentifier\n\n    if (restoreId === id) {\n      sessionHistoryOffset--\n    } else {\n      sessionHistoryOffset++\n    }\n\n    setState(currentState)\n  },\n  true,\n)\n\nlet turboAction: string\n\nssrSafeWindow?.addEventListener('turbo:visit', event => {\n  if (!(event instanceof CustomEvent)) return\n\n  turboAction = event.detail.action\n})\n\n// Listen turbo navigations to reset the `sessionHistoryOffset` in case we are doing a page load\n// instead of poping a state from the history stack.\nssrSafeWindow?.addEventListener('turbo:load', () => {\n  if (turboAction === 'restore') return\n\n  sessionHistoryOffset = 0\n  // Add turbo navigations to the state stack, so we can keep it complete without `empty` entries.\n  replaceState(ssrSafeHistory?.state, '', '')\n})\n\nssrSafeWindow?.addEventListener(\n  'hashchange',\n  function onHashchange() {\n    if (safeGetHistory() > sessionHistoryEntries.length) {\n      // Forward navigation\n      const newState = {_id: uniqueId()}\n      ssrSafeHistory?.replaceState(newState, '', ssrSafeLocation.href)\n      setState(newState)\n    }\n  },\n  true,\n)\n\n// We need to reset our history state on full-page loads to prevent our state from getting out of sync with the browser's history stack.\nssrSafeWindow?.addEventListener('pageshow', () => {\n  sessionHistoryEntries = []\n  sessionHistoryOffset = 0\n})\n","interface Cookie {\n  key: string\n  value: string\n}\n\n/**\n * Get a cookie by name.\n * @param name\n * @returns a cookie object or undefined if not found.\n */\nexport function getCookie(name: string): Cookie | undefined {\n  return getCookies(name)[0]\n}\n\n/**\n * Get all cookies by name.\n * @param name\n * @returns\n */\nexport function getCookies(name: string): Cookie[] {\n  const cookies = []\n  for (const cookie of readCookies()) {\n    const [key, value] = cookie.trim().split('=')\n    if (name === key && typeof value !== 'undefined') {\n      cookies.push({key, value})\n    }\n  }\n  return cookies\n}\n\nfunction readCookies(): string[] {\n  try {\n    return document.cookie.split(';')\n  } catch {\n    // Cookie access disabled.\n    return []\n  }\n}\n\n/**\n * Set a new cookie with sensible defaults like secure.\n * @param name\n * @param value\n * @param expiration\n * @param strictDomain\n * @param samesite\n */\nexport function setCookie(\n  name: string,\n  value: string,\n  expiration: string | null = null,\n  strictDomain = false,\n  samesite = 'lax',\n) {\n  let domain = document.domain\n  if (domain == null) {\n    throw new Error('Unable to get document domain')\n  }\n\n  // Share cookies with test environments.\n  if (domain.endsWith('.github.com')) {\n    domain = 'github.com'\n  }\n\n  const secure = location.protocol === 'https:' ? '; secure' : ''\n  const expire = expiration ? `; expires=${expiration}` : ''\n  if (strictDomain === false) {\n    domain = `.${domain}`\n  }\n  try {\n    document.cookie = `${name}=${value}; path=/; domain=${domain}${expire}${secure}; samesite=${samesite}`\n  } catch {\n    // Cookie access disabled.\n  }\n}\n\n/**\n * Delete a given cookie with sensible defaults like secure.\n * This sets the expires value to a second ago to delete the cookie.\n * @param name\n * @param strictDomain\n */\nexport function deleteCookie(name: string, strictDomain = false) {\n  let domain = document.domain\n  if (domain == null) {\n    throw new Error('Unable to get document domain')\n  }\n\n  // Share cookies with test environments.\n  if (domain.endsWith('.github.com')) {\n    domain = 'github.com'\n  }\n\n  const time = new Date().getTime()\n  const expiration = new Date(time - 1).toUTCString()\n  const secure = location.protocol === 'https:' ? '; secure' : ''\n  const expire = `; expires=${expiration}`\n  if (strictDomain === false) {\n    domain = `.${domain}`\n  }\n  try {\n    document.cookie = `${name}=''; path=/; domain=${domain}${expire}${secure}`\n  } catch {\n    // Cookie access disabled.\n  }\n}\n","import {fire} from 'delegated-events'\n\ntype Options = {\n  content: DocumentFragment | Promise<DocumentFragment> | Node\n  dialogClass?: string\n  detailsClass?: string\n  labelledBy?: string | null\n  label?: string | null\n  errorMessage?: string | null\n}\n\n// Open the site-wide Details Dialog element.\nexport async function dialog(options: Options): Promise<HTMLElement> {\n  const dialogTemplate = document.querySelector<HTMLTemplateElement>('#site-details-dialog')!\n  const clonedDetails = dialogTemplate.content.cloneNode(true) as Element\n  const details = clonedDetails.querySelector<HTMLElement>('details')!\n  const detailsDialog = details.querySelector<HTMLElement>('details-dialog')!\n  const spinner = details.querySelector<HTMLElement>('.js-details-dialog-spinner')!\n  if (options.detailsClass) details.classList.add(...options.detailsClass.split(' '))\n  if (options.dialogClass) detailsDialog.classList.add(...options.dialogClass.split(' '))\n\n  if (options.label) {\n    detailsDialog.setAttribute('aria-label', options.label)\n  } else if (options.labelledBy) {\n    detailsDialog.setAttribute('aria-labelledby', options.labelledBy)\n  }\n\n  document.body.append(clonedDetails)\n  try {\n    const content = await options.content\n    spinner.remove()\n    detailsDialog.prepend(content)\n  } catch (error) {\n    spinner.remove()\n    // create a span with the error message\n    const errorSpan = document.createElement('span')\n    errorSpan.textContent = options.errorMessage || \"Couldn't load the content\"\n    errorSpan.classList.add('my-6')\n    errorSpan.classList.add('mx-4')\n    detailsDialog.prepend(errorSpan)\n  }\n\n  details.addEventListener('toggle', () => {\n    if (details.hasAttribute('open')) return\n    fire(detailsDialog, 'dialog:remove')\n    details.remove()\n  })\n\n  return detailsDialog\n}\n","import type {SafeHTMLString} from '@github-ui/safe-html'\n\nexport type QueryBuilderAction = URLAction | QueryAction | RewriteQueryAction | CommandAction\nexport enum SearchScopeText {\n  DIRECTORY = 'Search in this directory',\n  ORG = 'Search in this organization',\n  OWNER = 'Search in this owner',\n  REPO = 'Search in this repository',\n  GITHUB = 'Search all of GitHub',\n  GENERAL = 'Submit search',\n  COMMAND = 'Run command',\n  COPILOT_CHAT = 'Start a new Copilot thread',\n  COPILOT_SEARCH = 'Search with Copilot',\n  EXPLORE = 'Learn More',\n  DEFAULT = 'Jump to',\n}\n\nexport const AutocompleteText = 'Autocomplete'\n\nexport type Provider = SearchProvider | FilterProvider\n\nexport interface Parser<IntermediateRepresentation> {\n  // Note, the intermediate representation data will be available within\n  // providers on the QueryEvent as QueryEvent.parsedMetadata\n  parse(input: string, caretPosition: number | undefined): IntermediateRepresentation\n\n  // Flattens the intermediate representation into a list of QueryElements that\n  // can be styled by QueryBuilder\n  flatten(input: IntermediateRepresentation): QueryElement[]\n}\n\ninterface FilterItemData {\n  filter: string\n  value: string\n  name?: string\n  description?: string\n  inlineDescription?: boolean\n  priority?: number\n  icon?: Icon\n  avatar?: Avatar\n  action?: QueryBuilderAction\n}\n\nexport interface Avatar {\n  type: 'user' | 'org' | 'team'\n  url: string\n}\n\n/**\n * FilterItem represents a value that can be used in a filter. Some examples:\n * - filter is `repo:`, value is `github/github`\n * - filter is `author:`, value is `@keithamus`\n */\nexport class FilterItem extends Event {\n  public name: string\n  public filter: string\n  public value: string\n  public description: string\n  public inlineDescription = false\n  public action?: QueryBuilderAction\n  public priority: number\n  public icon?: Icon\n  public avatar?: Avatar\n\n  constructor({\n    filter,\n    value,\n    name = '',\n    description = '',\n    inlineDescription = false,\n    priority = Infinity,\n    icon = undefined,\n    avatar = undefined,\n    action,\n  }: FilterItemData) {\n    super('filter-item')\n    this.filter = filter\n    this.value = value\n    this.name = name\n    this.description = description\n    this.inlineDescription = inlineDescription\n    this.priority = priority\n    this.icon = icon\n    this.avatar = avatar\n    this.action = action\n  }\n}\n\n/* URLAction represents the URL a SearchItem will navigate to when enacted on */\ninterface URLAction {\n  url: string\n}\n\n/* QueryAction Represents the new Query String that a SearchItem will populate\n * the query-builder input with, when enacted on*/\ninterface QueryAction {\n  query: string\n}\n\ninterface RewriteQueryAction {\n  // Replaces the entire query with the provided string\n  replaceQueryWith: string\n  // The position in the query to move the caret to\n  moveCaretTo: number\n}\n\ninterface CommandAction {\n  commandName: string\n  data: Record<string, unknown>\n}\n\nexport interface CustomIcon {\n  html: SafeHTMLString\n}\n\nexport function isCustomIcon(icon: Icon): icon is CustomIcon {\n  return icon instanceof Object\n}\n\nexport enum Octicon {\n  Apps = 'apps',\n  Archived = 'archived',\n  Book = 'book',\n  Bookmark = 'bookmark',\n  Branch = 'branch',\n  Calendar = 'calendar',\n  Circle = 'circle',\n  Code = 'code',\n  CodeReview = 'code-review',\n  CodeSquare = 'code-square',\n  Comment = 'comment',\n  CommentDiscussion = 'comment-discussion',\n  Copilot = 'copilot',\n  CopilotError = 'copilot-error',\n  Codespaces = 'codespaces',\n  CreditCard = 'credit-card',\n  Default = 'default',\n  DeviceDesktop = 'device-desktop',\n  DeviceMobile = 'device-mobile',\n  Discussion = 'discussion',\n  Draft = 'draft',\n  FileCode = 'file-code',\n  Filter = 'filter',\n  Forbidden = 'forbidden',\n  Gift = 'gift',\n  Globe = 'globe',\n  Heart = 'heart',\n  History = 'history',\n  Issue = 'issue',\n  IssueOpened = 'issue-opened',\n  IssueClosed = 'issueClosed',\n  Iterations = 'iterations',\n  Mention = 'mention',\n  Merged = 'merged',\n  Milestone = 'milestone',\n  No = 'no',\n  Not = 'not',\n  Organization = 'organization',\n  Package = 'package',\n  Pencil = 'pencil',\n  Person = 'person',\n  Play = 'play',\n  PlusCircle = 'plus-circle',\n  Project = 'project',\n  PullRequest = 'pullRequest',\n  Question = 'question',\n  Reaction = 'reaction',\n  Repo = 'repo',\n  Rocket = 'rocket',\n  Search = 'search',\n  Server = 'server',\n  ShieldCheck = 'shield-check',\n  SingleSelect = 'single-select',\n  Sort = 'sort',\n  Tag = 'tag',\n  Team = 'team',\n  Telescope = 'telescope',\n  Trash = 'trash',\n  Workflow = 'workflow',\n}\n\nexport enum PrefixColor {\n  Entity = '--color-prettylights-syntax-entity',\n  Constant = '--color-prettylights-syntax-constant',\n  Keyword = '--color-prettylights-syntax-keyword',\n  Variable = '--color-prettylights-syntax-variable',\n  String = '--color-prettylights-syntax-string',\n}\n\nexport type Icon = Octicon | CustomIcon\n\ninterface SearchItemData {\n  id?: string\n  priority: number\n  value: string\n  action: QueryBuilderAction\n  description?: string\n  icon?: Icon\n  scope?: keyof typeof SearchScopeText\n  prefixText?: string\n  prefixColor?: PrefixColor\n\n  // If set, the item will only be rendered if no other providers\n  // sent items.\n  isFallbackSuggestion?: boolean\n  isUpdate?: boolean\n}\n\n/* SearchItem represents a result that appears in the results list, and has an action for a user to enact on */\nexport class SearchItem extends Event {\n  public id?: string\n  public priority: number\n  public value: string\n  public action: QueryBuilderAction\n  public description: string\n  public icon?: Icon\n  public scope: keyof typeof SearchScopeText\n  public prefixText?: string\n  public prefixColor?: PrefixColor\n  public isFallbackSuggestion: boolean\n\n  constructor({\n    id,\n    priority,\n    value,\n    action,\n    description = '',\n    icon = undefined,\n    scope = 'DEFAULT',\n    prefixText,\n    prefixColor,\n    isFallbackSuggestion,\n    isUpdate,\n  }: SearchItemData) {\n    super(isUpdate ? 'update-item' : 'search-item')\n    this.id = id\n    this.priority = priority\n    this.value = value\n    this.prefixText = prefixText\n    this.prefixColor = prefixColor\n    this.action = action\n    this.description = description\n    this.icon = icon\n    this.scope = scope\n    this.isFallbackSuggestion = isFallbackSuggestion || false\n  }\n}\n\nexport interface SearchProvider extends EventTarget {\n  priority: number\n  icon?: Icon\n  name: string // plural group name (i.e. \"repositories\" or \"teams\") - will be the visual header\n  description?: string\n  singularItemName: string // singular name for an item (i.e. \"repository\" or \"team\") to construct a meaningful aria-label, doesn't appear visually\n  value: string // visual name of the filter (i.e. \"is:\")\n  type: 'search'\n}\n\nexport interface FilterProvider extends EventTarget {\n  priority: number\n  icon?: Icon\n  name: string // plural group name (i.e. \"repositories\" or \"teams\") - will be the visual header\n  description?: string\n  singularItemName: string // singular name for an item (i.e. \"repository\" or \"team\") to construct a meaningful aria-label, doesn't appear visually\n  value: string // visual name of the filter (i.e. \"is:\")\n  type: 'filter'\n  // When set, if a filter provider emits filter items, always render them in the UI. If not set,\n  // filter items will only be rendered if the querybuilder thinks a filter item is being written\n  // by the user, which may be incorrect if using a custom parser.\n  manuallyDetermineFilterEligibility?: boolean\n}\n\nexport type QueryElement = QueryFilterElement | QueryTextElement\n\nexport interface QueryFilterElement {\n  type: 'filter'\n  filter: string\n  value: string\n  style?: TextElementStyle\n}\n\nexport interface QueryTextElement {\n  type: 'text'\n  value: string\n  style?: TextElementStyle\n}\n\nexport enum TextElementStyle {\n  Normal = 'normal',\n  Entity = 'entity',\n  Constant = 'constant',\n  FilterValue = 'filter-value',\n}\n\nexport class FetchDataEvent extends Event {\n  constructor(public fetchPromise: Promise<unknown>) {\n    super('fetch-data')\n  }\n}\n\nexport class QueryEvent extends Event {\n  constructor(\n    public parsedQuery: QueryElement[],\n    public rawQuery: string,\n    public parsedMetadata: unknown,\n  ) {\n    super('query')\n  }\n\n  override toString() {\n    return this.rawQuery\n  }\n}\n\nclass QueryBuilderProvider extends Event {\n  constructor(public provider: SearchProvider) {\n    super('query-builder-provider', {bubbles: true})\n  }\n}\n\ndeclare global {\n  interface Document {\n    addEventListener(type: 'query-builder-provider', handler: (event: QueryBuilderProvider) => void): void\n  }\n}\n","import {dialog} from '@github-ui/details-dialog'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\nimport type {Kicker} from '@github/remote-form'\nimport {remoteForm} from '@github/remote-form'\nimport {webauthnSupportLevel} from '@github-ui/webauthn-support-level'\n\nlet sudoPromptExist = false\n\n/**\n * Take a URL and add webauthn params to it.\n *\n * @param {string} oldURL - The old URL.\n * @returns {string} - The new URL with added params.\n */\nfunction urlWithParams(oldURL: string): string {\n  const newURL = new URL(oldURL, window.location.origin)\n  const params = new URLSearchParams(newURL.search.slice(1))\n  params.set('webauthn-support', webauthnSupportLevel())\n  newURL.search = params.toString()\n  return newURL.toString()\n}\n\nasync function loadPromptTemplate(): Promise<HTMLTemplateElement> {\n  const link = document.querySelector<HTMLLinkElement>('link[rel=sudo-modal]')!\n  const template = document.querySelector('.js-sudo-prompt')\n  if (template instanceof HTMLTemplateElement) {\n    return template\n  } else if (link) {\n    const fragment = await fetchSafeDocumentFragment(document, urlWithParams(link.href))\n    document.body.appendChild(fragment)\n    return document.querySelector<HTMLTemplateElement>('.js-sudo-prompt')!\n  } else {\n    throw new Error(\"couldn't load sudo prompt\")\n  }\n}\n\nlet succeeded = false\n\n/**\n * Provide a sudo prompt, and return when it has been filled in or dismissed.\n *\n * @returns {Promise<boolean>} - Resolves to `true` if the user successfully authed with sudo.\n */\nexport async function sudoPrompt(currentTarget?: HTMLElement): Promise<boolean> {\n  if (sudoPromptExist) return false\n  sudoPromptExist = true\n  succeeded = false\n  const template = await loadPromptTemplate()\n  const content = template.content.cloneNode(true)\n  const prompt = await dialog({content})\n\n  // open/expanded HTML5 <details> can potentially steal focus from the dialog (https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details)\n  // Example bug: https://github.com/github/authentication/issues/2208\n  // close the open details element that triggered this sudo challenge\n  const details = currentTarget?.closest('details[open]') as HTMLElement\n  if (details) {\n    details.removeAttribute('open')\n  }\n\n  await new Promise<void>(resolve => {\n    prompt.addEventListener(\n      'dialog:remove',\n      function () {\n        // re-add the open attribute to the details that we closed above\n        if (details) {\n          details.setAttribute('open', 'open')\n        }\n        sudoPromptExist = false\n        resolve()\n      },\n      {once: true},\n    )\n  })\n  return succeeded\n}\n\nasync function sudoModalErrorOrClose(\n  form: HTMLFormElement,\n  wants: Kicker,\n  unauthorizedError = 'Sudo authentication failed.',\n  tooManyError = 'Too many authentication attempts. Please try again later.',\n  errorSelector = '.js-sudo-error',\n  inputElementSelector?: string,\n) {\n  try {\n    await wants.text()\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (!error.response) throw error\n    let errorMessage\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    switch (error.response.status) {\n      case 401:\n        errorMessage = unauthorizedError\n        break\n      case 429:\n        errorMessage = tooManyError\n        break\n      default:\n        errorMessage = 'An unknown error occurred. Please try again later.'\n    }\n\n    form.querySelector<HTMLElement>(errorSelector)!.textContent = errorMessage\n    form.querySelector<HTMLElement>(errorSelector)!.hidden = false\n    if (inputElementSelector) {\n      form.querySelector<HTMLInputElement>(inputElementSelector)!.value = ''\n    }\n\n    // rethrow error if not expected, only after surfacing it in flash\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.response.status !== 401 && error.response.status !== 429) {\n      throw error\n    }\n\n    return\n  }\n  succeeded = true\n  form.closest<HTMLElement>('details')!.removeAttribute('open')\n}\n\nremoteForm('.js-sudo-webauthn-form', async function (form, wants) {\n  await sudoModalErrorOrClose(form, wants)\n})\n\nremoteForm('.js-sudo-github-mobile-form', async function (form, wants) {\n  await sudoModalErrorOrClose(form, wants)\n})\n\nremoteForm('.js-sudo-totp-form', async function (form, wants) {\n  await sudoModalErrorOrClose(form, wants, undefined, undefined, '.flash-error', '#totp')\n})\n\nremoteForm('.js-sudo-password-form', async function (form, wants) {\n  await sudoModalErrorOrClose(\n    form,\n    wants,\n    'Incorrect password.',\n    'Too many password attempts. Please wait and try again.',\n    undefined,\n    '.js-sudo-password',\n  )\n})\n\n/**\n * Check if user is in sudo mode. If not, show a sudo prompt.\n *\n * @returns {Promise<boolean>} - Will be `true` if user is in or got in sudo mode after prompt.\n */\nexport default async function triggerSudoPrompt(currentTarget?: HTMLElement): Promise<boolean> {\n  const response = await fetch('/sessions/in_sudo', {\n    headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n  if (response.ok) {\n    const sudoResponse = await response.text()\n    if (sudoResponse === 'true') {\n      return true\n    }\n  }\n  return sudoPrompt(currentTarget)\n}\n\nexport async function fetchSessionInSudo(): Promise<boolean> {\n  const response = await fetch('/sessions/in_sudo', {\n    headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n  if (response.ok) {\n    const sudoResponse = await response.text()\n    if (sudoResponse === 'true') {\n      return true\n    }\n  }\n  return false\n}\n","import {supported as webauthnSupported} from '@github/webauthn-json/browser-ponyfill'\n\n// Note: the default feedback value stored in the form is 'unknown', but that\n// should not be used unless the JS fails to run.\ntype WebauthnSupportLevel = 'supported' | 'unsupported'\n\n// Calculates a string value to send to the server.\nexport function webauthnSupportLevel(): WebauthnSupportLevel {\n  return webauthnSupported() ? 'supported' : 'unsupported'\n}\n\n// Calculates a string value to send to the server.\nexport async function iuvpaaSupportLevel(): Promise<WebauthnSupportLevel> {\n  if (await window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable()) {\n    return 'supported'\n  }\n  return 'unsupported'\n}\n"],"names":["replaceAndRefocus","target","partial","elementToRefocus","partialContent","querySelector","focusedElement","ownerDocument","activeElement","HTMLElement","generateCssSelectorForElement","element","tagName","toLowerCase","classNames","hasAttribute","className","split","join","id","name","getAttribute","replaceWith","focus","resetNewCodespacePageWithResponseError","urlParams","URLSearchParams","url","URL","document","location","href","window","origin","search","set","replace","pathname","toString","on","warning","hidden","remoteForm","form","wants","container","closest","submitButton","HTMLInputElement","disabled","classList","remove","add","setAttribute","response","html","status","newFormData","FormData","updateNewCodespaceUrl","paramsKeysToReject","key","value","entries","includes","delete","history","replaceState","e","loadingState","advanceLoadingState","state","loadingSteps","observe","constructor","el","currentState","targetState","cascadeToken","insertCodespaceTokenIntoShowAuthForm","token","insertCodespaceTokenIntoCascadeField","cascadeField","insertCodespaceTokenIntoPartnerInfo","partnerInfoField","partnerInfoData","requestSubmit","HTMLFormElement","initialize","cascadeTokenField","resolveCascadeToken","mintTokenForm","_form","payload","json","waitForCascadeTokenWithTimeout","cb","timeout","start","Date","now","checkInterval","setInterval","elapsed","clearInterval","undefined","setPreferredColorModeCookie","setCookie","getPreferredColorMode","prefersColorScheme","scheme","matchMedia","matches","setClientMode","mode","rootEl","setClientTheme","theme","type","getClientTheme","getColorMode","fallback","getColorModeAttribute","ready","mediaQuery","addEventListener","addListener","sendData","hydroEventPayload","hydroEventHmac","hydroClientContext","data","visitorPayload","visitorHmac","HTMLMetaElement","content","sendStats","trackView","sendHydroEvent","WaitingFormElement","submitPolitely","submit","prerequisites","length","Promise","all","map","participant","getPrerequisitePromise","promiseMethodName","targets","controller","SocialAccountEditorElement","recognizeUrl","recognitionPromise","resolve","preprocessUrl","matchingOption","findMatchingSocialAccountIconOption","urlField","setChosenSocialIcon","resetToDefault","defaultValue","changeValue","waitForRecognition","trim","test","chosenOption","chosenKey","choice","iconOptions","iconSpinner","iconField","patternElement","querySelectorAll","pattern","findNodeInfoIconOption","iconGeneric","nodeinfoSoftwareUrl","nodeInfoCandidates","Map","nodeInfoElement","expectedSoftware","match","size","parsedURL","showSpinner","u","searchParams","host","checkResponse","fetch","headers","Accept","checkDocument","softwareName","get","attr","event","oldValue","newControl","newTabPanel","detail","relatedTarget","tabContainer","currentTarget","controlInput","FilterInputElement","RemoteInputElement","isNewControl","input","newInput","HTMLDetailsElement","open","ActionsPolicyFormElement","connectedCallback","toggleSpecificOptions","selectRadio","checked","specificOptions","PublicIpElement","isAllowed","checkboxChanged","publicIpEnabled","checkbox","description","labelSection","attrPrefix","select","initialValue","options","find","option","AdvancedSecurityNewReposElement","toggle","dialog","HTMLDialogElement","showModal","show","stopPropagation","confirm","close","originalErrorMessage","ActionsPolicyPopoverElement","togglePopover","popoverEl","updateUrlParams","getState","selection","architectureMenu","os","defaultArchitecture","elementOS","click","capture","downloadUrl","filename","hash","textContent","architecture","updateAdvancedSecurityEntity","page","entityList","showOnError","loadingElement","dataContainer","handleErrorState","src","srcURL","newSrc","pager","pagerLoadingElement","hideable","removeAttribute","children","fetchSafeDocumentFragment","appendChild","retrieveAdvancedSecurityEntities","containers","params","param","pageNumber","parseInt","isNaN","findContainerWithRef","refToFind","ref","hrefURL","has","append","pushState","preventDefault","AppearanceFormElement","modeSelectChange","modeName","activatePanel","activateForm","activeForm","panel","modePanels","selectedInputs","currentMode","userTheme","changeTheme","selectedInput","dispatchEvent","Event","themeClicked","themeType","saveTheme","formData","action","method","body","AppearancePreviewElement","checkActive","themePreview","disc","preview","themePreviews","previewReset","selectedTheme","boxElement","activeLabel","updateLogoBackgroundColor","bgcolor","bgcolorEl","style","backgroundColor","noticeContainer","responseError","setTimeout","onInput","color","checkValidity","contains","debounce","selectedRepositories","toggleRepoVisibilityFromResults","menu","ids","Array","from","anyVisible","item","noRepo","updateFormValidity","selectRepos","toggleEnable","enable","button","HTMLButtonElement","updateRepositoriesSelectedCopy","count","repoCountEl","pickedCountainer","result","cloneNode","prepend","isMaxRepositoriesSelected","max","row","repoSection","reload","DefaultLocationSettingElement","changeManuallySelected","manualRadioButton","regionSelect","regionSelected","changeAutoSelected","autoRadioButton","submitSelectedRegion","selectedRegion","region","locationForm","parseHTML","text","settingContainer","submitUserSettingsForm","selectedItems","info","parentElement","repositoryContainer","repoControl","createActionListItem","repositoryName","repositoryId","createElement","repoIdInput","span","label","inputContainer","hiddenInput","template","after","TemplateInstance","message","updateSelectedRepositoryCount","String","repoName","createRepositoryRow","title","field","regex","formGroup","setCustomValidity","DependabotAlertRuleFormElement","toggleRuleCheckbox","focusAlertCriteriaIfInvalid","rule","ruleOptions","selectedRuleOption","dependabotUpdatesEnabled","untilPatchRuleOption","selectedRuleOptionDidChange","updateRule","queryBuilderInput","focused","eventTarget","memoizeCache","memoizeFetchJSON","memoize","fetchJSON","cache","ok","BaseProvider","EventTarget","fetchSuggestions","suggestionConfigurationAttribute","JSON","parse","getSearchInput","suggestionConfigurationPath","hasSuggestionConfiguration","handleEvent","lastQuery","parsedQuery","at","lastQueryValue","lastQueryType","lastQueryFilter","filter","hasMatch","suggestions","suggestion","FetchDataEvent","filteredSuggestions","query","sort","a","b","aValueMatch","bValueMatch","score","reverse","slice","filterItem","FilterItem","singularItemName","priority","queryBuilder","attachProvider","SeverityProvider","PackageProvider","EcosystemProvider","ScopeProvider","ManifestProvider","CWEProvider","CVEProvider","GHSAProvider","submitAndUpdate","submitAndUpdateForm","replaceEndWith","separator","replacement","parts","markCallbackUrlsRequired","required","formGroups","formGroupsLength","setupUrlField","helpTextForRedirectOnUpdate","updateSetupUrlHint","setupUrlHint","enableFormSubmission","updatePermissionsButton","getElementById","toggleMetadataSelectionMenu","readOn","metadataReadInput","addPath","list","path","DocumentFragment","handleInput","inputs","checkTarget","getCheckTargetSrc","link","innerHTML","fetchKeysList","root","fragment","enabledCheckedAndDisabledScopes","scope","newTokenForm","removeFromSelectedBy","actor","selectedBy","fetchSelectedByArray","removeItemFromArray","arr","index","indexOf","splice","updateDependencyGraph","addToSelectedBy","push","autoComplete","onKey","unsubscribeButton","changed","some","defaultChecked","hiddenInputId","inputValue","insertAdjacentHTML","getTime","formInput","placeholder","redirectOnUpdateHint","permission","resource","hookEvents","permissionContainers","error","readOnly","selectedList","checkedHookEventNodes","flatMap","toggleHookUrlRequired","active","hookUrlField","hookUrlFieldContainer","noRepoPermissionSelected","noneSelected","repoPermission","errorMessage","Element","removeChild","newUrlForm","urlForm","parentNode","insertBefore","callbackUrl","urls","nextElementSibling","wrapper","errLabel","errContainer","keyId","toggleScopeSubsets","parent","currentPermission","selectedPermissionInput","repositoryAccessDialog","selectedReposLabel","enableSaveSecretButton","newValueInputGroup","updateVariablesSelectedRepositoryCount","updateCollapsibleContainerStyles","toggleState","box","rowCount","updateElText","selector","updateRepositoryCount","repoSelectorRadio","selectionType","RepoSelectionType","None","Selected","updatePermissionSummary","permissionType","permissionEls","selectedPermissionEls","dataSelector","dataPermissionAttribute","updatePermissionCounts","summaryContainerSelector","summaryContainer","summaryContainerEl","listEl","child","permissionEl","appendPermissionSummary","permissionName","permissionLevel","nameEl","levelEl","ToggleState","Open","Close","updateExpiration","expirationSelect","expirationValue","customDate","dateString","formatDateString","calculateDate","date","setDate","getDate","Number","PermissionType","Organization","Repository","User","Intl","DateTimeFormat","weekday","month","day","year","format","verifyAuthorization","displayAuthorizationSectionFor","request","Request","err","resolvedSection","sectionSelector","Object","values","AuthorizationState","section","setInitialValues","details","filterList","elementText","itemText","hideNew","toggleHeader","availability","filterParent","header","showError","context","hideErrors","handleInviteResponse","group","teamId","handleTeamAdd","withoutAccess","resetInviteForm","seatsString","availableSeatsEl","toggleHidden","els","reenableAllRoles","inpts","rInpt","roleDiv","toggleRoleBadge","badge","currentToggle","hiddenToggle","selected","CustomEvent","nameInput","valid","selectedRepoListObserver","MutationObserver","childList","subtree","resetPermissions","toggleRepoPermissionVisibility","permissionSection","grantForm","grantSummary","filterEl","toggleNoResults","noResults","selectedRepoInput","createRepoInput","dataFormFieldName","existing","teamIdField","entry","handleTeamRemove","team","selectLabel","selectionBadge","itemSelectionBadge","baseRoleBadge","memberType","orgAdmin","roleInputs","allInputs","rI","baseRoleCheckBox","setMergeQueueSettings","protectedBranchNameInput","mergeQueueCheckbox","mergeQueueSettings","mergeQueueWarning","protectedBranchNamePattern","mergeQueueCheckboxLabel","mergeQueueShouldBeDisabled","alert","toggleMaxAllowedPushers","allowedPushers","allowedPushersLimit","allowedPushersCount","checkCertificateStatus","checkDomainStatus","getPageSourceSubmitBtn","getPageSource","source","indicator","repoOption","warningSelector","endsWith","numericContainer","numericInput","statusIndicator","flashComponent","completer","searchValue","autocompleter","found","CSS","escape","childElementCount","createProtectedToggle","restrictPushersToggle","replaceChildren","msg","merge_strategy","merge_strategy_input","merge_strategy_warning","tabIndex","ariaChecked","radio","block_merge_commits","linear_history_warning","userOrTeam","previousElementSibling","removeButton","addThrottledInputEventListener","pageSourceBranch","pageSourceDir","sourceDirSelector","branchIcon","warningObject","sourceDir","restoreStatus","disableRestoreButton","summary","dataStore","WeakMap","stateChangedCheckboxes","loadMoreRepositoryItems","loadMoreButton","repositorySelectionComponent","timesLoaded","fetchItemsAsync","fire","setUpdateSelectionButtonState","updateSelectionButton","itemsCountContainer","resetVisibilityModal","modal","newVisibility","transitionVisibilityModalTo","addHiddenFormInput","stage","replacementWarningTemplate","replacementButtonTemplate","replacementButtonTemplateClone","replacementWarningTemplateClone","warningContainer","existingButtonContainer","warningContent","transitionDeleteModalTo","selectionComponent","changedSet","Set","detailsDialog","updateMainFormSelectedRepositoryCount","keys","dialogId","once","nextStage","numberOfStars","repoNwo","proceed","RetentionFormElement","validate","resetState","inputAllowsNil","min_string","max_string","minMessage","announceFromElement","note","maxMessage","submitOnMenuClose","labelsMenu","errorContainer","emptyContainer","togglePasskeyRegistrationButton","registerButton","u2fForm","registerRequestDataAttribute","updateDataAttribute","webauthn_register_request","stringify","helper","reloadPage","anchor","newDeviceBox","error_message","error_container","error_message_info","toggleDuplicatePasskeyMessage","duplicateMessage","toggleUpgradeConflictPasskeyMessage","conflictMessage","saveRegistration","registerResponse","sudo","for_passkey","elements","namedItem","accept","clone","handlePasskeySave","defer","nickname","passkey_type","handleSecurityKeySave","htmlString","registration","registrations","registered_security_keys_count","errorResponse","waitForWebauthnDevice","waitForPasskeyGesture","waitForSecurityKeyGesture","registerRequestJSON","create","parseCreationOptionsFromJSON","userHasSecurityKeys","userHasPasskeys","passkeyElem","iuvpaaSupportLevel","securityKeyElem","registered_passkeys_count","passkeysView","emptyView","errorDisplay","showNickname","errorText","toggleDetailsTarget","HTMLTextAreaElement","supported","continueButton","SelectedItemCountElement","updateCount","selectedCount","pluralItemsDescription","singularItemDescription","SelectedItemListElement","includeFragment","saveButton","items","hideDescription","showDescription","resetUserAddForm","enabled","setIndicator","swapEditorAndBufferValues","editor","editorBodyBuffer","oldEditorVal","attachment","backgroundImage","designatedUser","blank","ownerLogin","ownerRepos","selectMenu","pickerWrapper","picker","formElementWrapper","expirationHelperNoteWrapper","expirationWarning","expirationNoteContent","selectedIndex","humanTextAttr","selectedOption","buffer","undoLink","readmeText","readmeName","hideUndoLinkIfChanged","removeEventListener","loadReadmeButton","PagesBuildType","changeType","types","getElementsByTagName","buildWorkflow","buildLegacy","customElements","define","PagesJekyllConfig","selectedFolder","selectedBranch","refresh","selectFolder","activeItem","itemLabel","selectBranch","selectedLabel","setBranchAndPath","buttonVisual","setSubmitButton","initialBranch","initialFolder","submitForm","subdirInput","bulkDeleteButton","filters","copySelectedPatternsToBulkDeleteForm","checkedAlerts","shouldDisplayCount","countDisplayer","totalCountDisplay","patternStates","allUnpublished","every","s","allPublished","removeOnlyUnpublishedInfo","removeOnlyPublishedInfo","removePublishedAndUnpublishedInfo","publishedCount","unpublishedCount","formInputs","toggleInfoVisibility","elems","elem","countPublished","countUnpublished","publishedPlural","unpublishedPlural","i","copyInput","inputToCopy","rowVersion","stateInput","rowVersionInput","saveLinkForm","enableCheckbox","turboAction","sessionHistoryEntries","sessionHistoryOffset","safeGetHistory","Math","min","ssrSafeHistory","setState","newState","ssrSafeLocation","ssrSafeWindow","bubbles","cancelable","uniqueId","oldState","_id","initializeState","turbo","restorationIdentifier","restoreId","position","getCookie","getCookies","cookies","cookie","readCookies","expiration","strictDomain","samesite","domain","secure","protocol","expire","deleteCookie","time","toUTCString","clonedDetails","dialogTemplate","spinner","detailsClass","dialogClass","labelledBy","errorSpan","SearchScopeText","AutocompleteText","inlineDescription","Infinity","icon","avatar","isCustomIcon","Octicon","PrefixColor","SearchItem","prefixText","prefixColor","isFallbackSuggestion","isUpdate","TextElementStyle","fetchPromise","QueryEvent","rawQuery","parsedMetadata","sudoPromptExist","loadPromptTemplate","HTMLTemplateElement","urlWithParams","oldURL","newURL","webauthnSupportLevel","succeeded","sudoPrompt","prompt","sudoModalErrorOrClose","unauthorizedError","tooManyError","errorSelector","inputElementSelector","triggerSudoPrompt","sudoResponse","fetchSessionInSudo","webauthnSupported","PublicKeyCredential","isUserVerifyingPlatformAuthenticatorAvailable"],"sourceRoot":""}