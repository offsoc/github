{"version":3,"file":"chunk-ui_packages_copilot-for-business_routes_StandaloneSeatManagement_tsx-ui_packages_copilot-for--522120-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/copilot-for-business/standalone/hooks/use-seat-management-context.ts","ui/packages/copilot-for-business/standalone/helpers/enterprise-team-assignment.ts","ui/packages/copilot-for-business/standalone/hooks/use-prevent-body-scoll.ts","ui/packages/copilot-for-business/standalone/components/RemoveTeamAssignmentsDialog.tsx","ui/packages/copilot-for-business/standalone/helpers/api-endpoints.ts","ui/packages/copilot-for-business/standalone/hooks/use-create-seat-assignment.ts","ui/packages/copilot-for-business/standalone/components/RowActionsMenu.tsx","ui/packages/copilot-for-business/standalone/components/SelectableTableRow.tsx","ui/packages/copilot-for-business/standalone/components/AssignablesSort.tsx","ui/packages/copilot-for-business/standalone/hooks/use-selection-state-context.ts","ui/packages/copilot-for-business/standalone/components/NoSearchResultsBlankslate.tsx","ui/packages/copilot-for-business/standalone/components/SelectableTable.tsx","ui/packages/copilot-for-business/standalone/hooks/use-cancel-seat-assignment.ts","ui/packages/copilot-for-business/standalone/components/ActionsBar.tsx","ui/packages/copilot-for-business/standalone/components/FilterableSearch.tsx","ui/packages/copilot-for-business/standalone/components/StandaloneActionsBar.tsx","ui/packages/copilot-for-business/standalone/components/StandaloneBlankslate.tsx","ui/packages/copilot-for-business/standalone/components/PulseCheck.tsx","ui/packages/copilot-for-business/standalone/components/NewAssignmentsEstimatedCost.tsx","ui/packages/copilot-for-business/standalone/components/SelectionStateProvider.tsx","ui/packages/copilot-for-business/standalone/hooks/use-selectables.ts","ui/packages/copilot-for-business/standalone/helpers/make-selected-key.ts","ui/packages/copilot-for-business/standalone/components/Ui.tsx","ui/packages/copilot-for-business/standalone/components/AddSeatAssignmentsDialog.tsx","ui/packages/copilot-for-business/standalone/hooks/use-paginate-scroll.ts","ui/packages/copilot-for-business/routes/StandaloneSeatManagement.tsx"],"sourcesContent":["import {createContext, useContext} from 'react'\nimport type {CopilotStandaloneSeatManagementPayload} from '../types'\n\nexport const SeatManagementContext = createContext<{\n  payload: CopilotStandaloneSeatManagementPayload\n  update: React.Dispatch<React.SetStateAction<CopilotStandaloneSeatManagementPayload>>\n} | null>(null)\n\nexport function useSeatManagementContext() {\n  const context = useContext(SeatManagementContext)\n  if (!context) {\n    throw new Error('useSeatManagementContext must be used within a SeatManagementContextProvider')\n  }\n  return context\n}\n","import type {EnterpriseTeamSeatAssignment} from '../../types'\nimport type {EnterpriseTeamAssignable} from '../types'\n\nconst formattedCancellationDate = (seatAssignment: EnterpriseTeamSeatAssignment) => {\n  if (!seatAssignment.pending_cancellation_date) {\n    return ''\n  }\n\n  const date = new Date(seatAssignment.pending_cancellation_date)\n  const localDate = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate())\n\n  return localDate.toLocaleDateString('default', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  })\n}\n\nconst isPendingCreation = (assignment: EnterpriseTeamSeatAssignment) =>\n  !assignment.id && assignment.status === 'pending_creation'\nconst isPendingCancellation = (assignment: EnterpriseTeamSeatAssignment) => !!assignment.pending_cancellation_date\nconst isPendingReassignment = (assignment: EnterpriseTeamSeatAssignment) => assignment.status === 'pending_reassignment'\nconst isPendingUnassignment = (assignment: EnterpriseTeamSeatAssignment) => assignment.status === 'pending_unassignment'\nconst isStable = (assignment: EnterpriseTeamSeatAssignment) => assignment.status === 'stable'\n\n// This really shouldnt live here as it is tied to the UI, but I'm not sure where else\n// to expose it from.\nconst isSelectable = (assignment: EnterpriseTeamSeatAssignment) => {\n  return (\n    !EnterpriseTeamAssignment.isPendingCreation(assignment) &&\n    !EnterpriseTeamAssignment.isPendingCancellation(assignment) &&\n    !EnterpriseTeamAssignment.isPendingReassignment(assignment) &&\n    !EnterpriseTeamAssignment.isPendingUnassignment(assignment)\n  )\n}\n\nconst toRemotePayload = (assignment: EnterpriseTeamSeatAssignment): EnterpriseTeamAssignable => {\n  return {\n    id: assignment.assignable.id,\n    name: assignment.assignable.slug,\n    type: assignment.assignable_type,\n  }\n}\n\nconst selectedAssignmentsInjector = <T>(\n  selected: string[],\n  assignments: EnterpriseTeamSeatAssignment[],\n  mapper: (assignment: EnterpriseTeamSeatAssignment, inject: T) => T,\n  inject: T,\n): T => {\n  return selected.reduce((injected, key) => {\n    const [_, _id] = key.split('_')\n    const id = Number(_id)\n    const seatAssignment = assignments.find(assignment => assignment.assignable.id === id)\n\n    if (!seatAssignment) {\n      return injected\n    }\n\n    return mapper(seatAssignment, injected)\n  }, inject)\n}\n\nexport const EnterpriseTeamAssignment = {\n  formattedCancellationDate,\n  isPendingCreation,\n  isPendingCancellation,\n  isPendingReassignment,\n  isPendingUnassignment,\n  isStable,\n  isSelectable,\n  toRemotePayload,\n  selectedAssignmentsInjector,\n}\n","import {useEffect} from 'react'\n\nexport function usePreventBodyScroll({isActive}: {isActive: boolean}) {\n  useEffect(() => {\n    document.body.style.overflow = isActive ? 'hidden' : 'initial'\n\n    return () => {\n      document.body.style.overflow = 'initial'\n    }\n  }, [isActive])\n}\n","import {Box, Text} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport type {EnterpriseTeamAssignable, EnterpriseTeamAssignables} from '../types'\nimport {pluralize} from '../../helpers/text'\nimport {usePreventBodyScroll} from '../hooks/use-prevent-body-scoll'\nimport {CopilotFlash} from '../../components/CopilotFlash'\n\nfunction RemovalDialogText(props: {toCancel: EnterpriseTeamAssignables}) {\n  const {toCancel} = props\n\n  if (toCancel.length === 1) {\n    return (\n      <Text as=\"span\" sx={{fontWeight: 600}}>\n        {toCancel[0]?.name}\n      </Text>\n    )\n  }\n\n  return (\n    <>\n      <Text as=\"span\" sx={{fontWeight: 600}}>\n        {toCancel.length}\n      </Text>{' '}\n      teams\n    </>\n  )\n}\n\ntype Props = {\n  isOpen: boolean\n  onConfirm: () => void\n  onCancel: () => void\n  toCancel: EnterpriseTeamAssignable | EnterpriseTeamAssignables\n  error?: string\n}\n\nexport function RemoveTeamAssignmentsDialog(props: Props) {\n  const {onConfirm, onCancel, isOpen, error, toCancel} = props\n\n  usePreventBodyScroll({isActive: isOpen})\n\n  if (!isOpen) {\n    return null\n  }\n\n  const pendingCancelled = Array.isArray(toCancel) ? toCancel : [toCancel]\n  const dualGrammaticalTeam = pluralize(pendingCancelled.length, 'team', 's', false)\n\n  return (\n    <Dialog\n      title={`Cancel ${dualGrammaticalTeam} access`}\n      renderBody={() => (\n        <Box sx={{p: 3}}>\n          {error && (\n            <CopilotFlash variant=\"danger\" sx={{mb: 2}}>\n              {error}\n            </CopilotFlash>\n          )}\n          <p>\n            Please confirm you want to remove access for <RemovalDialogText toCancel={pendingCancelled} /> to Copilot\n            Business.\n          </p>\n          <p>\n            The seats will be removed and users will lose access to Copilot Business at the end of the billing period.\n          </p>\n        </Box>\n      )}\n      onClose={onCancel}\n      footerButtons={[\n        {content: 'Cancel', onClick: onCancel, sx: {mr: 2}},\n        {\n          content: `Remove ${dualGrammaticalTeam} access`,\n          onClick: onConfirm,\n          buttonType: 'danger',\n        },\n      ]}\n    />\n  )\n}\n\ntry{ RemovalDialogText.displayName ||= 'RemovalDialogText' } catch {}\ntry{ RemoveTeamAssignmentsDialog.displayName ||= 'RemoveTeamAssignmentsDialog' } catch {}","import {buildTemplate} from '../../helpers/template'\n\nconst endpoint = '/enterprises/{slug}/enterprise_licensing/copilot'\nconst csvEndpoint = `/enterprises/{slug}/enterprise_licensing/copilot/seat_management/download_usage`\n\nexport const standaloneCSVEndpoint = buildTemplate(csvEndpoint)\nexport const standaloneSeatManagementEndpoint = buildTemplate(endpoint)\n","import {useCreateMutator} from '../../hooks/use-fetchers'\nimport {standaloneSeatManagementEndpoint} from '../helpers/api-endpoints'\nimport type {EnterpriseTeamAssignable} from '../types'\nimport {useCallback, useState} from 'react'\n\ntype Configs<Response> = {\n  owner: string\n  onError?: () => void\n  onComplete?: (data: Response) => void\n}\n\nexport function useCreateSeatAssignment<Response>({owner, onComplete, onError}: Configs<Response>) {\n  const [error, setError] = useState('')\n\n  const useRemoteMutation = useCreateMutator(standaloneSeatManagementEndpoint, {slug: owner})\n  const [handler] = useRemoteMutation<{enterprise_team_ids: number[]}, Response>({\n    resource: 'seat_management',\n    method: 'POST',\n  })\n\n  const createAssignment = useCallback(\n    (assignments: EnterpriseTeamAssignable | EnterpriseTeamAssignable[]) => {\n      const ids = Array.isArray(assignments) ? assignments.map(a => a.id) : [assignments.id]\n      handler({\n        payload: {enterprise_team_ids: ids},\n        onComplete: data => {\n          setError('')\n          data && onComplete?.(data)\n        },\n        onError: () => {\n          setError('Something went wrong. Please try again later.')\n          onError?.()\n        },\n      })\n    },\n    [handler, onComplete, onError],\n  )\n\n  return {createAssignment, error}\n}\n","import {KebabHorizontalIcon} from '@primer/octicons-react'\nimport {ActionMenu, IconButton, ActionList} from '@primer/react'\nimport {useRef} from 'react'\n\ntype Props = React.PropsWithChildren<{\n  isVisible: boolean\n  testId?: string\n}>\n\nexport function RowActionsMenu(props: Props) {\n  const {isVisible, testId} = props\n\n  const returnFocusRef = useRef(null)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <ActionMenu>\n      <ActionMenu.Anchor>\n        {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n        <IconButton\n          unsafeDisableTooltip={true}\n          icon={KebabHorizontalIcon}\n          variant=\"invisible\"\n          aria-label=\"Open column options\"\n          ref={returnFocusRef}\n          data-testid={testId}\n          sx={{height: '28px', width: '28px'}}\n        />\n      </ActionMenu.Anchor>\n      <ActionMenu.Overlay>\n        <ActionList selectionVariant=\"single\">{props.children}</ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ RowActionsMenu.displayName ||= 'RowActionsMenu' } catch {}","import SeatAssignable from '../../traditional/components/SeatAssignable'\nimport type {EnterpriseTeamSeatAssignment} from '../../types'\nimport {Box, ActionList, RelativeTime} from '@primer/react'\nimport {EnterpriseTeamAssignment} from '../helpers/enterprise-team-assignment'\nimport type {EnterpriseTeamAssignable} from '../types'\nimport {RowActionsMenu} from './RowActionsMenu'\nimport type React from 'react'\nimport {SeatCheckboxControl} from '../../components/table/seat-checkbox-control/SeatCheckboxControl'\n\nfunction Status(props: {seatAssignment: EnterpriseTeamSeatAssignment}) {\n  const {seatAssignment} = props\n\n  let text: React.ReactNode = ''\n\n  if (\n    EnterpriseTeamAssignment.isPendingCreation(seatAssignment) ||\n    EnterpriseTeamAssignment.isPendingReassignment(seatAssignment)\n  ) {\n    text = 'Pending assignment'\n  } else if (seatAssignment.pending_cancellation_date) {\n    text = `Access will be removed on ${EnterpriseTeamAssignment.formattedCancellationDate(seatAssignment)}`\n  } else if (EnterpriseTeamAssignment.isPendingUnassignment(seatAssignment)) {\n    text = 'Pending unassignment'\n  }\n\n  if (!text) {\n    text = <LastUsage seatAssignment={seatAssignment} />\n  }\n\n  return (\n    <Box as=\"span\" className=\"flex-shrink-0 pr-3\" sx={{textAlign: 'center', color: 'fg.muted', fontSize: 12}}>\n      {text}\n    </Box>\n  )\n}\n\nfunction LastUsage(props: {seatAssignment: EnterpriseTeamSeatAssignment}) {\n  const {seatAssignment} = props\n\n  return (\n    <>\n      {seatAssignment.last_activity_at ? (\n        <>\n          Last active <RelativeTime date={new Date(seatAssignment.last_activity_at)} data-testid=\"last-usage\" />\n        </>\n      ) : (\n        'No activity yet'\n      )}\n    </>\n  )\n}\n\ntype TableRowProps = {\n  checked: boolean\n  handleCheck: () => void\n  handleCancel: () => void\n  handleRestore: (assignment: EnterpriseTeamAssignable) => void\n  seatAssignment: EnterpriseTeamSeatAssignment\n  owner: string\n  withRowActions?: boolean\n  disabled?: boolean\n  statusInfo?: (props: React.PropsWithChildren<object>) => JSX.Element\n}\n\nexport function SelectableTableRow(props: TableRowProps) {\n  const {checked, handleCheck, seatAssignment, handleCancel, handleRestore, withRowActions = true} = props\n\n  const isDisabled =\n    EnterpriseTeamAssignment.isPendingCreation(seatAssignment) ||\n    EnterpriseTeamAssignment.isPendingReassignment(seatAssignment) ||\n    EnterpriseTeamAssignment.isPendingUnassignment(seatAssignment) ||\n    props.disabled\n\n  const showKebabMenu =\n    !checked &&\n    !EnterpriseTeamAssignment.isPendingCreation(seatAssignment) &&\n    !EnterpriseTeamAssignment.isPendingReassignment(seatAssignment) &&\n    !EnterpriseTeamAssignment.isPendingUnassignment(seatAssignment) &&\n    withRowActions\n\n  const onRestoreAccess = () => {\n    const payload = EnterpriseTeamAssignment.toRemotePayload(seatAssignment)\n    handleRestore(payload)\n  }\n  const StatusText = props.statusInfo\n\n  return (\n    <Box\n      as=\"li\"\n      className=\"d-flex flex-items-center member-list-item border border-top-0\"\n      sx={{\n        backgroundColor: checked ? 'accent.subtle' : 'initial',\n        boxShadow: checked ? 'rgb(9, 105, 218) 0px 0px 0px 1px' : 'none',\n        ':last-child': {\n          borderBottomRightRadius: 2,\n          borderBottomLeftRadius: 2,\n        },\n        '&:hover': {\n          backgroundColor: checked ? 'accent.subtle' : 'neutral.subtle',\n        },\n        px: 3,\n        py: 2,\n      }}\n    >\n      <SeatCheckboxControl\n        checked={checked}\n        onChange={handleCheck}\n        selectable={seatAssignment}\n        isDisabled={isDisabled}\n      />\n      <Box\n        sx={{\n          display: 'flex',\n          flexGrow: 1,\n          alignItems: 'center',\n          justifyContent: 'space-between',\n        }}\n      >\n        <SeatAssignable seat={seatAssignment} owner={props.owner} muteTitle={isDisabled} />\n        {StatusText ? (\n          <StatusText>{EnterpriseTeamAssignment.isStable(seatAssignment) ? 'Access already granted' : ''} </StatusText>\n        ) : (\n          <Status seatAssignment={seatAssignment} />\n        )}\n        <RowActionsMenu isVisible={showKebabMenu} testId={`seat-options-${seatAssignment.assignable.id}`}>\n          {EnterpriseTeamAssignment.isPendingCancellation(seatAssignment) ? (\n            <ActionList.Item\n              aria-checked={false}\n              onSelect={() => {\n                onRestoreAccess()\n              }}\n              // there is a random span tag inserted here that breaks formatting\n              sx={{whiteSpace: 'nowrap', '> span:first-child': {display: 'none'}}}\n            >\n              Re-assign team access\n            </ActionList.Item>\n          ) : (\n            <ActionList.Item\n              variant=\"danger\"\n              onSelect={handleCancel}\n              sx={{'> span:first-child': {display: 'none'}}}\n              aria-checked={false}\n            >\n              Cancel team access\n            </ActionList.Item>\n          )}\n        </RowActionsMenu>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ Status.displayName ||= 'Status' } catch {}\ntry{ LastUsage.displayName ||= 'LastUsage' } catch {}\ntry{ SelectableTableRow.displayName ||= 'SelectableTableRow' } catch {}","import {ActionMenu, ActionList} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport type {SortName} from '../../types'\nimport {SortAscIcon, SortDescIcon} from '@primer/octicons-react'\nimport {useCallback, useEffect, useMemo, useState} from 'react'\n\ntype Props = {\n  sort: (sortName: SortName) => void\n  sortDetails: SortName\n  sortOptions: SortName[]\n  cancellation?: boolean\n}\n\nconst getSortIcon = (sort: SortName) => {\n  if (sort.includes('asc')) {\n    return SortAscIcon\n  }\n\n  return SortDescIcon\n}\n\nconst sortTypeText: Record<SortName, string> = {\n  name_asc: 'Name ascending',\n  name_desc: 'Name descending',\n  use_asc: 'Last used date ascending',\n  use_desc: 'Last used date descending',\n  requested_at_asc: 'Request date ascending',\n  requested_at_desc: 'Request date descending',\n  pending_cancelled_asc: 'Cancelled first',\n  pending_cancelled_desc: 'Cancelled last',\n  member_count_asc: 'Member count ascending',\n  member_count_desc: 'Member count descending',\n}\n\nconst sortTypeDescription: Record<SortName, string> = {\n  name_asc: 'Name ascending (A…Z)',\n  name_desc: 'Name descending (Z…A)',\n  use_asc: 'Last used date (Oldest first)',\n  use_desc: 'Last used date (Newest first)',\n  requested_at_asc: 'Requested date (Oldest first)',\n  requested_at_desc: 'Requested date (Newest first)',\n  pending_cancelled_asc: 'Cancelled first',\n  pending_cancelled_desc: 'Cancelled last',\n  member_count_asc: 'Member count (Least first)',\n  member_count_desc: 'Member count (Most first)',\n}\n\nexport function AssignablesSort(props: Props) {\n  const {sort, sortDetails, sortOptions, cancellation} = props\n  const [didSort, setDidSort] = useState(sortDetails === 'pending_cancelled_asc')\n\n  useEffect(() => {\n    if (!cancellation && sortDetails === 'pending_cancelled_asc') {\n      setDidSort(false)\n    }\n  }, [cancellation, sortDetails])\n\n  const doSort = useCallback(\n    (sortName: SortName) => {\n      setDidSort(true)\n      sort(sortName)\n    },\n    [sort],\n  )\n\n  const sortOptionComponents = useMemo(() => {\n    return sortOptions.map((sortName, index) => {\n      let sx = {}\n      if (index === 0) {\n        sx = {\n          '&:before': {\n            content: ' ',\n            display: 'block',\n            position: 'absolute',\n            width: '100%',\n            top: '-7px',\n            borderWidth: '1px 0px 0px',\n            borderStyle: 'solid',\n            borderImage: 'initial',\n            borderColor: 'var(--divider-color,transparent)',\n          },\n        }\n      }\n\n      return (\n        <SortOption\n          label={sortTypeDescription[sortName]}\n          sort={sortName}\n          sortDetails={sortDetails}\n          doSort={doSort}\n          sx={sx}\n          key={sortName}\n        />\n      )\n    })\n  }, [doSort, sortDetails, sortOptions])\n\n  return (\n    <ActionMenu>\n      <ActionMenu.Button\n        sx={{border: 0, boxShadow: 'none', color: 'fg.muted'}}\n        leadingVisual={getSortIcon(sortDetails)}\n        data-testid=\"sort-button\"\n      >\n        {didSort ? sortTypeText[sortDetails] : 'Sort'}\n      </ActionMenu.Button>\n      <ActionMenu.Overlay width=\"medium\" data-testid=\"sort-options\">\n        <ActionList selectionVariant=\"single\" showDividers>\n          {sortOptionComponents.map(option => option)}\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\nconst SortOption = (props: {\n  label: string\n  sort: SortName\n  sortDetails: SortName\n  doSort: (sortName: SortName) => void\n  sx?: BetterSystemStyleObject\n}) => {\n  const {label, sort, sortDetails, doSort, sx} = props\n\n  return (\n    <ActionList.Item\n      selected={sortDetails === sort}\n      onSelect={() => doSort(sort)}\n      sx={sx}\n      data-testid={`sort-option-${sort}`}\n    >\n      {label}\n    </ActionList.Item>\n  )\n}\n\ntry{ AssignablesSort.displayName ||= 'AssignablesSort' } catch {}\ntry{ SortOption.displayName ||= 'SortOption' } catch {}","import {createContext, useContext} from 'react'\nimport type {Selectable} from './use-selectables'\n\nexport type StableRef<T> = Record<string, T>\ntype SelectionStateContextValue<T> = {\n  allChecked: boolean\n  checkCount: number\n  isIndeterminate: boolean\n  selectedItems: string[]\n  selectables: Array<Selectable<T>>\n  total: number\n  isChecked: (selectable: Selectable<T>) => boolean\n  checkOne: (selectable: Selectable<T>) => void\n  checkAll: () => void\n  uncheckAll: () => void\n}\ntype ContextVal<T> = {\n  selectionState: SelectionStateContextValue<T>\n  updateStableRef: (newStableRefs: StableRef<T>) => void\n  stableRef: StableRef<T>\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const SelectionStateContext = createContext<ContextVal<any> | null>(null)\n\nexport function useSelectionStateContext() {\n  const context = useContext(SelectionStateContext)\n  if (!context) {\n    throw new Error('useSelectionStateContext must be used within a SelectionStateProvider')\n  }\n  return context\n}\n","import {PersonIcon} from '@primer/octicons-react'\nimport {Box, Octicon} from '@primer/react'\n\nexport function NoSearchResultsBlankslate() {\n  return (\n    <Box className=\"Box blankslate\" sx={{borderTopRightRadius: 0, borderTopLeftRadius: 0}}>\n      <Octicon icon={PersonIcon} size={24} sx={{color: 'fg.subtle', mb: 3}} />\n      <h2 className=\"blankslate-heading\">Nothing matched your search criteria</h2>\n      <Box sx={{alignItems: 'center', display: 'flex', flexDirection: 'column'}}>\n        <p>Make sure that everything is spelt correctly or try different keywords.</p>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ NoSearchResultsBlankslate.displayName ||= 'NoSearchResultsBlankslate' } catch {}","import type React from 'react'\nimport {Box, Checkbox, Pagination, Button} from '@primer/react'\nimport {useState, useMemo, useCallback} from 'react'\nimport type {EnterpriseTeamSeatAssignment, SortName} from '../../types'\nimport {useSeatManagementContext} from '../hooks/use-seat-management-context'\nimport {EnterpriseTeamAssignment} from '../helpers/enterprise-team-assignment'\nimport {RemoveTeamAssignmentsDialog} from './RemoveTeamAssignmentsDialog'\nimport type {\n  EnterpriseTeamAssignable,\n  CopilotStandaloneSeatManagementPayload,\n  EnterpriseTeamAssignables,\n} from '../types'\nimport {useCancelSeatAssignment} from '../hooks/use-cancel-seat-assignment'\nimport {useCreateSeatAssignment} from '../hooks/use-create-seat-assignment'\nimport {TrashIcon} from '@primer/octicons-react'\nimport {SelectableTableRow} from './SelectableTableRow'\nimport {AssignablesSort} from './AssignablesSort'\nimport {useSelectionStateContext} from '../hooks/use-selection-state-context'\nimport {NoSearchResultsBlankslate} from './NoSearchResultsBlankslate'\n\ntype HeaderTextProps = {selectedCount: number; totalCount: number}\n\ntype Props = React.PropsWithChildren<{\n  query: string\n  paginate: (page: number) => void\n  currentPage: number\n  sortDetails: SortName\n  setSortDetails: (sort: SortName) => void\n  headerText: ({selectedCount, totalCount}: HeaderTextProps) => React.ReactNode\n  items?: EnterpriseTeamSeatAssignment[]\n  withDelete?: boolean\n  withRowActions?: boolean\n  denySelectionFilters?: Array<(value: EnterpriseTeamSeatAssignment) => boolean>\n  statusInfo?: (props: React.PropsWithChildren<object>) => JSX.Element\n}>\n\nconst PAGE_SIZE = 25\nconst SORT_OPTIONS: SortName[] = ['name_asc', 'name_desc', 'member_count_asc', 'member_count_desc']\n\nexport function SelectableTable(props: Props) {\n  const {payload, update} = useSeatManagementContext()\n  const {seatAssignments: assignments, count, filtered_count, business} = payload\n  const owner = business.slug\n  const seatAssignments = props.items ?? assignments\n  const {withDelete = true, query, denySelectionFilters = []} = props\n  const {selectionState} = useSelectionStateContext()\n  const {checkCount, allChecked, isIndeterminate, checkOne, checkAll, uncheckAll, isChecked, selectedItems} =\n    selectionState\n\n  const {confirmCancellation, rejectConfirmation, cancellationError, pendingConfirmation, beginCancel} =\n    useCancelSeatAssignment<CopilotStandaloneSeatManagementPayload>({\n      owner,\n      onComplete: nextPayload => {\n        update(nextPayload)\n        uncheckAll()\n        setTargetAssignment(null)\n      },\n    })\n  const {createAssignment} = useCreateSeatAssignment<CopilotStandaloneSeatManagementPayload>({\n    owner,\n    onComplete: nextPayload => {\n      update(nextPayload)\n      uncheckAll()\n      setTargetAssignment(null)\n    },\n  })\n\n  const anyChecked = checkCount > 0\n  const anySelectable = seatAssignments.some(EnterpriseTeamAssignment.isSelectable)\n\n  const handleCheck = useCallback(\n    (selectable: EnterpriseTeamSeatAssignment) => {\n      return () => {\n        checkOne(selectable)\n        setTargetAssignment(null)\n      }\n    },\n    [checkOne],\n  )\n\n  // This function is responsible for storing the current row that the\n  // user is interacting with when unassigning a seat assignment via the\n  // kebab menu.\n  // It allows us to reuse the page level removal confirmation dialog,\n  // rather than relying on a per-row confirmation component.\n  const cancelTargetAssignment = useCallback(\n    (selectable: EnterpriseTeamSeatAssignment) => {\n      return () => {\n        if (!selectable.id) {\n          return setTargetAssignment(null)\n        }\n\n        setTargetAssignment(EnterpriseTeamAssignment.toRemotePayload(selectable))\n        beginCancel()\n      }\n    },\n    [beginCancel],\n  )\n\n  const [targetAssignment, setTargetAssignment] = useState<EnterpriseTeamAssignable | null>(null)\n\n  const selected = useMemo(\n    () =>\n      EnterpriseTeamAssignment.selectedAssignmentsInjector(\n        selectedItems,\n        seatAssignments,\n        (assignment, injected) => {\n          const item = EnterpriseTeamAssignment.toRemotePayload(assignment)\n          injected.push(item)\n          return injected\n        },\n        [] as EnterpriseTeamAssignables,\n      ),\n    [selectedItems, seatAssignments],\n  )\n  const selectedIds = useMemo(() => {\n    if (targetAssignment) {\n      return `enterprise_team_ids[]=${encodeURIComponent(targetAssignment.id)}`\n    }\n\n    return selected.map(item => `enterprise_team_ids[]=${encodeURIComponent(item.id)}`).join('&')\n  }, [selected, targetAssignment])\n\n  const sort = useCallback(\n    (sortName: SortName) => {\n      props.setSortDetails(sortName)\n    },\n    [props],\n  )\n\n  const onPageChange: Parameters<typeof Pagination>['0']['onPageChange'] = (e, page) => {\n    e.preventDefault()\n    props.paginate(page)\n  }\n\n  return (\n    <div role=\"region\" aria-label=\"Seats management table\">\n      <div\n        className=\"mt-3 d-flex flex-items-center px-3 table-list-header table-list-header-next py-1\"\n        role=\"region\"\n        aria-label=\"Seat management table header\"\n      >\n        <div className=\"select-all-dropdown flex-auto\">\n          <div className=\"d-flex flex-items-center\">\n            <div className=\"pr-2\">\n              <Checkbox\n                onChange={checkAll}\n                indeterminate={isIndeterminate}\n                disabled={!anySelectable}\n                checked={allChecked}\n                data-testid=\"selectAll\"\n                sx={{height: 13, width: 13}}\n                aria-label=\"Select all members\"\n              />\n            </div>\n            <div className=\"text-bold\">{props.headerText({selectedCount: checkCount, totalCount: count})}</div>\n          </div>\n        </div>\n        {anyChecked && withDelete ? (\n          <Button\n            size=\"small\"\n            leadingVisual={TrashIcon}\n            variant=\"danger\"\n            onClick={beginCancel}\n            data-testid=\"bulk-remove-button\"\n          >\n            Cancel team access\n          </Button>\n        ) : (\n          <AssignablesSort sort={sort} sortDetails={props.sortDetails} sortOptions={SORT_OPTIONS} />\n        )}\n      </div>\n      <div id=\"table-body\">\n        <Box\n          as=\"ul\"\n          aria-label=\"Teams list\"\n          className=\"table-list-bordered\"\n          data-testid=\"cs-seat-assignments\"\n          sx={{position: 'relative'}}\n        >\n          {query && seatAssignments.length === 0 && <NoSearchResultsBlankslate />}\n          {seatAssignments.map((selectable, i) => {\n            return (\n              <SelectableTableRow\n                key={i}\n                seatAssignment={selectable}\n                checked={isChecked(selectable)}\n                handleCheck={handleCheck(selectable)}\n                handleCancel={cancelTargetAssignment(selectable)}\n                handleRestore={createAssignment}\n                owner={owner}\n                withRowActions={props.withRowActions ?? true}\n                disabled={denySelectionFilters.some(filter => filter(selectable))}\n                statusInfo={props.statusInfo}\n              />\n            )\n          })}\n        </Box>\n      </div>\n      {filtered_count > PAGE_SIZE && (\n        <Pagination\n          showPages={filtered_count > PAGE_SIZE}\n          pageCount={Math.ceil(filtered_count / PAGE_SIZE)}\n          currentPage={props.currentPage}\n          onPageChange={onPageChange}\n          data-testid=\"pagination\"\n        />\n      )}\n      <RemoveTeamAssignmentsDialog\n        isOpen={pendingConfirmation}\n        onCancel={rejectConfirmation}\n        onConfirm={() => confirmCancellation(selectedIds)}\n        error={cancellationError}\n        toCancel={!targetAssignment ? selected : targetAssignment}\n      />\n    </div>\n  )\n}\n\ntry{ SelectableTable.displayName ||= 'SelectableTable' } catch {}","import {useCreateMutator} from '../../hooks/use-fetchers'\nimport {useState, useCallback} from 'react'\nimport {standaloneSeatManagementEndpoint} from '../helpers/api-endpoints'\n\ntype Configs<Response> = {\n  owner: string\n  onError?: () => void\n  onComplete?: (data: Response) => void\n}\n\nexport function useCancelSeatAssignment<Response>(configs: Configs<Response>) {\n  const {owner, onError, onComplete} = configs\n  const [pendingConfirmation, setPendingConfirmation] = useState(false)\n  const [cancellationError, setCancellationError] = useState('')\n  const useRemoteMutation = useCreateMutator(standaloneSeatManagementEndpoint, {slug: owner})\n  const [handler] = useRemoteMutation<string, Response>({\n    resource: 'seat_management',\n    method: 'DELETE',\n  })\n  const rejectConfirmation = useCallback(() => {\n    setPendingConfirmation(false)\n    setCancellationError('')\n  }, [])\n\n  const beginCancel = useCallback(() => {\n    setPendingConfirmation(true)\n  }, [])\n\n  const confirmCancellation = useCallback(\n    (data: string) => {\n      handler({\n        payload: data,\n        onError: () => {\n          setCancellationError('Something went wrong. Please try again later.')\n          onError?.()\n        },\n        onComplete: respData => {\n          setPendingConfirmation(false)\n          setCancellationError('')\n          respData && onComplete?.(respData)\n        },\n      })\n    },\n    [handler, onComplete, onError],\n  )\n\n  return {\n    confirmCancellation,\n    rejectConfirmation,\n    beginCancel,\n    cancellationError,\n    pendingConfirmation,\n  }\n}\n","import {Children} from 'react'\nimport {Box} from '@primer/react'\nimport type {ReactElement} from 'react'\n\ntype Props = React.PropsWithChildren<object>\n\nfunction LeftAction({children}: {children: React.ReactNode}) {\n  return <>{children}</>\n}\n\nfunction RightAction({children}: {children: React.ReactNode}) {\n  return <>{children}</>\n}\n\nfunction Actions(props: Props) {\n  const leftActions = Children.toArray(props.children).filter(\n    child => (child as ReactElement).type === ActionsBar.LeftAction,\n  )\n  const rightActions = Children.toArray(props.children).filter(\n    child => (child as ReactElement).type === ActionsBar.RightAction,\n  )\n\n  return (\n    <Box sx={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3}}>\n      {leftActions}\n      {rightActions}\n    </Box>\n  )\n}\n\nexport const ActionsBar = Object.assign(Actions, {\n  LeftAction,\n  RightAction,\n})\n\ntry{ LeftAction.displayName ||= 'LeftAction' } catch {}\ntry{ RightAction.displayName ||= 'RightAction' } catch {}\ntry{ Actions.displayName ||= 'Actions' } catch {}\ntry{ ActionsBar.displayName ||= 'ActionsBar' } catch {}","import type {SeatType} from '../../types'\nimport {FilterIcon, SearchIcon} from '@primer/octicons-react'\nimport {ActionMenu, IconButton, ActionList, TextInput, type SxProp} from '@primer/react'\nimport {useCallback} from 'react'\n\ntype FilterOptions = SeatType[]\ntype FilterFunction = (filter: SeatType) => void\ntype FilterProps = {\n  filter: FilterFunction\n  currentFilter: string\n  filterOptions: FilterOptions\n}\n\ntype BaseProps = {\n  search: (query: string) => void\n  placeholder?: string\n  searchProps?: {sx: SxProp}\n}\n\ntype Props = BaseProps &\n  (\n    | FilterProps\n    | {\n        [K in keyof FilterProps]?: never\n      }\n  )\n\ntype FilterOptionProps = {\n  filter: FilterFunction\n  filterItem: SeatType\n  selected: boolean\n}\n\nfunction assertFilterProps(props: object): asserts props is FilterProps {\n  if ('filter' in props || 'currentFilter' in props || 'filterOptions' in props) {\n    if (!('filter' in props && 'currentFilter' in props && 'filterOptions' in props)) {\n      throw new Error('If any of filter, currentFilter, or filterOptions is provided, all must be provided.')\n    }\n  }\n}\n\nfunction FilterOption(props: FilterOptionProps) {\n  const {filter, filterItem, selected} = props\n  const filterer = useCallback(() => filter(filterItem), [filterItem, filter])\n\n  return (\n    <ActionList.Item onSelect={filterer} selected={selected}>\n      {filterItem}\n    </ActionList.Item>\n  )\n}\n\nexport function FilterableSearch(props: Props) {\n  const {placeholder, search, searchProps, ...filterProps} = props\n\n  assertFilterProps(filterProps)\n\n  const filterStyleOpts = (filterProps.filterOptions && {borderTopLeftRadius: 0, borderBottomLeftRadius: 0}) || {}\n\n  return (\n    <>\n      {filterProps.filterOptions && filterProps.filterOptions.length > 0 && (\n        <ActionMenu>\n          <ActionMenu.Anchor>\n            {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n            <IconButton\n              unsafeDisableTooltip={true}\n              icon={FilterIcon}\n              variant=\"default\"\n              aria-label=\"Open filter options\"\n              sx={{borderRight: 0, borderTopRightRadius: 0, borderBottomRightRadius: 0}}\n            />\n          </ActionMenu.Anchor>\n          <ActionMenu.Overlay width=\"medium\">\n            <ActionList data-testid=\"copilot-user-search-filter\" selectionVariant=\"single\" showDividers>\n              {filterProps.filterOptions.map(filterItem => (\n                <FilterOption\n                  key={filterItem}\n                  filter={filterProps.filter}\n                  filterItem={filterItem}\n                  selected={filterItem === filterProps.currentFilter}\n                />\n              ))}\n            </ActionList>\n          </ActionMenu.Overlay>\n        </ActionMenu>\n      )}\n      <TextInput\n        leadingVisual={SearchIcon}\n        aria-label={placeholder ?? 'Search by name or email'}\n        name=\"search-seats\"\n        placeholder={placeholder ?? 'Search by name or email'}\n        data-testid=\"cfb-search-seats\"\n        block={true}\n        sx={{\n          ...filterStyleOpts,\n          ...searchProps,\n        }}\n        onChange={event => search(event.target.value)}\n      />\n    </>\n  )\n}\n\ntry{ FilterOption.displayName ||= 'FilterOption' } catch {}\ntry{ FilterableSearch.displayName ||= 'FilterableSearch' } catch {}","import {Box, Button, Spinner} from '@primer/react'\nimport {FileIcon} from '@primer/octicons-react'\nimport {ActionsBar} from './ActionsBar'\nimport {FilterableSearch} from './FilterableSearch'\nimport {useSeatManagementContext} from '../hooks/use-seat-management-context'\nimport {useCreateCSV} from '../../hooks/use-create-csv'\nimport {standaloneCSVEndpoint} from '../helpers/api-endpoints'\n\ntype Props = {\n  onSearch: (value: string) => void\n  onAddTeams: () => void\n}\n\nexport function StandaloneActionsBar({onSearch, onAddTeams}: Props) {\n  const {payload} = useSeatManagementContext()\n  const {loading, makeCSVRequest} = useCreateCSV({slug: payload.business.slug, endpoint: standaloneCSVEndpoint})\n\n  return (\n    <section aria-label=\"Management actions\">\n      <ActionsBar>\n        <ActionsBar.LeftAction>\n          <Box sx={{width: '25%'}}>\n            <Box sx={{display: 'flex'}}>\n              <FilterableSearch placeholder=\"Filter enterprise teams\" search={onSearch} />\n            </Box>\n          </Box>\n        </ActionsBar.LeftAction>\n        <ActionsBar.RightAction>\n          <Box sx={{display: 'flex', alignItems: 'center'}}>\n            {loading && <Spinner sx={{marginRight: 2}} size=\"small\" aria-label=\"Loading a csv report\" />}\n            <Button className=\"mr-2\" leadingVisual={FileIcon} onClick={makeCSVRequest} name=\"get report\">\n              Get report\n            </Button>\n            <Button variant=\"primary\" onClick={onAddTeams}>\n              Add teams\n            </Button>\n          </Box>\n        </ActionsBar.RightAction>\n      </ActionsBar>\n    </section>\n  )\n}\n\ntry{ StandaloneActionsBar.displayName ||= 'StandaloneActionsBar' } catch {}","import {Box, Button, Text} from '@primer/react'\nimport {CopilotCard} from '../../traditional/components/Ui'\n\ntype Props = {\n  onAddTeams: () => void\n}\n\nexport function StandaloneBlankslate(props: Props) {\n  return (\n    <CopilotCard\n      role=\"region\"\n      aria-label=\"No teams assigned\"\n      sx={{\n        px: 4,\n        py: 6,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n      }}\n    >\n      <Box sx={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n        <Text\n          as=\"h2\"\n          sx={{\n            fontSize: 4,\n            fontWeight: 600,\n          }}\n        >\n          No teams assigned\n        </Text>\n        <Text as=\"p\" sx={{color: 'fg.default', width: '75%', mt: 1, textAlign: 'center'}}>\n          No members are using Copilot Business in this enterprise. To maximize your developer velocity using AI, start\n          assigning seats to teams.\n        </Text>\n        <Button variant=\"primary\" sx={{mt: 3}} onClick={props.onAddTeams}>\n          Start adding teams\n        </Button>\n      </Box>\n    </CopilotCard>\n  )\n}\n\ntry{ StandaloneBlankslate.displayName ||= 'StandaloneBlankslate' } catch {}","import {currency as formatCurrency} from '@github-ui/formatters'\nimport {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {type BoxProps, Box, Link, Text} from '@primer/react'\nimport type React from 'react'\nimport {COPILOT_BUSINESS_LICENSE_COST} from '../../constants'\n\nfunction Card(props: React.PropsWithChildren<BoxProps>) {\n  const {children, sx = {}, ...rest} = props\n  return (\n    <Box\n      sx={{\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: 'border.subtle',\n        borderRadius: 6,\n        p: 3,\n        ...sx,\n      }}\n      {...rest}\n    >\n      {children}\n    </Box>\n  )\n}\n\nconst PulseCard = (props: React.PropsWithChildren<object>) => (\n  <Card sx={{display: 'flex', flexDirection: 'column', flex: '1 0 0%', alignSelf: 'start'}}>{props.children}</Card>\n)\n\nexport function PulseCheck(props: {licenses: number; slug: string}) {\n  return (\n    <Box\n      as=\"section\"\n      sx={{display: 'flex', width: '100%', gap: 3, marginBottom: 3}}\n      role=\"region\"\n      aria-label=\"Insights\"\n    >\n      <PulseCard>\n        <Text as=\"p\" sx={{fontWeight: 600, fontSize: 14}}>\n          Total consumed seats\n        </Text>\n        <Text as=\"p\" sx={{fontSize: 4, color: 'fg.default'}} data-testid=\"license-pulse-text\">\n          {props.licenses}\n        </Text>\n        <Text as=\"p\" sx={{color: 'fg.muted', fontSize: 12, marginBottom: 0}}>\n          Number of unique members with access to Copilot Business.\n        </Text>\n      </PulseCard>\n      <PulseCard>\n        <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n          <Text as=\"p\" sx={{fontWeight: 600, fontSize: 14}}>\n            Estimated monthly cost\n          </Text>\n          <Link target=\"_blank\" href={`${ssrSafeLocation.origin}/enterprises/${props.slug}/settings/billing`}>\n            Review billing details\n          </Link>\n        </Box>\n        <Text as=\"p\" sx={{fontSize: 4, color: 'fg.default'}} data-testid=\"cost-pulse-text\">\n          {`${formatCurrency(props.licenses * COPILOT_BUSINESS_LICENSE_COST)}`}\n        </Text>\n        <Text as=\"p\" sx={{color: 'fg.muted', fontSize: 12, marginBottom: 0}} data-testid=\"per-seat-pulse-text\">\n          Each purchased seat is ${COPILOT_BUSINESS_LICENSE_COST} USD/month.\n        </Text>\n      </PulseCard>\n    </Box>\n  )\n}\n\ntry{ Card.displayName ||= 'Card' } catch {}\ntry{ PulseCard.displayName ||= 'PulseCard' } catch {}\ntry{ PulseCheck.displayName ||= 'PulseCheck' } catch {}","import {pluralize} from '../../helpers/text'\nimport {currency} from '@github-ui/formatters'\nimport {Text} from '@primer/react'\n\ntype Props = {\n  seatCount: number\n  seatCost: number\n}\n\nexport function NewAssignmentsEstimatedCost(props: Props) {\n  return (\n    <section aria-label=\"New assignments estimated cost\">\n      <span>\n        <Text sx={{fontWeight: 600, mb: 0, fontSize: 12}} as=\"p\">\n          {pluralize(props.seatCount, 'unique seat', 's')} with an approximate cost of{' '}\n          {currency(props.seatCost * props.seatCount)} will be added.\n        </Text>\n        <Text sx={{color: 'fg.muted', fontSize: 12}}>\n          You will not be charged twice for members across multiple teams.{' '}\n        </Text>\n      </span>\n    </section>\n  )\n}\n\ntry{ NewAssignmentsEstimatedCost.displayName ||= 'NewAssignmentsEstimatedCost' } catch {}","import type React from 'react'\nimport {SelectionStateContext, type StableRef} from '../hooks/use-selection-state-context'\nimport {useSelectables, type SelectableProps} from '../hooks/use-selectables'\nimport {useMemo, useState} from 'react'\n\ntype Props<T> = React.PropsWithChildren<{\n  selectionState: SelectableProps<T>\n}>\n\nexport function SelectionStateProvider<T>(props: Props<T>) {\n  const selectionState = useSelectables<T>(props.selectionState)\n  const [stableRef, updateStableRef] = useState<StableRef<T>>({} as StableRef<T>)\n\n  const contextValue = useMemo(() => {\n    return {selectionState, stableRef, updateStableRef}\n  }, [selectionState, stableRef, updateStableRef])\n\n  return <SelectionStateContext.Provider value={contextValue}>{props.children}</SelectionStateContext.Provider>\n}\n\ntry{ SelectionStateProvider.displayName ||= 'SelectionStateProvider' } catch {}","import {useRef, useState, useMemo, useCallback, useEffect} from 'react'\n\nexport type Selectable<T = object> = T\n\nexport type SelectableProps<T> = {\n  selectables: Array<Selectable<T>>\n  key: (selectable: Selectable<T>) => string\n  total: number\n  filters?: Array<(selectable: Selectable<T>) => boolean>\n}\n\ntype SelectedMap = Record<string, boolean>\n\nexport function useSelectables<T>(props: SelectableProps<T>) {\n  const {selectables, total} = props\n  const filters = useRef(props.filters ?? [])\n  const key = useRef(props.key)\n\n  const [isIndeterminate, setIsIndeterminate] = useState(false)\n  const [checked, setChecked] = useState<SelectedMap>({})\n  const [allChecked, setAllChecked] = useState(false)\n  const [size, setSize] = useState(total ?? selectables.length)\n\n  const checkCount = useMemo(() => {\n    return Object.values(checked).filter(Boolean).length\n  }, [checked])\n\n  const ableToSelectCount = useMemo(() => {\n    return selectables.filter(selectable => {\n      return filters.current.every(filter => filter(selectable))\n    }).length\n  }, [selectables])\n\n  const selectedItems = useMemo(() => {\n    return Object.entries(checked).reduce((memo, [id, isChecked]) => {\n      if (isChecked) {\n        memo.push(id)\n      }\n\n      return memo\n    }, [] as string[])\n  }, [checked])\n\n  const checkAll = useCallback(() => {\n    if (allChecked) {\n      setAllChecked(false)\n      setChecked({})\n      return\n    }\n\n    setAllChecked(true)\n    setChecked(\n      props.selectables.reduce((acc, selectable) => {\n        if (filters.current.every(filter => filter(selectable))) {\n          acc[key.current(selectable)] = true\n        }\n        return acc\n      }, {} as SelectedMap),\n    )\n  }, [props.selectables, allChecked])\n\n  const isChecked = useCallback(\n    (selectable: Selectable<T>) => {\n      return !!checked[key.current(selectable)]\n    },\n    [checked],\n  )\n\n  const checkOne = useCallback(\n    (selectable: Selectable<T>) => {\n      const newChecked = {...checked}\n      newChecked[key.current(selectable)] = !isChecked(selectable)\n      setChecked(newChecked)\n    },\n    [checked, isChecked],\n  )\n\n  const uncheckAll = useCallback(() => {\n    setAllChecked(false)\n    setChecked({})\n  }, [])\n\n  useEffect(() => {\n    if (checkCount === 0) {\n      setIsIndeterminate(false)\n      setAllChecked(false)\n    } else if (checkCount === ableToSelectCount) {\n      setIsIndeterminate(false)\n      setAllChecked(true)\n    } else {\n      setIsIndeterminate(true)\n      setAllChecked(false)\n    }\n  }, [size, checkCount, ableToSelectCount])\n\n  useEffect(() => {\n    setSize(total ?? selectables.length)\n  }, [selectables, total])\n\n  return {\n    allChecked,\n    checkCount,\n    isIndeterminate,\n    selectables: props.selectables,\n    selectedItems,\n    total: props.total,\n    isChecked,\n    checkOne,\n    checkAll,\n    uncheckAll,\n  }\n}\n","import type {EnterpriseTeamSeatAssignment} from '../../types'\n\nexport function makeSelectedKey(seatAssignment: EnterpriseTeamSeatAssignment) {\n  return `${seatAssignment.assignable_type}_${seatAssignment.assignable.id}`\n}\n","import {Text} from '@primer/react'\n\nexport function StatusText(props: React.PropsWithChildren<object>) {\n  return (\n    <Text as=\"span\" className=\"flex-shrink-0 pr-3\" sx={{textAlign: 'center', color: 'fg.muted', fontSize: 12}}>\n      {props.children}\n    </Text>\n  )\n}\n\ntry{ StatusText.displayName ||= 'StatusText' } catch {}","import {Box, Spinner, useFocusZone} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport {FocusKeys} from '@primer/behaviors'\nimport {useCreateFetcher} from '../../hooks/use-fetchers'\nimport {useSeatManagementContext} from '../hooks/use-seat-management-context'\nimport {usePaginatedSearchQuery} from '../../hooks/use-search-query'\nimport {NewAssignmentsEstimatedCost} from './NewAssignmentsEstimatedCost'\nimport {FilterableSearch} from './FilterableSearch'\nimport {SelectableTable} from './SelectableTable'\nimport type {EnterpriseTeamSeatAssignment} from '../../types'\nimport {usePreventBodyScroll} from '../hooks/use-prevent-body-scoll'\nimport {SelectionStateProvider} from './SelectionStateProvider'\nimport {makeSelectedKey} from '../helpers/make-selected-key'\nimport {EnterpriseTeamAssignment} from '../helpers/enterprise-team-assignment'\nimport {useSelectionStateContext} from '../hooks/use-selection-state-context'\nimport {useMemo, type Ref, useCallback, useEffect, useState} from 'react'\nimport {useCreateSeatAssignment} from '../hooks/use-create-seat-assignment'\nimport type {\n  CopilotStandaloneSeatManagementPayload,\n  EnterpriseTeamAssignable,\n  EnterpriseTeamAssignables,\n} from '../types'\nimport {pluralize} from '../../helpers/text'\nimport {usePaginateScroll} from '../hooks/use-paginate-scroll'\nimport {standaloneSeatManagementEndpoint} from '../helpers/api-endpoints'\nimport {StatusText} from './Ui'\nimport {CopilotFlash} from '../../components/CopilotFlash'\n\nfunction ScrollPaginator({loading, listEndRef}: {loading: boolean; listEndRef: Ref<HTMLDivElement>}) {\n  return (\n    <>\n      {loading && (\n        <Box sx={{display: 'flex', justifyContent: 'center', p: 4}}>\n          <Spinner />\n        </Box>\n      )}\n      <div ref={listEndRef} />\n    </>\n  )\n}\n\nfunction SelectableTableHeader(props: Parameters<React.ComponentProps<typeof SelectableTable>['headerText']>[0]) {\n  if (!props.selectedCount) {\n    return <span>0 selected</span>\n  }\n\n  return <span data-testid=\"bulk-selected\">{pluralize(props.selectedCount, 'team', 's')} selected</span>\n}\n\ntype DialogBodyProps = React.PropsWithChildren<{\n  queryState: ReturnType<typeof usePaginatedSearchQuery>\n}>\n\nconst denySelectionFilters = [EnterpriseTeamAssignment.isStable]\n\nfunction DialogBody(props: DialogBodyProps) {\n  const selectionContextVal = useSelectionStateContext()\n  const {selectionState} = selectionContextVal\n  const {queryState} = props\n\n  return (\n    <Box as=\"section\" sx={{padding: 3, maxHeight: 360, overflowY: 'auto'}}>\n      <FilterableSearch search={queryState.handleSearch} placeholder=\"Filter enterprise teams\" />\n      <SelectableTable\n        query={queryState.query}\n        paginate={queryState.paginate}\n        currentPage={queryState.currentPage}\n        sortDetails={queryState.sortDetails}\n        setSortDetails={queryState.updateSortDetails}\n        items={selectionState.selectables}\n        headerText={SelectableTableHeader}\n        denySelectionFilters={denySelectionFilters}\n        withDelete={false}\n        withRowActions={false}\n        statusInfo={StatusText}\n      />\n      {props.children}\n    </Box>\n  )\n}\n\ntype Props = {\n  isOpen: boolean\n  onClose: () => void\n  onConfirm: (assignments: EnterpriseTeamAssignable[]) => void\n}\n\nexport function AssignmentsDialog(props: React.PropsWithChildren<Props>) {\n  const {isOpen, onClose} = props\n\n  const contextValue = useSelectionStateContext()\n  const {selectionState, stableRef, updateStableRef} = contextValue\n  const {selectedItems, selectables} = selectionState\n\n  const [uniqueSelected, setUniqueSelected] = useState(0)\n\n  // Store a ref to the underlying selectables as they become selected.\n  // We need this to handle the following case:\n  // * User has selected some number of teams\n  // * User and then searches for another team\n  // * We must preserve the original selection during the search, to redisplay them\n  //   if / when the search is cleared.\n  useEffect(() => {\n    for (const item of selectedItems) {\n      if (stableRef[item]) {\n        continue\n      }\n      const id = Number(item.split('_').pop())\n      const assignment = selectables.find(seatAssignment => seatAssignment.assignable.id === id)\n\n      // If the assignment doesnt exist but we have a record of it, remove it\n      if (item in stableRef && !assignment) {\n        stableRef[item] = null\n      }\n\n      if (assignment) {\n        stableRef[item] = assignment\n      }\n    }\n\n    for (const key in stableRef) {\n      if (!selectedItems.includes(key)) {\n        stableRef[key] = null\n      }\n    }\n    updateStableRef(stableRef)\n    setUniqueSelected(\n      Object.values(stableRef).reduce((unique: Set<number>, assignment: EnterpriseTeamSeatAssignment) => {\n        if (!assignment) {\n          return unique\n        }\n        return new Set([...unique].concat(assignment.assignable.member_ids))\n      }, new Set<number>()).size,\n    )\n  }, [selectedItems, selectables, stableRef, updateStableRef])\n\n  const onConfirm = () => {\n    const toCreate = EnterpriseTeamAssignment.selectedAssignmentsInjector(\n      selectedItems,\n      Object.values(stableRef),\n      (assignment, injected) => {\n        if (!assignment) {\n          return injected\n        }\n\n        const payload = EnterpriseTeamAssignment.toRemotePayload(assignment)\n        injected.push(payload)\n        return injected\n      },\n      [] as EnterpriseTeamAssignables,\n    )\n\n    props.onConfirm(toCreate)\n  }\n\n  usePreventBodyScroll({isActive: isOpen})\n\n  if (!isOpen) {\n    return null\n  }\n\n  return (\n    <Dialog\n      onClose={onClose}\n      sx={{width: '768px'}}\n      data-testid=\"add-members-dialog\"\n      title=\"Add enterprise teams to enable access to Copilot Business\"\n      renderBody={() => <>{props.children}</>}\n      renderFooter={({footerButtons}) => {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const {containerRef: footerRef} = useFocusZone({\n          bindKeys: FocusKeys.ArrowHorizontal | FocusKeys.Tab,\n          focusInStrategy: 'closest',\n        })\n\n        return (\n          <Dialog.Footer\n            ref={footerRef as React.RefObject<HTMLDivElement>}\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              gap: 3,\n              flexWrap: 'nowrap',\n            }}\n          >\n            <NewAssignmentsEstimatedCost seatCount={uniqueSelected} seatCost={19} />\n            {footerButtons && (\n              <Box sx={{display: 'flex', gap: 2, alignItems: 'center', flexShrink: 0, justifySelf: 'flex-end'}}>\n                <Dialog.Buttons buttons={footerButtons} />\n              </Box>\n            )}\n          </Dialog.Footer>\n        )\n      }}\n      footerButtons={[\n        {content: 'Cancel', onClick: onClose},\n        {\n          content: 'Add teams',\n          onClick: onConfirm,\n          buttonType: 'primary',\n        },\n      ]}\n    />\n  )\n}\n\nexport function AddSeatAssignmentsDialog(props: Omit<Props, 'onConfirm'>) {\n  const {payload, update} = useSeatManagementContext()\n  const {business} = payload\n\n  const queryState = usePaginatedSearchQuery({initialSort: 'name_asc'})\n\n  const useCopilotStandaloneFetcher = useCreateFetcher(standaloneSeatManagementEndpoint, {slug: business.slug})\n  const {data, loading} = useCopilotStandaloneFetcher<{teams: EnterpriseTeamSeatAssignment[]; total: number}>({\n    resource: `members/search?${queryState.makeQueryString()}`,\n  })\n  const [pagedData, updatePagedData] = useState(data?.teams ?? [])\n\n  const {listEndRef, listHeadRef, doReset} = usePaginateScroll({\n    shouldLoadMore: !queryState.query,\n    currentPage: queryState.currentPage,\n    onPaginate: queryState.paginate,\n    loading,\n    totalItems: data?.total ?? 0,\n    shouldReset: queryState.queryHasChanged(),\n  })\n\n  useEffect(() => {\n    if (doReset.current) {\n      updatePagedData(data?.teams ?? [])\n      doReset.current = false\n    } else {\n      updatePagedData(currentData => {\n        const newData = data?.teams ?? []\n\n        for (const assignment of currentData) {\n          if (newData.some(newTeamAssignment => newTeamAssignment.assignable.id === assignment.assignable.id)) {\n            continue\n          }\n\n          newData.push(assignment)\n        }\n\n        return newData\n      })\n    }\n  }, [doReset, data])\n\n  const {createAssignment, error} = useCreateSeatAssignment<CopilotStandaloneSeatManagementPayload>({\n    owner: business.slug,\n    onComplete: updated => {\n      props.onClose()\n      update(updated)\n    },\n  })\n\n  const isUnassigned = useCallback(\n    (maybeAssignment: EnterpriseTeamSeatAssignment) => maybeAssignment.status !== 'stable',\n    [],\n  )\n  const tableFilters = useMemo(() => [EnterpriseTeamAssignment.isSelectable, isUnassigned], [isUnassigned])\n\n  return (\n    <SelectionStateProvider<EnterpriseTeamSeatAssignment>\n      selectionState={{\n        selectables: pagedData,\n        total: data?.total ?? 0,\n        key: makeSelectedKey,\n        filters: tableFilters,\n      }}\n    >\n      <AssignmentsDialog {...props} onConfirm={createAssignment}>\n        <Box ref={listHeadRef} sx={{minHeight: 200}}>\n          {error && <CopilotFlash variant=\"danger\">{error}</CopilotFlash>}\n          <DialogBody queryState={queryState}>\n            <ScrollPaginator listEndRef={listEndRef} loading={loading} />\n          </DialogBody>\n        </Box>\n      </AssignmentsDialog>\n    </SelectionStateProvider>\n  )\n}\n\ntry{ ScrollPaginator.displayName ||= 'ScrollPaginator' } catch {}\ntry{ SelectableTableHeader.displayName ||= 'SelectableTableHeader' } catch {}\ntry{ DialogBody.displayName ||= 'DialogBody' } catch {}\ntry{ AssignmentsDialog.displayName ||= 'AssignmentsDialog' } catch {}\ntry{ AddSeatAssignmentsDialog.displayName ||= 'AddSeatAssignmentsDialog' } catch {}","import {useRef, useMemo, useCallback, useEffect} from 'react'\n\nconst DEFAULT_PAGE_SIZE = 25\n\ntype Configs = {\n  shouldLoadMore: boolean\n  shouldReset: boolean\n  loading: boolean\n  currentPage: number\n  totalItems: number\n  onPaginate: (currentPage: number) => void\n  pageSize?: number\n}\n\nexport function usePaginateScroll(configs: Configs) {\n  const {\n    loading,\n    currentPage,\n    totalItems,\n    pageSize = DEFAULT_PAGE_SIZE,\n    onPaginate,\n    shouldLoadMore,\n    shouldReset,\n  } = configs\n\n  const listEndRef = useRef<HTMLDivElement | null>(null)\n  const listHeadRef = useRef<HTMLDivElement | null>(null)\n  const doReset = useRef(false)\n\n  const hasLoadedAllPages = useMemo(() => {\n    return currentPage * pageSize >= totalItems\n  }, [currentPage, totalItems, pageSize])\n\n  const loadMore = useCallback(async () => {\n    if (loading) return\n    if (hasLoadedAllPages) return\n    if (!shouldLoadMore) return\n\n    onPaginate(currentPage + 1)\n  }, [shouldLoadMore, loading, hasLoadedAllPages, currentPage, onPaginate])\n\n  const handleIntersection = useCallback(\n    (entries: IntersectionObserverEntry[]) => {\n      const target = entries[0]\n\n      if (target?.isIntersecting) {\n        loadMore()\n      }\n    },\n    [loadMore],\n  )\n\n  useEffect(() => {\n    if (!listEndRef.current) return\n\n    const observer = new IntersectionObserver(handleIntersection, {root: listHeadRef.current})\n\n    observer.observe(listEndRef.current)\n\n    return () => {\n      observer.disconnect()\n    }\n  }, [handleIntersection, listHeadRef, loading])\n\n  useEffect(() => {\n    if (shouldReset) {\n      doReset.current = true\n      onPaginate(1)\n    }\n  }, [onPaginate, shouldReset])\n\n  return {listEndRef, listHeadRef, doReset}\n}\n","import isEqual from 'lodash-es/isEqual'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {SelectableTable} from '../../copilot-for-business/standalone/components/SelectableTable'\nimport type {CopilotStandaloneSeatManagementPayload} from '../standalone/types'\nimport {StandaloneActionsBar} from '../../copilot-for-business/standalone/components/StandaloneActionsBar'\nimport {StandaloneBlankslate} from '../../copilot-for-business/standalone/components/StandaloneBlankslate'\nimport {useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport {useCreateFetcher} from '../hooks/use-fetchers'\nimport {SeatManagementContext} from '../standalone/hooks/use-seat-management-context'\nimport {PulseCheck} from '../../copilot-for-business/standalone/components/PulseCheck'\nimport {usePaginatedSearchQuery} from '../hooks/use-search-query'\nimport {AddSeatAssignmentsDialog} from '../../copilot-for-business/standalone/components/AddSeatAssignmentsDialog'\nimport {SelectionStateProvider} from '../../copilot-for-business/standalone/components/SelectionStateProvider'\nimport type {EnterpriseTeamSeatAssignment} from '../types'\nimport {EnterpriseTeamAssignment} from '../standalone/helpers/enterprise-team-assignment'\nimport {makeSelectedKey} from '../standalone/helpers/make-selected-key'\nimport {pluralize} from '../helpers/text'\nimport {standaloneSeatManagementEndpoint} from '../standalone/helpers/api-endpoints'\n\nfunction SelectableTableHeader(props: Parameters<React.ComponentProps<typeof SelectableTable>['headerText']>[0]) {\n  if (props.selectedCount > 0) {\n    return <span data-testid=\"bulk-selected\">{pluralize(props.selectedCount, 'team', 's')} selected</span>\n  }\n\n  return (\n    <span data-testid=\"seat-management-selected-count\">\n      {pluralize(props.totalCount, 'team', 's')} with access to Copilot Business\n    </span>\n  )\n}\n\nexport default function CopilotStandaloneSeatManagement() {\n  const routeData = useRoutePayload<CopilotStandaloneSeatManagementPayload>()\n  const {\n    business: {slug},\n  } = routeData\n  const {currentPage, paginate, query, handleSearch, sortDetails, updateSortDetails, makeQueryString} =\n    usePaginatedSearchQuery({initialSort: 'name_asc'})\n\n  const useCopilotStandaloneFetcher = useCreateFetcher(standaloneSeatManagementEndpoint, {slug})\n  const {data} = useCopilotStandaloneFetcher<{payload: CopilotStandaloneSeatManagementPayload}>({\n    resource: `seat_management?${makeQueryString()}`,\n    initialData: {payload: routeData},\n  })\n\n  const dataRef = useRef(data?.payload)\n  const [payload, setPayload] = useState(data?.payload ?? routeData)\n\n  useEffect(() => {\n    if (data && dataRef.current && !isEqual(dataRef.current, data)) {\n      setPayload(data.payload)\n      dataRef.current = data.payload\n    }\n  }, [data])\n\n  const seatManagementData = useMemo(\n    () => ({\n      payload,\n      update: setPayload,\n    }),\n    [payload],\n  )\n  const hasExistingSeats = payload.count !== 0\n\n  const [showAddTeamsUi, setShowAddTeamsUi] = useState(false)\n  const handleShowAddTeamUi = useCallback(() => setShowAddTeamsUi(true), [setShowAddTeamsUi])\n  const closeAddTeamsUi = useCallback(() => setShowAddTeamsUi(false), [setShowAddTeamsUi])\n\n  return (\n    <SeatManagementContext.Provider value={seatManagementData}>\n      <PulseCheck slug={payload.business.slug} licenses={payload.total_seats} />\n      {hasExistingSeats && <StandaloneActionsBar onSearch={handleSearch} onAddTeams={handleShowAddTeamUi} />}\n      {!hasExistingSeats && <StandaloneBlankslate onAddTeams={handleShowAddTeamUi} />}\n      {hasExistingSeats && (\n        <SelectionStateProvider<EnterpriseTeamSeatAssignment>\n          selectionState={{\n            selectables: payload.seatAssignments,\n            total: payload.count,\n            key: makeSelectedKey,\n            filters: [EnterpriseTeamAssignment.isSelectable],\n          }}\n        >\n          <SelectableTable\n            query={query}\n            paginate={paginate}\n            currentPage={currentPage}\n            sortDetails={sortDetails}\n            setSortDetails={updateSortDetails}\n            items={payload.seatAssignments}\n            headerText={SelectableTableHeader}\n            denySelectionFilters={[EnterpriseTeamAssignment.isPendingCancellation]}\n          />\n        </SelectionStateProvider>\n      )}\n      {showAddTeamsUi && <AddSeatAssignmentsDialog isOpen={showAddTeamsUi} onClose={closeAddTeamsUi} />}\n    </SeatManagementContext.Provider>\n  )\n}\n\ntry{ SelectableTableHeader.displayName ||= 'SelectableTableHeader' } catch {}\ntry{ CopilotStandaloneSeatManagement.displayName ||= 'CopilotStandaloneSeatManagement' } catch {}"],"names":["SeatManagementContext","createContext","useSeatManagementContext","context","useContext","EnterpriseTeamAssignment","formattedCancellationDate","seatAssignment","pending_cancellation_date","date","Date","localDate","getUTCFullYear","getUTCMonth","getUTCDate","toLocaleDateString","month","day","year","isPendingCreation","assignment","id","status","isPendingCancellation","isPendingReassignment","isPendingUnassignment","isStable","isSelectable","toRemotePayload","assignable","name","slug","type","assignable_type","selectedAssignmentsInjector","selected","assignments","mapper","inject","reduce","injected","key","_","_id","split","Number","find","usePreventBodyScroll","isActive","useEffect","document","body","style","overflow","RemovalDialogText","props","toCancel","length","Text","as","sx","fontWeight","RemoveTeamAssignmentsDialog","onConfirm","onCancel","isOpen","error","pendingCancelled","Array","isArray","dualGrammaticalTeam","pluralize","Dialog","title","renderBody","Box","p","CopilotFlash","variant","mb","onClose","footerButtons","content","onClick","mr","buttonType","displayName","standaloneCSVEndpoint","buildTemplate","standaloneSeatManagementEndpoint","useCreateSeatAssignment","owner","onComplete","onError","setError","useState","handler","useRemoteMutation","useCreateMutator","resource","method","createAssignment","useCallback","payload","enterprise_team_ids","map","a","data","RowActionsMenu","isVisible","testId","returnFocusRef","useRef","ActionMenu","Anchor","IconButton","unsafeDisableTooltip","icon","KebabHorizontalIcon","aria-label","ref","data-testid","height","width","Overlay","ActionList","selectionVariant","children","Status","text","LastUsage","className","textAlign","color","fontSize","last_activity_at","RelativeTime","SelectableTableRow","checked","handleCheck","handleCancel","handleRestore","withRowActions","isDisabled","disabled","showKebabMenu","onRestoreAccess","StatusText","statusInfo","backgroundColor","boxShadow","borderBottomRightRadius","borderBottomLeftRadius","px","py","SeatCheckboxControl","onChange","selectable","display","flexGrow","alignItems","justifyContent","SeatAssignable","seat","muteTitle","Item","aria-checked","onSelect","whiteSpace","getSortIcon","includes","SortAscIcon","SortDescIcon","sortTypeText","name_asc","name_desc","use_asc","use_desc","requested_at_asc","requested_at_desc","pending_cancelled_asc","pending_cancelled_desc","member_count_asc","member_count_desc","sortTypeDescription","AssignablesSort","sort","sortDetails","sortOptions","cancellation","didSort","setDidSort","doSort","sortName","sortOptionComponents","useMemo","index","position","top","borderWidth","borderStyle","borderImage","borderColor","SortOption","label","Button","border","leadingVisual","showDividers","option","SelectionStateContext","useSelectionStateContext","NoSearchResultsBlankslate","borderTopRightRadius","borderTopLeftRadius","Octicon","PersonIcon","size","h2","flexDirection","SORT_OPTIONS","SelectableTable","update","seatAssignments","count","filtered_count","business","items","withDelete","query","denySelectionFilters","selectionState","checkCount","allChecked","isIndeterminate","checkOne","checkAll","uncheckAll","isChecked","selectedItems","confirmCancellation","rejectConfirmation","cancellationError","pendingConfirmation","beginCancel","useCancelSeatAssignment","configs","setPendingConfirmation","setCancellationError","respData","nextPayload","setTargetAssignment","anyChecked","anySelectable","some","cancelTargetAssignment","targetAssignment","item","push","selectedIds","encodeURIComponent","join","setSortDetails","div","role","Checkbox","indeterminate","headerText","selectedCount","totalCount","TrashIcon","i","filter","Pagination","showPages","pageCount","Math","ceil","currentPage","onPageChange","e","page","preventDefault","paginate","LeftAction","RightAction","Actions","leftActions","Children","toArray","child","ActionsBar","rightActions","Object","assign","FilterOption","filterItem","filterer","FilterableSearch","placeholder","search","searchProps","filterProps","assertFilterProps","filterStyleOpts","filterOptions","FilterIcon","borderRight","currentFilter","TextInput","SearchIcon","block","event","target","value","StandaloneActionsBar","onSearch","onAddTeams","loading","makeCSVRequest","useCreateCSV","endpoint","section","Spinner","marginRight","FileIcon","StandaloneBlankslate","CopilotCard","mt","Card","rest","borderRadius","PulseCard","flex","alignSelf","PulseCheck","gap","marginBottom","licenses","Link","href","ssrSafeLocation","origin","formatCurrency","COPILOT_BUSINESS_LICENSE_COST","NewAssignmentsEstimatedCost","span","seatCount","currency","seatCost","SelectionStateProvider","useSelectables","selectables","total","filters","setIsIndeterminate","setChecked","setAllChecked","setSize","values","Boolean","ableToSelectCount","current","every","entries","memo","acc","newChecked","stableRef","updateStableRef","contextValue","Provider","makeSelectedKey","ScrollPaginator","listEndRef","SelectableTableHeader","DialogBody","queryState","padding","maxHeight","overflowY","handleSearch","updateSortDetails","AssignmentsDialog","uniqueSelected","setUniqueSelected","pop","unique","Set","concat","member_ids","renderFooter","containerRef","footerRef","useFocusZone","bindKeys","FocusKeys","ArrowHorizontal","Tab","focusInStrategy","Footer","flexWrap","flexShrink","justifySelf","Buttons","buttons","toCreate","AddSeatAssignmentsDialog","usePaginatedSearchQuery","initialSort","useCopilotStandaloneFetcher","useCreateFetcher","makeQueryString","pagedData","updatePagedData","teams","listHeadRef","doReset","usePaginateScroll","totalItems","pageSize","onPaginate","shouldLoadMore","shouldReset","hasLoadedAllPages","loadMore","handleIntersection","isIntersecting","observer","IntersectionObserver","root","observe","disconnect","queryHasChanged","currentData","newData","newTeamAssignment","updated","isUnassigned","maybeAssignment","tableFilters","minHeight","CopilotStandaloneSeatManagement","routeData","useRoutePayload","initialData","dataRef","setPayload","isEqual","seatManagementData","hasExistingSeats","showAddTeamsUi","setShowAddTeamsUi","handleShowAddTeamUi","closeAddTeamsUi","total_seats"],"sourceRoot":""}