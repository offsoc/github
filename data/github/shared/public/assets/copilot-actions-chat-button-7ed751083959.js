"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["copilot-actions-chat-button"],{68364:(e,t,r)=>{var o=r(72245),n=r(74848),i=r(281),s=r(87330),a=r(17909),c=r(6185),l=r(55847),d=r(59857),u=r(822),h=r(89426);let p={copilotActionsChatButton:"CopilotActionsChatButton-module__copilotActionsChatButton--Hb7TL",buttonBorder:"CopilotActionsChatButton-module__buttonBorder--OV8V2",compact:"CopilotActionsChatButton-module__compact--HdJfv",expanded:"CopilotActionsChatButton-module__expanded--XgruB",expandButton:"CopilotActionsChatButton-module__expandButton--dgmIX"};var m=r(20053);let _="copilot-actions-chat-button";function g(){let e=()=>(0,u.qR)({intent:h.wh.conversation,content:"Using the following logs, investigate related files and suggest code to fix the problem or problems identified.",references:[],id:_}),t=()=>(0,u.qR)({intent:h.wh.conversation,content:"Explain the error in this job.",references:[],id:_});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:(0,m.$)(p.copilotActionsChatButton,p.compact),children:(0,n.jsxs)(i.W,{children:[(0,n.jsx)(i.W.Anchor,{children:(0,n.jsx)(s.K,{icon:d.CopilotIcon,"aria-label":"Ask Copilot about these logs",className:p.buttonBorder,style:{borderTop:"none"}})}),(0,n.jsx)(i.W.Overlay,{children:(0,n.jsxs)(a.l,{children:[(0,n.jsx)(a.l.Item,{onSelect:e,children:"Suggest a fix"}),(0,n.jsx)(a.l.Item,{onSelect:t,children:"Explain error"})]})})]})}),(0,n.jsx)("div",{className:(0,m.$)(p.copilotActionsChatButton,p.expanded),children:(0,n.jsxs)(c.A,{children:[(0,n.jsx)(l.Q,{leadingVisual:d.CopilotIcon,onClick:e,className:p.buttonBorder,style:{borderTop:"none"},children:"Suggest a fix"}),(0,n.jsxs)(i.W,{children:[(0,n.jsx)(i.W.Anchor,{children:(0,n.jsx)(s.K,{className:(0,m.$)(p.expandButton,p.buttonBorder),icon:d.TriangleDownIcon,"aria-label":"Ask Copilot about these logs",style:{borderTop:"none"}})}),(0,n.jsx)(i.W.Overlay,{align:"end",children:(0,n.jsx)(a.l,{children:(0,n.jsx)(a.l.Item,{onSelect:t,children:"Explain error"})})})]})]})})]})}try{g.displayName||(g.displayName="CopilotActionsChatButton")}catch{}(0,o.k)("copilot-actions-chat-button",{Component:g})},822:(e,t,r)=>{r.d(t,{HS:()=>i,Oc:()=>n,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>a,qR:()=>o});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function o(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function n(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function i(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function a(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},89426:(e,t,r)=>{r.d(t,{C6:()=>i,G7:()=>o,wh:()=>n,xP:()=>s});let o="tree-comparison",n={explain:"explain",conversation:"conversation",suggest:"suggest",askDocs:"ask-docs",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request"},i=["exception","filtered","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],s=["bing-search","codesearch","kb-search","pathsearch","show-symbol-definition","getissue","getprcommits","getcommit","getrelease","getrepo","getdiff","get-diff-by-range","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getpullrequest","getalert","planskill","get-github-data","support-search"]},92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new o),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let o=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>i,QJ:()=>s,w8:()=>n});var o=r(96540);function n(e){return((0,o.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function i(e){let t=(0,o.useRef)(e.__wrapperElement.anchor||null),[r,n]=(0,o.useState)(!1),i=(0,o.useCallback)(()=>{n(!r)},[r,n]);return(0,o.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),s(e,i),{ref:t,open:r,setOpen:n}}function s(e,t){let r=(0,o.useRef)(e.__wrapperElement.anchor);(0,o.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>l});let o=new(r(92536)).R;var n=r(74848),i=r(39595),s=r(24508),a=r(23235);let c=class ReactPartialElement extends s.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,o.getRegistration(t)),i=this.closest("react-partial-anchor");return(0,n.jsx)(a.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:i})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function l(e,t){o.register(e,t)}c=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}([i.p_],c)},23581:(e,t,r)=>{r.d(t,{A:()=>a});let{getItem:o,setItem:n,removeItem:i}=(0,r(74572).A)("localStorage"),s="REACT_PROFILING_ENABLED",a={enable:()=>n(s,"true"),disable:()=>i(s),isEnabled:()=>!!o(s)}},23235:(e,t,r)=>{r.d(t,{c:()=>m});var o=r(74848),n=r(96540),i=r(36165),s=r(45588),a=r(49107),c=r(47767),l=r(59840);function d({children:e,history:t}){let[r,i]=(0,n.useState)({location:t.location});return(0,l.m)(()=>t.listen(i),[t]),(0,o.jsx)(c.Ix,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var u=r(17857),h=r(51261),p=r(75014);function m({partialName:e,embeddedData:t,Component:r,wasServerRendered:c,ssrError:l,anchorElement:m}){let _=n.useRef(),g=globalThis.window;_.current||(_.current=g?(0,h.z)({window:g}):(0,s.sC)({initialEntries:[{pathname:"/"}]}));let f=_.current,b=(0,p.w8)(m);return(0,o.jsx)(i.U,{appName:e,wasServerRendered:c,children:(0,o.jsx)(a.Q,{history:f,routes:[],children:(0,o.jsxs)(d,{history:f,children:[(0,o.jsx)(r,{...t.props,...b}),(0,o.jsx)(u.h,{ssrError:l})]})})})}try{m.displayName||(m.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var o=r(74848),n=r(39595),i=r(5338),s=r(96540),a=r(23581),c=r(79461),l=r(51528);function d(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}let u=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:i.H,hydrateRoot:i.c};a.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,n=await this.getReactNode(t),c=(0,o.jsx)(s.StrictMode,{children:n});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,c,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=u.exec(e.message),r=String(t?.groups?.invariant);(0,l.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(c);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87335,19))}logSSRError(e){if(c.z[e])return console.error("SSR failed with an expected error:",c.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:o,lineno:n,colno:i}=e,s=`${t} at ${r} (${o}:${n}:${i})`;return t=" ",s}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([n.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([n.aC],ReactBaseElement.prototype,"ssrError",void 0),d([n.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{u.displayName||(u.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_ButtonGroup_ButtonGroup_js-node_modules_primer_reac-ac7328","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(68364)),e.O()}]);
//# sourceMappingURL=copilot-actions-chat-button-9a485a922e8f.js.map