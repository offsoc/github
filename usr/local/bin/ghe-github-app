#!/bin/bash
#/ Usage: ghe-github-app [suspend|unsuspend] client_id
#/
#/ Suspend or unsuspend all installations for a
#/ GitHub App.
#/
#/ OPTIONS:
#/   -h | --help        Show this message.
#/

set -e
usage() {
  grep '^#/' < "$0" | cut -c 4-
}

if [ $# -eq 0 ]; then
  usage
  exit 2
fi

case "$1" in
  -h|--help)
    usage
    exit 2
    ;;
  suspend)
    github-env bin/ghe-app-suspensions --suspend="$2"
    ;;
  unsuspend)
    github-env bin/ghe-app-suspensions --unsuspend="$2"
    ;;
  *)
    usage
    exit 2
    ;;
esac
