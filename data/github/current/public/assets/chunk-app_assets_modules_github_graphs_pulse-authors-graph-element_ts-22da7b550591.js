"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_graphs_pulse-authors-graph-element_ts"],{95931:(t,n,e)=>{e.d(n,{A:()=>r});function r(t,n,e){t=+t,n=+n,e=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+e;for(var r=-1,a=0|Math.max(0,Math.ceil((n-t)/e)),i=Array(a);++r<a;)i[r]=t+r*e;return i}},51889:(t,n,e)=>{e.d(n,{l7:()=>c,V4:()=>d,eH:()=>s});var r=Array.prototype.slice;function a(t){return t}function i(t){return"translate("+(t+.5)+",0)"}function o(t){return"translate(0,"+(t+.5)+")"}function l(){return!this.__axis}function u(t,n){var e=[],u=null,s=null,c=6,d=6,f=3,h=1===t||4===t?-1:1,p=4===t||2===t?"x":"y",g=1===t||3===t?i:o;function m(r){var i=null==u?n.ticks?n.ticks.apply(n,e):n.domain():u,o=null==s?n.tickFormat?n.tickFormat.apply(n,e):a:s,m=Math.max(c,0)+f,y=n.range(),v=+y[0]+.5,x=+y[y.length-1]+.5,w=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return n=>+t(n)})(n.copy()),b=r.selection?r.selection():r,k=b.selectAll(".domain").data([null]),M=b.selectAll(".tick").data(i,n).order(),A=M.exit(),T=M.enter().append("g").attr("class","tick"),_=M.select("line"),C=M.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(T),_=_.merge(T.append("line").attr("stroke","currentColor").attr(p+"2",h*c)),C=C.merge(T.append("text").attr("fill","currentColor").attr(p,h*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),r!==b&&(k=k.transition(r),M=M.transition(r),_=_.transition(r),C=C.transition(r),A=A.transition(r).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=w(t))?g(t):this.getAttribute("transform")}),T.attr("opacity",1e-6).attr("transform",function(t){var n=this.parentNode.__axis;return g(n&&isFinite(n=n(t))?n:w(t))})),A.remove(),k.attr("d",4===t||2==t?d?"M"+h*d+","+v+"H0.5V"+x+"H"+h*d:"M0.5,"+v+"V"+x:d?"M"+v+","+h*d+"V0.5H"+x+"V"+h*d:"M"+v+",0.5H"+x),M.attr("opacity",1).attr("transform",function(t){return g(w(t))}),_.attr(p+"2",h*c),C.attr(p,h*m).text(o),b.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each(function(){this.__axis=w})}return m.scale=function(t){return arguments.length?(n=t,m):n},m.ticks=function(){return e=r.call(arguments),m},m.tickArguments=function(t){return arguments.length?(e=null==t?[]:r.call(t),m):e.slice()},m.tickValues=function(t){return arguments.length?(u=null==t?null:r.call(t),m):u&&u.slice()},m.tickFormat=function(t){return arguments.length?(s=t,m):s},m.tickSize=function(t){return arguments.length?(c=d=+t,m):c},m.tickSizeInner=function(t){return arguments.length?(c=+t,m):c},m.tickSizeOuter=function(t){return arguments.length?(d=+t,m):d},m.tickPadding=function(t){return arguments.length?(f=+t,m):f},m}function s(t){return u(2,t)}function c(t){return u(3,t)}function d(t){return u(4,t)}},87031:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(10541),a=e(50183);function i(){let t=function(){let t=document.createElement("div");return t.style.position="absolute",t.style.top="0",t.style.opacity="0",t.style.pointerEvents="none",t.style.boxSizing="border-box",t}(),n=null;function e(){return[0,0]}function i(){return" "}function o(e){n=(function(t){let n=t.node();return"svg"===n.tagName.toLowerCase()?n:n.ownerSVGElement})(e).createSVGPoint(),document.body.appendChild(t)}return o.show=function(r,a){let l=i(a),u=e(a),s=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;t.innerHTML=l,t.style.opacity="1",t.style.pointerEvents="all";let d=function(t,n,e){let r=function(t,n){let e=t;for(;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;let r={},a=e.getScreenCTM(),i=e.getBBox(),o=i.width,l=i.height,u=i.x,s=i.y;return n.x=u,n.y=s,r.nw=n.matrixTransform(a),n.x+=o,r.ne=n.matrixTransform(a),n.y+=l,r.se=n.matrixTransform(a),n.x-=o,r.sw=n.matrixTransform(a),n.y-=l/2,r.w=n.matrixTransform(a),n.x+=o,r.e=n.matrixTransform(a),n.x-=o/2,n.y-=l/2,r.n=n.matrixTransform(a),n.y+=l,r.s=n.matrixTransform(a),r}(e,t);return{top:r.n.y-n.offsetHeight,left:r.n.x-n.offsetWidth/2}}(n,t,r.target);return t.classList.toggle("n",!0),t.style.top=`${d.top+u[0]+s}px`,t.style.left=`${d.left+u[1]+c}px`,o},o.hide=function(){return t.style.opacity="0",t.style.pointerEvents="none",o},o.attr=function(n,e){return r.Ay.prototype.attr.apply((0,a.A)(t),[n,e]),o},o.offset=function(t){return e=function(){return t},o},o.html=function(t){return i=t,o},o}},88742:(t,n,e)=>{e.r(n);var r=e(39595),a=e(95931),i=e(21671),o=e(53170),l=e(4049),u=e(51889),s=e(87031),c=e(27193),d=e(14398),f=e(5225),h=e(50183);function p(t,n,e,r){var a,i=arguments.length,o=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(i<3?a(o):i>3?a(n,e,o):a(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}let g=(0,f.A)(m);async function m(t){let n=await (0,c.Ee)(t,{headers:{accept:"application/json"}});return await n.json()}let y=class PulseAuthorsGraphElement extends HTMLElement{async connectedCallback(){let t=this.graph,n=t?t.getAttribute("data-url"):"";if(n){for(let n of t.querySelectorAll("svg.viz"))n.remove();t.classList.add("is-graph-loading"),t.classList.remove("is-graph-load-error","is-graph-empty");try{let e=await g(n);t.classList.remove("is-graph-loading"),null!=e&&e.unusable?t.classList.add("is-graph-without-usable-data"):null!=e&&0===e.length||null!=e&&null!=e.summary&&0===e.summary.total||null!=e[0]&&null!=e[0].weeks&&0===e[0].weeks.length?t.classList.add("is-graph-empty"):function(t,n){let e=n.slice(0,15),r=Math.round(t.getBoundingClientRect().width)-25-0,c=Math.round(t.getBoundingClientRect().height||150)-20-30,f=(0,o.A)().domain((0,a.A)(15)).rangeRound([0,r]).padding(.2),p=(0,l.A)().domain([0,(0,i.A)(e,t=>t.commits)]).range([c,0]),g=(0,u.V4)(p).ticks(3).tickSize(-r).tickFormat(t=>t<1e3?t:(0,d.GP)(",~s")(t)),m=(0,s.A)().attr("class","svg-tip").offset([-10,0]).html(function(t){let n=t.login||t.name;return`<strong>${t.commits}</strong> ${1===t.commits?"commit":"commits"} authored by <strong>${n}</strong>`}),y=(0,h.A)(t).append("svg").attr("class","viz").attr("width",r+25+0).attr("height",c+20+30).append("g").attr("transform","translate(25, 20)").call(m);y.append("g").attr("class","y axis").call(g);let v=y.selectAll(".bar").data(e).enter().append("g").attr("class",`bar ${t.getAttribute("data-bar-class")}`).attr("transform",(t,n)=>`translate(${f(n)}, 0)`);v.append("rect").attr("width",f.bandwidth()).attr("height",t=>c-p(t.commits)).attr("y",t=>p(t.commits)).on("mouseover",m.show).on("mouseout",m.hide),v.append("a").attr("xlink:href",function(t){if(null!=t.login)return`/${t.login}`}).attr("data-hovercard-type","user").attr("data-hovercard-url",t=>t.hovercard_url).append("image").attr("y",c+5).attr("alt",t=>t.login||"").attr("xlink:href",t=>t.gravatar).attr("width",f.bandwidth()).attr("height",f.bandwidth())}(t,e)}catch(n){throw t.classList.remove("is-graph-loading"),t.classList.add("is-graph-load-error"),n}}}};p([r.aC],y.prototype,"graph",void 0),y=p([r.p_],y)},53170:(t,n,e)=>{e.d(n,{A:()=>function t(){var n,e,i=(0,a.A)().unknown(void 0),o=i.domain,l=i.range,u=0,s=1,c=!1,d=0,f=0,h=.5;function p(){var t=o().length,r=s<u,a=r?s:u,i=r?u:s;n=(i-a)/Math.max(1,t-d+2*f),c&&(n=Math.floor(n)),a+=(i-a-n*(t-d))*h,e=n*(1-d),c&&(a=Math.round(a),e=Math.round(e));var p=(function(t,n,e){t=+t,n=+n,e=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+e;for(var r=-1,a=0|Math.max(0,Math.ceil((n-t)/e)),i=Array(a);++r<a;)i[r]=t+r*e;return i})(t).map(function(t){return a+n*t});return l(r?p.reverse():p)}return delete i.unknown,i.domain=function(t){return arguments.length?(o(t),p()):o()},i.range=function(t){return arguments.length?([u,s]=t,u=+u,s=+s,p()):[u,s]},i.rangeRound=function(t){return[u,s]=t,u=+u,s=+s,c=!0,p()},i.bandwidth=function(){return e},i.step=function(){return n},i.round=function(t){return arguments.length?(c=!!t,p()):c},i.padding=function(t){return arguments.length?(d=Math.min(1,f=+t),p()):d},i.paddingInner=function(t){return arguments.length?(d=Math.min(1,t),p()):d},i.paddingOuter=function(t){return arguments.length?(f=+t,p()):f},i.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),p()):h},i.copy=function(){return t(o(),[u,s]).round(c).paddingInner(d).paddingOuter(f).align(h)},r.C.apply(p(),arguments)}});var r=e(99065),a=e(99311)},99311:(t,n,e)=>{e.d(n,{A:()=>function t(){var n=new InternMap,e=[],r=[],a=o;function l(t){let i=n.get(t);if(void 0===i){if(a!==o)return a;n.set(t,i=e.push(t)-1)}return r[i%r.length]}return l.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],n=new InternMap,t))n.has(r)||n.set(r,e.push(r)-1);return l},l.range=function(t){return arguments.length?(r=Array.from(t),l):r.slice()},l.unknown=function(t){return arguments.length?(a=t,l):a},l.copy=function(){return t(e,r).unknown(a)},i.C.apply(l,arguments),l}});let InternMap=class InternMap extends Map{constructor(t,n=a){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(let[n,e]of t)this.set(n,e)}get(t){return super.get(r(this,t))}has(t){return super.has(r(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){let r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){let r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}(this,t))}};function r({_intern:t,_key:n},e){let r=n(e);return t.has(r)?t.get(r):e}function a(t){return null!==t&&"object"==typeof t?t.valueOf():t}var i=e(99065);let o=Symbol("implicit")}}]);
//# sourceMappingURL=app_assets_modules_github_graphs_pulse-authors-graph-element_ts-773a8718de21.js.map