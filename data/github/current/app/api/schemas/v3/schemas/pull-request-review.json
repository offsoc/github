{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "id": "https://schema.github.com/v3/pull-request-review.json",
  "title": "Pull Request Review",
  "description": "Pull Request Reviews are reviews on pull requests.",
  "type": "object",
  "definitions": {
    "id": {
      "description": "Unique identifier of the review",
      "example": 42,
      "type": "integer"
    },
    "body": {
      "description": "The text of the review.",
      "example": "This looks great.",
      "type": "string"
    },
    "commit_id": {
      "description": "A commit SHA for the review.",
      "example": "54bb654c9e6025347f57900a4a5c2313a96b8035",
      "type": "string"
    },
    "event": {
      "description": "The desired event to perform on the review",
      "example": "ACCEPT",
      "type": "string"
    },
    "comments": {
      "description": "The desired event to perform on the review",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "body": {
            "example": "Please add more information here and fix this typo.",
            "type": "string"
          },
          "path": {
            "example": "file.md",
            "type": "string"
          },
          "position": {
            "example": 6,
            "type": "number"
          },
          "start_line": {
            "example": 6,
            "type": "number"
          },
          "start_side": {
            "enum": [
              "LEFT",
              "RIGHT"
            ]
          },
          "line": {
            "example": 6,
            "type": "number"
          },
          "side": {
            "enum": [
              "LEFT",
              "RIGHT"
            ]
          }
        }
      }
    },
    "url": {
      "description": "URL for the pull request review",
      "example": "https://api.github.com/repositories/42/pulls/",
      "type": "string"
    },
    "message": {
      "description": "The reason for review dismissal.",
      "example": "This is not relevant",
      "type": "string"
    },
    "owner": {
      "description": "The owner of the repository.",
      "type": "string"
    },
    "repo": {
      "description": "The name of the repository.",
      "type": "string"
    },
    "pull_number": {
      "description": "The number of the pull request.",
      "type": "integer"
    },
    "review_id": {
      "description": "The ID of the review.",
      "type": "integer"
    },
    "repository_id": {
      "description": "The ID of the repository.",
      "type": "integer",
      "example": 42
    },
    "node_id": {
      "type": "string",
      "example": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3ODA="
    },
    "state": {
      "type": "string",
      "example": "CHANGES_REQUESTED"
    },
    "body_html": {
      "type": "string"
    },
    "body_text": {
      "type": "string"
    },
    "html_url": {
      "type": "string",
      "format": "uri",
      "example": "https://github.com/octocat/Hello-World/pull/12#pullrequestreview-80"
    },
    "pull_request_url": {
      "type": "string",
      "format": "uri",
      "example": "https://api.github.com/repos/octocat/Hello-World/pulls/12"
    },
    "submitted_at": {
      "type": "string",
      "format": "date-time"
    },
    "author_association": {
      "type": "string"
    }
  },
  "links": [
    {
      "method": "POST",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews",
      "rel": "create-legacy",
      "schema": {
        "properties": {
          "body": {
            "$ref": "#/definitions/body"
          },
          "commit_id": {
            "$ref": "#/definitions/commit_id"
          },
          "event": {
            "$ref": "#/definitions/event"
          },
          "comments": {
            "$ref": "#/definitions/comments"
          }
        },
        "type": [
          "object",
          "null"
        ]
      },
      "title": "Create a pull request review"
    },
    {
      "method": "POST",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews/{review_id}/events",
      "rel": "submit-legacy",
      "schema": {
        "properties": {
          "body": {
            "$ref": "#/definitions/body"
          },
          "event": {
            "$ref": "#/definitions/event"
          }
        },
        "required": [
          "event"
        ],
        "type": "object"
      },
      "title": "Submit a pull request review"
    },
    {
      "method": "PUT",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews/{review_id}/dismissals",
      "rel": "dismiss-legacy",
      "schema": {
        "properties": {
          "message": {
            "$ref": "#/definitions/message"
          }
        },
        "required": [
          "message"
        ],
        "type": "object"
      },
      "title": "Dismiss a pull request review"
    },
    {
      "title": "Delete a pending review",
      "method": "DELETE",
      "rel": "delete",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews/{review_id}",
      "schema": {
        "additionalProperties": false,
        "type": [
          "null",
          "object"
        ]
      }
    },
    {
      "title": "Update a review",
      "method": "PUT",
      "rel": "update",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews/{review_id}",
      "schema": {
        "properties": {
          "body": {
            "$ref": "#/definitions/body"
          }
        },
        "required": [
          "body"
        ],
        "type": "object",
        "additionalProperties": false
      }
    },
    {
      "title": "Submit a pull request review",
      "method": "POST",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews/{review_id}/events",
      "rel": "submit",
      "schema": {
        "properties": {
          "body": {
            "$ref": "#/definitions/body"
          },
          "event": {
            "$ref": "#/definitions/event"
          }
        },
        "required": [
          "event"
        ],
        "type": "object",
        "additionalProperties": false
      }
    },
    {
      "title": "Dismiss a pull request review",
      "method": "PUT",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews/{review_id}/dismissals",
      "rel": "dismiss",
      "schema": {
        "properties": {
          "message": {
            "$ref": "#/definitions/message"
          }
        },
        "required": [
          "message"
        ],
        "type": "object",
        "additionalProperties": false
      }
    },
    {
      "title": "Create a pull request review",
      "method": "POST",
      "href": "/repositories/{repository_id}/pulls/{pull_number}/reviews",
      "rel": "create",
      "schema": {
        "properties": {
          "body": {
            "$ref": "#/definitions/body"
          },
          "commit_id": {
            "$ref": "#/definitions/commit_id"
          },
          "event": {
            "$ref": "#/definitions/event"
          },
          "comments": {
            "$ref": "#/definitions/comments"
          }
        },
        "additionalProperties": false,
        "type": [
          "object",
          "null"
        ]
      }
    }
  ],
  "properties": {
    "id": {
      "$ref": "#/definitions/id"
    },
    "node_id": {
      "$ref": "#/definitions/node_id"
    },
    "user": {
      "oneOf": [
        {
          "type": "null"
        },
        {
          "$ref": "https://schema.github.com/v3/simple-user.json#"
        }
      ]
    },
    "body": {
      "$ref": "#/definitions/body"
    },
    "state": {
      "$ref": "#/definitions/state"
    },
    "body_html": {
      "$ref": "#/definitions/body_html"
    },
    "body_text": {
      "$ref": "#/definitions/body_text"
    },
    "commit_id": {
      "$ref": "#/definitions/commit_id"
    },
    "html_url": {
      "$ref": "#/definitions/html_url"
    },
    "pull_request_url": {
      "$ref": "#/definitions/pull_request_url"
    },
    "_links": {
      "type": "object",
      "properties": {
        "html": {
          "type": "object",
          "properties": {
            "href": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "required": [
            "href"
          ]
        },
        "pull_request": {
          "type": "object",
          "properties": {
            "href": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "required": [
            "href"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "html",
        "pull_request"
      ]
    },
    "submitted_at": {
      "$ref": "#/definitions/submitted_at"
    },
    "author_association": {
      "$ref": "#/definitions/author_association"
    }
  },
  "additionalProperties": false,
  "required": [
    "id",
    "node_id",
    "user",
    "body",
    "state",
    "commit_id",
    "html_url",
    "pull_request_url",
    "_links",
    "author_association"
  ]
}
