"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["billing-app"],{21605:(e,t,s)=>{s.d(t,{y:()=>n});var a=s(9449),i=s(55293),r=s(31481);function n({children:e,appName:t,category:s,metadata:n}){let l=(0,i.useMemo)(()=>({appName:t,category:s,metadata:n}),[t,s,n]);return(0,a.jsx)(r.I.Provider,{value:l,children:e})}try{n.displayName||(n.displayName="AnalyticsProvider")}catch{}},31481:(e,t,s)=>{s.d(t,{I:()=>a});let a=(0,s(55293).createContext)(null)},83308:(e,t,s)=>{s.d(t,{Ax:()=>c,PE:()=>u.A,qH:()=>g,Fk:()=>f,R_:()=>b});var a=s(9449),i=s(59857),r=s(75177),n=s(30729),l=s(73729),o=s(19526);let d={width:"100%",display:"flex",flex:"1",flexDirection:"column",alignItems:"center",justifyContent:"center",...o.jk};function c({testid:e,text:t,sx:s}){return(0,a.jsxs)(r.A,{sx:{...d,...s},children:[(0,a.jsx)(n.A,{icon:i.AlertIcon,size:32,sx:{mb:2,color:"danger.fg"}}),(0,a.jsx)(l.A,{as:"h2",sx:{fontSize:3},"data-testid":e,children:t})]})}try{c.displayName||(c.displayName="ErrorComponent")}catch{}var u=s(80012),h=s(92979);let p={width:"100%",flex:"1",...o.jk},m={width:"100%",height:"100%"};function g({children:e,sx:t,testid:s}){return(0,a.jsx)(r.A,{sx:{...p,...t},"data-testid":s,children:e||(0,a.jsx)(h.O,{sx:m,variant:"rounded"})})}try{g.displayName||(g.displayName="LoadingComponent")}catch{}let x={width:"100%",display:"flex",flex:"1",flexDirection:"column",alignItems:"center",justifyContent:"center",...o.jk};function f({testid:e,text:t,sx:s}){return(0,a.jsxs)(r.A,{sx:{...x,...s},children:[(0,a.jsx)(n.A,{icon:i.AlertIcon,size:32,sx:{mb:2,color:"accent.fg"}}),(0,a.jsx)(l.A,{as:"h2",sx:{fontSize:3},"data-testid":e,children:t})]})}try{f.displayName||(f.displayName="NoDataComponent")}catch{}var y=s(65481),j=s(86519);let A="https://docs.github.com/enterprise-cloud@latest/early-access/billing/billing-private-beta";function b({multiTenant:e}){return(0,a.jsxs)(y.A,{sx:{mb:3},children:[(0,a.jsx)(n.A,{"aria-label":"Alert icon",icon:i.InfoIcon}),e?(0,a.jsxs)("span",{children:["You can view your usage in the billing pages, starting from the date you gained access. For more information please refer to the docs content\xa0",(0,a.jsx)(j.A,{inline:!0,href:A,children:"here"}),"."]}):(0,a.jsxs)("span",{children:["For more information on using these billing pages and cost center functionality please refer to the docs content\xa0",(0,a.jsx)(j.A,{inline:!0,href:A,children:"here"}),"."]})]})}try{b.displayName||(b.displayName="WelcomeBanner")}catch{}},63620:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a={kind:"InlineDataFragment",name:"OrganizationPickerFragment"};a.hash="eef606d5a6edb9e1cf94083a514a0031";let i=a},68916:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],t=[{kind:"Variable",name:"ids",variableName:"ids"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"OrganizationPickerInitialQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"OrganizationPickerFragment",selections:[{kind:"InlineFragment",selections:[s,a,i],type:"Organization",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"OrganizationPickerInitialQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,{kind:"InlineFragment",selections:[a,i],type:"Organization",abstractKey:null}],storageKey:null}]},params:{id:"94a7d57a6c141c6220bf77b8f93ebe46",metadata:{},name:"OrganizationPickerInitialQuery",operationKind:"query",text:null}}}();a.hash="23b9c6e196cebdc3258cb968d0b5b222";let i=a},39549:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"query"},t={defaultValue:null,kind:"LocalArgument",name:"slug"},s=[{kind:"Variable",name:"slug",variableName:"slug"}],a=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"CREATED_AT"}},{kind:"Variable",name:"query",variableName:"query"}],i={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[r,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"OrganizationPickerRecentQuery",selections:[{alias:null,args:s,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:a,concreteType:"OrganizationConnection",kind:"LinkedField",name:"organizations",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"OrganizationPickerFragment",selections:n,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"OrganizationPickerRecentQuery",selections:[{alias:null,args:s,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:a,concreteType:"OrganizationConnection",kind:"LinkedField",name:"organizations",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"nodes",plural:!0,selections:n,storageKey:null}],storageKey:null},r],storageKey:null}]},params:{id:"504ed12be874fae11439539081c6c591",metadata:{},name:"OrganizationPickerRecentQuery",operationKind:"query",text:null}}}();a.hash="b6d17795b94f4a868bc27c1a75480cfc";let i=a},30475:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a={kind:"InlineDataFragment",name:"RepositoryPickerFragment"};a.hash="cc97e0ef055002f971ffd9c154fe65f4";let i=a},87263:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],t=[{kind:"Variable",name:"ids",variableName:"ids"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RepositoryPickerInitialQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerFragment",selections:[{kind:"InlineFragment",selections:[s,a,i,r],type:"Repository",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RepositoryPickerInitialQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,{kind:"InlineFragment",selections:[a,i,r],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"0db08d24b258c95b97435447bd378f4d",metadata:{},name:"RepositoryPickerInitialQuery",operationKind:"query",text:null}}}();a.hash="2f39ce746df4ca1f86987e73eccbdce5";let i=a},1600:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"phrase"},t={defaultValue:null,kind:"LocalArgument",name:"slug"},s=[{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"phrase",variableName:"phrase"},{kind:"Variable",name:"slug",variableName:"slug"}],a={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[i,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"RepositoryPickerRecentQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:s,concreteType:"RepositoryConnection",kind:"LinkedField",name:"enterpriseRepositories",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerFragment",selections:r,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"RepositoryPickerRecentQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:s,concreteType:"RepositoryConnection",kind:"LinkedField",name:"enterpriseRepositories",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"nodes",plural:!0,selections:r,storageKey:null}],storageKey:null},i],storageKey:null}]},params:{id:"752fbdc4ae9ef17b15ddcd304fd3a93b",metadata:{},name:"RepositoryPickerRecentQuery",operationKind:"query",text:null}}}();a.hash="658168666ca9ecfeee522c2ba5cf75ec";let i=a},17265:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"slug"}],t=[{kind:"Variable",name:"slug",variableName:"slug"}],s=[{kind:"Literal",name:"first",value:10}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=[a,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserPickerEnterpriseOwnersQuery",selections:[{alias:null,args:t,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:null,concreteType:"EnterpriseOwnerInfo",kind:"LinkedField",name:"ownerInfo",plural:!1,selections:[{alias:null,args:s,concreteType:"EnterpriseAdministratorConnection",kind:"LinkedField",name:"admins",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"UserPickerUserFragment",selections:i,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"admins(first:10)"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserPickerEnterpriseOwnersQuery",selections:[{alias:null,args:t,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:null,concreteType:"EnterpriseOwnerInfo",kind:"LinkedField",name:"ownerInfo",plural:!1,selections:[{alias:null,args:s,concreteType:"EnterpriseAdministratorConnection",kind:"LinkedField",name:"admins",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:i,storageKey:null}],storageKey:"admins(first:10)"}],storageKey:null},a],storageKey:null}]},params:{id:"806ee273df866378cdece447d4ee9053",metadata:{},name:"UserPickerEnterpriseOwnersQuery",operationKind:"query",text:null}}}();a.hash="78ae6ccc35c35ef9ce4be1560fd60f29";let i=a},19912:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],t=[{kind:"Variable",name:"ids",variableName:"ids"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserPickerInitialUsersQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"UserPickerUserFragment",selections:[{kind:"InlineFragment",selections:[s,a,i,r],type:"User",abstractKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserPickerInitialUsersQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,{kind:"InlineFragment",selections:[a,i,r],type:"User",abstractKey:null}],storageKey:null}]},params:{id:"81d815781789b2b9037458c36fffeb3a",metadata:{},name:"UserPickerInitialUsersQuery",operationKind:"query",text:null}}}();a.hash="5e4bd40c6ffbdc7b0676e1a2b3e2ebbb";let i=a},74172:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"query"},t={defaultValue:null,kind:"LocalArgument",name:"slug"},s=[{kind:"Variable",name:"slug",variableName:"slug"}],a=[{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"query",variableName:"query"}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[i,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"UserPickerQuery",selections:[{alias:null,args:s,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:a,concreteType:"EnterpriseMemberConnection",kind:"LinkedField",name:"members",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"UserPickerUserFragment",selections:r,args:null,argumentDefinitions:[]}],storageKey:null}],type:"EnterpriseUserAccount",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"UserPickerQuery",selections:[{alias:null,args:s,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:a,concreteType:"EnterpriseMemberConnection",kind:"LinkedField",name:"members",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:r,storageKey:null}],type:"EnterpriseUserAccount",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},i],storageKey:null}]},params:{id:"25e9ca37d0ff4b1956328ea519eff120",metadata:{},name:"UserPickerQuery",operationKind:"query",text:null}}}();a.hash="cb1556b47f42e8dfd757baae44fb1ade";let i=a},18643:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a={kind:"InlineDataFragment",name:"UserPickerUserFragment"};a.hash="9a68663559e516b597f9d6fff1332fdf";let i=a},61148:(e,t,s)=>{s.d(t,{kL:()=>D,nO:()=>F,w1:()=>P,hF:()=>T,PS:()=>O,EZ:()=>E,lm:()=>L,pn:()=>A,Jt:()=>I,fI:()=>z,gO:()=>U,Dl:()=>K,Sr:()=>B,Gh:()=>S,ab:()=>b,ir:()=>k,IN:()=>C,IE:()=>N,vf:()=>R,iF:()=>_,hL:()=>w,jh:()=>n,Rj:()=>i,tG:()=>j,LL:()=>d,z8:()=>o,J_:()=>W,lk:()=>a,Vl:()=>u,ge:()=>c,TU:()=>h,x9:()=>p,fk:()=>m,Ps:()=>g,r0:()=>x,LM:()=>f,$q:()=>y,XK:()=>r,aO:()=>v,tl:()=>$,Xu:()=>Q,mb:()=>q});var a,i,r,n,l=s(59857);!function(e){e.actions="actions",e.copilot="copilot",e.git_lfs="git_lfs",e.ghec="ghec",e.ghas="ghas",e.packages="packages",e.codespaces="codespaces"}(a||(a={})),function(e){e.actions="actions",e.git_lfs="git_lfs",e.packages="packages",e.codespaces="codespaces"}(i||(i={})),function(e){e.copilot="copilot",e.ghas="ghas",e.ghec="ghec"}(r||(r={})),function(e){e.copilot="copilot",e.ghec="ghec",e.ghas="ghas"}(n||(n={}));let o={actions:"Actions",copilot:"Copilot",ghas:"Advanced Security",ghec:"Enterprise",git_lfs:"Git LFS",packages:"Packages",codespaces:"Codespaces"},d={actions:l.PlayIcon,copilot:l.CopilotIcon,ghas:l.ShieldCheckIcon,ghec:l.GlobeIcon,git_lfs:l.DatabaseIcon,packages:l.PackageIcon,codespaces:l.CodespacesIcon},c=["actions_storage"],u=["actions_linux","actions_macos","actions_windows"],h=["copilot_for_business"],p=["ghas_seats"],m=["ghec_seats"],g=["git_lfs_bandwidth"],x=["git_lfs_storage"],f=["packages_bandwidth"],y=["packages_storage"],j={actions:[...u,...c],copilot:[...h],ghas:[...p],ghec:[...m],git_lfs:[...g,...x],packages:[...f,...y],codespaces:[]},A=19,b=21,S=49,v=["Unknown","Seconds","Minutes","Hours","Bytes","Megabytes","Gigabytes","ByteHours","MegabyteHours","GigabyteMonths","UserMonths"],C=0,R=1,w=2,N=3,_=4,k=5,I=0,P="CustomerResource",T="Enterprise",O="Org",E="Repo",F="CostCenterResource",U="owner",D="billing_manager",z="enterprise_org_owner",L=["green","blue","purple","red","brown"],K="enterprise_trial",B={QUERY_USAGE_ERROR:"Unable to query usage",QUERY_BUDGETS_ERROR:"Unable to query budgets",QUERY_DISCOUNTS_ERROR:"Unable to query discounts",QUERY_INVOICES_ERROR:"Unable to query invoices",QUERY_AZURE_EMISSIONS_ERROR:"Unable to query azure emissions",QUERY_PRICINGS_ERROR:"Unable to query pricings",CREATE_PRODUCT_ERROR:"There was an error adding the product",UPDATE_PRODUCT_ERROR:"There was an error updating the product",PRODUCT_ENVIRONMENT_ERROR:"Please confirm you want to change this environment.",REQUIRED_FIELD_ERROR:"Please complete required fields to continue.",CREATE_SKU_PRICING_ERROR:"There was a problem adding the SKU pricing",UPDATE_SKU_PRICING_ERROR:"There was a problem updating the SKU pricing"},$={STAFFTOOLS_PRODUCTS:"/stafftools/billing/products",STAFFTOOLS_NEW_PRODUCT:"/stafftools/billing/products/new",STAFFTOOLS_BILLING_JOBS:"/stafftools/billing/billing_jobs",STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB:"/stafftools/billing/billing_jobs/business_organization_billing_job"},Q=0,q=5,W="9cdf0dca-1b19-11ee-be56-0242ac120002"},85265:(e,t,s)=>{var a,i,r,n,l,o,d,c,u,h=s(86233),p=s(79840),m=s(9449),g=s(83028),x=s(97156),f=s(48378),y=s(55293),j=s(18312);let A=(0,y.createContext)({isStafftoolsRoute:!1,isOrganizationRoute:!1,isEnterpriseRoute:!1}),b=(0,y.createContext)({reloadKey:0,setReloadKey:e=>{}}),S=(0,g.E7)(),v=e=>{let t=x.fV.pathname.startsWith("/stafftools"),s=x.fV.pathname.startsWith("/organizations")||x.fV.pathname.startsWith("/stafftools/users"),a=x.fV.pathname.startsWith("/enterprises")||x.fV.pathname.startsWith("/stafftools/enterprises"),i=(0,y.useMemo)(()=>({isStafftoolsRoute:t,isOrganizationRoute:s,isEnterpriseRoute:a}),[t,s,a]),[r,n]=(0,y.useState)(0),l=(0,y.useMemo)(()=>({reloadKey:r,setReloadKey:n}),[r,n]);return(0,m.jsx)(A.Provider,{value:i,children:(0,m.jsx)(b.Provider,{value:l,children:t?(0,m.jsx)(f.NP,{colorMode:t?"day":void 0,children:(0,m.jsx)(j.RelayEnvironmentProvider,{environment:S,children:(0,m.jsx)("div",{"data-color-mode":t?"light":void 0,children:e.children})})}):(0,m.jsx)(j.RelayEnvironmentProvider,{environment:S,children:(0,m.jsx)("div",{children:e.children})})})})};try{A.displayName||(A.displayName="PageContext")}catch{}try{b.displayName||(b.displayName="ReloadContext")}catch{}try{v.displayName||(v.displayName="App")}catch{}var C=s(92032),R=s(82897),w=s(80012),N=s(73729),_=s(86519),k=s(69909),I=s(75177),P=s(55847),T=s(84300),O=s(65481),E=s(30729),F=s(54156),U=s(27788),D=s(59857),z=s(61148);!function(e){e[e.COST_CENTER=z.nO]="COST_CENTER",e[e.ENTERPRISE=z.hF]="ENTERPRISE",e[e.ORG=z.PS]="ORG",e[e.REPO=z.EZ]="REPO"}(a||(a={})),function(e){e.AlertingOnly="AlertingOnly",e.PreventFurtherUsage="PreventFurtherUsage"}(i||(i={}));var L=s(605),K=s(25601),B=s(42415);!function(e){e.Active="CostCenterActive",e.Archived="CostCenterArchived"}(r||(r={})),function(e){e.NoCostCenter="NoCostCenter",e.GitHubEnterpriseCustomer="GitHubEnterpriseCustomer",e.ZuoraSubscription="ZuoraSubscription",e.CreditCard="CreditCard",e.AzureSubscription="AzureSubscription"}(n||(n={})),function(e){e.NoTarget="NoTarget",e.User="User",e.Team="Team",e.Repo="Repo",e.Org="Org",e.Enterprise="Enterprise",e.CostCenterResource="CostCenterResource"}(l||(l={}));let $=e=>e===B.Hf.Azure?n.AzureSubscription:e===B.Hf.Zuora?n.ZuoraSubscription:n.NoCostCenter,Q=e=>e&&"Metered usage (w/o cost centers)"!==e.displayText?e.displayText:"Metered usage";var q=s(15927),W=s(60491);let M={[B.tR.ENTERPRISE]:["Enterprise discount coupon"],[B.tR.ORGANIZATION]:["Discount for organizations"],[B.tR.REPOSITORY]:["Discount for repositories"],[B.tR.PUBLIC_REPO]:["Discount for usage in public repositories"],[B.tR.SKU_ACTIONS_MINUTES]:["Included Actions minutes"],[B.tR.SKU_ACTIONS_STORAGE]:["Included Actions storage GBs"],[B.tR.SKU_CFB_SEATS]:["Included Copilot spending"],[B.tR.SKU_GHAS_SEATS]:["Included Advanced Security spending"],[B.tR.SKU_GHEC_SEATS]:["Included Enterprise spending"],[B.tR.SKU_LFS_BANDWIDTH]:["Included LFS bandwidth GiBs"],[B.tR.SKU_LFS_STORAGE]:["Included LFS storage GiBs"],[B.tR.SKU_PACKAGES_BANDWIDTH]:["Included Packages bandwidth GiBs"],[B.tR.SKU_PACKAGES_STORAGE]:["Included Packages storage GiBs"],[B.tR.UNSUPPORTED]:[""]},G={};for(let e of z.Vl)G[e]=B.tR.SKU_ACTIONS_MINUTES;for(let e of z.ge)G[e]=B.tR.SKU_ACTIONS_STORAGE;for(let e of z.TU)G[e]=B.tR.SKU_CFB_SEATS;for(let e of z.x9)G[e]=B.tR.SKU_GHAS_SEATS;for(let e of z.fk)G[e]=B.tR.SKU_GHEC_SEATS;for(let e of z.Ps)G[e]=B.tR.SKU_LFS_BANDWIDTH;for(let e of z.r0)G[e]=B.tR.SKU_LFS_STORAGE;for(let e of z.LM)G[e]=B.tR.SKU_PACKAGES_BANDWIDTH;for(let e of z.$q)G[e]=B.tR.SKU_PACKAGES_STORAGE;let V={[B.tR.SKU_ACTIONS_MINUTES]:{800:["100,000 included Actions minutes","(~$800.00 off*)"],400:["50,000 included Actions minutes","(~$400.00 off*)"],24:["3,000 included Actions minutes","(~$24.00 off*)"],16:["2,000 included Actions minutes","(~$16.00 off*)"]},[B.tR.SKU_ACTIONS_STORAGE]:{.5:["2 GB included Actions storage","(~$0.50 off*)"],.125:[".5 GB included Actions storage","(~$0.125 off*)"],12.5:["50 GB included Actions storage","(~$12.50 off*)"],25:["100 GB included Actions storage","(~$25.00 off*)"]},[B.tR.SKU_LFS_STORAGE]:{.7:["10 GB included Git LFS storage","(~$0.70 off*)"],17.5:["250 GB included Git LFS storage","(~$17.50 off*)"]},[B.tR.SKU_LFS_BANDWIDTH]:{.875:["10 GB included Git LFS bandwidth","(~$0.875 off*)"],21.875:["250 GB included Git LFS bandwidth","(~$21.87 off*)"]},[B.tR.SKU_PACKAGES_STORAGE]:{.125:[".5 GB included Packages storage","(~$0.125 off*)"],.5:["2 GB included Packages storage","(~$0.50 off*)"],12.5:["50 GB included Packages storage","(~$12.00 off*)"]},[B.tR.SKU_PACKAGES_BANDWIDTH]:{.5:["1 GB included Packages data transfer","(~$0.50 off*)"],5:["10 GB included Packages data transfer","(~$5.00 off*)"],50:["100 GB included Packages data transfer","(~$50.00 off*)"]}};function H(e,t,s){let{targetAmount:a}=e,i=V[t]?.[a];return i||(i=M[t],s===B.oQ.FixedAmount&&(i[1]=`(${(0,W.W)(a)} off)`),s===B.oQ.Percentage&&(i[1]=`(${a}% off)`),i=[i.join(" ")]),i}var X=s(19972),Y=s(19526),J=s(49426);let Z=(e,t=2)=>{let s=ee(e);if(!(0,J.y)(e))return s.toString();let a="";switch(e.unitType){case"Seconds":a=" sec";break;case"Minutes":a=" min";break;case"Hours":a=" hr";break;case"Bytes":a=" B";break;case"Megabytes":a=" MB";break;case"Gigabytes":a=" GB";break;case"ByteHours":a=" B/h";break;case"MegabyteHours":a=" MB/h";break;case"GigabyteHours":a=" GB/h";break;case"GigabyteMonths":a=" GB/month";break;case"UserMonths":a=1===s?" Seat":" Seats";break;default:a=""}return new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(s)+a},ee=e=>(0,J.y)(e)&&e.product in z.jh&&e.fullQuantity>0?e.fullQuantity:e.quantity,et=(e,t)=>t===B.Jw.REPO||t===B.Jw.ORG?"N/A":"number"==typeof e?(0,W.W)(e):"N/A";var es=s(66889),ea=s(44981),ei=s(47553);function er({budgetAmount:e,budgetLimitType:t,setBudgetAmount:s,setBudgetLimitType:a,budgetProduct:r,action:n}){let[l,o]=(0,y.useState)(""),d=(0,y.useContext)(A).isStafftoolsRoute,c=e=>{let t=e.target.value;o(""),"blur"!==e.type?""!==t&&isNaN(Number(t))||s(""===t?t:Number(t)):""===t&&s(0)},u=()=>Object.values(z.jh).includes(r),h=()=>{t===i.AlertingOnly?a(i.PreventFurtherUsage):a(i.AlertingOnly)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(I.A,{sx:{paddingTop:3,paddingBottom:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},className:"Box-title",children:"Budget"}),(0,m.jsx)("span",{children:"Set a budget amount to track your spending on a monthly basis."}),u()&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(O.A,{sx:{display:"flex",mt:3,mb:2},children:[(0,m.jsx)(E.A,{icon:D.InfoIcon,size:20,sx:{mr:2,pt:1,color:"accent.fg"}}),(0,m.jsx)("span",{children:"Budgets for seat-based products do not limit the usage, and continue to track any spending beyond the budget amount set by you."})]})})]}),(0,m.jsx)("div",{className:"Box",children:(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsx)(N.A,{sx:{fontSize:1},as:"h2",children:"Budget amount"}),(0,m.jsxs)("div",{children:[(0,m.jsxs)(I.A,{sx:{display:"flex",fontSize:1},children:[(0,m.jsxs)(es.A,{children:[(0,m.jsx)(es.A.Label,{visuallyHidden:!0,children:"BudgetAmountInput"}),(0,m.jsx)(ea.A,{inputMode:"numeric",pattern:"^[0-9]+$",maxLength:10,leadingVisual:"$",sx:{marginTop:1,marginBottom:3,maxWidth:"45em"},"data-testid":"budget-amount-input",placeholder:"0",value:e,onChange:c,onBlur:c,name:"budget-amount"}),l&&(0,m.jsx)(es.A.Validation,{variant:"error",children:l})]}),u()&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(k.A,{sx:{mt:2,ml:2},children:r===z.jh.copilot?(0,m.jsxs)("span",{children:[(0,m.jsxs)("b",{children:["~ ",Math.floor(e/z.pn)," seats"]})," ",(0,m.jsxs)(k.A,{sx:{color:"fg.muted"},children:["at $",z.pn,"/seat per month"]})]}):r===z.jh.ghas?(0,m.jsxs)("span",{children:[(0,m.jsxs)("b",{children:["~ ",Math.floor(e/z.Gh)," seats"]})," ",(0,m.jsxs)(k.A,{sx:{color:"fg.muted"},children:["at $",z.Gh,"/seat per month"]})]}):r===z.jh.ghec?(0,m.jsxs)("span",{children:[(0,m.jsxs)("b",{children:["~ ",Math.floor(e/z.ab)," seats"]})," ",(0,m.jsxs)(k.A,{sx:{color:"fg.muted"},children:["at $",z.ab,"/seat per month"]})]}):void 0})})]}),!u()&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(es.A,{disabled:d,children:[(0,m.jsx)(ei.A,{onChange:()=>h(),checked:t===i.PreventFurtherUsage,name:"alert-checkbox","data-testid":"alert-checkbox"}),(0,m.jsx)(es.A.Label,{children:"Stop usage when budget limit is reached"})]}),(0,m.jsx)(k.A,{sx:{color:"fg.muted"},children:"This will limit your spending to the budget amount set by you."})]})]}),"create"===n&&(0,m.jsxs)(I.A,{sx:{display:"flex",mt:2},children:[(0,m.jsx)(E.A,{icon:D.InfoIcon,size:20,sx:{mr:2,pt:1,color:"accent.fg"}}),(0,m.jsx)("span",{children:"Usage that has been generated prior to budget creation might not be included in your budgets for the current billing cycle."})]})]})})]})}try{er.displayName||(er.displayName="BudgetAmount")}catch{}var en=s(38553),el=s(22868),eo=s(35625),ed=s(70170),ec=s(92979),eu=s(87330);function eh({loading:e=!1,removeOption:t,selected:s,totalCount:a}){return(0,m.jsxs)(I.A,{sx:{display:"flex",flexDirection:"column"},"data-testid":"selected-rows-wrapper",children:[(0,m.jsxs)(k.A,{sx:{color:"fg.muted",fontSize:1},"data-testid":"selected-rows-count",children:[a&&a>0?a:s.length," selected"]}),(0,m.jsx)("ul",{"data-testid":"selected-rows-list",children:e?Array(a).fill(null).map((e,t)=>(0,m.jsx)(I.A,{as:"li",sx:{...Y.Of},children:(0,m.jsx)(ec.O,{variant:"rounded",sx:{width:"100%",height:"28px"}})},t)):s.map(e=>(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of},children:[e.rowLeadingVisual(),(0,m.jsx)(k.A,{as:"p",sx:{flex:1,px:1,color:"fg.subtle",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",m:0,fontSize:Y.vX.FontSizeSmall},children:e.text}),(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.XIcon,variant:"invisible",size:"small",onClick:()=>t(e.id),"aria-label":"Remove option",style:{visibility:e.viewOnly?"hidden":"visible"}})]},String(e.id)))})]})}try{eh.displayName||(eh.displayName="SelectedRows")}catch{}let ep=s(74172),em=s(18643),eg=s(17265),ex=s(19912),ef={groupId:"recipients"},ey={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},ej=(e,t)=>t.slice().sort((t,s)=>{let a=e.some(e=>e.login===t.login),i=e.some(e=>e.login===s.login);return a&&!i?-1:i&&!a?1:t.login.localeCompare(s.login)}),eA=({slug:e,onSelectionChange:t,preloadedEnterpriseOwnersData:s,initialRecipients:a})=>{let[i,r]=(0,y.useState)(!1),[n,l]=(0,y.useState)(),[o,d]=(0,y.useState)([]),[c,u]=(0,y.useState)(""),h=(0,j.useRelayEnvironment)(),{addToast:p}=(0,F.Y6)(),g=(0,j.usePreloadedQuery)(eg,s),x=(g.enterprise?.ownerInfo?.admins.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(em,e)]:[]),f=(0,y.useCallback)(e=>e.login,[]),A=(0,y.useMemo)(()=>n?ej(o,n):x.length>0?ej(o,o.concat(x.filter(e=>!o.find(t=>t.login===e.login)))):o,[n,o,x]);(0,y.useEffect)(()=>{d(a)},[a]);let b=(0,y.useCallback)(e=>o.find(t=>t.id===e.id)?ef.groupId:ey.groupId,[o]),S=(0,y.useCallback)(e=>({id:e.id,text:e.login,description:e.name??"",source:e,groupId:b(e),leadingVisual:()=>(0,m.jsx)(el.r,{src:e.avatarUrl,alt:""}),rowLeadingVisual:()=>(0,m.jsx)(el.r,{src:e.avatarUrl,alt:""}),viewOnly:!1}),[b]),v=(0,y.useCallback)(()=>{l(void 0)},[]),C=(0,y.useCallback)(t=>{if(""===t){l(void 0);return}r(!0),(0,j.fetchQuery)(h,ep,{slug:e,query:t}).subscribe({next:e=>{l((e.enterprise?.members.nodes||[]).flatMap(e=>e?.user?[(0,j.readInlineData)(em,e.user)]:[])),r(!1)},error:()=>{r(!1),p({type:"error",message:"Unable to query users",role:"alert"})}})},[e,h,p]),R=(0,y.useCallback)((0,ed.s)(e=>C(e),200),[C]),w=(0,y.useCallback)(e=>{let t=e.trim();c!==t&&R(t),u(e)},[R,c]),N=(0,y.useMemo)(()=>{let e=[],t=A.some(e=>o.find(t=>t.id===e.id)),s=A.some(e=>!o.find(t=>t.id===e.id));return t&&e.push(ef),s&&e.push(ey),e},[o,A]);return(0,m.jsxs)("div",{"data-testid":"user-picker",children:[(0,m.jsx)(I.A,{sx:{mt:2,mb:Y.Kz.StandardPadding},children:(0,m.jsx)(eo.O,{items:A,initialSelectedItems:o,filterItems:w,getItemKey:f,convertToItemProps:S,placeholderText:"Search for users",selectionVariant:"multiple",loading:i,onSelectionChange:e=>{d(e),t(e)},onClose:v,renderAnchor:e=>(0,m.jsx)(P.Q,{trailingAction:D.TriangleDownIcon,...e,children:"Select recipients"}),groups:N})}),(0,m.jsx)(eh,{removeOption:e=>{let s=o.filter(t=>t.id!==e);d(s),t(s)},selected:o.map(S)})]})};try{eA.displayName||(eA.displayName="UserPicker")}catch{}function eb({alertEnabled:e,alertRecipientUserIds:t,setAlertEnabled:s,setAlertRecipientUserIds:a,slug:i}){let r=(0,j.useRelayEnvironment)(),{addToast:n}=(0,F.Y6)(),[l,o]=(0,y.useState)(!1),[d,c]=(0,y.useState)([]),[u,h,p]=(0,j.useQueryLoader)(eg),g=(0,y.useContext)(A).isStafftoolsRoute;(0,y.useEffect)(()=>(h({slug:i}),()=>{p()}),[i,h,p,t]);let x=e=>{a(e.filter(e=>!!e.id).map(e=>e.id))};return(0,y.useEffect)(()=>{o(!0),(0,j.fetchQuery)(r,ex,{ids:t}).subscribe({next:e=>{let t=(e.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(em,e)]:[]);x(t),c(t),o(!1)},error:()=>{n({type:"error",message:"Unable to get currrent user",role:"alert"}),o(!1)}})},[r]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(I.A,{sx:{paddingBottom:2,paddingTop:3},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},className:"Box-title",children:"Alerts"}),(0,m.jsx)("span",{children:"Get emails and GitHub notifications when your spending has reached 75%, 90%, and 100% of the budget threshold."})]}),(0,m.jsx)("div",{className:"Box",children:(0,m.jsx)("div",{className:"Box-row",children:(0,m.jsxs)(es.A,{disabled:g,children:[(0,m.jsx)(ei.A,{checked:e,onChange:()=>{s(!e)},name:"alert-checkbox"}),(0,m.jsx)(es.A.Label,{children:"Receive budget threshold alerts"})]})})}),e&&(0,m.jsxs)(I.A,{sx:{paddingBottom:2,paddingTop:3},children:[(0,m.jsx)(N.A,{as:"h2",sx:{fontSize:1},children:"Alert recipients"}),(0,m.jsx)("span",{children:"These people will get notified via email if this budget has reached the specific threshold."}),(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(en.A,{size:"small"}),children:u&&!l&&(0,m.jsx)(eA,{slug:i,initialRecipients:d,onSelectionChange:x,preloadedEnterpriseOwnersData:u})})]})]})}try{eb.displayName||(eb.displayName="BudgetAlertSelector")}catch{}var eS=s(89015),ev=s(43257);function eC({products:e,budgetProduct:t,setBudgetProduct:s}){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(I.A,{sx:{py:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},className:"Box-title",children:"Product"}),(0,m.jsxs)(eS.A,{name:"budget-product-choices","aria-labelledby":"budget-product-choices",onChange:e=>e&&s(e),sx:{mt:2,mb:4},children:[(0,m.jsx)(eS.A.Label,{sx:{fontSize:1},children:"Select the product to include in this budget."}),(0,m.jsx)("div",{className:"Box",children:e.map(e=>(0,m.jsx)("div",{className:"Box-row",children:(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{value:e.name,name:"product",checked:t===e.name}),(0,m.jsx)(es.A.Label,{children:e.friendlyProductName})]})},e.name))})]})]})})}try{eC.displayName||(eC.displayName="BudgetProductSelector")}catch{}let eR=function(){let[e,t]=(0,y.useState)([]),{addToast:s}=(0,F.Y6)();return(0,L.Ay)({route:C.f,onStart:()=>t([]),onSuccess:e=>t(e.data.payload.activeCostCenters),onError:()=>s({type:"error",message:"Unable to query cost centers"})}),{costCenters:e}};var ew=s(86079),eN=s(17909);function e_({items:e,totalItemsCount:t,initialSelected:s,initialSelectAll:a,pickerType:i,onDialogSubmit:r,selectionVariant:n}){let[l,o]=(0,y.useState)(s||[]),[d]=(0,y.useState)(a),c=e=>d||!!l.find(t=>t.id===e.id),u=()=>d,h=e.filter(e=>e.viewOnly),p=e.filter(e=>!e.viewOnly),g=e=>{n&&("multiple"===n?x(e):o([e]))},x=e=>{let t=l.findIndex(t=>t.id===e.id);-1===t?o([...l.filter(e=>!e.viewOnly),e,...h]):o(l.filter((e,s)=>s!==t))};return(0,m.jsxs)("div",{children:[(0,m.jsx)(I.A,{sx:{mt:1,overflow:"auto",maxHeight:"50vh"},children:0===e.length?(0,m.jsxs)(k.A,{sx:{display:"block",fontSize:1,m:2,color:"fg.muted"},children:["No ",i," match that search"]}):(0,m.jsx)(eN.l,{selectionVariant:n,role:"listbox","aria-label":`${i} selector`,children:p.map(e=>(0,m.jsxs)(eN.l.Item,{role:"option",disabled:u(),selected:c(e),"aria-checked":c(e),onSelect:()=>g(e),children:[(0,m.jsx)(eN.l.LeadingVisual,{children:e.leadingVisual()}),e.text]},String(e.id)))})}),(0,m.jsx)(I.A,{sx:{p:3,pt:0},children:(0,m.jsxs)(k.A,{sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:["Showing ",p.length," of ",t," ",i]})}),(0,m.jsx)(I.A,{sx:{display:"flex",justifyContent:"flex-end",p:3,borderTopColor:"border.default",borderTopWidth:1,borderTopStyle:"solid"},children:(0,m.jsxs)(P.Q,{variant:"primary",onClick:()=>{r(l,d)},children:["Select ",i]})})]})}try{e_.displayName||(e_.displayName="ItemPicker")}catch{}function ek({items:e,open:t,resetDialog:s,filter:a,selected:i,selectAll:r,onDialogSubmit:n,pickerType:l,loading:o,selectionVariant:d,entityType:c="budget",totalItemsCount:u}){let h=(0,y.useRef)(null);return t?(0,m.jsxs)(ew.l,{role:"dialog",onClose:()=>s(),title:`Select ${l}`,returnFocusRef:h,"aria-labelledby":"picker-header",sx:{overflowY:"auto"},children:[(0,m.jsx)("div",{children:(0,m.jsxs)(I.A,{sx:{p:3,pb:0},children:[(0,m.jsxs)(k.A,{sx:{fontFamily:"sans-serif",fontSize:"14px"},children:["Select the ",l," to include in this ",c,". You can only add/remove the ",l," that you have access to."]}),(0,m.jsx)(ea.A,{block:!0,leadingVisual:D.SearchIcon,"aria-label":l,name:l,placeholder:`Search ${l}`,onChange:e=>{a(e.target.value.toLowerCase())},disabled:r,sx:{mt:3,mb:1}})]})}),o?(0,m.jsx)(I.A,{sx:{display:"flex",justifyContent:"center",m:3},children:(0,m.jsx)(en.A,{})}):(0,m.jsx)(e_,{items:e,totalItemsCount:u,initialSelected:i,initialSelectAll:r,pickerType:l,onDialogSubmit:n,selectionVariant:d})]}):null}try{ek.displayName||(ek.displayName="PickerDialog")}catch{}function eI({setAllSelectedCostCenters:e,initialSelectedItems:t,selectionVariant:s}){let[a,i]=(0,y.useState)(!1),{costCenters:r}=eR(),[n,l]=(0,y.useState)([]),[o,d]=(0,y.useState)(""),[c,u]=(0,y.useState)(!1),h=e=>({id:e.costCenterKey.uuid,text:e.name,leadingVisual:()=>(0,m.jsx)(D.OrganizationIcon,{}),rowLeadingVisual:()=>(0,m.jsx)(D.OrganizationIcon,{}),viewOnly:!1}),p=r.map(e=>h(e)),g=p.filter(e=>t.includes(e.id)),[x,f]=(0,y.useState)(g),j=(0,y.useCallback)(e=>{u(!0),l(r.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())).map(e=>h(e))),u(!1)},[r]),A=(0,y.useCallback)((0,ed.s)(e=>j(e),200),[j]),b=(0,y.useCallback)(e=>{let t=e.trim();o!==t&&A(t),d(e)},[A,o]),S=(0,y.useMemo)(()=>""===o?p:n,[n,o,p]),v=x.length>0;return(0,m.jsxs)(I.A,{sx:{ml:4},children:[(0,m.jsx)(P.Q,{onClick:()=>{i(!0)},sx:{mb:Y.Kz.StandardPadding},trailingAction:D.TriangleDownIcon,children:"Select cost center"}),(0,m.jsx)(ek,{open:a,resetDialog:()=>{i(!1),f(x),e&&e(x.map(e=>e.id))},filter:b,selectAll:!1,selected:x,onDialogSubmit:t=>{i(!1),f(t),e&&e(t.map(e=>e.id))},items:S,totalItemsCount:p.length,pickerType:"cost center",loading:c,selectionVariant:s}),(0,m.jsx)(eh,{selected:x,removeOption:t=>{if(!v)return;let s=x.filter(e=>e.id!==t);f(s),e&&e(s.map(e=>e.id))}})]})}try{eI.displayName||(eI.displayName="CostCenterPicker")}catch{}var eP=s(55127),eT=s.n(eP),eO=s(33520);function eE({pageSize:e=10,pageCount:t,currentPage:s,totalResources:a,onPageChange:i}){return(0,m.jsx)(m.Fragment,{children:a>e&&(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTopColor:"border.default",borderTopWidth:1,borderTopStyle:"solid",marginTop:"12px"},"data-testid":"pagination-wrapper",children:[(0,m.jsxs)(k.A,{as:"p",sx:{mb:0,color:"fg.muted",fontSize:1},"data-testid":"pagination-page-text",children:[1===s?1:(s-1)*e+1,"-",s*e," of ",a]}),(0,m.jsx)(eO.A,{pageCount:t,currentPage:s,onPageChange:i,"aria-label":"Cost center resource pagination"})]})})}try{eE.displayName||(eE.displayName="ResourcePaginator")}catch{}function eF({title:e}){return(0,m.jsx)(N.A,{as:"h4",sx:{mb:Y.Kz.StandardPadding,fontSize:Y.vX.CardHeadingFontSize},children:e})}try{eF.displayName||(eF.displayName="PickerHeader")}catch{}let eU=s(39549),eD=s(63620),ez=s(68916);function eL({initialSelectedItemIds:e,slug:t,preloadedOrganizationsRef:s,setSelectedItems:a,entityType:i="budget",indent:r=!0,selectionVariant:n,valid:l,viewOnly:o=!1}){let[d,c]=(0,y.useState)([]),[u,h]=(0,y.useState)(e.length),[p,g]=(0,y.useState)(!1),[x,f]=(0,y.useState)(!1),[A,b]=(0,y.useState)(!1),[S,v]=(0,y.useState)(void 0),[C,R]=(0,y.useState)(!1),[w,N]=(0,y.useState)(""),[_,T]=(0,y.useState)(1),[O,E]=(0,y.useState)(1),[U,z]=(0,y.useState)([]),{addToast:L}=(0,F.Y6)(),K=(0,j.useRelayEnvironment)(),B=e=>({id:e.id,text:e.login,leadingVisual:()=>(0,m.jsx)(el.r,{square:!0,src:e.avatarUrl,alt:"Organizations login"}),rowLeadingVisual:()=>(0,m.jsx)(el.r,{square:!0,src:e.avatarUrl,alt:"Organizations login"}),viewOnly:o});(0,y.useEffect)(()=>{T(Math.ceil(d.length/10)||1),z(d.slice((O-1)*10,10*O))},[d,O]);let $=(0,j.usePreloadedQuery)(eU,s),Q=$.enterprise?.organizations.totalCount||0,q=(0,y.useMemo)(()=>($.enterprise?.organizations.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(eD,e)]:[]),[$.enterprise?.organizations.nodes]);(0,y.useEffect)(()=>{if(!e.length)return;g(!0);let t=[];for(let s=0;s<e.length;s+=100)t.push(e.slice(s,s+100));let s=t.map(e=>new Promise((t,s)=>{(0,j.fetchQuery)(K,ez,{ids:e}).subscribe({next:e=>{t((e.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(eD,e)]:[]).map(e=>B(e)))},error:e=>{s(e)}})}));(async()=>{try{let e=(await Promise.all(s)).flat();c(e),T(Math.ceil(e.length/10)||1),z(e.slice((O-1)*10,10*O)),g(!1)}catch(e){L({type:"error",message:"Unable to load organizations"}),g(!1)}})()},[O]);let W=(0,y.useMemo)(()=>S||q.map(e=>B(e)).concat(d.filter(e=>!q.find(t=>t.id===e.id))),[q,d,S]),M=(0,y.useCallback)(e=>{R(!0),(0,j.fetchQuery)(K,eU,{query:e,slug:t}).subscribe({next:e=>{v((e.enterprise?.organizations.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(eD,e)]:[]).map(e=>B(e))),R(!1)},error:()=>{R(!1),L({type:"error",message:"Unable to query organizations",role:"alert"})}})},[L,t,K]),G=(0,y.useCallback)((0,ed.s)(e=>M(e),200),[M]),V=(0,y.useCallback)(e=>{let t=e.trim();w!==t&&G(t),N(e)},[G,w]),H=d.length>0,X="multiple"===n?"organizations":"organization";return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eF,{title:"Organizations"}),(0,m.jsxs)(I.A,{sx:{ml:r?4:0,textAlign:"left"},children:[!o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(P.Q,{"data-testid":"open-org-picker-dialog-button",onClick:()=>{b(!0),N(""),v(void 0)},sx:{mb:Y.Kz.StandardPadding},trailingAction:D.TriangleDownIcon,children:["Select ",X]}),(0,m.jsx)(ek,{open:A,resetDialog:()=>{b(!1),c(d),h(d.length),a(d.map(e=>e.id))},filter:V,selectAll:x,selected:d,onDialogSubmit:(e,t)=>{b(!1),c(e),h(e.length),f(t),a(e.map(e=>e.id))},items:W,totalItemsCount:Q,pickerType:X,loading:C,selectionVariant:n,entityType:i}),!1===l&&(0,m.jsx)(es.A.Validation,{variant:"error",sx:{mt:1},children:"Please select at least one organization"})]}),x&&(0,m.jsxs)(k.A,{sx:{fontSize:Y.vX.FontSizeSmall},children:["All ",eT()("organization",Q,!0)," selected"]}),(0,m.jsx)(eh,{loading:p,selected:U,removeOption:e=>{if(!H)return;let t=d.filter(t=>t.id!==e);c(t),h(t.length),a(t.map(e=>e.id))},totalCount:u}),(0,m.jsx)(eE,{pageSize:10,pageCount:_,totalResources:d.length,currentPage:O,onPageChange:(e,t)=>{e.preventDefault(),E(t)}})]})]})}try{eL.displayName||(eL.displayName="OrganizationPicker")}catch{}let eK=s(1600),eB=s(30475),e$=s(87263),eQ=(e,t)=>({id:e.id,text:e.nameWithOwner,leadingVisual:()=>e.isPrivate?(0,m.jsx)(D.LockIcon,{}):(0,m.jsx)(D.RepoIcon,{}),rowLeadingVisual:()=>e.isPrivate?(0,m.jsx)(D.RepoLockedIcon,{}):(0,m.jsx)(D.RepoIcon,{}),viewOnly:t});function eq({initialSelectedItemIds:e,preloadedRepositoriesRef:t,setSelectedItems:s,slug:a,entityType:i="budget",indent:r=!0,selectionVariant:n,valid:l,viewOnly:o=!1}){let[d,c]=(0,y.useState)([]),[u,h]=(0,y.useState)(e.length),[p,g]=(0,y.useState)(!1),[x,f]=(0,y.useState)(!1),[A,b]=(0,y.useState)(!1),[S,v]=(0,y.useState)(),[C,R]=(0,y.useState)(!1),[w,N]=(0,y.useState)(""),[_,T]=(0,y.useState)(1),[O,E]=(0,y.useState)(1),[U,z]=(0,y.useState)([]),{addToast:L}=(0,F.Y6)(),K=(0,j.useRelayEnvironment)(),B=(0,j.usePreloadedQuery)(eK,t),$=(0,y.useMemo)(()=>(B.viewer.enterpriseRepositories.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(eB,e)]:[]),[B.viewer.enterpriseRepositories.nodes]),Q=(0,y.useMemo)(()=>B.viewer.enterpriseRepositories.totalCount||0,[B.viewer.enterpriseRepositories.totalCount]),q=(0,y.useMemo)(()=>new Set($.map(e=>e.id)),[$]);(0,y.useEffect)(()=>{if(!e.length)return;g(!0);let t=[],s=e=>{c([...(e.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(eB,e)]:[]).map(e=>eQ(e,o||!q.has(e.id))),...t]),g(!1)},a=()=>{c(t),g(!1)},i=[];for(let t=0;t<e.length;t+=100)i.push(e.slice(t,t+100));let r=i.map(i=>new Promise((r,n)=>{(0,j.fetchQuery)(K,e$,{ids:i}).subscribe({next:e=>{r(e)},error:i=>{let r=i.cause.reverse().map(e=>e.path[e.path.length-1]);t=e.filter((e,t)=>r.includes(t)).map(e=>({id:e,text:"Insufficient permission to view",leadingVisual:()=>(0,m.jsx)(D.LockIcon,{}),rowLeadingVisual:()=>(0,m.jsx)(D.RepoLockedIcon,{}),viewOnly:!0}));let l=e.filter((e,t)=>!r.includes(t));l.length?(0,j.fetchQuery)(K,e$,{ids:l}).subscribe({next:s,error:a}):n(i)}})}));(async()=>{try{let e={nodes:(await Promise.all(r)).flatMap(e=>e.nodes||[])};s(e)}catch(e){a()}})()},[]),(0,y.useEffect)(()=>{T(Math.ceil(d.length/10)||1),z(d.slice((O-1)*10,10*O))},[d,O]);let W=(0,y.useMemo)(()=>S||$.filter(e=>!e.isArchived).map(e=>eQ(e,o)).concat(d.filter(e=>!$.find(t=>t.id===e.id))),[$,d,S,o]),M=(0,y.useCallback)(e=>{R(!0),(0,j.fetchQuery)(K,eK,{phrase:e,slug:a}).subscribe({next:e=>{v((e.viewer.enterpriseRepositories?.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(eB,e)]:[]).map(e=>eQ(e,o))),R(!1)},error:()=>{L({type:"error",message:"Unable to query repositories",role:"alert"}),R(!1)}})},[K,a,o,L]),G=(0,y.useCallback)((0,ed.s)(e=>M(e),200),[M]);(0,y.useEffect)(()=>{if(0===w.length){v(void 0);return}G(w)},[G,w]);let V=(0,y.useCallback)(e=>{N(e)},[]),H=d.length>0,X="multiple"===n?"repositories":"repository";return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eF,{title:"Repositories"}),(0,m.jsxs)(I.A,{sx:{ml:r?4:0,textAlign:"left"},children:[!o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(P.Q,{onClick:()=>{b(!0),N(""),v(void 0)},sx:{mb:Y.Kz.StandardPadding},trailingAction:D.TriangleDownIcon,children:["Select ",X]}),(0,m.jsx)(ek,{open:A,resetDialog:()=>{b(!1),c(d),h(d.length),s(d.map(e=>e.id))},filter:V,selectAll:x,selected:d,onDialogSubmit:(e,t)=>{b(!1),c(e),h(e.length),f(t),s(e.map(e=>e.id))},items:W,totalItemsCount:Q,pickerType:X,loading:C,selectionVariant:n,entityType:i}),!1===l&&(0,m.jsx)(es.A.Validation,{variant:"error",sx:{mt:1},children:"Please select at least one repository"})]}),x&&(0,m.jsxs)(k.A,{sx:{fontSize:Y.vX.FontSizeSmall},children:["All ",eT()("repository",Q,!0)," selected"]}),(0,m.jsx)(eh,{loading:p,removeOption:e=>{if(!H)return;let t=d.filter(t=>t.id!==e);c(t),h(t.length),s(t.map(e=>e.id))},selected:U,totalCount:u}),(0,m.jsx)(eE,{pageSize:10,pageCount:_,totalResources:u,currentPage:O,onPageChange:(e,t)=>{e.preventDefault(),E(t)}})]})]})}try{eq.displayName||(eq.displayName="RepositoryPicker")}catch{}function eW({budgetScope:e,setBudgetScope:t,setBudgetScopeId:s,budgetScopeIds:a,slug:i,disablePicker:r,budgetProduct:n}){let l=a&&e===z.PS?a:[],o=a&&e===z.EZ?a:[],[d,c,u]=(0,j.useQueryLoader)(eU),[h,p,g]=(0,j.useQueryLoader)(eK);(0,y.useEffect)(()=>(c({slug:i},{fetchPolicy:"store-or-network"}),r?.includes("repo")||p({slug:i},{fetchPolicy:"store-or-network"}),()=>{u(),g()}),[i,a,e,c,p,u,g,r]);let x=e=>{t(e.target.value),s(e.target.value===z.w1?["1"]:[])};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(I.A,{sx:{paddingBottom:2},children:[(0,m.jsx)(N.A,{as:"h3",id:"budget-scope-choices",sx:{fontSize:2},className:"Box-title",children:"Budget scope"}),(0,m.jsx)(k.A,{sx:{mb:2},children:"Select the scope of spending for this budget."}),(0,m.jsx)(eS.A,{"aria-labelledby":"budget-scope-choices",name:"budget-scope-choices",sx:{mb:Y.Kz.CardMargin},children:(0,m.jsxs)("div",{className:"Box",children:[!r?.includes("enterprise")&&(0,m.jsx)("div",{className:"Box-row",children:(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{checked:e===z.w1,value:z.w1,onChange:e=>{x(e)}}),(0,m.jsx)(es.A.Label,{children:"Enterprise"}),(0,m.jsx)(es.A.Caption,{sx:{fontSize:1},children:"Spending for all organizations and repositories in your enterprise."})]})}),!Object.values(z.jh).includes(n)&&(0,m.jsxs)(m.Fragment,{children:[!r?.includes("org")&&(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{sx:{mb:e===z.PS?Y.Kz.StandardPadding:0},children:[(0,m.jsx)(ev.A,{value:z.PS,checked:e===z.PS,onChange:e=>{x(e)}}),(0,m.jsx)(es.A.Label,{children:"Organization"}),(0,m.jsx)(es.A.Caption,{sx:{fontSize:1},children:"Spending for a single organization."})]}),e===z.PS&&(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(en.A,{size:"small"}),children:d&&(0,m.jsx)(eL,{slug:i,preloadedOrganizationsRef:d,setSelectedItems:s,initialSelectedItemIds:l,selectionVariant:"single"})})]}),!r?.includes("repo")&&(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{sx:{mb:e===z.EZ?Y.Kz.StandardPadding:0},children:[(0,m.jsx)(ev.A,{checked:e===z.EZ,value:z.EZ,onChange:e=>{x(e)}}),(0,m.jsx)(es.A.Label,{children:"Repository"}),(0,m.jsx)(es.A.Caption,{sx:{fontSize:1},children:"Spending for a single repository."})]}),e===z.EZ&&(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(en.A,{size:"small"}),children:h&&(0,m.jsx)(eq,{preloadedRepositoriesRef:h,slug:i,setSelectedItems:s,initialSelectedItemIds:o,selectionVariant:"single"})})]})]}),(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{sx:{mb:e===z.nO?Y.Kz.StandardPadding:0},children:[(0,m.jsx)(ev.A,{checked:e===z.nO,value:z.nO,onChange:e=>{x(e)}}),(0,m.jsx)(es.A.Label,{children:"Cost center"}),(0,m.jsx)(es.A.Caption,{sx:{fontSize:1},children:"Spending for a single cost center."})]}),e===z.nO&&(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(en.A,{size:"small"}),children:h&&(0,m.jsx)(eI,{initialSelectedItems:[],setAllSelectedCostCenters:e=>{e[0]&&s([e[0]])},selectionVariant:"single"})})]})]})})]})})}try{eW.displayName||(eW.displayName="BudgetScopeSelector")}catch{}function eM({budgetProduct:e,enabledProducts:t}){let s=t.find(t=>t.name===e);return(0,m.jsxs)(I.A,{sx:{mb:4},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2,mb:2},className:"Box-title",children:"Product"}),(0,m.jsx)("div",{className:"Box",children:(0,m.jsx)("div",{className:"Box-row",children:(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:s?.friendlyProductName})})})]})}try{eM.displayName||(eM.displayName="BudgetSelectedProduct")}catch{}function eG({budgetScope:e,budgetTargetName:t}){let s=(e=>{switch(e){case z.w1:return{name:"Enterprise",description:"Spending for all organizations and repositories in your enterprise."};case z.PS:return{name:"Organization",description:"Spending for a single organization."};case z.EZ:return{name:"Repository",description:"Spending for a single repository."};case z.nO:return{name:"Cost center",description:"Spending for a single cost center."}}})(e),a={[z.w1]:(0,m.jsx)(D.GlobeIcon,{}),[z.PS]:(0,m.jsx)(D.OrganizationIcon,{}),[z.EZ]:(0,m.jsx)(D.RepoIcon,{}),[z.nO]:(0,m.jsx)(D.CreditCardIcon,{})};return(0,m.jsxs)(I.A,{sx:{mb:4},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2,mb:2},className:"Box-title",children:"Budget scope"}),(0,m.jsx)("div",{className:"Box",children:(0,m.jsxs)(I.A,{className:"Box-row",sx:{display:"flex",flexDirection:"column"},children:[(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:s?.name}),(0,m.jsx)(k.A,{sx:{color:"fg.muted"},children:s?.description}),(0,m.jsxs)(I.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1,mt:2},children:[a[e],(0,m.jsx)(k.A,{sx:{color:"fg.subtle",fontSize:Y.vX.FontSizeSmall},children:t})]})]})})]})}try{eG.displayName||(eG.displayName="BudgetSelectedScope")}catch{}let eV=e=>eH(e)?i.AlertingOnly:i.PreventFurtherUsage,eH=e=>Object.values(z.jh).includes(e);function eX({budget:e,slug:t,currentUserId:s,adminRoles:a,enabledProducts:r}){let n=(0,U.Z)(),[l,o]=(0,y.useState)(e?e.targetAmount:0),[d,c]=(0,y.useState)(e?e?.pricingTargetId:r[0]?.name||""),[u,h]=(0,y.useState)(e?e.budgetLimitType:eV(d)),[p,g]=(0,y.useState)(e?e.targetType:z.w1),[x,f]=(0,y.useState)(e?[e.targetId]:["1"]),[j,b]=(0,y.useState)(e?.alertEnabled??!0),[S,v]=(0,y.useState)(e?.alertRecipientUserIds?e.alertRecipientUserIds:s?[s]:[]),[R,w]=(0,y.useState)(!1),B=(0,y.useCallback)(e=>(e.preventDefault(),w(!0)),[]),$=(0,y.useCallback)(()=>w(!1),[]),Q=(0,y.useContext)(A).isEnterpriseRoute;(0,y.useEffect)(()=>{e||h(eV(d))},[d,e]);let{addToast:q}=(0,F.Y6)(),W=e?"edit":"create",{path:M}=(0,K.A)(C.fY),{path:G}=(0,K.A)(C.OU,{budgetUUID:e?.uuid??""});async function V(){let e={targetAmount:l,targetType:p,targetId:x[0]??"1",pricingTargetType:"ProductPricing",pricingTargetId:d,budgetLimitType:u,alertEnabled:j,alertRecipientUserIds:j?S:[]};try{let t=await (0,L.p0)(L.aG.POST,M,e);if(t.ok)n(M);else{let e="There was an issue creating your budget";t.data?.error?.includes("Budget with this key already exists")&&(e="A budget for this product and scope already exists. Please edit the existing budget instead of creating another."),q({type:"error",message:e,role:"alert"})}}catch{q({type:"error",message:"There was an issue creating your budget",role:"alert"})}}async function H(){if(!e)return;let t={targetAmount:l,targetType:p,targetId:x[0]??"1",pricingTargetType:e.pricingTargetType,pricingTargetId:e.pricingTargetId,budgetLimitType:u,alertEnabled:j,alertRecipientUserIds:j?S:[]};try{let{ok:e}=await (0,L.p0)(L.aG.PUT,G,t);e?(q({type:"success",message:"Your budget has been updated",icon:(0,m.jsx)(D.CheckCircleIcon,{}),role:"status"}),n(M)):q({type:"error",message:"There was an issue editing your budget",role:"alert"})}catch{q({type:"error",message:"There was an issue editing your budget",role:"alert"})}}let X=async e=>{if(e?.preventDefault(),!x[0]){let e="";switch(p){case z.PS:e="Please select at least one organization in order to successfully create a budget";break;case z.EZ:e="Please select at least one repository in order to successfully create a budget";break;case z.nO:e="Please select at least one cost center in order to successfully create a budget";break;default:e="Please select a scope in order to successfully create a budget"}q({type:"error",message:e,role:"alert"});return}if(j&&0===S.length){q({type:"error",message:"At least one alert recipient must be selected",role:"alert"});return}if(!d){q({type:"error",message:"A product must be selected",role:"alert"});return}w(!1),"edit"===W?await H():await V()},J=[];return Q?(!a.includes(z.fI)&&(a.includes(z.gO)||a.includes(z.kL))&&J.push("repo"),a.includes(z.fI)&&!(a.includes(z.gO)||a.includes(z.kL))&&J.push("org","enterprise")):J.push("org","repo","enterprise"),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("header",{className:"Subhead flex-column",children:[(0,m.jsxs)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:[(0,m.jsx)(_.A,{href:M,children:"Budgets and alerts"}),(0,m.jsx)("span",{children:"\xa0/\xa0"}),"edit"===W?"Edit monthly budget":"New monthly budget"]}),"create"===W&&(0,m.jsx)(k.A,{sx:{color:"fg.muted"},children:"Create a budget to track spending for a selected product and scope."})]}),(0,m.jsx)(I.A,{sx:{maxWidth:"65ch"},children:(0,m.jsxs)("form",{onSubmit:e&&l<e.targetAmount&&u===i.PreventFurtherUsage&&"edit"===W?B:X,children:["create"===W&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eC,{budgetProduct:d,setBudgetProduct:c,products:r}),(0,m.jsx)(eW,{budgetScope:p,setBudgetScope:g,setBudgetScopeId:f,budgetScopeIds:x,slug:t,disablePicker:J,budgetProduct:d})]}),"edit"===W&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eM,{budgetProduct:d,enabledProducts:r}),(0,m.jsx)(eG,{budgetScope:p,budgetTargetName:e?.targetName||""})]}),(0,m.jsx)(er,{budgetAmount:l,setBudgetAmount:o,action:W,budgetLimitType:u,setBudgetLimitType:h,budgetProduct:d}),Q&&(0,m.jsx)(eb,{alertEnabled:j,setAlertEnabled:b,alertRecipientUserIds:S,setAlertRecipientUserIds:v,slug:t}),(0,m.jsx)(I.A,{as:"hr",sx:{p:1}}),(0,m.jsxs)(I.A,{sx:{display:"flex"},children:[(0,m.jsx)(P.Q,{type:"submit",variant:"primary",children:"edit"===W?"Update budget":"Create budget"}),(0,m.jsx)(P.Q,{sx:{ml:2},onClick:()=>n(M),children:"Cancel"})]})]})}),R&&(0,m.jsxs)(T.A,{"aria-labelledby":"confirm-budget-edit-dialog-header","data-testid":"confirm-budget-edit-dialog",title:"Confirm budget update",onDismiss:$,isOpen:R,sx:{width:470},children:[(0,m.jsx)(T.A.Header,{sx:{border:0,bg:"transparent"},children:"Confirm editing budget"}),(0,m.jsxs)(I.A,{sx:{px:3},children:[(0,m.jsx)(k.A,{as:"p",sx:{mb:0},children:"Are you sure you want to save changes made to this monthly budget?"}),(0,m.jsxs)(O.A,{variant:"warning",sx:{display:"flex",mt:3,mb:2},children:[(0,m.jsx)(E.A,{icon:D.AlertIcon,size:20,sx:{mr:2,pt:1,color:"accent.fg"}}),(0,m.jsx)("span",{children:"Usage for the selected product may be stopped, in case the updated budget limit is less than the spend already incurred this month."})]})]}),(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"flex-end",p:3},children:[(0,m.jsx)(P.Q,{onClick:$,sx:{mr:2},children:"Cancel"}),(0,m.jsx)(P.Q,{onClick:X,variant:"danger","data-testid":"confirm-budget-edit-dialog-cancel",children:"Confirm"})]})]})]})}try{eX.displayName||(eX.displayName="BudgetForm")}catch{}function eY(){let e=(0,R.B)();return(0,m.jsx)(w.A,{children:(0,m.jsx)(eX,{budget:e.budget,slug:e.slug,adminRoles:e.adminRoles,enabledProducts:e.enabledProducts})})}try{eY.displayName||(eY.displayName="BudgetEditPage")}catch{}var eJ=s(83308);function eZ(){let{enabledProducts:e,slug:t,current_user_id:s,adminRoles:a}=(0,R.B)();return(0,m.jsx)(w.A,{children:e.length>0?(0,m.jsx)(eX,{slug:t,currentUserId:s,adminRoles:a,enabledProducts:e}):(0,m.jsx)(eJ.Ax,{sx:{border:0},testid:"new-budget-form-loading-error",text:"Something went wrong"})})}try{eZ.displayName||(eZ.displayName="BudgetNewPage")}catch{}var e0=s(10871),e1=s(94407),e2=s(281);function e3({budgetId:e,productName:t,targetType:s,targetName:a,editLink:i,onDeleteClick:r}){let n=(0,y.useContext)(A).isStafftoolsRoute,[l,o]=(0,y.useState)(!1),d=(0,y.useRef)(null),c=()=>o(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Anchor,{children:(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.KebabHorizontalIcon,variant:"invisible","aria-label":`View actions for ${s} ${a}'s budget`,name:"action-icon",sx:{ml:3}})}),(0,m.jsx)(e2.W.Overlay,{children:(0,m.jsxs)(eN.l,{children:[(0,m.jsxs)(eN.l.LinkItem,{href:i,children:[(0,m.jsx)(eN.l.LeadingVisual,{children:(0,m.jsx)(D.PencilIcon,{})}),"Edit"]}),!n&&(0,m.jsxs)(eN.l.Item,{"data-testid":`delete-budget-${e}`,variant:"danger",onSelect:()=>o(!0),children:[(0,m.jsx)(eN.l.LeadingVisual,{children:(0,m.jsx)(D.TrashIcon,{})}),"Delete"]})]})})]}),l&&(0,m.jsxs)(T.A,{"aria-labelledby":"delete-budget-header",isOpen:l,onDismiss:c,returnFocusRef:d,sx:{width:["100%",320]},children:[(0,m.jsx)(T.A.Header,{sx:{border:0,bg:"transparent"},children:"Delete budget"}),(0,m.jsxs)(I.A,{sx:{px:3},children:[(0,m.jsx)(k.A,{as:"p",sx:{mb:2},children:(0,m.jsxs)("strong",{children:["Are you sure you want to delete the ",t," budget for ",a,"?"]})}),(0,m.jsx)("p",{children:"Once deleted, the budget will no longer exist."})]}),(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"flex-end",p:3},children:[(0,m.jsx)(P.Q,{onClick:c,sx:{mr:2},children:"Cancel"}),(0,m.jsx)(P.Q,{onClick:()=>{r(),c()},variant:"danger",children:"Delete budget"})]})]})]})}try{e3.displayName||(e3.displayName="BudgetActionMenu")}catch{}var e5=s(28784);function e4({budgetAlertDetail:e}){let t=(0,U.Z)(),[s,a]=(0,y.useState)(!0),{text:i,variant:r,dismissible:n,dismiss_link:l,budget_id:o}=e,d=async()=>{a(!1),await (0,e5.lS)(l,{method:"POST"})},c="danger"===r?D.StopIcon:D.AlertIcon,{path:u}=(0,K.A)(C.z$,{budgetUUID:o});return s?(0,m.jsxs)(O.A,{"data-testid":"billing-banner",variant:r,sx:{display:"flex",alignItems:"center",mb:3},children:[(0,m.jsx)(E.A,{"aria-label":"Alert icon",icon:c,sx:{margin:2}}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold",m:1},children:i}),(0,m.jsxs)(I.A,{sx:{display:"flex",marginLeft:"auto",gap:"3",alignItems:"center"},children:[(0,m.jsx)(P.Q,{sx:{m:2},onClick:()=>t(u),children:"Update your budget"}),n&&(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,"aria-label":"Close",icon:D.XIcon,size:"small",onClick:d,variant:"invisible",sx:{svg:{color:"black"}}})]})]}):null}try{e4.displayName||(e4.displayName="BudgetBanner")}catch{}var e6=s(85053);let e9={marginLeft:2};function e7({budgetCurrentAmount:e,budgetTargetAmount:t}){let s=e>t,a=0===t?1:e/t;if(a<.9&&!s)return null;let i=s?"Over budget":`${Math.floor(100*a)}%`;return(0,m.jsx)(e6.A,{variant:s?"danger":"attention",sx:e9,"data-testid":"budget-label",children:i})}try{e7.displayName||(e7.displayName="BudgetLabel")}catch{}var e8=s(52139);function te({budgetCurrentAmount:e,budgetTargetAmount:t}){let s;let a=0===t?1:e/t,i=Math.min(100*a,100);return s=e>t?"danger.emphasis":0===t||a>=.9?"attention.emphasis":"accent.emphasis",(0,m.jsx)(e8.z,{progress:i,bg:s,barSize:"small","aria-label":"Budget utilization","data-testid":"budget-progressbar"})}try{te.displayName||(te.displayName="BudgetProgressBar")}catch{}function tt({isOverBudget:e}){return e?(0,m.jsxs)(I.A,{sx:{display:"inline-block"},children:[(0,m.jsx)(E.A,{icon:D.AlertIcon,size:16,sx:{color:"danger.fg"}})," \xa0"]}):null}try{tt.displayName||(tt.displayName="BudgetWarningIcon")}catch{}let ts={display:"flex",flexDirection:["row","column","column"],width:["100%","auto","auto"],justifyContent:"space-between"},ta={flexDirection:["column","row","row"],flexWrap:["nowrap","wrap","wrap"],display:"flex",alignItems:[null,null,"center"]};function ti({budgetData:e,hasBudgetWritePermissions:t,deleteBudget:s,enabledProducts:a}){var i;let{addToast:r}=(0,F.Y6)(),{path:n}=(0,K.A)(C.z$,{budgetUUID:e.uuid}),{path:o}=(0,K.A)(C.OU,{budgetUUID:e.uuid}),{path:d}=(0,K.A)(C.tJ,{costCenterUUID:e.targetId}),c=(0,y.useContext)(A).isStafftoolsRoute;async function u(){try{let{ok:t}=await (0,L.p0)(L.aG.DELETE,o,{});t?(s(e.uuid),r({type:"success",message:"Budget deleted",role:"status"})):r({type:"error",message:"Unable to delete budget",role:"alert"})}catch{r({type:"error",message:"Unable to delete budget",role:"alert"})}}function h(e){return a&&e?a.find(t=>t.name===e)?.friendlyProductName??"":""}return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(I.A,{as:"tr",sx:{...Y.sS,...ta},children:[(0,m.jsxs)(I.A,{as:"td",sx:{display:"flex",flex:3},children:[(0,m.jsx)(I.A,{sx:{pr:[0,3,3],display:["none","flex","flex"],alignItems:"center"},children:(0,m.jsx)(function({type:e}){return e===z.PS?(0,m.jsx)(D.OrganizationIcon,{size:16}):[z.hF,z.w1].includes(e)?(0,m.jsx)(D.GlobeIcon,{size:16}):e===z.EZ?(0,m.jsx)(D.RepoIcon,{size:16}):(0,m.jsx)(D.CreditCardIcon,{size:16})},{type:e.targetType})}),(0,m.jsxs)(I.A,{sx:{display:"flex",alignItems:[null,"center","center"],width:["100%","50%","auto"]},children:[(0,m.jsxs)(I.A,{sx:ts,children:[(0,m.jsx)(k.A,{sx:{fontSize:0,color:"fg.muted",mr:[1,0,0]},children:(i=e.targetType)===z.PS?"Organization":i===z.EZ?"Repository":[z.hF,z.w1].includes(i)?"Enterprise":i===l.CostCenterResource?"Cost center":""}),e.targetType!==l.CostCenterResource||e.targetName?(0,m.jsx)(k.A,{sx:{fontWeight:"bold",fontSize:1},children:e.targetName}):(0,m.jsx)(_.A,{href:d,sx:{color:"btn.text"},children:(0,m.jsx)(k.A,{sx:{fontWeight:"normal"},children:"View Details"})})]}),(0,m.jsx)(e7,{budgetCurrentAmount:e.currentAmount,budgetTargetAmount:e.targetAmount})]})]}),(0,m.jsx)(I.A,{as:"td",sx:{flex:1,ml:[0,2,2],mr:[0,1,2]},children:(0,m.jsxs)(I.A,{sx:ts,children:[(0,m.jsx)(k.A,{sx:{fontSize:0,color:"fg.muted"},children:"Product"}),(0,m.jsx)(k.A,{sx:{fontSize:1},children:h(e.pricingTargetId)})]})}),(0,m.jsx)(I.A,{as:"td",sx:{flex:1,ml:[0,1,2],mr:[0,2,2]},children:(0,m.jsxs)(I.A,{sx:ts,children:[(0,m.jsx)(k.A,{sx:{fontSize:0,color:"fg.muted"},children:"Alerts"}),(0,m.jsx)(k.A,{sx:{fontSize:1},children:e.alertEnabled?"On":"Off"})]})}),(0,m.jsx)(I.A,{as:"td",sx:{flex:3},children:(0,m.jsx)(I.A,{sx:{display:"flex",flexDirection:"column",width:["100%","auto","auto"]},children:(0,m.jsxs)(I.A,{sx:{display:"flex"},children:[(0,m.jsxs)(I.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",flex:"1"},children:[(0,m.jsx)(te,{budgetCurrentAmount:e.currentAmount,budgetTargetAmount:e.targetAmount}),(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(tt,{isOverBudget:e.currentAmount>e.targetAmount}),(0,m.jsx)(k.A,{sx:{fontWeight:"normal"},children:(0,W.W)(e.currentAmount)}),"\xa0",(0,m.jsx)(k.A,{sx:{fontWeight:"light",fontSize:0},children:"spent"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(k.A,{sx:{fontWeight:"normal"},children:(0,W.W)(e.targetAmount)}),"\xa0",(0,m.jsx)(k.A,{sx:{fontWeight:"light",fontSize:0},children:"budget"})]})]})]}),(t||c)&&(0,m.jsx)(e3,{budgetId:e.uuid,productName:h(e.pricingTargetId),targetType:e.targetType,targetName:e.targetName,editLink:n,onDeleteClick:u})]})})})]},e.uuid)})}try{ti.displayName||(ti.displayName="BudgetData")}catch{}try{(o=IconType).displayName||(o.displayName="IconType")}catch{}function tr({budgets:e,adminRoles:t,deleteBudget:s,isEnterpriseTable:a=!1,enabledProducts:i}){let[r,n]=(0,y.useState)(1),[l,o]=(0,y.useState)(1),[d,c]=(0,y.useState)(0),[u,h]=(0,y.useState)([]),[p,g]=(0,y.useState)([]),x=["All","Organizations","Repositories"],f=t.includes(z.kL)||t.includes(z.gO)||t.includes(z.fI);return(0,y.useEffect)(()=>{(async()=>{n(Math.ceil(u.length/10)||1),g(u.slice((l-1)*10,10*l))})()},[u,l]),(0,y.useEffect)(()=>{let t,s="All";switch(d){case 1:s=z.PS;break;case 2:s=z.EZ}t="All"!==s?e.filter(e=>e.targetType===s):e,o(1),h(t)},[d,e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.A,{sx:{...Y.jk,p:0},children:(0,m.jsxs)(I.A,{as:"table",sx:Y.dF,"data-hpc":!0,children:[(0,m.jsx)(I.A,{as:"thead",sx:{...Y.LY,alignItems:"center",display:"flex"},children:(0,m.jsxs)(I.A,{as:"tr",sx:{flex:1},children:[(0,m.jsx)(I.A,{as:"td",sx:{float:"left",mt:"6px",mb:"6px"},children:(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:a?"Enterprise budgets":`${u.length} budgets`})}),(0,m.jsx)(I.A,{as:"td",sx:{float:"right"},children:!a&&(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Button,{variant:"invisible",sx:{color:"btn.text"},children:(0,m.jsxs)(k.A,{sx:{fontWeight:"normal"},children:["Scope: ",x[d]??"All"]})}),(0,m.jsx)(e2.W.Overlay,{children:(0,m.jsx)(eN.l,{children:(0,m.jsxs)(eN.l.Group,{selectionVariant:"single",children:[(0,m.jsx)(eN.l.GroupHeading,{children:"Filter scope"}),x.map((e,t)=>(0,m.jsx)(eN.l.Item,{selected:t===d,onSelect:()=>c(t),children:e},t))]})})})]})})]})}),(0,m.jsx)("tbody",{children:p.map(e=>(0,m.jsx)(ti,{budgetData:e,hasBudgetWritePermissions:f,deleteBudget:s,enabledProducts:i},e.uuid))})]})}),u.length>10&&(0,m.jsx)(eO.A,{pageCount:r,currentPage:l,onPageChange:(e,t)=>{e.preventDefault(),o(t)}})]})}try{tr.displayName||(tr.displayName="BudgetsTable")}catch{}let tn=function({customerId:e}){let[t,s]=(0,y.useState)([]),{addToast:a}=(0,F.Y6)();return(0,L.Ay)({route:C.fY,reqParams:{customer_id:e},onStart:()=>s([]),onSuccess:e=>s(e.data.payload.budgets),onError:()=>{a({type:"error",message:z.Sr.QUERY_BUDGETS_ERROR})}}),{budgets:t,deleteBudgetFromPage:function(e){let a=t.findIndex(t=>t.uuid===e),i=[...t];i.splice(a,1),s(i)}}},tl=e=>e===z.Dl;function to(){let{adminRoles:e,customer:t,enabledProducts:s,helpUrl:a}=(0,R.B)(),{customerId:i}=t,{budgets:r,deleteBudgetFromPage:n}=tn({customerId:i}),l=r.filter(e=>e.targetType===z.w1||e.targetType===z.hF).sort((e,t)=>e.targetName>t.targetName?1:-1),o=r.filter(e=>e.targetType!==z.w1&&e.targetType!==z.hF).sort((e,t)=>e.targetName>t.targetName?1:-1),d=(0,y.useContext)(A).isStafftoolsRoute,c=tl(t.plan),u=`${a}/early-access/billing/billing-private-beta#using-budgets-and-alerts`,{path:h}=(0,K.A)(C.h6);return(0,m.jsxs)(w.A,{children:[(0,m.jsxs)("header",{className:"Subhead",children:[(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Budgets and alerts"}),!d&&!c&&(0,m.jsx)(e0.z,{href:h,sx:{color:"btn.text",":hover":{textDecoration:"none"}},underline:!1,children:(0,m.jsx)(k.A,{sx:{fontWeight:"normal"},children:"New budget"})})]}),c?(0,m.jsx)("div",{className:"text-center",children:(0,m.jsxs)(e1.A,{border:!0,children:[(0,m.jsx)(e1.A.Visual,{children:(0,m.jsx)(D.GoalIcon,{size:24})}),(0,m.jsx)(e1.A.Heading,{children:"Track spending using budgets"}),(0,m.jsxs)(e1.A.Description,{children:[(0,m.jsx)("span",{children:"You can create budgets to track your spending on products like Actions and Copilot for an organization, repository, cost center or the entire enterprise."}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:[(0,m.jsx)(D.InfoIcon,{size:16})," This is a paid feature and is not included as part of your trial."]})]}),(0,m.jsx)(e1.A.SecondaryAction,{href:u,children:"Learn more about budgets"})]})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(tr,{budgets:l,adminRoles:e,deleteBudget:n,enabledProducts:s,isEnterpriseTable:!0})}),(0,m.jsx)("br",{}),(0,m.jsx)("div",{children:(0,m.jsx)(tr,{budgets:o,adminRoles:e,deleteBudget:n,enabledProducts:s})})]})]})}try{to.displayName||(to.displayName="BudgetsPage")}catch{}var td=s(23120),tc=s(47767),tu=s(74572);function th({encodedAzureSubscriptionUri:e,setAzureTargetId:t,subscriptions:s,targetId:a,viewOnly:i=!1}){let[r,n]=(0,y.useState)(!0),[l,o]=(0,y.useState)(a);return i&&!a?(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)(I.A,{sx:{mb:Y.Kz.CardMargin},"data-testid":"azure-subscription-id-box",children:[(0,m.jsxs)(I.A,{sx:{mb:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:Y.vX.SectionHeadingFontSize},children:"Azure subscription ID"}),!i&&(0,m.jsx)("span",{children:"Add an optional Azure Subscription ID. You will be asked to authenticate through Azure."})]}),a&&s?(0,m.jsxs)(I.A,{sx:{...Y.jk,display:"flex",alignItems:"center"},"data-testid":"azure-subscription-id-view",children:[(0,m.jsxs)(I.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:s.find(e=>e.subscriptionId===a)?.displayName}),(0,m.jsxs)(k.A,{sx:{color:"fg.muted"},children:[" ",a]})]}),!i&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.PencilIcon,variant:"invisible",sx:{color:"fg.muted",ml:"auto"},"aria-label":"Change Azure subscription",onClick:()=>t("")}),(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.XIcon,variant:"invisible",sx:{color:"fg.muted",ml:0},"aria-label":"Delete Azure subscription",onClick:()=>t("")})]})]}):(0,m.jsx)(I.A,{className:"Box",sx:{mt:2,p:3},children:(0,m.jsxs)(es.A,{children:[(0,m.jsx)(es.A.Label,{visuallyHidden:!0,children:"Cost center Azure Subscription ID input"}),(0,m.jsx)(e0.z,{sx:{color:"btn.text",":hover":{textDecoration:"none"}},underline:!1,href:e,children:"Add Azure Subscription ID"}),s.length>0&&(0,m.jsxs)(T.A,{isOpen:r,onDismiss:()=>n(!1),"aria-labelledby":"picker-header",sx:{width:440,maxHeight:"80vh",display:"flex",flexDirection:"column"},children:[(0,m.jsx)(T.A.Header,{id:"picker-header",children:"Connect Azure subscription"}),(0,m.jsx)(I.A,{sx:{p:Y.Kz.StandardPadding,overflow:"auto",flex:"1 1 auto"},children:(0,m.jsxs)(eS.A,{name:"azureSubscriptionGroup",onChange:e=>{o(e??"")},children:[(0,m.jsx)(eS.A.Label,{children:(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:3},children:"Select a subscription"})}),s.map(e=>(0,m.jsxs)(es.A,{sx:{...Y.jk},children:[(0,m.jsx)(ev.A,{name:"subscription",value:e.subscriptionId}),(0,m.jsxs)(es.A.Label,{children:[" ",e.displayName," "]}),(0,m.jsxs)(es.A.Caption,{children:[" ",e.subscriptionId," "]})]},e.subscriptionId))]})}),l&&(0,m.jsx)(I.A,{sx:{display:"flex",p:3},children:(0,m.jsx)(P.Q,{block:!0,variant:"primary",onClick:()=>{t(l),n(!1)},children:"Connect"})})]})]})})]})}try{th.displayName||(th.displayName="AzureSubscriptionDetails")}catch{}function tp(){return(0,m.jsx)(I.A,{sx:{mt:2,mb:4},children:(0,m.jsx)(k.A,{sx:{color:"fg.muted"},children:"Cost centers can consist of organizations and repositories for usage-based products like Actions. For license-based products (Copilot, Advanced Security, and GitHub Enterprise), cost centers can include users."})})}try{tp.displayName||(tp.displayName="CostCenterBanner")}catch{}function tm({name:e,setCostCenterName:t}){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(I.A,{sx:{mb:Y.Kz.CardMargin},children:[(0,m.jsxs)(I.A,{sx:{mb:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:Y.vX.SectionHeadingFontSize},children:"Cost center name"}),(0,m.jsx)("span",{children:"Pick something memorable that will help when searching for this cost center."})]}),(0,m.jsxs)(es.A,{required:!0,children:[(0,m.jsx)(es.A.Label,{visuallyHidden:!0,children:"Cost Center Name Input"}),(0,m.jsx)(ea.A,{block:!0,type:"text","data-testid":"cost-center-name-input",placeholder:"",value:e,onChange:e=>t(e.target.value)})]})]})})}try{tm.displayName||(tm.displayName="CostCenterDetails")}catch{}var tg=s(44196);function tx({message:e,sx:t={}}){return(0,m.jsxs)(O.A,{sx:{mb:Y.Kz.CardMargin,...t},variant:"danger",children:[(0,m.jsx)(E.A,{"aria-label":"Alert icon",icon:D.AlertIcon}),e]})}try{tx.displayName||(tx.displayName="ErrorBanner")}catch{}function tf({title:e,totalCount:t,viewOnly:s=!1}){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eF,{title:e}),(0,m.jsxs)("div",{children:[!s&&(0,m.jsx)(ec.O,{sx:{width:"50%",height:"32px",mb:Y.Kz.StandardPadding}}),(0,m.jsx)(eh,{loading:!0,removeOption:()=>{},selected:[],totalCount:t})]})]})}try{tf.displayName||(tf.displayName="PickerLoadingSkeleton")}catch{}function ty({customer:e,resources:t,setCostCenterResources:s,disablePicker:a,viewOnly:i=!1}){let[r,n]=(0,y.useState)(),[o,d]=(0,y.useState)(),c=function(){let[t,s,i]=(0,j.useQueryLoader)(eU);return(0,y.useEffect)(()=>(a?.includes("org")||s({slug:e.displayId,query:null},{fetchPolicy:"store-or-network"}),()=>i()),[s,i]),t}(),u=function(){let[t,s,i]=(0,j.useQueryLoader)(eK);return(0,y.useEffect)(()=>(a?.includes("repo")||s({slug:e.displayId},{fetchPolicy:"store-or-network"}),()=>{i()}),[s,i]),t}(),h=t.filter(e=>e.type===l.Org).map(e=>e.id),p=t.filter(e=>e.type===l.Repo).map(e=>e.id),g=(e,a)=>{let i=t.filter(e=>e.type!==a),r=e.map(e=>({type:a,id:String(e)}));s(i.concat(r))},x={mb:Y.Kz.CardMargin,p:3};return(0,m.jsxs)(I.A,{sx:{mb:Y.Kz.CardMargin},children:[(0,m.jsxs)(I.A,{sx:{mb:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:Y.vX.SectionHeadingFontSize},children:"Resources"}),!i&&(0,m.jsx)("span",{children:"Set the resources that will be a part of this cost center."})]}),!a?.includes("org")&&(0,m.jsxs)(I.A,{className:"Box","data-testid":"org-picker-wrapper",sx:x,children:[(0,m.jsx)(tg.t,{onError:function(e){n(e)},children:c?(0,m.jsx)(eL,{slug:e.displayId,preloadedOrganizationsRef:c,setSelectedItems:e=>{g(e,l.Org)},initialSelectedItemIds:h,selectionVariant:"multiple",indent:!1,entityType:"cost center",viewOnly:i}):(0,m.jsx)(tf,{title:"Organizations",totalCount:h.length,viewOnly:i})}),r&&(0,m.jsx)(tx,{message:r.cause,sx:{mt:2,mb:0}})]}),!a?.includes("repo")&&(0,m.jsxs)(I.A,{className:"Box","data-testid":"repo-picker-wrapper",sx:x,children:[(0,m.jsx)(tg.t,{onError:function(e){d(e)},children:u?(0,m.jsx)(eq,{slug:e.displayId,preloadedRepositoriesRef:u,setSelectedItems:e=>{g(e,l.Repo)},initialSelectedItemIds:p,selectionVariant:"multiple",indent:!1,entityType:"cost center",viewOnly:i}):(0,m.jsx)(tf,{title:"Repositories",totalCount:p.length,viewOnly:i})}),o&&(0,m.jsx)(tx,{message:o.cause,sx:{mt:2,mb:0}})]})]})}try{ty.displayName||(ty.displayName="CostCenterResourceSelector")}catch{}function tj({action:e,adminRoles:t,costCenter:s,customer:a,encodedAzureSubscriptionUri:i,subscriptions:r,isCopilotStandalone:l}){let{costCenterKey:{uuid:o,targetId:d,targetType:c}}=s,[u]=(0,U.o)(),h=(0,tc.zy)(),p=(0,tu.A)("localStorage"),[g,x]=(0,y.useState)(()=>"true"===u.get("dialog")&&p.getItem("costCenterName")||s.name),[f,j]=(0,y.useState)(s.costCenterKey.targetId),[A,b]=(0,y.useState)(()=>{if("true"===u.get("dialog")){let e=p.getItem("costCenterResources");return e?JSON.parse(e):s.resources}return s.resources}),[S,v]=(0,y.useState)(!1),R=(0,tc.Zp)(),{path:w}=(0,K.A)(C.f),{path:B}=(0,K.A)(C.Bb),{path:$}=(0,K.A)(C.yG,{costCenterUUID:o}),Q=(0,y.useRef)(null),q=(0,y.useRef)(A),[W]=(0,y.useState)(()=>{let e=p.getItem("costCenterInitialResources");return e?JSON.parse(e):q.current}),{addToast:M}=(0,F.Y6)(),G=()=>{p.removeItem("costCenterName"),p.removeItem("costCenterResources"),p.removeItem("costCenterInitialResources")};(0,y.useEffect)(()=>{"true"!==u.get("dialog")&&p.setItem("costCenterInitialResources",JSON.stringify(s.resources))},[]),(0,y.useEffect)(()=>()=>{"true"!==u.get("dialog")&&G()},[h]);let V=async t=>{if(t.preventDefault(),v(!1),""===g){M({type:"error",message:"Unable to save cost center with no name",role:"alert"});return}("new"===e?await H():await X())&&("true"===u.get("dialog")&&G(),R(w))},H=async()=>{let{ok:e,data:t}=await (0,L.p0)(L.aG.POST,B,{name:g,resources:A,targetId:f});return e?0===A.length&&M({type:"success",message:"Successfully created cost center. Please add some resources via the API to start tracking costs.",role:"status"}):M({type:"error",message:t.error??"There was an issue creating your cost center",role:"alert"}),e},X=async()=>{let e=A.filter(e=>!W.some(t=>e.id===t.id&&e.type===t.type)),t=W.filter(e=>!A.some(t=>e.id===t.id&&e.type===t.type)),{ok:s,data:a}=await (0,L.p0)(L.aG.PUT,$,{name:g,originalTargetId:d,resourcesToAdd:e,resourcesToRemove:t,targetId:f});return s?0===A.length&&M({type:"success",message:"Successfully updated cost center. Please add some resources via the API to start tracking costs.",role:"status"}):M({type:"error",message:a.error,role:"alert"}),s},J=[];l?J.push("org","repo"):(t.includes(z.gO)||t.includes(z.kL)||J.push("org"),!t.includes(z.fI)&&(t.includes(z.gO)||t.includes(z.kL))&&J.push("repo"));let Z={mb:Y.Kz.CardMargin,p:3};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("header",{className:"Subhead",children:(0,m.jsxs)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:[(0,m.jsx)(_.A,{href:w,children:"Cost centers"}),(0,m.jsx)("span",{"aria-hidden":"true",children:"\xa0/\xa0"}),(0,td.A)(e)," cost center"]})}),(0,m.jsx)(tp,{}),(0,m.jsx)(I.A,{sx:{maxWidth:"70ch"},children:(0,m.jsxs)("form",{onSubmit:V,children:[(0,m.jsx)(tm,{name:g,setCostCenterName:e=>{x(e),p.setItem("costCenterName",e)}}),c===n.AzureSubscription&&(0,m.jsx)(th,{subscriptions:r,targetId:f,encodedAzureSubscriptionUri:i,setAzureTargetId:j}),(0,m.jsx)(ty,{customer:a,resources:A,setCostCenterResources:e=>{b(e),p.setItem("costCenterResources",JSON.stringify(e))},disablePicker:J}),(0,m.jsxs)(I.A,{className:"Box","data-testid":"members-wrapper",sx:Z,children:[(0,m.jsx)(N.A,{as:"h4",sx:{mb:Y.Kz.StandardPadding,fontSize:Y.vX.CardHeadingFontSize},children:"Members"}),(0,m.jsxs)(O.A,{children:[(0,m.jsx)(E.A,{"aria-label":"Alert icon",icon:D.InfoIcon}),"You can add users to a cost center"," ",(0,m.jsx)(_.A,{href:"https://docs.github.com/en/enterprise-cloud@latest/rest/enterprise-admin/billing?apiVersion=2022-11-28#add-users-to-a-cost-center",target:"_blank",inline:!0,sx:{color:"fg.default"},children:"using the API"}),"."]})]}),(0,m.jsxs)(I.A,{sx:{display:"flex"},children:["new"===e&&(0,m.jsx)(P.Q,{type:"submit",variant:"primary",children:"Create cost center"}),"edit"===e&&(0,m.jsx)(P.Q,{variant:"primary",onClick:()=>v(!0),children:"Save changes"}),(0,m.jsx)(P.Q,{sx:{ml:2},onClick:()=>void("true"===u.get("dialog")&&G(),R(w)),children:"Cancel"})]}),S&&(0,m.jsxs)(T.A,{"aria-labelledby":"delete-cost-center-header","data-testid":"delete-cost-center-dialog",isOpen:S,onDismiss:()=>v(!1),returnFocusRef:Q,sx:{width:320},children:[(0,m.jsx)(T.A.Header,{sx:{border:0,bg:"transparent"},children:"Confirm editing cost center"}),(0,m.jsx)(I.A,{sx:{px:3},children:(0,m.jsx)(k.A,{as:"p",sx:{mb:2},children:(0,m.jsx)("strong",{children:"Are you sure you want to save changes made to this cost center?"})})}),(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"flex-end",p:3},children:[(0,m.jsx)(P.Q,{onClick:()=>{v(!1)},sx:{mr:2},children:"Cancel"}),(0,m.jsx)(P.Q,{type:"submit",variant:"danger",children:"Confirm"})]})]})]})})]})}try{tj.displayName||(tj.displayName="CostCenterForm")}catch{}function tA(){let{adminRoles:e,costCenter:t,customer:s,uri:a,subscriptions:i,isCopilotStandalone:r}=(0,R.B)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(w.A,{children:(0,m.jsx)(tj,{action:"edit",adminRoles:e,costCenter:t,customer:s,encodedAzureSubscriptionUri:a,subscriptions:i,isCopilotStandalone:r})})})}try{tA.displayName||(tA.displayName="CostCenterEditPage")}catch{}function tb(){let{adminRoles:e,customer:t,uri:s,subscriptions:a,isCopilotStandalone:i}=(0,R.B)(),r={costCenterKey:{customerId:t.customerId,targetType:$(t.billingTarget),targetId:"",uuid:""},name:"",resources:[]};return(0,m.jsx)(w.A,{children:(0,m.jsx)(tj,{action:"new",adminRoles:e,costCenter:r,customer:t,encodedAzureSubscriptionUri:s,subscriptions:a,isCopilotStandalone:i})})}try{tb.displayName||(tb.displayName="CostCenterNewPage")}catch{}var tS=s(76629);function tv({costCenter:e}){let{costCenterKey:{uuid:t},name:s,costCenterState:a}=e,[i,n]=(0,y.useState)(!1),{path:l}=(0,K.A)(C.f),{path:o}=(0,K.A)(C.Ig,{costCenterUUID:t}),{path:d}=(0,K.A)(C.tJ,{costCenterUUID:t}),{path:c}=(0,K.A)(C.KI,{costCenterUUID:t}),u=(0,y.useContext)(A).isStafftoolsRoute,h=(0,U.Z)(),{addToast:p}=(0,F.Y6)(),g=(0,y.useRef)(null),x=(0,y.useCallback)(()=>n(!0),[]),f=(0,y.useCallback)(()=>n(!1),[]),j=(0,y.useCallback)(async()=>{let{ok:t,data:a}=await (0,L.p0)(L.aG.DELETE,c,e);t?p({type:"success",message:`Successfully deleted cost center ${s}.`,role:"status"}):p({type:"error",message:a.error,role:"alert"}),n(!1),h(l)},[]);return(0,m.jsxs)("div",{"data-testid":`cost-center-${t}-action-menu`,children:[(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Anchor,{children:(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.KebabHorizontalIcon,variant:"invisible","aria-label":`View actions for cost center ${s}`})}),(0,m.jsx)(e2.W.Overlay,{children:(0,m.jsxs)(eN.l,{children:[(0,m.jsx)(eN.l.LinkItem,{"data-testid":`view-cost-center-${t}`,href:o,children:"View details"}),a===r.Active&&!u&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eN.l.LinkItem,{"data-testid":`edit-cost-center-${t}`,href:d,children:"Edit"}),(0,m.jsx)(eN.l.Item,{"data-testid":`delete-cost-center-${t}`,onSelect:x,ref:g,variant:"danger",children:"Delete"})]})]})})]}),i&&(0,m.jsxs)(T.A,{"aria-labelledby":"delete-cost-center-header","data-testid":"delete-cost-center-dialog",isOpen:i,onDismiss:f,returnFocusRef:g,sx:{width:320},children:[(0,m.jsx)(T.A.Header,{sx:{border:0,bg:"transparent"},children:"Delete cost center"}),(0,m.jsxs)(I.A,{sx:{px:3},children:[(0,m.jsx)(k.A,{as:"p",sx:{mb:2},children:(0,m.jsxs)("strong",{children:["Are you sure you want to delete ",s,"?"]})}),(0,m.jsx)("p",{children:"Once deleted, usage and spend incurred by resources included in this cost center will be attributed to your enterprise account."})]}),(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"flex-end",p:3},children:[(0,m.jsx)(P.Q,{onClick:f,sx:{mr:2},children:"Cancel"}),(0,m.jsx)(P.Q,{onClick:j,variant:"danger",children:"Delete cost center"})]})]})]})}try{tv.displayName||(tv.displayName="CostCenterActionMenu")}catch{}let tC={p:3,display:"flex",flexDirection:"column",width:["100%","auto","auto"],justifyContent:"space-between"},tR={p:0,flexDirection:["column","row","row"],flexWrap:["nowrap","wrap","wrap"],display:"flex",alignItems:[null,"center","center"]};function tw({costCenters:e,selectedTab:t,hasUserScopedCostCenters:s}){let[a,i]=(0,y.useState)(1),[r,n]=(0,y.useState)(1),[o,c]=(0,y.useState)([]),[u,h]=(0,y.useState)([]),p=(0,y.useContext)(A).isStafftoolsRoute,{path:g}=(0,K.A)(C._s),{reloadKey:x}=(0,y.useContext)(b),f=!p&&s;(0,y.useEffect)(()=>{n(1),c(e.sort((e,t)=>e.name.localeCompare(t.name)))},[e]),(0,y.useEffect)(()=>{(async()=>{i(Math.ceil(o.length/10)||1),h(o.slice((r-1)*10,10*r))})()},[o,r]),(0,y.useEffect)(()=>{0!==x&&(window.location.href=window.location.href)},[x]);let j=t=>{if(p)return g;let s=S(t.name);return e.filter(e=>e.costCenterKey.uuid!==t.costCenterKey.uuid).map(e=>S(e.name)).includes(s)?`${g}?query=cost_center:${t.costCenterKey.uuid}`:`${g}?query=cost_center:${s}`},S=e=>e.toLowerCase().replace(/\s/g,"-");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.A,{sx:{...Y.jk,p:0},children:(0,m.jsxs)(I.A,{as:"table",sx:{...Y.dF},"data-hpc":!0,children:[(0,m.jsx)(I.A,{as:"thead",sx:{...Y.LY,alignItems:"center",display:"flex"},children:(0,m.jsx)(I.A,{as:"tr",sx:{flex:1},children:(0,m.jsxs)(I.A,{as:"td",sx:{mt:"6px",mb:"6px"},children:[e.length," ",t," ",eT()("cost center",e.length)]})})}),(0,m.jsx)("tbody",{children:u.map(e=>{let s=e.resources.filter(e=>e.type===l.Org),a=e.resources.filter(e=>e.type===l.Repo),i=e.resources.filter(e=>e.type===l.User);return(0,m.jsxs)(I.A,{as:"tr",sx:{...Y.sS,...tR},children:[(0,m.jsxs)(I.A,{as:"td",sx:{display:"flex",flex:"3",alignItems:"center"},children:[(0,m.jsxs)(I.A,{sx:tC,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(k.A,{sx:{mr:2,fontWeight:"bold",fontSize:1,wordBreak:"break-all"},children:e.name}),t===d.Deleted&&(0,m.jsx)(e6.A,{variant:"attention",sx:{mx:2},children:"Deleted"})]}),p&&(0,m.jsx)(k.A,{sx:{fontSize:"12px",color:"fg.muted"},children:e.costCenterKey.uuid})]}),(0,m.jsx)(I.A,{sx:{py:2,px:3,display:["block","none"]},children:(0,m.jsx)(tv,{costCenter:e})})]}),(0,m.jsx)(I.A,{as:"td",sx:{minWidth:"138px",flex:1},children:(0,m.jsxs)(k.A,{sx:{ml:[3,2,2],whiteSpace:"nowrap"},children:[(0,m.jsx)(D.OrganizationIcon,{size:16})," ",eT()("Organization",s.length,!0)]})}),(0,m.jsx)(I.A,{as:"td",sx:{minWidth:"128px",flex:1,pb:f?0:[3,0,0]},children:(0,m.jsxs)(k.A,{sx:{ml:[3,2,2],whiteSpace:"nowrap"},children:[(0,m.jsx)(D.RepoIcon,{size:16})," ",eT()("Repository",a.length,!0)]})}),f&&(0,m.jsx)(I.A,{as:"td",sx:{minWidth:"104px",flex:1,pb:[3,0,0]},children:(0,m.jsxs)(k.A,{sx:{ml:[3,2,2],whiteSpace:"nowrap"},children:[(0,m.jsx)(D.PersonIcon,{size:16})," ",(0,m.jsx)(_.A,{"data-testid":`cost-center-url-${e.costCenterKey.uuid}`,href:j(e),children:eT()("Member",i.length,!0)})]})}),(0,m.jsx)(I.A,{as:"td",sx:{py:2,px:3,display:["none","table-cell"]},children:(0,m.jsx)(tv,{costCenter:e})})]},e.costCenterKey.uuid)})})]})}),o.length>10&&(0,m.jsx)(eO.A,{pageCount:a,currentPage:r,onPageChange:(e,t)=>{e.preventDefault(),n(t)}})]})}try{tw.displayName||(tw.displayName="CostCentersTable")}catch{}function tN(){let{activeCostCenters:e,archivedCostCenters:t,hasUserScopedCostCenters:s}=(0,R.B)(),[a,i]=(0,y.useState)("active"),r=(0,y.useContext)(A).isStafftoolsRoute,{path:n}=(0,K.A)(C.$q),l=e.length||t.length;return(0,m.jsxs)(w.A,{children:[(0,m.jsxs)("header",{className:"Subhead",children:[(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Cost centers"}),l&&!r&&(0,m.jsx)(e0.z,{href:n,underline:!1,children:(0,m.jsx)(k.A,{sx:{fontWeight:"normal"},children:"New cost center"})})]}),(0,m.jsx)(tp,{}),l||r?(0,m.jsxs)("div",{children:[!r&&(0,m.jsxs)(tS.O,{"aria-label":"Cost centers selector",sx:{pl:0,mb:3},children:[(0,m.jsx)(tS.O.Item,{"aria-current":"active"===a?"page":void 0,onSelect:e=>{e.preventDefault(),i("active")},"data-testid":"active-cost-centers-tab",children:"Active"},"active-cost-centers-tab"),(0,m.jsx)(tS.O.Item,{"aria-current":"deleted"===a?"page":void 0,onSelect:e=>{e.preventDefault(),i("deleted")},"data-testid":"deleted-cost-centers-tab",children:"Deleted"},"deleted-cost-centers-tab")]}),"active"===a&&(0,m.jsx)(tw,{costCenters:e,selectedTab:a,hasUserScopedCostCenters:s}),"deleted"===a&&(0,m.jsx)(tw,{costCenters:t,selectedTab:a,hasUserScopedCostCenters:s})]}):(0,m.jsxs)(I.A,{sx:{...Y.jk,padding:2*Y.Kz.StandardPadding,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,m.jsx)(I.A,{sx:{mb:Y.Kz.StandardPadding},children:(0,m.jsx)(E.A,{icon:D.BriefcaseIcon,size:24})}),(0,m.jsxs)(I.A,{sx:{width:600,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,m.jsx)(N.A,{as:"h3",sx:{mb:1,fontSize:Y.vX.SectionHeadingFontSize},children:"No cost centers created"}),(0,m.jsx)(k.A,{as:"p",sx:{mb:Y.Kz.CardMargin,color:"fg.muted",textAlign:"center"},children:"Create cost centers to track spending and bill separately for a group of organizations and repositories within your enterprise."})]}),(0,m.jsx)(e0.z,{href:n,variant:"primary",children:"New Cost Center"})]})]})}!function(e){e.Active="active",e.Deleted="deleted"}(d||(d={}));try{tN.displayName||(tN.displayName="CostCentersPage")}catch{}var t_=s(62689),tk=s(30631);function tI({resources:e}){let t=(0,j.useRelayEnvironment)(),[s,a]=(0,y.useState)([]),[i,r]=(0,y.useState)(!1),[n,o]=(0,y.useState)(""),[d,c]=(0,y.useState)(1),[u,h]=(0,y.useState)(1),[p,g]=(0,y.useState)([]),x=e=>({id:e.id,text:e.login,description:e.name??"",leadingVisual:()=>(0,m.jsx)(el.r,{square:!0,src:e.avatarUrl,alt:"User login"}),rowLeadingVisual:()=>(0,m.jsx)(el.r,{square:!0,src:e.avatarUrl,alt:"User login"}),viewOnly:!0}),f=e.filter(e=>e.type===l.User).map(e=>e.id);return(0,y.useEffect)(()=>{r(!0);let e=[];for(let t=0;t<f.length;t+=100)e.push(f.slice(t,t+100));let s=e.map(e=>new Promise((s,a)=>{(0,j.fetchQuery)(t,ex,{ids:e}).subscribe({next:e=>{s((e.nodes||[]).flatMap(e=>e?[(0,j.readInlineData)(em,e)]:[]).map(e=>x(e)))},error:e=>{a(e)}})}));(async()=>{try{let e=(await Promise.all(s)).flat();a(e),(async()=>{c(Math.ceil(e.length/10)||1),g(e.slice((u-1)*10,10*u))})(),r(!1)}catch(e){o("Unable to load members"),r(!1)}})()},[t,u]),(0,m.jsx)("div",{className:"Box",children:(0,m.jsxs)("div",{className:"Box-row","data-testid":"members-list-wrapper",children:[(0,m.jsx)(N.A,{as:"h4",sx:{mb:Y.Kz.StandardPadding,fontSize:Y.vX.CardHeadingFontSize},"data-testid":"members-list-header",children:"Members"}),(0,m.jsx)(eh,{loading:i,removeOption:()=>{},selected:p,totalCount:s.length}),n&&(0,m.jsx)(tx,{message:n,sx:{mt:2,mb:0}}),(0,m.jsx)(eE,{totalResources:s.length,pageCount:d,pageSize:10,currentPage:u,onPageChange:(e,t)=>{e.preventDefault(),h(t)}})]})})}try{tI.displayName||(tI.displayName="CostCenterMembersList")}catch{}function tP(){let e=(0,tc.Zp)(),{costCenter:t,customer:s,encodedAzureSubscriptionUri:a,subscriptions:i,isCopilotStandalone:l}=(0,R.B)(),{costCenterKey:{targetId:o,targetType:d,uuid:c},resources:u,costCenterState:h}=t,p=(0,y.useContext)(A).isStafftoolsRoute,[g,x]=(0,y.useState)(!1),{path:f}=(0,K.A)(C.f),{path:j}=(0,K.A)(C.tJ,{costCenterUUID:c}),{path:b}=(0,K.A)(C.KI,{costCenterUUID:c}),{path:S}=(0,K.A)(C.f),{addToast:v}=(0,F.Y6)(),N=(0,y.useRef)(null),_=(0,y.useCallback)(()=>x(!0),[]),O=(0,y.useCallback)(()=>x(!1),[]),E=(0,y.useCallback)(async t=>{let{ok:s,data:a}=await (0,L.p0)(L.aG.DELETE,b,t);s?v({type:"success",message:"Successfully deleted cost center."}):v({type:"error",message:a.error}),x(!1),e(S)},[]),U=[];return l&&U.push("org","repo"),(0,m.jsxs)(w.A,{children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between",borderBottom:"var(--borderWidth-thin) solid var(--borderColor-muted)",paddingBottom:2,marginBottom:3,flexDirection:["column","row"]},children:[(0,m.jsxs)(t_.A,{sx:{ol:{display:"flex"},"*::after":{fontSize:"24px"}},children:[(0,m.jsx)(t_.A.Item,{href:f,sx:{fontSize:"24px"},children:"Cost centers"}),(0,m.jsx)(t_.A.Item,{selected:!0,as:"h2",sx:{fontSize:"24px",flex:"1 1 auto"},children:(0,m.jsx)(tk.A,{title:t.name,expandable:!0,maxWidth:[180,240,400,660],children:t.name})})]}),h===r.Active&&!p&&(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between",flexDirection:["column","row"],width:["100%","auto"]},children:[(0,m.jsx)(e0.z,{href:j,sx:{ml:"auto",mt:[2,0],width:["100%","auto"]},"data-testid":`edit-cost-center-${c}`,children:"Edit"}),(0,m.jsx)(P.Q,{sx:{ml:[0,2],mt:[2,0],width:["100%","auto"]},variant:"danger","data-testid":`delete-cost-center-${c}`,onClick:_,ref:N,children:"Delete"})]})]}),(0,m.jsxs)(I.A,{sx:{maxWidth:"65ch"},children:[(0,m.jsx)(ty,{customer:s,resources:u,setCostCenterResources:()=>{},viewOnly:!0,disablePicker:U}),(0,m.jsx)(tI,{resources:u}),d===n.AzureSubscription&&(0,m.jsx)(th,{encodedAzureSubscriptionUri:a,setAzureTargetId:()=>{},subscriptions:i,targetId:o,viewOnly:!0})]}),g&&(0,m.jsxs)(T.A,{"aria-labelledby":"delete-cost-center-header","data-testid":"delete-cost-center-dialog",isOpen:g,onDismiss:O,returnFocusRef:N,sx:{width:320},children:[(0,m.jsx)(T.A.Header,{sx:{border:0,bg:"transparent"},children:"Delete cost center"}),(0,m.jsxs)(I.A,{sx:{px:3},children:[(0,m.jsx)(k.A,{as:"p",sx:{mb:2},children:(0,m.jsxs)("strong",{children:["Are you sure you want to delete ",t.name,"?"]})}),(0,m.jsx)("p",{children:"Once deleted, usage and spend incurred by resources included in this cost center will be attributed to your enterprise account."})]}),(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"flex-end",p:3},children:[(0,m.jsx)(P.Q,{onClick:O,sx:{mr:2},children:"Cancel"}),(0,m.jsx)(P.Q,{onClick:()=>E(t),variant:"danger",children:"Delete cost center"})]})]})]})}try{tP.displayName||(tP.displayName="CostCenterPage")}catch{}var tT=s(47360);let tO=e=>{let t=[];for(let s=e.length-1;s>=0;s--)void 0!==e[s]&&t.push(e[s]);return t};var tE=s(99525);let tF=function({enabledProducts:e}){let[t,s]=(0,y.useState)([]),[a,i]=(0,y.useState)({}),{addToast:r}=(0,F.Y6)(),n=new Date().getUTCMonth()+1,l=new Date().getUTCFullYear();return(0,L.Ay)({route:C.L$,reqParams:{month:n.toString(),year:l.toString()},onStart:()=>{s([]),i({})},onSuccess:t=>{let a=t.data.discounts.filter(function(t){let s=[];for(let t of e)s.push(...z.tG[t.name]);for(let e of t.targets){if("SkuDiscount"===e.type&&!s.includes(e.id))return!1;break}return!0}),r=function(e){let t={};for(let n of e){var s,a,i,r;let{id:e,type:l}=n.targets[0]||{},o=n.uuid??"",d=function(e,t,s){switch(e){case B.dV.Enterprise:return B.tR.ENTERPRISE;case B.dV.SKU:return G[t]??B.tR.UNSUPPORTED;case B.dV.Organization:return B.tR.ORGANIZATION;case B.dV.Repository:return B.tR.REPOSITORY;case B.dV.NoDiscountTarget:return s===z.J_?B.tR.PUBLIC_REPO:B.tR.UNSUPPORTED;default:return B.tR.UNSUPPORTED}}(l??B.dV.NoDiscountTarget,e??"",o);d!==B.tR.UNSUPPORTED&&(t[d]||(t[d]={}),0!==n.percentage?((s=t[d])[a=B.oQ.Percentage]||(s[a]=[]),t[d][B.oQ.Percentage]?.push({appliedAmount:n.currentAmount,targetAmount:n.percentage})):((i=t[d])[r=B.oQ.FixedAmount]||(i[r]={appliedAmount:0,targetAmount:0}),t[d][B.oQ.FixedAmount].appliedAmount+=n.currentAmount,t[d][B.oQ.FixedAmount].targetAmount+=n.targetAmount))}return t}(a);s(a),i(r)},onError:()=>{r({type:"error",message:z.Sr.QUERY_DISCOUNTS_ERROR})}}),{discounts:t,discountTargetAmounts:a}},tU={...Y.jk,mb:3},tD={display:"flex",alignItems:"flex-end",justifyContent:"space-between"};function tz({budgets:e,isOrgAdmin:t,product:s,requestState:a,usage:i}){let r=e.find(e=>e.targetType===z.hF),n=r?.targetAmount||0,{discountTargetAmounts:l}=tF({enabledProducts:[s]}),o="";if(s.name===z.lk.actions){let e=l[B.tR.SKU_ACTIONS_MINUTES]?.[B.oQ.FixedAmount];e&&(o=H(e,B.tR.SKU_ACTIONS_MINUTES,B.oQ.FixedAmount).join(" "))}let d=i.reduce((e,t)=>e+(t.billedAmount??0),0),c=i.reduce((e,t)=>e+(t.discountAmount??0),0),u=i.reduce((e,t)=>e+(t.totalAmount??0),0),h=d&&n>0?d/n*100:0;return(0,m.jsxs)(I.A,{sx:tU,children:[(0,m.jsxs)(N.A,{as:"h3",sx:Y.ik,children:[s.friendlyProductName," usage"]}),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.A,{sx:tD,children:(0,m.jsxs)("div",{children:[[B.X_.INIT,B.X_.LOADING].includes(a)&&(0,m.jsx)(ec.O,{variant:"rounded",height:"36px"}),a===B.X_.ERROR&&(0,m.jsx)(eJ.Ax,{sx:{border:0},testid:`${s.name}-usage-loading-error`,text:"Something went wrong"}),a===B.X_.IDLE&&(0,m.jsx)(tL,{isOrgAdmin:t,totalActual:d,totalDiscount:c,totalBilled:u}),!t&&n>0&&(0,m.jsx)(e8.z,{bg:h<100?"accent.emphasis":"danger.emphasis",progress:h,sx:{mb:2},"data-testid":`${s.name}-usage`}),!t&&s.name===z.lk.actions&&(0,m.jsxs)(k.A,{as:"p",sx:{mb:0,color:"fg.muted"},children:["Usage for Actions and Actions Runners. ",o,"."]})]})})})]})}function tL({isOrgAdmin:e,totalActual:t,totalDiscount:s,totalBilled:a}){return e?(0,m.jsxs)(I.A,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,m.jsx)(k.A,{sx:{display:"block",fontSize:4,lineHeight:"36px",mr:2},children:(0,W.W)(t)}),(0,m.jsx)(k.A,{sx:{color:"fg.subtle",lineHeight:"28px"},children:"spent "})]}):(0,m.jsxs)(I.A,{sx:{display:"flex",alignItems:"flex-end",flexWrap:"wrap"},"data-testid":"actions-totals",children:[(0,m.jsx)(k.A,{sx:{display:"block",fontSize:4,lineHeight:"36px",mr:2},children:(0,W.W)(t)}),(0,m.jsx)(k.A,{sx:{color:"fg.subtle",lineHeight:"28px",mr:2},children:"consumed usage - "}),(0,m.jsx)(k.A,{sx:{display:"block",fontSize:4,lineHeight:"36px",mr:2},children:(0,W.W)(s)}),(0,m.jsx)(k.A,{sx:{color:"fg.subtle",lineHeight:"28px",mr:2},children:"in discounts = "}),(0,m.jsx)(k.A,{sx:{display:"block",fontSize:4,lineHeight:"36px",mr:2},children:(0,W.W)(a)}),(0,m.jsx)(k.A,{sx:{color:"fg.subtle",lineHeight:"28px"},children:"in billable usage "})]})}try{tz.displayName||(tz.displayName="DefaultUsageCard")}catch{}try{tL.displayName||(tL.displayName="TotalTextBox")}catch{}let tK={display:"flex",alignItems:"flex-end",justifyContent:"space-between",mb:2};function tB({enabledProducts:e,isOrganization:t}){let{discounts:s,discountTargetAmounts:a}=tF({enabledProducts:e}),i=s.reduce((e,t)=>e+t.currentAmount,0);return(0,m.jsxs)(I.A,{sx:Y.jk,children:[(0,m.jsxs)(I.A,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(N.A,{as:"h3",sx:{...Y.ik,flex:"auto"},children:"Current included usage"}),(0,m.jsx)(sd,{discountTargetAmounts:a,totalDiscount:i,isOrganization:t})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.A,{sx:tK,children:(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{sx:{mr:2,fontSize:4},"data-testid":"total-discount",children:(0,W.W)(i)})})}),(0,m.jsx)(k.A,{as:"p",sx:{mb:0,color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:t?"Showing currently applied discounts for your organization.":"Showing currently applied discounts for your enterprise."})]})]})}try{tB.displayName||(tB.displayName="DiscountUsageCard")}catch{}let t$={...Y.jk,display:"flex",flexDirection:"column"},tQ={display:"flex",alignItems:"flex-end",justifyContent:"space-between",mb:2},tq=(e,t)=>{let s=x.fV.pathname,a=C.Kf(s)?.childRoute(C.vY.fullPath).generateFullPath({...t})??"";(0,C.wF)(a)||(a=C.vY.fullPath);let i=new URLSearchParams({customer_id:e.id}).toString();return`${a}?${i}`};function tW({customerSelections:e,isOrganization:t}){let s=(0,tc.g)(),[a,i]=(0,y.useState)(0),[r,n]=(0,y.useState)(!0),[l,o]=(0,y.useState)({});return(0,y.useEffect)(()=>{(async()=>{let t=e.map(async e=>{let t=tq(e,s);return{res:await (0,e5.lS)(t,{method:"GET"}),id:e.id}}),a=await Promise.all(t),r=0,l={};for(let{res:e,id:t}of a)if(e.ok){let s=await e.json();r+=s.usage.billableAmount,l[t]=s.usage.billableAmount}i(r),o(l),n(!1)})()},[e,a,s]),(0,m.jsxs)(I.A,{sx:t$,children:[(0,m.jsxs)(I.A,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(N.A,{as:"h3",sx:{...Y.ik,flex:"auto"},children:"Current metered usage"}),!r&&!t&&(0,m.jsx)(so,{customerSelections:e,totalUsage:a,usageMap:l})]}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.A,{sx:r?{display:"block",width:"50%"}:tQ,children:(0,m.jsx)("div",{children:r?(0,m.jsx)(I.A,{sx:{display:"flex",justifyContent:"space-between",py:2,mr:3},children:(0,m.jsx)(eJ.qH,{sx:{p:0,border:0},children:(0,m.jsx)(ec.O,{sx:{flex:1},variant:"rounded",height:"md"})})}):(0,m.jsx)(k.A,{sx:{mr:2,fontSize:4},"data-testid":"total-discount",children:(0,W.W)(a)})})}),(0,m.jsx)(k.A,{as:"p",sx:{mb:0,color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:t?"Showing gross metered usage for your organization.":"Showing gross metered usage for your enterprise including all cost centers."})]})]})}try{tW.displayName||(tW.displayName="TotalUsageCard")}catch{}var tM=s(87572),tG=s(98488);let tV={ml:2};try{(c=function({chartRef:e}){return(0,m.jsx)(I.A,{sx:tV,children:(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Anchor,{children:(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.KebabHorizontalIcon,variant:"invisible","aria-label":"Open column options"})}),(0,m.jsx)(e2.W.Overlay,{align:"end",children:(0,m.jsx)(eN.l,{selectionVariant:"single",showDividers:!0,sx:{whiteSpace:"nowrap"},children:(0,m.jsx)(eN.l.Item,{onSelect:function(){if(!e.current)return;let t=e.current,s=document.createElement("canvas");s.style.display="none",document.body.appendChild(s);let a=new tM.t1(s,{type:t.config.type,data:t.config.data,options:(0,tG.A)(t.config.options)});a.options.animation={duration:0,onComplete:()=>{(function(e,t){let s=document.createElement("a");return s.href=t,s.download=`${e}.png`,s})("all-usage-chart",a.toBase64Image()).click(),a.destroy()}};let i=document.querySelector("#usage-chart-title");if(i){let e=getComputedStyle(i);a.options.responsiveAnimationDuration=0,a.options.plugins.title={display:!0,text:i.textContent,align:"start",color:e.color,font:{size:e.fontSize,weight:e.fontWeight},padding:{bottom:0}}}let r=document.querySelector("#usage-chart-subtitle"),n=getComputedStyle(r);a.options.plugins.subtitle={display:!0,text:r.textContent,align:"start",color:n.color,font:{size:n.fontSize,weight:n.fontWeight},padding:{bottom:16}},a.update()},children:"Download graph as image"})})})]})})}).displayName||(c.displayName="UsageActions")}catch{}let tH={...Y.jk,width:"100%",height:"100%",p:0,mb:3},tX={height:"432px",border:0},tY={display:"flex",alignItems:"center",pl:3,pr:3,pt:3},tJ={color:"fg.muted",fontSize:1,fontWeight:"normal"};function tZ(){return(0,m.jsxs)(I.A,{sx:tH,children:[(0,m.jsx)(I.A,{sx:tY,children:(0,m.jsxs)(I.A,{sx:{flex:1},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},children:"All usage"}),(0,m.jsx)(N.A,{as:"h4",sx:tJ,children:"Loading..."})]})}),(0,m.jsx)(eJ.qH,{sx:tX})]})}try{tZ.displayName||(tZ.displayName="UsageChartSkeleton")}catch{}var t0=s(75842);function t1({anchorRef:e,open:t,setOpen:s,selectedCustomer:a,setSelectedCustomer:i,menuItems:r,filtersSavedState:n,setFilters:l,manageCostCentersLink:o}){let[d,c]=(0,y.useState)(r),[u,h]=(0,y.useState)("");return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(t0.X,{title:"Switch cost center",description:"View usage for individual cost centers",open:t,onSubmit:()=>{c(r),s(!1)},onCancel:()=>{s(!1)},anchorRef:e,selectionVariant:"instant",children:[(0,m.jsx)(t0.X.Header,{"data-testid":"single-select-panel-header",children:(0,m.jsx)(t0.X.SearchInput,{onChange:e=>{let t=e.currentTarget.value;h(t),c(""===u?r:r.filter(e=>e.displayText.toLowerCase().includes(t.toLowerCase())))},"data-testid":"single-select-panel-search-input"})}),(0,m.jsx)(eN.l,{"data-testid":"single-select-panel-list",children:0===d.length?(0,m.jsx)(t0.X.Message,{variant:"empty",title:"No cost center found",children:"Try searching for a different cost center or add a new one"}):d.map(e=>(0,m.jsxs)(eN.l.Item,{onSelect:()=>{i(e),l({...n,customer:e}),s(!1)},selected:a?.id===e.id,children:[Q(e)," ","None"===e.displayText&&(0,m.jsx)(k.A,{as:"small",sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:"(usage excluding cost centers)"})]},e.id))}),(0,m.jsx)(t0.X.Footer,{children:(0,m.jsx)(t0.X.SecondaryAction,{variant:"link",href:o,"data-testid":"single-select-panel-footer-link",children:"Manage cost centers"})})]})})}try{t1.displayName||(t1.displayName="SingleSelectPanel")}catch{}function t2({menuItems:e,filtersSavedState:t,setFilters:s,manageCostCentersLink:a,useUsageChartDataEndpoint:i}){let r=(0,y.useRef)(null),[n,l]=(0,y.useState)(!1),[o,d]=(0,y.useState)(t.customer);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(N.A,{as:"h2","data-testid":"select-cost-center",sx:Y.vd,children:"Metered usage"}),!i&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(P.Q,{trailingVisual:D.TriangleDownIcon,onClick:()=>l(!n),ref:r,"data-testid":"usage-customer-panel-dialog-container",variant:"invisible",sx:{ml:"-12px"},children:`Cost center: ${o.displayText}`}),(0,m.jsx)(t1,{anchorRef:r,open:n,setOpen:l,selectedCustomer:o,setSelectedCustomer:d,setFilters:s,filtersSavedState:t,menuItems:e,manageCostCentersLink:a})]}),(0,m.jsx)(k.A,{as:"small",sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall,mt:1},children:!i&&("None"===o.displayText?"Showing usage for your enterprise excluding cost centers.":"Showing cost for the selected cost center.")})]})}try{t2.displayName||(t2.displayName="UsageCustomerSelectPanel")}catch{}let t3={display:"flex",flexWrap:["nowrap","nowrap","wrap"],flexDirection:["column","column","row"],alignItems:"stretch",mb:3};function t5({customer:e,filters:t,setFilters:s,groupSelections:a=[],periodSelections:i=[],showSearch:r=!1,useUsageChartDataEndpoint:n=!1,sx:l}){return(0,m.jsxs)(I.A,{sx:{...t3,...l},"data-testid":"usage-filters",children:[r&&(0,m.jsx)(sa,{setSearchQuery:e=>{s({...t,searchQuery:e})},customer:e,searchQuery:t.searchQuery,useUsageChartDataEndpoint:n}),t.group&&(0,m.jsx)(I.A,{sx:{ml:[0,0,2],mt:[2,2,0]},children:(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Button,{sx:{width:["100%","100%","auto"]},children:`Group: ${t.group?.displayText}`}),(0,m.jsx)(e2.W.Overlay,{align:"end",children:(0,m.jsx)(eN.l,{selectionVariant:"single",showDividers:!0,children:(t.searchQuery.includes("product:")&&(a=a.filter(e=>e.type===z.hL||e.type===z.IN)),t.searchQuery.includes("sku:")&&(a=a.filter(e=>e.type===z.IN)),(t.searchQuery.includes("org:")||t.searchQuery.includes("repo:"))&&(a=a.filter(e=>e.type!==z.IE&&e.type!==z.iF)),"Organization"===e.customerType&&(a=a.filter(e=>e.type!==z.IE)),a.some(e=>e.type===t.group?.type)||s({...t,group:a?.find(e=>e.type===z.Jt)}),a).map(e=>(0,m.jsx)(eN.l.Item,{onSelect:()=>s({...t,group:e}),selected:e.type===t.group?.type,children:e.displayText},e.type))})})]})}),t.period&&(0,m.jsx)(I.A,{sx:{ml:[0,0,2],mt:[2,2,0]},children:(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Button,{sx:{width:["100%","100%","auto"]},children:`Time Frame: ${t.period?.displayText}`}),(0,m.jsx)(e2.W.Overlay,{align:"end",children:(0,m.jsx)(eN.l,{selectionVariant:"single",showDividers:!0,children:i.map(e=>(0,m.jsx)(eN.l.Item,{onSelect:()=>s({...t,period:e}),selected:e===t.period,children:e.displayText},e.type))})})]})})]})}try{t5.displayName||(t5.displayName="UsageFilters")}catch{}var t4=s(52190),t6=s(88360),t9=s(74324),t7=s(91385),t8=s(61636);let se=s(41266);let EnterpriseOrgFilterProvider=class EnterpriseOrgFilterProvider extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1);if((""!==t.value||this.priority<=5)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,t7.qA)(t?.value,this.name)||(0,t7.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type===this.type&&t.filter===this.value){if(this.topOrgCache){if(!this.topOrgCache.some(e=>(0,t7.qA)(t.value,e.login))){let t=this.fetchTopOrgs(e);this.dispatchEvent(new t9.dS(t));return}for(let e of this.topOrgCache)this.emitSuggestion(e.name,e.login,e.avatarUrl,t.value)}else{this.topOrgCache=[];let t=this.fetchTopOrgs(e);this.dispatchEvent(new t9.dS(t))}}}async fetchTopOrgs(e){let t;let s=e.parsedQuery.at(-1)?.value;try{t=await (0,j.fetchQuery)(this.relayEnvironment,se,{slug:this.slug,query:s,count:t8.y1}).toPromise()}catch(e){this.topOrgCache=void 0;return}let a=e.parsedQuery.at(-1).value;t?.enterprise?.organizations.edges?.map(e=>{let t=e?.node?.login,s=e?.node?.avatarUrl,i=e?.node?.name,r=this.topOrgCache?.some(e=>e.login===t);t&&s&&!r&&(this.topOrgCache.push({name:i??t,login:t,avatarUrl:s}),this.emitSuggestion(i??t,t,s,a))})}emitSuggestion(e,t,s,a){let i=2;(!a||(0,t7.qA)(a,t))&&(a&&(i-=(0,t7.fN)(a,t)),this.dispatchEvent(new t9.qi({filter:this.value,value:t,name:e,priority:i,avatar:s?{url:s,type:"org"}:void 0})))}constructor(e,{name:t,slug:s,value:a,priority:i,relayEnvironment:r}){super(),this.type="filter",this.topOrgCache=void 0,this.name=t,this.slug=s,this.singularItemName=t,this.value=a,this.priority=i,this.relayEnvironment=r,e.addEventListener("query",this),e.attachProvider(this)}};let st=s(13742);let EnterpriseRepoFilterProvider=class EnterpriseRepoFilterProvider extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1);if((""!==t.value||this.priority<=5)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,t7.qA)(t?.value,this.name)||(0,t7.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type===this.type&&t.filter===this.value){if(this.topRepoCache){if(!this.topRepoCache.some(e=>(0,t7.qA)(t.value,e.name))){let t=this.fetchTopRepos(e);this.dispatchEvent(new t9.dS(t));return}for(let e of this.topRepoCache)this.emitSuggestion(e.name,e.name,t.value)}else{this.topRepoCache=[];let t=this.fetchTopRepos(e);this.dispatchEvent(new t9.dS(t))}}}async fetchTopRepos(e){let t;let s=e.parsedQuery.at(-1)?.value;try{t=await (0,j.fetchQuery)(this.relayEnvironment,st,{slug:this.slug,phrase:s,count:t8.x}).toPromise()}catch(e){this.topRepoCache=void 0;return}let a=e.parsedQuery.at(-1).value;t?.viewer?.enterpriseRepositories?.nodes?.map(e=>{let t=e?.nameWithOwner,s=this.topRepoCache?.some(e=>e.name===t);t&&!s&&(this.topRepoCache.push({name:t}),this.emitSuggestion(t,t,a))})}emitSuggestion(e,t,s){let a=2;(!s||(0,t7.qA)(s,t))&&(s&&(a-=(0,t7.fN)(s,t)),this.dispatchEvent(new t9.qi({filter:this.value,value:t,name:e,priority:a})))}constructor(e,{name:t,slug:s,value:a,priority:i,relayEnvironment:r}){super(),this.type="filter",this.topRepoCache=void 0,this.name=t,this.slug=s,this.singularItemName=t,this.value=a,this.priority=i,this.relayEnvironment=r,e.addEventListener("query",this),e.attachProvider(this)}};let BillingProductFilterProvider=class BillingProductFilterProvider extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1);if((""!==t.value||this.priority<=5)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,t7.qA)(t?.value,this.name)||(0,t7.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type===this.type&&t.filter===this.value){if(this.productCache)for(let e of this.productCache)this.emitSuggestion(e.name,e.name,t.value);else{this.productCache=[];let t=this.fetchTopProducts(e);this.dispatchEvent(new t9.dS(t))}}}async fetchTopProducts(e){let t=[];try{let e=`/enterprises/${this.slug}/billing/products`,s=await (0,e5.lS)(e,{method:"GET"});if(200!==s.status){this.productCache=void 0;return}t=await s.json()}catch(e){this.productCache=void 0;return}let s=e.parsedQuery.at(-1).value;t.products?.map(e=>{this.productCache.push({...e}),this.emitSuggestion(e.friendlyProductName,e.name,s)})}emitSuggestion(e,t,s){(!s||(0,t7.qA)(s,t))&&this.dispatchEvent(new t9.qi({filter:this.value,value:t,name:e}))}constructor(e,{name:t,slug:s,value:a,priority:i}){super(),this.type="filter",this.productCache=void 0,this.name=t,this.slug=s,this.singularItemName=t,this.value=a,this.priority=i,e.addEventListener("query",this),e.attachProvider(this)}};let BillingSKUFilterProvider=class BillingSKUFilterProvider extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1);if((""!==t.value||this.priority<=5)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,t7.qA)(t?.value,this.name)||(0,t7.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type===this.type&&t.filter===this.value){if(this.skuCache)for(let e of this.skuCache)this.emitSuggestion(e.name,e.name,t.value);else{this.skuCache=[];let t=this.fetchTopSKUs(e);this.dispatchEvent(new t9.dS(t))}}}async fetchTopSKUs(e){let t=[];try{let e=`/enterprises/${this.slug}/billing/skus`,s=await (0,e5.lS)(e,{method:"GET"});if(200!==s.status){this.skuCache=void 0;return}t=await s.json()}catch(e){this.skuCache=void 0;return}let s=e.parsedQuery.at(-1).value;t.skus?.map(e=>{this.skuCache.push({name:e.sku}),this.emitSuggestion(e.sku,e.sku,s)})}emitSuggestion(e,t,s){(!s||(0,t7.qA)(s,t))&&this.dispatchEvent(new t9.qi({filter:this.value,value:t,name:e}))}constructor(e,{name:t,slug:s,value:a,priority:i}){super(),this.type="filter",this.skuCache=void 0,this.name=t,this.slug=s,this.singularItemName=t,this.value=a,this.priority=i,e.addEventListener("query",this),e.attachProvider(this)}};let BillingCostCenterFilterProvider=class BillingCostCenterFilterProvider extends EventTarget{async handleEvent(e){let t=e.parsedQuery.at(-1);if((""!==t.value||this.priority<=5)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,t7.qA)(t?.value,this.name)||(0,t7.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type===this.type&&t.filter===this.value){if(this.costCenterCache)for(let e of this.costCenterCache)this.emitSuggestion(e.name,e.name,t.value);else{this.costCenterCache=[];let t=this.fetchCostCenters(e);this.dispatchEvent(new t9.dS(t))}}}async fetchCostCenters(e){let t=[];try{let e=`/enterprises/${this.slug}/billing/cost_centers_list`,s=await (0,e5.lS)(e,{method:"GET"});if(200!==s.status){this.costCenterCache=void 0;return}t=await s.json()}catch(e){this.costCenterCache=void 0;return}let s=e.parsedQuery.at(-1).value;t?.map(e=>{let t={name:e.name,id:e.costCenterKey.uuid};this.costCenterCache.push({...t}),this.emitSuggestion(t.name,t.name,s)});let a={name:"None",id:"None"};this.costCenterCache.push({...a}),this.emitSuggestion(a.name,a.name,s)}emitSuggestion(e,t,s){(!s||(0,t7.qA)(s,t))&&this.dispatchEvent(new t9.qi({filter:this.value,value:t,name:e}))}constructor(e,{name:t,slug:s,value:a,priority:i}){super(),this.type="filter",this.costCenterCache=void 0,this.name=t,this.slug=s,this.singularItemName=t,this.value=a,this.priority=i,e.addEventListener("query",this),e.attachProvider(this)}};let ss=({customer:e,setSearchQuery:t,searchQuery:s,useUsageChartDataEndpoint:a})=>{let[i,r]=(0,y.useState)(s),n=(0,j.useRelayEnvironment)(),l=(0,y.useRef)(null),o=(0,y.useContext)(A).isEnterpriseRoute,d=(0,y.useCallback)(t=>{t.stopPropagation();let s=t.target;o&&(new EnterpriseOrgFilterProvider(s,{name:"Organization",value:"org",slug:e.displayId,priority:2,relayEnvironment:n}),a&&new BillingCostCenterFilterProvider(s,{name:"Cost Center",value:"cost_center",slug:e.displayId,priority:1})),new EnterpriseRepoFilterProvider(s,{name:"Repository",value:"repo",slug:e.displayId,priority:3,relayEnvironment:n}),new BillingProductFilterProvider(s,{name:"Product",value:"product",slug:e.displayId,priority:4}),new BillingSKUFilterProvider(s,{name:"SKU",value:"sku",slug:e.displayId,priority:5})},[e.displayId,n,o,a]),c=(0,t6.d)(t,400),u=(0,y.useCallback)(e=>{let s=e.currentTarget.value;if(s!==i){if(""===s){t(""),r("");return}r(s);let e=s.split(":").length-1;s&&s.includes(":")&&!s.trim().endsWith(":")&&1===e&&c(s.trim())}},[i,t,c]),h=(0,y.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),1==i.split(":").length-1&&t(i.trim()))},[i,t]);return(0,m.jsx)(t4.o,{id:"usage-query-builder",label:"Search or filter usage (chart updates as you type)",onChange:u,onKeyPress:h,inputValue:i,placeholder:"Search or filter usage",onRequestProvider:d,"data-testid":"search-usage",inputRef:l})},sa=ss;try{ss.displayName||(ss.displayName="UsageSearchBar")}catch{}function si({usageReportSelections:e,currentUserEmail:t,billingPlatformEnabledProducts:s,disableUsageReports:a=!1,vnextMigrationDate:i}){let{path:r}=(0,K.A)(C.rt),[n,l]=(0,y.useState)(z.Xu),[o,d]=(0,y.useState)(!1),c=(0,y.useRef)(null),{addToast:u}=(0,F.Y6)(),h=async e=>{e.preventDefault();try{let{ok:e,data:s}=await (0,L.p0)(L.aG.POST,r,{period:n});e?u({type:"success",message:`We're preparing your usage report. We'll send an email to ${t} when it's ready.`,role:"status"}):u({type:"error",message:s.error??"There was an issue sending your usage report request",role:"alert"})}catch(e){u({type:"error",message:"There was an issue sending your usage report request",role:"alert"})}finally{d(!1)}};return(0,m.jsxs)(I.A,{onSubmit:h,sx:{pt:[2,0]},"data-testid":"usage-report-dialog-container",children:[(0,m.jsx)(P.Q,{onClick:()=>d(!0),sx:{width:["100%","auto"]},children:"Get usage report"}),o&&(0,m.jsxs)(ew.l,{onClose:()=>d(!1),title:"Get usage report",returnFocusRef:c,"aria-labelledby":"header",sx:{overflowY:"auto"},children:[a&&(0,m.jsx)(O.A,{"data-testid":"disable-usage-report-banner",variant:"warning",sx:{display:"flex",alignItems:"center"},children:(0,m.jsx)("span",{children:"Usage reports are temporarily disabled due to planned maintenance. Please try again later or reach out to support for assistance."})}),(0,m.jsx)("form",{children:(0,m.jsxs)(I.A,{sx:{px:3,pt:3},children:[(0,m.jsx)("span",{id:"radio-header",children:"Select time period:"}),(0,m.jsx)(I.A,{sx:{gap:3,display:"flex",flexDirection:"column",pt:3},children:(0,m.jsx)(eS.A,{name:"reportChoiceGroup",onChange:(e,t)=>{l(Number(e))},"aria-labelledby":"radio-header",children:e.map(e=>{let t={value:`${e.type}`,defaultChecked:e.type===n,displayText:e.displayText};return e.type!==z.mb?(0,y.createElement)(sn,{...t,dateText:e.dateText,key:e.type,legacySelection:!1}):(0,m.jsxs)(y.Fragment,{children:[(0,m.jsx)(I.A,{as:"hr",sx:{margin:0}}),(0,m.jsx)(sl,{...t,vnextMigrationDate:i,legacySelection:!0})]},e.type)})})}),(0,m.jsx)("hr",{}),n!==z.mb&&(0,m.jsxs)("span",{children:["A detailed report will be generated including usage for"," ",(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},"data-testid":"usage-report-enabled-products-text",children:(()=>{if(s.length<=1)return s[0]??"";let e=s.slice(-2),t=s.slice(0,-2),a=`${e[0]} and ${e[1]}`;return s.length>2?`${t.join(", ")}, ${a}`:a})()}),"."]}),(0,m.jsx)(I.A,{sx:{pt:2},children:(0,m.jsxs)("span",{children:["We will email you at ",(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:t})," once the report is ready for download."]})}),n!==z.mb&&(0,m.jsx)(I.A,{sx:{pt:2},children:(0,m.jsx)("span",{children:"Please note that updates to organization name, repository name, and username fields may take up to 24 hours. For the most current report, request your usage report again after this period."})}),(0,m.jsx)(I.A,{sx:{py:3},children:(0,m.jsx)(P.Q,{type:"submit",variant:"primary",sx:{width:"100%"},onClick:h,disabled:a,children:"Email usage report"})})]})})]})]})}function sr({children:e,value:t,defaultChecked:s,displayText:a,legacySelection:i=!1}){return(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{value:t,defaultChecked:s,"data-testid":`report-control-id-${i?"legacy":"non-legacy"}`}),(0,m.jsxs)(es.A.Label,{sx:{fontWeight:"normal"},children:[a," ",(0,m.jsx)(k.A,{sx:{color:"fg.muted",fontSize:"small"},children:e})]})]})}function sn({dateText:e,...t}){return(0,m.jsxs)(sr,{...t,children:["(",e,")"]})}function sl({vnextMigrationDate:e,...t}){return(0,m.jsxs)(sr,{...t,children:[(0,m.jsx)("br",{})," Your enterprise account has transitioned to the enhanced billing platform on ",e,". Selecting this option will generate a usage report for all available days prior to ",e,"."]})}try{si.displayName||(si.displayName="GetUsageReportDialog")}catch{}try{sr.displayName||(sr.displayName="MyControl")}catch{}try{sn.displayName||(sn.displayName="ReportControl")}catch{}try{sl.displayName||(sl.displayName="LegacyReportControl")}catch{}function so({customerSelections:e,totalUsage:t,usageMap:s}){let[a,i]=(0,y.useState)(!1),r=(0,y.useRef)(null);return(0,m.jsxs)("div",{"data-testid":"usage-overview-list-dialog-container",children:[(0,m.jsx)(P.Q,{variant:"invisible",onClick:()=>i(!0),sx:{fontSize:Y.vX.FontSizeSmall},children:"More details"}),a&&(0,m.jsx)(ew.l,{onClose:()=>i(!1),title:"Current metered usage",returnFocusRef:r,"aria-labelledby":"header",sx:{overflowY:"auto"},children:(0,m.jsxs)(I.A,{sx:{p:Y.Kz.StandardPadding},children:[(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{sx:{fontSize:4},"data-testid":"total-usage",children:(0,W.W)(t)})}),(0,m.jsx)("ul",{className:"mt-0 pt-0",children:e.map(e=>(0,m.jsxs)(I.A,{as:"li",sx:Y.Of,"data-testid":`usage-selection-${e.id}`,children:[(0,m.jsx)(k.A,{as:"p",sx:{flex:"auto",overflow:"auto"},children:e.displayText}),(0,m.jsx)(k.A,{as:"p",sx:{fontWeight:"bold"},children:(0,W.W)(s[e.id]||0)})]},`usage-selection-${e.id}`))})]})})]})}try{so.displayName||(so.displayName="UsageOverviewListDialog")}catch{}function sd({discountTargetAmounts:e,totalDiscount:t,isOrganization:s}){let[a,i]=(0,y.useState)(!1),r=(0,y.useRef)(null);return(0,m.jsxs)("div",{"data-testid":"current-discounts-list-dialog-container",children:[(0,m.jsx)(P.Q,{variant:"invisible",onClick:()=>i(!0),sx:{fontSize:Y.vX.FontSizeSmall},children:"More details"}),a&&(0,m.jsx)(ew.l,{onClose:()=>i(!1),title:"Current included usage",returnFocusRef:r,"aria-labelledby":"header",sx:{overflowY:"auto"},children:(0,m.jsxs)(I.A,{sx:{p:Y.Kz.StandardPadding},children:[(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{sx:{fontSize:4},"data-testid":"total-discount",children:(0,W.W)(t)})}),(0,m.jsx)(k.A,{as:"p",sx:{color:"fg.muted",borderTopColor:"border.default",borderTopWidth:1},children:s?"Showing currently applied discounts for your organization.":"Showing currently applied discounts for your enterprise."}),(0,m.jsx)(I.A,{as:"ul",sx:{mb:Y.Kz.SmallPadding,overflowY:"hidden"},children:Object.values(B.tR).map(t=>{if(!e[t])return;let s=e[t][B.oQ.FixedAmount],a=e[t][B.oQ.Percentage];return(0,m.jsxs)(y.Fragment,{children:[s&&(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of},"data-testid":`${t}-fixed-discount`,children:[(0,m.jsx)(I.A,{sx:{flex:1},children:H(s,t,B.oQ.FixedAmount).map((e,s)=>(0,m.jsxs)(y.Fragment,{children:[e,(0,m.jsx)("br",{})]},`${t}-fixed-discount-${s}`))}),(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{as:"p",sx:{fontWeight:"bold"},children:(0,W.W)(s.appliedAmount)})})]},`${t}-fixed-discount`),a?.map((e,s)=>m.jsxs(I.A,{as:"li",sx:{...Y.Of},"data-testid":`${t}-percentage-discount-${s}`,children:[m.jsx(k.A,{as:"p",sx:{flex:"auto"},children:H(e,t,B.oQ.Percentage).join(" ")}),m.jsx(k.A,{as:"p",sx:{fontWeight:"bold"},children:W.W(e.appliedAmount)})]},`${t}-percentage-discount-${s}`))]},`${t}`)})}),(0,m.jsx)(k.A,{as:"p",sx:{color:"fg.muted"},children:"* As per current pricing"})]})})]})}try{sd.displayName||(sd.displayName="CurrentDiscountsListDialog")}catch{}let sc={display:"flex",flexDirection:"column",...Y.jk},su={mb:3,display:"flex",justifyContent:"space-between"},sh={display:"flex"},sp={pr:2},sm={display:"flex",flexDirection:"column",fontSize:2,fontWeight:"normal"},sg={color:"fg.subtle"},sx={org:"Usage by organization",repo:"Usage by repository"},sf={1:"Top",2:"Top two",3:"Top three",4:"Top four",5:"Top five"},sy={org:D.OrganizationIcon,repo:D.RepoIcon},sj={[B.FA.THIS_HOUR]:"this hour",[B.FA.TODAY]:"today",[B.FA.THIS_MONTH]:"this month",[B.FA.THIS_YEAR]:"this year",[B.FA.LAST_MONTH]:"last month",[B.FA.LAST_YEAR]:"last year"};function sA({usagePeriod:e,requestState:t,usage:s,variant:a,otherUsage:i,enableOrgRepoUsageRefactor:r}){let n;let l=(0,y.useMemo)(()=>s.sort((e,t)=>t.billedAmount-e.billedAmount),[s]),o=(0,y.useMemo)(()=>s.reduce((e,t)=>e+t.billedAmount,0),[s]),d=(0,y.useMemo)(()=>r?i.reduce((e,t)=>e+t.billedAmount,0):l.length>5?l.slice(5).reduce((e,t)=>e+t.billedAmount,0):0,[l,i,r]),c=l.slice(0,5),u=c.length,h=a===B.ne.ORG?"organization":"repository",p=a===B.ne.ORG?z.IE:z.iF,{path:g}=(0,K.A)(C.Ek,{},{group:p.toString()});return(0,m.jsxs)(I.A,{sx:sc,"data-testid":`${a}-usage-card`,children:[(0,m.jsxs)(I.A,{sx:su,children:[(0,m.jsxs)(I.A,{sx:sh,children:[(0,m.jsx)(I.A,{sx:sp,children:(0,m.jsx)(E.A,{icon:sy[a],size:16})}),(0,m.jsx)("div",{children:(0,m.jsxs)(N.A,{as:"h3",sx:sm,children:[sx[a],s.length>0&&(0,m.jsx)(k.A,{as:"small",sx:sg,"data-testid":"usage-card-subtitle",children:(n="",n=a===B.ne.ORG?1===u?"organization":"organizations":1===u?"repository":"repositories",`${sf[u]} ${n} ${sj[e]}`)})]})})]}),(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Anchor,{children:(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.KebabHorizontalIcon,variant:"invisible","aria-label":`Open ${h} usage options`})}),(0,m.jsx)(e2.W.Overlay,{children:(0,m.jsx)(eN.l,{sx:{whiteSpace:"nowrap"},children:(0,m.jsxs)(eN.l.LinkItem,{href:g,children:["View all ",h," usage"]})})})]})]}),(t===B.X_.LOADING||t===B.X_.INIT)&&(0,m.jsx)(sS,{}),t===B.X_.ERROR&&(0,m.jsx)(eJ.Ax,{sx:{border:0},testid:"org-usage-loading-error",text:"Something went wrong"}),t===B.X_.IDLE&&(0,m.jsxs)(m.Fragment,{children:[0===s.length&&(0,m.jsx)(eJ.Fk,{sx:{border:0},testid:"no-usage-data",text:"No usage found"}),s.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(sO,{allOtherUsage:d,sx:{mb:3},totalUsage:o,usage:c}),(0,m.jsx)(sT,{allOtherUsage:d,usage:c,variant:a})]})]})]})}try{sA.displayName||(sA.displayName="UsageCard")}catch{}let sb=()=>(0,m.jsxs)(eJ.qH,{sx:{border:0,p:0},children:[(0,m.jsx)(ec.O,{sx:{width:"100%",mb:3},variant:"rounded",height:"md"}),(0,m.jsx)(ec.O,{sx:{width:"100%",mb:2},variant:"rounded",height:"md"}),(0,m.jsx)(ec.O,{sx:{width:"100%",mb:2},variant:"rounded",height:"md"}),(0,m.jsx)(ec.O,{sx:{width:"100%",mb:2},variant:"rounded",height:"md"}),(0,m.jsx)(ec.O,{sx:{width:"100%",mb:2},variant:"rounded",height:"md"}),(0,m.jsx)(ec.O,{sx:{width:"100%",mb:2},variant:"rounded",height:"md"}),(0,m.jsx)(ec.O,{sx:{width:"100%"},variant:"rounded",height:"md"})]}),sS=sb;try{sb.displayName||(sb.displayName="UsageCardSkeleton")}catch{}let sv={display:"grid",gridTemplateColumns:["1","1","1","1"],gridGap:3,"@media (min-width: 1651px)":{gridTemplateColumns:"repeat(2, 1fr)"}};function sC({filters:e,enableOrgRepoUsageRefactor:t}){let{usage:s,otherUsage:a,requestState:i}=(0,tE.nP)({filters:{...e,group:{type:B.Jw.REPO,displayText:""}}}),{usage:r,otherUsage:n,requestState:l}=(0,tE.nP)({filters:{...e,group:{type:B.Jw.ORG,displayText:""}}}),o=(0,y.useMemo)(()=>(0,X.g)(r,B.Jw.ORG),[r]),d=(0,y.useMemo)(()=>(0,X.g)(s,B.Jw.REPO),[s]),c=e.period?.type??B.FA.DEFAULT;return(0,m.jsxs)(I.A,{sx:sv,children:[(0,m.jsx)(sA,{usagePeriod:c,requestState:l,usage:o,otherUsage:n,variant:B.ne.ORG,enableOrgRepoUsageRefactor:t}),(0,m.jsx)(sA,{usagePeriod:c,requestState:i,usage:d,otherUsage:a,variant:B.ne.REPO,enableOrgRepoUsageRefactor:t})]})}try{sC.displayName||(sC.displayName="OrgRepoUsageContainer")}catch{}var sR=s(55368);function sw(e){return(0,m.jsx)(I.A,{sx:{borderRadius:"100px",width:"8px",height:"8px",backgroundColor:e.color,...e.sx}})}try{sw.displayName||(sw.displayName="ColoredBullet")}catch{}let sN={display:"flex",py:2},s_={...sN,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"border.default"},sk={fontSize:1};function sI({nameElement:e,billedAmountElement:t}){return(0,m.jsxs)(sR.Grid,{style:{padding:0,margin:0,minWidth:"100%"},children:[(0,m.jsx)(sR.Grid.Column,{span:6,children:e}),(0,m.jsx)(sR.Grid.Column,{className:"text-right",span:3}),(0,m.jsx)(sR.Grid.Column,{className:"text-right",span:3,children:t})]})}function sP({name:e,amount:t,color:s,avatarSrc:a}){return(0,m.jsx)(sI,{nameElement:(0,m.jsxs)(sR.Stack,{gap:"none",padding:"none",direction:"horizontal",alignItems:"center",children:[(0,m.jsx)(sw,{color:s??"border.default",sx:{mr:2,display:"inline-block"}}),a&&(0,m.jsx)(el.r,{square:!0,src:a,size:16,sx:{mr:2}}),(0,m.jsx)(k.A,{sx:sk,children:e})]}),billedAmountElement:(0,m.jsx)(k.A,{sx:sk,children:(0,W.W)(t)})})}function sT({usage:e,allOtherUsage:t,variant:s}){let a=s===B.ne.ORG?"All other orgs":"All other repositories",i=!!t&&t>0,r=e=>s===B.ne.ORG?e.org.name:`${e.org.name}/${e.repo.name}`,n=t=>!!i||t+1!==e.length;return(0,m.jsxs)(I.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,m.jsx)(sI,{nameElement:(0,m.jsx)(k.A,{sx:{color:"fg.subtle"},children:s===B.ne.ORG?"Organization":"Repository"}),billedAmountElement:(0,m.jsx)(k.A,{sx:{...sk,color:"fg.subtle"},children:"Gross amount"})}),e.map((e,t)=>(0,m.jsx)(I.A,{sx:n(t)?s_:sN,"data-testid":`${r(e)}-usage-list-item`,children:(0,m.jsx)(sP,{name:r(e),amount:e.billedAmount,color:z.lm[t],avatarSrc:s===B.ne.ORG?e.org.avatarSrc:""})},`${r(e)}-usage-${t}`)),i&&(0,m.jsx)(I.A,{sx:sN,"data-testid":"usage-list-table-other-usage",children:(0,m.jsx)(sP,{name:a,amount:t??0})})]})}try{sI.displayName||(sI.displayName="TableRow")}catch{}try{sP.displayName||(sP.displayName="UsageRowItem")}catch{}try{sT.displayName||(sT.displayName="UsageListTable")}catch{}function sO({allOtherUsage:e,usage:t,totalUsage:s,sx:a}){let i=t.length,r=!!e&&e>0;return(0,m.jsxs)(I.A,{sx:{display:"flex",...a},children:[t.map((e,t)=>(0,m.jsx)(I.A,{sx:{height:"8px",width:`${e.billedAmount/s*100}%`,bg:z.lm[t],mr:r||t!==i-1?"1px":"0px",borderTopLeftRadius:0===t?2:0,borderBottomLeftRadius:0===t?2:0,borderTopRightRadius:r||t!==i-1?0:2,borderBottomRightRadius:r||t!==i-1?0:2},"data-testid":`${z.lm[t]}-usage-bar`},`usage-${t}`)),r&&(0,m.jsx)(I.A,{sx:{height:"8px",width:`${(e??0)/s*100}%`,bg:"border.default",borderTopRightRadius:2,borderBottomRightRadius:2},"data-testid":"other-usage-bar"})]})}try{sO.displayName||(sO.displayName="UsageProgressBar")}catch{}let sE={...Y.jk,p:0},sF={width:"100%",textAlign:"left",borderCollapse:"separate"},sU={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"border.default"},sD={position:"sticky",top:0,bg:"canvas.subtle",fontWeight:"bold"},sz={display:"flex"},sL={p:3},sK={...sL,...Y.p9},sB={...sL,textAlign:"right","@media (min-width: 600px)":{width:"18%"},"@media (max-width: 599px)":{width:"100%"}};function s$({groupType:e,data:t}){let s=t.sort((e,t)=>e.friendlySkuName.localeCompare(t.friendlySkuName));return(0,m.jsxs)(I.A,{sx:sF,"data-testid":"usage-sub-table",children:[(0,m.jsxs)(I.A,{sx:{display:"flex"},children:[(0,m.jsx)(I.A,{sx:{width:56}}),(0,m.jsx)(I.A,{sx:{...sK,color:"fg.subtle",pl:0},children:"SKU"}),(0,m.jsx)(I.A,{sx:{...sB,color:"fg.subtle"},children:"Units"}),(0,m.jsx)(I.A,{sx:{...sB,color:"fg.subtle"},children:"Price/unit"}),(0,m.jsx)(I.A,{sx:{...sB,color:"fg.subtle"},children:"Gross amount"}),(0,m.jsx)(I.A,{sx:{...sB,color:"fg.subtle"},children:"Billed amount"})]}),(0,m.jsx)("div",{children:s.map(t=>(0,m.jsxs)(I.A,{sx:{...sz},children:[(0,m.jsx)(I.A,{sx:{width:56}}),(0,m.jsx)(I.A,{sx:{...sU,...sK,pl:0},"data-testid":"sub-sku-td",children:t.friendlySkuName??t.sku}),(0,m.jsx)(I.A,{sx:{...sB,...sU},"data-testid":"sub-quantity-td",children:Z(t)}),(0,m.jsx)(I.A,{sx:{...sB,...sU},"data-testid":"sub-applied-cost-per-quantity-td",children:(0,W.W)(t.appliedCostPerQuantity,6)}),(0,m.jsx)(I.A,{sx:{...sB,...sU},"data-testid":"sub-gross-amount-td",children:(0,W.W)(t.billedAmount)}),(0,m.jsx)(I.A,{sx:{...sB,...sU},"data-testid":"sub-billed-amount-td",children:et(t.totalAmount,e)})]},`sub-table-${t.product}-${t.sku}-${t.usageAt}`))})]})}try{s$.displayName||(s$.displayName="UsageSubTable")}catch{}let sQ=(e,t)=>t===B.Jw.NONE?e.usageAt:(0,J.r)(e)?`${e.org.name}-${e.repo.name}`:(0,J.y)(e)?e.sku:"";function sq({filters:e,requestState:t,usage:s,useUsageTableDataEndpoint:a}){let i=e.group?.type??z.Jt,r=e.period?.type??B.FA.DEFAULT,{usageTableData:n,requestState:l}=(0,tE.pm)({filters:e,useUsageTableDataEndpoint:a}),o=a?n:s,d=a?l:t,c=(0,y.useMemo)(()=>i===B.Jw.NONE?(0,X.g)(o,i,r).sort(X.n):i===B.Jw.SKU?(0,X.g)(o,i).sort((e,t)=>e?.friendlySkuName.localeCompare(t?.friendlySkuName)):(0,X.g)(o,i),[o,i,r]),u=i===B.Jw.SKU,h=i===B.Jw.SKU,p=i!==B.Jw.SKU;return d===B.X_.ERROR?(0,m.jsx)(eJ.Ax,{sx:{aspectRatio:"3 / 1"},testid:"usage-loading-error",text:"Something went wrong"}):d===B.X_.IDLE&&0===c.length?null:(0,m.jsx)(I.A,{sx:sE,children:(0,m.jsxs)(I.A,{sx:sF,"data-testid":"usage-table",children:[(0,m.jsx)(I.A,{sx:sD,children:(0,m.jsxs)(I.A,{sx:sz,children:[(0,m.jsx)(I.A,{sx:sK,children:(()=>{switch(i){case B.Jw.NONE:return"Date";case B.Jw.ORG:return"Organizations";case B.Jw.PRODUCT:return"Products";case B.Jw.REPO:return"Repositories";case B.Jw.SKU:return"SKUs";default:return""}})()}),u&&(0,m.jsx)(I.A,{sx:sB,children:"Units"}),h&&(0,m.jsx)(I.A,{sx:sB,children:"Price/unit"}),(0,m.jsx)(I.A,{sx:sB,children:"Gross amount"}),(0,m.jsx)(I.A,{sx:sB,children:"Billed amount"})]})}),(0,m.jsxs)("div",{children:[[B.X_.INIT,B.X_.LOADING].includes(d)&&(0,m.jsxs)("span",{"data-testid":"usage-table-row-skeletons",children:[(0,m.jsx)(sX,{showQuantity:u,showPricePerUnit:h}),(0,m.jsx)(sX,{showQuantity:u,showPricePerUnit:h}),(0,m.jsx)(sX,{showQuantity:u,showPricePerUnit:h})]}),d===B.X_.IDLE&&c.map(t=>(0,m.jsx)(sH,{expandable:p,rawUsage:s,row:t,showPricePerUnit:h,showQuantity:u,filters:e},sQ(t,i)))]})]})})}try{sq.displayName||(sq.displayName="UsageTable")}catch{}var sW=s(72010),sM=s(34117);let sG={mr:2},sV={mt:3,mb:3,mr:"auto",ml:"auto"};function sH({expandable:e,rawUsage:t,row:s,showPricePerUnit:a,showQuantity:i,filters:r}){let{getDetailsProps:n,open:l}=(0,sW.A)({closeOnOutsideClick:!1}),{usage:o,requestState:d}=function({lineItem:e,open:t,rawUsage:s,filters:a}){let[i,r]=(0,y.useState)([]),[n,l]=(0,y.useState)(B.X_.INIT),{addToast:o}=(0,F.Y6)(),d=a.customer.id,c=a?.group?.type??z.Jt,u=a?.period?.type??B.FA.DEFAULT,h=()=>{let t=s.filter(t=>(0,q.v)(e.usageAt,u)===(0,q.v)(t.usageAt,u));return(0,X.g)(t,B.Jw.SKU)},p=()=>(0,X.g)(s,B.Jw.SKU),m=()=>(0,J.y)(e)&&c===B.Jw.PRODUCT?`product:${e.product} ${a.searchQuery}`.trim():(0,J.r)(e)?c===B.Jw.ORG?`org:${e.org.name}`:c===B.Jw.REPO?`repo:${e.org.name}/${e.repo.name}`:"":"",{path:g}=(0,K.A)(C.Ek,{},{customer_id:d,group:B.Jw.SKU.toString(),period:u.toString(),query:m()});return(0,y.useEffect)(()=>{let e=async()=>{if(t){l(B.X_.LOADING);try{if(c===B.Jw.NONE)r(h()),l(B.X_.IDLE);else if(c===B.Jw.SKU||c===B.Jw.PRODUCT)r(p()),l(B.X_.IDLE);else{let e=await (0,L.p0)(L.aG.GET,g);e.ok?(r((0,X.g)(e.data.usage,B.Jw.SKU)),l(B.X_.IDLE)):l(B.X_.ERROR)}}catch{o({type:"error",message:z.Sr.QUERY_USAGE_ERROR}),l(B.X_.ERROR)}}};r([]),e()},[t,u,c]),{usage:i,requestState:n,getSearchQuery:m}}({lineItem:s,open:l,rawUsage:t,filters:r}),c=r?.group?.type??z.Jt,u=r?.period?.type??B.FA.DEFAULT,h=o;c===B.Jw.PRODUCT&&(0,J.y)(s)&&(h=o.filter(e=>e.product===s.product));let p=(0,y.useMemo)(()=>{if((0,J.y)(s)){if(c===B.Jw.NONE)return`usage-date-${(0,q.v)(s.usageAt,u)}`;if(c===B.Jw.PRODUCT)return`usage-${s.product}`;if(c===B.Jw.SKU)return`usage-${s.sku}`}else if((0,J.r)(s)){if(c===B.Jw.ORG)return`usage-${s.org.name}`;if(c===B.Jw.REPO)return`usage-${s.org.name}-${s.repo.name}`}},[s,c,u]);return(0,m.jsxs)(I.A,{sx:sU,"data-testid":p,children:[(0,m.jsxs)(I.A,{sx:{...sz},children:[e&&(0,m.jsx)(sM.A,{...n(),sx:{...sL,p:2,pr:0},children:(0,m.jsx)(I.A,{as:"summary",sx:{p:2},title:l?"Hide Usage Breakdown":"Show Usage Breakdown","data-testid":"usage-details",children:(0,m.jsx)(E.A,{icon:l?D.ChevronDownIcon:D.ChevronRightIcon})})}),(0,m.jsx)(I.A,{sx:{...sK},"data-testid":"identifier-td",children:(()=>{if((0,J.y)(s)){let e;return c===B.Jw.NONE&&(e=(0,q.v)(s.usageAt,u)),c===B.Jw.PRODUCT&&(e=s.product),c===B.Jw.SKU&&(e=s.friendlySkuName),(0,m.jsx)("span",{children:e})}return(0,J.r)(s)?(0,m.jsxs)(_.A,{href:c===B.Jw.REPO?`/${s.org.name}/${s.repo.name}`:`/${s.org.name}`,target:"_blank",children:[s.org.avatarSrc&&(0,m.jsx)(el.r,{square:!0,src:s.org.avatarSrc,size:16,sx:sG}),(0,m.jsx)("span",{children:c===B.Jw.ORG?s.org.name:`${s.org.name}/${s.repo.name}`})]}):null})()}),i&&(0,m.jsx)(I.A,{sx:{...sB,color:"fg.muted"},"data-testid":"quantity-td",children:Z(s)}),a&&(0,m.jsx)(I.A,{sx:{...sB,color:"fg.muted"},"data-testid":"applied-cost-per-quantity-td",children:(0,W.W)(s.appliedCostPerQuantity,6)}),(0,m.jsx)(I.A,{sx:{...sB,color:"fg.muted"},"data-testid":"gross-amount-td",children:(0,W.W)(s.billedAmount)}),(0,m.jsx)(I.A,{sx:{...sB,fontWeight:"bold"},"data-testid":"billed-amount-td",children:et(s.totalAmount,c)})]}),(0,m.jsxs)(I.A,{sx:sz,children:[d===B.X_.LOADING&&(0,m.jsx)(en.A,{sx:sV}),l&&d===B.X_.IDLE&&(0,m.jsx)(s$,{data:h,groupType:c})]})]})}try{sH.displayName||(sH.displayName="UsageTableRow")}catch{}function sX({showQuantity:e,showPricePerUnit:t}){return(0,m.jsx)(I.A,{sx:sU,children:(0,m.jsxs)(I.A,{sx:sz,children:[(0,m.jsx)(I.A,{sx:sK,children:(0,m.jsx)(ec.O,{variant:"text"})}),e&&(0,m.jsx)(I.A,{sx:sB,children:(0,m.jsx)(ec.O,{variant:"text"})}),t&&(0,m.jsx)(I.A,{sx:sB,children:(0,m.jsx)(ec.O,{variant:"text"})}),(0,m.jsx)(I.A,{sx:sB,children:(0,m.jsx)(ec.O,{variant:"text"})}),(0,m.jsx)(I.A,{sx:sB,children:(0,m.jsx)(ec.O,{variant:"text"})})]})})}try{sX.displayName||(sX.displayName="UsageTableRowSkeleton")}catch{}function sY({customer:e,filters:t,isOnlyOrgAdmin:s,product:a}){let{budgets:i}=tn({customerId:e.customerId}),{netUsage:r,requestState:n}=(0,tE.yd)({filters:t});return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(tz,{budgets:i,isOrgAdmin:s,product:a,requestState:n,usage:r})})}try{sY.displayName||(sY.displayName="DefaultUsageContainer")}catch{}var sJ=s(13575),sZ=s(21066);function s0({productName:e,requestState:t,totalSpendOrSeats:s,variant:a}){let i=e.split(" ").map(e=>(0,sJ.A)(e.charAt(0))+(0,sZ.A)(e.slice(1))).join(" ");return(0,m.jsxs)(I.A,{sx:Y.jk,children:[(0,m.jsx)(N.A,{as:"h3",sx:Y.ik,children:"AMOUNT_SPENT"===a?`Spend on ${i}`:"Seats used"}),[B.X_.INIT,B.X_.LOADING].includes(t)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ec.O,{variant:"rounded",height:"36px"}),(0,m.jsx)(ec.O,{variant:"rounded",height:"xl"})]}),t===B.X_.ERROR&&(0,m.jsx)(eJ.Ax,{sx:{border:0},testid:`${e}-usage-loading-error`,text:"Something went wrong"}),t===B.X_.IDLE&&(0,m.jsx)(k.A,{sx:{display:"block",fontSize:4,lineHeight:"36px"},"data-testid":"number-display",children:"AMOUNT_SPENT"===a?(0,W.W)(s):s.toFixed(2)}),(0,m.jsx)(k.A,{as:"p",sx:{mb:0,color:"fg.muted"},children:"AMOUNT_SPENT"===a?`Showing total spend on ${i} for your enterprise for the current billing cycle minus discounts.`:"Showing total unique seats billed for your enterprise. Actual billed amount for each seat is prorated based on when it is added during the billing cycle."})]})}!function(e){e.amountSpent="AMOUNT_SPENT",e.quantityUsed="QUANTITY_USED"}(u||(u={}));try{s0.displayName||(s0.displayName="UsageInfoTile")}catch{}function s1({filters:e,productName:t}){let{netUsage:s,requestState:a}=(0,tE.yd)({filters:e}),i=s.reduce((e,t)=>e+(t.totalAmount??0),0),r=s.reduce((e,t)=>e+(t.quantity??0),0);return(0,m.jsxs)(I.A,{sx:{display:"grid",gap:3,gridTemplateColumns:["1","1","1","1","repeat(2, 1fr)"]},children:[(0,m.jsx)(s0,{productName:t,requestState:a,totalSpendOrSeats:i,variant:u.amountSpent}),(0,m.jsx)(s0,{productName:t,requestState:a,totalSpendOrSeats:r,variant:u.quantityUsed})]})}try{s1.displayName||(s1.displayName="SeatBasedUsageContainer")}catch{}function s2({customer:e,enabledProducts:t,filters:s,isOnlyOrgAdmin:a}){let i=[...t].sort((e,t)=>e.name.localeCompare(t.name)),[r,n]=(0,y.useState)(i[0]?.name||z.lk.actions);return(0,m.jsx)(m.Fragment,{children:i.length>0&&(0,m.jsxs)(I.A,{sx:{mb:4},children:[(0,m.jsx)(tS.O,{"aria-label":"Products selector",sx:{pl:0,mb:3},children:i.map(e=>(0,m.jsx)(tS.O.Item,{"aria-current":r===e.name?"page":void 0,onSelect:t=>{t.preventDefault(),n(e.name)},icon:z.LL[e.name],sx:{textTransform:"capitalize"},"data-testid":`${e.name}-tab`,children:z.z8[e.name]},`${e.name}-tab`))}),(0,m.jsx)("div",{children:i.map(t=>(0,m.jsxs)(I.A,{"aria-current":r===t.name?"page":void 0,sx:{display:r===t.name?"block":"none"},"data-testid":`${t.name}-tab-pane`,children:[t.name in z.Rj&&(0,m.jsx)(sY,{customer:e,filters:{...s,product:t.name},isOnlyOrgAdmin:a,product:t}),t.name in z.XK&&(0,m.jsx)(s1,{filters:{...s,product:t.name},productName:z.z8[t.name]})]},`${t.name}-tab-pane`))})]})})}try{s2.displayName||(s2.displayName="ProductUsageContainer")}catch{}let s3={...Y.jk,display:"flex",flexDirection:"column",gap:1},s5={fontSize:Y.vX.FontSizeNormal,fontWeight:"normal",color:"fg.default"};function s4({gheAndGhas:e,IsInvoiced:t}){let{path:s}=(0,K.A)(C.TV);return(0,m.jsxs)(I.A,{sx:s3,"data-testid":"volume-licenses-card-combined",children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(N.A,{as:"h3",sx:s5,children:"Spend on pre-purchased user licenses"}),(0,m.jsx)(_.A,{href:s,sx:{fontSize:Y.vX.FontSizeSmall},children:"Manage licenses"})]}),(0,m.jsxs)(I.A,{sx:{fontSize:4},children:[`${(0,W.W)(e.spend)} `,(0,m.jsx)(I.A,{as:"span",sx:{fontSize:1},children:e.period})]}),(0,m.jsxs)(k.A,{sx:{mb:0,color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:["For ",(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:" GitHub Enterprise"})," and"," ",(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:"Advanced Security"}),"."," ",t&&(0,m.jsx)(m.Fragment,{children:"Does not include user license discounts. Where applicable, discounts will appear on your bill."})]})]})}try{s4.displayName||(s4.displayName="VolumeLicensesCardCombined")}catch{}let s6={...Y.jk,display:"flex",flexDirection:"column",gap:1},s9={fontSize:Y.vX.FontSizeNormal,fontWeight:"normal",color:"fg.default"};function s7({ghe:e,ghas:t,IsInvoiced:s}){let{path:a}=(0,K.A)(C.TV);return(0,m.jsxs)(I.A,{sx:s6,"data-testid":"volume-licenses-card-separate",children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(N.A,{as:"h3",sx:s9,children:"Spend on pre-purchased user licenses"}),(0,m.jsx)(_.A,{href:a,sx:{fontSize:Y.vX.FontSizeSmall},children:"Manage licenses"})]}),s&&(0,m.jsx)(I.A,{sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:"Does not include user license discounts. Where applicable, discounts will appear on your bill."}),(0,m.jsxs)(I.A,{sx:{fontSize:4,display:"flex"},children:[(0,m.jsxs)(I.A,{sx:{flexGrow:1,pt:3,fontSize:4},children:[`${(0,W.W)(e.spend)} `,(0,m.jsx)(I.A,{as:"span",sx:{fontSize:1},children:e.period}),(0,m.jsxs)(I.A,{sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:["For"," ",(0,m.jsx)(I.A,{as:"span",sx:{fontWeight:"bold"},children:"GitHub Enterprise"})]})]}),(0,m.jsx)("span",{className:"vertical-separator"}),(0,m.jsxs)(I.A,{sx:{flexGrow:1,pt:3,pl:3},children:[`${(0,W.W)(t.spend)} `,(0,m.jsx)(I.A,{as:"span",sx:{fontSize:1},children:t.period}),(0,m.jsxs)(I.A,{sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:["For"," ",(0,m.jsx)(I.A,{as:"span",sx:{fontWeight:"bold"},children:"GitHub Advanced Security"})]})]})]})]})}try{s7.displayName||(s7.displayName="VolumeLicensesCardSeparate")}catch{}function s8(e){return(0,m.jsx)(m.Fragment,{children:e.IsSeparateDisplayCard?(0,m.jsx)(s7,{...e}):(0,m.jsx)(s4,{...e})})}try{s8.displayName||(s8.displayName="VolumeLicensesCard")}catch{}function ae(e){let{path:t}=(0,K.A)(C.uj),{path:s}=(0,K.A)(C.yM);return(0,m.jsxs)(I.A,{sx:Y.jk,"data-testid":"auto-pay-disabled-payment-due-card",children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(N.A,{as:"h3",sx:{...Y.ik,fontSize:Y.vX.FontSizeNormal},children:"Past due"}),e.hasBill?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{children:(0,m.jsx)(P.Q,{as:"a",href:t,variant:"primary",size:"small",children:"Pay now"})})}):(0,m.jsx)(_.A,{href:s,sx:{fontSize:Y.vX.FontSizeSmall},children:"Payment history"})]}),(0,m.jsxs)(I.A,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{sx:{fontSize:4},children:(0,W.W)(e.latestBillAmount)})}),(0,m.jsxs)("div",{children:[e.hasBill&&!e.overdue&&(0,m.jsxs)(m.Fragment,{children:["by ",e.nextPaymentDate]}),e.overdue&&(0,m.jsx)(e6.A,{variant:"attention",children:"Overdue"})]})]}),(0,m.jsxs)(I.A,{sx:as,children:[e.meteredViaAzure&&(0,m.jsx)("p",{children:"Metered usage billed via Azure is not included."}),(0,m.jsxs)("p",{children:["Automatic"," ",(0,m.jsx)(_.A,{inline:!0,href:"https://docs.github.com/billing/managing-the-plan-for-your-github-account/one-time-payments-for-customers-in-india",sx:{color:"fg.muted"},target:"_blank",children:"recurring payments are disabled"}),"."]})]})]})}try{ae.displayName||(ae.displayName="AutoPayDisabledCard")}catch{}function at(e){let{path:t}=(0,K.A)(C.yM);return(0,m.jsxs)(I.A,{sx:Y.jk,"data-testid":"auto-pay-enabled-payment-due-card",children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(N.A,{as:"h3",sx:{...Y.ik,fontSize:Y.vX.FontSizeNormal},children:"Past due"}),(0,m.jsx)(_.A,{href:t,sx:{fontSize:Y.vX.FontSizeSmall},children:"Payment history"})]}),(0,m.jsxs)(I.A,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{sx:{fontSize:4},children:(0,W.W)(e.latestBillAmount)})}),(0,m.jsx)("div",{children:e.overdue&&(0,m.jsx)(e6.A,{variant:"attention",children:"Overdue"})})]}),(0,m.jsxs)(I.A,{sx:as,children:[e.meteredViaAzure&&(0,m.jsx)("p",{children:"Metered usage billed via Azure is not included."}),(0,m.jsxs)("p",{children:["Your next payment is scheduled for ",(0,m.jsxs)(k.A,{sx:{fontWeight:"bold"},children:[e.nextPaymentDate,"."]})]})]})]})}try{at.displayName||(at.displayName="AutoPayEnabledCard")}catch{}let as={fontSize:Y.vX.FontSizeSmall,color:"fg.muted",display:"flex",flexDirection:"column",gap:1};function aa(e){let t=e.autoPay;return(0,m.jsx)(m.Fragment,{children:t?(0,m.jsx)(at,{...e}):(0,m.jsx)(ae,{...e})})}try{aa.displayName||(aa.displayName="PaymentDueCard")}catch{}let ai={fontSize:Y.vX.FontSizeSmall,color:"fg.muted",display:"flex",flexDirection:"column",gap:1};function ar(e){let{path:t}=(0,K.A)(C.e0),{path:s}=(0,K.A)(C.k2,{invoiceNumber:e.invoiceNumber}),{path:a}=(0,K.A)(C.zS,{invoiceNumber:e.invoiceNumber});return(0,m.jsxs)(I.A,{sx:Y.jk,"data-testid":"latest-invoice-card",children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(N.A,{as:"h3",sx:{...Y.ik,fontSize:Y.vX.FontSizeNormal},children:"Latest invoice"}),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{children:(0,m.jsx)(P.Q,{as:"a",href:a,variant:"primary",size:"small",children:"Pay now"})})})]}),(0,m.jsxs)(I.A,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[(0,m.jsx)("div",{children:(0,m.jsx)(k.A,{sx:{fontSize:4},children:(0,W.W)(e.latestInvoiceBalance)})}),(0,m.jsxs)("div",{children:[!e.overdue&&(0,m.jsxs)(m.Fragment,{children:["by ",e.invoiceDueDate]}),e.overdue&&(0,m.jsx)(e6.A,{variant:"attention",children:"Overdue"})]})]}),(0,m.jsxs)(I.A,{sx:ai,children:[e.meteredViaAzure?(0,m.jsx)("p",{children:"Metered usage billed via Azure is not included."}):(0,m.jsx)("br",{}),(0,m.jsxs)("p",{children:[(0,m.jsx)(_.A,{inline:!0,href:s,sx:{fontSize:Y.vX.FontSizeSmall},target:"_blank",children:"View invoice"})," | ",(0,m.jsx)(_.A,{inline:!0,href:t,children:"Past invoices"})]})]})]})}try{ar.displayName||(ar.displayName="LatestInvoiceCard")}catch{}let an=(0,y.lazy)(()=>Promise.all([s.e("vendors-node_modules_highcharts-react-official_dist_highcharts-react_min_js-node_modules_high-d2543a"),s.e("ui_packages_chart-card_ChartCard_tsx"),s.e("ui_packages_billing-app_components_usage_UsageChart_tsx")]).then(s.bind(s,41737))),al={display:"grid",gridTemplateColumns:["1","1","1","1","repeat(2, 1fr)"],gridGap:3,mb:1};function ao(){let e=(0,y.useContext)(A).isStafftoolsRoute,t=(0,y.useContext)(A).isEnterpriseRoute,s=(0,y.useContext)(A).isOrganizationRoute,{admin_roles:a,budget_alert_details:i,customer:r,customer_selections:n,enabled_products:l,period_selections:o,multi_tenant:d,showPaymentDueTile:c,paymentDueTileData:u,showLatestInvoiceTile:h,latestInvoiceTileData:p,showVolumeLicenseSpendTile:g,volumeLicenseSpendTileData:x,enableOrgRepoUsageRefactor:f,useUsageChartDataEndpoint:j,showUsaSalesTaxDisclaimer:b}=(0,R.B)(),S=tO(n),{customerId:v}=r,[w,_]=(0,y.useState)({customer:(0,tT.A)(S),group:void 0,period:o.find(e=>e.type===B.FA.DEFAULT),product:void 0,searchQuery:""}),{netUsage:P,requestState:T}=(0,tE.yd)({filters:w}),{budgets:O,deleteBudgetFromPage:F}=tn({customerId:v}),{path:U}=(0,K.A)(C.fY),L=a.includes(z.kL)||a.includes(z.gO),$=!(a.includes(z.gO)||a.includes(z.kL))&&a.includes(z.fI),Q=a.includes(z.gO)||a.includes(z.kL)||s,q=`/enterprises/${r.displayId}/billing/cost_centers`,W=tl(r.plan);return(0,m.jsxs)(eJ.PE,{"data-hpc":!0,children:[!e&&!r.isVNextNative&&(0,m.jsx)(eJ.R_,{multiTenant:d}),i.length>0&&i.map(e=>(0,m.jsx)(e4,{budgetAlertDetail:e},e.budget_id)),(0,m.jsx)("header",{className:"Subhead",children:(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Overview"})}),(0,m.jsxs)(I.A,{sx:{...al,gridTemplateColumns:c||h?["1","1","1","1","repeat(3, 1fr)"]:al.gridTemplateColumns},children:[(0,m.jsx)(tW,{customerSelections:S,isOrganization:s}),Q&&(0,m.jsx)(tB,{enabledProducts:l,isOrganization:s}),c&&(0,m.jsx)(aa,{...u}),h&&(0,m.jsx)(ar,{...p})]}),(0,m.jsx)(I.A,{sx:{mb:4},children:b&&(0,m.jsxs)(I.A,{sx:{display:"flex"},"data-testid":"usa-sales-tax-disclaimer-fineprint",children:[(0,m.jsx)(E.A,{sx:{color:"fg.muted",pr:1},icon:D.InfoIcon,size:16}),(0,m.jsx)(k.A,{as:"p",sx:{color:"fg.muted",fontSize:Y.vX.FontSizeSmall},children:"Sales tax is not included in the amounts shown above."})]})}),g&&(0,m.jsx)(I.A,{sx:{mb:4},children:(0,m.jsx)(s8,{...x})}),(0,m.jsx)(I.A,{sx:{mb:3},children:(0,m.jsx)(t2,{menuItems:S,filtersSavedState:w,setFilters:_,manageCostCentersLink:q,useUsageChartDataEndpoint:j})}),(0,m.jsx)(I.A,{sx:{mb:3},children:(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(tZ,{}),children:(0,m.jsx)(an,{filters:w,requestState:T,usage:P,showTitle:!1,useUsageChartDataEndpoint:j,children:(0,m.jsx)(t5,{customer:r,filters:w,setFilters:_,periodSelections:o,showSearch:!1,sx:{mb:0},useUsageChartDataEndpoint:j})})})}),(0,m.jsx)(sC,{filters:w,enableOrgRepoUsageRefactor:f}),(0,m.jsx)(s2,{customer:r,enabledProducts:l,filters:w,isOnlyOrgAdmin:$}),!W&&t&&(0,m.jsxs)("div",{children:[(0,m.jsxs)(I.A,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,m.jsx)(N.A,{as:"h2",sx:{fontSize:3},"data-testid":"budgets-section",children:"Budgets"}),L&&(0,m.jsx)(e0.z,{href:U,sx:{color:"btn.text",ml:"auto",":hover":{textDecoration:"none"}},underline:!1,children:"Manage budgets"})]}),(0,m.jsx)(tr,{budgets:O,adminRoles:a,deleteBudget:F,enabledProducts:l})]})]})}try{an.displayName||(an.displayName="UsageChart")}catch{}try{ao.displayName||(ao.displayName="OverviewPage")}catch{}function ad(){let e=(0,tu.A)("localStorage"),[t,s]=(0,y.useState)(()=>!e.getItem("usage_report_banner_dismissed"));return t?(0,m.jsxs)(O.A,{variant:"warning",sx:{display:"flex",alignItems:"center",mb:3},children:[(0,m.jsx)(k.A,{sx:{fontWeight:"bold",m:1},children:"We have recently shipped a more enhanced usage report that includes username and workflow data starting from the date your enterprise onboarded to the beta."}),(0,m.jsx)(I.A,{sx:{display:"flex",marginLeft:"auto",gap:"3",alignItems:"center"},children:(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,"aria-label":"Close",icon:D.XIcon,size:"small",onClick:()=>{s(!1),e.setItem("usage_report_banner_dismissed","true")},variant:"invisible",sx:{svg:{color:"black"}}})})]}):null}try{ad.displayName||(ad.displayName="UsageReportBanner")}catch{}let ac=(0,y.lazy)(()=>Promise.all([s.e("vendors-node_modules_highcharts-react-official_dist_highcharts-react_min_js-node_modules_high-d2543a"),s.e("ui_packages_chart-card_ChartCard_tsx"),s.e("ui_packages_billing-app_components_usage_UsageChart_tsx")]).then(s.bind(s,41737)));function au(){let{customer:e,customer_selections:t,group_selections:s,period_selections:a,budget_alert_details:i,usage_report_selections:r,current_user_email:n,billing_platform_enabled_products:l,show_billing_vnext_beta_usage_banner:o,vnext_migration_date:d,disable_usage_reports:c,use_usage_chart_data_endpoint:u,use_usage_table_data_endpoint:h,is_multi_tenant:p,is_single_tenant:g}=(0,R.B)(),x=tO(t),[f]=(0,U.o)(),[j,A]=(0,y.useState)(()=>{let e=f.get("group"),t=f.get("period"),i=f.get("query"),r=f.get("customer");return{customer:r?x.find(e=>e.id===r)??(0,tT.A)(x):(0,tT.A)(x),group:s.find(t=>t.type===(e?parseInt(e):z.Jt)),period:a.find(e=>e.type===(t?parseInt(t):B.FA.DEFAULT)),product:void 0,searchQuery:i??""}}),{netUsage:b,otherUsage:S,requestState:v}=(0,tE.yd)({filters:j}),C=n&&l.length>0,w=o&&e.isVNextBeta&&C,N=`/enterprises/${e.displayId}/billing/cost_centers`;return(0,y.useEffect)(()=>{let e=j.period?.type??B.FA.DEFAULT,t=j.group?.type??z.Jt,s=j.customer;j.searchQuery?history.replaceState(null,"",`?period=${e}&group=${t}&customer=${s.id}&query=${j.searchQuery}`):history.replaceState(null,"",`?period=${e}&group=${t}&customer=${s.id}`)},[j]),(0,m.jsxs)(eJ.PE,{children:[w&&(0,m.jsx)(ad,{}),i.length>0&&i.map(e=>(0,m.jsx)(e4,{budgetAlertDetail:e},e.budget_id)),(0,m.jsx)("header",{className:"Subhead",children:(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:["column","row"]},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(I.A,{sx:{mb:2.5},children:(0,m.jsx)(t2,{menuItems:x,filtersSavedState:j,setFilters:A,manageCostCentersLink:N,useUsageChartDataEndpoint:u})}),(0,m.jsxs)("span",{className:"Subhead-description",children:["Includes amounts spent for organizations and repositories across all services."," ",!p&&!g&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_.A,{inline:!0,href:"/pricing",children:"View current and past pricing information"}),"."]})]})]}),C&&(0,m.jsx)(si,{currentUserEmail:n,usageReportSelections:r,billingPlatformEnabledProducts:l,disableUsageReports:c,vnextMigrationDate:d})]})}),(0,m.jsxs)("div",{children:[(0,m.jsx)(t5,{customer:e,filters:j,setFilters:A,groupSelections:s,periodSelections:a,useUsageChartDataEndpoint:u,showSearch:!0}),(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(tZ,{}),children:(0,m.jsx)(ac,{filters:j,requestState:v,usage:b,otherUsage:S,useUsageChartDataEndpoint:u})}),(0,m.jsx)(sq,{filters:j,usage:b,requestState:v,useUsageTableDataEndpoint:h})]})]})}try{ac.displayName||(ac.displayName="UsageChart")}catch{}try{au.displayName||(au.displayName="UsagePage")}catch{}var ah=s(11228),ap=s(95677),am=s(56221);function ag({azureEmissions:e}){return(0,m.jsx)(ap.X.Container,{"data-testid":"azure-emission-table",children:(0,m.jsx)(am.b,{"aria-labelledby":"azure-emissions","aria-describedby":"azure-emissions-subtitle","data-testid":"azure-emission-table",data:e,columns:[{header:"Azure Emission Time",rowHeader:!0,field:"emissionDate"},{header:"Sku",field:"sku",renderCell:e=>e.sku},{header:"Azure Storage Table Partition Key",field:"azurePartitionKey",renderCell:e=>e.azurePartitionKey},{header:"Quantity",field:"quantity",renderCell:e=>e.quantity}]})})}try{ag.displayName||(ag.displayName="AzureEmissionTable")}catch{}let ax=async(e,t)=>{let s=`/stafftools/enterprises/${e}/billing/azure_emissions?year=${t.year}&month=${t.month}&day=${t.day}`,a=await (0,e5.lS)(s,{method:"GET"});return{...await a.json(),statusCode:a.status}},af=function({enterpriseSlug:e,emissionDate:t}){let[s,a]=(0,y.useState)([]),[i,r]=(0,y.useState)(B.X_.INIT),{addToast:n}=(0,F.Y6)();return(0,y.useEffect)(()=>{let s=async()=>{if(e&&t){r(B.X_.LOADING);try{let s=await ax(e,t);200===s.statusCode?(a(s.azureEmissions),r(B.X_.IDLE)):(n({type:"error",message:z.Sr.QUERY_AZURE_EMISSIONS_ERROR}),r(B.X_.ERROR))}catch{n({type:"error",message:z.Sr.QUERY_AZURE_EMISSIONS_ERROR}),r(B.X_.ERROR)}}};a([]),s()},[e,t]),{azureEmissions:s,requestState:i}};function ay(){let e=(0,R.B)(),t=new Date,[s,a]=(0,y.useState)({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDay()}),{azureEmissions:i,requestState:r}=af({enterpriseSlug:e.slug,emissionDate:s});return(0,m.jsxs)(w.A,{children:[(0,m.jsx)("header",{className:"Subhead",children:(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Azure Emissions"})}),(0,m.jsx)("div",{children:"Choose a usage date to see the emissions for that date. This tool captures the emission record in billing-platform and the record in Azure Storage Table."}),(0,m.jsx)(I.A,{sx:{mt:4,mb:4},children:(0,m.jsx)(ah.DatePicker,{variant:"single",onChange:e=>{e&&a({year:(e=new Date(e)).getFullYear(),month:e.getMonth()+1,day:e.getDate()})},value:null,placeholder:"Choose a Usage Date"})}),i.length>0&&(0,m.jsx)(ag,{azureEmissions:i}),r===B.X_.LOADING&&(0,m.jsx)(en.A,{}),0===i.length&&r===B.X_.IDLE&&(0,m.jsx)("div",{"data-testid":"blankslate-container",children:(0,m.jsxs)(e1.A,{children:[(0,m.jsx)(e1.A.Visual,{children:(0,m.jsx)(D.SmileyIcon,{size:36})}),(0,m.jsx)(e1.A.Heading,{children:"Customer has no Azure Emissions for this date."}),(0,m.jsx)(e1.A.Description,{children:"Please try selecting another date to find emissions"})]})})]})}try{ay.displayName||(ay.displayName="AzureEmissionPage")}catch{}function aj(){return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"Subhead",children:(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Billing Jobs"})}),(0,m.jsx)(_.A,{href:z.tl.STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB,children:"Business Organization Billing Job"})]})}try{aj.displayName||(aj.displayName="BillingJobsPage")}catch{}let aA={...Y.jk,p:0},ab={width:"100%",textAlign:"left",borderCollapse:"separate"},aS={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"border.default"},av={position:"sticky",top:0,bg:"canvas.subtle",fontWeight:"bold"},aC={display:"flex"},aR={p:3};function aw({text:e,style:t={},onClick:s}){return t.width||t.flex||(t.flex=1),(0,m.jsx)(I.A,{sx:{...aR,...t},children:s?(0,m.jsx)(P.Q,{onClick:s,children:e}):e})}try{aw.displayName||(aw.displayName="BillingJobTableCell")}catch{}function aN({data:e,style:t}){return t||(t={...aC,...aS}),(0,m.jsx)(I.A,{sx:t,children:e.map((e,t)=>"string"==typeof e?(0,m.jsx)(aw,{text:e},t):(0,m.jsx)(aw,{text:e.text,style:e.style,onClick:e.onClick},t))})}try{aN.displayName||(aN.displayName="BillingJobTableRow")}catch{}function a_({headers:e,data:t}){return(0,m.jsx)(I.A,{sx:aA,children:(0,m.jsxs)(I.A,{sx:ab,children:[(0,m.jsx)(I.A,{sx:av,children:(0,m.jsx)(aN,{data:e,style:aC})}),(0,m.jsx)("div",{children:t.map((e,t)=>(0,m.jsx)(aN,{data:e},t))})]})})}try{a_.displayName||(a_.displayName="BillingJobTable")}catch{}let ak=async e=>{let t=await (0,e5.lS)(`${z.tl.STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB}/${e.id}/perform`,{method:"PUT"});return{...await t.json(),statusCode:t.status}};function aI(){let{orgs:e}=(0,R.B)(),{addToast:t,addPersistedToast:s}=(0,F.Y6)(),a=(0,U.Z)(),i=e?.map(e=>[{text:`${e.id}`,style:{width:"19%"}},e.login,e.business?.slug,{text:"perform",onClick:()=>l(e),style:{width:"15%",textAlign:"center"}}]),r=e=>{s({type:"error",message:e})},n=e=>{t({type:"success",message:e,icon:(0,m.jsx)(D.CheckCircleIcon,{})}),a(z.tl.STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB)},l=async e=>{let{error:t}=await ak(e);t?r(t):n("Business Organization Billing Job performed")};return(0,m.jsxs)("div",{children:[(0,m.jsxs)(t_.A,{children:[(0,m.jsx)(t_.A.Item,{href:z.tl.STAFFTOOLS_BILLING_JOBS,children:"Billing Jobs"}),(0,m.jsx)(t_.A.Item,{selected:!0,children:"Business Organization Billing Job"})]}),(0,m.jsx)("div",{children:(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",children:"Failed Billing Transitions"})}),(0,m.jsx)(a_,{headers:[{text:"Organization Id",style:{width:"19%"}},"Organization Name","Business Slug",{text:"Retry Job",style:{width:"15%",textAlign:"center"}}],data:i})]})}try{aI.displayName||(aI.displayName="BusinessOrganizationBillingJobPage")}catch{}var aP=s(73880);let aT=function(){let[e,t]=(0,y.useState)([]),[s,a]=(0,y.useState)(B.X_.INIT),{addToast:i}=(0,F.Y6)();return(0,L.Ay)({route:C.A$,reqParams:{},onStart:()=>{t([]),a(B.X_.LOADING)},onSuccess:e=>{t(e.data),a(B.X_.IDLE)},onError:()=>{a(B.X_.ERROR),i({type:"error",message:z.Sr.QUERY_PRICINGS_ERROR})}}),{pricings:e,requestState:s}};function aO({setSelectedItems:e,entityType:t="budget",indent:s=!0,selectionVariant:a,valid:i}){let[r,n]=(0,y.useState)([]),[l,o]=(0,y.useState)(!1),[d,c]=(0,y.useState)(!1),[u,h]=(0,y.useState)(void 0),[p,g]=(0,y.useState)(""),x=e=>({id:e.sku,text:e.sku,leadingVisual:()=>(0,m.jsx)(m.Fragment,{}),rowLeadingVisual:()=>(0,m.jsx)(m.Fragment,{}),viewOnly:!1}),{pricings:f}=aT();f.sort((e,t)=>e.friendlyName.localeCompare(t.friendlyName,"en",{sensitivity:"accent"}));let j=f.length,A=(0,y.useMemo)(()=>u||f.map(e=>x(e)).concat(r.filter(e=>!f.find(t=>t.sku===e.id))),[f,r,u]),b=r.length>0,S=(0,y.useCallback)(e=>{let t=e.trim();p===t?h(void 0):h(A.filter(e=>e.text.toLowerCase().includes(t.toLowerCase()))),g(e)},[A,p]),v=e=>e?"SKUs":"SKU";return(0,m.jsxs)(I.A,{sx:{ml:s?4:0,textAlign:"left"},children:[(0,m.jsxs)(P.Q,{"data-testid":"open-org-picker-dialog-button",onClick:()=>{c(!0),g(""),h(void 0)},sx:{mb:Y.Kz.StandardPadding},trailingAction:D.TriangleDownIcon,children:["Select ",v("multiple"===a)]}),(0,m.jsx)(ek,{open:d,resetDialog:()=>{c(!1),n(r),e(r.map(e=>e.id))},filter:S,selectAll:l,selected:r,onDialogSubmit:(t,s)=>{c(!1),n(t),o(s),e(t.map(e=>e.id))},items:A,totalItemsCount:A.length,pickerType:v("multiple"===a),loading:!1,selectionVariant:a,entityType:t}),!1===i&&(0,m.jsx)(es.A.Validation,{variant:"error",sx:{mt:1},children:"Please select at least one SKU"}),l&&(0,m.jsxs)(k.A,{sx:{fontSize:Y.vX.FontSizeSmall},children:["All ",j," ",v(1!==j)," selected"]}),(0,m.jsx)(eh,{selected:r,removeOption:t=>{if(!b)return;let s=r.filter(e=>e.id!==t);n(s),e(s.map(e=>e.id))}})]})}try{aO.displayName||(aO.displayName="SkuPicker")}catch{}function aE({customer:e,discountTarget:t,discountTargetIds:s,discountTargetIdsValid:a,discountTargetValid:i,enabledProducts:r,setDiscountTarget:n,setDiscountTargetIds:l}){let[o,d,c]=(0,j.useQueryLoader)(eU),[u,h,p]=(0,j.useQueryLoader)(eK);(0,y.useEffect)(()=>(d({slug:e.displayId},{fetchPolicy:"store-or-network"}),h({slug:e.displayId},{fetchPolicy:"store-or-network"}),()=>{c(),p()}),[s,t,d,c,e.displayId,h,p]);let g=e=>{n(e.target.value)};return(0,m.jsxs)(I.A,{sx:{mb:3},children:[(0,m.jsxs)(I.A,{sx:{mb:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},className:"Box-title",children:"Discount scope"}),(0,m.jsx)("span",{children:"Specify the scope of spending for this discount."}),!1===i&&(0,m.jsx)(k.A,{sx:{color:"fg.danger"},children:"Discount scope is not valid"})]}),(0,m.jsx)(eS.A,{"aria-labelledby":"budget-scope-choices",name:"budget-scope-choices",sx:{mt:2,mb:4},children:(0,m.jsxs)("div",{className:"Box",children:[e.customerType===B.DX.Business&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"Box-row",children:(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{checked:t===B.dV.Enterprise,value:B.dV.Enterprise.toString(),onChange:g}),(0,m.jsx)(es.A.Label,{children:"Enterprise"}),(0,m.jsx)(es.A.Caption,{children:"Spending for all organizations and repositories in this enterprise."})]})}),(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{checked:t===B.dV.Organization,value:B.dV.Organization.toString(),onChange:g}),(0,m.jsx)(es.A.Label,{children:"Organization"}),(0,m.jsx)(es.A.Caption,{children:"Spending for a single organization."})]}),t===B.dV.Organization&&(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(en.A,{size:"small"}),children:o&&(0,m.jsx)(eL,{initialSelectedItemIds:[],preloadedOrganizationsRef:o,selectionVariant:"single",setSelectedItems:l,slug:e.displayId,valid:a})})]})]}),[B.DX.Business,B.DX.Organization].includes(e.customerType)&&(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{checked:t===B.dV.Repository,value:B.dV.Repository.toString(),onChange:g}),(0,m.jsx)(es.A.Label,{children:"Repository"}),(0,m.jsx)(es.A.Caption,{children:"Spending for a single repository."})]}),t===B.dV.Repository&&(0,m.jsx)(y.Suspense,{fallback:(0,m.jsx)(en.A,{size:"small"}),children:u&&(0,m.jsx)(eq,{initialSelectedItemIds:[],preloadedRepositoriesRef:u,selectionVariant:"single",setSelectedItems:l,slug:e.displayId,valid:a})})]}),(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{checked:t===B.dV.Product,value:B.dV.Product.toString(),onChange:g}),(0,m.jsx)(es.A.Label,{children:"Product"}),(0,m.jsx)(es.A.Caption,{children:"Spending for a single product."})]}),t===B.dV.Product&&(0,m.jsxs)(es.A,{sx:{ml:4,mt:1},children:[(0,m.jsx)(es.A.Label,{visuallyHidden:!0,children:"Select product"}),(0,m.jsxs)(aP.A,{onChange:e=>l([e.target.value]),children:[(0,m.jsx)(aP.A.Option,{value:"",children:"Select product"}),r.map(e=>(0,m.jsx)(aP.A.Option,{value:e.name,children:e.friendlyProductName},e.name))]}),!a&&(0,m.jsx)(es.A.Validation,{variant:"error",sx:{mt:1},children:"Please select at least one product"})]})]}),(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)(es.A,{children:[(0,m.jsx)(ev.A,{checked:t===B.dV.SKU,value:B.dV.SKU.toString(),onChange:g}),(0,m.jsx)(es.A.Label,{children:"SKU"}),(0,m.jsx)(es.A.Caption,{children:"Spending for a single SKU."})]}),t===B.dV.SKU&&(0,m.jsx)(aO,{setSelectedItems:l,selectionVariant:"single",valid:a})]})]})})]})}try{aE.displayName||(aE.displayName="DiscountTargetSelector")}catch{}let aF="18ch";function aU({customer:e,enabledProducts:t}){let s;switch(e.customerType){case B.DX.Business:s=B.dV.Enterprise;break;case B.DX.Organization:s=B.dV.Organization;break;case B.DX.User:default:s=B.dV.Product}let[a,i]=(0,y.useState)(s),[r,n]=(0,y.useState)([]),[l,o]=(0,y.useState)(),[d,c]=(0,y.useState)(),[u,h]=(0,y.useState)(B.oQ.NoDiscountType),[p,g]=(0,y.useState)(),[f,j]=(0,y.useState)(!0),[A,b]=(0,y.useState)(!0),[S,v]=(0,y.useState)(!0),[R,w]=(0,y.useState)(!0),[_,T]=(0,y.useState)(!0),[O,E]=(0,y.useState)(!0);(0,y.useEffect)(()=>{U(p?.toString(),{allowBlank:!0})},[u]);let U=(e,t={allowBlank:!1})=>{if(!t.allowBlank&&!e)return E(!1),!1;if(e){let t=parseFloat(e);if(isNaN(t)||t>100&&u===B.oQ.Percentage||t<=0)return E(!1),!1}return E(!0),!0},D=e=>{U(e.target.value,{allowBlank:!0})&&g(parseFloat(e.target.value))},z=()=>{let e=!0;return a===B.dV.NoDiscountTarget&&(e=!1,j(!1)),a!==B.dV.Enterprise&&0===r.length&&(e=!1,b(!1)),l||(e=!1,v(!1)),d||(e=!1,w(!1)),u===B.oQ.NoDiscountType?(e=!1,T(!1)):U(p?.toString())||(e=!1,E(!1)),e},{path:$}=(0,K.A)(C.L$),{addToast:Q}=(0,F.Y6)();async function q(){let t={customerId:e.customerId,endDate:d,percentage:u===B.oQ.Percentage?p:0,startDate:l,targets:a===B.dV.Enterprise?[{id:e.customerId,type:a}]:r.map(e=>({id:e,type:a})),targetAmount:u===B.oQ.FixedAmount?p:0};try{let{ok:e}=await (0,L.p0)(L.aG.POST,$,t);e?window.location.href=x.fV.pathname:Q({type:"error",message:"There was an issue creating your discount",role:"alert"})}catch{Q({type:"error",message:"There was an issue creating your discount",role:"alert"})}}let W=async e=>{e.preventDefault(),z()&&q()};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("header",{className:"Subhead mt-3",children:(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Apply a new discount"})}),(0,m.jsx)(I.A,{sx:{maxWidth:"65ch"},children:(0,m.jsxs)("form",{onSubmit:W,autoComplete:"off",children:[(0,m.jsx)(aE,{customer:e,discountTarget:a,discountTargetIds:r,discountTargetIdsValid:A,discountTargetValid:f,enabledProducts:t,setDiscountTarget:e=>{n([]),b(!0),i(e)},setDiscountTargetIds:e=>{n(e),b(!0)}}),(0,m.jsxs)(I.A,{sx:{mb:3},children:[(0,m.jsxs)(I.A,{sx:{mb:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},className:"Box-title",children:"Date range"}),(0,m.jsx)("span",{children:"Specify the date range over which the discount should be applied."})]}),(0,m.jsx)("div",{className:"Box",children:(0,m.jsxs)("div",{className:"Box-row d-flex",children:[(0,m.jsxs)(es.A,{sx:{mr:2},children:[(0,m.jsx)(es.A.Label,{children:"Start date"}),(0,m.jsx)(ea.A,{type:"date",sx:{width:aF},onChange:e=>{let t=e.target.value,s=new Date(t).getTime(),a=!0;t&&isNaN(s)&&(a=!1),d&&(s>d?a=!1:w(!0)),v(a),isNaN(s)||o(s)}}),!S&&(0,m.jsx)(es.A.Validation,{variant:"error",children:"Start date is not valid"})]}),(0,m.jsxs)(es.A,{children:[(0,m.jsx)(es.A.Label,{children:"End date"}),(0,m.jsx)(ea.A,{type:"date",sx:{width:aF},onChange:e=>{let t=e.target.value,s=new Date(t).getTime(),a=!0;t&&isNaN(s)&&(a=!1),l&&(l>s?a=!1:v(!0)),w(a),isNaN(s)||c(s)}}),!R&&(0,m.jsx)(es.A.Validation,{variant:"error",children:"End date is not valid"})]})]})})]}),(0,m.jsxs)(I.A,{sx:{mb:3},children:[(0,m.jsxs)(I.A,{sx:{mb:2},children:[(0,m.jsx)(N.A,{as:"h3",sx:{fontSize:2},className:"Box-title",children:"Discount"}),(0,m.jsx)("span",{children:"Specify the type of discount and fixed amount or percentage to be applied."})]}),(0,m.jsx)("div",{className:"Box",children:(0,m.jsxs)("div",{className:"Box-row",children:[(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsxs)(es.A,{sx:{mr:2},children:[(0,m.jsx)(es.A.Label,{children:"Discount type"}),(0,m.jsxs)(aP.A,{onChange:e=>{T(!0),h(e.target.value)},sx:{width:aF},children:[(0,m.jsx)(aP.A.Option,{value:B.oQ.NoDiscountType,children:"Nothing selected"}),(0,m.jsx)(aP.A.Option,{value:B.oQ.FixedAmount,children:"Fixed amount"}),(0,m.jsx)(aP.A.Option,{value:B.oQ.Percentage,children:"Percentage"})]}),!_&&(0,m.jsx)(es.A.Validation,{variant:"error",children:"Discount type is not valid"})]}),u!==B.oQ.NoDiscountType&&(0,m.jsxs)(es.A,{children:[(0,m.jsx)(es.A.Label,{children:"Discount amount"}),u===B.oQ.FixedAmount&&(0,m.jsx)(ea.A,{leadingVisual:"$",sx:{width:aF},onChange:D}),u===B.oQ.Percentage&&(0,m.jsx)(ea.A,{trailingVisual:"%",sx:{width:aF},onChange:D}),!O&&(0,m.jsx)(es.A.Validation,{variant:"error",children:"Discount amount is not valid"})]})]}),u===B.oQ.FixedAmount&&(0,m.jsx)(k.A,{sx:{color:"fg.muted",fontSize:"12px"},children:"Usage will be covered in full up to the specified amount."}),u===B.oQ.Percentage&&(0,m.jsx)(k.A,{sx:{color:"fg.muted",fontSize:"12px"},children:"Usage will be discounted by the specified percentage."})]})})]}),(0,m.jsx)(P.Q,{type:"submit",variant:"primary",children:"Create discount"})]})})]})}try{aU.displayName||(aU.displayName="DiscountForm")}catch{}function aD(){let{customer:e,enabledProducts:t}=(0,R.B)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("header",{className:"Subhead",children:(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Discounts"})}),(0,m.jsx)(tB,{enabledProducts:t,isOrganization:!1}),(0,m.jsx)(aU,{customer:e,enabledProducts:t})]})}try{aD.displayName||(aD.displayName="DiscountsPage")}catch{}var az=s(26666);let aL={display:"flex",alignItems:"center",mb:3},aK={mr:2};function aB({selections:e,selectedCustomer:t,setSelectedCustomer:s,getHeadingText:a,title:i,className:r,as:n,containerSx:l,headingSx:o}){return(0,m.jsxs)(I.A,{sx:{...aL,...l},className:r,children:[(0,m.jsx)(N.A,{as:n??"h3",sx:{...aK,...o},children:a?a(t):t.displayText}),e.length>1&&(0,m.jsxs)(e2.W,{children:[(0,m.jsx)(e2.W.Anchor,{children:(0,m.jsx)(eu.K,{unsafeDisableTooltip:!0,icon:D.TriangleDownIcon,"aria-label":"Change cost center selection"})}),(0,m.jsx)(e2.W.Overlay,{children:(0,m.jsx)(eN.l,{selectionVariant:"single",showDividers:!0,children:(0,m.jsxs)(eN.l.Group,{children:[(0,m.jsx)(eN.l.GroupHeading,{children:i}),e.map(e=>(0,m.jsx)(eN.l.Item,{onSelect:()=>s(e),selected:e.id===t.id,sx:{fontWeight:"normal",whiteSpace:"nowrap"},children:e.displayText},e.id))]})})})]})]})}try{aB.displayName||(aB.displayName="CostCenterSelector")}catch{}let a$=async(e,t)=>{let s=`/stafftools/enterprises/${e}/billing/invoices`,a=await (0,e5.lS)(s,{method:"POST",body:t});return{...await a.json(),statusCode:a.status}},aQ=async(e,t)=>{let s=`/stafftools/enterprises/${e}/billing/invoices?customer_id=${t}`,a=await (0,e5.lS)(s,{method:"GET"});return{...await a.json(),statusCode:a.status}},aq=function({enterpriseSlug:e,customerId:t}){let[s,a]=(0,y.useState)([]),[i,r]=(0,y.useState)(B.X_.INIT),{addToast:n}=(0,F.Y6)();return(0,y.useEffect)(()=>{let s=async()=>{if(e&&t)try{let s=await aQ(e,t);200===s.statusCode?(a(s.invoices),r(B.X_.IDLE)):(n({type:"error",message:z.Sr.QUERY_INVOICES_ERROR}),r(B.X_.ERROR))}catch{n({type:"error",message:z.Sr.QUERY_INVOICES_ERROR}),r(B.X_.ERROR)}};a([]),s()},[e,t]),{invoices:s,requestState:i}},aW={borderColor:"border.default",borderWidth:1,borderStyle:"solid",fontWeight:"normal",borderRadius:2},aM={borderBottomWidth:1,borderBottomStyle:"solid",borderColor:"border.default",p:3},aG={...aM,background:"var(--bgColor-muted, var(--color-canvas-subtle))"},aV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],aH=({invoice:e,idx:t})=>{let{getDetailsProps:s,open:a}=(0,sW.A)({closeOnOutsideClick:!1}),i=(0,m.jsxs)(I.A,{as:"tr",sx:aM,children:[(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(I.A,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,m.jsxs)(k.A,{sx:{fontWeight:"bold",fontSize:1},children:["Index ",t]})})}),(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(I.A,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,m.jsx)(k.A,{"data-testid":`${t}-invoice-date`,sx:{fontSize:1},children:(0,q.Y)(e.year,e.month)})})}),(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(I.A,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,m.jsx)(k.A,{sx:{fontSize:1},children:(0,W.W)(e.usageTotal.gross)})})}),(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(I.A,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,m.jsx)(k.A,{sx:{fontSize:1},children:(0,W.W)(e.usageTotal.discount)})})}),(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(I.A,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,m.jsx)(k.A,{sx:{fontSize:1},children:(0,W.W)(e.usageTotal.net)})})}),(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(I.A,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,m.jsx)(k.A,{sx:{fontSize:1},children:e.usageTotal.quantity})})}),(0,m.jsx)(I.A,{as:"td",sx:{py:3,px:3},children:(0,m.jsx)(sM.A,{...s(),sx:{p:2,pr:0},children:(0,m.jsx)(I.A,{as:"summary",sx:{p:2},title:a?"Hide Invoice Breakdown":"Show Invoice Breakdown","data-testid":"invoice-details",children:(0,m.jsx)(E.A,{icon:a?D.ChevronDownIcon:D.ChevronLeftIcon})})})})]},t);return(0,m.jsxs)(m.Fragment,{children:[i,a&&(0,m.jsx)(I.A,{as:"tr",sx:{...aM,borderTop:0},children:(0,m.jsx)(I.A,{as:"td",sx:{p:0},colSpan:7,children:(0,m.jsx)(I.A,{as:"pre",sx:{p:3,m:0,overflowX:"auto",whiteSpace:"pre-wrap"},children:JSON.stringify(e,null,2)})})},`${t}-detail`)]})};function aX({slug:e,selectedCustomer:t}){let s=y.useRef(null),[a,i]=(0,y.useState)(!1),[r,n]=(0,y.useState)(new Date),l=r.getMonth(),o=r.getFullYear(),d=(0,y.useMemo)(()=>{let e=aV.map((e,t)=>(0,m.jsx)(aP.A.Option,{value:`${t}`,children:e},e));return(0,m.jsxs)(es.A,{children:[(0,m.jsx)(es.A.Label,{sx:{alignSelf:"center"},children:"Month"}),(0,m.jsx)(aP.A,{value:l,"aria-label":"Month",onChange:e=>{n(new Date(o,Number(e.target.value)))},children:e})]})},[l,o,n]),c=(0,y.useMemo)(()=>{let e=[],t=new Date().getFullYear(),s=t-10;for(let a=s;a<=t;a++)e.push((0,m.jsx)(aP.A.Option,{value:`${a}`,children:a},a));return(0,m.jsxs)(es.A,{children:[(0,m.jsx)(es.A.Label,{sx:{alignSelf:"center"},children:"Year"}),(0,m.jsx)(aP.A,{value:o,"aria-label":"Year",onChange:e=>{n(new Date(Number(e.target.value),l))},children:e})]})},[l,o,n]),{addToast:u}=(0,F.Y6)();async function h(){let s={customerId:t.id,year:o,month:l+1};try{let{error:t}=await a$(e,s);t?u({type:"error",message:`There was an issue generating your invoice ${t}`}):u({type:"success",message:"Invoice scheduled for generation"})}catch{u({type:"error",message:"Error generating invoice"})}finally{i(!1)}}let p=async e=>{e.preventDefault(),await h()};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(P.Q,{"aria-label":"Generate Invoice",size:"small",ref:s,onClick:()=>i(!0),children:"Generate Invoice"}),(0,m.jsxs)(T.A,{isOpen:a,returnFocusRef:s,onDismiss:()=>i(!1),"aria-labelledby":"label",children:[(0,m.jsx)(T.A.Header,{children:(0,m.jsxs)(k.A,{as:"h3",sx:{ml:2,mb:0},children:["Generate invoice for ",t.displayText]})}),(0,m.jsxs)(I.A,{sx:{p:3},children:[(0,m.jsxs)(I.A,{sx:{p:2,mb:2},children:[(0,m.jsx)(k.A,{as:"p",id:"label",sx:{mb:1},children:"Populates an invoice for the given year and month."}),(0,m.jsx)(k.A,{as:"p",sx:{color:"fg.subtle",m:0},className:"text-small",children:"\u2022 An invoice won't be generated if there's no usage for the given period."}),(0,m.jsx)(k.A,{as:"p",sx:{color:"fg.subtle",m:0},className:"text-small",children:"\u2022 If there is an existing invoice for the period, it will be updated."})]}),(0,m.jsxs)("form",{onSubmit:p,children:[(0,m.jsxs)(I.A,{sx:{display:"flex",justifyContent:"space-evenly",flexDirection:"row"},children:[d,c]}),(0,m.jsx)(I.A,{sx:{display:"flex",mt:3,justifyContent:"center"},children:(0,m.jsx)(P.Q,{type:"submit",variant:"primary",children:"Generate"})})]})]})]})]})}function aY(){let{customerSelections:e,slug:t}=(0,R.B)(),[s,a]=(0,y.useState)((0,az.A)(e)),{invoices:i,requestState:r}=aq({enterpriseSlug:t,customerId:s?.id}),n=(0,m.jsxs)(I.A,{as:"header",className:"Subhead",sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,m.jsx)(aB,{getHeadingText:e=>`Invoices for ${e.displayText}`,selections:e,selectedCustomer:s,setSelectedCustomer:a,title:"View invoices for",as:"h2"}),(0,m.jsx)(aX,{selectedCustomer:s,slug:t})]});return r===B.X_.ERROR?(0,m.jsxs)("div",{children:[n,(0,m.jsx)(eJ.Ax,{testid:"invoices-loading-error",text:"Something went wrong"})]}):0===i.length?(0,m.jsxs)("div",{children:[n,(0,m.jsx)(I.A,{sx:{fontSize:4,pt:2,display:"flex",alignItems:"center",justifyContent:"center"},children:"No invoices found"})]}):(0,m.jsxs)("div",{children:[n,(0,m.jsx)(I.A,{sx:aW,children:(0,m.jsxs)(I.A,{as:"table",sx:{width:"100%",textAlign:"left",borderRadius:2},"data-hpc":!0,children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)(I.A,{as:"th",sx:{...aG,borderTopLeftRadius:2},children:"Invoice"}),(0,m.jsx)(I.A,{as:"th",sx:aG,children:"Date"}),(0,m.jsx)(I.A,{as:"th",sx:aG,children:"Gross"}),(0,m.jsx)(I.A,{as:"th",sx:aG,children:"Discount"}),(0,m.jsx)(I.A,{as:"th",sx:aG,children:"Net"}),(0,m.jsx)(I.A,{as:"th",sx:aG,children:"Quantity"}),(0,m.jsx)(I.A,{as:"th",sx:{...aG,borderTopRightRadius:2},children:"Details"})]})}),(0,m.jsx)("tbody",{children:i.map((e,t)=>(0,m.jsx)(aH,{invoice:e,idx:t},t))})]})})]})}try{aH.displayName||(aH.displayName="InvoiceRow")}catch{}try{aX.displayName||(aX.displayName="InvoiceGeneration")}catch{}try{aY.displayName||(aY.displayName="InvoicesPage")}catch{}let aJ=async e=>{let t=`${z.tl.STAFFTOOLS_PRODUCTS}/${e.product}/pricings`,s=await (0,e5.lS)(t,{method:"POST",body:e});return{...await s.json(),statusCode:s.status}},aZ=async e=>{let t=`${z.tl.STAFFTOOLS_PRODUCTS}/${e.product}/pricings/${e.sku}`,s=await (0,e5.lS)(t,{method:"PUT",body:e});return{...await s.json(),statusCode:s.status}},a0=({productId:e,action:t,initialValues:s})=>{let[a,i]=(0,y.useState)(s?.sku||""),[r,n]=(0,y.useState)(s?.friendlyName||""),[l,o]=(0,y.useState)(s?.price||0),[d,c]=(0,y.useState)(s?.meterType||"Default"),[u,h]=(0,y.useState)(s?.unitType||"Minutes"),[p,g]=(0,y.useState)(s?.freeForPublicRepos||!1),[x,f]=(0,y.useState)(s?.effectiveAt||25340221440),[j,A]=(0,y.useState)(s?.azureMeterId||""),[b,S]=(0,y.useState)(!1),[v,C]=(0,y.useState)(""),R=(0,y.useRef)(null),{addToast:w}=(0,F.Y6)(),_=(0,U.Z)(),k=[a,r,l,d,u,j,x],O=e=>{let t=new Date(1e3*e),s=t.getDate(),a=t.getMonth()+1,i=new Date(t.getFullYear(),a-1,s);return i&&i.getMonth()+1===a?t.toLocaleString():"Invalid date"},E=e=>"Invalid date"===O(e)?(C("Please enter a valid epoch timestamp."),!1):(C(""),!0),L=e=>{w({type:"error",message:e,role:"alert"})},K=async()=>{S(!1);try{let{error:t}=await aJ({sku:a,friendlyName:r,price:l,meterType:d,unitType:u,freeForPublicRepos:p,azureMeterId:j,product:e,effectiveAt:x});t?L(t):(w({type:"success",message:"SKU pricing created!",icon:(0,m.jsx)(D.CheckCircleIcon,{}),role:"status"}),localStorage.setItem("updatedSKUs","true"),_(`${z.tl.STAFFTOOLS_PRODUCTS}/${e}`))}catch{L(z.Sr.CREATE_SKU_PRICING_ERROR)}},B=async()=>{S(!1);try{let{error:t}=await aZ({sku:a,friendlyName:r,price:l,meterType:d,unitType:u,freeForPublicRepos:p,azureMeterId:j,product:e,effectiveAt:x});t?L(t):(w({type:"success",message:"SKU pricing updated!",icon:(0,m.jsx)(D.CheckCircleIcon,{}),role:"status"}),localStorage.setItem("updatedSKUs","true"),_(`${z.tl.STAFFTOOLS_PRODUCTS}/${e}`))}catch{L(z.Sr.UPDATE_SKU_PRICING_ERROR)}};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(I.A,{sx:{borderWidth:1,borderStyle:"solid",borderColor:"border.default",borderRadius:2},children:[(0,m.jsx)(I.A,{sx:{bg:"canvas.subtle",p:3,mb:2,borderRadius:1},children:(0,m.jsx)(N.A,{as:"h2",sx:{fontSize:2},children:"create"===t?"Create a new SKU pricing":"Edit SKU pricing"})}),(0,m.jsxs)(I.A,{sx:{p:2,m:2},children:[(0,m.jsxs)(es.A,{sx:{my:3},disabled:"edit"===t,children:[(0,m.jsx)(es.A.Label,{children:"SKU Name"}),(0,m.jsx)(ea.A,{"aria-label":"SKU Name",name:"skuName",value:a,onChange:e=>i(e.target.value)})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Friendly SKU pricing name"}),(0,m.jsx)(ea.A,{"aria-label":"Friendly SKU name",name:"friendlySkuName",value:r,onChange:e=>n(e.target.value)})]}),(0,m.jsxs)(es.A,{disabled:!0,sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Product"}),(0,m.jsx)(ea.A,{"aria-label":"Product",name:"product",value:e})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Free for public repos"}),(0,m.jsxs)(aP.A,{defaultValue:p.toString(),onChange:e=>g(!!e.target.value),children:[(0,m.jsx)(aP.A.Option,{value:"true",children:"Yes"}),(0,m.jsx)(aP.A.Option,{value:"false",children:"No"})]})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Price"}),(0,m.jsx)(ea.A,{leadingVisual:"$","aria-label":"Price",name:"price",value:l,onChange:e=>o(Number(e.target.value))})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Unit type"}),(0,m.jsx)(aP.A,{defaultValue:u,onChange:e=>h(e.target.value),children:z.aO.map(e=>(0,m.jsx)(aP.A.Option,{value:e,children:e},e))})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Meter type"}),(0,m.jsxs)(aP.A,{defaultValue:d,onChange:e=>c(e.target.value),children:[(0,m.jsx)(aP.A.Option,{value:"Default",children:"Default"}),(0,m.jsx)(aP.A.Option,{value:"PerHourUnitCharge",children:"Per hour unit charge"})]})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Effective at"}),(0,m.jsx)(ea.A,{"aria-label":"Effective At",name:"EffectiveAt",value:x,onChange:e=>{E(Number(e.target.value))&&f(Number(e.target.value))},placeholder:"Enter an epoch timestamp"}),v&&(0,m.jsx)("div",{style:{color:"red"},children:v}),(0,m.jsx)(es.A.Caption,{children:O(x)})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Azure meter ID"}),(0,m.jsx)(ea.A,{"aria-label":"Azure Meter ID",name:"azureMeterId",value:j,onChange:e=>A(e.target.value)})]}),(0,m.jsx)(P.Q,{ref:R,onClick:()=>{k.some(e=>!e)?L(z.Sr.REQUIRED_FIELD_ERROR):S(!0)},sx:{my:2},children:"create"===t?"Save SKU pricing":"Edit SKU pricing"})]})]}),(0,m.jsxs)(T.A,{returnFocusRef:R,isOpen:b,onDismiss:()=>S(!1),children:[(0,m.jsx)(T.A.Header,{children:"Are you sure?"}),(0,m.jsxs)(I.A,{sx:{p:3},children:[(0,m.jsx)("span",{children:`${"create"===t?"This will create a new SKU pricing.":"This will update this SKU pricing."} Are you sure you want to continue?`}),(0,m.jsxs)(I.A,{sx:{display:"flex",mt:3,justifyContent:"flex-end"},children:[(0,m.jsx)(P.Q,{onClick:"create"===t?K:B,sx:{mr:1},variant:"primary",children:"Continue"}),(0,m.jsx)(P.Q,{onClick:()=>S(!1),children:"Cancel"})]})]})]})]})};try{a0.displayName||(a0.displayName="PricingForm")}catch{}let a1=()=>{let{pricing:e}=(0,R.B)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t_.A,{sx:{mb:3},children:[(0,m.jsx)(t_.A.Item,{href:z.tl.STAFFTOOLS_PRODUCTS,children:"Products"}),(0,m.jsx)(t_.A.Item,{href:`${z.tl.STAFFTOOLS_PRODUCTS}/${e.product}`,sx:{textTransform:"capitalize"},children:e.product}),(0,m.jsx)(t_.A.Item,{selected:!0,children:"Edit"})]}),(0,m.jsx)(a0,{action:"edit",productId:e.product,initialValues:e})]})};try{a1.displayName||(a1.displayName="PricingEditPage")}catch{}let a2=()=>{let e=(0,R.B)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t_.A,{sx:{mb:3},children:[(0,m.jsx)(t_.A.Item,{href:z.tl.STAFFTOOLS_PRODUCTS,children:"Products"}),(0,m.jsx)(t_.A.Item,{href:`${z.tl.STAFFTOOLS_PRODUCTS}/${e.productId}`,sx:{textTransform:"capitalize"},children:e.productId}),(0,m.jsx)(t_.A.Item,{selected:!0,children:"New SKU pricing"})]}),(0,m.jsx)(a0,{action:"create",productId:e.productId})]})};try{a2.displayName||(a2.displayName="PricingNewPage")}catch{}var a3=s(54392);let a5={width:"100%",borderWidth:1,borderStyle:"solid",borderColor:"border.default",borderRadius:2},a4={p:3,fontSize:16,borderBottomColor:"border.default",borderBottomStyle:"solid"};function a6(){let{products:e}=(0,R.B)(),t=(0,U.Z)();return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"Subhead",children:[(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:"Products"}),(0,m.jsx)(P.Q,{onClick:()=>{t(z.tl.STAFFTOOLS_NEW_PRODUCT)},children:"New product"})]}),(0,m.jsx)("div",{className:"Box mb-4 rounded-2",children:(0,m.jsxs)(I.A,{className:"Box d-flex flex-row flex-items-center gap-2",sx:{p:3,fontSize:16},children:[(0,m.jsx)("div",{className:"flex-1 d-flex gap-2",children:(0,m.jsx)(k.A,{sx:{fontWeight:"semibold"},children:"Product Audit Logs"})}),(0,m.jsx)(_.A,{href:'/stafftools/audit_log?query=webevents+%7C+where+action+%3D%3D+"billing.sku_update"+or+action+%3D%3D+"billing.sku_create"',children:"View SKU change related events"})]})}),e?.length>0&&(0,m.jsx)(I.A,{sx:a5,"data-testid":"products-table",children:e?.map((t,s)=>m.jsx(I.A,{sx:{...a4,borderBottomWidth:s===e.length-1?0:1},children:m.jsx(_.A,{href:`/stafftools/billing/products/${t.name}`,children:t.friendlyProductName})},t.name))})]})}try{a6.displayName||(a6.displayName="ProductsPage")}catch{}function a9({pricingDetails:e}){let[t,s]=(0,y.useState)(!1),a=(0,y.useRef)(null),i=(0,tc.Zp)(),r=`webevents%0D%0A%7C+where+data.sku%3D%3D"${e.sku}"%0D%0A`;return(0,m.jsxs)("div",{"data-testid":"pricing-details-list-dialog-container",children:[(0,m.jsx)(P.Q,{sx:{p:3,fontSize:16},variant:"invisible",onClick:()=>s(!0),children:e.sku.replace(/_/g," ")}),t&&(0,m.jsx)(ew.l,{onClose:()=>s(!1),title:e.sku.replace(/_/g," "),subtitle:(0,m.jsx)(_.A,{href:`/stafftools/audit_log?query=${r}`,children:"View SKU related events"}),returnFocusRef:a,"aria-labelledby":"header",sx:{overflowY:"auto"},footerButtons:[{content:"Edit",onClick:()=>i(`${z.tl.STAFFTOOLS_PRODUCTS}/${e.product}/pricings/${e.sku}/edit`),sx:{mr:2}}],children:(0,m.jsx)(I.A,{sx:{p:Y.Kz.StandardPadding},children:(0,m.jsxs)("ul",{className:"mt-0 pt-0",children:[(0,m.jsxs)(I.A,{as:"li",sx:{display:"flex",flexDirection:"row",alignItems:"center"},"data-testid":"pricing-sku",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Pricing SKU:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:e.sku})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-friendly-name",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Pricing friendly name:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:e.friendlyName})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-product",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Product:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:e.product})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-public-repo",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Free for Public Repositories:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:String(e.freeForPublicRepos)})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-price",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Price:"}),(0,m.jsxs)(k.A,{sx:{fontWeight:"bold"},children:["$",String(e.price)]})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-unit-type",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Unit type:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:String(e.unitType)})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-meter-type",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Meter type:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:String(e.meterType)})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-effective-at",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Effective at:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:new Date(1e3*e.effectiveAt).toLocaleString()})]}),(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-azure-id",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Azure meter ID:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold"},children:String(e.azureMeterId)})]}),e.effectiveDatePrices&&e.effectiveDatePrices.length>0&&(0,m.jsxs)(I.A,{as:"li",sx:{...Y.Of,mt:"6px"},"data-testid":"pricing-historical-prices",children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Historical prices:"}),(0,m.jsx)(k.A,{sx:{fontWeight:"bold",width:"60%"},children:e.effectiveDatePrices&&e.effectiveDatePrices.map((e,t)=>(0,m.jsxs)("div",{children:[(0,m.jsxs)(I.A,{sx:{display:"flex",mt:"6px"},"data-testid":`pricing-start-date-${t}`,children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Start date:"}),(0,m.jsx)("span",{children:e.startDate})]}),(0,m.jsxs)(I.A,{sx:{display:"flex",mt:"6px"},"data-testid":`pricing-end-date-${t}`,children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"End date:"}),(0,m.jsx)("span",{children:e.endDate})]}),(0,m.jsxs)(I.A,{sx:{display:"flex",mt:"6px"},"data-testid":`pricing-date-price-${t}`,children:[(0,m.jsx)(k.A,{sx:{flex:"auto",overflow:"auto"},children:"Price:"}),(0,m.jsx)("span",{children:e.price})]}),(0,m.jsx)("br",{})]},t))})]})]})})})]})}try{a9.displayName||(a9.displayName="PricingDetailsDialog")}catch{}function a7(){let{product:e}=(0,R.B)(),{pricings:t}=e,s=(0,U.Z)(),a=t?.sort((e,t)=>e.friendlyName.localeCompare(t.friendlyName,"en",{numeric:!0,sensitivity:"base"})),[i,r]=(0,y.useState)(!1),[n,l]=(0,y.useState)(1),[o,d]=(0,y.useState)(a?Math.ceil(a.length/10):1),[c,u]=(0,y.useState)(a?.slice(0,10)),[h,p]=(0,y.useState)(""),g=(0,y.useCallback)(()=>{let e=a?.filter(e=>e.friendlyName.toLowerCase().includes(h.toLocaleLowerCase()));u(e?.slice(0,10)),l(1),d(e?Math.ceil(e.length/10):1)},[h,a]);return(0,y.useEffect)(()=>{r("true"===localStorage.getItem("updatedSKUs"))},[]),(0,m.jsxs)("div",{children:[(0,m.jsxs)(t_.A,{children:[(0,m.jsx)(t_.A.Item,{href:"/stafftools/billing/products",children:"Products"}),(0,m.jsx)(t_.A.Item,{selected:!0,children:e?.friendlyProductName})]}),i&&(0,m.jsx)(I.A,{sx:{mb:2,mt:2},children:(0,m.jsx)(a3.l,{title:"Warning",onDismiss:()=>{r(!1),localStorage.setItem("updatedSKUs","false")},variant:"warning",description:(0,m.jsxs)(m.Fragment,{children:["SKU edits are not replicated to all stamps. To replicate changes, follow"," ",(0,m.jsx)(_.A,{inline:!0,href:"https://github.com/github/gitcoin/blob/main/docs/playbook/howto/replicate_sku_changes_to_stamps.md",children:"this playbook"}),"."]})})}),(0,m.jsxs)(I.A,{className:"Subhead",sx:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(N.A,{as:"h2",className:"Subhead-heading",sx:Y.vd,children:e?.friendlyProductName}),(0,m.jsx)(P.Q,{sx:{ml:"auto"},onClick:()=>s(`${z.tl.STAFFTOOLS_PRODUCTS}/${e.name}/edit`),children:"Edit"})]}),(0,m.jsx)(I.A,{sx:{...a5,marginBottom:"16px"},children:(0,m.jsxs)(I.A,{sx:{p:3,fontSize:16},children:[(0,m.jsxs)("span",{children:["Product ID: ",e?.name]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["Zuora usage identifier: ",e?.zuoraUsageIdentifier]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["SKU count: ",t?.length||0]})]})}),(0,m.jsxs)("div",{className:"Subhead",children:[(0,m.jsx)(N.A,{as:"h3",className:"Subhead-heading",sx:Y.vd,children:"SKU pricings"}),(0,m.jsx)(P.Q,{onClick:()=>s(`${e.name}/pricings/new`),children:"New SKU pricing"})]}),(0,m.jsxs)("div",{className:"Subhead",children:[(0,m.jsx)(N.A,{as:"h3",className:"Subhead-heading",sx:Y.vd,children:"Search SKU"}),(0,m.jsx)(ea.A,{sx:{width:"50%",mr:2},onChange:e=>p(e.target.value),"data-testid":"search-input","aria-label":"Search SKU",name:"search",placeholder:"Find a SKU...",onKeyDown:e=>{"Enter"===e.key&&g()}}),(0,m.jsx)(P.Q,{onClick:()=>g(),children:"Search"})]}),c&&c?.length>0&&(0,m.jsxs)(I.A,{sx:a5,"data-testid":"pricings-table",children:[c?.map((e,t)=>m.jsx(I.A,{sx:{...a4,borderBottomWidth:t===c.length-1?0:1},children:m.jsx(a9,{pricingDetails:e})},e.friendlyName)),a&&a.length>10&&(0,m.jsx)(eO.A,{pageCount:o,currentPage:n,onPageChange:(e,t)=>{a&&a.length>0&&(h?u(a?.filter(e=>e.friendlyName.toLowerCase().includes(h.toLocaleLowerCase())).slice((t-1)*10,10*t)):u(a.slice((t-1)*10,10*t))),e.preventDefault(),l(t)}})]})]})}try{a7.displayName||(a7.displayName="ProductDetailsPage")}catch{}let a8=async e=>{let t=await (0,e5.lS)(z.tl.STAFFTOOLS_PRODUCTS,{method:"POST",body:e});return{...await t.json(),statusCode:t.status}},ie=async e=>{let t=await (0,e5.lS)(`${z.tl.STAFFTOOLS_PRODUCTS}/${e.name}`,{method:"PUT",body:e});return{...await t.json(),statusCode:t.status}},it=({action:e,initialValues:t})=>{let[s,a]=(0,y.useState)(t?.name||""),[i,r]=(0,y.useState)(t?.friendlyProductName||""),[n,l]=(0,y.useState)(t?.zuoraUsageIdentifier||""),[o,d]=(0,y.useState)(!1),{addToast:c}=(0,F.Y6)(),u=(0,U.Z)(),h=(0,y.useRef)(null),p="create"===e?"Create a new product":`Update ${t?.friendlyProductName}`,g="create"===e?"Product added!":"Product updated!",x=[s,i,n],f=e=>{c({type:"error",message:e,role:"alert"})},j=e=>{c({type:"success",message:e,icon:(0,m.jsx)(D.CheckCircleIcon,{}),role:"status"}),u(z.tl.STAFFTOOLS_PRODUCTS)},A=async()=>{d(!1);try{let{error:e}=await a8({name:s,friendlyProductName:i,zuoraUsageIdentifier:n});e?f(e):j(g)}catch{f(z.Sr.CREATE_PRODUCT_ERROR)}},b=async()=>{d(!1);try{let{error:e}=await ie({name:s,friendlyProductName:i,zuoraUsageIdentifier:n});e?f(e):j(g)}catch{f(z.Sr.UPDATE_PRODUCT_ERROR)}};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(I.A,{sx:{borderWidth:1,borderStyle:"solid",borderColor:"border.default",borderRadius:2},children:[(0,m.jsx)(I.A,{sx:{bg:"canvas.subtle",p:3,mb:2,borderRadius:1},children:(0,m.jsx)(N.A,{as:"h2",sx:{fontSize:2},children:p})}),(0,m.jsxs)(I.A,{sx:{p:2,m:2},children:[(0,m.jsxs)(es.A,{sx:{my:2},disabled:"edit"===e,children:[(0,m.jsx)(es.A.Label,{children:"Name"}),(0,m.jsx)(ea.A,{"aria-label":"Name",name:"name",value:s,onChange:e=>a(e.target.value)})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Friendly product name"}),(0,m.jsx)(ea.A,{"aria-label":"Friendly product name",name:"friendlyProductName",value:i,onChange:e=>r(e.target.value)})]}),(0,m.jsxs)(es.A,{sx:{my:3},children:[(0,m.jsx)(es.A.Label,{children:"Zuora usage identifier"}),(0,m.jsx)(ea.A,{"aria-label":"Zuora usage identifier",name:"zuoraUsageIdentifier",value:n,onChange:e=>l(e.target.value)})]}),(0,m.jsx)(P.Q,{onClick:()=>{x.some(e=>!e)?f(z.Sr.REQUIRED_FIELD_ERROR):d(!0)},sx:{my:2},children:"create"===e?"Create product":"Edit product"})]})]}),(0,m.jsxs)(T.A,{returnFocusRef:h,isOpen:o,onDismiss:()=>d(!1),children:[(0,m.jsx)(T.A.Header,{children:"Are you sure?"}),(0,m.jsxs)(I.A,{sx:{p:3},children:[(0,m.jsx)("span",{children:`${"create"===e?"This will create a new product.":"This will update this product."} Are you sure you want to continue?`}),(0,m.jsxs)(I.A,{sx:{display:"flex",mt:3,justifyContent:"flex-end"},children:[(0,m.jsx)(P.Q,{onClick:"create"===e?A:b,sx:{mr:1},variant:"primary",children:"Continue"}),(0,m.jsx)(P.Q,{onClick:()=>d(!1),children:"Cancel"})]})]})]})]})};try{it.displayName||(it.displayName="ProductForm")}catch{}let is=()=>{let{product:e}=(0,R.B)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t_.A,{sx:{mb:3},children:[(0,m.jsx)(t_.A.Item,{href:z.tl.STAFFTOOLS_PRODUCTS,children:"Products"}),(0,m.jsx)(t_.A.Item,{selected:!0,children:"Update product"})]}),(0,m.jsx)(it,{initialValues:e,action:"edit"})]})};try{is.displayName||(is.displayName="ProductEditPage")}catch{}let ia=()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t_.A,{sx:{mb:3},children:[(0,m.jsx)(t_.A.Item,{href:z.tl.STAFFTOOLS_PRODUCTS,children:"Products"}),(0,m.jsx)(t_.A.Item,{selected:!0,children:"New product"})]}),(0,m.jsx)(it,{action:"create"})]});try{ia.displayName||(ia.displayName="ProductNewPage")}catch{}let ii=[(0,h.a)({path:C.UE.fullPath,Component:ao}),(0,h.a)({path:C.i.fullPath,Component:au}),(0,h.a)({path:C.Px.fullPath,Component:to}),(0,h.a)({path:C.Jj.fullPath,Component:eZ}),(0,h.a)({path:C.vy.fullPath,Component:eY}),(0,h.a)({path:C.pu.fullPath,Component:tN}),(0,h.a)({path:C.Gu.fullPath,Component:tP}),(0,h.a)({path:C.R8.fullPath,Component:tb}),(0,h.a)({path:C.zn.fullPath,Component:tA}),(0,h.a)({path:C.GO.fullPath,Component:au}),(0,h.a)({path:C.tL.fullPath,Component:aD}),(0,h.a)({path:C.pO.fullPath,Component:aY}),(0,h.a)({path:C.gU.fullPath,Component:ao}),(0,h.a)({path:C.fp.fullPath,Component:tN}),(0,h.a)({path:C.fj.fullPath,Component:to}),(0,h.a)({path:C.rk.fullPath,Component:eY}),(0,h.a)({path:C.cD.fullPath,Component:tP}),(0,h.a)({path:C.n.fullPath,Component:ay})],ir=[(0,h.a)({path:C.cK.fullPath,Component:ao}),(0,h.a)({path:C.kP.fullPath,Component:au}),(0,h.a)({path:C.Fc.fullPath,Component:to}),(0,h.a)({path:C.LQ.fullPath,Component:eZ}),(0,h.a)({path:C.zU.fullPath,Component:eY}),(0,h.a)({path:C.ZQ.fullPath,Component:tN}),(0,h.a)({path:C.Jm.fullPath,Component:tb}),(0,h.a)({path:C.tc.fullPath,Component:tA})],il=[(0,h.a)({path:C.CX.fullPath,Component:ao}),(0,h.a)({path:C.OX.fullPath,Component:au}),(0,h.a)({path:C.PF.fullPath,Component:to}),(0,h.a)({path:C.pp.fullPath,Component:eZ}),(0,h.a)({path:C.$.fullPath,Component:eY}),(0,h.a)({path:C.N4.fullPath,Component:tN}),(0,h.a)({path:C.d.fullPath,Component:tb}),(0,h.a)({path:C.pe.fullPath,Component:tA})],io=[(0,h.a)({path:C.$W.fullPath,Component:a6}),(0,h.a)({path:C._r.fullPath,Component:a7}),(0,h.a)({path:C.$c.fullPath,Component:ia}),(0,h.a)({path:C.rW.fullPath,Component:is}),(0,h.a)({path:C.Uo.fullPath,Component:a2}),(0,h.a)({path:C.iR.fullPath,Component:a1})],id=[(0,h.a)({path:C.jS.fullPath,Component:aj}),(0,h.a)({path:C.U2.fullPath,Component:aI})];(0,p.Q)("billing-app",()=>({App:v,routes:[...ii,...ir,...il,...io,...id]}))},42415:(e,t,s)=>{s.d(t,{DX:()=>i,FA:()=>l,Hf:()=>a,Jw:()=>n,X_:()=>r,dV:()=>d,ne:()=>o,oQ:()=>c,tR:()=>u});var a,i,r,n,l,o,d,c,u,h=s(61148);!function(e){e[e.NoBillingTarget=0]="NoBillingTarget",e[e.Zuora=1]="Zuora",e[e.Azure=2]="Azure"}(a||(a={})),function(e){e.Business="Business",e.Organization="Organization",e.User="User"}(i||(i={})),function(e){e.INIT="init",e.IDLE="idle",e.LOADING="loading",e.ERROR="error"}(r||(r={})),function(e){e[e.NONE=h.IN]="NONE",e[e.ORG=h.IE]="ORG",e[e.PRODUCT=h.vf]="PRODUCT",e[e.REPO=h.iF]="REPO",e[e.SKU=h.hL]="SKU",e[e.COSTCENTER=h.ir]="COSTCENTER"}(n||(n={})),function(e){e[e.THIS_HOUR=1]="THIS_HOUR",e[e.TODAY=2]="TODAY",e[e.THIS_MONTH=3]="THIS_MONTH",e[e.THIS_YEAR=4]="THIS_YEAR",e[e.LAST_MONTH=5]="LAST_MONTH",e[e.LAST_YEAR=6]="LAST_YEAR",e[e.DEFAULT=3]="DEFAULT"}(l||(l={})),function(e){e.REPO="repo",e.ORG="org"}(o||(o={})),function(e){e.NoDiscountTarget="NoDiscountTarget",e.SKU="SkuDiscount",e.Product="ProductDiscount",e.Repository="RepoDiscount",e.Organization="OrgDiscount",e.Enterprise="EnterpriseDiscount"}(d||(d={})),function(e){e.NoDiscountType="none",e.FixedAmount="fixed-amount",e.Percentage="percentage"}(c||(c={})),function(e){e.ENTERPRISE="enterprise",e.ORGANIZATION="org",e.REPOSITORY="repo",e.SKU_ACTIONS_MINUTES="actions_minutes",e.SKU_ACTIONS_STORAGE="actions_storage",e.SKU_CFB_SEATS="copilot",e.SKU_GHAS_SEATS="ghas_seats",e.SKU_GHEC_SEATS="ghec_seats",e.SKU_LFS_BANDWIDTH="lfs_bandwidth",e.SKU_LFS_STORAGE="lfs_storage",e.SKU_PACKAGES_BANDWIDTH="packages_bandwidth",e.SKU_PACKAGES_STORAGE="packages_storage",e.PUBLIC_REPO="public_repo",e.UNSUPPORTED="unsupported"}(u||(u={}))},99525:(e,t,s)=>{s.d(t,{Y1:()=>v,yd:()=>C,nP:()=>d,pm:()=>R});var a=s(55293),i=s(54156),r=s(605),n=s(92032),l=s(61148),o=s(42415);let d=function({filters:e}){let[t,s]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,h]=(0,a.useState)(o.X_.INIT),{addToast:p}=(0,i.Y6)();return(0,r.Ay)({route:n.H,reqParams:{customer_id:e.customer.id,period:(e.period?.type??o.FA.DEFAULT).toString(),group:(e.group?.type??l.IE).toString()},onStart:()=>{s([]),c([]),h(o.X_.LOADING)},onSuccess:e=>{s(e.data.usage),c(e.data.other??[]),h(o.X_.IDLE)},onError:()=>{h(o.X_.ERROR),p({type:"error",message:l.Sr.QUERY_USAGE_ERROR})}}),{usage:t,otherUsage:d,requestState:u}};var c=s(26666),u=s(15252),h=s(19972),p=s(60491),m=s(49426);let g=["var(--data-green-color-emphasis, var(--data-green-color))","var(--data-blue-color-emphasis, var(--data-blue-color))","var(--data-orange-color-emphasis, var(--data-orange-color))","var(--data-pink-color-emphasis, var(--data-pink-color))","var(--data-yellow-color-emphasis, var(--data-yellow-color))","var(--data-red-color-emphasis, var(--data-red-color))","var(--data-purple-color-emphasis, var(--data-purple-color))","var(--data-auburn-color-emphasis, var(--data-auburn-color))","var(--data-teal-color-emphasis, var(--data-teal-color))"];function x(e,t,s){var a,i;return t===o.Jw.ORG||t===o.Jw.REPO?{x:b(e.usageAt,s),y:A(e.billedAmount),custom:{grossAmount:e.billedAmount,formattedDiscountAmount:"N/A",formattedGrossAmount:S(e.billedAmount),formattedTotalAmount:"N/A"}}:{x:b(e.usageAt,s),y:A(e.billedAmount),custom:{discountAmount:e.discountAmount??"N/A",grossAmount:e.billedAmount,totalAmount:e.totalAmount??"N/A",formattedDiscountAmount:(a=e.discountAmount??"N/A",`${"number"==typeof a?(0,p.W)(a):"N/A"}`),formattedGrossAmount:S(e.billedAmount),formattedTotalAmount:(i=e.totalAmount??"N/A",`${"number"==typeof i?(0,p.W)(i):"N/A"}`)}}}let f=(e,t)=>e in t,y=(e,t)=>e in t;function j(e,t,s,a){return Object.values(e.reduce((e,i)=>{let r=x(i,t,a),n="";if((0,m.y)(i)&&f(s,i)?n=i[s]:(0,m.r)(i)&&y(s,i)&&(n="repo"===s?`${i.org.name}/${i[s].name}`:i[s].name),!e[n]){let t=g[Object.keys(e).length%g.length];e[n]={color:t,data:[],name:`${n}`,type:"areaspline",lineWidth:2,product:(0,m.y)(i)?i.product:void 0}}return e[n]?.data.push(r),e},{}))}function A(e){return e?+e.toFixed(2):0}function b(e,t){switch(t?.type){case o.FA.THIS_HOUR:return new Date(e).setUTCSeconds(0,0);case o.FA.TODAY:return new Date(e).setUTCMinutes(0,0,0);case o.FA.THIS_MONTH:case o.FA.LAST_MONTH:return new Date(e).setUTCHours(0,0,0,0);case o.FA.THIS_YEAR:case o.FA.LAST_YEAR:return new Date(new Date(e).setUTCDate(1)).setUTCHours(0,0,0,0);default:return new Date(e).getTime()}}function S(e){return`${(0,p.W)(e)}`}let v=function({usage:e,otherUsage:t,filters:s}){return a.useMemo(()=>{let a=s.period?.type??o.FA.DEFAULT;return{data:function(e,t,s=[]){var a,i,r;let n,d,h,p;let m={datasets:[],startDate:e[0]?Number(e[0].usageAt):0};switch(t.group?.type){case o.Jw.ORG:m.datasets=j(e,t.group?.type,"org",t.period);break;case o.Jw.REPO:m.datasets=j(e,t.group?.type,"repo",t.period);break;case o.Jw.SKU:m.datasets=j(e,t.group?.type,"friendlySkuName",t.period);break;case o.Jw.PRODUCT:m.datasets=j(e,t.group?.type,"product",t.period);break;default:m.datasets=(a=o.Jw.NONE,i=t.period,[{color:"var(--data-green-color-emphasis, var(--data-green-color))",data:e.map(e=>x(e,a,i)),name:"Usage",type:"areaspline",lineWidth:2}])}s.length>0&&m.datasets.push((r=t.period,{color:"var(--data-gray-color-emphasis, var(--data-gray-color))",data:s.map(e=>({x:b(e.usageAt,r),y:A(e.billedAmount),custom:{grossAmount:e.billedAmount,formattedDiscountAmount:"N/A",formattedGrossAmount:S(e.billedAmount),formattedTotalAmount:"N/A"}})),name:"All other",type:"areaspline",lineWidth:2}));let g=new Date;switch(t.period?.type){case o.FA.THIS_HOUR:n=0,d=g.getMinutes(),h=(e,t)=>e.setMinutes(t),p=e=>e.getMinutes();break;case o.FA.TODAY:n=0,d=g.getUTCHours(),h=(e,t)=>{e.setUTCHours(t)},p=e=>e.getUTCHours();break;case o.FA.THIS_YEAR:n=0,d=g.getUTCMonth(),h=(e,t)=>e.setUTCMonth(t),p=e=>e.getUTCMonth();break;case o.FA.LAST_YEAR:n=0,d=11,h=(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()-1),e.setUTCMonth(t)},p=e=>e.getUTCMonth();break;case o.FA.LAST_MONTH:g.setUTCDate(0),n=1,d=g.getUTCDate(),h=(e,t)=>{e.setUTCMonth(e.getUTCMonth()-1),e.setUTCDate(t)},p=e=>e.getUTCDate();break;case o.FA.THIS_MONTH:default:n=1,d=g.getUTCDate(),h=(e,t)=>e.setUTCDate(t),p=e=>e.getUTCDate()}for(let e of m.datasets){let s=e.product&&Object.keys(l.jh).includes(e.product),a=[];if(e.data.length>0){let i=0;for(let r of(0,u.A)(n,d+1)){let n=e.data[i],l=e.data[i-1];if(n){let o=new Date(n.x),d=new Date,c=p(o);if(r<c)h(d,r),a.push({x:b(d,t.period),y:l?A(l.y):0,custom:{grossAmount:0,discountAmount:0,totalAmount:0,formattedDiscountAmount:"N/A",formattedGrossAmount:"N/A",formattedTotalAmount:"N/A"}});else if(r===c){if(s&&l&&n.y<l.y)n.y=A(l.y),n.custom.discountAmount=l.custom.discountAmount,n.custom.totalAmount=l.custom.totalAmount;else if(l){let e=A(n.y+l.y);n.y=e}h(d,r),n.x=b(d,t.period),a.push(n),i<e.data.length-1&&i++}else h(d,r),a.push({x:b(d,t.period),y:A(n.y),custom:{grossAmount:0,discountAmount:0,totalAmount:0,formattedDiscountAmount:"N/A",formattedGrossAmount:"N/A",formattedTotalAmount:"N/A"}})}}e.data=a}}return m.datasets.sort((e,t)=>(0,c.A)(e.data)>=(0,c.A)(t.data)?-1:1),m}((0,h.g)(e,s.group?.type??l.Jt,a).sort(h.n),s,t)}},[e])},C=function({filters:e}){let[t,s]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,h]=(0,a.useState)(o.X_.INIT),{addToast:p}=(0,i.Y6)(),m=()=>{let t=e.group?.type??l.Jt,s=e.period?.type===o.FA.THIS_HOUR;return(e.searchQuery.startsWith("org:")||e.searchQuery.startsWith("repo:"))&&t===l.IN&&!s?l.hL:t};(0,r.Ay)({route:[o.Jw.ORG,o.Jw.REPO].includes(m())?n.H:n.Sv,reqParams:{customer_id:e.customer.id,group:m().toString(),period:(e.period?.type??o.FA.DEFAULT).toString(),product:e.product?.toString()??"",query:e.searchQuery},onStart:()=>{s([]),c([]),h(o.X_.LOADING)},onSuccess:e=>{s(e.data.usage),c(e.data.other??[]),h(o.X_.IDLE)},onError:()=>{h(o.X_.ERROR),p({type:"error",message:l.Sr.QUERY_USAGE_ERROR})}});let g=[];if([o.Jw.ORG,o.Jw.REPO].includes(m()))for(let e of t)g.push(e);else for(let e of t){let t={appliedCostPerQuantity:e.appliedCostPerQuantity,billedAmount:e.grossAmount,discountAmount:e.discountAmount,quantity:e.quantity,fullQuantity:e.fullQuantity,usageAt:e.usageAt,totalAmount:e.netAmount,sku:e.sku,friendlySkuName:e.friendlySkuName,product:e.product,unitType:e.unitType};g.push(t)}return{netUsage:g,otherUsage:d,requestState:u}},R=function({filters:e,useUsageTableDataEndpoint:t}){let[s,i]=(0,a.useState)([]),[d,c]=(0,a.useState)(o.X_.INIT),u=()=>{let t=e.group?.type??l.Jt,s=e.period?.type===o.FA.THIS_HOUR;return(e.searchQuery.startsWith("org:")||e.searchQuery.startsWith("repo:"))&&t===l.IN&&!s?l.hL:t};return(0,r.Ay)({route:n.Cf,reqParams:{customer_id:e.customer.id,group:u().toString(),period:(e.period?.type??o.FA.DEFAULT).toString(),product:e.product?.toString()??"",query:e.searchQuery},noop:!t,onStart:()=>{i([]),c(o.X_.LOADING)},onSuccess:e=>{[o.Jw.ORG,o.Jw.REPO].includes(u())?i(e.data.usage):i(e.data.usage.map(e=>({appliedCostPerQuantity:e.appliedCostPerQuantity,billedAmount:e.grossAmount,discountAmount:e.discountAmount,quantity:e.quantity,fullQuantity:e.fullQuantity,usageAt:e.usageAt,totalAmount:e.netAmount,sku:e.sku,friendlySkuName:e.friendlySkuName,product:e.product,unitType:e.unitType}))),c(o.X_.IDLE)},onError:()=>{c(o.X_.ERROR)}}),{usageTableData:s,requestState:d}}},605:(e,t,s)=>{s.d(t,{Ay:()=>o,aG:()=>a,p0:()=>l});var a,i=s(55293),r=s(28784),n=s(25601);async function l(e,t,s){let a={method:e};s&&(a={...a,body:s});let i=await (0,r.lS)(t,a);return{data:await i.json(),ok:i.ok,statusCode:i.status}}function o({route:e,reqParams:t,noop:s=!1,onStart:a=()=>{},onSuccess:r=()=>{},onError:o=()=>{}}){let{path:d}=(0,n.A)(e,{},t);void 0===d&&o("Invalid route"),(0,i.useEffect)(()=>{if(s)return()=>{};let e=async()=>{let e=await l("GET",d);e.ok?r(e):o(e)};a(),e()},[d])}!function(e){e.DELETE="DELETE",e.GET="GET",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT"}(a||(a={}))},25601:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(55293),i=s(47767),r=s(97156),n=s(92032);function l(e,t,s){let l=r.fV.pathname,o=(0,i.g)(),d=()=>{let a=n.Kf(l)?.childRoute(e.fullPath).generateFullPath({...o,...t})??"";if((0,n.wF)(a)||(a=e.fullPath),s){let e=new URLSearchParams(s).toString();a=`${a}?${e}`}return a},[c,u]=(0,a.useState)(d());return(0,a.useEffect)(()=>{u(d())},[l,e,o,t,s]),{path:c}}},92032:(e,t,s)=>{s.d(t,{fY:()=>x,f:()=>A,Bb:()=>v,KI:()=>w,L$:()=>N,z$:()=>y,tJ:()=>C,Px:()=>$,pu:()=>M,vy:()=>q,zn:()=>X,TV:()=>d,Jj:()=>Q,R8:()=>V,UE:()=>z,i:()=>L,Gu:()=>G,Sv:()=>u,h6:()=>f,$q:()=>S,uj:()=>T,Fc:()=>eu,ZQ:()=>eg,zU:()=>ep,tc:()=>ej,LQ:()=>eh,Jm:()=>ef,cK:()=>el,kP:()=>eo,e0:()=>E,yM:()=>O,zS:()=>U,_s:()=>l,H:()=>h,k2:()=>F,jS:()=>e1,U2:()=>e2,rW:()=>e6,n:()=>eY,fj:()=>eV,fp:()=>eM,tL:()=>eq,rk:()=>eH,pO:()=>eW,gU:()=>eL,GO:()=>eK,cD:()=>eG,$c:()=>e5,A$:()=>tt,$W:()=>e3,iR:()=>te,Uo:()=>e7,_r:()=>e4,vY:()=>p,OU:()=>j,yG:()=>R,wG:()=>m,rt:()=>I,Ek:()=>c,Cf:()=>g,PF:()=>eN,N4:()=>eP,$:()=>ek,pe:()=>eF,pp:()=>e_,d:()=>eO,CX:()=>ev,OX:()=>eC,Ig:()=>b,wF:()=>ti,Kf:()=>tr}),s(55293);var a=s(45588);function i(e){return{baseRoute:function t(s){let i=`${e}${s}`,r=`${s}/*`,n=`${i}/*`;return{path:s,pathWithChildPaths:r,fullPath:i,fullPathWithChildPaths:n,generatePath:e=>(0,a.tW)(s,e),generateFullPath:e=>(0,a.tW)(i,e),matchPath:e=>(0,a.B6)(s,e),matchFullPath:e=>(0,a.B6)(i,e),matchPathOrChildPaths:e=>(0,a.B6)(r,e),matchFullPathOrChildPaths:e=>(0,a.B6)(n,e),childRoute:e=>t(`${s}${e}`)}}("")}}let{baseRoute:r}=i(""),n=r.childRoute("/billing"),l=r.childRoute("/people"),o=r.childRoute("/settings"),d=r.childRoute("/enterprise_licensing"),c=n.childRoute("/usage"),u=n.childRoute("/net_usage"),h=c.childRoute("/repo"),p=c.childRoute("/total"),m=n.childRoute("/usage_chart"),g=n.childRoute("/usage_table"),x=n.childRoute("/budgets"),f=x.childRoute("/new"),y=x.childRoute("/:budgetUUID/edit"),j=x.childRoute("/:budgetUUID"),A=n.childRoute("/cost_centers"),b=A.childRoute("/:costCenterUUID"),S=A.childRoute("/new"),v=A,C=A.childRoute("/:costCenterUUID/edit"),R=b,w=b,N=n.childRoute("/discounts"),_=n.childRoute("/invoices"),k=n.childRoute("/azure_emissions"),I=n.childRoute("/usage_report"),P=o.childRoute("/billing"),T=P.childRoute("/one_time_payment"),O=n.childRoute("/payment_history"),E=n.childRoute("/past_invoices"),F=P.childRoute("/invoices/:invoiceNumber"),U=P.childRoute("/invoices/:invoiceNumber/payment_method"),{baseRoute:D}=i("/enterprises/:business"),z=D.childRoute(n.fullPath),L=D.childRoute(c.fullPath),K=D.childRoute(h.fullPath),B=D.childRoute(p.fullPath),$=D.childRoute(x.fullPath),Q=D.childRoute(f.fullPath),q=D.childRoute(y.fullPath),W=D.childRoute(j.fullPath),M=D.childRoute(A.fullPath),G=D.childRoute(b.fullPath),V=D.childRoute(S.fullPath),H=D.childRoute(v.fullPath),X=D.childRoute(C.fullPath),Y=D.childRoute(R.fullPath),J=D.childRoute(w.fullPath),Z=D.childRoute(l.fullPath),ee=D.childRoute(I.fullPath),et=D.childRoute(T.fullPath),es=D.childRoute(d.fullPath),ea=D.childRoute(O.fullPath),ei=D.childRoute(F.fullPath),er=D.childRoute(U.fullPath),{baseRoute:en}=i("/organizations/:organization/settings"),el=en.childRoute(n.fullPath),eo=en.childRoute(c.fullPath),ed=en.childRoute(h.fullPath),ec=en.childRoute(p.fullPath),eu=en.childRoute(x.fullPath),eh=en.childRoute(f.fullPath),ep=en.childRoute(y.fullPath),em=en.childRoute(j.fullPath),eg=en.childRoute(A.fullPath),ex=en.childRoute(b.fullPath),ef=en.childRoute(S.fullPath),ey=en.childRoute(v.fullPath),ej=en.childRoute(C.fullPath),eA=en.childRoute(R.fullPath),eb=en.childRoute(w.fullPath),{baseRoute:eS}=i("/settings"),ev=eS.childRoute(n.fullPath),eC=eS.childRoute(c.fullPath),eR=eS.childRoute(h.fullPath),ew=eS.childRoute(p.fullPath),eN=eS.childRoute(x.fullPath),e_=eS.childRoute(f.fullPath),ek=eS.childRoute(y.fullPath),eI=eS.childRoute(j.fullPath),eP=eS.childRoute(A.fullPath),eT=eS.childRoute(b.fullPath),eO=eS.childRoute(S.fullPath),eE=eS.childRoute(v.fullPath),eF=eS.childRoute(C.fullPath),eU=eS.childRoute(R.fullPath),eD=eS.childRoute(w.fullPath),{baseRoute:ez}=i("/stafftools/enterprises/:business"),eL=ez.childRoute(n.childRoute("/overview").fullPath),eK=ez.childRoute(c.fullPath),eB=ez.childRoute(h.fullPath),e$=ez.childRoute(u.fullPath),eQ=ez.childRoute(g.fullPath),eq=ez.childRoute(N.fullPath),eW=ez.childRoute(_.fullPath),eM=ez.childRoute(A.fullPath),eG=ez.childRoute(b.fullPath),eV=ez.childRoute(x.fullPath),eH=ez.childRoute(y.fullPath),eX=ez.childRoute(j.fullPath),eY=ez.childRoute(k.fullPath),eJ=ez.childRoute(I.fullPath),{baseRoute:eZ}=i("/stafftools/users/:user"),{baseRoute:e0}=i("/stafftools/billing"),e1=e0.childRoute("/billing_jobs"),e2=e1.childRoute("/business_organization_billing_job"),e3=e0.childRoute("/products"),e5=e3.childRoute("/new"),e4=e3.childRoute("/:product_id"),e6=e4.childRoute("/edit"),e9=e4.childRoute("/pricings"),e7=e9.childRoute("/new"),e8=e9.childRoute("/:pricing_id"),te=e8.childRoute("/edit"),tt=e0.childRoute("/pricings"),ts={ENTERPRISE_BASE_ROUTE:D,ORGANIZATION_BASE_ROUTE:en,USER_BASE_ROUTE:eS,STAFFTOOLS_ENTERPRISE_BASE_ROUTE:ez,STAFFTOOLS_USER_BASE_ROUTE:eZ},ta={ENTERPRISE_OVERVIEW_ROUTE:z,ENTERPRISE_USAGE_ROUTE:L,ENTERPRISE_REPO_USAGE_ROUTE:K,ENTERPRISE_TOTAL_USAGE_ROUTE:B,ENTERPRISE_BUDGETS_ROUTE:$,ENTERPRISE_NEW_BUDGET_ROUTE:Q,ENTERPRISE_EDIT_BUDGET_ROUTE:q,ENTERPRISE_UPSERT_BUDGET_ROUTE:W,ENTERPRISE_COST_CENTERS_ROUTE:M,ENTERPRISE_VIEW_COST_CENTER_ROUTE:G,ENTERPRISE_NEW_COST_CENTER_ROUTE:V,ENTERPRISE_CREATE_COST_CENTER_ROUTE:H,ENTERPRISE_EDIT_COST_CENTER_ROUTE:X,ENTERPRISE_UPSERT_COST_CENTER_ROUTE:Y,ENTERPRISE_DELETE_COST_CENTER_ROUTE:J,ENTERPRISE_PEOPLE_ROUTE:Z,ENTERPRISE_USAGE_REPORT_ROUTE:ee,ENTERPRISE_ONE_TIME_PAYMENT_ROUTE:et,ENTERPRISE_LICENSING_ROUTE:es,ENTERPRISE_PAYMENT_HISTORY_ROUTE:ea,ENTERPRISE_SHOW_INVOICE_ROUTE:ei,ENTERPRISE_PAY_INVOICE_ROUTE:er,ORGANIZATION_OVERVIEW_ROUTE:el,ORGANIZATION_USAGE_ROUTE:eo,ORGANIZATION_REPO_USAGE_ROUTE:ed,ORGANIZATION_TOTAL_USAGE_ROUTE:ec,ORGANIZATION_BUDGETS_ROUTE:eu,ORGANIZATION_NEW_BUDGET_ROUTE:eh,ORGANIZATION_EDIT_BUDGET_ROUTE:ep,ORGANIZATION_UPSERT_BUDGET_ROUTE:em,ORGANIZATION_COST_CENTERS_ROUTE:eg,ORGANIZATION_VIEW_COST_CENTER_ROUTE:ex,ORGANIZATION_NEW_COST_CENTER_ROUTE:ef,ORGANIZATION_CREATE_COST_CENTER_ROUTE:ey,ORGANIZATION_EDIT_COST_CENTER_ROUTE:ej,ORGANIZATION_UPSERT_COST_CENTER_ROUTE:eA,ORGANIZATION_DELETE_COST_CENTER_ROUTE:eb,USER_OVERVIEW_ROUTE:ev,USER_USAGE_ROUTE:eC,USER_REPO_USAGE_ROUTE:eR,USER_TOTAL_USAGE_ROUTE:ew,USER_BUDGETS_ROUTE:eN,USER_NEW_BUDGET_ROUTE:e_,USER_EDIT_BUDGET_ROUTE:ek,USER_UPSERT_BUDGET_ROUTE:eI,USER_COST_CENTERS_ROUTE:eP,USER_VIEW_COST_CENTER_ROUTE:eT,USER_NEW_COST_CENTER_ROUTE:eO,USER_CREATE_COST_CENTER_ROUTE:eE,USER_EDIT_COST_CENTER_ROUTE:eF,USER_UPSERT_COST_CENTER_ROUTE:eU,USER_DELETE_COST_CENTER_ROUTE:eD,STAFFTOOLS_ENTERPRISE_OVERVIEW_ROUTE:eL,STAFFTOOLS_ENTERPRISE_USAGE_ROUTE:eK,STAFFTOOLS_ENTERPRISE_REPO_USAGE_ROUTE:eB,STAFFTOOLS_ENTERPRISE_NET_USAGE_ROUTE:e$,STAFFTOOLS_ENTERPRISE_USAGE_TABLE_DATA_ROUTE:eQ,STAFFTOOLS_ENTERPRISE_COST_CENTERS_ROUTE:eM,STAFFTOOLS_ENTERPRISE_VIEW_COST_CENTER_ROUTE:eG,STAFFTOOLS_ENTERPRISE_BUDGETS_ROUTE:eV,STAFFTOOLS_ENTERPRISE_EDIT_BUDGET_ROUTE:eH,STAFFTOOLS_ENTERPRISE_UPSERT_BUDGET_ROUTE:eX,STAFFTOOLS_ENTERPRISE_DISCOUNTS_ROUTE:eq,STAFFTOOLS_ENTERPRISE_INVOICES_ROUTE:eW,STAFFTOOLS_BILLING_JOBS_ROUTE:e1,STAFFTOOLS_BUSINESS_ORGANIZATION_BILLING_JOBS_ROUTE:e2,STAFFTOOLS_PRODUCTS_ROUTE:e3,STAFFTOOLS_NEW_PRODUCT_ROUTE:e5,STAFFTOOLS_PRODUCT_SHOW_ROUTE:e4,STAFFTOOLS_EDIT_PRODUCT_ROUTE:e6,STAFFTOOLS_PRICINGS_ROUTE:tt,STAFFTOOLS_PRODUCT_PRICINGS_ROUTE:e9,STAFFTOOLS_PRODUCT_NEW_PRICING_ROUTE:e7,STAFFTOOLS_PRODUCT_PRICINGS_SHOW_ROUTE:e8,STAFFTOOLS_PRODUCT_EDIT_PRICING_ROUTE:te,STAFFTOOLS_ENTERPRISE_USAGE_REPORT_ROUTE:eJ},ti=e=>Object.values(ta).find(t=>t.matchFullPathOrChildPaths(e))??null,tr=e=>Object.values(ts).find(t=>t.matchFullPathOrChildPaths(e))??null},15927:(e,t,s)=>{s.d(t,{Y:()=>r,v:()=>i});var a=s(42415);let i=(e,t)=>{let s=new Date(e);switch(t){case a.FA.THIS_HOUR:return s.toLocaleTimeString("default",{timeZone:"UTC",hour:"numeric",minute:"2-digit"});case a.FA.TODAY:return s.toLocaleTimeString("default",{timeZone:"UTC",hour:"numeric"});case a.FA.THIS_MONTH:case a.FA.LAST_MONTH:return s.toLocaleDateString("default",{timeZone:"UTC",month:"short",day:"numeric",year:"numeric"});case a.FA.THIS_YEAR:case a.FA.LAST_YEAR:{let e=s.toLocaleDateString("default",{timeZone:"UTC",month:"short"}),t=s.getUTCFullYear();return`${e} ${t}`}default:return s.toLocaleDateString("default",{timeZone:"UTC",month:"short",day:"numeric",year:"numeric"})}},r=(e,t,s)=>{let a=new Date(e,t-1,s??1),i=n(t,"short"),r=a.getFullYear();return s?a.toLocaleDateString("default",{timeZone:"UTC",month:"short",day:"numeric",year:"numeric"}):`${i} ${r}`},n=(e,t="long")=>{let s=new Date;return s.setMonth(e-1),s.toLocaleString("default",{month:t})}},19972:(e,t,s)=>{s.d(t,{g:()=>n,n:()=>l});var a=s(49426),i=s(42415),r=s(15927);let n=(e,t,s)=>{let n=new Map;for(let l of e){let e;s&&(e=(0,r.v)(l.usageAt,s));let o=e?`${e}-`:"";(0,a.r)(l)?t===i.Jw.ORG?o+=`${l.org.name}`:t===i.Jw.REPO&&(o+=`${l.org.name}-${l.repo.name}`):(0,a.y)(l)&&(t===i.Jw.PRODUCT?o+=`${l.product}`:t===i.Jw.SKU&&(o+=`${l.product}-${l.sku}`));let d=n.get(o);d?(d.billedAmount+=l.billedAmount,d.discountAmount="number"==typeof d.discountAmount||"number"==typeof l.totalAmount?(d.discountAmount??0)+(l.discountAmount??0):void 0,d.quantity+=l.quantity,d.fullQuantity+=l.fullQuantity,d.totalAmount="number"==typeof d.totalAmount||"number"==typeof l.totalAmount?(d.totalAmount??0)+(l.totalAmount??0):void 0,n.set(o,d)):n.set(o,{...l})}return Array.from(n.values())};function l(e,t){return new Date(e.usageAt)>=new Date(t.usageAt)?1:-1}},60491:(e,t,s)=>{s.d(t,{W:()=>a});let a=(e,t=2)=>{let s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:t});return 0===e?"$0":0<e&&e<.01&&2===t?"<$0.01":s.format(e)}},19526:(e,t,s)=>{s.d(t,{Kz:()=>i,LY:()=>p,Of:()=>c,dF:()=>x,ik:()=>h,jk:()=>d,p9:()=>u,sS:()=>m,vX:()=>a,vd:()=>g});let a={PageHeadingFontSize:4,SectionHeadingFontSize:3,CardHeadingFontSize:2,FontSizeNormal:"14px",FontSizeSmall:"12px"},i={CardMargin:4,StandardPadding:3,SmallPadding:"12px"},r="solid",n="border.default",l={borderTopWidth:"1px",borderTopStyle:r,borderTopColor:n},o={...l,borderBottomWidth:"1px",borderBottomStyle:r,borderBottomColor:n,borderRightWidth:"1px",borderRightStyle:r,borderRightColor:n,borderLeftWidth:"1px",borderLeftStyle:r,borderLeftColor:n},d={p:i.StandardPadding,borderRadius:2,...o},c={display:"flex",flexDirection:"row",alignItems:"center",pt:i.SmallPadding,mt:i.SmallPadding,...l},u={flex:1},h={mb:2,fontSize:a.FontSizeNormal,fontWeight:"normal",color:"fg.default"},p={bg:"canvas.subtle",p:i.StandardPadding,borderRadius:2},m={...l,p:i.StandardPadding,"@media (max-width: 599px)":{display:"flex",flexWrap:"wrap"}},g={display:"flex",font:"var(--text-subtitle-shorthand)",fontSize:a.PageHeadingFontSize},x={textAlign:"left",borderRadius:2,"@media (min-width: 600px)":{width:"100%"},"@media (max-width: 599px)":{display:"flex",flexDirection:"column"}}},49426:(e,t,s)=>{s.d(t,{r:()=>i,y:()=>a});let a=e=>void 0!==e.sku,i=e=>void 0!==e.org},51550:(e,t,s)=>{s.d(t,{A:()=>a});let a=(e,t)=>{let s=new URL(e,window.location.origin),a=new URL(t,window.location.origin);return a.href.includes("#")&&s.host===a.host&&s.pathname===a.pathname&&s.search===a.search}},72035:(e,t,s)=>{s.d(t,{S:()=>a});let a={couldNotUpdateAssignees:"Could not update assignees",couldNotSearchAssignees:"Could not search assignees",couldNotUpdateLabels:"Could not update labels",couldNotSearchLabels:"Could not search labels",couldNotUpdateMilestone:"Could not update milestone",couldNotSearchMilestones:"Could not search milestones",couldNotUpdateIssueType:"Could not update issue type",couldNotSearchRepositories:"Could not search repositories",couldNotSearchPullRequests:"Could not search pull requests",couldNotSearchProjects:"Could not search projects",couldNotSearchBranches:"Could not search branches",noMatches:"No matches",noResults:"No results",couldNotCreateBranch:"Could not create branch",couldNotCreateLabel:"Could not create label"}},94276:(e,t,s)=>{s.d(t,{B:()=>a});let a={itemPickerRootId:"item-picker-root-id",itemPickerTestId:"item-picker-root"}},57832:(e,t,s)=>{s.d(t,{Z:()=>a});let a={activePickerOption:e=>`[data-id="${e}"] [data-is-active-descendant="activated-directly"]`}},47555:(e,t,s)=>{s.d(t,{A2:()=>d,J4:()=>o,Q3:()=>r,v8:()=>n});var a=s(59857),i=s(72035);let r={leadingVisual:a.CircleSlashIcon,text:i.S.noMatches,disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"},n={leadingVisual:a.CircleSlashIcon,text:i.S.noResults,disabled:!0,selected:void 0,key:"no-results",id:"no-results"},l=e=>{try{new URL(e)}catch(e){return!1}return new RegExp(/^.+\/issues\/\d+$/).test(e)};function o(e,t,s){let a=e.indexOf("/"),i="in:name archived:false";if(s&&(i=`${i} -repo:${s}`),a>0&&2===e.split("/").length){let t=e.split("/")[0],s=e.split("/")[1];return`${i} org:${t} ${s}`}return t?`${i} org:${t} ${e}`:`${i} ${e}`}let d=(e="",t="",s="")=>{let a=e&&`owner:${e.trim()} `,i=s&&`repo:${s.trim()} `,r=t&&` ${t.trim()}`,n=l(t),o="in:title";r&&!isNaN(Number(r))&&(o+=" in:number");let d=`${a}${i}is:issue ${o} `;return{commenters:`${d}commenter:@me${r}`,mentions:`${d}mentions:@me${r}`,assignee:`${d}assignee:@me${r}`,author:`${d}author:@me${r}`,open:`${d}state:open${r}`,resource:n?encodeURI(t):"",queryIsUrl:n}}},67726:(e,t,s)=>{s.d(t,{l:()=>a});let a=()=>void 0},61636:(e,t,s)=>{s.d(t,{$D:()=>r,KJ:()=>m,M7:()=>c,NQ:()=>o,RM:()=>f,SC:()=>n,a6:()=>i,dh:()=>l,sS:()=>p,x:()=>g,y1:()=>x,yV:()=>d});var a=s(74324);let i=10,r=5,n={archived:{name:"Archived",value:"archived",priority:10,icon:a.m4.Archived,description:"Specify archived or non-archived items only"},base:{name:"Base",value:"base",priority:i,icon:a.m4.Branch,description:"Pull Request base branch"},closed:{name:"Closed date",value:"closed",priority:i,icon:a.m4.Calendar,description:"Closing date"},comments:{name:"Comment count",value:"comments",priority:i,icon:a.m4.Comment,description:"Item comment count"},created:{name:"Creation date",value:"created",priority:i,icon:a.m4.Calendar,description:"Creation date"},draft:{name:"Draft",value:"draft",priority:i,icon:a.m4.Draft,description:"Search for draft items"},head:{name:"Head",value:"head",priority:i,icon:a.m4.Branch,description:"Head branch commit sha"},in:{name:"In",value:"in",icon:a.m4.Filter,description:"Restrict your search to the title, body, comments, or any combination of these",priority:i},interactions:{name:"Interactions count",value:"interactions",priority:i,icon:a.m4.Discussion,description:"Interaction count"},is:{name:"Is",value:"is",icon:a.m4.Apps,description:'Filter only "issues", "pulls", "open", "closed", or "draft"',priority:3},language:{name:"Code language",value:"language",priority:i,icon:a.m4.Code,description:"Code language"},linked:{name:"Linked",value:"linked",icon:a.m4.PullRequest,description:"Items linked to an issue or pull request",priority:i},merged:{name:"Merge date",value:"merged",priority:i,icon:a.m4.Calendar,description:"Merge date"},milestone:{name:"Milestone",value:"milestone",priority:i,icon:a.m4.Milestone,description:"Milestone"},no:{name:"No",value:"no",priority:i,icon:a.m4.Forbidden,description:"Filter by items without a specific metadata value"},reactions:{name:"Reaction count",value:"reactions",priority:i,icon:a.m4.Reaction,description:"Reactions count"},reason:{name:"Reason",value:"reason",priority:i,icon:a.m4.Mention,description:"Filter by item closed reason"},review:{name:"Review state",value:"review",priority:i,icon:a.m4.PullRequest,description:"Specify a review state"},sha:{name:"Commit SHA",value:"sha",priority:i,icon:a.m4.FileCode,description:"Commit SHA"},state:{name:"State",value:"state",priority:3,icon:a.m4.Draft,description:"Look for open / closed items"},status:{name:"Status",value:"status",priority:i,icon:a.m4.Draft,description:"Commit status: pending | success | failure"},team:{name:"Team",value:"team",priority:i,icon:a.m4.Team,description:"Team name"},teamReviewRequested:{name:"Team review requested",value:"team-review-requested",priority:i,icon:a.m4.Team,description:"Review requested from team"},sort:{name:"Sort",value:"sort",priority:i,icon:a.m4.Sort,description:"Sort results"},itemType:{name:"Item Type",value:"type",priority:i,icon:a.m4.Apps,description:"Specify the type of item to search for: issue or pr"},type:{name:"Type",value:"type",priority:i,icon:a.m4.Issue,description:"Specify the type of issue to search for"},updated:{name:"Update date",value:"updated",priority:i,icon:a.m4.Calendar,description:"Updated date"},repo:{name:"Repository",value:"repo",priority:1,icon:a.m4.Repo,singularItemName:"Repository",description:"Filter by repository"},org:{name:"Organization",value:"org",priority:2,icon:a.m4.Organization,singularItemName:"Organization",description:"Filter by organization"},label:{name:"Label",value:"label",priority:3,icon:a.m4.Tag,singularItemName:"Label",description:"Filter by label"},project:{name:"Project",value:"project",priority:3,icon:a.m4.Project,singularItemName:"Project",description:""}},l=[n.base,n.head,n.language,n.milestone,n.sha],o=[n.archived,n.comments,n.closed,n.created,n.draft,n.in,n.interactions,n.is,n.linked,n.merged,n.no,n.reactions,n.reason,n.review,n.sort,n.state,n.status,n.updated],d={author:{name:"Author",value:"author",icon:a.m4.Person,description:"The author of the item",priority:3},assignee:{name:"Assignee",value:"assignee",icon:a.m4.Person,description:"The assignee of the item",priority:3},involves:{name:"Involves",value:"involves",icon:a.m4.Person,description:"The user involved in the item",priority:i},mentions:{name:"Mentions",value:"mentions",icon:a.m4.Mention,description:"The user mentioned in the item",priority:i},commenter:{name:"Commenter",value:"commenter",icon:a.m4.Person,description:"Items commented on by the user",priority:i},reviewRequested:{name:"Review Requested",value:"review-requested",icon:a.m4.Person,description:"Items with review requested for the user",priority:i},reviewedBy:{name:"Reviewed By",value:"reviewed-by",icon:a.m4.Person,description:"Items reviewed by the user",priority:i},user:{name:"User",value:"user",icon:a.m4.Person,description:"Items in repositories owned by the user",priority:i},userReviewRequested:{name:"User Review Requested",value:"user-review-requested",icon:a.m4.Mention,description:"Items with review requested for the user explicitly",priority:i}},c=Object.values(d),u=[{value:"@today",name:"Today",description:"Today",priority:1},{valueFunc:()=>{let e=new Date,t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),a=(e.getDate()-1).toString().padStart(2,"0");return`${t}-${s}-${a}`},name:"Yesterday",description:"Yesterday",priority:2},{value:">@today-1w",name:"Last 7 days",description:"Last 7 days",priority:3},{value:">@today-1m",name:"Last 30 days",description:"Last 30 days",priority:4},{valueFunc:()=>{let e=new Date;return`>${e.getFullYear()-1}-12-31`},name:"This year",description:"This year",priority:5}],h=[{value:"<10",name:"Less than 10",description:"Less than 10",priority:1},{value:">10",name:"More than 10",description:"More than 10",priority:2},{value:"10..100",name:"Between 10 and 100",description:"Between 10 and 100",priority:3},{value:"100",name:"100",description:"Exactly 100",priority:4}],p={archived:[{value:"true",name:"Yes",description:"Only archived items",priority:1},{value:"false",name:"No",description:"Only non-archived items",priority:2}],closed:u,comments:h,created:u,draft:[{value:"true",name:"Yes",description:"Only draft items",priority:1},{value:"false",name:"No",description:"Only non-draft items",priority:2}],in:[{value:"title",description:"Match values in title",priority:1},{value:"body",description:"Match values in body",priority:2},{value:"comments",description:"Match values in comments",priority:3}],interactions:h,is:[{value:"issue",description:"Issues only",priority:1,icon:a.m4.Issue},{name:"Pull Request",value:"pr",description:"Pull Requests only",priority:2,icon:a.m4.PullRequest},{value:"open",description:"Items with open state",priority:3,icon:a.m4.Issue},{value:"closed",description:"Items with closed state",priority:4,icon:a.m4.IssueClosed},{value:"draft",description:"Items with draft state",priority:5,icon:a.m4.Draft}],type:[{value:"issue",description:"Issues only",priority:1,icon:a.m4.Issue},{name:"Pull Request",value:"pr",description:"Pull Requests only",priority:2,icon:a.m4.PullRequest}],linked:[{value:"issue",description:"Pull requests that are linked to an issue",priority:2,icon:a.m4.Issue},{name:"Pull Request",value:"pr",description:"Issue that are linked to pull requests",priority:1,icon:a.m4.PullRequest}],merged:u,no:[{value:"assignee",description:"Items without an assignee",priority:1,icon:a.m4.Mention},{value:"label",description:"Items without a label",priority:2,icon:"tag"},{value:"milestone",description:"Items without a milestone",priority:3,icon:"milestone"},{value:"project",description:"Items without a project",priority:4,icon:a.m4.Project}],reactions:h,reason:[{value:"completed",description:"Items that were closed as completed",priority:1},{value:"not planned",description:"Items that were closed as not planned",priority:2}],review:[{value:"none",name:"No reviews",description:"No reviews",priority:1},{value:"required",name:"Review required",description:"Review required",priority:2},{value:"approved",description:"Has approving review",priority:3},{value:"changes_requested",name:"Changes requested",description:"Review requesting changes",priority:4}],sort:[{value:"created-desc",name:"Newest",description:"Newest",priority:1},{value:"created-asc",name:"Oldest",description:"Oldest",priority:2},{value:"comments-desc",name:"Most commented",description:"Most commented",priority:3},{value:"updated-desc",name:"Recently updated",description:"Recently updated",priority:4}],state:[{value:"open",description:"Items with open state",priority:1},{value:"closed",description:"Items with closed state",priority:2}],status:[{value:"pending",description:"Items with pending status",priority:1},{value:"success",description:"Items with success status",priority:2},{value:"failure",description:"Items with failure status",priority:3}],updated:u},m=[n.team,n.teamReviewRequested],g=25,x=100,f={archived:"Not archived",base:"Without base",closed:"Not closed on date",comments:"Without comments count",created:"Not created on date",draft:"Not draft",head:"Without head",interactions:"Without interactions count",is:"Is not",language:"Without code language",linked:"Without linked",reactions:"Without reactions count",reason:"Without reason",review:"Without review state",state:"Without state",status:"Without status",team:"Not in team","team-review-requested":"Not in team review requested",type:"Without type",updated:"Not updated on date",repo:"Not in repository",org:"Not in organization",label:"Without label",project:"Not in project",author:"Not authored by",assignee:"Not assigned to",involves:"Not involving",mentions:"Not mentioned by",commenter:"Not commented by","review-requested":"Without review requested by","reviewed-by":"Not reviewed by",user:"Not owned by user","user-review-requested":"Without user review requested"}},41266:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},t={defaultValue:null,kind:"LocalArgument",name:"query"},s={defaultValue:null,kind:"LocalArgument",name:"slug"},a=[{kind:"Variable",name:"slug",variableName:"slug"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"CREATED_AT"}},{kind:"Variable",name:"query",variableName:"query"}],r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,t,s],kind:"Fragment",metadata:null,name:"enterpriseOrgFilterProviderQuery",selections:[{alias:null,args:a,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:i,concreteType:"OrganizationConnection",kind:"LinkedField",name:"organizations",plural:!1,selections:[{alias:null,args:null,concreteType:"OrganizationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"node",plural:!1,selections:[r,n,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,e,t],kind:"Operation",name:"enterpriseOrgFilterProviderQuery",selections:[{alias:null,args:a,concreteType:"Enterprise",kind:"LinkedField",name:"enterprise",plural:!1,selections:[{alias:null,args:i,concreteType:"OrganizationConnection",kind:"LinkedField",name:"organizations",plural:!1,selections:[{alias:null,args:null,concreteType:"OrganizationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"node",plural:!1,selections:[r,n,l,o],storageKey:null}],storageKey:null}],storageKey:null},o],storageKey:null}]},params:{id:"80370ba492764ebbdd42f2df2cada3d2",metadata:{},name:"enterpriseOrgFilterProviderQuery",operationKind:"query",text:null}}}();a.hash="b15f630e795104edfb9a7cce10744d61";let i=a},13742:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});let a=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},t={defaultValue:null,kind:"LocalArgument",name:"phrase"},s={defaultValue:null,kind:"LocalArgument",name:"slug"},a=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"phrase",variableName:"phrase"},{kind:"Variable",name:"slug",variableName:"slug"}],i={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,t,s],kind:"Fragment",metadata:null,name:"enterpriseRepoFilterProviderQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"RepositoryConnection",kind:"LinkedField",name:"enterpriseRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"nodes",plural:!0,selections:[i],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,e,t],kind:"Operation",name:"enterpriseRepoFilterProviderQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"RepositoryConnection",kind:"LinkedField",name:"enterpriseRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,r],storageKey:null}],storageKey:null},r],storageKey:null}]},params:{id:"8c51695aee59f3c67f7ae2aef94f5351",metadata:{},name:"enterpriseRepoFilterProviderQuery",operationKind:"query",text:null}}}();a.hash="86282ec3b4f154ab3fc04117a22b4e28";let i=a},92812:(e,t,s)=>{s.d(t,{B:()=>a});let a=(0,s(55293).createContext)(null)},51261:(e,t,s)=>{s.d(t,{z:()=>i});var a=s(45588);function i(e={}){let t;let s=(0,a.zR)({...e,v5Compat:!0}),i=[],r=!1;function n(e){if(i.length>0)for(let t of i)t({retry(){e()}});else e()}return s.listen(e=>{if(r){r=!1;return}if(e.action===a.rc.Pop&&i.length&&null!==e.delta&&i.length>0){let t=e.delta;for(let e of(r=!0,s.go(-1*t),i))e({retry(){s.go(t)}})}else t?.(e)}),{get action(){return s.action},get location(){return s.location},createHref:e=>s.createHref(e),createURL:e=>s.createURL(e),encodeLocation:e=>s.encodeLocation(e),push(e,t){n(()=>s.push(e,t))},replace(e,t){n(()=>s.replace(e,t))},go(e){n(()=>s.go(e))},listen(e){if(t)throw Error("A history only accepts one active listener");return t=e,()=>{t=void 0}},block:e=>(i.push(e),()=>{i=i.filter(t=>t!==e)})}}},79461:(e,t,s)=>{s.d(t,{z:()=>a});let a={"Workers not ready":"Alloy is warming its workers. This is expected during deploys and should resolve shortly."}},76457:(e,t,s)=>{let a;s.d(t,{A:()=>l});var i=s(55293);let r=globalThis.document;function n(e){return{colorMode:function(e){switch(e){case"light":return"day";case"dark":return"night";default:return"auto"}}(e.colorMode),dayScheme:e.lightTheme,nightScheme:e.darkTheme}}let l=r?function(){let{documentElement:e}=r,[t,s]=(0,i.useState)(()=>n(e.dataset));return(0,i.useEffect)(()=>{let t=new MutationObserver(()=>s(n(e.dataset)));return t.observe(e,{attributes:!0,attributeFilter:["data-color-mode","data-light-theme","data-dark-theme"]}),()=>t.disconnect()},[e]),t}:function(){return n(a||{})}},15820:(e,t,s)=>{s.d(t,{h:()=>i,u:()=>r});var a=s(73627);let i=()=>a.X()?.enabled_features??{},r=e=>!!i()[e]},97156:(e,t,s)=>{s.d(t,{KJ:()=>a.KJ,Kn:()=>i.Kn,X3:()=>a.X3,XC:()=>i.XC,cg:()=>i.cg,fV:()=>i.fV,g5:()=>a.g5});var a=s(15572),i=s(86733)},86733:(e,t,s)=>{s.d(t,{Kn:()=>r,XC:()=>a,cg:()=>i,fV:()=>n});let a="undefined"==typeof document?void 0:document,i="undefined"==typeof window?void 0:window,r="undefined"==typeof history?void 0:history,n="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:"",href:""}:location},15572:(e,t,s)=>{s.d(t,{KJ:()=>r,X3:()=>i,g5:()=>n});var a=s(86733);let i=void 0===a.XC,r=!i;function n(){return!!i||!!a.XC.querySelector('react-app[data-ssr="true"]')}},92240:(e,t,s)=>{s.d(t,{G:()=>a});let a=e=>({"data-testid":e})},88360:(e,t,s)=>{s.d(t,{d:()=>n});var a=s(10120),i=s(23549),r=s(55293);let n=(e,t,{leading:s=!1,maxWait:n,trailing:l=!0,onChangeBehavior:o="flush"}={})=>{let d=(0,a.M)(e),c=(0,r.useMemo)(()=>{let e=void 0===n?{leading:s,trailing:l}:{leading:s,trailing:l,maxWait:n};return(0,i.A)((...e)=>d.current(...e),t,e)},[d,t,s,n,l]);return(0,r.useEffect)(()=>()=>{c?.[o]()},[c,o]),c}},59840:(e,t,s)=>{s.d(t,{m:()=>r});var a=s(55293),i=s(97156);function r(e,t){i.KJ&&(0,a.useLayoutEffect)(e,t)}},73272:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(59840),i=s(55293);function r(){let e=(0,i.useRef)(!1),t=(0,i.useCallback)(()=>e.current,[]);return(0,a.m)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},6664:(e,t,s)=>{s.d(t,{AR:()=>a,_N:()=>n});var a,i=s(51012),r=s(55293);!function(e){e.ctrlKey="ctrlKey",e.altKey="altKey",e.shiftKey="shiftKey",e.metaKey="metaKey"}(a||(a={}));let n=(e,t,s)=>{let n=(0,r.useRef)(t);(0,i.N)(()=>{n.current=t});let l=(0,r.useCallback)(t=>{!([...document.querySelectorAll('#__primerPortalRoot__, [id$="-portal-root"]')].some(function e(t){if(t.clientHeight>0)return!0;for(let s of t.children)if(e(s))return!0;return!1})&&!s?.triggerWhenPortalIsActive||!function(e,t){for(let s of Object.values(a))if(t&&t[s]&&!e[s]||e[s]&&(!t||!t[s]))return!1;return!0}(t,s)&&!s?.ignoreModifierKeys||!s?.triggerWhenInputElementHasFocus&&function(e){return e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement}(t))&&e.some(e=>/^\d$/.test(e)?t.code===`Digit${e}`:"/"===e?"Slash"===t.code:t.key===e)&&n.current(t)},[e,s]);(0,r.useEffect)(()=>{let e=s?.scopeRef?.current||document;return e.addEventListener("keydown",l),()=>e.removeEventListener("keydown",l)},[l,s?.scopeRef])}},27788:(e,t,s)=>{s.d(t,{Z:()=>u,o:()=>h});var a=s(55293),i=s(47767),r=s(45588),n=s(84976),l=s(51550),o=s(92812),d=s(56725),c=s(99523);let u=()=>{let{routes:e,history:t}=a.useContext(o.B),n=(0,i.Zp)();return a.useCallback((i,o={})=>{let u=(0,r.o1)(i).pathname;if((0,r.ue)(e,u)){(0,l.A)(location.href,i.toString())||(0,d.SC)("react");let{preventAutofocus:e,...t}=o;(0,a.startTransition)(()=>{n(i,e?{...t,state:{[c.V]:!0,...t.state}}:t);let{turbo:s,...a}=window.history.state;window.history.replaceState({...a,skipTurbo:!0},"",location.href)})}else{let e=t.createHref(i);(async()=>{let{softNavigate:t}=await Promise.all([s.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),s.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(s.bind(s,63120));t(e)})()}},[t,n,e])},h=()=>{let[e]=(0,n.ok)(),t=u(),{pathname:s}=(0,i.zy)(),r=a.useCallback((a,i={})=>{t({pathname:s,search:(0,n.PI)("function"==typeof a?a(e):a).toString()},i)},[e,t,s]);return[e,r]}},83784:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(73272),i=s(55293);let r=function(e){let t=(0,a.A)(),[s,r]=(0,i.useState)(e);return[s,(0,i.useCallback)(e=>{t()&&r(e)},[t])]}},80012:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(9449);function i(e){let{children:t,"data-hpc":s}=e;return(0,a.jsx)("div",{"data-hpc":!!s||void 0,children:t})}try{i.displayName||(i.displayName="Layout")}catch{}},35625:(e,t,s)=>{s.d(t,{O:()=>p});var a=s(9449),i=s(6664),r=s(67269),n=s(55293),l=s(1093),o=s(47555),d=s(94276),c=s(57832),u=s(90600),h=s(15820);function p({items:e,initialSelectedItems:t,openHotkey:s,placeholderText:p,selectionVariant:m,loading:g,groups:x,filterItems:f,renderAnchor:y,getItemKey:j,convertToItemProps:A,onSelectionChange:b,onOpen:S,onClose:v,height:C="small",width:R="small",selectPanelRef:w,enforceAtleastOneSelected:N,insidePortal:_,maxVisibleItems:k=9,nested:I=!1,resultListAriaLabel:P,title:T,subtitle:O,preventClose:E,triggerOpen:F,initialFilter:U,customNoResultsItem:D,customNoMatchItem:z,footer:L,keybindingCommandId:K}){let[B,$]=(0,n.useState)(F??!1),[Q,q]=(0,n.useState)([]),[W,M]=(0,n.useState)(U??""),{updateOpenState:G,anyItemPickerOpen:V}=(0,l.t)(),H=(0,n.useId)();(0,n.useEffect)(()=>{void 0!==F&&$(F)},[F]);let{issues_react_ui_commands_migration:X}=(0,h.h)(),Y=(0,n.useCallback)(()=>{V()||B||($(!0),S&&S())},[V,B,S]),J=(0,n.useCallback)(e=>{V()||B||(e.preventDefault(),e.stopPropagation(),$(!0),S&&S())},[V,B,S]);(0,i._N)(s?[s]:[],J,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:_||!1}),(0,n.useEffect)(()=>{G(H,B)},[H,B,G]);let Z=(0,n.useMemo)(()=>new Map,[H,t]),ee=(0,n.useCallback)((e,t)=>{let s=j(e),a=Z.get(s);if(a)return a;(a=A(e)).selected=t;let i=a.onAction;return a.onAction=(t,a)=>{let r=Z.get(s);if(r){if(r.selected=!r.selected,"single"===m&&e.id!==W)for(let[,e]of Z)e!==r&&(e.selected=!1);i&&i(t,a)}},Z.set(s,a),a},[A,W,j,Z,m]),et=(0,n.useCallback)(e=>"string"==typeof e?e:j(e),[j]),es=(0,n.useMemo)(()=>{let s=e.map(e=>e.__isNew__?(delete e.__isNew__,z&&Z.delete(j(z)),ee(e,!0)):ee(e,t.some(t=>et(t)===j(e))));return 0===s.length?z?[ee(z,!1)]:W?[z??o.Q3]:[D??o.v8]:s},[z,e,Z,ee,t,et,j,W,D]);(0,n.useEffect)(()=>{q(es.filter(e=>e.selected))},[es]);let ea=(0,n.useMemo)(()=>"single"===m?Q[0]:Q,[Q,m]),ei=(0,n.useCallback)(e=>{if(void 0===e){N||q([]);return}q((Array.isArray(e)?e:[e]).map(e=>es.find(t=>e.id===t.id)).filter(e=>void 0!==e))},[N,es]);(0,i._N)([" "],e=>{if(B){let t=document.querySelector(c.Z.activePickerOption(d.B.itemPickerRootId));if(t){let s=t.getAttribute("data-id"),a=[...Z.values()].find(e=>e.id===s);a&&(e.preventDefault(),e.stopPropagation(),a.selected=!a.selected,q([...Z.values()].filter(e=>e.selected)))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let er=(0,n.useCallback)(e=>{if(E&&!e)return;if($(e),e&&S){S();return}M(""),v&&v();let s=[...Z.values()].filter(e=>e.selected).map(e=>e.source);(s.length!==t.length||s.some(e=>!t.some(t=>et(t)===j(e))))&&b(s)},[E,v,Z,t,S,et,j,b]);(0,n.useEffect)(()=>{f(W)},[W,f]);let en=es.length>0;1===es.length&&(es[0].id===o.Q3.id||es[0].id===o.v8.id)&&(en=!1);let el=(0,n.useMemo)(()=>x&&x?.length>1&&en?{groupMetadata:x}:{},[x,en]),eo=es.length<=k?"auto":C,ed=(0,n.useMemo)(()=>({renderAnchor:y,placeholderText:p,open:B,onOpenChange:er,loading:g,items:es,selected:ea,onSelectedChange:ei,filterValue:W,onFilterChange:M,showItemDividers:!0,overlayProps:{width:R,height:eo},...el,"aria-label":P,"data-id":d.B.itemPickerRootId,"data-testid":d.B.itemPickerTestId,title:T,subtitle:O,footer:L}),[y,p,B,er,g,es,ea,ei,W,R,eo,el,P,T,O,L]);return(0,a.jsxs)(a.Fragment,{children:[X&&K&&(0,a.jsx)(u.ak,{commands:{[K]:Y}}),(0,a.jsx)(r.X,{anchorRef:I?void 0:w,...ed})]})}try{p.displayName||(p.displayName="ItemPicker")}catch{}},1093:(e,t,s)=>{s.d(t,{D:()=>n,t:()=>l});var a=s(9449),i=s(55293);let r=(0,i.createContext)({updateOpenState:()=>void 0,anyItemPickerOpen:()=>!1});function n({children:e}){let t=(0,i.useRef)({}),s=(0,i.useCallback)((e,s)=>{let a=t.current;return a[e]===s||(t.current={...a,[e]:s}),t.current},[]),n=(0,i.useCallback)(()=>Object.values(t.current).some(e=>e),[t]),l=(0,i.useMemo)(()=>({updateOpenState:s,anyItemPickerOpen:n}),[n,s]);return(0,a.jsx)(r.Provider,{value:l,children:e})}function l(){let e=(0,i.useContext)(r);if(!e)throw Error("useItemPickersContext must be used within a ItemPickersContextProvider.");return e}try{r.displayName||(r.displayName="ItemPickersContext")}catch{}try{n.displayName||(n.displayName="ItemPickersContextProvider")}catch{}},52190:(e,t,s)=>{s.d(t,{o:()=>h});var a=s(9449),i=s(72912),r=s(92240),n=s(59857),l=s(75177),o=s(30729),d=s(87330),c=s(55293),u=s(44399);function h({id:e,inputRef:t,placeholder:s,inputValue:u,label:h,visuallyHideLabel:p,clearIconInitiallyVisible:g=!1,onKeyPress:x,onKeyDown:f,onChange:y,onRequestProvider:j,renderSingularItemNames:A,sxString:b,"data-testid":S,sx:v}){let C=(0,c.useRef)(null);e=`query-builder-${e}`;let R=`${e}-label`,w=`${e}-input`;(0,c.useEffect)(()=>{if(!(C.current instanceof i.QueryBuilderElement))return;let t=C.current;return t&&(t.addEventListener("query-builder:request-provider",j),t.readyForRequestProviders(),t.id=`query-builder-${e}`,t.setAttribute("data-filter-key",":"),t.className="QueryBuilder",t.renderSingularItemNames=A||!0,null!=b&&t.setAttribute("style",b)),()=>{t?.removeEventListener("query-builder:request-provider",j)}},[e,j,b,A]);let N=(0,a.jsx)(l.A,{sx:{width:"100%",textAlign:"center",display:"flex",flexDirection:"row",justifyItems:"flex-start"},children:(0,a.jsx)(o.A,{icon:n.SearchIcon,"aria-label":"Search",sx:{ml:"12px",mr:1,color:"fg.muted"}})}),_=e=>{e.preventDefault();let t=C.current;t?.inputSubmit()},[k,I]=(0,c.useState)(u),P=(0,c.useCallback)(e=>{I(t?.current?.value),y(e)},[t,y]);return(0,c.useEffect)(()=>{async function e(){I(u),await C?.current?.parseQuery(void 0,!1)}u!==k&&e()},[k,u,C]),(0,a.jsx)("form",{acceptCharset:"UTF-8",action:"/search",method:"get",style:{flex:1,minWidth:0,...v},onSubmit:e=>_(e),...(0,r.G)("query-builder-form"),children:(0,a.jsxs)("query-builder",{ref:C,"defer-request-providers":!0,"data-catalyst":"true","data-filter-key":":",children:[(0,a.jsxs)("div",{className:"FormControl FormControl--fullWidth",style:{gap:0},children:[(0,a.jsx)("label",{id:R,htmlFor:w,className:`FormControl-label ${void 0===p||!0===p?"sr-only":""}`,children:h}),(0,a.jsxs)("div",{className:"QueryBuilder-StyledInput width-fit","data-target":"query-builder.styledInput",style:{minHeight:"30px"},children:[N?(0,a.jsx)("span",{id:`${e}-leadingvisual-wrap`,children:N}):(0,a.jsx)("div",{className:"QueryBuilder-spacer"}),(0,a.jsxs)("div",{"data-target":"query-builder.styledInputContainer",className:"QueryBuilder-StyledInputContainer",tabIndex:-1,...(0,r.G)("filter-styled-input"),children:[(0,a.jsx)("div",{"aria-hidden":"true",className:"QueryBuilder-StyledInputContent","data-target":"query-builder.styledInputContent"}),(0,a.jsxs)("div",{className:"QueryBuilder-InputWrapper",style:{height:"30px"},children:[(0,a.jsx)("div",{"aria-hidden":"true",className:"QueryBuilder-Sizer","data-target":"query-builder.sizer"}),(0,a.jsx)("input",{id:w,"data-testid":S,placeholder:s,ref:t,value:u,onKeyPress:x,onKeyDown:f,onChange:P,name:`${e}-inputname`,autoComplete:"off",spellCheck:"false",className:"FormControl-input QueryBuilder-Input FormControl-medium","data-target":"query-builder.input","data-action":"input:query-builder#inputChange blur:query-builder#inputBlur keydown:query-builder#inputKeydown focus:query-builder#inputFocus",style:{height:"30px"},"aria-labelledby":R})]})]}),(0,a.jsx)("span",{className:"sr-only",id:`${e}-clear`,children:"Clear"}),(0,a.jsx)(d.K,{unsafeDisableTooltip:!0,type:"button",id:`${e}-clear-button`,"aria-labelledby":`${e}-clear ${R}`,"data-target":"query-builder.clearButton","data-action":"click:query-builder#clear focus:query-builder#clearButtonFocus blur:query-builder#clearButtonBlur","align-items":"center","border-radius":1,size:"small",sx:{mr:"1px",px:2,py:0,display:"flex",color:"muted",borderRadius:"0 4px 4px 0"},hidden:g,variant:"invisible",...(0,r.G)("clear-filters-query-builder"),icon:n.XCircleFillIcon})]}),m,(0,a.jsx)("div",{className:"position-relative",children:(0,a.jsx)("div",{className:"Overlay-backdrop--anchor right-0 left-0",style:{marginTop:"4px"},children:(0,a.jsx)("div",{className:"Overlay Overlay-whenNarrow Overlay--height-auto",hidden:!0,"data-target":"query-builder.overlay",children:(0,a.jsx)("div",{className:"Overlay-body Overlay-body--paddingNone",children:(0,a.jsx)("ul",{role:"listbox",className:"ActionListWrap QueryBuilder-ListWrap","aria-label":"Suggestions","data-action":"combobox-commit:query-builder#comboboxCommit mousedown:query-builder#resultsMousedown","data-target":"query-builder.resultsList","data-persist-list":!1,id:`${e}-results`,...(0,r.G)("query-builder-results")})})})})})]}),(0,a.jsx)("div",{"data-target":"query-builder.screenReaderFeedback","aria-live":"polite","aria-atomic":"true",className:"sr-only"})]})})}let p={apps:n.AppsIcon,archived:n.ArchiveIcon,bookmark:n.BookmarkIcon,branch:n.GitBranchIcon,calendar:n.CalendarIcon,circle:n.DotFillIcon,code:n.CodeIcon,comment:n.CommentIcon,default:n.FilterIcon,discussion:n.CommentDiscussionIcon,draft:n.IssueDraftIcon,"file-code":n.FileIcon,filter:n.FilterIcon,forbidden:n.NoEntryIcon,history:n.HistoryIcon,issue:n.IssueOpenedIcon,issueClosed:n.IssueClosedIcon,iterations:n.IterationsIcon,mention:n.MentionIcon,merged:n.GitMergeIcon,milestone:n.MilestoneIcon,no:n.CircleSlashIcon,not:n.NoEntryIcon,organization:n.OrganizationIcon,pencil:n.PencilIcon,person:n.PersonIcon,"plus-circle":n.PlusCircleIcon,project:n.TableIcon,pullRequest:n.GitPullRequestIcon,question:n.QuestionIcon,reaction:n.SmileyIcon,repo:n.RepoIcon,search:n.SearchIcon,"single-select":n.SingleSelectIcon,sort:n.SortDescIcon,tag:n.TagIcon,team:n.PeopleIcon,trash:n.TrashIcon},m=(0,a.jsx)(a.Fragment,{children:Object.entries(p).map(([e,t])=>{let s=`${e}-icon`,i=(0,u.F0)((0,a.jsx)(o.A,{icon:t,"aria-hidden":!1}));return(0,a.jsx)("template",{id:s,dangerouslySetInnerHTML:{__html:i}},s)})});try{h.displayName||(h.displayName="QueryBuilder")}catch{}},49107:(e,t,s)=>{s.d(t,{Q:()=>n});var a=s(9449),i=s(55293),r=s(92812);function n({routes:e,history:t,children:s}){let n=(0,i.useMemo)(()=>({routes:e,history:t}),[e,t]);return(0,a.jsx)(r.B.Provider,{value:n,children:s})}try{n.displayName||(n.displayName="AppContextProvider")}catch{}},36165:(e,t,s)=>{s.d(t,{U:()=>m});var a=s(9449),i=s(47831),r=s(48378),n=s(76457),l=s(55293),o=s(15033),d=s(97564);function c({children:e}){let t=(0,d.fQ)(),s=l.useMemo(()=>{let e={};for(let s of t)s.startsWith("primer_react_")&&(e[s]=!0);return e},[]);return(0,a.jsx)(o.g,{flags:s,children:e})}try{c.displayName||(c.displayName="PrimerFeatureFlags")}catch{}var u=s(54156),h=s(21605);let p={};function m({appName:e,children:t,wasServerRendered:s}){let{colorMode:l,dayScheme:o,nightScheme:d}=(0,n.A)();return(0,a.jsx)(i.D3,{wasServerRendered:s,children:(0,a.jsx)(h.y,{appName:e,category:"",metadata:p,children:(0,a.jsx)(c,{children:(0,a.jsx)(r.NP,{colorMode:l,dayScheme:o,nightScheme:d,preventSSRMismatch:!0,children:(0,a.jsx)(u.k6,{children:t})})})})})}try{m.displayName||(m.displayName="BaseProviders")}catch{}},17857:(e,t,s)=>{s.d(t,{h:()=>g});var a=s(9449),i=s(55293),r=s(54156),n=s(59857),l=s(65556),o=s(16255);let d={info:"",success:"Toast--success",error:"Toast--error"},c={info:(0,a.jsx)(n.InfoIcon,{}),success:(0,a.jsx)(n.CheckIcon,{}),error:(0,a.jsx)(n.StopIcon,{})},u=({message:e,timeToLive:t,icon:s,type:r="info",role:n="log"})=>{let[u,h]=i.useState(!0),{safeSetTimeout:p}=(0,l.A)();return(0,i.useEffect)(()=>{t&&p(()=>h(!1),t-300)},[p,t]),(0,a.jsx)(o.Z,{children:(0,a.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,a.jsxs)("div",{className:`Toast ${d[r]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${r}`,role:n,children:[(0,a.jsx)("span",{className:"Toast-icon",children:s||c[r]}),(0,a.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function h(){let{toasts:e,persistedToast:t}=(0,i.useContext)(r.T8);return(0,a.jsxs)(a.Fragment,{children:[e.map((e,t)=>(0,a.jsx)(u,{message:e.message,icon:e.icon,timeToLive:r.Qn,type:e.type,role:e.role},t)),t&&(0,a.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{h.displayName||(h.displayName="Toasts")}catch{}var p=s(79461);function m({ssrError:e}){let{addToast:t}=(0,r.Y6)(),s=p.z[e.textContent||""];return(0,i.useEffect)(()=>{s||t({type:"error",message:"SSR failed, see console for error details (Staff Only)"})},[]),null}try{m.displayName||(m.displayName="SSRErrorToast")}catch{}function g({ssrError:e}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{}),e&&(0,a.jsx)(m,{ssrError:e})]})}try{g.displayName||(g.displayName="CommonElements")}catch{}},86233:(e,t,s)=>{s.d(t,{a:()=>a});function a({path:e,Component:t,shouldNavigateOnError:s,transitionType:a,children:i}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let s=`${e.pathname}${e.search}`;t=await window.fetch(s,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom","X-React-Router":"json"}})}catch(e){return{type:s?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:s?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:s?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:a,children:i}}},47831:(e,t,s)=>{s.d(t,{D3:()=>d,O8:()=>a,xd:()=>o});var a,i=s(9449),r=s(55293),n=s(97156),l=s(59840);!function(e){e.ServerRender="ServerRender",e.ClientHydrate="ClientHydrate",e.ClientRender="ClientRender"}(a||(a={}));let o=(0,r.createContext)("ClientRender");function d({wasServerRendered:e,children:t}){let[s,a]=(0,r.useState)(()=>n.X3?"ServerRender":e?"ClientHydrate":"ClientRender");return(0,l.m)(()=>{"ClientRender"!==s&&a("ClientRender")},[s]),(0,i.jsx)(o.Provider,{value:s,children:t})}try{o.displayName||(o.displayName="RenderPhaseContext")}catch{}try{d.displayName||(d.displayName="RenderPhaseProvider")}catch{}},92979:(e,t,s)=>{s.d(t,{O:()=>u});var a=s(75177),i=s(59299),r=s(44999),n=s(38267);let l=(0,n.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),o=(0,n.AH)(["animation:"," 1.5s infinite linear;"],l),d=(0,n.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),c=(0,n.AH)(["animation:"," 2s infinite linear;"],d),u=(0,n.Ay)(a.A).withConfig({displayName:"LoadingSkeleton",componentId:"sc-bcbf24f9-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&c,({animationStyle:e})=>"pulse"!==e&&o,(0,i.Jt)("colors.neutral.subtle"),(0,i.Jt)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,i.Jt)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},r.A);try{u.displayName||(u.displayName="LoadingSkeleton")}catch{}},54156:(e,t,s)=>{s.d(t,{Qn:()=>o,T8:()=>c,Y6:()=>h,k6:()=>u});var a=s(9449),i=s(65556),r=s(55293),n=s(67726),l=s(83784);let o=5e3,d=(0,r.createContext)({addToast:n.l,addPersistedToast:n.l,clearPersistedToast:n.l}),c=(0,r.createContext)({toasts:[],persistedToast:null});function u({children:e}){let[t,s]=(0,l.A)([]),[n,u]=(0,r.useState)(null),{safeSetTimeout:h}=(0,i.A)(),p=(0,r.useCallback)(function(e){s([...t,e]),h(()=>s(t.slice(1)),o)},[t,h,s]),m=(0,r.useCallback)(function(e){u(e)},[u]),g=(0,r.useCallback)(function(){u(null)},[u]),x=(0,r.useMemo)(()=>({addToast:p,addPersistedToast:m,clearPersistedToast:g}),[m,p,g]),f=(0,r.useMemo)(()=>({toasts:t,persistedToast:n}),[t,n]);return(0,a.jsx)(d.Provider,{value:x,children:(0,a.jsx)(c.Provider,{value:f,children:e})})}function h(){return(0,r.useContext)(d)}try{d.displayName||(d.displayName="ToastContext")}catch{}try{c.displayName||(c.displayName="InternalToastsContext")}catch{}try{u.displayName||(u.displayName="ToastContextProvider")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-7901e7","vendors-node_modules_react-router-dom_dist_index_js","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionList_js","vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_stack-68835d","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_github_hotkey_dist_index_js-node_modules_lodash-es_capitalize_js","vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_primer_react_node_m-73dd48","vendors-node_modules_primer_react_lib-esm_DataTable_DataTable_js","vendors-node_modules_chart_js_dist_chart_esm_js","vendors-node_modules_primer_react_lib-esm_UnderlineNav_index_js","vendors-node_modules_primer_react_lib-esm_FeatureFlags_FeatureFlags_js-node_modules_primer_re-8bbff8","vendors-node_modules_primer_react-brand_lib_index_js-node_modules_primer_react_lib-esm_Headin-cd3e76","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-132885","ui_packages_react-core_register-app_ts","ui_packages_relay-environment_relay-environment_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_query-builder-element_query-builder-element_ts-ui_packages_safe-storage_safe-storage_ts"],()=>t(85265)),e.O()}]);
//# sourceMappingURL=billing-app-01112f6b5782.js.map