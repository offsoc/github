---
title: Environment Approval
description: An entry in the reviews log for environment deployments
type: object
properties:
  environments:
    description: The list of environments that were approved or rejected
    type: array
    items:
      type: object
      properties:
        id:
          description: The id of the environment.
          example: 56780428
          type: integer
        node_id:
          type: string
          example: 'MDExOkVudmlyb25tZW50NTY3ODA0Mjg='
        name:
          description: The name of the environment.
          example: 'staging'
          type: string
        url:
          type: string
          example: https://api.github.com/repos/github/hello-world/environments/staging
        html_url:
          type: string
          example: https://github.com/github/hello-world/deployments/activity_log?environments_filter=staging
        created_at:
          description: The time that the environment was created, in ISO 8601 format.
          example: '2020-11-23T22:00:40Z'
          format: date-time
          type: string
        updated_at:
          description: The time that the environment was last updated, in ISO 8601 format.
          example: '2020-11-23T22:00:40Z'
          format: date-time
          type: string
        can_admins_bypass:
          description: Whether to allow administrators to bypass environment protection rules.
          type: boolean
          x-unpublished: Unpublished until the actions_gates_break_glass feature flag is fully shipped
          default: true
  state:
    description: Whether deployment to the environment(s) was approved or rejected or pending (with comments)
    enum:
      - approved
      - rejected
      - pending
    example: approved
    type: string
  user:
    $ref: './simple-user.yaml'
  comment:
    type: string
    description: The comment submitted with the deployment review
    example: 'Ship it!'

required:
  - environments
  - state
  - user
  - comment

x-githubEnterpriseOverlays:
  '< 3.8':
    properties:
      can_admins_bypass:
