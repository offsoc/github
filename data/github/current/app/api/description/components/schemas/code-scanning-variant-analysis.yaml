---
title: Variant Analysis
description: A run of a CodeQL query against one or more repositories.
type: object
properties:
  id:
    type: integer
    description: "The ID of the variant analysis."
  controller_repo:
    $ref: './simple-repository.yaml'
  actor:
    $ref: './simple-user.yaml'
  query_language:
    $ref: './code-scanning-variant-analysis-language.yaml'
  query_pack_url:
    type: string
    description: "The download url for the query pack."
  created_at:
    type: string
    format: date-time
    description: The date and time at which the variant analysis was created, in ISO 8601 format':' YYYY-MM-DDTHH:MM:SSZ.
  updated_at:
    type: string
    format: date-time
    description: The date and time at which the variant analysis was last updated, in ISO 8601 format':' YYYY-MM-DDTHH:MM:SSZ.
  completed_at:
    type: string
    format: date-time
    nullable: true
    description: The date and time at which the variant analysis was completed, in ISO 8601 format':' YYYY-MM-DDTHH:MM:SSZ. Will be null if the variant analysis has not yet completed or this information is not available.
  status:
    type: string
    enum:
      - in_progress
      - succeeded
      - failed
      - cancelled
  actions_workflow_run_id:
    type: integer
    description: "The GitHub Actions workflow run used to execute this variant analysis. This is only available if the workflow run has started."
  failure_reason:
    type: string
    enum:
    - no_repos_queried
    - actions_workflow_run_failed
    - internal_error
    description: "The reason for a failure of the variant analysis. This is only available if the variant analysis has failed."
  scanned_repositories:
    type: array
    items:
      type: object
      properties:
        repository:
          $ref: './code-scanning-variant-analysis-repository.yaml'
        analysis_status:
          $ref: './code-scanning-variant-analysis-status.yaml'
        result_count:
          type: integer
          description: "The number of results in the case of a successful analysis. This is only available for successful analyses."
        artifact_size_in_bytes:
          type: integer
          description: "The size of the artifact. This is only available for successful analyses."
        failure_message:
          type: string
          description: "The reason of the failure of this repo task. This is only available if the repository task has failed."
      required:
        - repository
        - analysis_status
  skipped_repositories:
    type: object
    description: "Information about repositories that were skipped from processing. This information is only available to the user that initiated the variant analysis."
    properties:
      access_mismatch_repos:
        $ref: './code-scanning-variant-analysis-skipped-repo-group.yaml'
      not_found_repos:
        type: object
        properties:
          repository_count:
            type: integer
            description: "The total number of repositories that were skipped for this reason."
            example: 2
          repository_full_names:
            type: array
            description: "A list of full repository names that were skipped. This list may not include all repositories that were skipped."
            items:
              type: string
        required:
          - repository_count
          - repository_full_names
      no_codeql_db_repos:
        $ref: './code-scanning-variant-analysis-skipped-repo-group.yaml'
      over_limit_repos:
        $ref: './code-scanning-variant-analysis-skipped-repo-group.yaml'
    required:
      - access_mismatch_repos
      - not_found_repos
      - no_codeql_db_repos
      - over_limit_repos
required:
  - id
  - controller_repo
  - actor
  - query_language
  - query_pack_url
  - status
