{"version":3,"file":"chunk-app_components_memex_memex-project-picker-panel-element_ts-xxxxxxxxxxxx.js","mappings":"mvCAsBE,cACA,cAqDA,cA+CA,cAmDA,cA4BI,cAIJ,cAvMK,yCAAMA,uCAAuCC,YAkBlDC,mBAAoB,CAClB,IAAI,CAACC,WAAW,CAACC,QAAQ,CAAG,MAAI,CAAEA,EAAAA,GAASC,IAAI,CAAC,IAAI,EACpD,GAAM,CAACC,OAAAA,CAAM,CAAC,CAAG,EAAH,KAAUC,EAAkB,IAAIC,iBAC9C,IAAI,CAACC,gBAAgB,CAAC,sBAAuB,IAAI,CAAE,CAACH,OAAAA,CAAM,GAE1D,IAAMI,EAAgB,IAAIC,qBAAqBC,IAC7C,IAAK,IAAMC,KAASD,EAAS,CAC3B,IAAME,EAAOD,EAAME,MAAM,CACpBF,EAAMG,cAAc,EAAKF,IAAS,IAAI,CAACG,gBAAgB,EAAIH,IAAS,IAAI,CAACI,kBAAkB,G,EAE9F,IAAI,CAAEC,IAA4BC,Q,OAC5BD,EAA6B,MAEvC,CACF,GAEA,GAAI,IAAI,CAACF,gBAAgB,EAAI,IAAI,CAACC,kBAAkB,CAClDR,EAAcW,OAAO,CAAC,IAAI,CAACJ,gBAAgB,EAC3CP,EAAcW,OAAO,CAAC,IAAI,CAACH,kBAAkB,MACxC,CACL,IAAMI,EAAmB,IAAIC,iBAAiB,KACxC,IAAI,CAACN,gBAAgB,EAAEP,EAAcW,OAAO,CAAC,IAAI,CAACJ,gBAAgB,EAClE,IAAI,CAACC,kBAAkB,EAAER,EAAcW,OAAO,CAAC,IAAI,CAACH,kBAAkB,EAE1EI,EAAiBE,UAAU,EAC7B,GAEAF,EAAiBD,OAAO,CAAC,IAAI,CAAE,CAACI,UAAW,GAAMC,QAAS,EAAI,EAChE,CACF,CAEA,IAAIC,aAAgC,CAClC,OAAO,IAAI,CAACxB,WAAW,CAACyB,oBAAoB,CAG9C,IAAIC,MAAgB,CAClB,OAAO,IAAI,CAAC1B,WAAW,CAAC0B,IAAI,CAG9B,IAAIC,MAA2B,CAC7B,OAAO,IAAI,CAAC3B,WAAW,CAAC2B,IAAI,CAG9BC,sBAAuB,CACrB,MAAI,CAAExB,GAAgBa,KAAK,EAC7B,CAEAY,oBAAqB,CACnB,IAAI,CAACC,eAAe,CAACC,eAAe,EACtC,CAuBAC,YAAYC,CAAY,CAAE,CACxB,GAAIA,wBAAAA,EAAMC,IAAI,CAA4B,CACpC,MAAI,CAAEC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,GAENF,EAAMG,cAAc,GAItB,IAAMzB,EAAO0B,EAAmBC,MAAM,CAACC,IAAI,CACrCC,EAASC,SAAS9B,EAAK+B,YAAY,CAAC,gBAAkB,GAAI,IAC1DC,EAAOhC,EAAK+B,YAAY,CAAC,cAAgB,GACzCE,EAAQjC,EAAK+B,YAAY,CAAC,eAAiB,GAEjD,MAAI,CAAEG,EAAAA,GAAAA,IAAAA,CAAN,IAAI,CAAkBF,EAAMH,EAAQI,EAAOP,EAAmBC,MAAM,CAACQ,OAAO,CAC9E,CACF,CAEAC,QAAQJ,CAAY,CAAEH,CAAc,CAAEI,CAAa,CAAW,CAC5D,OAAO,MAAI,CAAEC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,CAAkBF,EAAMH,EAAQI,EAAO,GACpD,CAEAI,WAAWL,CAAY,CAAEH,CAAc,CAAEI,CAAa,CAAW,CAC/D,OAAO,MAAI,CAAEC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,CAAkBF,EAAMH,EAAQI,EAAO,GACpD,CAqEAK,eAAgB,CACd,IAAMC,EAAOC,SAASC,cAAc,CAAC,0BACjCF,GAAMG,CAAAA,EAAAA,EAAAA,EAAAA,EAAcH,EAC1B,CAEAI,uBAAwB,CACtB,IAAI,CAACxC,gBAAgB,CAACyC,KAAK,EAC7B,CAEAC,yBAA0B,CACxB,IAAI,CAACzC,kBAAkB,CAACwC,KAAK,EAC/B,C,8BA5HA,UA+CA,UAmDA,UA4BA,OAAI,G,IAAJ,E,aAIA,UAxLA,U,kBAAA,M,GACA,U,kBAAA,M,QAHQE,eAAe,CAAG,IAAIC,I,OAG7B1C,EAAqD,K,CA0LxD,EArIE,WAAU2C,CAAoB,CAAEC,CAAa,EAC3C,GAAI,CAACA,EAAO,MAAO,GAEnB,IAAMC,EAAW,CAACF,EAAQjB,YAAY,CAAC,cAAgB,EAAC,EAAGoB,IAAI,GAAGC,WAAW,GACvEC,EAAYC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWJ,EAAUD,GAIjCM,EAAaP,EAAQjB,YAAY,CAAC,gBAAkB,GAIpDyB,EAAQC,KAAKC,GAAG,CAACL,EAHIC,CAAAA,EAAAA,EAAAA,EAAAA,EAAWL,EAAOM,GAClBD,CAAAA,EAAAA,EAAAA,EAAAA,EAAWC,EAAYN,IAM5CU,EAAMH,EAAQ,EAAI,CAACA,MAAAA,EAAOI,KAAMV,CAAQ,EAAI,KAElD,OADIS,GAAK,IAAI,CAACb,eAAe,CAACe,GAAG,CAACb,EAASW,GACpCH,EAAQ,CACjB,CA4BA,WAAiBxB,CAAY,CAAEH,CAAc,CAAEI,CAAa,CAAEE,CAAgB,EAC5E,IAAM2B,EAAmB,KACvB,IAAMC,EAAgB,IAAI,CAAC5C,eAAe,CAAC6C,aAAa,CAAC,CAAC,sBAAsB,EAAEnC,EAAO,EAAE,CAAC,EAExFkC,EACFA,EAAcE,MAAM,GAEpB,IAAI,CAAC9C,eAAe,CAAC+C,MAAM,CAAC,MAAI,CAAEC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,CAAwBnC,EAAMH,EAAQI,EAAOE,GAEjF,EAEMiC,EAA6B,IACjCC,EAAEC,eAAe,GACjBD,EAAE5C,cAAc,GAEhBqC,IAEI,MAAI,CAAEtC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,GACN,IAAI,CAACc,aAAa,EAEtB,EAEM,CAAC9C,OAAAA,CAAM,CAAC,CAAG,EAAH,KAAUa,EAA6B,IAAIX,iBA0BzD,OAxBIyC,EACE,IAAI,CAAChC,gBAAgB,EACvB,IAAI,CAACoE,4BAA4B,CAAC5E,gBAAgB,CAAC,QAASyE,EAA4B,CAACI,KAAM,GAAMhF,OAAAA,CAAM,GAC3G,IAAI,CAACW,gBAAgB,CAACsE,SAAS,KAE/BX,IAEI,MAAI,CAAEtC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,GACN,IAAI,CAACc,aAAa,IAIlB,IAAI,CAAClC,kBAAkB,EACzB,IAAI,CAACsE,8BAA8B,CAAC/E,gBAAgB,CAAC,QAASyE,EAA4B,CAACI,KAAM,GAAMhF,OAAAA,CAAM,GAC7G,IAAI,CAACY,kBAAkB,CAACqE,SAAS,KAEjCX,IAEI,MAAI,CAAEtC,EAAAA,GAAAA,IAAAA,CAAN,IAAI,GACN,IAAI,CAACc,aAAa,IAKjB,EACT,CAEA,WAAuBN,CAAY,CAAEH,CAAc,CAAEI,CAAa,CAAEE,CAAgB,EAClF,OAAO,IAAIwC,EAAAA,EAAgBA,CACzB,IAAI,CAACC,iBAAiB,CACtB,CACE5C,KAAM,CAAC,iBAAiB,EAAEH,EAAO,CAAC,CAAC,CACnCM,QAAAA,EACA0C,cAAehD,EACfiD,YAAa9C,EACb+C,aAAc9C,EACdV,KAAMY,EAAU,WAAa,QAC/B,EACA6C,EAAAA,EAAkCA,CAEtC,CAeA,aACE,MAAO,iBAAI,CAAC3F,WAAW,CAAC4F,aAAa,CAGvC,aACE,MAAO,CAAC,MAAI,CAAEC,EAChB,C,GAxMCjF,EAAAA,EAAMA,C,CADIf,+BAAAA,SAAAA,CAAAA,cAAAA,KAAAA,G,GAEVe,EAAAA,EAAMA,C,CAFIf,+BAAAA,SAAAA,CAAAA,oBAAAA,KAAAA,G,GAGVe,EAAAA,EAAMA,C,CAHIf,+BAAAA,SAAAA,CAAAA,kBAAAA,KAAAA,G,GAKVe,EAAAA,EAAMA,C,CALIf,+BAAAA,SAAAA,CAAAA,mBAAAA,KAAAA,G,GAMVe,EAAAA,EAAMA,C,CANIf,+BAAAA,SAAAA,CAAAA,+BAAAA,KAAAA,G,GAOVe,EAAAA,EAAMA,C,CAPIf,+BAAAA,SAAAA,CAAAA,+BAAAA,KAAAA,G,GASVe,EAAAA,EAAMA,C,CATIf,+BAAAA,SAAAA,CAAAA,qBAAAA,KAAAA,G,GAUVe,EAAAA,EAAMA,C,CAVIf,+BAAAA,SAAAA,CAAAA,iCAAAA,KAAAA,G,GAWVe,EAAAA,EAAMA,C,CAXIf,+BAAAA,SAAAA,CAAAA,iCAAAA,KAAAA,GAAAA,+BAAAA,EAAAA,CADZiG,EAAAA,EAAUA,C,CACEjG,+B,gGCFb,SAASkG,EAAKnF,CAAmB,CAAE+B,CAAY,CAAEqD,CAAmB,EAClE,OAAOpF,EAAOqF,aAAa,CACzB,IAAIC,YAAYvD,EAAM,CACpBwD,QAAS,GACTH,WAAAA,CACF,GAEJ,CASO,SAAS3C,EAAcH,CAAqB,CAAEkD,CAAkB,EACjEA,IACFC,SAUyBnD,CAAqB,CAAEkD,CAAiB,EACnE,GAAI,CAAElD,CAAAA,aAAgBoD,eAAc,EAAI,MAAM,UAAc,yDAC5D,GAAI,CAAEF,CAAAA,aAAqBtG,WAAU,EAAI,MAAM,UAAc,qDAC7D,GAAIsG,WAAAA,EAAUlE,IAAI,CAAe,MAAM,UAAc,iDACrD,GAAI,CAACgB,GAAQA,IAASkD,EAAUlD,IAAI,CAAE,MAAM,MAAU,0DACxD,EAfwBA,EAAMkD,GAC1BG,CAAAA,EAAAA,EAAAA,CAAAA,EAAyBH,IAEvBL,EAAK7C,EAAM,SAAU,KACvBA,EAAKsD,MAAM,EAEf,CAcO,SAASC,EAAYC,CAAgB,CAAEC,CAAuB,EACnE,GAAI,kBAAOA,GACT,GAAID,aAAiBE,iBACnBF,EAAM5D,OAAO,CAAG6D,OAEhB,MAAM,UAAc,mDAEjB,CACL,GAAID,aAAAA,EAAMxE,IAAI,CACZ,MAAM,UAAc,wCAEpBwE,CAAAA,EAAMC,KAAK,CAAGA,CAElB,CACAZ,EAAKW,EAAO,SAAU,GACxB,CAGO,SAASG,EAAe3D,CAAqB,CAAE4D,CAA+B,EACnF,IAAK,IAAMnE,KAAQmE,EAAQ,CACzB,IAAMH,EAAQG,CAAM,CAACnE,EAAK,CACpBgB,EAAUT,EAAK6D,QAAQ,CAACC,SAAS,CAACrE,EAEpCgB,CAAAA,aAAmBiD,iBACrBjD,EAAQgD,KAAK,CAAGA,EACPhD,aAAmBsD,qBAC5BtD,CAAAA,EAAQgD,KAAK,CAAGA,CAAI,CAExB,CACF,CAGO,SAASO,EAAYvD,CAAa,EACvC,GAAI,CAAEA,CAAAA,aAAmB7D,WAAU,EACjC,MAAO,GAGT,IAAM6C,EAAOgB,EAAQwD,QAAQ,CAACpD,WAAW,GACnC7B,EAAO,CAACyB,EAAQjB,YAAY,CAAC,SAAW,EAAC,EAAGqB,WAAW,GAC7D,MACEpB,WAAAA,GACAA,aAAAA,GACCA,UAAAA,GAAoBT,WAAAA,GAAqBA,UAAAA,GAC1CyB,EAAQyD,iBAAiB,CAI7B,SAASC,EAAyBC,CAAkB,EAElD,OAAO,IAAIC,gBAAgBD,EAC7B,CAGO,SAASE,EAA2BC,CAAe,CAAEH,CAAkB,EAC5E,IAAMI,EAAkB,IAAIH,gBAAgBE,EAAWE,MAAM,EAE7D,IAAK,GAAM,CAACrD,EAAKqC,EAAM,GADQU,EAAyBC,GAEtDI,EAAgB7C,MAAM,CAACP,EAAKqC,GAE9B,OAAOe,EAAgBE,QAAQ,EACjC,CAGO,SAASC,EAAU3E,CAAqB,EAC7C,OAAOmE,EAAyB,IAAIS,SAAS5E,IAAO0E,QAAQ,EAC9D,C,kBCvFO,SAASrB,EAAyBwB,CAA4C,EACnF,IAAM7E,EAAO6E,EAAOC,OAAO,CAAC,QAC5B,GAAI,CAAE9E,CAAAA,aAAgBoD,eAAc,EAClC,OAGF,IAAII,EAAQuB,EAA+B/E,GAE3C,GAAI6E,EAAOpF,IAAI,CAAE,CACf,IAAMuF,EAAeH,EAAOI,OAAO,CAAC,sBAAwB,SAAW,GACjExB,EAAQoB,EAAOpB,KAAK,EAAIuB,EACzBxB,IAEHA,CADAA,EAAQvD,SAASiF,aAAa,CAAC,QAAO,EAChClG,IAAI,CAAG,SACbwE,EAAM2B,SAAS,CAACC,GAAG,CAAC,0BACpBpF,EAAKqF,OAAO,CAAC7B,IAEfA,EAAM/D,IAAI,CAAGoF,EAAOpF,IAAI,CACxB+D,EAAMC,KAAK,CAAGA,CAChB,MAAWD,GACTA,EAAM9B,MAAM,EAEhB,CAEO,SAASqD,EAA+B/E,CAAqB,EAClE,IAAMwD,EAAQxD,EAAKyB,aAAa,CAAC,gCACjC,OAAO+B,aAAiBE,iBAAmBF,EAAQ,IACrD,C,0CC9BO,SAASzC,EAAWuE,CAAc,CAAE5E,CAAa,CAAE6E,EAAoB,EAAG,EAC/E,IAAItE,EAAQuE,EAAYF,EAAQ5E,EAAO6E,GAKvC,OAJItE,GAASP,KAAAA,EAAM+E,OAAO,CAAC,MAEzBxE,CAAAA,GAASuE,EADQF,EAAOI,SAAS,CAACJ,EAAOK,WAAW,CAAC,KAAO,GAC7BjF,EAAO6E,EAAiB,EAElDtE,CACT,CAsCO,SAAS2E,EAAsBC,CAAgB,CAAExE,CAAa,CAAEyE,CAAe,EACpF,GAAIzE,EAAM,CACR,IAAM4D,EAAUY,EAAQE,SAAS,CAACnF,IAAI,GAAGoF,KAAK,CAACF,GAAUG,SAvBjCvF,CAAa,EACvC,IAAMwF,EAAQxF,EAAMG,WAAW,GAAGsF,KAAK,CAAC,IAEpCC,EAAQ,GAERC,EAAY,GAChB,IAAK,IAAMC,KAAQJ,EAAO,CAExB,IAAMK,EAAID,EAAKE,OAAO,CAAC,sBAAuB,QAC1CH,GAGFD,GAAS,CAAC,KAAK,EAAEG,EAAE,CAAC,CAAC,CACrBF,EAAY,IAEZD,GAAS,CAAC,GAAG,EAAEG,EAAE,KAAK,EAAEA,EAAE,CAAC,CAAC,CAGhC,OAAO,OAAW,CAAC,EAAEH,EAAM,MAAM,CAAC,CAAE,IACtC,EAIyE/E,IACrE,GAAI,CAAC4D,EAAS,OAEd,IAAIzG,EAAO,GACLiI,EAAO,EAAE,CACf,IAAK,IAAIC,EAAI,EAAGA,EAAIzB,EAAQ0B,MAAM,CAAE,EAAED,EAAG,CACvC,IAAME,EAAI3B,CAAO,CAACyB,EAAE,CACfE,IAEDF,EAAI,GAAM,EACPlI,IAEHiI,EAAKI,IAAI,CAAC,UACVrI,EAAO,IAEAA,IACTiI,EAAKI,IAAI,CAAC,WACVrI,EAAO,IAETiI,EAAKI,IAAI,CAACD,GACZ,CACAf,EAAQE,SAAS,CAAGU,EAAKK,IAAI,CAAC,GAChC,KAAO,CACL,IAAML,EAAOZ,EAAQE,SAAS,CAACnF,IAAI,GAC7BmG,EAAQN,EAAKD,OAAO,CAAC,aAAc,IACrCC,IAASM,GACXlB,CAAAA,EAAQE,SAAS,CAAGgB,CAAI,CAE5B,CACF,C,oCAEA,IAAMC,EAAiB,IAAIC,IAAI,CAAC,IAAK,IAAK,IAAI,EAU9C,SAASzB,EAAY0B,CAAsB,CAAEC,CAAoB,CAAE5B,EAAoB,EAAG,EACxF,IAAID,EAAS4B,EACb,GAAI5B,IAAW6B,EACb,OAAO,EAET,IAAMC,EAAe9B,EAAOqB,MAAM,CAC9BU,EAAsB,EACtBC,EAA+B,EAC/BjB,EAAY,GAChB,IAAK,IAAMC,KAAQa,EAAc,CAC/B,IAAMI,EAAkBjC,EAAOG,OAAO,CAACa,EAAKzF,WAAW,IACjD2G,EAAkBlC,EAAOG,OAAO,CAACa,EAAKmB,WAAW,IACjDC,EAAWxG,KAAKyG,GAAG,CAACJ,EAAiBC,GACrCI,EAAgBF,EAAW,GAAKA,EAAWxG,KAAKC,GAAG,CAACoG,EAAiBC,GAC3E,GAAII,KAAAA,EACF,OAAO,EAETP,GAAuB,GACnB/B,CAAM,CAACsC,EAAc,GAAKtB,GAC5Be,CAAAA,GAAuB,EAAE,EAEL,IAAlBO,IACFP,GAAuB,GAAM9B,EACzBc,GACFiB,CAAAA,EAA+B,IAG/BN,EAAea,GAAG,CAACvC,EAAOwC,MAAM,CAACF,EAAgB,KACnDP,CAAAA,GAAuB,GAAM9B,CAAgB,EAE/CD,EAASA,EAAOI,SAAS,CAACkC,EAAgB,EAAGR,GAC7Cf,EAAY,EACd,CACA,IAAM0B,EAAqBZ,EAAaR,MAAM,CACxCqB,EAAoBX,EAAsBU,EAC5CE,EAAa,CAACD,EAA0CZ,EAA1CY,EAA0DA,CAAgB,EAAK,EAIjG,OAHIV,GAAgCW,EAAa1C,EAAoB,GACnE0C,CAAAA,GAAc1C,CAAgB,EAEzB0C,CACT,CAGO,SAASC,EAAQC,CAAY,CAAEC,CAAY,SAChD,EAAMnH,KAAK,CAAGmH,EAAEnH,KAAK,CACZ,GACEkH,EAAElH,KAAK,CAAGmH,EAAEnH,KAAK,CACnB,EACEkH,EAAE9G,IAAI,CAAG+G,EAAE/G,IAAI,CACjB,GACE8G,EAAE9G,IAAI,CAAG+G,EAAE/G,IAAI,CACjB,EAEA,CAEX,C,kBCjKO,SAAUgH,EAAMhH,CAAI,EACvB,IAAIoC,EAAQ,GACR6E,EAAa,EACb9J,EAAO,GACX,IAAK,IAAIkI,EAAI,EAAGA,EAAIrF,EAAKsF,MAAM,CAAED,GAAK,EAC9BrF,MAAAA,CAAI,CAACqF,EAAE,EAAYrF,MAAAA,CAAI,CAACqF,EAAI,EAAE,EAAYrF,OAAAA,CAAI,CAACqF,EAAI,EAAE,EAAclI,EAQlD,MAAZ6C,CAAI,CAACqF,EAAE,EAAYrF,MAAAA,CAAI,CAACqF,EAAI,EAAE,EAAYrF,OAAAA,CAAI,CAACqF,EAAI,EAAE,EAAalI,IACvEA,EAAO,GACP,KAAM,CAAEQ,KAAM,OAAQuJ,MAAOD,EAAYE,IAAK9B,EAAI,EAAGjD,MAAOA,EAAMgF,KAAK,CAAC,GAAG7H,IAAI,EAAG,EAClF6C,EAAQ,GACRiD,GAAK,EACL4B,EAAa5B,IAZblI,EAAO,GACHiF,GACA,MAAM,CAAEzE,KAAM,SAAUuJ,MAAOD,EAAYE,IAAK9B,EAAGjD,MAAAA,CAAM,GAC7DA,EAAQ,KACR6E,EAAa5B,EACbA,GAAK,GASTjD,GAASpC,CAAI,CAACqF,EAAE,EAAI,GAEpBjD,GACA,MAAM,CAAEzE,KAAM,SAAUuJ,MAAOD,EAAYE,IAAKnH,EAAKsF,MAAM,CAAElD,MAAAA,CAAM,EAC3E,C,0CCxBA,IAaIiF,EAASC,ECATC,ECAAC,EAAY,EFbZC,EAAkE,SAAUC,CAAQ,CAAEC,CAAU,CAAEvF,CAAK,EACvG,GAAI,CAACuF,EAAWnB,GAAG,CAACkB,GAChB,MAAM,UAAc,kDAGxB,OADAC,EAAW1H,GAAG,CAACyH,EAAUtF,GAClBA,CACX,EACIwF,EAAkE,SAAUF,CAAQ,CAAEC,CAAU,EAChG,GAAI,CAACA,EAAWnB,GAAG,CAACkB,GAChB,MAAM,UAAc,kDAExB,OAAOC,EAAWE,GAAG,CAACH,EAC1B,EAEO,gCAAMI,sBACTC,YAAYC,CAAM,CAAEC,CAAU,CAAE,CAC5B,IAAI,CAACA,UAAU,CAAGA,EAClBZ,EAAQpH,GAAG,CAAC,IAAI,CAAE,KAAK,GACvBqH,EAAOrH,GAAG,CAAC,IAAI,CAAE,IACjBwH,EAAuB,IAAI,CAAEJ,EAASW,GACtCJ,EAAuB,IAAI,CAAEP,GAASa,YAAY,CAAC,GACvD,CACA,IAAIC,eAAgB,CAChB,OAAOP,EAAuB,IAAI,CAAEP,GAASe,IAAI,CAAChK,IAAI,CAE1D,IAAIiK,oBAAqB,CACrB,OAAOT,EAAuB,IAAI,CAAEP,GAASe,IAAI,CAACE,YAAY,CAElE,IAAIlG,OAAQ,CACR,OAAOwF,EAAuB,IAAI,CAAEN,EACxC,CACA,IAAIlF,MAAMA,CAAK,CAAE,CACbqF,EAAuB,IAAI,CAAEH,EAAQlF,GAAS,IAC9CwF,EAAuB,IAAI,CAAEP,GAASa,YAAY,CAAC9F,EACvD,CACA,IAAIhD,SAAU,CACV,OAAOwI,EAAuB,IAAI,CAAEP,GAASjI,OAAO,CAExD,IAAImJ,cAAe,CACf,OAAOX,EAAuB,IAAI,CAAEP,GAASkB,YAAY,CAE7D,IAAIA,aAAanG,CAAK,CAAE,CACpBwF,EAAuB,IAAI,CAAEP,GAASkB,YAAY,CAAGnG,CACzD,CACJ,CACAiF,CAAAA,EAAU,IAAImB,QAAWlB,EAAS,IAAIkB,QAC/B,+BAAMC,qBACTV,YAAY3I,CAAO,CAAEgJ,CAAI,CAAE,CACvB,IAAI,CAAChJ,OAAO,CAAGA,EACf,IAAI,CAACgJ,IAAI,CAAGA,EACZ,IAAI,CAACM,QAAQ,CAAG,EAAE,CAEtB,IAAIH,cAAe,CACf,OAAO,IAAI,CAACnJ,OAAO,CAACuJ,cAAc,CAAC,IAAI,CAACP,IAAI,CAACE,YAAY,CAAE,IAAI,CAACF,IAAI,CAAChK,IAAI,CAC7E,CACA,IAAImK,aAAanG,CAAK,CAAE,CACpB,GAAI,QAAI,CAACsG,QAAQ,CAACpD,MAAM,CACpB,MAAM,IAAIsD,aAAa,0BAA2B,oBAGtD,KAAI,CAACF,QAAQ,CAAC,EAAE,CAACtG,KAAK,CAAGA,EAAQ,GAAK,IAC1C,CACA9B,OAAOuI,CAAI,CAAE,CACT,IAAI,CAACH,QAAQ,CAAClD,IAAI,CAACqD,EACvB,CACAX,aAAaY,CAAS,CAAE,CACpB,GAAI,QAAI,CAACJ,QAAQ,CAACpD,MAAM,EAAUwD,OAAAA,EAC9B,IAAI,CAAC1J,OAAO,CAAC2J,iBAAiB,CAAC,IAAI,CAACX,IAAI,CAACE,YAAY,CAAE,IAAI,CAACF,IAAI,CAAChK,IAAI,MAEpE,CACD,IAAM4K,EAAM,IAAI,CAACN,QAAQ,CAACO,GAAG,CAACC,GAAM,iBAAOA,EAAiBA,EAAIA,EAAE9G,KAAK,EAAGqD,IAAI,CAAC,IAC/E,IAAI,CAACrG,OAAO,CAAC+J,cAAc,CAAC,IAAI,CAACf,IAAI,CAACE,YAAY,CAAE,IAAI,CAACF,IAAI,CAAChK,IAAI,CAAE4K,EACxE,CACJ,CACJ,EC1EA,IAAI,EAAkE,SAAUtB,CAAQ,CAAEC,CAAU,CAAEvF,CAAK,EACvG,GAAI,CAACuF,EAAWnB,GAAG,CAACkB,GAChB,MAAM,UAAc,kDAGxB,OADAC,EAAW1H,GAAG,CAACyH,EAAUtF,GAClBA,CACX,EACI,EAAkE,SAAUsF,CAAQ,CAAEC,CAAU,EAChG,GAAI,CAACA,EAAWnB,GAAG,CAACkB,GAChB,MAAM,UAAc,kDAExB,OAAOC,EAAWE,GAAG,CAACH,EAC1B,EAEO,2BAAM0B,iBACTrB,YAAYsB,CAAI,CAAEpB,CAAU,CAAE,CAC1B,IAAI,CAACA,UAAU,CAAGA,EAClBV,EAAOtH,GAAG,CAAC,IAAI,CAAE,KAAK,GACtB,EAAuB,IAAI,CAAEsH,EAAQ,CAAC8B,EAAK,EAC3CA,EAAKC,WAAW,CAAG,EACvB,CACA,IAAIlH,OAAQ,CACR,OAAO,EAAuB,IAAI,CAAEmF,GAAQ0B,GAAG,CAACI,GAAQA,EAAKC,WAAW,EAAE7D,IAAI,CAAC,GACnF,CACA,IAAIrD,MAAM6B,CAAM,CAAE,CACd,IAAI,CAACkB,OAAO,CAAClB,EACjB,CACA,IAAIsF,iBAAkB,CAClB,OAAO,EAAuB,IAAI,CAAEhC,EAAO,CAAC,EAAE,CAACgC,eAAe,CAElE,IAAIC,aAAc,CACd,OAAO,EAAuB,IAAI,CAAEjC,EAAO,CAAC,EAAuB,IAAI,CAAEA,GAAQjC,MAAM,CAAG,EAAE,CAACkE,WAAW,CAE5GrE,QAAQ,GAAGsE,CAAK,CAAE,CACd,IAAMC,EAAQD,EAAMR,GAAG,CAACI,GACpB,UAAI,OAAOA,EACA,IAAIM,KAAKN,GACbA,GAKX,IAAK,IAAMR,KAHNa,EAAMpE,MAAM,EACboE,EAAMlE,IAAI,CAAC,IAAImE,KAAK,KACxB,EAAuB,IAAI,CAAEpC,EAAO,CAAC,EAAE,CAACqC,MAAM,IAAIF,GAC/B,EAAuB,IAAI,CAAEnC,IAC5CsB,EAAKxI,MAAM,GACf,EAAuB,IAAI,CAAEkH,EAAQmC,EACzC,CACJ,EE7CO,SAASG,EAAgBC,CAAW,EACvC,MAAO,CACHC,eAAeC,CAAQ,CAAEN,CAAK,CAAEO,CAAM,EAClC,IAAI,CAACC,eAAe,CAACF,EAAUN,EAAOO,EAC1C,EACAC,gBAAgBC,CAAC,CAAET,CAAK,CAAEO,CAAM,EAC5B,IAAIG,EACJ,GAAI,iBAAOH,GAAwBA,EAEnC,KAAK,IAAMpB,KAAQa,EACf,GAAIb,EAAKZ,UAAU,IAAIgC,EAAQ,CAC3B,IAAM7H,EAAQ,OAACgI,CAAAA,EAAKH,CAAM,CAACpB,EAAKZ,UAAU,CAAC,GAAcmC,KAAY,IAAZA,EAAgBA,EAAK,GAC9EN,EAAYjB,EAAMzG,EACtB,CACJ,CACJ,CACJ,CACJ,CACO,SAASiI,EAAwBxB,CAAI,CAAEzG,CAAK,EAC/CyG,EAAKzG,KAAK,CAAGkI,OAAOlI,EACxB,CF0BAmF,EAAS,IAAIiB,QEhBN,IAAM+B,EAAmBV,EAAgBQ,GACnCjJ,EAAqCyI,EAAgB,CAAChB,EAAMzG,KACrEoI,CAXG,SAAiC3B,CAAI,CAAEzG,CAAK,QAC/C,WAAI,OAAOA,GACPyG,aAAgBf,uBAChB,kBAAOe,EAAKzJ,OAAO,CAACyJ,EAAKV,aAAa,CAAC,GACvCU,EAAKN,YAAY,CAAGnG,EACb,GAGf,GAG4ByG,EAAMzG,IAAUiI,EAAwBxB,EAAMzG,EAC1E,GDlCA,IAAI,EAAkE,SAAUsF,CAAQ,CAAEC,CAAU,CAAEvF,CAAK,EACvG,GAAI,CAACuF,EAAWnB,GAAG,CAACkB,GAChB,MAAM,UAAc,kDAGxB,OADAC,EAAW1H,GAAG,CAACyH,EAAUtF,GAClBA,CACX,EACI,EAAkE,SAAUsF,CAAQ,CAAEC,CAAU,EAChG,GAAI,CAACA,EAAWnB,GAAG,CAACkB,GAChB,MAAM,UAAc,kDAExB,OAAOC,EAAWE,GAAG,CAACH,EAC1B,EAuCO,2BAAM3G,yBAAyB0J,iBAClC1C,YAAY2C,CAAQ,CAAET,CAAM,CAAEU,EAAYJ,CAAgB,CAAE,CACxD,IAAIH,EAAIQ,EACR,KAAK,GACLpD,EAAWvH,GAAG,CAAC,IAAI,CAAE,KAAK,GAC1B,EAAOA,GAAG,CAAC,IAAI,CAAE,KAAK,GAIlB4K,OAAOC,cAAc,CAAC,IAAI,GAAK/J,iBAAiBgK,SAAS,GACzDF,OAAOG,cAAc,CAAC,IAAI,CAAEjK,iBAAiBgK,SAAS,EAE1D,IAAI,CAACE,WAAW,CAACP,EAASlG,OAAO,CAAC0G,SAAS,CAAC,KAC5C,EAAuB,IAAI,CAAE,EAAQC,MAAMC,IAAI,CAACC,UA9CjCC,CAAE,MAEjBjC,EADJ,IAAMkC,EAASD,EAAGE,aAAa,CAACC,gBAAgB,CAACH,EAAII,WAAWC,SAAS,CAAGD,WAAWE,YAAY,CAAE,KAAM,IAE3G,KAAQvC,EAAOkC,EAAOM,QAAQ,IAC1B,GAAIxC,aAAgByC,SAAWzC,EAAK0C,aAAa,GAC7C,IAAK,IAAI1G,EAAI,EAAGA,EAAIgE,EAAK2C,UAAU,CAAC1G,MAAM,CAAED,GAAK,EAAG,CAChD,IAAM+C,EAAOiB,EAAK2C,UAAU,CAAChO,IAAI,CAACqH,GAClC,GAAI+C,GAAQA,EAAKhG,KAAK,CAAC6J,QAAQ,CAAC,MAAO,CACnC,IAAMC,EAAc,IAAIzD,qBAAqBY,EAAMjB,GACnD,IAAK,IAAM+D,KAASnF,EAAMoB,EAAKhG,KAAK,EAChC,GAAI+J,WAAAA,EAAMxO,IAAI,CACVuO,EAAY5L,MAAM,CAAC6L,EAAM/J,KAAK,MAE7B,CACD,IAAMyG,EAAO,IAAIf,sBAAsBoE,EAAaC,EAAM/J,KAAK,EAC/D8J,EAAY5L,MAAM,CAACuI,GACnB,MAAMA,CACV,CAER,CACJ,MAEC,GAAIQ,aAAgBM,MAAQN,EAAKC,WAAW,EAAID,EAAKC,WAAW,CAAC2C,QAAQ,CAAC,MAC3E,IAAK,IAAME,KAASnF,EAAMqC,EAAKC,WAAW,EAAG,CACrC6C,EAAMhF,GAAG,CAAGkC,EAAKC,WAAW,CAAChE,MAAM,EACnC+D,EAAK+C,SAAS,CAACD,EAAMhF,GAAG,EACT,SAAfgF,EAAMxO,IAAI,EACV,OAAM,IAAIyL,iBAAiBC,EAAM8C,EAAM/J,KAAK,GAChD,KACJ,CAGZ,EAcqE,IAAI,IACjE,EAAuB,IAAI,CAAEoF,EAAYmD,GACzC,OAACC,CAAAA,EAAK,CAACR,EAAK,EAAuB,IAAI,CAAE5C,EAAU,EAAGuC,cAAc,GAAca,KAAY,IAAZA,GAAyBA,EAAGyB,IAAI,CAACjC,EAAI,IAAI,CAAE,EAAuB,IAAI,CAAE,GAASH,EACvK,CACAqC,OAAOrC,CAAM,CAAE,CACX,EAAuB,IAAI,CAAEzC,GAAY0C,eAAe,CAAC,IAAI,CAAE,EAAuB,IAAI,CAAE,GAASD,EACzG,CACJ,CACAzC,CAAAA,EAAa,IAAIgB,QAAW,EAAS,IAAIA,O","sources":["app/components/memex/memex-project-picker-panel-element.ts","ui/packages/form-utils/form-utils.ts","ui/packages/form-utils/remote-submit.ts","ui/packages/fuzzy-filter/fuzzy-filter.ts","node_modules/@github/template-parts/lib/template-string-parser.js","node_modules/@github/template-parts/lib/attribute-template-part.js","node_modules/@github/template-parts/lib/node-template-part.js","node_modules/@github/template-parts/lib/template-instance.js","node_modules/@github/template-parts/lib/processors.js"],"sourcesContent":["import {controller, target} from '@github/catalyst'\nimport {TemplateInstance, propertyIdentityOrBooleanAttribute} from '@github/template-parts'\nimport type {SelectPanelExperimentalElement, ItemActivatedEvent} from '../primer/experimental/select-panel-element'\nimport {type TextScore, fuzzyScore} from '@github-ui/fuzzy-filter'\nimport {requestSubmit} from '@github-ui/form-utils'\n\n@controller\nexport class MemexProjectPickerPanelElement extends HTMLElement {\n  @target selectPanel: SelectPanelExperimentalElement\n  @target selectionTemplate: HTMLTemplateElement\n  @target submitContainer: HTMLElement\n\n  @target linkInterstitial: HTMLDialogElement\n  @target linkInterstitialSubmitButton: HTMLButtonElement\n  @target linkInterstitialCancelButton: HTMLButtonElement\n\n  @target unlinkInterstitial: HTMLDialogElement\n  @target unlinkInterstitialSubmitButton: HTMLDialogElement\n  @target unlinkInterstitialCancelButton: HTMLButtonElement\n\n  private hashedItemScore = new Map<HTMLElement, TextScore>()\n\n  #abortController: AbortController\n  #addOrRemoveAbortController: AbortController | null = null\n\n  connectedCallback() {\n    this.selectPanel.filterFn = this.#filterFn.bind(this)\n    const {signal} = (this.#abortController = new AbortController())\n    this.addEventListener('beforeItemActivated', this, {signal})\n\n    const closeObserver = new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        const elem = entry.target\n        if (!entry.isIntersecting && (elem === this.linkInterstitial || elem === this.unlinkInterstitial)) {\n          // disconnect add/remove listeners when the interstitial closes\n          this.#addOrRemoveAbortController?.abort()\n          this.#addOrRemoveAbortController = null\n        }\n      }\n    })\n\n    if (this.linkInterstitial && this.unlinkInterstitial) {\n      closeObserver.observe(this.linkInterstitial)\n      closeObserver.observe(this.unlinkInterstitial)\n    } else {\n      const mutationObserver = new MutationObserver(() => {\n        if (this.linkInterstitial) closeObserver.observe(this.linkInterstitial)\n        if (this.unlinkInterstitial) closeObserver.observe(this.unlinkInterstitial)\n\n        mutationObserver.disconnect()\n      })\n\n      mutationObserver.observe(this, {childList: true, subtree: true})\n    }\n  }\n\n  get filterInput(): HTMLInputElement {\n    return this.selectPanel.filterInputTextField\n  }\n\n  get open(): boolean {\n    return this.selectPanel.open\n  }\n\n  get list(): HTMLElement | null {\n    return this.selectPanel.list\n  }\n\n  disconnectedCallback() {\n    this.#abortController.abort()\n  }\n\n  resetSelectionDiff() {\n    this.submitContainer.replaceChildren()\n  }\n\n  #filterFn(element: HTMLElement, query: string) {\n    if (!query) return true\n\n    const itemText = (element.getAttribute('data-name') || '').trim().toLowerCase()\n    const textScore = fuzzyScore(itemText, query)\n\n    // Support querying by project number or link (ex: https://github.com/orgs/github/projects/6253)\n    // by scoring the item number against the query and vice versa\n    const itemNumber = element.getAttribute('data-number') || ''\n    const numberInQueryScore = fuzzyScore(query, itemNumber)\n    const queryInNumberScore = fuzzyScore(itemNumber, query)\n\n    const score = Math.max(textScore, numberInQueryScore, queryInNumberScore)\n\n    // Constructing the hash<item, TextScore> needed for the sorting function\n    // during the filter process to avoid doing the score again when filtering is done\n    const key = score > 0 ? {score, text: itemText} : null\n    if (key) this.hashedItemScore.set(element, key)\n    return score > 0\n  }\n\n  handleEvent(event: Event) {\n    if (event.type === 'beforeItemActivated') {\n      if (this.#submitOnActivation()) {\n        // don't check or uncheck until we've gotten an answer from the interstitial\n        event.preventDefault()\n      }\n\n      const itemActivatedEvent = event as CustomEvent<ItemActivatedEvent>\n      const elem = itemActivatedEvent.detail.item\n      const number = parseInt(elem.getAttribute('data-number') || '', 10)\n      const name = elem.getAttribute('data-name') || ''\n      const owner = elem.getAttribute('data-owner') || ''\n\n      this.#addOrRemoveItem(name, number, owner, itemActivatedEvent.detail.checked)\n    }\n  }\n\n  addItem(name: string, number: number, owner: string): boolean {\n    return this.#addOrRemoveItem(name, number, owner, true)\n  }\n\n  removeItem(name: string, number: number, owner: string): boolean {\n    return this.#addOrRemoveItem(name, number, owner, false)\n  }\n\n  // returns whether or not the item was successfully removed\n  #addOrRemoveItem(name: string, number: number, owner: string, checked: boolean): boolean {\n    const updateFormInputs = () => {\n      const existingInput = this.submitContainer.querySelector(`[data-project-number=\"${number}\"]`)\n\n      if (existingInput) {\n        existingInput.remove()\n      } else {\n        this.submitContainer.append(this.#createSubmitSelection(name, number, owner, checked))\n      }\n    }\n\n    const interstitialSubmitListener = (e: Event) => {\n      e.stopPropagation()\n      e.preventDefault()\n\n      updateFormInputs()\n\n      if (this.#submitOnActivation()) {\n        this.triggerUpdate()\n      }\n    }\n\n    const {signal} = (this.#addOrRemoveAbortController = new AbortController())\n\n    if (checked) {\n      if (this.linkInterstitial) {\n        this.linkInterstitialSubmitButton.addEventListener('click', interstitialSubmitListener, {once: true, signal})\n        this.linkInterstitial.showModal()\n      } else {\n        updateFormInputs()\n\n        if (this.#submitOnActivation()) {\n          this.triggerUpdate()\n        }\n      }\n    } else {\n      if (this.unlinkInterstitial) {\n        this.unlinkInterstitialSubmitButton.addEventListener('click', interstitialSubmitListener, {once: true, signal})\n        this.unlinkInterstitial.showModal()\n      } else {\n        updateFormInputs()\n\n        if (this.#submitOnActivation()) {\n          this.triggerUpdate()\n        }\n      }\n    }\n\n    return false\n  }\n\n  #createSubmitSelection(name: string, number: number, owner: string, checked: boolean) {\n    return new TemplateInstance(\n      this.selectionTemplate,\n      {\n        name: `projects_changes[${number}]`,\n        checked,\n        projectNumber: number,\n        projectName: name,\n        projectOwner: owner,\n        type: checked ? 'checkbox' : 'hidden',\n      },\n      propertyIdentityOrBooleanAttribute,\n    )\n  }\n\n  triggerUpdate() {\n    const form = document.getElementById('js-project-picker-form') as HTMLFormElement\n    if (form) requestSubmit(form)\n  }\n\n  linkInterstitialClose() {\n    this.linkInterstitial.close()\n  }\n\n  unlinkInterstitialClose() {\n    this.unlinkInterstitial.close()\n  }\n\n  get #multiselect(): boolean {\n    return this.selectPanel.selectVariant === 'multiple'\n  }\n\n  #submitOnActivation(): boolean {\n    return !this.#multiselect\n  }\n}\n","import {persistSubmitButtonValue} from './remote-submit'\n\ntype TextField = HTMLInputElement | HTMLTextAreaElement\ntype Button = HTMLInputElement | HTMLButtonElement\n\nfunction fire(target: HTMLElement, name: string, cancelable: boolean): boolean {\n  return target.dispatchEvent(\n    new CustomEvent(name, {\n      bubbles: true,\n      cancelable,\n    }),\n  )\n}\n\n// Submit a form while ensuring that `submit` event is also triggered.\n//\n// Calling native `form.submit()` method immediately submits the form without triggering the `submit` event.\n// As a result, code that wants to hook into form submits would never execute.\n//\n// This method first triggers the `submit` event and, if that event wasn't `preventDefault`d, submits the\n// form natively.\nexport function requestSubmit(form: HTMLFormElement, submitter?: Button) {\n  if (submitter) {\n    checkButtonValidity(form, submitter)\n    persistSubmitButtonValue(submitter)\n  }\n  if (fire(form, 'submit', true)) {\n    form.submit()\n  }\n}\n\n// Check submitter validity for form.requestSubmit compatibility.\n// See https://html.spec.whatwg.org/#dom-form-requestsubmit.\nfunction checkButtonValidity(form: HTMLFormElement, submitter: Button) {\n  if (!(form instanceof HTMLFormElement)) throw new TypeError('The specified element is not of type HTMLFormElement.')\n  if (!(submitter instanceof HTMLElement)) throw new TypeError('The specified element is not of type HTMLElement.')\n  if (submitter.type !== 'submit') throw new TypeError('The specified element is not a submit button.')\n  if (!form || form !== submitter.form) throw new Error('The specified element is not owned by the form element.')\n}\n\n// Set a form field value while ensuring that `change` event is also triggered.\n//\n// Having the `change` event fire is important for various behaviors to react, such as form validation.\nexport function changeValue(input: TextField, value: string | boolean) {\n  if (typeof value === 'boolean') {\n    if (input instanceof HTMLInputElement) {\n      input.checked = value\n    } else {\n      throw new TypeError('only checkboxes can be set to boolean value')\n    }\n  } else {\n    if (input.type === 'checkbox') {\n      throw new TypeError(\"checkbox can't be set to string value\")\n    } else {\n      input.value = value\n    }\n  }\n  fire(input, 'change', false)\n}\n\n// Fill multiple form fields by item name.\nexport function fillFormValues(form: HTMLFormElement, fields: {[key: string]: string}) {\n  for (const name in fields) {\n    const value = fields[name]\n    const element = form.elements.namedItem(name)\n\n    if (element instanceof HTMLInputElement) {\n      element.value = value!\n    } else if (element instanceof HTMLTextAreaElement) {\n      element.value = value!\n    }\n  }\n}\n\n// Test if element is a form field.\nexport function isFormField(element: Node): boolean {\n  if (!(element instanceof HTMLElement)) {\n    return false\n  }\n\n  const name = element.nodeName.toLowerCase()\n  const type = (element.getAttribute('type') || '').toLowerCase()\n  return (\n    name === 'select' ||\n    name === 'textarea' ||\n    (name === 'input' && type !== 'submit' && type !== 'reset') ||\n    element.isContentEditable\n  )\n}\n\nfunction searchParamsFromFormData(formData: FormData): URLSearchParams {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return new URLSearchParams(formData as any)\n}\n\n// Get a `?` search string for a URL for a GET form, using its `action` attribute as well as its other fields.\nexport function combineGetFormSearchParams(formAction: URL, formData: FormData): string {\n  const allSearchParams = new URLSearchParams(formAction.search)\n  const searchParamsFromInputs = searchParamsFromFormData(formData)\n  for (const [key, value] of searchParamsFromInputs) {\n    allSearchParams.append(key, value)\n  }\n  return allSearchParams.toString()\n}\n\n// Serialize form data into string.\nexport function serialize(form: HTMLFormElement): string {\n  return searchParamsFromFormData(new FormData(form)).toString()\n}\n","// Emulates submit button submission values by inserting a hidden input to the form.\n//\n// Submit events can be triggerd in the following ways:\n// - User clicks on a submit button.\n// - User press Enter when focusing on a form field; also known as \"implicit submission\".\n// - Programmatically via requestSubmit helper.\n//\n// On GitHub.com, the submission is either handled by the browser or remoteForm.\n//\n// For submissions triggered by user actions, the name and value of the clicked submit button (also known as\n// \"the submitter\") is passed along in the request, and can be programmatically retrieved with FormData.entries().\n//\n// However, this value will be lost in the following cases:\n// - 1. When the submitter button is disabled, most commonly by [data-disable-with].\n// - 2. When submitting via requestSubmit (from form.js), because the submission does not originated from a submitter.\n// - 3. When submitting with remoteForm, because FormData(form).entries() does not know about the submitter. In Safari\n// the submitter is known during the submission steps, but this behavior is not supported in any other browsers.\n//\n// @see {@link https://github.com/github/form-data-entries/pull/7}.\n//\n// For the exact workarounds, refer to ./form.js and ./remote.js.\nexport function persistSubmitButtonValue(button: HTMLButtonElement | HTMLInputElement) {\n  const form = button.closest('form')\n  if (!(form instanceof HTMLFormElement)) {\n    return\n  }\n\n  let input = findPersistedSubmitButtonValue(form)\n\n  if (button.name) {\n    const defaultValue = button.matches('input[type=submit]') ? 'Submit' : ''\n    const value = button.value || defaultValue\n    if (!input) {\n      input = document.createElement('input')\n      input.type = 'hidden'\n      input.classList.add('js-submit-button-value')\n      form.prepend(input)\n    }\n    input.name = button.name\n    input.value = value\n  } else if (input) {\n    input.remove()\n  }\n}\n\nexport function findPersistedSubmitButtonValue(form: HTMLFormElement): HTMLInputElement | null {\n  const input = form.querySelector('input.js-submit-button-value')\n  return input instanceof HTMLInputElement ? input : null\n}\n","// Example\n// ```js\n//     fuzzyScore(\"foo.html\", \"foo\")\n//     // => 0.6458333333333334\n// ```\n//\n// ```js\n//     // Compute re once\n//     re = fuzzyRegexp(\"foo\")\n//     fuzzyScore(\"foo.html\", re)\n//     fuzzyScore(\"bar.html\", re)\n//     // => 0.6458333333333334\n// ```\n//\n// Returns a number between 0 and 1. 0 being the worst match and 1\n// being an exact match.\n// You can change the `prefixBonusWeight` variable to alter ordering.\n// Currently fuzzy search for the labels picker uses a weaker prefix bonus to weight heavier full word matches.\nexport function fuzzyScore(string: string, query: string, prefixBonusWeight = 0.1): number {\n  let score = stringScore(string, query, prefixBonusWeight)\n  if (score && query.indexOf('/') === -1) {\n    const basename = string.substring(string.lastIndexOf('/') + 1)\n    score += stringScore(basename, query, prefixBonusWeight)\n  }\n  return score\n}\n\n// Create a regexp that can be used to fuzzy match a given string. Any\n// special regexp characters in the input string will be escaped\n// correctly.\n//\n// A query of \"bar\" becomes /(.*)(b)([^a]*?)(a)([^r]*?)(r)(.*?)/.\n//\n// /\n//  (.*)     whatever's before the first b\n//  (b)      grab the first b of bar\n//  ([^a]*?) take everything up to the a of bar\n//  (a)      take the a of bar\n//  ([^r]*?) take everything up to the r of bar\n//  (r)      take the r of bar\n//  (.*?)    take the rest of the string\n// /\nexport function fuzzyRegexp(query: string): RegExp {\n  const chars = query.toLowerCase().split('')\n\n  let regex = ''\n\n  let firstChar = true\n  for (const char of chars) {\n    // must escape these chars so we match literals\n    const c = char.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n    if (firstChar) {\n      // for the first we want to greedily match anything, which pushes\n      // the first match as late as possible in the string\n      regex += `(.*)(${c})`\n      firstChar = false\n    } else {\n      regex += `([^${c}]*?)(${c})`\n    }\n  }\n  return new RegExp(`${regex}(.*?)$`, 'i')\n}\n\nexport function fuzzyHighlightElement(content: Element, text?: string, textRe?: RegExp): void {\n  if (text) {\n    const matches = content.innerHTML.trim().match(textRe || fuzzyRegexp(text))\n    if (!matches) return\n\n    let open = false\n    const html = []\n    for (let i = 1; i < matches.length; ++i) {\n      const m = matches[i]\n      if (!m) continue\n\n      if (i % 2 === 0) {\n        if (!open) {\n          // eslint-disable-next-line github/unescaped-html-literal\n          html.push('<mark>')\n          open = true\n        }\n      } else if (open) {\n        html.push('</mark>')\n        open = false\n      }\n      html.push(m)\n    }\n    content.innerHTML = html.join('')\n  } else {\n    const html = content.innerHTML.trim()\n    const clean = html.replace(/<\\/?mark>/g, '')\n    if (html !== clean) {\n      content.innerHTML = clean\n    }\n  }\n}\n\nconst wordSeparators = new Set([' ', '-', '_'])\n\n// string_score.js: Quicksilver-like string scoring algorithm.\n//  https://raw.github.com/joshaven/string_score/master/coffee/string_score.coffee\n//\n// Copyright (C) 2009-2011 Joshaven Potter <yourtech@gmail.com>\n// Copyright (C) 2010-2011 Yesudeep Mangalapilly <yesudeep@gmail.com>\n// MIT license: http://www.opensource.org/licenses/mit-license.php\n//\n// A string score implementation.\nfunction stringScore(originalString: string, abbreviation: string, prefixBonusWeight = 0.1): number {\n  let string = originalString\n  if (string === abbreviation) {\n    return 1.0\n  }\n  const stringLength = string.length\n  let totalCharacterScore = 0.0\n  let shouldAwardCommonPrefixBonus = 0\n  let firstChar = true\n  for (const char of abbreviation) {\n    const indexCLowercase = string.indexOf(char.toLowerCase())\n    const indexCUppercase = string.indexOf(char.toUpperCase())\n    const minIndex = Math.min(indexCLowercase, indexCUppercase)\n    const indexInString = minIndex > -1 ? minIndex : Math.max(indexCLowercase, indexCUppercase)\n    if (indexInString === -1) {\n      return 0.0\n    }\n    totalCharacterScore += 0.1\n    if (string[indexInString] === char) {\n      totalCharacterScore += 0.1\n    }\n    if (indexInString === 0) {\n      totalCharacterScore += 0.9 - prefixBonusWeight\n      if (firstChar) {\n        shouldAwardCommonPrefixBonus = 1\n      }\n    }\n    if (wordSeparators.has(string.charAt(indexInString - 1))) {\n      totalCharacterScore += 0.9 - prefixBonusWeight\n    }\n    string = string.substring(indexInString + 1, stringLength)\n    firstChar = false\n  }\n  const abbreviationLength = abbreviation.length\n  const abbreviationScore = totalCharacterScore / abbreviationLength\n  let finalScore = (abbreviationScore * (abbreviationLength / stringLength) + abbreviationScore) / 2\n  if (shouldAwardCommonPrefixBonus && finalScore + prefixBonusWeight < 1) {\n    finalScore += prefixBonusWeight\n  }\n  return finalScore\n}\n\nexport type TextScore = {score: number; text: string}\nexport function compare(a: TextScore, b: TextScore): -1 | 0 | 1 {\n  if (a.score > b.score) {\n    return -1\n  } else if (a.score < b.score) {\n    return 1\n  } else if (a.text < b.text) {\n    return -1\n  } else if (a.text > b.text) {\n    return 1\n  } else {\n    return 0\n  }\n}\n","export function* parse(text) {\n    let value = '';\n    let tokenStart = 0;\n    let open = false;\n    for (let i = 0; i < text.length; i += 1) {\n        if (text[i] === '{' && text[i + 1] === '{' && text[i - 1] !== '\\\\' && !open) {\n            open = true;\n            if (value)\n                yield { type: 'string', start: tokenStart, end: i, value };\n            value = '{{';\n            tokenStart = i;\n            i += 2;\n        }\n        else if (text[i] === '}' && text[i + 1] === '}' && text[i - 1] !== '\\\\' && open) {\n            open = false;\n            yield { type: 'part', start: tokenStart, end: i + 2, value: value.slice(2).trim() };\n            value = '';\n            i += 2;\n            tokenStart = i;\n        }\n        value += text[i] || '';\n    }\n    if (value)\n        yield { type: 'string', start: tokenStart, end: text.length, value };\n}\n//# sourceMappingURL=template-string-parser.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _setter, _value;\nexport class AttributeTemplatePart {\n    constructor(setter, expression) {\n        this.expression = expression;\n        _setter.set(this, void 0);\n        _value.set(this, '');\n        __classPrivateFieldSet(this, _setter, setter);\n        __classPrivateFieldGet(this, _setter).updateParent('');\n    }\n    get attributeName() {\n        return __classPrivateFieldGet(this, _setter).attr.name;\n    }\n    get attributeNamespace() {\n        return __classPrivateFieldGet(this, _setter).attr.namespaceURI;\n    }\n    get value() {\n        return __classPrivateFieldGet(this, _value);\n    }\n    set value(value) {\n        __classPrivateFieldSet(this, _value, value || '');\n        __classPrivateFieldGet(this, _setter).updateParent(value);\n    }\n    get element() {\n        return __classPrivateFieldGet(this, _setter).element;\n    }\n    get booleanValue() {\n        return __classPrivateFieldGet(this, _setter).booleanValue;\n    }\n    set booleanValue(value) {\n        __classPrivateFieldGet(this, _setter).booleanValue = value;\n    }\n}\n_setter = new WeakMap(), _value = new WeakMap();\nexport class AttributeValueSetter {\n    constructor(element, attr) {\n        this.element = element;\n        this.attr = attr;\n        this.partList = [];\n    }\n    get booleanValue() {\n        return this.element.hasAttributeNS(this.attr.namespaceURI, this.attr.name);\n    }\n    set booleanValue(value) {\n        if (this.partList.length !== 1) {\n            throw new DOMException('Operation not supported', 'NotSupportedError');\n        }\n        ;\n        this.partList[0].value = value ? '' : null;\n    }\n    append(part) {\n        this.partList.push(part);\n    }\n    updateParent(partValue) {\n        if (this.partList.length === 1 && partValue === null) {\n            this.element.removeAttributeNS(this.attr.namespaceURI, this.attr.name);\n        }\n        else {\n            const str = this.partList.map(s => (typeof s === 'string' ? s : s.value)).join('');\n            this.element.setAttributeNS(this.attr.namespaceURI, this.attr.name, str);\n        }\n    }\n}\n//# sourceMappingURL=attribute-template-part.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _parts;\nexport class NodeTemplatePart {\n    constructor(node, expression) {\n        this.expression = expression;\n        _parts.set(this, void 0);\n        __classPrivateFieldSet(this, _parts, [node]);\n        node.textContent = '';\n    }\n    get value() {\n        return __classPrivateFieldGet(this, _parts).map(node => node.textContent).join('');\n    }\n    set value(string) {\n        this.replace(string);\n    }\n    get previousSibling() {\n        return __classPrivateFieldGet(this, _parts)[0].previousSibling;\n    }\n    get nextSibling() {\n        return __classPrivateFieldGet(this, _parts)[__classPrivateFieldGet(this, _parts).length - 1].nextSibling;\n    }\n    replace(...nodes) {\n        const parts = nodes.map(node => {\n            if (typeof node === 'string')\n                return new Text(node);\n            return node;\n        });\n        if (!parts.length)\n            parts.push(new Text(''));\n        __classPrivateFieldGet(this, _parts)[0].before(...parts);\n        for (const part of __classPrivateFieldGet(this, _parts))\n            part.remove();\n        __classPrivateFieldSet(this, _parts, parts);\n    }\n}\n_parts = new WeakMap();\n//# sourceMappingURL=node-template-part.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _processor, _parts;\nimport { parse } from './template-string-parser.js';\nimport { AttributeValueSetter, AttributeTemplatePart } from './attribute-template-part.js';\nimport { NodeTemplatePart } from './node-template-part.js';\nimport { propertyIdentity } from './processors.js';\nfunction* collectParts(el) {\n    const walker = el.ownerDocument.createTreeWalker(el, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, null, false);\n    let node;\n    while ((node = walker.nextNode())) {\n        if (node instanceof Element && node.hasAttributes()) {\n            for (let i = 0; i < node.attributes.length; i += 1) {\n                const attr = node.attributes.item(i);\n                if (attr && attr.value.includes('{{')) {\n                    const valueSetter = new AttributeValueSetter(node, attr);\n                    for (const token of parse(attr.value)) {\n                        if (token.type === 'string') {\n                            valueSetter.append(token.value);\n                        }\n                        else {\n                            const part = new AttributeTemplatePart(valueSetter, token.value);\n                            valueSetter.append(part);\n                            yield part;\n                        }\n                    }\n                }\n            }\n        }\n        else if (node instanceof Text && node.textContent && node.textContent.includes('{{')) {\n            for (const token of parse(node.textContent)) {\n                if (token.end < node.textContent.length)\n                    node.splitText(token.end);\n                if (token.type === 'part')\n                    yield new NodeTemplatePart(node, token.value);\n                break;\n            }\n        }\n    }\n}\nexport class TemplateInstance extends DocumentFragment {\n    constructor(template, params, processor = propertyIdentity) {\n        var _a, _b;\n        super();\n        _processor.set(this, void 0);\n        _parts.set(this, void 0);\n        // This is to fix an inconsistency in Safari which prevents us from\n        // correctly sub-classing DocumentFragment.\n        // https://bugs.webkit.org/show_bug.cgi?id=195556\n        if (Object.getPrototypeOf(this !== TemplateInstance.prototype)) {\n            Object.setPrototypeOf(this, TemplateInstance.prototype);\n        }\n        this.appendChild(template.content.cloneNode(true));\n        __classPrivateFieldSet(this, _parts, Array.from(collectParts(this)));\n        __classPrivateFieldSet(this, _processor, processor);\n        (_b = (_a = __classPrivateFieldGet(this, _processor)).createCallback) === null || _b === void 0 ? void 0 : _b.call(_a, this, __classPrivateFieldGet(this, _parts), params);\n    }\n    update(params) {\n        __classPrivateFieldGet(this, _processor).processCallback(this, __classPrivateFieldGet(this, _parts), params);\n    }\n}\n_processor = new WeakMap(), _parts = new WeakMap();\n//# sourceMappingURL=template-instance.js.map","import { AttributeTemplatePart } from './attribute-template-part.js';\nexport function createProcessor(processPart) {\n    return {\n        createCallback(instance, parts, params) {\n            this.processCallback(instance, parts, params);\n        },\n        processCallback(_, parts, params) {\n            var _a;\n            if (typeof params !== 'object' || !params)\n                return;\n            for (const part of parts) {\n                if (part.expression in params) {\n                    const value = (_a = params[part.expression]) !== null && _a !== void 0 ? _a : '';\n                    processPart(part, value);\n                }\n            }\n        }\n    };\n}\nexport function processPropertyIdentity(part, value) {\n    part.value = String(value);\n}\nexport function processBooleanAttribute(part, value) {\n    if (typeof value === 'boolean' &&\n        part instanceof AttributeTemplatePart &&\n        typeof part.element[part.attributeName] === 'boolean') {\n        part.booleanValue = value;\n        return true;\n    }\n    return false;\n}\nexport const propertyIdentity = createProcessor(processPropertyIdentity);\nexport const propertyIdentityOrBooleanAttribute = createProcessor((part, value) => {\n    processBooleanAttribute(part, value) || processPropertyIdentity(part, value);\n});\n//# sourceMappingURL=processors.js.map"],"names":["MemexProjectPickerPanelElement","HTMLElement","connectedCallback","selectPanel","filterFn","bind","signal","abortController","AbortController","addEventListener","closeObserver","IntersectionObserver","entries","entry","elem","target","isIntersecting","linkInterstitial","unlinkInterstitial","addOrRemoveAbortController","abort","observe","mutationObserver","MutationObserver","disconnect","childList","subtree","filterInput","filterInputTextField","open","list","disconnectedCallback","resetSelectionDiff","submitContainer","replaceChildren","handleEvent","event","type","submitOnActivation","preventDefault","itemActivatedEvent","detail","item","number","parseInt","getAttribute","name","owner","addOrRemoveItem","checked","addItem","removeItem","triggerUpdate","form","document","getElementById","requestSubmit","linkInterstitialClose","close","unlinkInterstitialClose","hashedItemScore","Map","element","query","itemText","trim","toLowerCase","textScore","fuzzyScore","itemNumber","score","Math","max","key","text","set","updateFormInputs","existingInput","querySelector","remove","append","createSubmitSelection","interstitialSubmitListener","e","stopPropagation","linkInterstitialSubmitButton","once","showModal","unlinkInterstitialSubmitButton","TemplateInstance","selectionTemplate","projectNumber","projectName","projectOwner","propertyIdentityOrBooleanAttribute","selectVariant","multiselect","controller","fire","cancelable","dispatchEvent","CustomEvent","bubbles","submitter","checkButtonValidity","HTMLFormElement","persistSubmitButtonValue","submit","changeValue","input","value","HTMLInputElement","fillFormValues","fields","elements","namedItem","HTMLTextAreaElement","isFormField","nodeName","isContentEditable","searchParamsFromFormData","formData","URLSearchParams","combineGetFormSearchParams","formAction","allSearchParams","search","toString","serialize","FormData","button","closest","findPersistedSubmitButtonValue","defaultValue","matches","createElement","classList","add","prepend","string","prefixBonusWeight","stringScore","indexOf","substring","lastIndexOf","fuzzyHighlightElement","content","textRe","innerHTML","match","fuzzyRegexp","chars","split","regex","firstChar","char","c","replace","html","i","length","m","push","join","clean","wordSeparators","Set","originalString","abbreviation","stringLength","totalCharacterScore","shouldAwardCommonPrefixBonus","indexCLowercase","indexCUppercase","toUpperCase","minIndex","min","indexInString","has","charAt","abbreviationLength","abbreviationScore","finalScore","compare","a","b","parse","tokenStart","start","end","slice","_setter","_value","_parts","_processor","__classPrivateFieldSet","receiver","privateMap","__classPrivateFieldGet","get","AttributeTemplatePart","constructor","setter","expression","updateParent","attributeName","attr","attributeNamespace","namespaceURI","booleanValue","WeakMap","AttributeValueSetter","partList","hasAttributeNS","DOMException","part","partValue","removeAttributeNS","str","map","s","setAttributeNS","NodeTemplatePart","node","textContent","previousSibling","nextSibling","nodes","parts","Text","before","createProcessor","processPart","createCallback","instance","params","processCallback","_","_a","processPropertyIdentity","String","propertyIdentity","processBooleanAttribute","DocumentFragment","template","processor","_b","Object","getPrototypeOf","prototype","setPrototypeOf","appendChild","cloneNode","Array","from","collectParts","el","walker","ownerDocument","createTreeWalker","NodeFilter","SHOW_TEXT","SHOW_ELEMENT","nextNode","Element","hasAttributes","attributes","includes","valueSetter","token","splitText","call","update"],"sourceRoot":""}