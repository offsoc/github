<%
  deferred_comment_actions = local_assigns.fetch(:deferred_comment_actions, false)
  deferred_edit_form = local_assigns.fetch(:deferred_edit_form, false)
%>

<% action_text ||= nil %>
<% if logged_in? %>
  <%= render partial: "comments/minimized_comment_logged_in", locals: {
        comment: comment,
        dom_id: dom_id,
        comment_context: comment_context,
        form_path: form_path,
        action_text: action_text,
        deferred_comment_actions: deferred_comment_actions,
        deferred_edit_form: deferred_edit_form,
      } %>
<% else %>
  <%= render partial: "comments/minimized_comment_logged_out",
    locals: { comment: comment } %>
<% end %>
