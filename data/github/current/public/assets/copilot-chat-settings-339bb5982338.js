"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["copilot-chat-settings"],{45062:(e,t,s)=>{s.d(t,{s:()=>r});var a=s(70170);function r(e=0,t={}){return(s,r,n)=>{if(!n||"function"!=typeof n.value)throw Error("debounce can only decorate functions");let i=n.value;n.value=(0,a.s)(i,e,t),Object.defineProperty(s,r,n)}}},78209:(e,t,s)=>{s.d(t,{A:()=>g,E:()=>m});var a=s(96540),r=s(38267),n=s(59299),i=s(44999),o=s(7707),l=s(65574),c=s(44683),d=s(14744),u=s.n(d);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(null,arguments)}let m=20,p=r.Ay.img.attrs(e=>({height:e.size,width:e.size})).withConfig({displayName:"Avatar__StyledAvatar",componentId:"sc-2lv0r8-0"})(["display:inline-block;overflow:hidden;line-height:",";vertical-align:middle;border-radius:",";box-shadow:0 0 0 1px ",";height:var(--avatar-size);width:var(--avatar-size);",""],(0,n.Jt)("lineHeights.condensedUltra"),e=>e.square?"clamp(4px, var(--avatar-size) - 24px, 6px)":"50%",(0,n.Jt)("colors.avatar.border"),i.A),g=a.forwardRef(function({alt:e="",size:t=m,square:s=!1,sx:r=c.E,...n},i){let d=(0,o.W8)(t)?u()((0,l.D)(t,"--avatar-size",e=>`${e||m}px`),r):u()({"--avatar-size":`${t}px`},r);return a.createElement(p,h({"data-component":"Avatar",ref:i,alt:e,size:t,square:s,sx:d},n))})},59572:(e,t,s)=>{s.d(t,{A:()=>b});var a=s(20053),r=s(96540),n=s(75177),i=s(55847),o=s(86519),l=s(59299),c=s(38267),d={Container:"prc-Blankslate-Container-XATLP",Blankslate:"prc-Blankslate-Blankslate-7GPW-",Heading:"prc-Blankslate-Heading-H4xby",Description:"prc-Blankslate-Description-OGHRk",Action:"prc-Blankslate-Action-SK5XS",Visual:"prc-Blankslate-Visual-PeTD-"},u=s(48521);let h=c.Ay.div.withConfig({displayName:"Blankslate__StyledBlankslate",componentId:"sc-4802l5-0"})(["container-type:inline-size;.Blankslate{--blankslate-outer-padding-block:var(--base-size-32,2rem);--blankslate-outer-padding-inline:var(--base-size-32,2rem);display:grid;justify-items:center;padding:var(--blankslate-outer-padding-block) var(--blankslate-outer-padding-inline);}.Blankslate[data-spacious='true']{--blankslate-outer-padding-block:var(--base-size-80,5rem);--blankslate-outer-padding-inline:var(--base-size-40,2.5rem);}.Blankslate[data-border='true']{border:var(--borderWidth-thin) solid var(--borderColor-default,",");border-radius:var(--borderRadius-medium);}.Blankslate[data-narrow='true']{margin:0 auto;max-width:485px;}.Blankslate-Heading,.Blankslate-Description{margin:0;margin-bottom:var(--stack-gap-condensed,0.5rem);}.Blankslate-Heading{font-size:var(--text-title-size-medium,1.25rem);font-weight:var(--text-title-weight-medium,600);}.Blankslate-Description{color:var(--fgColor-muted,",");font-size:var(--text-body-size-large,1rem);line-height:var(--text-body-lineHeight-large,1.5);}.Blankslate-Action{margin-top:var(--stack-gap-normal,1rem);}.Blankslate-Action:first-of-type{margin-top:var(--stack-gap-spacious,1.5rem);}.Blankslate-Action:last-of-type{margin-bottom:var(--stack-gap-condensed,0.5rem);}"],(0,l.Jt)("colors.border.default"),(0,l.Jt)("colors.fg.muted")),m=`
  /* At the time these styles were written,
  34rem was our "small" breakpoint width */
  @container (max-width: 34rem) {
    ${h} .Blankslate {
    --blankslate-outer-padding-block: var(--base-size-20);
    --blankslate-outer-padding-inline: var(--base-size-20);
  }

  ${h} .Blankslate[data-spacious='true'] {
    --blankslate-outer-padding-block: var(--base-size-44);
    --blankslate-outer-padding-inline: var(--base-size-28);
  }

  ${h} .Blankslate-Visual {
    margin-bottom: var(--stack-gap-condensed, 0.5rem);
    max-width: var(--base-size-24);
  }

  ${h} .Blankslate-Visual svg {
    width: 100%;
  }

  ${h} .Blankslate-Heading {
    font-size: var(--text-title-size-small);
  }

  ${h} .Blankslate-Description {
    font-size: var(--text-body-size-medium);
  }

  ${h} .Blankslate-Action {
    margin-top: var(--stack-gap-condensed, 0.5rem);
  }

  ${h} .Blankslate-Action:first-of-type {
    margin-top: var(--stack-gap-normal, 1rem);
  }

  ${h} .Blankslate-Action:last-of-type {
    margin-bottom: calc(var(--stack-gap-condensed, 0.5rem) / 2);
  }
`;function p({children:e}){let t=(0,u.u)("primer_react_css_modules_staff");return r.createElement("span",{className:(0,a.A)("Blankslate-Visual",{[d.Visual]:t})},e)}function g({as:e="h2",children:t}){return(0,u.u)("primer_react_css_modules_staff")?r.createElement(e,{className:(0,a.A)("Blankslate-Heading",d.Heading)},t):r.createElement(n.A,{as:e,className:(0,a.A)("Blankslate-Heading")},t)}function x({children:e}){let t=(0,u.u)("primer_react_css_modules_staff");return r.createElement("p",{className:(0,a.A)("Blankslate-Description",{[d.Description]:t})},e)}function f({children:e,href:t}){let s=(0,u.u)("primer_react_css_modules_staff");return r.createElement("div",{className:(0,a.A)("Blankslate-Action",{[d.Action]:s})},r.createElement(i.Q,{as:"a",href:t,variant:"primary"},e))}function y({children:e,href:t}){let s=(0,u.u)("primer_react_css_modules_staff");return r.createElement("div",{className:(0,a.A)("Blankslate-Action",{[d.Action]:s})},r.createElement(o.A,{href:t},e))}p.displayName="Visual",g.displayName="Heading",x.displayName="Description",f.displayName="PrimaryAction",y.displayName="SecondaryAction";var b=Object.assign(function({border:e,children:t,narrow:s,spacious:n,className:i}){return(0,u.u)("primer_react_css_modules_staff")?r.createElement("div",{className:d.Container},r.createElement("div",{className:(0,a.A)(d.Blankslate,i),"data-border":e,"data-narrow":s,"data-spacious":n},t)):r.createElement(r.Fragment,null,r.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:m}}),r.createElement(h,null,r.createElement("div",{className:(0,a.A)("Blankslate",i),"data-border":e,"data-narrow":s,"data-spacious":n},t)))},{Visual:p,Heading:g,Description:x,PrimaryAction:f,SecondaryAction:y})},65481:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(96540),r=s(38267),n=s(57304),i=s(59299),o=s(44999);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(null,arguments)}let c=(0,n.Ox)({variants:{default:{color:"fg.default",backgroundColor:"accent.subtle",borderColor:"accent.muted",svg:{color:"accent.fg"}},success:{color:"fg.default",backgroundColor:"success.subtle",borderColor:"success.muted",svg:{color:"success.fg"}},danger:{color:"fg.default",backgroundColor:"danger.subtle",borderColor:"danger.muted",svg:{color:"danger.fg"}},warning:{color:"fg.default",backgroundColor:"attention.subtle",borderColor:"attention.muted",svg:{color:"attention.fg"}}}}),d=r.Ay.div.withConfig({displayName:"Flash__StyledFlash",componentId:"sc-hzrzfc-0"})(["position:relative;color:",";padding:",";border-style:solid;border-width:",";border-radius:",";margin-top:",";p:last-child{margin-bottom:0;}svg{margin-right:",";}",";",";"],(0,i.Jt)("colors.fg.default"),(0,i.Jt)("space.3"),e=>e.full?"1px 0px":"1px",e=>e.full?"0":(0,i.Jt)("radii.2"),e=>e.full?"-1px":"0",(0,i.Jt)("space.2"),c,o.A),u=a.forwardRef(function({as:e,variant:t="default",...s},r){return a.createElement(d,l({ref:r,as:e,variant:t},s))})},13473:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(38267),r=s(59299),n=s(44999);let i=a.Ay.div.withConfig({displayName:"Pagehead",componentId:"sc-diawfz-0"})(["position:relative;padding-top:",";padding-bottom:",";margin-bottom:",";border-bottom:1px solid ",";",";"],(0,r.Jt)("space.4"),(0,r.Jt)("space.4"),(0,r.Jt)("space.4"),(0,r.Jt)("colors.border.default"),n.A)},58044:(e,t,s)=>{s.d(t,{Q:()=>n});var a=s(96540),r=s(7129);function n(e,t){let s=(0,a.useContext)(i),[n,o]=a.useState(()=>void 0!==s[e]?s[e]:void 0!==t?t:!!r.S&&window.matchMedia(e).matches);return(0,a.useEffect)(()=>{void 0!==s[e]&&o(s[e])},[s,e]),(0,a.useEffect)(()=>{if(void 0!==s[e])return;function t(e){o(e.matches)}let a=window.matchMedia(e);return a.addEventListener?a.addEventListener("change",t):a.addListener(t),o(a.matches),()=>{a.addEventListener?a.removeEventListener("change",t):a.removeListener(t)}},[s,e]),n}let i=(0,a.createContext)({})},7707:(e,t,s)=>{s.d(t,{DX:()=>r,W8:()=>n,tv:()=>i});var a=s(58044);let r={narrow:"(max-width: calc(768px - 0.02px))",regular:"(min-width: 768px)",wide:"(min-width: 1400px)"};function n(e){return"object"==typeof e&&Object.keys(e).some(e=>["narrow","regular","wide"].includes(e))}function i(e,t){let s=(0,a.Q)(r.narrow,!1),i=(0,a.Q)(r.regular,!1),o=(0,a.Q)(r.wide,!1);return n(e)?s&&"narrow"in e?e.narrow:o&&"wide"in e?e.wide:i&&"regular"in e?e.regular:t:e}},7129:(e,t,s)=>{s.d(t,{S:()=>a});let a=!!("undefined"!=typeof window&&window.document&&window.document.createElement)},65574:(e,t,s)=>{s.d(t,{D:()=>n});var a=s(7707),r=s(98232);function n(e,t,s){if(!(0,a.W8)(e))return{[t]:s(e)};{let a="narrow"in e?{[r.HP.narrow]:{[t]:s(e.narrow)}}:{},n="regular"in e?{[r.HP.regular]:{[t]:s(e.regular)}}:{},i="wide"in e?{[r.HP.wide]:{[t]:s(e.wide)}}:{};return!function(e){if("narrow"in e&&"regular"in e&&"wide"in e){let t=Object.values(e);return t.every(e=>e===t[0])}return!1}(e)?"regular"in e&&"wide"in e&&e.regular===e.wide?{...a,...n}:{...a,...n,...i}:{[t]:s(e.narrow)}}}},98232:(e,t,s)=>{s.d(t,{HP:()=>o});var a,r=s(71659);let n={xsmall:{width:"320px"},small:{width:r.A.breakpoints[0]},medium:{width:r.A.breakpoints[1]},large:{width:r.A.breakpoints[2]},xlarge:{width:r.A.breakpoints[3]},xxlarge:{width:"1400px"}};function i(e){return`@media screen and (min-width: ${e})`}let o={narrow:(a=n.medium.width,`@media screen and (max-width: calc(${a} - 0.02px))`),regular:i(n.medium.width),wide:i(n.xxlarge.width)}},49159:(e,t,s)=>{var a,r,n,i,o=s(74848),l=s(37414),c=s(96540);function d(e){return e.map(e=>{let t=`repo:${e.nameWithOwner}`;if(0===e.paths.length)return t;{let s=e.paths.map(e=>`path:${e}`).join(" OR ");return e.paths.length>1&&(s=`(${s})`),`(${t} ${s})`}}).join(" OR ")}function u(e){return e.map(e=>({id:e.databaseId,ownerID:e.owner.databaseId,paths:e.paths}))}var h=s(28784);let m=class CopilotChatSettingsService extends l.k{async fetchKnowledgeBases(e){let t=await this.makeDotcomRequest(`/organizations/${e}/settings/copilot/chat_settings/knowledge_bases`,"GET");if(!t.ok)throw Error(`An error occurred: ${t.status}`);return(await t.json()).knowledgeBases}async fetchKnowledgeBase(e,t){let s=await this.makeDotcomRequest(`/organizations/${e}/settings/copilot/chat_settings/knowledge_bases/${t}`,"GET");if(!s.ok)throw Error(`An error occurred: ${s.status}`);return await s.json()}async createKnowledgeBase(e,t,s,a){let r=await this.makeDotcomRequest(`/organizations/${e.displayLogin}/settings/copilot/chat_settings`,"POST",{name:t,ownerId:e.id,ownerType:e.isOrganization?"organization":"user",description:s,repos:a.map(e=>e.nameWithOwner),visibility:"private",scopingQuery:d(a),sourceRepos:u(a)});if(!r.ok)return 400===r.status?r.error:`An error occurred: ${r.status}`;let n=await r.json();if(!n?.id)return}async updateKnowledgeBase(e,t,s,a,r){let n=await this.makeDotcomRequest(`/organizations/${t.displayLogin}/settings/copilot/chat_settings/${e.id}`,"PUT",{name:s,description:a,ownerId:t.id,repos:r.map(e=>e.nameWithOwner),visibility:"private",scopingQuery:d(r),sourceRepos:u(r)});if(!n.ok)throw Error(`An error occurred: ${n.status}`)}async deleteKnowledgeBase(e,t){let s=await this.makeDotcomRequest(`/organizations/${e}/settings/copilot/chat_settings/${t.id}`,"DELETE",{ownerId:t.ownerID,name:t.name});if(!s.ok)throw Error(`An error occurred: ${s.status}`)}async validateKnowledgeBaseNameAvailability(e,t){let s=await this.makeDotcomRequest(`/organizations/${e.displayLogin}/settings/copilot/chat_settings/check_name`,"POST",{ownerType:e.isOrganization?"organization":"user",ownerID:e.id,name:t});if(!s.ok)throw Error(`An error occurred: ${s.status}`);let{available:a}=await s.json();return a}async makeDotcomRequest(e,t,s){let a={},r=await this.copilotAuthTokenProvider.getAuthToken();a["X-Copilot-Api-Token"]=r.value;try{let r=await (0,h.lS)(e,{method:t,body:s,headers:a});if(r.ok)return r;let n=this.ERROR_MSG;try{let e=await r.json();e.errors?.length&&e.errors[0].detail&&(n=e.errors[0].detail)}catch{n=l.S[r.status]||this.ERROR_MSG}return{status:r.status,ok:!1,error:n}}catch(e){return{status:500,ok:!1,error:this.ERROR_MSG}}}},p=(0,c.createContext)(new m("",[]));var g=s(82897);function x(e){let t=(0,g.B)(),s=(0,c.useMemo)(()=>new m(t.apiUrl,t.ssoOrganizations),[t.apiUrl,t.ssoOrganizations]);return(0,o.jsx)(p.Provider,{value:s,children:e.children})}try{x.displayName||(x.displayName="App")}catch{}var f=s(33067),y=s(97156),b=s(59857),w=s(13473),_=s(75177),v=s(73729),j=s(55847),k=s(69909),A=s(38553),C=s(65481),N=s(30729),S=s(30631),O=s(87330),B=s(59572),R=s(86079),E=s(83028),z=s(65490),$=s(97665),I=s(18312);let L=new z.E;function M({children:e}){let t=(0,E.E7)();return(0,o.jsx)(I.RelayEnvironmentProvider,{environment:t,children:(0,o.jsx)($.Ht,{client:L,children:e})})}try{M.displayName||(M.displayName="KnowledgeBaseFormProviders")}catch{}function D(){let e=(0,g.B)(),t=["220px","300px",null,"500px","600px"],[s,a]=(0,c.useState)([]),[r,n]=(0,c.useState)(!0),[i,l]=(0,c.useState)(!1),d=(0,c.useContext)(p);return(0,c.useEffect)(()=>{let t=!1,s=async()=>{try{let t=await d.fetchKnowledgeBases(e.currentOrganizationLogin);a(t)}catch(e){l(!0)}finally{t||n(!1)}};return n(!0),s(),()=>{t=!0}},[e.currentOrganizationLogin,d]),(0,o.jsxs)(M,{children:[(0,o.jsx)(w.A,{sx:{mt:0,pt:0,pb:2},children:(0,o.jsxs)(_.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(v.A,{as:"h1",sx:{fontWeight:"normal",fontSize:4},children:"Knowledge bases"}),s.length>0&&(0,o.jsx)(j.Q,{as:"a",href:e.newKnowledgeBasePath,variant:"primary",children:"New knowledge base"})]})}),(0,o.jsx)(k.A,{as:"p",sx:{mb:4},children:"Knowledge bases are groups of repositories that are used by Copilot to ground responses in your organization\u2019s data. When chatting with Copilot on GitHub.com, members of your organization may choose which knowledge base should be used to answer their questions."}),(0,o.jsx)(function(){let[e,t]=(0,c.useState)(!1),s=y.fV.search&&new URLSearchParams(y.fV.search);if(e||!s)return null;let a=s.get("action");if(!a||!["created","updated","deleted"].includes(a))return null;let r=`Knowledge base ${a}. ${"created"===a||"updated"===a?"Repositories may need to be indexed.":""}`;return(0,o.jsxs)(C.A,{variant:"created"===a?"success":"default",sx:{alignItems:"center",display:"flex",width:"100%",mb:3},children:["created"===a&&(0,o.jsx)(b.CheckIcon,{}),(0,o.jsx)(k.A,{"aria-live":"polite",sx:{flexGrow:1},children:r}),(0,o.jsx)(O.K,{unsafeDisableTooltip:!0,"aria-label":"Dismiss banner",icon:b.XIcon,variant:"invisible",sx:{"> svg":{margin:0}},onClick:()=>{let e=new URL(location.href,window.location.origin);e.searchParams.delete("action"),history.replaceState(history.state,"",e.toString()),t(!0)}})]})},{}),r?(0,o.jsx)(_.A,{sx:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(A.A,{})}):i?(0,o.jsx)(C.A,{variant:"danger",children:"Failed to load knowledge bases."}):s.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(function(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(_.A,{sx:{mt:3,display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:6},children:s.map(s=>(0,o.jsxs)(_.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",borderColor:"border.default",p:3,":last-child":{borderBottom:"none"}},children:[(0,o.jsxs)(_.A,{sx:{pr:3,display:"flex",flexDirection:"column"},children:[(0,o.jsx)(v.A,{as:"h2",sx:{fontSize:2,mb:0},children:(0,o.jsx)(S.A,{inline:!0,title:s.name,sx:{maxWidth:t},children:s.name})}),(0,o.jsxs)(k.A,{sx:{fontSize:1,mt:0,color:"fg.muted",display:"inline-flex"},children:[T(function(e){let[t]=(0,f.M8)(e,!0,!0);return t.docs}(s.repos)),s.sourceRepos?`${s.sourceRepos.length} ${1===s.sourceRepos.length?"repository":"repositories"}`:`${s.repos.length} ${1===s.repos.length?"repository":"repositories"}`,s.description&&(0,o.jsxs)(S.A,{inline:!0,title:s.description,sx:{maxWidth:t},children:["\xa0",`\u{2022} ${s.description}`]})]})]}),(0,o.jsxs)(_.A,{sx:{display:"flex"},children:[(0,o.jsx)(O.K,{unsafeDisableTooltip:!0,as:"a",href:`/organizations/${e.currentOrganizationLogin}/settings/copilot/chat_settings/${s.id}/edit`,"aria-label":`Edit '${s.name}'`,variant:"invisible",icon:b.PencilIcon}),(0,o.jsx)(u,{knowledgeBase:s})]})]},s.id))})})},{}),(0,o.jsx)(k.A,{as:"p",sx:{mt:2,color:"fg.muted"},children:"Knowledge bases are automatically reindexed when changes are pushed or merged to a repository's default branch."})]}):(0,o.jsx)(_.A,{sx:{mt:3,"& p":{textAlign:"center",textWrap:"balance"}},children:(0,o.jsxs)(B.A,{border:!0,children:[(0,o.jsx)(B.A.Visual,{children:(0,o.jsx)(N.A,{icon:b.BookIcon,size:24,sx:{color:"fg.muted"}})}),(0,o.jsx)(B.A.Heading,{children:"No knowledge bases"}),(0,o.jsx)(B.A.Description,{children:"Create a knowledge base to enable your team to get quick and relevant answers from your organization\u2019s Markdown documentation."}),(0,o.jsx)(B.A.PrimaryAction,{href:e.newKnowledgeBasePath,children:"New knowledge base"})]})})]});function u({knowledgeBase:t}){let[s,r]=(0,c.useState)(!1),[n,i]=(0,c.useState)(!1),l=async()=>{try{await d.deleteKnowledgeBase(e.currentOrganizationLogin,t)}catch(e){i(!0)}a(e=>e.filter(e=>e.id!==t.id)),r(!1);let s=new URL(location.href,window.location.origin);s.searchParams.delete("action"),s.searchParams.append("action","deleted"),history.replaceState(history.state,"",s.toString())};return(0,o.jsxs)("div",{children:[(0,o.jsx)(O.K,{unsafeDisableTooltip:!0,"aria-label":"Delete knowledge base",icon:b.TrashIcon,onClick:()=>r(!0),variant:"invisible"}),s&&(0,o.jsx)(R.l,{footerButtons:[{buttonType:"normal",content:"Cancel",onClick:()=>r(!1)},{buttonType:"danger",content:"Delete",onClick:()=>void l()}],onClose:()=>r(!1),renderBody:()=>(0,o.jsxs)(R.l.Body,{sx:{},children:[n&&(0,o.jsx)(C.A,{sx:{mb:2},variant:"danger",children:"Failed to delete knowledge base."}),"You are about to delete the ",(0,o.jsx)("strong",{children:t.name})," knowledge base."]}),title:"Confirm deletion"})]})}}function T(e){return(0,o.jsx)(_.A,{sx:{alignItems:"center",display:"flex"},children:e===f.W5.Indexing?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.A,{icon:b.SkipFillIcon,color:"success.fg",sx:{mr:2}}),(0,o.jsx)(k.A,{sx:{color:"fg.muted"},children:"Partially indexed \u2022"}),"\xa0"]}):e===f.W5.Unindexed?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A.A,{size:"small",sx:{mr:2}}),(0,o.jsx)(k.A,{sx:{color:"fg.muted"},children:"Indexing \u2022"}),"\xa0"]}):(0,o.jsx)(o.Fragment,{})})}try{D.displayName||(D.displayName="ChatSettings")}catch{}try{(a=KnowledgeBaseList).displayName||(a.displayName="KnowledgeBaseList")}catch{}try{(r=GetKnowledgeBaseIndexState).displayName||(r.displayName="GetKnowledgeBaseIndexState")}catch{}try{(n=DeleteKnowledgeBaseButton).displayName||(n.displayName="DeleteKnowledgeBaseButton")}catch{}try{(i=KnowledgeBaseActionBanner).displayName||(i.displayName="KnowledgeBaseActionBanner")}catch{}try{T.displayName||(T.displayName="KnowledgeBaseIndexStatus")}catch{}var W=s(86519),K=s(47767);let F=()=>(0,o.jsx)(o.Fragment,{children:"Knowledge bases are composed of Markdown files (`.md` and `.mdx`) from a single repository or a group of repositories. By assembling knowledge bases focused on specific domains, you can enhance Copilot\u2019s ability to provide more precise and relevant responses."});try{F.displayName||(F.displayName="KnowledgeBaseDefinition")}catch{}var P=s(70170),H=s(22868),Q=s(36861),q=s(599),G=s(53800),U=s(8539),V=s(69818),J=s(48077),X=s(20556),Z=s(30014),Y=s(66889),ee=s(44981),et=s(61043);function es({onClose:e,repo:t}){let s=(0,c.useCallback)(()=>{let s=(a.current?.value??"").split("\n").map(e=>e.trim()).filter(e=>""!==e);t.paths=s,e()},[e,t]),a=(0,c.useRef)(null);return(0,o.jsxs)(R.l,{footerButtons:[{buttonType:"normal",content:"Cancel",onClick:e},{buttonType:"primary",content:"Apply",onClick:s}],renderFooter:({footerButtons:e})=>(0,o.jsx)(R.l.Footer,{sx:{"@media screen and (max-height: 400px)":{p:2}},children:e&&(0,o.jsx)(R.l.Buttons,{buttons:e})}),onClose:e,subtitle:`Define which paths within ${t.nameWithOwner} that should be included within this docset.`,title:"Edit paths",sx:{"@media screen and (max-height: 400px)":{maxHeight:"calc(100vh - 8px)"}},children:[(0,o.jsxs)("span",{children:["Use globs accepted by the"," ",(0,o.jsx)(W.A,{href:"https://docs.github.com/en/search-github/github-code-search/understanding-github-code-search-syntax#path-qualifier",inline:!0,target:"_blank",children:"code search path qualifier"}),", one per line. Only files ending in .md and .mdx are indexed."]}),(0,o.jsxs)(Y.A,{sx:{mt:3,mb:1},children:[(0,o.jsx)(Y.A.Label,{children:"Paths"}),(0,o.jsx)(et.Ay,{ref:a,sx:{width:"100%"},placeholder:"e.g. /docs/**/*",defaultValue:t.paths.join("\n")})]}),(0,o.jsx)(k.A,{sx:{color:"fg.muted",fontSize:0},children:"If no paths are provided, all md and mdx files will be searched."})]})}try{es.displayName||(es.displayName="EditPathsDialog")}catch{}var ea=s(16184);let er=e=>1===e?`${e} repository`:`${e} repositories`,en=e=>1===e?`${e} result`:`${e} results`,ei=(e,t=400)=>{let[s,a]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{if(e||a(!1),e){let e=setTimeout(()=>a(!0),t);return()=>clearTimeout(e)}},[e,t]),s},eo="Add repositories";function el({initialFilterText:e="",prefferedUserLogin:t="",initialSelectedItems:s,isOpen:a,onClose:r}){let[n,i]=(0,c.useState)(e),[l,d]=(0,c.useState)(e),u=(0,c.useMemo)(()=>(0,P.s)(e=>d(e),400),[]),{repositories:h,loading:m,totalCount:p,loadMore:g,endCursor:x}=(0,ea.U)(l),[f,y]=(0,c.useState)([]),w=ei(m),v=(0,c.useCallback)((e,t)=>{t?y(t=>[...t,e]):y(t=>t.filter(t=>t.nameWithOwner!==e.nameWithOwner))},[]),j=(0,c.useCallback)(e=>{i(e),u(e)},[u]),k=(0,c.useCallback)(()=>{y([]),j(e),r(s)},[j,e,r,s]),C=(0,c.useCallback)(()=>{y([]),j(e),r([...s,...f])},[j,e,r,s,f]);return a?(0,o.jsx)(R.l,{footerButtons:[{buttonType:"normal",content:"Cancel",onClick:k},{buttonType:"primary",content:"Apply",onClick:C}],renderFooter:({footerButtons:e})=>(0,o.jsxs)(R.l.Footer,{sx:{"@media screen and (max-height: 400px)":{p:2},justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsxs)("span",{children:[er(f.length)," selected"]}),e&&(0,o.jsx)(_.A,{sx:{display:"flex",gap:2},children:(0,o.jsx)(R.l.Buttons,{buttons:e})})]}),onClose:k,title:eo,sx:{"@media screen and (max-height: 600px)":{maxHeight:"calc(100vh - 8px)"},maxHeight:"var(--overlay-height-xlarge)"},renderBody:()=>(0,o.jsxs)(R.l.Body,{sx:{padding:0,display:"flex",flexDirection:"column"},children:[(0,o.jsx)(ee.A,{leadingVisual:b.SearchIcon,sx:{flex:1,m:2},placeholder:"Search repositories",onChange:e=>j(e.target.value),value:n,loaderPosition:"trailing"}),w?(0,o.jsx)(B.A,{children:(0,o.jsx)(A.A,{"aria-label":"Loading"})}):0===h.length?(0,o.jsx)(B.A,{children:"No results found."}):(0,o.jsx)("div",{children:(0,o.jsxs)(Q.u,{isSelectable:!0,title:"Repositories",variant:"compact",children:[h.filter(e=>!s.map(e=>e.nameWithOwner).includes(e.nameWithOwner)).sort((e,s)=>(s.owner.login===t)-(e.owner.login===t)).map(e=>(0,o.jsx)(Z.c,{isSelected:f.some(t=>t.nameWithOwner===e.nameWithOwner),onSelect:t=>v(e,t),sx:{border:"none !important"},title:(0,o.jsx)(J.a,{value:e.nameWithOwner}),children:(0,o.jsx)(U.B,{sx:{alignItems:"center",display:"flex"},children:(0,o.jsx)(H.r,{src:e.owner.avatarUrl,square:e.isInOrganization,size:16})})},e.name)),(0,o.jsx)(ec,{currentCount:h.length,totalCount:p,loadMore:g,loading:m,endCursor:x})]})}),(0,o.jsxs)("span",{role:"status",className:"sr-only",children:[en(h.length)," returned."]})]})}):null}let ec=({currentCount:e,totalCount:t,loadMore:s,loading:a,endCursor:r})=>{let[n,i]=(0,c.useState)(!1),l=(0,c.useCallback)(()=>{null!==r&&(i(!0),s(r,()=>i(!1)))},[s,r]);(0,c.useEffect)(()=>{a||i(!1)},[a]);let d=(0,c.useMemo)(()=>n?(0,o.jsx)(_.A,{sx:{py:1,px:0},children:(0,o.jsx)(A.A,{"aria-label":"Loading"})}):(0,o.jsx)(j.Q,{variant:"invisible",onClick:l,children:"Load more"}),[n,l]);return e>=t?null:(0,o.jsx)(_.A,{sx:{my:2,display:"flex",justifyContent:"center"},children:d})};try{el.displayName||(el.displayName="RepoSelectionDialog")}catch{}try{ec.displayName||(ec.displayName="LoadMore")}catch{}let ed={name:"",status:void 0,message:void 0},eu=(e,t)=>e?e.sourceRepos?t||[]:function(e,t){let s=function(e){let t=e.replace(/[)]? OR [(]?/g," ").split(/[\s*|(|)]?repo:/).filter(e=>!!e),s={};for(let e of t){let[t,...a]=Array.from(e.matchAll(RegExp("(^(?<nwo>\\S+)|path:(?<path>.\\S+[^)]))\\s*","gi"))).map(e=>e.groups);if(!t||!t.nwo)continue;let r=a.filter(e=>e?.path).map(e=>e?.path?.trim());s[t.nwo]=r}return s}(e),a=[];for(let e of t){let t=s[e.nameWithOwner];t&&a.push({...e,paths:t})}return a}(e.scopingQuery,t??[]):[];function eh({onSave:e,docsetOwner:t,initialDocset:s,initialRepos:a,primaryButtonText:r}){let n=function(e){if(!e)return null;let t=e.protectedOrganizations;if(!t||0===t.length)return null;let s=new Intl.ListFormat().format(t);return`One or more repos are hidden because you need to SSO into the ${s} ${1===t.length?"organization":"organizations"}`}(s),[i,l]=(0,c.useState)(n),[d,u]=(0,c.useState)({...ed,name:s?.name??""}),[h,m]=(0,c.useState)(s?.description??""),[g,x]=(0,c.useState)(eu(s,a)),[f,y]=(0,c.useState)(null),[b,w]=(0,c.useState)(!1),[A,N]=(0,c.useState)(!1),S=a?.map(e=>e.nameWithOwner)??[],O=(0,c.useRef)(null),B=(0,c.useRef)(null),R=(0,c.useRef)(!1),E=(0,c.useRef)(null),z=(0,c.useContext)(p);(0,c.useEffect)(()=>{R.current?g.length>0?B.current?.focus():O.current?.focus():R.current=!0},[b]);let $=e=>{u(t=>({...t,name:e})),ex(z,t,e.trim(),s?.name,u)},I=(0,c.useCallback)(async()=>{N(!0);let s=!0;if(""===d.name.trim()&&(u(e=>({...e,status:"error",message:"Name must not be blank"})),s=!1,E.current?.focus()),void 0!==d.status&&"success"!==d.status&&(s=!1,E.current?.focus()),0===g.length&&(y("At least one repository must be selected"),s&&O.current?.focus(),s=!1),!s){N(!1);return}l(n);let a=await e(t,d.name,h,g);a&&(l(a),N(!1))},[d.name,d.status,g,t,n,e,h]);return(0,o.jsxs)(o.Fragment,{children:[i&&(0,o.jsx)(C.A,{variant:"danger",sx:{mb:3},children:i}),(0,o.jsxs)(Y.A,{sx:{mt:2},required:!0,children:[(0,o.jsx)(Y.A.Label,{required:!0,children:"Name"}),(0,o.jsx)(ee.A,{onChange:e=>$(e.target.value),placeholder:"e.g. Internal docs",value:d.name,sx:{width:"100%",maxWidth:"30rem"},ref:E}),"checking"===d.status?(0,o.jsx)(Y.A.Caption,{children:(0,o.jsx)("span",{"aria-live":"polite",children:"Checking availability\u2026"})}):d.status&&(0,o.jsx)(Y.A.Validation,{variant:d.status,"aria-live":"polite",children:d.message})]}),(0,o.jsxs)(Y.A,{sx:{mt:3,flex:1},children:[(0,o.jsx)(Y.A.Label,{children:"Description"}),(0,o.jsx)(ee.A,{maxLength:1e3,value:h,onChange:e=>m(e.target.value),sx:{width:"100%"}}),(0,o.jsx)(Y.A.Caption,{children:"A brief description of this knowledge base\u2019s contents and purpose"})]}),(0,o.jsx)(_.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:(0,o.jsx)(v.A,{as:"h2",sx:{flexGrow:1,fontWeight:"normal",fontSize:3},children:"Content"})}),(0,o.jsx)(k.A,{as:"p",sx:{color:"fg.muted",mt:0},children:"You can specify file paths within each repository for more targeted content selection."}),(0,o.jsx)(_.A,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:f?"danger.emphasis":"border.default",borderRadius:2},children:g.length>0?(0,o.jsx)(Q.u,{pluralUnits:"repositories",singularUnits:"repository",title:"Repositories",metadata:(0,o.jsxs)(q.X,{actionsSx:{ml:0,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",pl:2},children:[(0,o.jsxs)(k.A,{sx:{fontWeight:"bold"},children:[g.length," ",1===g.length?"repository":"repositories"]}),g.length>0&&(0,o.jsx)(j.Q,{onClick:()=>w(!0),ref:B,children:"Add repositories"})]}),children:g.map(e=>(0,o.jsx)(em,{repo:e,setDocsetRepos:x,initialReposNwo:S},e.nameWithOwner))}):(0,o.jsx)(ep,{zeroContentButton:O,setRepoSelectionDialogOpen:w})}),S.length>0&&eb(ef(S)),f&&(0,o.jsx)(Y.A.Validation,{sx:{mt:2},variant:"error","aria-live":"polite",children:f}),(0,o.jsxs)(_.A,{sx:{mt:3,display:"flex",gap:2},children:[(0,o.jsx)(j.Q,{disabled:A,variant:"primary",onClick:I,children:r??"Save"}),(0,o.jsx)(j.Q,{as:"a",href:`/organizations/${t.displayLogin}/settings/copilot/chat_settings`,children:"Cancel"})]}),(0,o.jsx)(el,{isOpen:b,prefferedUserLogin:t.displayLogin,initialFilterText:t.isOrganization?`org:${t.displayLogin} `:"",initialSelectedItems:g,onClose:e=>{y(""),x(t=>[...t.filter(t=>e.some(e=>e.nameWithOwner===t.nameWithOwner)),...e.filter(e=>t.every(t=>t.nameWithOwner!==e.nameWithOwner)).map(e=>({...e,paths:[]}))]),w(!1)}})]})}function em({repo:e,setDocsetRepos:t,initialReposNwo:s}){let a=(0,c.useCallback)(e=>{t(t=>t.filter(t=>t.nameWithOwner!==e.nameWithOwner))},[t]),[r,n]=(0,c.useState)(!1);return(0,o.jsxs)(Z.c,{sx:{py:2},title:(0,o.jsx)(J.a,{value:e.nameWithOwner,containerSx:{display:"flex",alignItems:"flex-start",pt:0}}),metadata:(0,o.jsx)(X.V,{alignment:"right",children:(0,o.jsx)(O.K,{unsafeDisableTooltip:!0,sx:{alignSelf:"start"},"aria-label":"Remove repository from knowledge base",icon:b.TrashIcon,variant:"invisible",onClick:()=>a(e)})}),children:[(0,o.jsxs)(U.B,{sx:{display:"flex-inline"},children:[(0,o.jsx)(H.r,{src:e.owner.avatarUrl,square:e.isInOrganization,size:16}),r&&(0,o.jsx)(es,{onClose:()=>n(!1),repo:e})]}),(0,o.jsxs)(V.Q,{children:[""!==e.shortDescriptionHTML&&(0,o.jsx)(G.U,{children:(0,o.jsx)("span",{children:e.shortDescriptionHTML})}),(0,o.jsxs)("div",{children:[e.paths.length>0?(0,o.jsx)(_.A,{sx:{display:"inline-flex",flexWrap:"wrap",gap:1},children:e.paths.map((e,t)=>(0,o.jsx)(_.A,{className:"color-bg-subtle",sx:{px:1,borderRadius:2,fontFamily:"monospace",display:"inline-flex",fontSize:0,wordBreak:"break-word"},children:e},t))}):(0,o.jsxs)(k.A,{sx:{display:"inline-flex",alignItems:"baseline"},children:["All ",(0,o.jsx)("code",{className:"mx-1 p-1 color-bg-subtle rounded-2",children:".md"})," and"," ",(0,o.jsx)("code",{className:"mx-1 p-1 color-bg-subtle rounded-2",children:".mdx"})," files will be indexed"]})," \xb7 ",(0,o.jsx)(W.A,{as:"button",inline:!0,muted:!0,hoverColor:"fg.default",onClick:()=>n(!0),children:"Edit file paths"}),s&&-1!==s.indexOf(e.nameWithOwner)&&ey(ef([e.nameWithOwner]))]})]})]},e.name)}let ep=({zeroContentButton:e,setRepoSelectionDialogOpen:t})=>(0,o.jsxs)(B.A,{children:[(0,o.jsx)(B.A.Visual,{children:(0,o.jsx)(N.A,{icon:b.RepoIcon,size:24,sx:{color:"fg.muted"}})}),(0,o.jsx)(B.A.Heading,{children:"Select repositories"}),(0,o.jsx)(B.A.Description,{children:"Markdown files in selected repositories will be searchable using Copilot Chat."}),(0,o.jsx)(j.Q,{onClick:()=>t(!0),ref:e,children:eo})]});async function eg(e,t,s,a,r){if(a&&s===a){r({...ed,name:s});return}let n=0===s.length?"Name is required":s.length>100?"Name must be less than 100 characters":/^[a-z0-9- .']+$/i.test(s)?null:"Name can only contain letters, numbers, periods, hyphens, apostrophes, and spaces",i=t.id,o=t.isOrganization?"organization":"user";if(n){r(e=>({...e,status:"error",message:n}));return}if(o&&i){r(e=>({...e,status:"checking"}));let a=null;try{a=await e.validateKnowledgeBaseNameAvailability(t,s)}catch(e){r(e=>({...e,status:"error",message:"An error occurred"}));return}r(a?e=>({...e,status:"success",message:"Available!"}):e=>({...e,status:"error",message:`The docset ${s} already exists on this account.`}))}else r(e=>({...e,status:void 0,message:void 0}))}let ex=(0,P.s)(eg,300);function ef(e){let[t]=(0,f.M8)(e,!0);return t.docs}function ey(e){return(0,o.jsx)(_.A,{sx:{display:"flex",alignItems:"center",mr:2,mt:1},children:e===f.W5.Unindexed?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.A,{icon:b.XCircleFillIcon,color:"danger.fg",sx:{mr:2}}),(0,o.jsx)(k.A,{sx:{color:"fg.muted",fontSize:"small"},children:"Repository not indexed"})]}):e===f.W5.Indexing?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A.A,{size:"small",sx:{mr:2}}),(0,o.jsx)(k.A,{sx:{color:"fg.muted",fontSize:"small"},children:"Indexing repository"})]}):(0,o.jsx)(o.Fragment,{})})}function eb(e){return(0,o.jsxs)(_.A,{sx:{display:"flex",alignItems:"center",mt:3},children:[(0,o.jsx)(N.A,{icon:b.InfoIcon,color:"fg.muted",sx:{mr:2}}),(0,o.jsx)(k.A,{sx:{color:"fg.muted",fontSize:"small"},children:e===f.W5.Indexed||e===f.W5.Unknown?"This knowledge base is available for chat.":"This knowledge base will be available for chat once one or more repositories have been indexed."})]})}try{eh.displayName||(eh.displayName="KnowledgeBaseForm")}catch{}try{em.displayName||(em.displayName="RepoListViewItem")}catch{}try{ep.displayName||(ep.displayName="ZeroContent")}catch{}try{ef.displayName||(ef.displayName="GetKnowledgeBaseIndexState")}catch{}try{ey.displayName||(ey.displayName="RepoIndexStatus")}catch{}try{eb.displayName||(eb.displayName="KnowledgeBaseIndexStatus")}catch{}function ew({docsetOwner:e}){let t=(0,K.Zp)(),s=(0,c.useContext)(p),a=async(a,r,n,i)=>{let o=await s.createKnowledgeBase(e,r,n,i);if(o)return o;t(`/organizations/${a.displayLogin}/settings/copilot/chat_settings?action=created`)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.A,{sx:{mt:0,pt:0,pb:2},children:(0,o.jsxs)(v.A,{as:"h1",sx:{fontWeight:"normal",fontSize:4},children:[(0,o.jsx)(W.A,{href:`/organizations/${e.displayLogin}/settings/copilot/chat_settings`,children:"Knowledge bases"})," ","/ New"]})}),(0,o.jsx)(k.A,{as:"p",sx:{mb:4},children:(0,o.jsx)(F,{})}),(0,o.jsx)(eh,{onSave:a,docsetOwner:e,primaryButtonText:"Create knowledge base"})]})}try{ew.displayName||(ew.displayName="NewKnowledgeBaseForm")}catch{}function e_(){let e=(0,g.B)();return(0,o.jsx)(ej,{children:(0,o.jsx)(ew,{docsetOwner:e.docsetOwner})})}let ev=new z.E;function ej({children:e}){let t=(0,E.E7)();return(0,o.jsx)(I.RelayEnvironmentProvider,{environment:t,children:(0,o.jsx)($.Ht,{client:ev,children:e})})}try{e_.displayName||(e_.displayName="NewKnowledgeBase")}catch{}try{ej.displayName||(ej.displayName="Providers")}catch{}function ek({docset:e,docsetOwner:t,repoData:s}){let a=(0,K.Zp)(),r=(0,c.useContext)(p),n=async(s,n,i,o)=>{try{await r.updateKnowledgeBase(e,t,n,i,o)}catch(e){if(e instanceof Error)return e.message;return"An error occurred."}a(`/organizations/${s.displayLogin}/settings/copilot/chat_settings?action=updated`)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.A,{sx:{mt:0,pt:0,pb:2},children:(0,o.jsxs)(v.A,{as:"h1",sx:{fontWeight:"normal",fontSize:4},children:[(0,o.jsx)(W.A,{href:`/organizations/${t.displayLogin}/settings/copilot/chat_settings`,children:"Knowledge bases"})," ","/ Edit ",e.name]})}),(0,o.jsx)(k.A,{as:"p",sx:{mb:4},children:(0,o.jsx)(F,{})}),(0,o.jsx)(eh,{onSave:n,docsetOwner:t,initialDocset:e,initialRepos:s,primaryButtonText:"Update knowledge base"})]})}try{ek.displayName||(ek.displayName="EditKnowledgeBaseForm")}catch{}function eA(){let e=(0,g.B)(),t=(0,c.useContext)(p),[s,a]=(0,c.useState)(!0),[r,n]=(0,c.useState)(void 0);return(0,c.useEffect)(()=>{let s=!1,r=async()=>{let r=await t.fetchKnowledgeBase(e.currentOrganizationLogin,e.knowledgeBaseId);s||(a(!1),n(r))};return a(!0),r(),()=>{s=!0}},[e.currentOrganizationLogin,e.knowledgeBaseId,t]),(0,o.jsx)(M,{children:s||!r?(0,o.jsx)(_.A,{sx:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(A.A,{})}):(0,o.jsx)(ek,{docset:r.docset,repoData:r.repoData,docsetOwner:r.docsetOwner})})}try{eA.displayName||(eA.displayName="EditKnowledgeBase")}catch{}var eC=s(79840),eN=s(86233);(0,eC.Q)("copilot-chat-settings",()=>({App:x,routes:[(0,eN.a)({path:"/organizations/:organization_id/settings/copilot/chat_settings",Component:D}),(0,eN.a)({path:"/organizations/:organization_id/settings/copilot/chat_settings/new",Component:e_}),(0,eN.a)({path:"/organizations/:organization_id/settings/copilot/chat_settings/:id/edit",Component:eA})]}))},16184:(e,t,s)=>{s.d(t,{U:()=>o});var a=s(73766),r=s(96540),n=s(18312),i=s(38936);function o(e){let[t,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),[m,p]=(0,r.useState)(void 0),[g,x]=(0,r.useState)(),f=(0,r.useRef)(void 0),y=(0,n.useRelayEnvironment)(),b=(0,n.useFragment)(i.Sy,g??null);if(b&&!m&&!e){let{topRepositories:e}=b;p((e.edges||[]).flatMap(e=>e?.node?[(0,n.readInlineData)(i.R6,e.node)]:[])),h(!1),x(void 0)}let w=(0,r.useCallback)(async()=>{try{let e=await (0,n.fetchQuery)(y,i.m,{topRepositoriesFirst:10}).toPromise();x(e?.viewer)}catch(e){}},[y,x]);return(0,r.useEffect)(()=>{w()},[w]),(0,r.useEffect)(()=>{let t=async e=>{h(!0);let t=await new Promise((t,s)=>{(0,n.fetchQuery)(y,i.XD,{searchQuery:(0,a.J)(e)}).subscribe({start:e=>{f.current?.unsubscribe(),f.current=e},next:e=>{t(e)},error:e=>{s(e)}})});s((t.search.nodes||[]).flatMap(e=>e?[(0,n.readInlineData)(i.R6,e)]:[])),d(t.search.pageInfo.endCursor||null),l(t.search.repositoryCount),h(!1)};e?t(e):m&&s(m)},[e,y,m]),{repositories:t,loading:u,totalCount:o,loadMore:(0,r.useCallback)(async(t,r)=>{let o=await new Promise((s,r)=>{(0,n.fetchQuery)(y,i.XD,{searchQuery:(0,a.J)(e),after:t}).subscribe({start:e=>{f.current?.unsubscribe(),f.current=e},next:e=>{s(e)},error:e=>{r(e)}})}),l=(o.search.nodes||[]).flatMap(e=>e?[(0,n.readInlineData)(i.R6,e)]:[]);s(e=>[...e,...l]),d(o.search.pageInfo.endCursor||null),r()},[e,y]),endCursor:c}}},22868:(e,t,s)=>{s.d(t,{r:()=>o});var a=s(74848),r=s(97156),n=s(78209),i=s(96540);let o=(0,i.forwardRef)(function({src:e,size:t=20,...s},o){let l=(0,i.useMemo)(()=>{let s=new URL(e,r.fV.origin);return s.searchParams.has("size")||s.searchParams.has("s")||s.searchParams.set("size",String(2*Number(t))),s.toString()},[e,t]);return(0,a.jsx)(n.A,{ref:o,src:l,size:t,"data-testid":"github-avatar",...s})});try{o.displayName||(o.displayName="GitHubAvatar")}catch{}},53800:(e,t,s)=>{s.d(t,{U:()=>l});var a=s(74848),r=s(92240),n=s(75177),i=s(20053);let o={container:"Description-module__container--b3n6F"};function l({children:e,style:t,className:s,sx:l}){return(0,a.jsx)(n.A,{...(0,r.G)("list-view-item-description"),className:(0,i.$)(o.container,s),style:t,sx:l,children:e})}try{l.displayName||(l.displayName="ListItemDescription")}catch{}},8539:(e,t,s)=>{s.d(t,{B:()=>c});var a=s(74848),r=s(92240),n=s(75177),i=s(20053),o=s(57357);let l={container:"LeadingContent-module__container--NoK8W",isSelectable:"LeadingContent-module__isSelectable--J9kYS"},c=({style:e,className:t,sx:s,children:c})=>{let{isSelectable:d}=(0,o.v)();return(0,a.jsx)(n.A,{className:(0,i.$)(l.container,d&&l.isSelectable,t),...(0,r.G)("list-view-item-leading-content"),style:e,sx:s,children:c})};try{c.displayName||(c.displayName="ListItemLeadingContent")}catch{}},69818:(e,t,s)=>{s.d(t,{Q:()=>d});var a=s(74848),r=s(92240),n=s(20053),i=s(96540),o=s(2562);let l={container:"MainContent-module__container--ry4iL",inner:"MainContent-module__inner--bU_tk",compact:"MainContent-module__compact--mM626"};var c=s(48077);function d({children:e}){let{variant:t}=(0,o.e)(),s=i.Children.toArray(e),d=s.findIndex(e=>(0,i.isValidElement)(e)&&"string"!=typeof e&&e.type===c.a),u=s[d],h=d<0?s:s.slice(0,d).concat(s.slice(d+1));return(0,a.jsxs)(a.Fragment,{children:[u,(0,a.jsx)("div",{...(0,r.G)("list-view-item-main-content"),className:l.container,children:(0,a.jsx)("div",{className:(0,n.$)(l.inner,"compact"===t&&l.compact),children:h})})]})}try{d.displayName||(d.displayName="ListItemMainContent")}catch{}},20556:(e,t,s)=>{s.d(t,{V:()=>l});var a=s(74848),r=s(92240),n=s(75177),i=s(20053);let o={metadata:"Metadata-module__metadata--yvrod",secondary:"Metadata-module__secondary--zMgLx",primary:"Metadata-module__primary--cJgJU",alignRight:"Metadata-module__alignRight--rp0_Z"};function l({children:e,alignment:t,variant:s,...l}){return(0,a.jsx)(n.A,{...(0,r.G)("list-view-item-metadata-item"),...l,className:(0,i.$)(o.metadata,"primary"===s?o.primary:o.secondary,"right"===t&&o.alignRight,l.className),children:e})}try{l.displayName||(l.displayName="ListItemMetadata")}catch{}},599:(e,t,s)=>{s.d(t,{X:()=>S});var a,r,n,i=s(74848),o=s(7572),l=s(92240),c=s(75177),d=s(20053),u=s(96540);let h={normal:"density-gap-module__normal--WYrBD",none:"density-gap-module__none--WMH6V",condensed:"density-gap-module__condensed--seZl0",spacious:"density-gap-module__spacious--Nnm9Z"};var m=s(41094),p=s(10026);let g={container:"ActionBar-module__container--SjALR"},x=({actions:e,style:t,sx:s,className:a,children:r,density:n,actionsLabel:o,densityToggle:u})=>{let m=(0,i.jsxs)(i.Fragment,{children:[r,u]});return e&&e.length>0?(0,i.jsx)(p.E7,{label:o?.trim(),actions:e,density:n,...(0,l.G)("list-view-actions"),style:t,sx:s,className:a,children:m}):(0,i.jsx)(c.A,{...(0,l.G)("list-view-actions"),style:t,sx:s,className:(0,d.$)(g.container,n&&h[n],a),children:m})};try{x.displayName||(x.displayName="ListViewActionBar")}catch{}var f=s(16696);let y={container:"Metadata-module__container--tL6Q3",heading:"Metadata-module__heading--HAxII"},b={container:"SectionFilters-module__container--MmIUF"},w=({links:e})=>e.length<1?null:(0,i.jsx)("div",{...(0,l.G)("list-view-section-filters"),children:(0,i.jsx)("ul",{className:(0,d.$)("list-style-none",b.container),children:e.map((e,t)=>(0,i.jsx)("li",{...(0,l.G)(`list-view-section-filter-${t}`),children:e},`section-filter-${t}`))})});try{w.displayName||(w.displayName="ListViewSectionFilters")}catch{}var _=s(66889),v=s(47553),j=s(37753);let k={container:"SelectAllCheckbox-module__container--FJDtV",formControlContainer:"SelectAllCheckbox-module__formControlContainer--JTzPI",count:"SelectAllCheckbox-module__count--xEF8c"};var A=s(57357),C=s(79057);let N=({onToggle:e,style:t,className:s,sx:a})=>{let{title:r}=(0,C.t)(),{isSelectable:n,selectedCount:h,totalCount:m,countOnPage:p,isSelectAllChecked:g,anyItemsSelected:x,singularUnits:f,pluralUnits:y}=(0,A.v)(),{multiPageSelectionAllowed:b}=(0,j.P)(),w=(0,u.useId)(),N=(0,u.useRef)(null),S=(0,u.useRef)(null),O=(0,u.useMemo)(()=>b&&"number"==typeof m?h<Math.max(m,p):h<p,[p,b,h,m]),B=x&&O,R=1===h?f:y,E="number"==typeof m?`of ${m} selected`:"selected",z=`${h} ${R} ${E}`,$=(0,u.useCallback)(()=>{e&&(B?e(!1):e(!g))},[B,g,e]);if((0,u.useEffect)(()=>{S.current&&(0,o.C)(S.current)},[S,z]),!n)return null;let I=`${w}-list-view-select-all`;return(0,i.jsxs)(c.A,{style:t,sx:a,className:(0,d.$)(k.container,s),...(0,l.G)("list-view-select-all-container"),id:`${w}-list-view-select-all-container`,children:[(0,i.jsx)("div",{className:k.formControlContainer,children:(0,i.jsxs)(_.A,{id:I,children:[(0,i.jsx)(v.A,{onChange:$,value:"default",checked:g,indeterminate:B,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),$())},tabIndex:0,ref:N,...(0,l.G)("select-all-checkbox")}),(0,i.jsxs)(_.A.Label,{visuallyHidden:!0,...(0,l.G)("select-all-label"),children:["Select all ",y,": ",r]})]})}),(0,i.jsxs)("p",{className:(0,d.$)(k.count,x?void 0:"sr-only"),...(0,l.G)("select-all-selected-count"),children:[(0,i.jsxs)("span",{"aria-hidden":"true",className:x?void 0:"sr-only",...(0,l.G)("select-all-selected-count-without-units"),children:[h," ",E," "]}),(0,i.jsx)("span",{className:"sr-only",ref:S,...(0,l.G)("sr-content"),children:z})]})]})};try{N.displayName||(N.displayName="ListViewSelectAllCheckbox")}catch{}let S=({title:e,assistiveAnnouncement:t,sectionFilters:s,children:a,style:r,sx:n,className:p,actionsStyle:g,actionsSx:b,actionsClassName:_,onToggleSelectAll:v,...j})=>{let{idPrefix:k}=(0,f.If)(),{anyItemsSelected:S}=(0,A.v)(),{setHasMetadataTitle:O}=(0,C.t)(),B=(0,m.m)("list-view-metadata"),R=(0,u.useRef)(null);(0,u.useEffect)(()=>{O(!!e)}),(0,u.useEffect)(()=>{R.current&&(0,o.C)(R.current)},[t]);let E=(0,u.useCallback)(()=>s?Array.isArray(s)?(0,i.jsx)(w,{links:s}):(0,u.isValidElement)(s)?(0,i.jsx)(i.Fragment,{children:s}):null:null,[s]);return(0,i.jsxs)(c.A,{id:`${k}-list-view-metadata`,className:(0,d.$)(y.container,p,S&&h.spacious),style:r,sx:n,...(0,l.G)("list-view-metadata"),children:[(0,i.jsx)(N,{onToggle:e=>{v&&v(e)}}),(0,i.jsx)(E,{}),e&&!S&&(0,i.jsx)(B,{className:y.heading,...(0,l.G)("list-view-header-title"),children:e}),(0,i.jsx)(x,{style:g,sx:b,className:_,...j,children:a}),t&&(0,i.jsx)(()=>(0,i.jsx)("div",{id:`${k}-list-view-announcements`,role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",ref:R,...(0,l.G)("list-view-announcement-container"),children:t}),{})]})};try{S.displayName||(S.displayName="ListViewMetadata")}catch{}try{(a=TitleTag).displayName||(a.displayName="TitleTag")}catch{}try{(r=ListViewAnnouncements).displayName||(r.displayName="ListViewAnnouncements")}catch{}try{(n=ListFilters).displayName||(n.displayName="ListFilters")}catch{}},86233:(e,t,s)=>{s.d(t,{a:()=>a});function a({path:e,Component:t,shouldNavigateOnError:s,transitionType:a,children:r}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let s=`${e.pathname}${e.search}`;t=await window.fetch(s,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom","X-React-Router":"json"}})}catch(e){return{type:s?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:s?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:s?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:a,children:r}}},61388:(e,t,s)=>{s.d(t,{_:()=>o});var a=s(36158),r=s(26261),n=s(66500),i=s(24880),o=class extends n.Q{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.EN)(t.mutationKey)!==(0,i.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,a.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){r.j.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#a.onSuccess?.(e.data,t,s),this.#a.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#a.onError?.(e.error,t,s),this.#a.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}}},79915:(e,t,s)=>{s.d(t,{T:()=>l});var a=s(26261),r=s(1651),n=s(66500),i=s(24880);function o(e,t){return e.filter(e=>!t.includes(e))}var l=class extends n.Q{#e;#i;#o;#l;#c;#d;#u;constructor(e,t,s){super(),this.#e=e,this.#o=[],this.#l=[],this.#i=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#l.forEach(e=>{e.subscribe(t=>{this.#h(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#l.forEach(e=>{e.destroy()})}setQueries(e,t,s){this.#o=e,a.j.batch(()=>{let e=this.#l,t=this.#m(this.#o);t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,s));let a=t.map(e=>e.observer),r=a.map(e=>e.getCurrentResult()),n=a.some((t,s)=>t!==e[s]);(e.length!==a.length||n)&&(this.#l=a,this.#i=r,this.hasListeners()&&(o(e,a).forEach(e=>{e.destroy()}),o(a,e).forEach(e=>{e.subscribe(t=>{this.#h(e,t)})}),this.#n()))})}getCurrentResult(){return this.#i}getQueries(){return this.#l.map(e=>e.getCurrentQuery())}getObservers(){return this.#l}getOptimisticResult(e,t){let s=this.#m(e),a=s.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[a,e=>this.#p(e??a,t),()=>s.map((e,t)=>{let r=a[t];return e.defaultedQueryOptions.notifyOnChangeProps?r:e.observer.trackResult(r,e=>{s.forEach(t=>{t.observer.trackProp(e)})})})]}#p(e,t){return t?(this.#c&&this.#i===this.#u&&t===this.#d||(this.#d=t,this.#u=this.#i,this.#c=(0,i.BH)(this.#c,t(e))),this.#c):e}#m(e){let t=new Map(this.#l.map(e=>[e.options.queryHash,e])),s=e.map(e=>this.#e.defaultQueryOptions(e)),a=s.flatMap(e=>{let s=t.get(e.queryHash);return null!=s?[{defaultedQueryOptions:e,observer:s}]:[]}),n=new Set(a.map(e=>e.defaultedQueryOptions.queryHash)),i=s.filter(e=>!n.has(e.queryHash)),o=e=>{let t=this.#e.defaultQueryOptions(e);return this.#l.find(e=>e.options.queryHash===t.queryHash)??new r.$(this.#e,t)},l=i.map(e=>({defaultedQueryOptions:e,observer:o(e)}));return a.concat(l).sort((e,t)=>s.indexOf(e.defaultedQueryOptions)-s.indexOf(t.defaultedQueryOptions))}#h(e,t){let s=this.#l.indexOf(e);-1!==s&&(this.#i=function(e,t,s){let a=e.slice(0);return a[t]=s,a}(this.#i,s,t),this.#n())}#n(){a.j.batch(()=>{this.listeners.forEach(e=>{e(this.#i)})})}}},94747:(e,t,s)=>{s.d(t,{n:()=>l});var a=s(96540),r=s(61388),n=s(26261),i=s(97665),o=s(54362);function l(e,t){let s=(0,i.jE)(t),[l]=a.useState(()=>new r._(s,e));a.useEffect(()=>{l.setOptions(e)},[l,e]);let c=a.useSyncExternalStore(a.useCallback(e=>l.subscribe(n.j.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=a.useCallback((e,t)=>{l.mutate(e,t).catch(o.l)},[l]);if(c.error&&(0,o.G)(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}},40458:(e,t,s)=>{s.d(t,{E:()=>h});var a=s(96540),r=s(79915),n=s(26261),i=s(1651),o=s(97665),l=s(98378),c=s(96672),d=s(68590),u=s(60791);function h({queries:e,...t},s){let h=(0,o.jE)(s),m=(0,l.w)(),p=(0,c.h)(),g=a.useMemo(()=>e.map(e=>{let t=h.defaultQueryOptions(e);return t._optimisticResults=m?"isRestoring":"optimistic",t}),[e,h,m]);g.forEach(e=>{(0,u.tu)(e),(0,d.LJ)(e,p)}),(0,d.wZ)(p);let[x]=a.useState(()=>new r.T(h,g,t)),[f,y,b]=x.getOptimisticResult(g,t.combine);a.useSyncExternalStore(a.useCallback(e=>m?()=>void 0:x.subscribe(n.j.batchCalls(e)),[x,m]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),a.useEffect(()=>{x.setQueries(g,t,{listeners:!1})},[g,t,x]);let w=f.some((e,t)=>(0,u.EU)(g[t],e))?f.flatMap((e,t)=>{let s=g[t];if(s){let t=new i.$(h,s);if((0,u.EU)(s,e))return(0,u.iL)(s,t,p);(0,u.nE)(e,m)&&(0,u.iL)(s,t,p)}return[]}):[];if(w.length>0)throw Promise.all(w);let _=f.find((e,t)=>{let s=g[t];return s&&(0,d.$1)({result:e,errorResetBoundary:p,throwOnError:s.throwOnError,query:h.getQueryCache().get(s.queryHash)})});if(_?.error)throw _.error;return y(b())}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-7901e7","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionList_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_stack-68835d","vendors-node_modules_github_hotkey_dist_index_js-node_modules_lodash-es_capitalize_js","vendors-node_modules_tanstack_query-core_build_modern_queryClient_js-node_modules_tanstack_qu-0e879d","vendors-node_modules_primer_react_lib-esm_Dialog_Dialog_js-node_modules_primer_react_lib-esm_-9fb4c0","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c","ui_packages_react-core_register-app_ts","ui_packages_paths_index_ts","ui_packages_relay-environment_relay-environment_ts","ui_packages_list-view_src_ListItem_ListItem_tsx-ui_packages_list-view_src_ListItem_Title_tsx--68e5b9","ui_packages_ui-commands_ui-commands_ts","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_copilot-chat_utils_copilot-chat-hooks_ts-ui_packages_issue-viewer_utils_queries_ts"],()=>t(49159)),e.O()}]);
//# sourceMappingURL=copilot-chat-settings-8b6e62ea8a1b.js.map