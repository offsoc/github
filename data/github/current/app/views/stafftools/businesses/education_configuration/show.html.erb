<%# erblint:counter FlashMigrationCounter 1 %>
<% page_info title: "Education Configuration: #{business.name}" %>

<%= render Primer::Beta::Subhead.new do |component| %>
  <% component.with_heading(tag: :h2) do %>Education Configuration<% end %>
<% end %>

<div class="flash">
  This page is used for provisioning customers on an Education Bundle, and is intended for Sales-Serve customers only. For more information, please visit <%= link_to('our documentation', GitHub.education_bundle_documentation_url, class: "Link--inTextBlock") %>.
</div>

<div class="Box mb-4">
  <div class="Box-header">
    Education Bundle
    <%= render(Primer::Experimental::Dialog.new(
      title: "Edit Education Configuration",
      src: edit_stafftools_enterprise_billing_education_configuration_path(business),
      preload: true,
    )) do |c| %>
      <% c.with_show_button(float: :right) do |s| %>
        Edit
      <% end %>
      <% c.with_include_fragment do |s| %>
        <div data-hide-on-error>
          <h5>Loading...</h5>
          <%= render(Primer::Beta::Spinner.new(size: :small, mt: 1)) %>
        </div>
        <div data-show-on-error hidden>
          <h5>Sorry, something went wrong.</h5>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="Box-row clearfix">
    <div class="mb-2">
      <div class="d-flex flex-justify-start mb-2">
        <span class="d-block col-4 text-bold">Education Bundle</span>
        <span class="d-block col-8"><%= business&.sales_serve_plan_subscription&.education_bundle %></span>
      </div>
  </div>
</div>

