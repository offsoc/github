<%# erblint:counter DeprecatedComponentsCounter 1 %>
 <% if actor_is_org? %>
  <%= render(Primer::Beta::Link.new(
    scheme: :primary,
    href: org_report_path)) do %>
    <%= render Primer::ButtonComponent.new(
        scheme: :link,
        tag: :summary,
        underline: false,
        w: :full,
        py: 3,
        classes: "dropdown-item",
        test_selector: "feed-item-heading-menu-report-org",
      ) do |m| %>
        <% m.with_leading_visual_icon(icon: :report) %>
        Report
      <% end %>
    <% end %>
<% else %>
  <%= render Profiles::User::BlockButtonComponent.new(
    user: actor,
    viewer_is_sponsoring_user: actor_is_sponsored_by_viewer?,
    viewer_is_sponsored_by_user: viewer_is_sponsored_by_actor?,
    viewer_is_blocking_user: false,
    header_classes: "report-dialog-header",
    title_classes: "m-0 h5",
    dialog_classes: "overflow-hidden",
    variant: :default,
    show_button_args: {
      scheme: :link,
      tag: :summary,
      underline: false,
      w: :full,
      py: 3,
      classes: "dropdown-item",
      test_selector: "feed-item-heading-menu-report-user",
    },
  ) do |b| %>
    <% b.with_show_button_contents do %>
      <%= primer_octicon(:report) %>
        Report
    <% end %>
  <% end %>
<% end %>
