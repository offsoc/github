"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_marketing_video-player_ts","app_assets_modules_marketing_audio-player_ts"],{49999:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(39595);function r(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}let o=class AudioPlayer extends HTMLElement{connectedCallback(){this.media&&this.isConnected&&(this.isReady||(this.browserIsMobile&&this.classList.add("media-player-browser-is-mobile"),this.dispatchEvent(new CustomEvent("media-player-connected")),this.media.addEventListener("ended",()=>{this.ended()}),this.media.addEventListener("play",()=>{this.isBuffering=!1,this.interactionEvent("play"),this.setPlayState(!1)}),this.media.addEventListener("pause",()=>{this.isBuffering=!1,this.interactionEvent("pause"),this.setPlayState(!0)}),this.media.addEventListener("waiting",()=>{this.isBuffering=!0}),this.media.addEventListener("playing",()=>{this.isBuffering=!1}),this.events(this.media,"durationchange loadedmetadata loadeddata canplay canplaythrough",()=>{this.media.duration&&!isNaN(this.media.duration)&&this.loaded()}),this.media&&this.media.duration&&!isNaN(this.media.duration)&&this.loaded(),this.addEventListener("mousedown",()=>{this.interactionEvent("click")}),this.addEventListener("focus",()=>{this.interactionEvent("focus")})))}loaded(){if(!this.isReady&&this.media){for(let t of(this.isReady=!0,this.isBuffering=!1,this.isLive=this.media.duration>=4294967296,this.setTotalTimeLabel(this.media.duration),this.setDiffTimeLabel(0,this.media.duration),this.initScrubber(),this.restoreVolumeState(),this.initVolumeSlider(),this.initBufferingProgress(),this.querySelectorAll("[disabled]")))t.removeAttribute("disabled");this.dispatchEvent(new CustomEvent("media-player-ready"))}}ended(){this.pause()}play(){this.media?.play()}pause(){this.media?.pause()}stop(){this.pause(),this.media&&(this.media.currentTime=0),this.setScrubberPosition(0)}togglePlay(){if(this.media?.paused){this.play();return}this.pause()}setPlayState(t){if(this.isPlaying=!t,t?cancelAnimationFrame(this.requestedAnimationFrame):requestAnimationFrame(this.updateStateWhilePlaying.bind(this)),!this.playToggleButton)return;let e=t?this.playToggleButton.getAttribute("data-label-play"):this.playToggleButton.getAttribute("data-label-pause");e&&(this.playToggleButton.setAttribute("aria-label",e),this.playTooltip&&this.showTooltips&&(this.playTooltip.textContent=e))}setTotalTimeLabel(t){this.totalTimeLabel&&!this.isLive&&(this.totalTimeLabel.textContent=this.formatTime(t))}setCurrentTimeLabel(t){this.currentTimeLabel&&!this.isLive&&(this.currentTimeLabel.textContent=this.formatTime(t))}setDiffTimeLabel(t,e){if(!this.diffTimeLabel||this.isLive)return;let i=-(t-e);if(i<1){this.diffTimeLabel.textContent=` ${this.formatTime(0)}`;return}this.diffTimeLabel.textContent=`-${this.formatTime(i)}`}updateScrubberAria(){this.scrubber&&this.scrubber.setAttribute("aria-valuenow",this.scrubber.value)}updateScrubberTooltip(t){if(!this.showTooltips||!this.scrubberTooltip)return;let e=parseInt(this.scrubber.max,10),i=this.calculatePercentagePostion(t,this.scrubber.offsetWidth),s=e*i/100;s<0&&(s=0),s>e&&(s=e),this.scrubberTooltip.style.left=`${i}%`,this.scrubberTooltip.firstChild&&(this.scrubberTooltip.firstChild.textContent=this.formatTime(s))}updateStateWhilePlaying(){this.media&&!this.isLive&&(this.setCurrentTimeLabel(this.media.currentTime),this.setDiffTimeLabel(this.media.currentTime,this.media.duration),this.setScrubberPosition(this.media.currentTime),this.requestedAnimationFrame=requestAnimationFrame(this.updateStateWhilePlaying.bind(this)))}setScrubberPosition(t){if(!this.scrubber||this.isLive)return;let e=Math.floor(t);this.scrubber.value=`${e}`,this.scrubberProgress&&(this.scrubberProgress.value=e),this.updateScrubberAria()}initScrubber(){if(!this.scrubber||!this.media||this.isLive)return;let t=Math.floor(this.media.duration);this.scrubber.value="0",this.scrubber.min="0",this.scrubber.max=`${t}`,this.scrubber.setAttribute("aria-valuemin",this.scrubber.min),this.scrubber.setAttribute("aria-valuemax",this.scrubber.max),this.scrubberProgress&&(this.scrubberProgress.max=t),this.scrubber.addEventListener("change",()=>{this.media&&(this.media.currentTime=parseInt(this.scrubber.value,10),this.media.paused||requestAnimationFrame(this.updateStateWhilePlaying.bind(this)))}),this.scrubber.addEventListener("input",()=>{if(!this.media)return;let t=parseInt(this.scrubber.value,10);this.setCurrentTimeLabel(t),this.setDiffTimeLabel(t,this.media.duration),this.scrubberProgress&&(this.scrubberProgress.value=t),this.updateScrubberAria(),this.media.paused||cancelAnimationFrame(this.requestedAnimationFrame)}),this.scrubber.addEventListener("mousemove",t=>{this.updateScrubberTooltip(t.offsetX)})}updateVolumeSlider(){if(!this.media)return;let t=100*this.media.volume;this.setVolumeSlider(t)}setVolumeSlider(t){this.volumeSlider&&(this.volumeSlider.setAttribute("aria-valuenow",`${t}`),this.volumeSlider.value=`${t}`,this.volumeProgress&&(this.volumeProgress.value=t))}updateMuteButtonState(){if(!this.media)return;let t=this.media.volume;this.setMuteButtonState(t)}setMuteButtonState(t){if(!this.muteToggleButton)return;let e=t>0?this.muteToggleButton.getAttribute("data-label-unmute"):this.muteToggleButton.getAttribute("data-label-mute");if(e&&(this.muteToggleButton.setAttribute("aria-label",e),this.showTooltips&&this.muteToggleTooltip&&(this.muteToggleTooltip.textContent=e)),t<.1){this.volumeState="mute";return}if(t<.6){this.volumeState="mid";return}this.volumeState="full"}updateVolumeState(){this.updateVolumeSlider(),this.updateMuteButtonState()}toggleMute(){this.media&&this.setMute(!this.media.muted)}setMute(t,e=!0,i=!0){if(this.media&&this.muteToggleButton){if(this.media.muted=t,t)this.media.volume=0;else{let t=this.volumeMemo||this.defaultVolumeStep;this.volumeSlider||(t=1),this.media.volume=t}e&&this.interactionEvent(t?"mute":"unmute"),i&&this.storeValue("muted",t)}}restoreVolumeState(){if(!this.media)return;let t=this.retrieveValue("volume"),e=this.retrieveValue("muted");this.volumeSlider&&null!==t&&this.setVolume(t,!1,!1),this.muteToggleButton&&e&&this.setMute(e,!1,!1),this.updateVolumeState(),this.media.addEventListener("volumechange",this.updateVolumeState.bind(this))}initVolumeSlider(){this.volumeSlider&&(this.volumeSlider.min="0",this.volumeSlider.max="100",this.volumeProgress&&(this.volumeProgress.max=100),this.volumeSlider&&(this.volumeSlider.setAttribute("aria-valuemin",this.volumeSlider.min),this.volumeSlider.setAttribute("aria-valuemax",this.volumeSlider.max)),this.volumeSlider.addEventListener("change",()=>{let t=parseInt(this.volumeSlider.value,10);this.setVolume(t/100)}),this.volumeSlider.addEventListener("input",()=>{if(!this.media)return;let t=parseInt(this.volumeSlider.value,10);this.media.muted&&this.setMute(!1),this.media.volume=this.volumeToFixed(t/100)}))}volumeToFixed(t){return(t=parseFloat(t.toFixed(1)))>.9&&(t=1),t<.1&&(t=0),t}setVolume(t,e=!0,i=!0){"number"==typeof t&&this.media&&this.volumeSlider&&(t=this.volumeToFixed(t),this.media.volume=t,t>0&&(this.volumeMemo=t),0===t&&this.setMute(!0,e,i),e&&this.interactionEvent("volume",t),i&&t>0&&this.storeValue("volume",t))}volumeUp(){if(!this.media)return;let t=this.defaultVolumeStep;this.media.muted&&(t=0,this.setMute(!1)),this.setVolume(this.media.volume+t)}volumeDown(){this.media&&this.setVolume(this.media.volume-this.defaultVolumeStep)}skipForward(){this.skip(!1),this.interactionEvent("skip-forward")}skipBackward(){this.skip(!0)}skip(t,e){if(!this.media||this.isLive)return;e=e||this.defaultSkipStep;let i=this.media.currentTime+e*(t?-1:1);i<0&&(i=0),i>this.media.duration&&(i=this.media.duration),this.media.currentTime=i,this.media.paused&&(this.setCurrentTimeLabel(this.media.currentTime),this.setDiffTimeLabel(this.media.currentTime,this.media.duration),this.setScrubberPosition(this.media.currentTime))}initBufferingProgress(){this.bufferProgress&&this.media&&(this.bufferProgress.max=100,this.media.addEventListener("progress",()=>{!(this.media.duration<=0)&&this.media.buffered&&this.media.buffered.length&&(this.bufferProgress.value=this.media.buffered.end(0)/this.media.duration*100)}))}toggleFullscreen(){}toggleCaptions(){}events(t,e,i){for(let s of e.toLowerCase().split(" "))t.addEventListener(s,t=>{i(t)})}storeValue(t,e){localStorage.setItem(`github-media-player-${t}`,JSON.stringify(e))}retrieveValue(t){let e=localStorage.getItem(`github-media-player-${t}`);return e?JSON.parse(e):null}isMobile(){if("maxTouchPoints"in navigator)return navigator.maxTouchPoints>0;let t=matchMedia?.("(pointer:coarse)");return t?.media==="(pointer:coarse)"?!!t.matches:"orientation"in window||/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(navigator.userAgent)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(navigator.userAgent)}zeroFormat(t){return t<10?`0${t}`:`${t}`}formatTime(t){let e=Math.floor(t/60),i=Math.floor(t%60);if(e>59){let t=Math.floor(e/60);return e=Math.floor(e%60),`${this.zeroFormat(t)}:${this.zeroFormat(e)}:${this.zeroFormat(i)}`}return`${this.zeroFormat(e)}:${this.zeroFormat(i)}`}calculatePercentagePostion(t,e){return 100*t/e}supportsFullscreen(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||this.webkitRequestFullScreen||this.media.webkitEnterFullscreen)}interactionEvent(t,e=null){let i={target:this,type:t,value:e};(void 0!==e||null!==e)&&(i.value=e),document.dispatchEvent(new CustomEvent("media-player-interaction",{detail:i}))}constructor(...t){super(...t),this.requestedAnimationFrame=0,this.volumeMemo=1,this.browserIsIOS=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>1,this.browserIsMobile=this.isMobile(),this.isReady=!1,this.isPlaying=!1,this.defaultSkipStep=10,this.defaultVolumeStep=.1,this.volumeState="full",this.isBuffering=!0,this.isLive=!1}};r([s.CF],o.prototype,"isReady",void 0),r([s.CF],o.prototype,"isPlaying",void 0),r([s.CF],o.prototype,"defaultSkipStep",void 0),r([s.CF],o.prototype,"defaultVolumeStep",void 0),r([s.CF],o.prototype,"volumeState",void 0),r([s.CF],o.prototype,"showTooltips",void 0),r([s.CF],o.prototype,"isBuffering",void 0),r([s.CF],o.prototype,"isLive",void 0),r([s.aC],o.prototype,"media",void 0),r([s.aC],o.prototype,"playToggleButton",void 0),r([s.aC],o.prototype,"playTooltip",void 0),r([s.aC],o.prototype,"scrubber",void 0),r([s.aC],o.prototype,"scrubberProgress",void 0),r([s.aC],o.prototype,"scrubberTooltip",void 0),r([s.aC],o.prototype,"currentTimeLabel",void 0),r([s.aC],o.prototype,"diffTimeLabel",void 0),r([s.aC],o.prototype,"totalTimeLabel",void 0),r([s.aC],o.prototype,"muteToggleButton",void 0),r([s.aC],o.prototype,"muteToggleTooltip",void 0),r([s.aC],o.prototype,"volumeSlider",void 0),r([s.aC],o.prototype,"volumeProgress",void 0),r([s.aC],o.prototype,"bufferProgress",void 0),o=r([s.p_],o)},6660:(t,e,i)=>{i.r(e);var s=i(39595),r=i(49999);function o(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}let a=class VideoPlayer extends r.default{setupScrubberVideoEvents(){this.scrubber&&(this.scrubber.addEventListener("change",()=>{this.posterHidden=!0}),this.scrubber.addEventListener("input",()=>{this.posterHidden=!0}))}initVideoOverlay(){this.media&&this.overlay&&(this.browserIsMobile?this.media&&this.media.paused&&this.overlay.addEventListener("click",this.play.bind(this)):this.overlay.addEventListener("click",this.togglePlay.bind(this)))}showControls(){this.controlsShown=!0,this.controlsHideTimer&&clearTimeout(this.controlsHideTimer),this.media&&this.media.paused||(this.controlsHideTimer=window.setTimeout(()=>{this.controlsShown=!1},this.controlsHideTimerDuration))}initVideoControlsHide(){if(!this.media)return;let t=this.browserIsMobile?"touchstart":"mousemove";this.addEventListener(t,()=>{this.showControls()}),this.addEventListener("media-player-keyboard-interaction",()=>{this.showControls()})}setVideoPlayState(t){if(t){this.overlayHidden=!1,this.controlsShown=!0,this.controlsHideTimer&&clearTimeout(this.controlsHideTimer);return}this.overlayHidden=!0,this.posterHidden=!0,this.controlsShown=!1}skipForward(){this.skip(!1),this.posterHidden=!0,this.interactionEvent("skip-forward")}initCaptions(){if(!this.track){this.captions&&this.captions.remove();return}if(!this.captions)return;this.captionsToggleButton&&(this.captionsToggleButton.hidden=!1);let t=this.retrieveValue("captions");null!==t&&(this.captionsVisible=t,this.setCaptionsState(t)),this.track.addEventListener("cuechange",t=>{if(!this.captions||!t.target)return;let e=t.target;if(!e||!e.track)return;let i=e.track.activeCues;if(!i||!i.length){this.captions.hidden=!0;return}this.browserIsIOS||(e.track.mode="hidden"),this.captions.hidden=!1,this.captions.textContent=i[0].text})}toggleCaptions(){this.captionsToggleButton&&(this.setCaptionsState(!this.captionsVisible),this.interactionEvent(this.captionsVisible?"captions-on":"captions-off"))}setCaptionsState(t){if(this.captionsVisible=t,!this.captionsToggleButton)return;this.storeValue("captions",t);let e=t?this.captionsToggleButton.getAttribute("data-label-disable"):this.captionsToggleButton.getAttribute("data-label-enable");e&&(this.captionsToggleButton.setAttribute("aria-label",e),this.showTooltips&&this.captionsTooltip&&(this.captionsTooltip.textContent=e))}initFullscreen(){if(this.fullscreenToggleButton&&!this.supportsFullscreen()){this.fullscreenToggleButton.style.display="none";return}document.addEventListener("fullscreenchange",()=>{this.setFullscreenState(!!(document.fullscreenElement||document.webkitFullscreenElement))}),document.addEventListener("webkitfullscreenchange",()=>{document.webkitIsFullScreen||this.setFullscreenState(!1)}),this.browserIsIOS&&this.media.addEventListener("webkitendfullscreen",()=>{this.setFullscreenState(!1)})}enterFullscreen(){if(this.setFullscreenState(!0),this.requestFullscreen){this.requestFullscreen();return}if(this.browserIsIOS&&this.media){this.media.webkitEnterFullscreen();return}if(this.webkitRequestFullScreen&&this.media&&this.media.parentElement){this.media.parentElement.webkitRequestFullScreen();return}}exitFullscreen(){if(this.setFullscreenState(!1),document.exitFullscreen){document.exitFullscreen();return}if(this.browserIsIOS&&this.media){this.media.webkitExitFullscreen();return}if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();return}}setFullscreenState(t){if(this.isFullscreen=t,this.interactionEvent(t?"fullscreen-enter":"fullscreen-exit"),!this.fullscreenToggleButton)return;let e=t?this.fullscreenToggleButton.getAttribute("data-label-exit"):this.fullscreenToggleButton.getAttribute("data-label-enter");e&&(this.fullscreenToggleButton.setAttribute("aria-label",e),this.showTooltips&&this.fullscreenTooltip&&(this.fullscreenTooltip.textContent=e))}toggleFullscreen(){if(this.fullscreenToggleButton&&!this.isFullscreen){this.enterFullscreen();return}this.exitFullscreen()}constructor(){super(),this.controlsHideTimer=null,this.controlsHideTimerDuration=5e3,this.controlsShown=!0,this.isFullscreen=!1,this.captionsVisible=!0,this.posterHidden=!1,this.overlayHidden=!1,this.addEventListener("media-player-connected",()=>{this.controls&&(this.media.controls=!1,this.controls.hidden=!1),this.overlay&&(this.overlay.hidden=!1),this.poster&&(this.poster.hidden=!1),this.controlsTop&&(this.controlsTop.hidden=!1),this.browserIsIOS&&this.classList.add("media-player-browser-is-ios"),this.media.addEventListener("play",()=>{this.setVideoPlayState(!1)}),this.media.addEventListener("pause",()=>{this.setVideoPlayState(!0)}),this.initCaptions(),this.initFullscreen()}),this.addEventListener("media-player-ready",()=>{this.setupScrubberVideoEvents(),this.initVideoOverlay(),this.initVideoControlsHide()})}};o([s.CF],a.prototype,"controlsShown",void 0),o([s.CF],a.prototype,"isFullscreen",void 0),o([s.CF],a.prototype,"captionsVisible",void 0),o([s.CF],a.prototype,"posterHidden",void 0),o([s.CF],a.prototype,"overlayHidden",void 0),o([s.aC],a.prototype,"poster",void 0),o([s.aC],a.prototype,"overlay",void 0),o([s.aC],a.prototype,"controls",void 0),o([s.aC],a.prototype,"fullscreenToggleButton",void 0),o([s.aC],a.prototype,"fullscreenTooltip",void 0),o([s.aC],a.prototype,"track",void 0),o([s.aC],a.prototype,"captions",void 0),o([s.aC],a.prototype,"captionsToggleButton",void 0),o([s.aC],a.prototype,"captionsTooltip",void 0),o([s.aC],a.prototype,"controlsTop",void 0),a=o([s.p_],a)}}]);
//# sourceMappingURL=app_assets_modules_marketing_video-player_ts-bb950f1cfd23.js.map