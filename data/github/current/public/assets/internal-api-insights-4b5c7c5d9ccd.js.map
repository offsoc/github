{"version":3,"file":"internal-api-insights-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/aria-live/aria-live.ts","ui/packages/copy-to-clipboard/copy.ts","ui/packages/get-scrollable-parent/get-scrollable-parent.ts","ui/packages/internal-api-insights/NameWithDetails.tsx","ui/packages/internal-api-insights/utils.ts","ui/packages/internal-api-insights/DatabaseTreeItem.tsx","ui/packages/internal-api-insights/PerformancePaneItem.tsx","ui/packages/internal-api-insights/ClustersDisabler.tsx","ui/packages/internal-api-insights/PerformancePane.tsx","ui/packages/internal-api-insights/ApiInsights.tsx","ui/packages/internal-api-insights/internal-api-insights.ts","ui/packages/internal-api-insights/index.ts","ui/packages/react-core/deferred-registry.ts","ui/packages/react-core/react-partial-anchor.ts","ui/packages/react-core/react-partial-registry.ts","ui/packages/react-core/ReactPartialElement.tsx","ui/packages/react-core/register-partial.ts","ui/packages/react-profiling-mode/src/index.ts","ui/packages/copy-to-clipboard/CopyToClipboardButton.tsx","ui/packages/portal-tooltip/ControlledTooltip.tsx","ui/packages/portal-tooltip/PortalTooltip.tsx","ui/packages/portal-tooltip/hooks/UsePortalTooltip.tsx","ui/packages/react-core/ErrorBoundary.tsx","ui/packages/react-core/ErrorPage.tsx","ui/packages/react-core/PartialRouter.tsx","ui/packages/react-core/PartialEntry.tsx","ui/packages/react-core/ReactBaseElement.tsx"],"sourcesContent":["import {ssrSafeDocument} from '@github-ui/ssr-utils'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {\n  announce as liveRegionAnnounce,\n  announceFromElement as liveRegionAnnounceFromElement,\n} from '@primer/live-region-element'\n\nexport interface ElementWithAriaNotify extends Element {\n  ariaNotify: (\n    message: string,\n    options?: {interrupt?: 'none' | 'pending' | 'all'; priority?: 'none' | 'important'},\n  ) => void\n}\n\n/**\n * Troubleshooting guide for aria-live regions available on the Hub\n * - https://thehub.github.com/epd/engineering/dev-practicals/frontend/accessibility/readiness-routine/screenreaders/live-regions-and-focus-management-techniques/#why-isnt-my-live-region-working-as-i-expect\n */\n\n// Announce an element's text to the screen reader.\nexport function announceFromElement(el: HTMLElement, options?: {assertive?: boolean; element?: HTMLElement}) {\n  if (isFeatureEnabled('arianotify_comprehensive_migration')) {\n    announce(getTextContent(el), {...options, element: options?.element ?? el})\n  } else if (isFeatureEnabled('primer_live_region_element') && options?.element === undefined) {\n    liveRegionAnnounceFromElement(el, {\n      politeness: options?.assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    announce(getTextContent(el), options)\n  }\n}\n\n// Announce message update to screen reader.\n// Note: Use caution when using this function while a dialog is active.\n// If the message is updated while the dialog is open, the screen reader may not announce the live region.\n// For more information, view the document on dialog and live region support: https://github.com/github/accessibility/blob/main/docs/dialog-live-region-support.md\nexport function announce(message: string, options?: {assertive?: boolean; element?: HTMLElement}) {\n  const {assertive, element} = options ?? {}\n\n  if (isFeatureEnabled('arianotify_comprehensive_migration') && 'ariaNotify' in Element.prototype) {\n    ;((element || document.body) as Element as ElementWithAriaNotify).ariaNotify(message, {\n      interrupt: options?.assertive ? 'all' : 'none',\n    })\n  } else if (isFeatureEnabled('primer_live_region_element') && element === undefined) {\n    liveRegionAnnounce(message, {\n      politeness: assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    setContainerContent(message, assertive, element)\n  }\n}\n\n// Set aria-live container to message.\nfunction setContainerContent(message: string, assertive?: boolean, element?: HTMLElement) {\n  const getQuerySelector = () => {\n    return assertive ? '#js-global-screen-reader-notice-assertive' : '#js-global-screen-reader-notice'\n  }\n  const container = element ?? ssrSafeDocument?.querySelector(getQuerySelector())\n  if (!container) return\n  if (container.textContent === message) {\n    /* This is a hack due to the way the aria live API works.\n    A screen reader will not read a live region again\n    if the text is the same. Adding a space character tells\n    the browser that the live region has updated,\n    which will cause it to read again, but with no audible difference. */\n    container.textContent = `${message}\\u00A0`\n  } else {\n    container.textContent = message\n  }\n}\n\n// Gets the trimmed text content of an element.\nfunction getTextContent(el: HTMLElement): string {\n  // innerText does not contain hidden text\n  /* eslint-disable-next-line github/no-innerText */\n  return (el.getAttribute('aria-label') || el.innerText || '').trim()\n}\n","function createNode(text: string): Element {\n  const node = document.createElement('pre')\n  node.style.width = '1px'\n  node.style.height = '1px'\n  node.style.position = 'fixed'\n  node.style.top = '5px'\n  node.textContent = text\n  return node\n}\n\nfunction copyNode(node: Element): Promise<void> {\n  if ('clipboard' in navigator) {\n    return navigator.clipboard.writeText(node.textContent || '')\n  }\n\n  const selection = getSelection()\n  if (selection == null) {\n    return Promise.reject(new Error())\n  }\n\n  selection.removeAllRanges()\n\n  const range = document.createRange()\n  range.selectNodeContents(node)\n  selection.addRange(range)\n\n  document.execCommand('copy')\n  selection.removeAllRanges()\n  return Promise.resolve()\n}\n\nexport function copyText(text: string): Promise<void> {\n  if ('clipboard' in navigator) {\n    return navigator.clipboard.writeText(text)\n  }\n\n  const body = document.body\n  if (!body) {\n    return Promise.reject(new Error())\n  }\n\n  const node = createNode(text)\n  body.appendChild(node)\n  copyNode(node)\n  body.removeChild(node)\n  return Promise.resolve()\n}\n","const hasScrollableParent = (node: Element) => {\n  const computedStyle = getComputedStyle(node, null)\n  return ['overflow', 'overflow-y', 'overflow-x'].some(overflow => {\n    const value = computedStyle.getPropertyValue(overflow)\n    return value === 'auto' || value === 'scroll'\n  })\n}\n\nconst collectParents = (node: Node | null, ps: Node[]): Node[] => {\n  if (!node || node.parentNode === null) {\n    return ps\n  }\n  return collectParents(node.parentNode, ps.concat([node]))\n}\n\n/**\n * Traverse the DOM tree up to find the first scrollable parent of a given element,\n * returning `document.scrollingElement` or `document.documentElement` if none is found\n */\nexport function getScrollableParent(node: HTMLElement | SVGElement) {\n  if (!(node instanceof HTMLElement || node instanceof SVGElement)) {\n    return\n  }\n\n  const ps = collectParents(node.parentNode, [])\n\n  for (const item of ps) {\n    if ((item instanceof HTMLElement || item instanceof SVGElement) && hasScrollableParent(item)) {\n      return item\n    }\n  }\n\n  return document.scrollingElement || document.documentElement\n}\n","import {Box, Text, Token, ActionMenu, ActionList, Link} from '@primer/react'\nimport {\n  ContainerIcon,\n  DatabaseIcon,\n  DownloadIcon,\n  FlameIcon,\n  GraphIcon,\n  KebabHorizontalIcon,\n  LogIcon,\n} from '@primer/octicons-react'\nimport type {TraceNode} from './types'\n\nconst timingFast = 100\nconst timingSlow = 500\n\ntype ExportData = {\n  cleanTrace: TraceNode\n  flamegraphData: string\n}\n\nexport enum RequestType {\n  http_get = 'get',\n  http_put = 'put',\n  http_post = 'post',\n  http_delete = 'delete',\n  graphql_query = 'gql-query',\n  graphql_mutation = 'gql-mutation',\n  graphql_subscription = 'gql-subscription',\n}\n\ntype NameWithDetailsProps = {\n  name: string\n  type?: RequestType\n  duration: number\n  sqlQueriesCount: number\n  allocationsCount: number\n  traces: TraceNode\n}\n\nexport const NameWithDetails = ({\n  name,\n  type,\n  duration,\n  sqlQueriesCount,\n  allocationsCount,\n  traces,\n}: NameWithDetailsProps) => {\n  const trailingVisual = type ? <Token text={type.toString()} /> : null\n  const dataForExport = prepareDataForExport(traces)\n\n  const onFlamegraphClick = async ({\n    e,\n    objectFlamegraph,\n    vernier,\n  }: {\n    e: React.MouseEvent\n    objectFlamegraph?: boolean\n    vernier?: boolean\n  }) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    const url = traces['url'] as string\n    const method = traces['method'] as string\n\n    if (url && method) {\n      let flamegraphParams = 'flamegraph=1&flamegraph_output=json&flamegraph_interval=500'\n      flamegraphParams += objectFlamegraph ? '&flamegraph_mode=object' : ''\n      flamegraphParams += vernier ? '&flamegraph_mode=vernier' : ''\n\n      // make sure to remove the _tracing param to capture a trace without the tracing overhead\n      const cleanUrl = url.replace(/([&\\\\?])_tracing=true/, '')\n      const flamegraphUrl =\n        cleanUrl.indexOf('?') < 0 ? `${cleanUrl}?${flamegraphParams}` : `${cleanUrl}&${flamegraphParams}`\n\n      const response = await fetch(flamegraphUrl, {\n        method,\n        mode: 'no-cors',\n        cache: 'no-cache',\n        headers: {\n          accept: 'application/json',\n        },\n      })\n\n      const blob = await response.blob()\n      const blobUrl = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = blobUrl\n      a.download = 'flamegraph.json'\n      document.body.appendChild(a)\n      a.click()\n      a.remove()\n    } else {\n      alert('Unable to find url where to get flamegraph')\n    }\n  }\n\n  const requestId = traces['request_id'] as string | undefined\n\n  return (\n    <Box sx={{display: 'flex', flexDirection: 'row', gap: 2, alignItems: 'center'}}>\n      <Text sx={{marginRight: 'auto'}}>{name}</Text>\n      {trailingVisual}\n      <DatabaseDetail count={sqlQueriesCount} />\n      <AllocationDetail count={allocationsCount} />\n      <TimingDetail duration={duration} />\n      {trailingVisual && (\n        <LinksMenu\n          name={name}\n          isGraphqlQuery={type === RequestType.graphql_query || type === RequestType.graphql_mutation}\n          cleanTrace={dataForExport.cleanTrace}\n          onFlamegraphClick={onFlamegraphClick}\n          requestId={requestId}\n        />\n      )}\n    </Box>\n  )\n}\n\nexport const TimingDetail = ({duration}: {duration: number}) => {\n  const text = `${duration.toFixed(1)}ms`\n  const color = duration < timingFast ? 'success.fg' : duration < timingSlow ? 'attention.fg' : 'danger.fg'\n\n  return (\n    <Token\n      text={text}\n      sx={{\n        color,\n        height: '2.3em',\n      }}\n    />\n  )\n}\n\ntype LinksMenuProps = {\n  name: string\n  cleanTrace: TraceNode\n  isGraphqlQuery: boolean\n  onFlamegraphClick: ({\n    e,\n    objectFlamegraph,\n    vernier,\n  }: {\n    e: React.MouseEvent\n    objectFlamegraph?: boolean\n    vernier?: boolean\n  }) => void\n  requestId?: string\n}\n\nconst LinksMenu = ({name, isGraphqlQuery, cleanTrace, onFlamegraphClick, requestId}: LinksMenuProps) => {\n  return (\n    <ActionMenu>\n      <ActionMenu.Anchor>\n        <Token\n          text={''}\n          leadingVisual={KebabHorizontalIcon}\n          sx={{\n            height: '2.3em',\n            paddingRight: '4px',\n          }}\n        />\n      </ActionMenu.Anchor>\n\n      <ActionMenu.Overlay width=\"medium\">\n        <ActionList showDividers>\n          <ActionList.LinkItem\n            href={`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(cleanTrace))}`}\n            download={`api-traces-${name}.json`}\n            aria-label=\"Download trace\"\n          >\n            <ActionList.LeadingVisual>\n              <DownloadIcon />\n            </ActionList.LeadingVisual>\n            <Box sx={{fontWeight: '500'}}>Download trace</Box>\n            <ActionList.Description variant={'block'}>Raw trace in JSON format</ActionList.Description>\n          </ActionList.LinkItem>\n          <ActionList.LinkItem\n            download={`api-traces-${name}.json`}\n            aria-label=\"Download flamegraph\"\n            onClick={(e: React.MouseEvent) => onFlamegraphClick({e})}\n          >\n            <ActionList.LeadingVisual>\n              <FlameIcon />\n            </ActionList.LeadingVisual>\n            <Box sx={{fontWeight: '500'}}>Download flamegraph</Box>\n            <ActionList.Description variant={'block'}>\n              JSON data for{' '}\n              <Link inline href=\"https://www.speedscope.app/\">\n                Speedscope\n              </Link>{' '}\n              flamegraph\n            </ActionList.Description>\n          </ActionList.LinkItem>\n\n          <ActionList.LinkItem\n            download={`api-traces-${name}.json`}\n            aria-label=\"Download object flamegraph\"\n            onClick={(e: React.MouseEvent) => onFlamegraphClick({e, objectFlamegraph: true})}\n          >\n            <ActionList.LeadingVisual>\n              <FlameIcon />\n            </ActionList.LeadingVisual>\n            <Box sx={{fontWeight: '500'}}>Download object flamegraph</Box>\n            <ActionList.Description variant={'block'}>\n              JSON data for{' '}\n              <Link inline href=\"https://www.speedscope.app/\">\n                Speedscope\n              </Link>{' '}\n              flamegraph\n            </ActionList.Description>\n          </ActionList.LinkItem>\n          <ActionList.LinkItem\n            download={`api-traces-${name}.json`}\n            aria-label=\"Download Vernier flamegraph\"\n            onClick={(e: React.MouseEvent) => onFlamegraphClick({e, vernier: true})}\n          >\n            <ActionList.LeadingVisual>\n              <FlameIcon />\n            </ActionList.LeadingVisual>\n            <Box sx={{fontWeight: '500'}}>Download Vernier flamegraph</Box>\n            <ActionList.Description variant={'block'}>\n              JSON data for use with{' '}\n              <Link inline href=\"https://profiler.firefox.com/\">\n                Firefox profiler\n              </Link>\n            </ActionList.Description>\n          </ActionList.LinkItem>\n          {isGraphqlQuery && (\n            <ActionList.LinkItem href={getDataDogUrl(name)} target=\"_blank\" aria-label=\"Datadog dashboard\">\n              <ActionList.LeadingVisual>\n                <GraphIcon />\n              </ActionList.LeadingVisual>\n              <Box sx={{fontWeight: '500'}}>Datadog dashboard</Box>\n              <ActionList.Description variant={'block'}>\n                View last week&apos;s data for this GraphQL query\n              </ActionList.Description>\n            </ActionList.LinkItem>\n          )}\n          {isGraphqlQuery && (\n            <ActionList.LinkItem href={getDataDogApmUrl(name)} target=\"_blank\" aria-label=\"DataDog APM Logs\">\n              <ActionList.LeadingVisual>\n                <LogIcon />\n              </ActionList.LeadingVisual>\n              <Box sx={{fontWeight: '500'}}>Datadog APM </Box>\n              <ActionList.Description variant={'block'}>\n                View traces for this GraphQL query in DataDog APM\n              </ActionList.Description>\n            </ActionList.LinkItem>\n          )}\n          {requestId && (\n            <ActionList.LinkItem href={getSplunkUrl(requestId)} target=\"_blank\" aria-label=\"Splunk Logs\">\n              <ActionList.LeadingVisual>\n                <LogIcon />\n              </ActionList.LeadingVisual>\n              <Box sx={{fontWeight: '500'}}>Splunk Logs</Box>\n              <ActionList.Description variant={'block'}>View logs for this query in Splunk</ActionList.Description>\n            </ActionList.LinkItem>\n          )}\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\nconst getDataDogUrl = (name: string) => {\n  const operationName = name.toLowerCase()\n  const to = Date.now().toString()\n  const from = (Date.now() - 7 * 24 * 60 * 60 * 1000).toString()\n  const params = new URLSearchParams()\n\n  params.set('tpl_var_operation_name[0]', operationName)\n  params.set('from_ts', from)\n  params.set('to_ts', to)\n\n  return `https://app.datadoghq.com/dashboard/vyc-z7e-fna?${params}`\n}\n\nconst getDataDogApmUrl = (queryName: string) => {\n  return `https://app.datadoghq.com/apm/traces?query=@graphql.operation.name:${queryName}`\n}\n\nconst getSplunkUrl = (requestId: string) => {\n  const to = Math.floor((Date.now() + 60 * 1000) / 1000).toString()\n  const from = Math.floor((Date.now() - 60 * 1000) / 1000).toString()\n  const params = new URLSearchParams()\n  params.set('display.page.search.mode', 'verbose')\n  params.set('q', `search index=* \"${requestId}\"`)\n  params.set('dispatch.sample_ratio', '1')\n  params.set('earliest', from)\n  params.set('latest', to)\n\n  return `https://splunk.githubapp.com/en-US/app/gh_reference_app/search?${params}`\n}\n\nexport const DatabaseDetail = ({count}: {count: number}) => {\n  if (count < 1) return null\n  return (\n    <Token\n      text={count.toString()}\n      leadingVisual={DatabaseIcon}\n      sx={{\n        height: '2.3em',\n      }}\n    />\n  )\n}\n\nexport const AllocationDetail = ({count}: {count: number}) => {\n  if (count < 1) return null\n  return (\n    <Token\n      text={numberWithCommas(count)}\n      leadingVisual={ContainerIcon}\n      sx={{\n        height: '2.3em',\n      }}\n    />\n  )\n}\n\nfunction numberWithCommas(x: number) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nfunction prepareDataForExport(traces: TraceNode): ExportData {\n  const cleanTrace = JSON.parse(JSON.stringify(traces))\n  delete cleanTrace['flamegraph']\n  return {\n    cleanTrace,\n    flamegraphData: traces['flamegraph'] as string,\n  }\n}\n\ntry{ NameWithDetails.displayName ||= 'NameWithDetails' } catch {}\ntry{ TimingDetail.displayName ||= 'TimingDetail' } catch {}\ntry{ LinksMenu.displayName ||= 'LinksMenu' } catch {}\ntry{ DatabaseDetail.displayName ||= 'DatabaseDetail' } catch {}\ntry{ AllocationDetail.displayName ||= 'AllocationDetail' } catch {}","import type {QueryLog, TraceNode, GroupedLogs, TraceData} from './types'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function tryGetNumber(item: any, paths: string[], threshold: number): number | undefined {\n  let current = item\n\n  for (const path of paths) {\n    const sub_paths = path.split('/')\n    for (const sub_path of sub_paths) {\n      if (current && current[sub_path]) {\n        current = current[sub_path]\n      }\n    }\n\n    if (current && !Array.isArray(current) && Math.round(parseFloat(current) * 10) / 10 >= threshold) {\n      return parseFloat(current)\n    }\n    current = item\n  }\n\n  return undefined\n}\n\nexport function findSqlQueries(queries: QueryLog[], root: TraceNode) {\n  if (root['sql']) {\n    queries.push({\n      query: root['sql'] as string,\n      digested_query: root['digested_sql'] as string,\n      duration: root['duration_ms'] as number,\n      result: root['result_count'] as number,\n      cluster_name: root['cluster_name'] as string,\n      fallbacks: root['fallbacks'] as string[],\n      backtrace: root['backtrace'] as string[],\n    })\n  }\n\n  const keys = Object.keys(root)\n  for (const key of keys) {\n    if (key !== 'flamegraph' && typeof root[key] === 'object' && root[key] !== null) {\n      findSqlQueries(queries, root[key] as TraceNode)\n    }\n  }\n}\n\nexport function findSqlNPlusOne(root: TraceNode) {\n  if (root['execution']) {\n    const n_plus_one = (root['execution'] as TraceNode)['n_plus1_sql_queries']\n    if (n_plus_one) {\n      return n_plus_one as TraceNode[]\n    }\n  }\n\n  return []\n}\n\nexport function findEsQueries(queries: QueryLog[], root: TraceNode) {\n  if (root['elastomer']) {\n    const calls = (root['elastomer'] as TraceNode)['calls'] as TraceNode[]\n    for (const call of calls) {\n      queries.push({\n        query: call['body'] as string,\n        duration: call['duration_ms'] as number,\n        result: call['count'],\n      })\n    }\n  }\n  const keys = Object.keys(root)\n  for (const key of keys) {\n    if (key !== 'flamegraph' && typeof root[key] === 'object' && root[key] !== null) {\n      findEsQueries(queries, root[key] as TraceNode)\n    }\n  }\n}\n\nexport function tryGetRemoteUrl(absoluteUrl: string) {\n  const match = absoluteUrl.match(/(?:\\/workspaces\\/github\\/|\\/build\\/)(.*):([0-9]+)/)\n  if (match) {\n    return {\n      remoteUrl: `https://github.com/github/github/blob/master/${match[1]}#L${match[2]}`,\n      relativePath: match[1],\n      line: match[2],\n    }\n  }\n\n  return undefined\n}\n\nexport function getLinkFromBacktrace(backtrace: string[] | string | undefined | object): string | undefined {\n  if (backtrace === undefined || (Array.isArray(backtrace) && backtrace.length === 0)) {\n    return undefined\n  }\n\n  const backtraceLine = Array.isArray(backtrace) ? backtrace[0] : backtrace\n  if (!backtraceLine) {\n    return undefined\n  }\n\n  if (typeof backtraceLine !== 'string') {\n    return undefined\n  }\n\n  const url = tryGetRemoteUrl(backtraceLine)\n  if (url === undefined) {\n    return undefined\n  }\n\n  return url.remoteUrl\n}\n\nexport function groupMySqlQueriesByCluster(queries: QueryLog[]): GroupedLogs {\n  return queries.reduce((acc, log) => {\n    const cluster_name = log.cluster_name || 'unknown'\n    if (!acc[cluster_name]) {\n      acc[cluster_name] = []\n    }\n    acc[cluster_name]?.push(log)\n    return acc\n  }, {} as GroupedLogs)\n}\n\nexport function getAllUsedClusters(traces: TraceData): string[] {\n  const clusters = new Set<string>()\n  for (const trace of traces) {\n    const sqlQueries = new Array<QueryLog>()\n    findSqlQueries(sqlQueries, trace)\n    for (const query of sqlQueries) {\n      if (query.cluster_name) {\n        clusters.add(query.cluster_name)\n      }\n    }\n  }\n  return Array.from(clusters)\n}\n","import {Box, Text, Token, Link, TreeView} from '@primer/react'\nimport {RowsIcon, AlertFillIcon} from '@primer/octicons-react'\nimport {DatabaseDetail, TimingDetail} from './NameWithDetails'\nimport type {QueryLog, TraceNode} from './types'\nimport {getLinkFromBacktrace} from './utils'\n\nexport type SortType = 'none' | 'duration' | 'resultCount'\n\ntype DatabaseTreeItemProps = {\n  title: string\n  queries: QueryLog[]\n  nPlusOnes: TraceNode[]\n  sort?: SortType\n}\n\nexport const DatabaseTreeItem = ({title, queries, nPlusOnes, sort}: DatabaseTreeItemProps) => {\n  const totalTime = queries.reduce((acc, cur) => acc + cur.duration, 0)\n  const totalResults = queries.reduce((acc, cur) => acc + (cur.result ?? 0), 0)\n\n  if (queries.length === 0) {\n    return null\n  }\n\n  const sortedQueries = sortQueries(queries, sort)\n\n  return (\n    <TreeView.Item id={`${title}-database-item`}>\n      <Box sx={{display: 'flex', gap: 2, flexDirection: 'row', alignItems: 'center'}}>\n        <Text sx={{marginRight: 'auto'}}>{title}</Text>\n        <DatabaseDetail count={queries.length} />\n        {nPlusOnes.length > 0 && (\n          <Token\n            text={`${nPlusOnes.length} N+1`}\n            leadingVisual={AlertFillIcon}\n            sx={{color: 'attention.fg', height: '2.3em'}}\n          />\n        )}\n        <Token\n          text={totalResults.toString()}\n          leadingVisual={RowsIcon}\n          sx={{\n            height: '2.3em',\n          }}\n        />\n        <TimingDetail duration={totalTime} />\n      </Box>\n      <TreeView.SubTree>\n        {sortedQueries.map(query => (\n          <TreeView.Item key={query.query} id={`${query.query}-query-item`}>\n            <div>\n              <Link\n                target=\"_blank\"\n                href={getLinkFromBacktrace(query.backtrace)}\n                muted={true}\n                sx={{whiteSpace: 'pre-wrap', color: 'fg.default'}}\n              >\n                {query.query}\n              </Link>\n              <br />\n              <Box sx={{display: 'flex', flexDirection: 'row', m: 1}}>\n                <Text sx={{fontSize: 12, color: 'fg.muted'}}>\n                  {query.duration.toFixed(2)}ms, {query.result} results, fallbacks:{' '}\n                  {query.fallbacks?.length || 0 > 0 ? query.fallbacks?.join(', ') : 'unknown'}\n                </Text>\n                {nPlusOneHitsCount(query, nPlusOnes) > 0 && (\n                  <Token\n                    text={`${nPlusOneHitsCount(query, nPlusOnes)} N+1`}\n                    leadingVisual={AlertFillIcon}\n                    sx={{color: 'attention.fg', ml: 2}}\n                  />\n                )}\n              </Box>\n            </div>\n          </TreeView.Item>\n        ))}\n      </TreeView.SubTree>\n    </TreeView.Item>\n  )\n}\n\nfunction sortQueries(queries: QueryLog[], sort: SortType | undefined) {\n  switch (sort) {\n    case 'duration':\n      return queries.sort((a, b) => b.duration - a.duration)\n    case 'resultCount':\n      return queries.sort((a, b) => (b.result ?? 0) - (a.result ?? 0))\n    default:\n      return queries\n  }\n}\n\nfunction nPlusOneHitsCount(query: QueryLog, nPlusOnes: TraceNode[]) {\n  const nPlusOne = nPlusOnes?.find(n => n['sql'] === query.digested_query)\n  return nPlusOne ? nPlusOne.count : 0\n}\n\ntry{ DatabaseTreeItem.displayName ||= 'DatabaseTreeItem' } catch {}","import {TreeView, Box, Text, Link} from '@primer/react'\nimport {CopyToClipboardButton} from '@github-ui/copy-to-clipboard'\nimport {DatabaseTreeItem, type SortType} from './DatabaseTreeItem'\nimport {RequestType, NameWithDetails, DatabaseDetail} from './NameWithDetails'\nimport type {GroupedLogs, QueryLog, TraceNode} from './types'\nimport {\n  findSqlQueries,\n  groupMySqlQueriesByCluster,\n  findSqlNPlusOne,\n  findEsQueries,\n  tryGetNumber,\n  tryGetRemoteUrl,\n} from './utils'\n\ntype PerformancePaneItemProps = {\n  name: string\n  isRoot?: boolean\n  item: TraceNode\n  sortType?: SortType\n  threshold: number\n  variables?: object\n  showSubscriptionQueries?: boolean\n  groupSqlByClusters?: boolean\n  query_text?: string\n}\n\nexport const PerformancePaneItem = ({\n  name,\n  isRoot,\n  item,\n  sortType,\n  threshold,\n  variables,\n  showSubscriptionQueries,\n  groupSqlByClusters,\n  query_text,\n}: PerformancePaneItemProps) => {\n  const keys = Object.keys(item)\n\n  const sqlQueries = new Array<QueryLog>()\n  if (isRoot) {\n    findSqlQueries(sqlQueries, item)\n  }\n  const allocationsCount = tryGetNumber(item, ['total/allocated_objects_count'], 0) || 0\n\n  const groupedLogs: GroupedLogs = groupMySqlQueriesByCluster(sqlQueries)\n\n  const sqlNPlusOne = isRoot ? findSqlNPlusOne(item) : []\n\n  const esQueries = new Array<QueryLog>()\n  if (isRoot) {\n    findEsQueries(esQueries, item)\n  }\n\n  if (parseInt(name, 10).toString() === name && typeof item['name'] === 'string') {\n    name = item['name']\n  }\n\n  let nameElement: JSX.Element = <span>{name}</span>\n  let timing = tryGetNumber(item, ['total/duration_ms', '__trace/children_duration_ms', 'duration_ms'], threshold)\n\n  const children = keys.filter(key => typeof item[key] === 'object' && (!timing || key !== 'total'))\n  const values = getValues(item, name)\n\n  if (!timing) {\n    // If the element doesn't have timing info, try to get it by summing the duration for each **direct** child\n    timing = sumChildrenTiming(children, item, threshold)\n  }\n\n  if (!timing) {\n    return <></>\n  }\n\n  if (!showSubscriptionQueries && query_text?.match('subscription')) {\n    return <></>\n  }\n\n  let type: RequestType | undefined\n  if (name.endsWith('Query')) {\n    type = RequestType.graphql_query\n  } else if (name.endsWith('Mutation')) {\n    type = RequestType.graphql_mutation\n  } else if (name.endsWith('Subscription')) {\n    type = RequestType.graphql_subscription\n  } else {\n    const method = item['method'] as string\n    switch (method) {\n      case 'GET':\n        type = RequestType.http_get\n        break\n      case 'POST':\n        type = RequestType.http_post\n        break\n      case 'PUT':\n        type = RequestType.http_put\n        break\n      case 'DELETE':\n        type = RequestType.http_delete\n        break\n    }\n  }\n\n  nameElement = (\n    <NameWithDetails\n      name={name}\n      type={type}\n      duration={timing}\n      sqlQueriesCount={sqlQueries.length}\n      allocationsCount={allocationsCount}\n      traces={item}\n    />\n  )\n\n  const valuesForSubTree = getValuesForSubtree(values)\n  const subTree: Array<JSX.Element | null> =\n    valuesForSubTree.length > 0 ? buildSubTree(valuesForSubTree, item, name) : []\n\n  const childPerformancePaneItems = children\n    .filter(key => shouldIncludeChildItem(item[key] as TraceNode, key, threshold))\n    .map(key => <PerformancePaneItem key={key} name={key} item={item[key] as TraceNode} threshold={threshold} />)\n\n  return (\n    <TreeView.Item key={name} id={`${name}-pane-item`}>\n      {nameElement}\n      {(subTree.length > 0 || isRoot || childPerformancePaneItems.length > 0) && (\n        <TreeView.SubTree>\n          {subTree}\n          {isRoot && (\n            <>\n              <TreeView.Item id={`${name}-pane-query-item`}>\n                query\n                <TreeView.SubTree>\n                  <TreeView.Item id={`${name}-pane-query-text-item`}>\n                    query_text\n                    <TreeView.SubTree>\n                      <TreeView.Item id={`${name}-pane-query-text-sub-item`}>\n                        <Box\n                          sx={{\n                            display: 'flex',\n                            flexDirection: 'row',\n                            justifyContent: 'space-between',\n                          }}\n                        >\n                          <Text sx={{whiteSpace: 'pre-wrap'}}>{item['query_text'] as string}</Text>\n                          <CopyToClipboardButton\n                            tooltipProps={{direction: 'nw'}}\n                            textToCopy={item['query_text'] as string}\n                            ariaLabel=\"Copy to clipboard\"\n                            accessibleButton\n                            className=\"px-2 pt-1\"\n                            sx={{height: 25, width: 25}}\n                          />\n                        </Box>\n                      </TreeView.Item>\n                    </TreeView.SubTree>\n                  </TreeView.Item>\n                  <TreeView.Item id={`${name}-pane-query-variable-item`}>\n                    query_variables\n                    <TreeView.SubTree>\n                      {variables &&\n                        Object.entries(variables)\n                          .filter(([, value]) => !!value)\n                          .map(([key, value], index) => (\n                            <TreeView.Item id={`${index}-pane-query-variable-item`} key={index}>\n                              {key}: {value.toString()}\n                            </TreeView.Item>\n                          ))}\n                    </TreeView.SubTree>\n                  </TreeView.Item>\n                </TreeView.SubTree>\n              </TreeView.Item>\n              {groupSqlByClusters && (\n                <TreeView.Item id={`${name}-pane-mysql-item`}>\n                  <Box sx={{display: 'flex', flexDirection: 'row', gap: 2, alignItems: 'center'}}>\n                    <Text sx={{marginRight: 'auto'}}>mysql</Text>\n                    <Text sx={{fontSize: 12, color: 'fg.muted'}}>{Object.entries(groupedLogs).length} clusters</Text>\n                    <DatabaseDetail count={sqlQueries.length} />\n                  </Box>\n                  <TreeView.SubTree>\n                    {Object.entries(groupedLogs).map(([key, value]) => (\n                      <DatabaseTreeItem key={key} title={key} queries={value} nPlusOnes={sqlNPlusOne} sort={sortType} />\n                    ))}\n                  </TreeView.SubTree>\n                </TreeView.Item>\n              )}\n            </>\n          )}\n          {!groupSqlByClusters && (\n            <DatabaseTreeItem title=\"mysql\" queries={sqlQueries} nPlusOnes={sqlNPlusOne} sort={sortType} />\n          )}\n          <DatabaseTreeItem title=\"elastic search\" queries={esQueries} nPlusOnes={[]} sort={sortType} />\n          {childPerformancePaneItems}\n        </TreeView.SubTree>\n      )}\n    </TreeView.Item>\n  )\n}\n\nfunction sumChildrenTiming(children: string[], item: TraceNode, threshold: number) {\n  let subTreeDuration = 0\n  for (const key of children) {\n    const duration = tryGetNumber(\n      item[key] as TraceNode,\n      ['total/duration_ms', '__trace/children_duration_ms'],\n      threshold,\n    )\n    if (duration) {\n      subTreeDuration += duration\n    }\n  }\n  return subTreeDuration > 0 ? subTreeDuration : undefined\n}\n\nfunction getValues(item: TraceNode, name: string) {\n  const keys = Object.keys(item)\n  return keys.filter(key => typeof item[key] !== 'object' && item[key] !== name && key !== 'query_text')\n}\n\nfunction getValuesForSubtree(values: string[]): string[] {\n  return values.filter(value => !(value === 'duration_ms' || value === 'children_duration_ms'))\n}\n\nfunction buildSubTree(values: string[], item: TraceNode, name: string): Array<JSX.Element | null> {\n  return values\n    .map(key => {\n      let keyValue = item[key]\n      if (typeof keyValue === 'number' && key.endsWith('ms')) {\n        keyValue = keyValue.toFixed(1)\n      } else if (typeof keyValue === 'string') {\n        const url = tryGetRemoteUrl(keyValue)\n        if (url) {\n          keyValue = (\n            <Link target=\"_blank\" href={url.remoteUrl}>\n              {url.relativePath}:{url.line}\n            </Link>\n          )\n        }\n      }\n\n      return (\n        <TreeView.Item key={key} id={`${key}-${name}-pane-sub-item`}>\n          <Text sx={{whiteSpace: 'pre-wrap'}}>\n            <>\n              {key} {keyValue}\n            </>\n          </Text>\n        </TreeView.Item>\n      )\n    })\n    .filter(subTreeItem => subTreeItem !== null)\n}\n\nfunction shouldIncludeChildItem(item: TraceNode, name: string, threshold: number): boolean {\n  const keys = Object.keys(item)\n  const values = getValues(item, name)\n  const timing = tryGetNumber(item, ['total/duration_ms', '__trace/children_duration_ms', 'duration_ms'], threshold)\n  const children = keys.filter(key => typeof item[key] === 'object' && (!timing || key !== 'total'))\n\n  const valuesForSubTree = getValuesForSubtree(values)\n  const subTree: Array<JSX.Element | null> =\n    valuesForSubTree.length > 0 ? buildSubTree(valuesForSubTree, item, name) : []\n\n  if (name === '__trace' && subTree.length === 0 && children.length === 0) {\n    return false\n  }\n  return true\n}\n\ntry{ PerformancePaneItem.displayName ||= 'PerformancePaneItem' } catch {}","import {ActionList, Box, Text} from '@primer/react'\nimport {CheckIcon, NoEntryIcon} from '@primer/octicons-react'\n\nimport {getAllUsedClusters} from './utils'\nimport type {TraceData} from './types'\nimport {isClusterDisabled, toggleClusterState} from './index'\n\ntype ClustersDisablerProps = {\n  traces: TraceData\n}\n\nexport const ClustersDisabler = ({traces}: ClustersDisablerProps) => {\n  const usedClusters = getAllUsedClusters(traces)\n\n  return (\n    <ActionList>\n      {usedClusters.map((cluster, index) => (\n        <ActionList.Item key={index} onSelect={() => toggleClusterState(cluster)}>\n          <Box sx={{display: 'flex'}}>\n            <Text sx={{flex: 1, mr: 2}}>{cluster}</Text>\n            {isClusterDisabled(cluster) ? <NoEntryIcon /> : <CheckIcon />}\n          </Box>\n        </ActionList.Item>\n      ))}\n    </ActionList>\n  )\n}\n\ntry{ ClustersDisabler.displayName ||= 'ClustersDisabler' } catch {}","import {useCallback, useState, useRef, useMemo} from 'react'\nimport {\n  Box,\n  Button,\n  Overlay,\n  Text,\n  Heading,\n  TextInput,\n  IconButton,\n  ActionMenu,\n  ActionList,\n  TreeView,\n} from '@primer/react'\nimport {\n  GraphIcon,\n  DownloadIcon,\n  TrashIcon,\n  XIcon,\n  SortDescIcon,\n  KebabHorizontalIcon,\n  DatabaseIcon,\n  EyeClosedIcon,\n  EyeIcon,\n  NoEntryIcon,\n  ChevronRightIcon,\n} from '@primer/octicons-react'\nimport {noop} from '@github-ui/noop'\nimport {PerformancePaneItem} from './PerformancePaneItem'\nimport type {TraceData} from './types'\nimport type {SortType} from './DatabaseTreeItem'\nimport {ssrSafeWindow} from '@github-ui/ssr-utils'\nimport {TraceDataKey, TraceDataRefreshCallbackKey} from './index'\nimport {ClustersDisabler} from './ClustersDisabler'\n\nconst topMargin = 110\n\nexport const PerformancePane = () => {\n  const [isOpen, setIsOpen] = useState(true)\n  const [isSqlGrouped, setIsSqlGrouped] = useState(false)\n  const [sortType, setSortType] = useState<SortType>('none')\n  const [threshold, setThreshold] = useState(0)\n  const noButtonRef = useRef(null)\n  const anchorRef = useRef(null)\n  const [showSubscriptionQueries, setShowSubscriptionQueries] = useState(false)\n  const [openClustersDisablerMenu, setOpenClustersDisablerMenu] = useState(false)\n  const clustersDisablerMenuAnchorRef = useRef(null)\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any}\n\n  if (!rootWindowContent[TraceDataKey]) {\n    rootWindowContent[TraceDataKey] = []\n  }\n\n  const [traces, setTraces] = useState<TraceData>([...(rootWindowContent[TraceDataKey] as TraceData)])\n\n  rootWindowContent[TraceDataRefreshCallbackKey] = useCallback(() => {\n    // spread the array in a new one to force a re-render since this callback is\n    // being used outside of the react world\n    setTraces([...(rootWindowContent[TraceDataKey] as TraceData)])\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const clearTraces = useCallback(() => {\n    setTraces([])\n    rootWindowContent[TraceDataKey] = []\n  }, [rootWindowContent])\n\n  const sortLabel = useMemo(() => {\n    switch (sortType) {\n      case 'duration':\n        return 'by duration'\n      case 'resultCount':\n        return 'by count'\n      default:\n        return 'by time'\n    }\n  }, [sortType])\n\n  if (!traces) {\n    return null\n  }\n\n  if (!isOpen) {\n    return (\n      <Button\n        sx={{position: 'absolute', top: topMargin, right: 5}}\n        leadingVisual={GraphIcon}\n        onClick={() => setIsOpen(true)}\n      >\n        API Insights\n      </Button>\n    )\n  }\n\n  return (\n    <Overlay\n      initialFocusRef={noButtonRef}\n      returnFocusRef={anchorRef}\n      ignoreClickRefs={[anchorRef]}\n      onEscape={() => setIsOpen(!isOpen)}\n      onClickOutside={noop}\n      aria-labelledby=\"api insights\"\n      width=\"xlarge\"\n      height=\"auto\"\n      top={topMargin}\n      // eslint-disable-next-line ssr-friendly/no-dom-globals-in-react-fc\n      left={window.innerWidth - 640}\n      sx={{zIndex: 9999}}\n    >\n      <Box sx={{padding: 4, height: '100vh'}}>\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'row',\n            gap: 2,\n            alignItems: 'center',\n            mb: 1,\n          }}\n        >\n          <GraphIcon />\n          <Heading as=\"h2\" sx={{fontSize: 14}}>\n            API Insights\n          </Heading>\n\n          <Box sx={{display: 'flex', flexDirection: 'row', alignItems: 'center', gap: 2, marginLeft: 'auto'}}>\n            <TextInput\n              name=\"threshold\"\n              size=\"small\"\n              sx={{width: '120px'}}\n              trailingVisual=\"ms\"\n              placeholder=\"threshold\"\n              onChange={event => {\n                const newThreshold = parseFloat(event.target.value)\n                setThreshold(isNaN(newThreshold) ? 0 : newThreshold)\n              }}\n              aria-label=\"Threshold for filtering items by duration\"\n            />\n            <Button\n              size=\"small\"\n              onClick={() =>\n                setSortType(currentSort => {\n                  switch (currentSort) {\n                    case 'none':\n                      return 'duration'\n                    case 'duration':\n                      return 'resultCount'\n                    case 'resultCount':\n                      return 'none'\n                  }\n                })\n              }\n              leadingVisual={SortDescIcon}\n              sx={{width: '110px'}}\n            >\n              {sortLabel}\n            </Button>\n\n            <ActionMenu>\n              <ActionMenu.Anchor>\n                {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n                <IconButton\n                  unsafeDisableTooltip={true}\n                  icon={KebabHorizontalIcon}\n                  size=\"small\"\n                  aria-label=\"Open more options\"\n                />\n              </ActionMenu.Anchor>\n\n              <ActionMenu.Overlay width=\"medium\">\n                <ActionList showDividers>\n                  <ActionList.LinkItem onClick={clearTraces}>\n                    <TrashIcon />\n                    <Text sx={{fontWeight: 'bold', pl: 3}}>Clear</Text>\n                  </ActionList.LinkItem>\n                  <ActionList.LinkItem\n                    href={`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(traces))}`}\n                    download=\"api-traces.json\"\n                  >\n                    <DownloadIcon />\n                    <Text sx={{fontWeight: 'bold', pl: 3}}>Download</Text>\n                  </ActionList.LinkItem>\n                  <ActionList.LinkItem onClick={() => setShowSubscriptionQueries(!showSubscriptionQueries)}>\n                    {showSubscriptionQueries ? <EyeClosedIcon /> : <EyeIcon />}\n                    <Text sx={{fontWeight: 'bold', pl: 3}}>\n                      {showSubscriptionQueries ? 'Hide subscription queries' : 'Show subscription queries'}\n                    </Text>\n                  </ActionList.LinkItem>\n                  <ActionList.LinkItem onClick={() => setIsSqlGrouped(!isSqlGrouped)}>\n                    <DatabaseIcon />\n                    <Text sx={{fontWeight: 'bold', pl: 3}}>\n                      {isSqlGrouped ? 'Ungroup MySQL queries by cluster' : 'Group MySQL queries by cluster'}\n                    </Text>\n                  </ActionList.LinkItem>\n                  <ActionList.Item\n                    ref={clustersDisablerMenuAnchorRef}\n                    onSelect={() => {\n                      setOpenClustersDisablerMenu(!openClustersDisablerMenu)\n                    }}\n                  >\n                    <Box sx={{display: 'flex', alignItems: 'center'}}>\n                      <NoEntryIcon />\n                      <Text sx={{fontWeight: 'bold', pl: 3, flex: 1}}>Disable Clusters</Text>\n                      <ChevronRightIcon />\n                    </Box>\n                  </ActionList.Item>\n                </ActionList>\n              </ActionMenu.Overlay>\n            </ActionMenu>\n            {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n            <IconButton\n              unsafeDisableTooltip={true}\n              size=\"small\"\n              onClick={() => setIsOpen(false)}\n              icon={XIcon}\n              aria-label=\"Close\"\n            />\n\n            <ActionMenu\n              open={openClustersDisablerMenu}\n              onOpenChange={setOpenClustersDisablerMenu}\n              anchorRef={clustersDisablerMenuAnchorRef}\n            >\n              <ActionMenu.Overlay>\n                <ClustersDisabler traces={traces} />\n              </ActionMenu.Overlay>\n            </ActionMenu>\n          </Box>\n        </Box>\n        <Box sx={{overflow: 'auto', height: '100%', mt: 3}}>\n          <nav aria-label=\"Files\">\n            <TreeView aria-label=\"Files\">\n              {traces.map((trace, index) => (\n                <PerformancePaneItem\n                  key={index}\n                  name={trace['query_name'] as string}\n                  variables={trace['query_variables'] as object}\n                  item={trace}\n                  isRoot={true}\n                  sortType={sortType}\n                  threshold={threshold}\n                  showSubscriptionQueries={showSubscriptionQueries}\n                  groupSqlByClusters={isSqlGrouped}\n                  query_text={trace['query_text'] as string}\n                />\n              ))}\n            </TreeView>\n          </nav>\n        </Box>\n      </Box>\n    </Overlay>\n  )\n}\n\ntry{ PerformancePane.displayName ||= 'PerformancePane' } catch {}","import {ErrorBoundary} from '@github-ui/react-core/error-boundary'\nimport {PerformancePane} from './PerformancePane'\n\nexport function ApiInsights() {\n  return (\n    <ErrorBoundary>\n      <PerformancePane />\n    </ErrorBoundary>\n  )\n}\n\ntry{ ApiInsights.displayName ||= 'ApiInsights' } catch {}","import {registerReactPartial} from '@github-ui/react-core/register-partial'\nimport {ApiInsights} from './ApiInsights'\n\nregisterReactPartial('internal-api-insights', {\n  Component: ApiInsights,\n})\n","import {ssrSafeWindow, ssrSafeLocation} from '@github-ui/ssr-utils'\n\n// TODO: do not export those constants and instead provide functions to push and read data\nexport const TraceDataKey = 'GraphQLTraces'\nexport const TraceDataRefreshCallbackKey = 'GraphQLTracingRefresh'\n\nexport const disabledClusters = getDisabledClusters()\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function reportTraceData(json: any) {\n  if (!ssrSafeWindow) return\n  if (!isTracingEnabled()) return\n  if (!json) return\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any} | undefined\n\n  if (rootWindowContent && !rootWindowContent[TraceDataKey]) {\n    rootWindowContent[TraceDataKey] = []\n  }\n\n  if (rootWindowContent && json['__trace']) {\n    rootWindowContent[TraceDataKey].push(json['__trace'])\n    if (typeof rootWindowContent[TraceDataRefreshCallbackKey] === 'function') {\n      rootWindowContent[TraceDataRefreshCallbackKey]()\n    }\n  }\n}\n\nexport function isTracingEnabled() {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any} | undefined\n\n  return (\n    new URLSearchParams(ssrSafeLocation.search).get('_tracing') === 'true' ||\n    (rootWindowContent && rootWindowContent[TraceDataKey] !== undefined)\n  )\n}\n\nfunction clustersDisabled() {\n  return disabledClusters.length > 0\n}\n\nexport function getInsightsUrl(url: string) {\n  if (!isTracingEnabled() && !clustersDisabled()) return url\n\n  const urlObject = new URL(url, ssrSafeLocation.origin)\n\n  if (isTracingEnabled()) {\n    urlObject.searchParams.set('_tracing', 'true')\n  }\n\n  if (clustersDisabled()) {\n    urlObject.searchParams.set('disable_clusters', disabledClusters.join(','))\n  }\n\n  return urlObject.pathname + urlObject.search\n}\n\nfunction getDisabledClusters() {\n  return decodeURIComponent(new URLSearchParams(ssrSafeLocation.search).get('disable_clusters') || '')\n    .split(',')\n    .filter(c => c !== '')\n}\n\nexport function isClusterDisabled(cluster: string) {\n  return disabledClusters.indexOf(cluster) > -1\n}\n\nexport function toggleClusterState(cluster: string) {\n  const index = disabledClusters.indexOf(cluster)\n\n  if (index > -1) {\n    disabledClusters.splice(index, 1)\n  } else {\n    disabledClusters.push(cluster)\n  }\n\n  const params = new URLSearchParams(ssrSafeLocation.search)\n  params.set('disable_clusters', disabledClusters.join(','))\n\n  const url = ssrSafeLocation\n  url.search = params.toString()\n}\n","export class DeferredRegistry<T> {\n  private registrationEntries: Record<\n    string,\n    {\n      promise: Promise<T>\n      resolve?: (r: T) => void\n    }\n  > = {}\n\n  public register(name: string, registration: T) {\n    const entry = this.registrationEntries[name]\n    if (entry) {\n      entry.resolve?.(registration)\n    } else {\n      this.registrationEntries[name] = {\n        promise: Promise.resolve(registration),\n      }\n    }\n  }\n\n  public getRegistration(name: string): Promise<T> {\n    this.registrationEntries[name] ||= new Deferred()\n    return this.registrationEntries[name].promise\n  }\n}\n\nclass Deferred<T> {\n  declare promise\n  declare resolve: (r: T) => void\n\n  constructor() {\n    this.promise = new Promise<T>(resolve => {\n      this.resolve = resolve\n    })\n  }\n}\n","import type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\nimport {useCallback, useEffect, useRef, useState} from 'react'\n\ninterface ReactPartialAnchor {\n  /**\n   * DO NOT USE THIS PROPERTY DIRECTLY. It is meant to be used with useExternalAnchor and useOnAnchorClick\n   */\n  __wrapperElement: ReactPartialAnchorElement\n}\n\nexport interface ReactPartialAnchorProps {\n  reactPartialAnchor?: ReactPartialAnchor\n}\n\nexport function usePartialAnchorProps(\n  anchorElement: ReactPartialAnchorElement | undefined | null,\n): ReactPartialAnchorProps {\n  useEffect(() => {\n    const anchor = anchorElement?.anchor\n\n    if (!anchor) {\n      return\n    }\n\n    if ('disabled' in anchor) {\n      anchor.disabled = false\n    }\n    anchor.classList.remove('cursor-wait')\n  }, [anchorElement])\n\n  if (!anchorElement) {\n    return {}\n  }\n\n  return {\n    reactPartialAnchor: {\n      __wrapperElement: anchorElement,\n    },\n  }\n}\n\nexport function useExternalAnchor(reactPartialAnchor: ReactPartialAnchor) {\n  const ref = useRef(reactPartialAnchor.__wrapperElement.anchor || null)\n  const [open, setOpen] = useState(false)\n\n  const onClick = useCallback(() => {\n    // toggle the open state when clicked\n    setOpen(!open)\n  }, [open, setOpen])\n\n  useEffect(() => {\n    if (!ref.current) return\n\n    ref.current.setAttribute('aria-expanded', open.toString())\n    ref.current.setAttribute('aria-haspopup', 'true')\n  }, [ref, open])\n\n  useOnAnchorClick(reactPartialAnchor, onClick)\n\n  return {\n    ref,\n    open,\n    setOpen,\n  }\n}\n\nexport function useOnAnchorClick(reactPartialAnchor: ReactPartialAnchor, onClick: (event: MouseEvent) => void) {\n  const ref = useRef(reactPartialAnchor.__wrapperElement.anchor)\n\n  useEffect(() => {\n    const element = ref.current\n    if (!element) {\n      return\n    }\n\n    element.addEventListener('click', onClick)\n    return () => element.removeEventListener('click', onClick)\n  }, [ref, onClick])\n}\n\nexport type PropsWithPartialAnchor<T> = T & Required<ReactPartialAnchorProps>\n","import {DeferredRegistry} from './deferred-registry'\n\nexport interface PartialRegistration {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  Component: React.ComponentType<any>\n}\n\nexport const partialRegistry = new DeferredRegistry<PartialRegistration>()\n\nexport function getReactPartial(appName: string) {\n  return partialRegistry.getRegistration(appName)\n}\n","import {controller} from '@github/catalyst'\nimport {getReactPartial} from './react-partial-registry'\nimport type {EmbeddedPartialData} from './embedded-data-types'\nimport {ReactBaseElement} from './ReactBaseElement'\nimport {PartialEntry} from './PartialEntry'\nimport type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\n\n// What is this silliness? Is it react or a web component?!\n// It's a web component we use to bootstrap react partials within the monolith.\n@controller\nclass ReactPartialElement extends ReactBaseElement<EmbeddedPartialData> {\n  nameAttribute = 'partial-name'\n\n  async getReactNode(embeddedData: EmbeddedPartialData) {\n    const {Component} = await getReactPartial(this.name)\n\n    // Some React Partials will be wrapped in a react-partial-anchor, which is used to conditionally render the Partial\n    const anchorElement = this.closest<ReactPartialAnchorElement>('react-partial-anchor')\n\n    return (\n      <PartialEntry\n        partialName={this.name}\n        embeddedData={embeddedData}\n        Component={Component}\n        wasServerRendered={this.hasSSRContent}\n        ssrError={this.ssrError}\n        anchorElement={anchorElement}\n      />\n    )\n  }\n}\n","import {partialRegistry, type PartialRegistration} from './react-partial-registry'\n// Import the web component to get it registered on the window\nimport './ReactPartialElement'\n\n// NOTE: if the signature of this method changes, also update the react-partial-name ESLint rule\n// /workspaces/github/ui/packages/eslint-plugin-github-monorepo/rules/react-partial-name.js\nexport function registerReactPartial(name: string, registration: PartialRegistration) {\n  partialRegistry.register(name, registration)\n}\n","import safeStorage from '@github-ui/safe-storage'\n\nconst {getItem, setItem, removeItem} = safeStorage('localStorage')\nconst REACT_PROFILING_ENABLED = 'REACT_PROFILING_ENABLED'\n\ninterface ReactProfilingModeMethods {\n  enable: () => void\n  disable: () => void\n  isEnabled: () => boolean\n}\n\nconst ReactProfilingMode: ReactProfilingModeMethods = {\n  enable: () => setItem(REACT_PROFILING_ENABLED, 'true'),\n  disable: () => removeItem(REACT_PROFILING_ENABLED),\n  isEnabled: () => !!getItem(REACT_PROFILING_ENABLED),\n}\n\nexport default ReactProfilingMode\n","import {usePortalTooltip, type PortalTooltipProps} from '@github-ui/portal-tooltip/use-portal-tooltip'\nimport useIsMounted from '@github-ui/use-is-mounted'\nimport type {Icon} from '@primer/octicons-react'\nimport {CheckIcon, CopyIcon} from '@primer/octicons-react'\nimport type {SxProp, TooltipProps} from '@primer/react'\nimport {IconButton, Octicon} from '@primer/react'\nimport React from 'react'\nimport {clsx} from 'clsx'\nimport {Tooltip} from '@primer/react/next'\nimport {announce} from '@github-ui/aria-live'\n\nimport {copyText} from './copy'\n\nconst copyConfirmationMsDelay = 2000\n\nexport interface CopyToClipboardButtonProps extends SxProp {\n  /**\n   * Octicon that is displayed on the copy button\n   *\n   * @default CopyIcon\n   */\n  icon?: Icon\n  /**\n   * Size of the button, passed to IconButton\n   */\n  size?: 'small' | 'medium' | 'large'\n  /**\n   * Optional callback that is invoked when the user clicks the copy button\n   */\n  onCopy?: () => void\n  /**\n   * Text that will be copied to the clipboard\n   */\n  textToCopy: string\n  /**\n   * Props that will be applied to tooltips\n   */\n  tooltipProps?: TooltipProps | PortalTooltipProps\n  /**\n   * Text that will be displayed in the tooltip\n   */\n  ariaLabel?: string | null\n  /**\n   * If the button should be accessible or not\n   */\n  accessibleButton?: boolean\n  /**\n   * Whether or not to use the portal tooltip\n   */\n  hasPortalTooltip?: boolean\n  /**\n   * Whether or not to avoid using styled-components when rendering a portalled tooltip button\n   * If true, underlying icon button will be rendered with <button> + Primer CSS\n   * If false, underlying icon button will be rendered with Primer's <IconButton>\n   * Providing a custom sx prop will override this behavior and use styled-components\n   * @default false\n   */\n  avoidStyledComponent?: boolean\n  /**\n   * Apply Primer CSS utility classes to button\n   * See https://primer.style/foundations/css-utilities\n   */\n  className?: string\n}\n\nexport function CopyToClipboardButton({\n  icon = CopyIcon,\n  size = 'medium',\n  onCopy,\n  sx,\n  textToCopy,\n  tooltipProps,\n  ariaLabel,\n  accessibleButton,\n  hasPortalTooltip = false,\n  avoidStyledComponent = false,\n  className,\n}: CopyToClipboardButtonProps) {\n  const [copied, setCopied] = React.useState(false)\n  const isMounted = useIsMounted()\n  const onClickCopy = () => {\n    setCopied(true)\n    announce('Copied!')\n    void copyText(textToCopy)\n    onCopy?.()\n    setTimeout(() => isMounted() && setCopied(false), copyConfirmationMsDelay)\n  }\n\n  const label = ariaLabel ?? `Copy ${textToCopy} to clipboard`\n  const visibleTooltipText = copied ? 'Copied!' : label\n\n  // We are adding `aria-hidden=\"true\"` to the tooltip because the button has an accessible name.\n  // We don't want to override that when the visible text updates to \"Copied!\" because\n  // our screen reader announcement will let the user know their action was successful in the most\n  // consistent way across browsers and assistive technology.\n  tooltipProps = {...tooltipProps, 'aria-hidden': 'true'}\n\n  if (hasPortalTooltip) {\n    return (\n      <PortalTooltipCopyButton\n        label={label}\n        size={size}\n        textToCopy={textToCopy}\n        copied={copied}\n        onClickCopy={onClickCopy}\n        tooltipProps={tooltipProps}\n        text={visibleTooltipText}\n        avoidStyledComponent={avoidStyledComponent}\n        sx={sx}\n        className={className}\n      />\n    )\n  }\n  return (\n    <Tooltip\n      className=\"position-absolute\"\n      text={visibleTooltipText}\n      aria-label={label}\n      type={'label'}\n      {...tooltipProps}\n    >\n      {/* @ts-expect-error aria-labelledby is automatically added at runtime */}\n      <IconButton\n        icon={copied ? CheckIcon : icon}\n        variant=\"invisible\"\n        size={size}\n        tabIndex={accessibleButton === false ? -1 : 0}\n        className={clsx(copied ? 'color-fg-success' : undefined, className)}\n        sx={{...sx}}\n        onClick={onClickCopy}\n      />\n    </Tooltip>\n  )\n}\n\ninterface PortalTooltipCopyButtonProps extends CopyToClipboardButtonProps {\n  /**\n   * Text that will be displayed in the tooltip\n   */\n  label: string\n  /**\n   * Copy state\n   */\n  copied: boolean\n  /**\n   * Function to call when copy button is clicked\n   */\n  onClickCopy: () => void\n  /**\n   * Text that should be passed in for the visible label when it is different than the aria-label\n   */\n  text?: string\n}\n\nfunction PortalTooltipCopyButton({\n  icon = CopyIcon,\n  size = 'medium',\n  label,\n  accessibleButton,\n  copied,\n  onClickCopy,\n  text,\n  tooltipProps,\n  sx,\n  avoidStyledComponent = false,\n  className,\n}: PortalTooltipCopyButtonProps) {\n  const contentRef = React.useRef<HTMLDivElement>(null)\n  const [buttonContentProps, buttonTooltipElement] = usePortalTooltip({\n    contentRef,\n    'aria-label': label,\n    text,\n    ...tooltipProps,\n  })\n\n  return (\n    <div ref={contentRef} {...buttonContentProps}>\n      <PortalCopyIconButton\n        icon={icon}\n        size={size}\n        label={label}\n        copied={copied}\n        onClickCopy={onClickCopy}\n        accessibleButton={accessibleButton}\n        avoidStyledComponent={avoidStyledComponent}\n        className={className}\n        sx={sx}\n      />\n      {buttonTooltipElement}\n    </div>\n  )\n}\n\ntype CopyIconButtonProps = Pick<\n  PortalTooltipCopyButtonProps,\n  | 'icon'\n  | 'size'\n  | 'label'\n  | 'accessibleButton'\n  | 'copied'\n  | 'onClickCopy'\n  | 'sx'\n  | 'avoidStyledComponent'\n  | 'className'\n>\n\nfunction PortalCopyIconButton({\n  icon = CopyIcon,\n  size = 'medium',\n  label,\n  accessibleButton,\n  copied,\n  onClickCopy,\n  sx,\n  avoidStyledComponent = false,\n  className,\n}: CopyIconButtonProps) {\n  if (avoidStyledComponent && !sx) {\n    return (\n      <button\n        aria-label={label}\n        tabIndex={accessibleButton === false ? -1 : 0}\n        className={clsx(\n          `Button Button--iconOnly Button--invisible Button--${size} ${copied ? 'color-fg-success' : ''}`,\n          className,\n        )}\n        onClick={onClickCopy}\n      >\n        {copied ? <CheckIcon /> : <Octicon icon={icon} />}\n      </button>\n    )\n  }\n\n  return (\n    // eslint-disable-next-line primer-react/a11y-remove-disable-tooltip\n    <IconButton\n      unsafeDisableTooltip={true}\n      aria-label={label}\n      icon={copied ? CheckIcon : icon}\n      variant=\"invisible\"\n      size={size}\n      tabIndex={accessibleButton === false ? -1 : 0}\n      className={copied ? 'color-fg-success' : undefined}\n      sx={{...sx}}\n      onClick={onClickCopy}\n    />\n  )\n}\n\ntry{ CopyToClipboardButton.displayName ||= 'CopyToClipboardButton' } catch {}\ntry{ PortalTooltipCopyButton.displayName ||= 'PortalTooltipCopyButton' } catch {}\ntry{ PortalCopyIconButton.displayName ||= 'PortalCopyIconButton' } catch {}","import {Portal, type PortalProps, sx, type SxProp, themeGet, type TooltipProps} from '@primer/react'\nimport {clsx} from 'clsx'\nimport {forwardRef, useSyncExternalStore} from 'react'\nimport styled from 'styled-components'\n\n/**\n * This file is a copy of the file at: {@link https://github.com/primer/react/blob/main/src/Tooltip.tsx} with\n * some modifications to allow the tooltip to be controlled by the parent component.\n */\n\nconst TooltipBase = styled.span<SxProp>`\n  &::after {\n    position: absolute;\n    z-index: 1000000;\n    display: none;\n    /* stylelint-disable-next-line primer/spacing */\n    padding: 0.5em 0.75em;\n    font: normal normal 11px/1.5 ${themeGet('fonts.normal')};\n    -webkit-font-smoothing: subpixel-antialiased;\n    color: ${themeGet('colors.fg.onEmphasis')};\n    text-align: center;\n    text-decoration: none;\n    text-shadow: none;\n    text-transform: none;\n    letter-spacing: normal;\n    word-wrap: break-word;\n    white-space: pre;\n    pointer-events: none;\n    content: attr(data-visible-text);\n    background: ${themeGet('colors.neutral.emphasisPlus')};\n    border-radius: ${themeGet('radii.2')};\n    opacity: 0;\n  }\n  /* delay animation for tooltip */\n  @keyframes tooltip-appear {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  &.tooltipped-open,\n  &:hover,\n  &:active,\n  &:focus {\n    &::after {\n      display: inline-block;\n      text-decoration: none;\n      animation-name: tooltip-appear;\n      animation-duration: 0.1s;\n      animation-fill-mode: forwards;\n      animation-timing-function: ease-in;\n      animation-delay: 0s;\n    }\n  }\n\n  &.tooltipped-no-delay.tooltipped-open,\n  &.tooltipped-no-delay:hover,\n  &.tooltipped-no-delay:active,\n  &.tooltipped-no-delay:focus {\n    &::after {\n      animation-delay: 0s;\n    }\n  }\n\n  /* Tooltipped south */\n  &.tooltipped-s,\n  &.tooltipped-se,\n  &.tooltipped-sw {\n    &::after {\n      top: 100%;\n      right: 50%;\n      /* stylelint-disable-next-line primer/spacing */\n      margin-top: 6px;\n    }\n  }\n  &.tooltipped-se {\n    &::after {\n      right: auto;\n      left: 50%;\n      margin-left: -${themeGet('space.3')};\n    }\n  }\n  &.tooltipped-sw::after {\n    margin-right: -${themeGet('space.3')};\n  }\n  /* Tooltips above the object */\n  &.tooltipped-n,\n  &.tooltipped-ne,\n  &.tooltipped-nw {\n    &::after {\n      right: 50%;\n      bottom: 100%;\n      /* stylelint-disable-next-line primer/spacing */\n      margin-bottom: 6px;\n    }\n  }\n  &.tooltipped-ne {\n    &::after {\n      right: auto;\n      left: 50%;\n      margin-left: -${themeGet('space.3')};\n    }\n  }\n  &.tooltipped-nw::after {\n    margin-right: -${themeGet('space.3')};\n  }\n  /* Move the tooltip body to the center of the object. */\n  &.tooltipped-s::after,\n  &.tooltipped-n::after {\n    transform: translateX(50%);\n  }\n  /* Tooltipped to the left */\n  &.tooltipped-w {\n    &::after {\n      right: 100%;\n      bottom: 50%;\n      /* stylelint-disable-next-line primer/spacing */\n      margin-right: 6px;\n      transform: translateY(50%);\n    }\n  }\n  /* tooltipped to the right */\n  &.tooltipped-e {\n    &::after {\n      bottom: 50%;\n      left: 100%;\n      /* stylelint-disable-next-line primer/spacing */\n      margin-left: 6px;\n      transform: translateY(50%);\n    }\n  }\n  &.tooltipped-align-right-2::after {\n    right: 0;\n    margin-right: 0;\n  }\n  &.tooltipped-align-left-2::after {\n    left: 0;\n    margin-left: 0;\n  }\n  ${sx};\n`\n\nexport type ControlledTooltipProps = Omit<TooltipProps, 'children'> & {\n  /**\n   * Whether the tooltip is open or closed\n   */\n  open?: boolean\n  /**\n   * Props passed into the portal\n   */\n  portalProps?: PortalProps\n}\n\nconst noop = () => () => undefined\nconst getServerSideState = () => false\nconst getClientSideState = () => true\n/**\n * An extended `@primer/react` tooltip (based on version 35.21 and prior) which allows for external control\n * using an `open` prop\n */\nexport const ControlledTooltip = forwardRef<HTMLSpanElement, ControlledTooltipProps>(function ControlledPortalTooltip(\n  {direction = 'n', className, text, noDelay, align, wrap, open = false, portalProps = {}, ...rest},\n  ref,\n) {\n  const isClientRender = useSyncExternalStore(noop, getClientSideState, getServerSideState)\n  const classes = clsx(\n    className,\n    `tooltipped-${direction}`,\n    align && `tooltipped-align-${align}-2`,\n    noDelay && 'tooltipped-no-delay',\n    wrap && 'tooltipped-multiline',\n    open && 'tooltipped-open',\n  )\n  if (!isClientRender) return null\n  return (\n    <Portal {...portalProps}>\n      <TooltipBase\n        ref={ref}\n        role=\"tooltip\"\n        aria-label={text}\n        data-visible-text={text || rest['aria-label']}\n        {...rest}\n        sx={{\n          position: 'fixed',\n          zIndex: 1,\n          ...rest.sx,\n        }}\n        className={classes}\n      />\n    </Portal>\n  )\n})\n\ntry{ ControlledTooltip.displayName ||= 'ControlledTooltip' } catch {}","import {getAnchoredPosition, type PositionSettings} from '@primer/behaviors'\nimport {forwardRef, useCallback, useImperativeHandle, useRef, useSyncExternalStore} from 'react'\n\nimport {ControlledTooltip, type ControlledTooltipProps} from './ControlledTooltip'\nimport {getScrollableParent} from '@github-ui/get-scrollable-parent'\n\nexport interface PortalTooltipProps extends ControlledTooltipProps {\n  /**\n   * A ref to the element that the tooltip should be positioned relative to\n   */\n  contentRef: React.RefObject<HTMLElement>\n  anchoredPositionAlignment?: PositionSettings['align']\n  anchorSide?: PositionSettings['side']\n  anchorOffset?: number\n  alignmentOffset?: number\n  allowOutOfBounds?: boolean\n  includeAriaAttributes?: boolean\n}\n\n/**\n * A tooltip that portals an uses absolute positioning to position itself relative to the contentRef\n *\n * it tricks scroll in the nearest scrollable parent to the contentRef to reposition itself.\n *\n * For now this uses the aria-label prop similar to the primer tooltip, but a more complete implementation\n * would allow for using children to tooltip rich content\n */\nexport const PortalTooltip = forwardRef<HTMLSpanElement, PortalTooltipProps & {id: string}>(function PortalTooltip(\n  {contentRef, open, anchoredPositionAlignment, anchorSide, anchorOffset, alignmentOffset, allowOutOfBounds, ...props},\n  forwardedRef,\n) {\n  const ref = useRef<HTMLSpanElement>(null)\n  useImperativeHandle<HTMLSpanElement | null, HTMLSpanElement | null>(forwardedRef, () => ref.current)\n\n  const positionCache = useRef<{left: number; top: number}>({left: 0, top: 0})\n  const position = useSyncExternalStore(\n    useCallback(\n      notify => {\n        if (!ref.current || !contentRef.current || !open) {\n          return () => undefined\n        }\n        const scrollableParent = getScrollableParent(contentRef.current)\n        // eslint-disable-next-line github/prefer-observers\n        scrollableParent?.addEventListener('scroll', notify)\n        return () => {\n          scrollableParent?.removeEventListener('scroll', notify)\n        }\n      },\n      [contentRef, open],\n    ),\n    useCallback(() => {\n      if (!ref.current || !contentRef.current) {\n        return positionCache.current\n      }\n      const nextPosition = getAnchoredPosition(ref.current, contentRef.current, {\n        align: anchoredPositionAlignment ?? 'center',\n        side: anchorSide ?? 'outside-top',\n        alignmentOffset: alignmentOffset ?? 0,\n        anchorOffset: anchorOffset ?? 0,\n        allowOutOfBounds,\n      })\n      if (nextPosition.left !== positionCache.current.left || nextPosition.top !== positionCache.current.top) {\n        positionCache.current = nextPosition\n      }\n      return positionCache.current\n    }, [contentRef, alignmentOffset, anchorOffset, anchoredPositionAlignment, anchorSide, allowOutOfBounds]),\n    useCallback(() => positionCache.current, []),\n  )\n\n  return (\n    <ControlledTooltip\n      {...props}\n      ref={ref}\n      open={open}\n      style={{\n        position: 'absolute',\n        ...position,\n        ...props.style,\n      }}\n    />\n  )\n})\n\ntry{ PortalTooltip.displayName ||= 'PortalTooltip' } catch {}","import {useCallback, useId, useState} from 'react'\n\nimport {PortalTooltip, type PortalTooltipProps} from '../PortalTooltip'\n\nexport type {PortalTooltipProps}\n\n/**\n * A hook that returns a set of props for controlling a portal tooltip from a parent element, as well as the\n * portalled element\n *\n * This provides a simple, base case usage, without having to configure much directly, automatically generating an id and using\n * that for aria-describedby when not given an id to use instead.\n */\nexport function usePortalTooltip({includeAriaAttributes = true, ...props}: PortalTooltipProps) {\n  const id = useId()\n  const [open, setOpen] = useState(false)\n  const isOpen = props.open ?? open\n  const actualId = props.id ?? id\n  const ariaAttributes = includeAriaAttributes\n    ? {\n        'aria-describedby': actualId,\n      }\n    : {}\n\n  const onSetOpen = useCallback(() => setOpen(true), [])\n  const onSetClose = useCallback(() => setOpen(false), [])\n\n  return [\n    {\n      ...ariaAttributes,\n      onPointerEnter: onSetOpen,\n      onPointerLeave: onSetClose,\n      onFocus: onSetOpen,\n      onBlur: onSetClose,\n    },\n    <PortalTooltip key=\"portal-tooltip\" {...props} open={isOpen} id={actualId} />,\n  ] as const\n}\n","import {ErrorPage} from './ErrorPage'\nimport React from 'react'\n\n// NOTE(jon, 2022-02-28): I copied 99% of this from memex's error-boundary\n\nexport interface ErrorBoundaryProps {\n  children: React.ReactNode\n  fallback?: React.ReactNode\n  /**\n   * Provide a callback to be invoked when an error is thrown (can be used for logging errors)\n   */\n  onError?: (error: Error) => void\n}\n\ninterface ErrorBoundaryState {\n  error: Error | null\n}\n\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props)\n\n    this.state = {\n      error: null,\n    }\n  }\n\n  /**\n   * Invoked when an error is thrown in the child component,\n   * and used to update state in a concurrent friendly manner\n   */\n  static getDerivedStateFromError(error: Error) {\n    return {error}\n  }\n\n  /**\n   * Called _after_ the re-render, used for performing side-effects such as logging\n   */\n  override componentDidCatch(error: Error) {\n    if (typeof this.props.onError === 'function') {\n      this.props.onError(error)\n    } else {\n      defaultOnError(error)\n    }\n  }\n\n  override render() {\n    if (!this.state.error) return this.props.children\n\n    return this.props.fallback === undefined ? <ErrorPage type=\"httpError\" /> : this.props.fallback\n  }\n}\n\n/**\n * Re-throws the error out of the rendering context to ensure that it propagates to failbot.\n * Also avoids react unmounting the entire tree from an uncaught error.\n */\nfunction defaultOnError(error: Error) {\n  setTimeout(() => {\n    throw error\n  })\n}\n","import {Box, Heading} from '@primer/react'\nimport type {PageError} from './app-routing-types'\n\nconst errorMessages: {[httpStatus: number]: string} = {\n  404: 'Didnt find anything here!',\n  500: 'Looks like something went wrong!',\n}\n\nexport function ErrorPage({httpStatus, type}: PageError) {\n  const message = type === 'fetchError' ? 'Looks like network is down!' : errorMessages[httpStatus || 500]\n  return (\n    <Heading\n      as=\"h1\"\n      tabIndex={-1}\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        minWidth: '100%',\n        minHeight: '100%',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      Error\n      {httpStatus ? <Box sx={{fontSize: '144px', fontWeight: 'bold', lineHeight: 1}}>{httpStatus}</Box> : null}\n      <Box sx={{fontSize: 4, pt: 2}}>{message}</Box>\n    </Heading>\n  )\n}\n\ntry{ ErrorPage.displayName ||= 'ErrorPage' } catch {}","import {useState} from 'react'\nimport type {BrowserHistory, MemoryHistory} from '@remix-run/router'\nimport {Router} from 'react-router-dom'\n// eslint-disable-next-line no-restricted-imports\nimport {useHydratedEffect} from '@github-ui/use-hydrated-effect'\n\ntype Props = {\n  children: React.ReactNode\n  history: BrowserHistory | MemoryHistory\n}\n\nexport function PartialRouter({children, history}: Props) {\n  const [state, setState] = useState({\n    location: history.location,\n  })\n\n  useHydratedEffect(() => history.listen(setState), [history])\n\n  return (\n    <Router location={state.location} navigator={history}>\n      {children}\n    </Router>\n  )\n}\n\ntry{ PartialRouter.displayName ||= 'PartialRouter' } catch {}","// Think of this as the entry point into the framework\nimport React from 'react'\nimport type {EmbeddedPartialData} from './embedded-data-types'\nimport {BaseProviders} from './BaseProviders'\nimport type {BrowserHistory} from '@remix-run/router'\nimport {createMemoryHistory} from '@remix-run/router'\nimport {AppContextProvider} from './AppContextProvider'\nimport {PartialRouter} from './PartialRouter'\nimport {CommonElements} from './CommonElements'\nimport {createBrowserHistory} from './create-browser-history'\nimport type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\nimport {usePartialAnchorProps} from './react-partial-anchor'\n\ninterface Props {\n  partialName: string\n  embeddedData: EmbeddedPartialData\n  Component: React.ComponentType\n  wasServerRendered: boolean\n  ssrError?: HTMLScriptElement\n  anchorElement?: ReactPartialAnchorElement | null\n}\n\nexport function PartialEntry({\n  partialName,\n  embeddedData,\n  Component,\n  wasServerRendered,\n  ssrError,\n  anchorElement,\n}: Props) {\n  // Create a ref to track the browser history:\n  const historyRef = React.useRef<BrowserHistory>()\n  const window = globalThis.window as Window | undefined\n\n  // For linking to work, we can just pass a dummy pathname here. We may consider plumbing the actual path in\n  if (!historyRef.current) {\n    historyRef.current = !window\n      ? createMemoryHistory({initialEntries: [{pathname: '/'}]})\n      : createBrowserHistory({window})\n  }\n  const history = historyRef.current\n  const partialAnchorProps = usePartialAnchorProps(anchorElement)\n\n  // Wrap the partial in an AppContextProvider and static Router so that react-core links\n  // will be functional.\n  return (\n    <BaseProviders appName={partialName} wasServerRendered={wasServerRendered}>\n      <AppContextProvider history={history} routes={[]}>\n        <PartialRouter history={history}>\n          <Component {...embeddedData.props} {...(partialAnchorProps as object)} />\n          <CommonElements ssrError={ssrError} />\n        </PartialRouter>\n      </AppContextProvider>\n    </BaseProviders>\n  )\n}\n\ntry{ PartialEntry.displayName ||= 'PartialEntry' } catch {}","import {target} from '@github/catalyst'\nimport {createRoot, hydrateRoot} from 'react-dom/client'\nimport type {createRoot as createRootType, hydrateRoot as hydrateRootType, Root} from 'react-dom/client'\nimport React from 'react'\nimport ReactProfilingMode from '@github-ui/react-profiling-mode'\nimport {EXPECTED_ERRORS} from './expected-errors'\nimport {sendStats} from '@github-ui/stats'\n\ntype ReactDOM = {\n  createRoot: typeof createRootType\n  hydrateRoot: typeof hydrateRootType\n}\n\nconst REACT_INVARIANT_ERROR_REGEX = /Minified React error #(?<invariant>\\d+)/\n\nexport abstract class ReactBaseElement<T> extends HTMLElement {\n  @target embeddedData: HTMLScriptElement | undefined\n  @target ssrError: HTMLScriptElement | undefined\n  @target reactRoot: HTMLElement | undefined\n  private root: Root | undefined\n\n  abstract nameAttribute: string\n  abstract getReactNode(embeddedData: T): Promise<React.ReactNode>\n\n  protected get name() {\n    return this.getAttribute(this.nameAttribute) as string\n  }\n\n  private get embeddedDataText() {\n    const text = this.embeddedData?.textContent\n\n    if (!text) {\n      throw new Error(`No embedded data provided for react element ${this.name}`)\n    }\n\n    return text\n  }\n\n  get hasSSRContent() {\n    return this.getAttribute('data-ssr') === 'true'\n  }\n\n  connectedCallback() {\n    this.renderReact()\n  }\n\n  disconnectedCallback() {\n    this.root?.unmount()\n    this.root = undefined\n  }\n\n  private async renderReact() {\n    if (!this.reactRoot) throw new Error('No react root provided')\n    let reactDom: ReactDOM = {\n      createRoot,\n      hydrateRoot,\n    }\n\n    // Override the react-dom import if we're in profiling mode\n    if (ReactProfilingMode.isEnabled()) {\n      reactDom = await this.getReactDomWithProfiling()\n    }\n\n    const embeddedData = JSON.parse(this.embeddedDataText) as T\n    const ssrErrorText = this.ssrError?.textContent\n    const node = await this.getReactNode(embeddedData)\n    const baseNode = <React.StrictMode>{node}</React.StrictMode>\n\n    if (ssrErrorText) {\n      this.logSSRError(ssrErrorText)\n    }\n\n    if (this.hasSSRContent) {\n      /**\n       * Styled-components automatically looks for style tags to hydrate on first page load, but will not detect them\n       * if they are added after the initial page load. This causes a hydration error because React isn't expecting\n       * a style tag within the app. To work around this, we need to manually move the style tags to the head before\n       * hydrating the app.\n       *\n       * During hydration, styled-components will create a new style tag which matches the one we moved to the head.\n       * This means that after hydration, we can safely remove the style tag we manually moved to the head.\n       */\n      const styles = this.querySelector('style[data-styled=\"true\"]')\n      if (styles) document.head.appendChild(styles)\n\n      // Hydrate the react app\n      // onRecoverableError is disabled until we have a react version with this fix in:\n      // https://github.com/facebook/react/pull/25692\n      this.root = reactDom.hydrateRoot(this.reactRoot, baseNode, {\n        onRecoverableError: error => {\n          if (!(error instanceof Error)) return\n\n          const match = REACT_INVARIANT_ERROR_REGEX.exec(error.message)\n          const invariant = String(match?.groups?.invariant)\n\n          sendStats({\n            incrementKey: 'REACT_HYDRATION_ERROR',\n            incrementTags: {\n              appName: this.name,\n              invariant,\n            },\n          })\n        },\n      })\n\n      // Remove the manually moved style tag after hydration\n      if (styles) {\n        // Wait until things are idle to remove the style tag. If we do it immediately, we can cause a flash of unstyled content.\n        requestIdleCallback(() => {\n          // styles could have already been removed by Turbo if a navigation happens quickly. Only remove it from the DOM if it's still there.\n          styles.parentElement?.removeChild(styles)\n        })\n      }\n    } else {\n      this.root = reactDom.createRoot(this.reactRoot)\n      this.root.render(baseNode)\n    }\n\n    this.classList.add('loaded')\n  }\n\n  private getReactDomWithProfiling() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return import('react-dom/profiling') as any as Promise<ReactDOM>\n  }\n\n  private logSSRError(ssrErrorText: string) {\n    if (EXPECTED_ERRORS[ssrErrorText]) {\n      // eslint-disable-next-line no-console\n      return console.error('SSR failed with an expected error:', EXPECTED_ERRORS[ssrErrorText])\n    }\n\n    try {\n      const error = JSON.parse(ssrErrorText) as PlatformJavascriptError\n      const stacktrace = parseFailbotStacktrace(error)\n      // eslint-disable-next-line no-console\n      console.error('Error During Alloy SSR:', `${error.type}: ${error.value}\\n`, error, stacktrace)\n    } catch {\n      /**\n       * In the event we couldn't log the error, we should not break the application\n       */\n      // eslint-disable-next-line no-console\n      console.error('Error During Alloy SSR:', ssrErrorText, 'unable to parse as json')\n    }\n  }\n}\n\nfunction parseFailbotStacktrace(error: PlatformJavascriptError) {\n  if (!error.stacktrace) return ''\n  let prefix = '\\n '\n  const stack = error.stacktrace.map((frame: PlatformStackframe) => {\n    const {function: func, filename, lineno, colno} = frame\n    const line = `${prefix} at ${func} (${filename}:${lineno}:${colno})`\n    prefix = ' '\n    return line\n  })\n  return stack.join('\\n')\n}\n\ntry{ REACT_INVARIANT_ERROR_REGEX.displayName ||= 'REACT_INVARIANT_ERROR_REGEX' } catch {}"],"names":["announceFromElement","el","options","isFeatureEnabled","announce","getTextContent","element","undefined","liveRegionAnnounceFromElement","politeness","assertive","message","Element","prototype","document","body","ariaNotify","interrupt","liveRegionAnnounce","setContainerContent","container","ssrSafeDocument","querySelector","textContent","getAttribute","innerText","trim","copyText","text","navigator","clipboard","writeText","Promise","reject","node","createNode","createElement","style","width","height","position","top","appendChild","copyNode","selection","getSelection","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","resolve","removeChild","hasScrollableParent","computedStyle","getComputedStyle","some","overflow","value","getPropertyValue","collectParents","ps","parentNode","concat","getScrollableParent","HTMLElement","SVGElement","item","scrollingElement","documentElement","RequestType","NameWithDetails","name","type","duration","sqlQueriesCount","allocationsCount","traces","trailingVisual","Token","toString","dataForExport","prepareDataForExport","cleanTrace","JSON","parse","stringify","flamegraphData","onFlamegraphClick","e","objectFlamegraph","vernier","preventDefault","stopPropagation","url","method","flamegraphParams","cleanUrl","replace","flamegraphUrl","indexOf","response","fetch","mode","cache","headers","accept","blob","blobUrl","window","URL","createObjectURL","a","href","download","click","remove","alert","requestId","Box","sx","display","flexDirection","gap","alignItems","Text","marginRight","DatabaseDetail","count","AllocationDetail","TimingDetail","LinksMenu","isGraphqlQuery","toFixed","color","ActionMenu","Anchor","leadingVisual","KebabHorizontalIcon","paddingRight","Overlay","ActionList","showDividers","LinkItem","encodeURIComponent","aria-label","LeadingVisual","DownloadIcon","fontWeight","Description","variant","onClick","FlameIcon","Link","inline","getDataDogUrl","target","GraphIcon","getDataDogApmUrl","LogIcon","getSplunkUrl","operationName","toLowerCase","to","Date","now","from","params","URLSearchParams","set","queryName","Math","floor","DatabaseIcon","x","ContainerIcon","displayName","tryGetNumber","paths","threshold","current","path","sub_path","split","Array","isArray","round","parseFloat","findSqlQueries","queries","root","key","push","query","digested_query","result","cluster_name","fallbacks","backtrace","Object","keys","tryGetRemoteUrl","absoluteUrl","match","remoteUrl","relativePath","line","DatabaseTreeItem","title","nPlusOnes","sort","totalTime","reduce","acc","cur","totalResults","length","sortedQueries","sortQueries","b","TreeView","Item","id","AlertFillIcon","RowsIcon","SubTree","map","div","getLinkFromBacktrace","backtraceLine","muted","whiteSpace","br","m","fontSize","join","nPlusOneHitsCount","ml","nPlusOne","find","n","PerformancePaneItem","isRoot","sortType","variables","showSubscriptionQueries","groupSqlByClusters","query_text","sqlQueries","groupedLogs","log","sqlNPlusOne","findSqlNPlusOne","n_plus_one","esQueries","findEsQueries","call","parseInt","nameElement","span","timing","children","filter","values","getValues","sumChildrenTiming","subTreeDuration","endsWith","graphql_query","graphql_mutation","graphql_subscription","http_get","http_post","http_put","http_delete","valuesForSubTree","getValuesForSubtree","subTree","buildSubTree","childPerformancePaneItems","shouldIncludeChildItem","justifyContent","CopyToClipboardButton","tooltipProps","direction","textToCopy","ariaLabel","accessibleButton","className","entries","index","keyValue","subTreeItem","ClustersDisabler","usedClusters","getAllUsedClusters","clusters","Set","trace","add","cluster","onSelect","toggleClusterState","flex","mr","isClusterDisabled","NoEntryIcon","CheckIcon","PerformancePane","isOpen","setIsOpen","useState","isSqlGrouped","setIsSqlGrouped","setSortType","setThreshold","noButtonRef","useRef","anchorRef","setShowSubscriptionQueries","openClustersDisablerMenu","setOpenClustersDisablerMenu","clustersDisablerMenuAnchorRef","rootWindowContent","ssrSafeWindow","TraceDataKey","setTraces","TraceDataRefreshCallbackKey","useCallback","clearTraces","sortLabel","useMemo","initialFocusRef","returnFocusRef","ignoreClickRefs","onEscape","onClickOutside","noop","aria-labelledby","left","innerWidth","zIndex","padding","mb","Heading","as","marginLeft","TextInput","size","placeholder","onChange","event","newThreshold","isNaN","Button","currentSort","SortDescIcon","IconButton","unsafeDisableTooltip","icon","TrashIcon","pl","EyeClosedIcon","EyeIcon","ref","ChevronRightIcon","XIcon","open","onOpenChange","mt","nav","right","ApiInsights","ErrorBoundary","registerReactPartial","Component","disabledClusters","decodeURIComponent","ssrSafeLocation","search","get","c","reportTraceData","json","isTracingEnabled","clustersDisabled","getInsightsUrl","urlObject","origin","searchParams","pathname","splice","DeferredRegistry","register","registration","entry","registrationEntries","promise","getRegistration","Deferred","constructor","usePartialAnchorProps","anchorElement","useEffect","anchor","disabled","classList","reactPartialAnchor","__wrapperElement","useExternalAnchor","setOpen","setAttribute","useOnAnchorClick","addEventListener","removeEventListener","partialRegistry","ReactPartialElement","ReactBaseElement","getReactNode","embeddedData","appName","closest","PartialEntry","partialName","wasServerRendered","hasSSRContent","ssrError","nameAttribute","controller","getItem","setItem","removeItem","safeStorage","REACT_PROFILING_ENABLED","enable","disable","isEnabled","CopyIcon","onCopy","hasPortalTooltip","avoidStyledComponent","copied","setCopied","React","isMounted","useIsMounted","onClickCopy","setTimeout","label","visibleTooltipText","PortalTooltipCopyButton","Tooltip","tabIndex","clsx","contentRef","buttonContentProps","buttonTooltipElement","usePortalTooltip","PortalCopyIconButton","button","Octicon","TooltipBase","styled","themeGet","getServerSideState","getClientSideState","ControlledTooltip","forwardRef","noDelay","align","wrap","portalProps","rest","isClientRender","useSyncExternalStore","classes","Portal","role","data-visible-text","PortalTooltip","anchoredPositionAlignment","anchorSide","anchorOffset","alignmentOffset","allowOutOfBounds","props","forwardedRef","useImperativeHandle","positionCache","notify","scrollableParent","nextPosition","getAnchoredPosition","side","includeAriaAttributes","useId","actualId","ariaAttributes","onSetOpen","onSetClose","onPointerEnter","onPointerLeave","onFocus","onBlur","getDerivedStateFromError","error","onError","render","state","fallback","ErrorPage","errorMessages","httpStatus","minWidth","minHeight","lineHeight","pt","PartialRouter","history","setState","location","useHydratedEffect","listen","Router","historyRef","globalThis","createBrowserHistory","createMemoryHistory","initialEntries","partialAnchorProps","BaseProviders","AppContextProvider","routes","CommonElements","REACT_INVARIANT_ERROR_REGEX","embeddedDataText","connectedCallback","renderReact","disconnectedCallback","unmount","reactRoot","reactDom","createRoot","hydrateRoot","ReactProfilingMode","getReactDomWithProfiling","ssrErrorText","baseNode","logSSRError","styles","head","onRecoverableError","Error","exec","invariant","String","groups","sendStats","incrementKey","incrementTags","requestIdleCallback","parentElement","EXPECTED_ERRORS","console","stacktrace","parseFailbotStacktrace","prefix","stack","function","func","filename","lineno","colno","frame"],"sourceRoot":""}