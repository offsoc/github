{"version":3,"file":"billing-app-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/analytics-provider/AnalyticsProvider.tsx","ui/packages/analytics-provider/context.ts","ui/packages/billing-app/components/ErrorComponent.tsx","ui/packages/billing-app/components/LoadingComponent.tsx","ui/packages/billing-app/components/NoDataComponent.tsx","ui/packages/billing-app/components/WelcomeBanner.tsx","ui/packages/billing-app/components/pickers/__generated__/OrganizationPickerFragment.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/OrganizationPickerInitialQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/OrganizationPickerRecentQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/RepositoryPickerFragment.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/RepositoryPickerInitialQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/RepositoryPickerRecentQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/UserPickerEnterpriseOwnersQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/UserPickerInitialUsersQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/UserPickerQuery.graphql.ts","ui/packages/billing-app/components/pickers/__generated__/UserPickerUserFragment.graphql.ts","ui/packages/billing-app/constants/products.ts","ui/packages/billing-app/constants/index.ts","ui/packages/billing-app/components/budget/BudgetData.tsx","ui/packages/billing-app/components/usage/UsageActions.tsx","ui/packages/billing-app/App.tsx","ui/packages/billing-app/enums/budgets.ts","ui/packages/billing-app/enums/cost-centers.ts","ui/packages/billing-app/utils/cost-centers.ts","ui/packages/billing-app/utils/discount.ts","ui/packages/billing-app/utils/usage.ts","ui/packages/billing-app/components/budget/BudgetAmount.tsx","ui/packages/billing-app/components/pickers/SelectedRows.tsx","ui/packages/billing-app/components/pickers/UserPicker.tsx","ui/packages/billing-app/components/budget/BudgetAlertSelector.tsx","ui/packages/billing-app/components/budget/BudgetProductSelector.tsx","ui/packages/billing-app/hooks/cost_centers/use-cost-centers-page.ts","ui/packages/billing-app/components/pickers/ItemPicker.tsx","ui/packages/billing-app/components/pickers/PickerDialog.tsx","ui/packages/billing-app/components/pickers/CostCenterPicker.tsx","ui/packages/billing-app/components/pickers/ResourcePaginator.tsx","ui/packages/billing-app/components/pickers/PickerHeader.tsx","ui/packages/billing-app/components/pickers/OrganizationPicker.tsx","ui/packages/billing-app/components/pickers/RepositoryPicker.tsx","ui/packages/billing-app/components/budget/BudgetScopeSelector.tsx","ui/packages/billing-app/components/budget/BudgetSelectedProduct.tsx","ui/packages/billing-app/components/budget/BudgetSelectedScope.tsx","ui/packages/billing-app/components/budget/BudgetForm.tsx","ui/packages/billing-app/routes/BudgetEditPage.tsx","ui/packages/billing-app/routes/BudgetNewPage.tsx","ui/packages/billing-app/components/budget/BudgetActionMenu.tsx","ui/packages/billing-app/components/budget/BudgetBanner.tsx","ui/packages/billing-app/components/budget/BudgetLabel.tsx","ui/packages/billing-app/components/budget/BudgetProgressBar.tsx","ui/packages/billing-app/components/budget/BudgetWarningIcon.tsx","ui/packages/billing-app/components/budget/style.ts","ui/packages/billing-app/components/budget/BudgetsTable.tsx","ui/packages/billing-app/hooks/budget/use-budgets-page.ts","ui/packages/billing-app/utils/business.ts","ui/packages/billing-app/routes/BudgetsPage.tsx","ui/packages/billing-app/components/cost_centers/AzureSubscriptionDetails.tsx","ui/packages/billing-app/components/cost_centers/CostCenterBanner.tsx","ui/packages/billing-app/components/cost_centers/CostCenterDetails.tsx","ui/packages/billing-app/components/common/ErrorBanner.tsx","ui/packages/billing-app/components/pickers/PickerLoadingSkeleton.tsx","ui/packages/billing-app/components/cost_centers/CostCenterResourceSelector.tsx","ui/packages/billing-app/components/cost_centers/CostCenterForm.tsx","ui/packages/billing-app/routes/CostCenterEditPage.tsx","ui/packages/billing-app/routes/CostCenterNewPage.tsx","ui/packages/billing-app/components/cost_centers/CostCenterActionMenu.tsx","ui/packages/billing-app/components/cost_centers/CostCentersTable.tsx","ui/packages/billing-app/routes/CostCentersPage.tsx","ui/packages/billing-app/components/cost_centers/CostCenterMembersList.tsx","ui/packages/billing-app/routes/CostCenterPage.tsx","ui/packages/billing-app/utils/array.ts","ui/packages/billing-app/hooks/discount/use-discounts.ts","ui/packages/billing-app/components/usage/DefaultUsageCard.tsx","ui/packages/billing-app/components/usage/DiscountUsageCard.tsx","ui/packages/billing-app/components/usage/TotalUsageCard.tsx","ui/packages/billing-app/components/usage/UsageChartSkeleton.tsx","ui/packages/billing-app/components/usage/SingleSelectPanel.tsx","ui/packages/billing-app/components/usage/UsageCustomerSelectPanel.tsx","ui/packages/billing-app/components/usage/UsageFilters.tsx","ui/packages/query-builder/providers/billing/enterprise-org-filter-provider.ts","ui/packages/query-builder/providers/billing/enterprise-repo-filter-provider.ts","ui/packages/query-builder/providers/billing/billing-product-filter-provider.ts","ui/packages/query-builder/providers/billing/billing-sku-filter-provider.ts","ui/packages/query-builder/providers/billing/billing-costcenter-filter-provider.ts","ui/packages/billing-app/components/usage/UsageSearchBar.tsx","ui/packages/billing-app/components/usage/GetUsageReportDialog.tsx","ui/packages/billing-app/components/usage/UsageOverviewListDialog.tsx","ui/packages/billing-app/components/usage/CurrentDiscountsListDialog.tsx","ui/packages/billing-app/components/usage/UsageCard/UsageCard.tsx","ui/packages/billing-app/components/usage/UsageCard/UsageCardSkeleton.tsx","ui/packages/billing-app/components/usage/UsageCard/OrgRepoUsageContainer.tsx","ui/packages/billing-app/components/common/ColoredBullet.tsx","ui/packages/billing-app/components/usage/UsageCard/UsageListTable.tsx","ui/packages/billing-app/components/usage/UsageCard/UsageProgressBar.tsx","ui/packages/billing-app/components/usage/UsageTable/style.ts","ui/packages/billing-app/components/usage/UsageTable/UsageSubTable.tsx","ui/packages/billing-app/components/usage/UsageTable/UsageTable.tsx","ui/packages/billing-app/components/usage/UsageTable/UsageTableRow.tsx","ui/packages/billing-app/hooks/usage/use-usage-sub-table-data.ts","ui/packages/billing-app/components/usage/UsageTable/UsageTableRowSkeleton.tsx","ui/packages/billing-app/components/usage/DefaultUsageContainer.tsx","ui/packages/billing-app/components/usage/UsageInfoTile.tsx","ui/packages/billing-app/components/usage/SeatBasedUsageContainer.tsx","ui/packages/billing-app/components/usage/ProductUsageContainer.tsx","ui/packages/billing-app/components/licensing/VolumeLicensesCardCombined.tsx","ui/packages/billing-app/components/licensing/VolumeLicensesCardSeparate.tsx","ui/packages/billing-app/components/licensing/VolumeLicensesCard.tsx","ui/packages/billing-app/components/payment_due/AutoPayDisabledCard.tsx","ui/packages/billing-app/components/payment_due/AutoPayEnabledCard.tsx","ui/packages/billing-app/components/payment_due/PaymentDueCard.tsx","ui/packages/billing-app/components/invoices/LatestInvoiceCard.tsx","ui/packages/billing-app/routes/OverviewPage.tsx","ui/packages/billing-app/components/usage/UsageReportBanner.tsx","ui/packages/billing-app/routes/UsagePage.tsx","ui/packages/billing-app/components/azure_emissions/AzureEmissionTable.tsx","ui/packages/billing-app/services/azure_emissions.ts","ui/packages/billing-app/hooks/azure_emissions/use-azure-emissions.ts","ui/packages/billing-app/routes/stafftools/AzureEmissionPage.tsx","ui/packages/billing-app/routes/stafftools/BillingJobsPage.tsx","ui/packages/billing-app/components/billing_jobs/BillingJobTable/style.ts","ui/packages/billing-app/components/billing_jobs/BillingJobTable/BillingJobTableCell.tsx","ui/packages/billing-app/components/billing_jobs/BillingJobTable/BillingJobTableRow.tsx","ui/packages/billing-app/components/billing_jobs/BillingJobTable/BillingJobTable.tsx","ui/packages/billing-app/services/billing_jobs.ts","ui/packages/billing-app/routes/stafftools/BusinessOrganizationBillingJob.tsx","ui/packages/billing-app/hooks/pricing/use-pricings.ts","ui/packages/billing-app/components/pickers/SkuPicker.tsx","ui/packages/billing-app/components/stafftools/discounts/DiscountTargetSelector.tsx","ui/packages/billing-app/components/stafftools/discounts/DiscountForm.tsx","ui/packages/billing-app/routes/stafftools/DiscountsPage.tsx","ui/packages/billing-app/components/common/CostCenterSelector.tsx","ui/packages/billing-app/services/invoices.ts","ui/packages/billing-app/hooks/invoice/use-invoices.ts","ui/packages/billing-app/routes/stafftools/InvoicesPage.tsx","ui/packages/billing-app/services/sku_pricing.ts","ui/packages/billing-app/components/pricings/PricingForm.tsx","ui/packages/billing-app/routes/stafftools/PricingEditPage.tsx","ui/packages/billing-app/routes/stafftools/PricingNewPage.tsx","ui/packages/billing-app/routes/stafftools/ProductsPage.tsx","ui/packages/billing-app/routes/stafftools/PricingDetailsDialog.tsx","ui/packages/billing-app/routes/stafftools/ProductDetailsPage.tsx","ui/packages/billing-app/services/products.ts","ui/packages/billing-app/components/products/ProductForm.tsx","ui/packages/billing-app/routes/stafftools/ProductEditPage.tsx","ui/packages/billing-app/routes/stafftools/ProductNewPage.tsx","ui/packages/billing-app/billing-app.ts","ui/packages/billing-app/enums.ts","ui/packages/billing-app/hooks/usage/use-repo-usage-card.ts","ui/packages/billing-app/hooks/usage/use-chart-card-details.ts","ui/packages/billing-app/hooks/usage/use-net-usage-data.ts","ui/packages/billing-app/hooks/usage/use-usage-table-data.ts","ui/packages/billing-app/hooks/use-request.ts","ui/packages/billing-app/hooks/use-route.ts","ui/packages/billing-app/routes/utils.ts","ui/packages/billing-app/routes.ts","ui/packages/billing-app/utils/date.ts","ui/packages/billing-app/utils/group.ts","ui/packages/billing-app/utils/money.ts","ui/packages/billing-app/utils/style.ts","ui/packages/billing-app/utils/types.ts","ui/packages/is-hash-navigation/is-hash-navigation.ts","ui/packages/item-picker/constants/errors.ts","ui/packages/item-picker/constants/ids.ts","ui/packages/item-picker/constants/selectors.ts","ui/packages/item-picker/shared.ts","ui/packages/noop/noop.ts","ui/packages/query-builder/constants/search-filters.ts","ui/packages/query-builder/providers/billing/__generated__/enterpriseOrgFilterProviderQuery.graphql.ts","ui/packages/query-builder/providers/billing/__generated__/enterpriseRepoFilterProviderQuery.graphql.ts","ui/packages/react-core/app-context.ts","ui/packages/react-core/create-browser-history.ts","ui/packages/react-core/expected-errors.ts","ui/packages/react-core/use-color-modes.ts","ui/packages/react-core/use-feature-flag.ts","ui/packages/ssr-utils/ssr-globals.ts","ui/packages/ssr-utils/ssr.ts","ui/packages/test-id-props/test-id-props.ts","ui/packages/use-debounce/use-debounce.ts","ui/packages/use-hydrated-effect/use-hydrated-effect.ts","ui/packages/use-is-mounted/use-is-mounted.ts","ui/packages/use-key-press/use-key-press.ts","ui/packages/use-navigate/use-navigate.ts","ui/packages/use-safe-state/use-safe-state.ts","ui/packages/billing-app/components/Layout.tsx","ui/packages/item-picker/components/ItemPicker.tsx","ui/packages/item-picker/contexts/ItemPickersContext.tsx","ui/packages/query-builder/QueryBuilder.tsx","ui/packages/react-core/AppContextProvider.tsx","ui/packages/react-core/PrimerFeatureFlags.tsx","ui/packages/react-core/BaseProviders.tsx","ui/packages/toast/Toast.tsx","ui/packages/toast/Toasts.tsx","ui/packages/react-core/SSRErrorToast.tsx","ui/packages/react-core/CommonElements.tsx","ui/packages/react-core/JsonRoute.tsx","ui/packages/render-phase-provider/RenderPhaseProvider.tsx","ui/packages/skeleton/LoadingSkeleton.tsx","ui/packages/toast/ToastContext.tsx"],"sourcesContent":["import {useMemo} from 'react'\nimport type {PropsWithChildren} from 'react'\nimport {AnalyticsContext, type AnalyticsProviderProps} from './context'\n\nexport function AnalyticsProvider({children, appName, category, metadata}: PropsWithChildren<AnalyticsProviderProps>) {\n  const value = useMemo(() => ({appName, category, metadata}), [appName, category, metadata])\n  return <AnalyticsContext.Provider value={value}>{children}</AnalyticsContext.Provider>\n}\n\ntry{ AnalyticsProvider.displayName ||= 'AnalyticsProvider' } catch {}","import {createContext} from 'react'\n\ninterface AnalyticsContextType {\n  appName: string\n  category: string\n  metadata: {[key: string]: string}\n}\n\nexport type AnalyticsProviderProps = AnalyticsContextType\n\nexport const AnalyticsContext = createContext<AnalyticsContextType | null>(null)\n","import {AlertIcon} from '@primer/octicons-react'\nimport {Box, Heading, Octicon} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport {boxStyle} from '../utils/style'\n\nconst containerStyle = {\n  width: '100%',\n  display: 'flex',\n  flex: '1',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  ...boxStyle,\n}\n\ninterface Props {\n  testid: string\n  text: string\n  sx?: BetterSystemStyleObject\n}\n\nexport default function ErrorComponent({testid, text, sx}: Props) {\n  return (\n    <Box sx={{...containerStyle, ...sx}}>\n      <Octicon icon={AlertIcon} size={32} sx={{mb: 2, color: 'danger.fg'}} />\n      <Heading as=\"h2\" sx={{fontSize: 3}} data-testid={testid}>\n        {text}\n      </Heading>\n    </Box>\n  )\n}\n\ntry{ ErrorComponent.displayName ||= 'ErrorComponent' } catch {}","import type {ReactNode} from 'react'\nimport {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {Box} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport {boxStyle} from '../utils/style'\n\nconst containerStyle = {\n  width: '100%',\n  flex: '1',\n  ...boxStyle,\n}\n\nconst skeletonStyle = {\n  width: '100%',\n  height: '100%',\n}\n\ninterface Props {\n  children?: ReactNode\n  sx?: BetterSystemStyleObject\n  testid?: string\n}\n\nexport default function LoadingComponent({children, sx, testid}: Props) {\n  return (\n    <Box sx={{...containerStyle, ...sx}} data-testid={testid}>\n      {children ? children : <LoadingSkeleton sx={skeletonStyle} variant=\"rounded\" />}\n    </Box>\n  )\n}\n\ntry{ LoadingComponent.displayName ||= 'LoadingComponent' } catch {}","import {AlertIcon} from '@primer/octicons-react'\nimport {Box, Heading, Octicon} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport {boxStyle} from '../utils/style'\n\nconst containerStyle = {\n  width: '100%',\n  display: 'flex',\n  flex: '1',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  ...boxStyle,\n}\n\ninterface Props {\n  testid: string\n  text: string\n  sx?: BetterSystemStyleObject\n}\n\nexport default function NoDataComponent({testid, text, sx}: Props) {\n  return (\n    <Box sx={{...containerStyle, ...sx}}>\n      <Octicon icon={AlertIcon} size={32} sx={{mb: 2, color: 'accent.fg'}} />\n      <Heading as=\"h2\" sx={{fontSize: 3}} data-testid={testid}>\n        {text}\n      </Heading>\n    </Box>\n  )\n}\n\ntry{ NoDataComponent.displayName ||= 'NoDataComponent' } catch {}","import {InfoIcon} from '@primer/octicons-react'\n\nimport {Link, Flash, Octicon} from '@primer/react'\n\nconst BILLING_PLATFORM_BETA_DOC_LINK =\n  'https://docs.github.com/enterprise-cloud@latest/early-access/billing/billing-private-beta'\n\ninterface Props {\n  multiTenant: boolean\n}\n\nexport default function WelcomeBanner({multiTenant}: Props) {\n  return (\n    <Flash sx={{mb: 3}}>\n      <Octicon aria-label=\"Alert icon\" icon={InfoIcon} />\n      {multiTenant ? (\n        <span>\n          You can view your usage in the billing pages, starting from the date you gained access. For more information\n          please refer to the docs content&nbsp;\n          <Link inline href={BILLING_PLATFORM_BETA_DOC_LINK}>\n            here\n          </Link>\n          .\n        </span>\n      ) : (\n        <span>\n          For more information on using these billing pages and cost center functionality please refer to the docs\n          content&nbsp;\n          <Link inline href={BILLING_PLATFORM_BETA_DOC_LINK}>\n            here\n          </Link>\n          .\n        </span>\n      )}\n    </Flash>\n  )\n}\n\ntry{ WelcomeBanner.displayName ||= 'WelcomeBanner' } catch {}","/**\n * @generated SignedSource<<40f9682c1f1cf83c3fa395940cda7166>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { InlineFragment, ReaderInlineDataFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type OrganizationPickerFragment$data = {\n  readonly avatarUrl: string;\n  readonly id: string;\n  readonly login: string;\n  readonly \" $fragmentType\": \"OrganizationPickerFragment\";\n};\nexport type OrganizationPickerFragment$key = {\n  readonly \" $data\"?: OrganizationPickerFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"OrganizationPickerFragment\">;\n};\n\nconst node: ReaderInlineDataFragment = {\n  \"kind\": \"InlineDataFragment\",\n  \"name\": \"OrganizationPickerFragment\"\n};\n\n(node as any).hash = \"eef606d5a6edb9e1cf94083a514a0031\";\n\nexport default node;\n","/**\n * @generated SignedSource<<e4418c2eccca496342743ed2889591c3>>\n * @relayHash 94a7d57a6c141c6220bf77b8f93ebe46\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 94a7d57a6c141c6220bf77b8f93ebe46\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type OrganizationPickerInitialQuery$variables = {\n  ids: ReadonlyArray<string>;\n};\nexport type OrganizationPickerInitialQuery$data = {\n  readonly nodes: ReadonlyArray<{\n    readonly \" $fragmentSpreads\": FragmentRefs<\"OrganizationPickerFragment\">;\n  } | null | undefined>;\n};\nexport type OrganizationPickerInitialQuery = {\n  response: OrganizationPickerInitialQuery$data;\n  variables: OrganizationPickerInitialQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"ids\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"ids\",\n    \"variableName\": \"ids\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"avatarUrl\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"OrganizationPickerInitialQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"kind\": \"InlineDataFragmentSpread\",\n            \"name\": \"OrganizationPickerFragment\",\n            \"selections\": [\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  (v2/*: any*/),\n                  (v3/*: any*/),\n                  (v4/*: any*/)\n                ],\n                \"type\": \"Organization\",\n                \"abstractKey\": null\n              }\n            ],\n            \"args\": null,\n            \"argumentDefinitions\": []\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"OrganizationPickerInitialQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"__typename\",\n            \"storageKey\": null\n          },\n          (v2/*: any*/),\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              (v3/*: any*/),\n              (v4/*: any*/)\n            ],\n            \"type\": \"Organization\",\n            \"abstractKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"94a7d57a6c141c6220bf77b8f93ebe46\",\n    \"metadata\": {},\n    \"name\": \"OrganizationPickerInitialQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"23b9c6e196cebdc3258cb968d0b5b222\";\n\nexport default node;\n","/**\n * @generated SignedSource<<0d35a6e50fa18df35f7b271376fb7b96>>\n * @relayHash 504ed12be874fae11439539081c6c591\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 504ed12be874fae11439539081c6c591\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type OrganizationPickerRecentQuery$variables = {\n  query?: string | null | undefined;\n  slug: string;\n};\nexport type OrganizationPickerRecentQuery$data = {\n  readonly enterprise: {\n    readonly organizations: {\n      readonly nodes: ReadonlyArray<{\n        readonly \" $fragmentSpreads\": FragmentRefs<\"OrganizationPickerFragment\">;\n      } | null | undefined> | null | undefined;\n      readonly totalCount: number;\n    };\n  } | null | undefined;\n};\nexport type OrganizationPickerRecentQuery = {\n  response: OrganizationPickerRecentQuery$data;\n  variables: OrganizationPickerRecentQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"query\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"slug\"\n},\nv2 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"slug\",\n    \"variableName\": \"slug\"\n  }\n],\nv3 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 50\n  },\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"orderBy\",\n    \"value\": {\n      \"direction\": \"DESC\",\n      \"field\": \"CREATED_AT\"\n    }\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"query\",\n    \"variableName\": \"query\"\n  }\n],\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"totalCount\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv6 = [\n  (v5/*: any*/),\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"login\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"avatarUrl\",\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"OrganizationPickerRecentQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v3/*: any*/),\n            \"concreteType\": \"OrganizationConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"organizations\",\n            \"plural\": false,\n            \"selections\": [\n              (v4/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Organization\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": [\n                  {\n                    \"kind\": \"InlineDataFragmentSpread\",\n                    \"name\": \"OrganizationPickerFragment\",\n                    \"selections\": (v6/*: any*/),\n                    \"args\": null,\n                    \"argumentDefinitions\": []\n                  }\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v1/*: any*/),\n      (v0/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"OrganizationPickerRecentQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v3/*: any*/),\n            \"concreteType\": \"OrganizationConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"organizations\",\n            \"plural\": false,\n            \"selections\": [\n              (v4/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Organization\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": (v6/*: any*/),\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v5/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"504ed12be874fae11439539081c6c591\",\n    \"metadata\": {},\n    \"name\": \"OrganizationPickerRecentQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"b6d17795b94f4a868bc27c1a75480cfc\";\n\nexport default node;\n","/**\n * @generated SignedSource<<c2e2775e9c202460a54176632de75cb8>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { InlineFragment, ReaderInlineDataFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type RepositoryPickerFragment$data = {\n  readonly id: string;\n  readonly isArchived: boolean;\n  readonly isPrivate: boolean;\n  readonly nameWithOwner: string;\n  readonly \" $fragmentType\": \"RepositoryPickerFragment\";\n};\nexport type RepositoryPickerFragment$key = {\n  readonly \" $data\"?: RepositoryPickerFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"RepositoryPickerFragment\">;\n};\n\nconst node: ReaderInlineDataFragment = {\n  \"kind\": \"InlineDataFragment\",\n  \"name\": \"RepositoryPickerFragment\"\n};\n\n(node as any).hash = \"cc97e0ef055002f971ffd9c154fe65f4\";\n\nexport default node;\n","/**\n * @generated SignedSource<<03f7f0e602c016ff3fdcb601575d9a9a>>\n * @relayHash 0db08d24b258c95b97435447bd378f4d\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 0db08d24b258c95b97435447bd378f4d\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type RepositoryPickerInitialQuery$variables = {\n  ids: ReadonlyArray<string>;\n};\nexport type RepositoryPickerInitialQuery$data = {\n  readonly nodes: ReadonlyArray<{\n    readonly \" $fragmentSpreads\": FragmentRefs<\"RepositoryPickerFragment\">;\n  } | null | undefined>;\n};\nexport type RepositoryPickerInitialQuery = {\n  response: RepositoryPickerInitialQuery$data;\n  variables: RepositoryPickerInitialQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"ids\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"ids\",\n    \"variableName\": \"ids\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"nameWithOwner\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"isPrivate\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"isArchived\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"RepositoryPickerInitialQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"kind\": \"InlineDataFragmentSpread\",\n            \"name\": \"RepositoryPickerFragment\",\n            \"selections\": [\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  (v2/*: any*/),\n                  (v3/*: any*/),\n                  (v4/*: any*/),\n                  (v5/*: any*/)\n                ],\n                \"type\": \"Repository\",\n                \"abstractKey\": null\n              }\n            ],\n            \"args\": null,\n            \"argumentDefinitions\": []\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"RepositoryPickerInitialQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"__typename\",\n            \"storageKey\": null\n          },\n          (v2/*: any*/),\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              (v3/*: any*/),\n              (v4/*: any*/),\n              (v5/*: any*/)\n            ],\n            \"type\": \"Repository\",\n            \"abstractKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"0db08d24b258c95b97435447bd378f4d\",\n    \"metadata\": {},\n    \"name\": \"RepositoryPickerInitialQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"2f39ce746df4ca1f86987e73eccbdce5\";\n\nexport default node;\n","/**\n * @generated SignedSource<<6c4fa66d2cad9a3f24ea0b13b365b5c4>>\n * @relayHash 752fbdc4ae9ef17b15ddcd304fd3a93b\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 752fbdc4ae9ef17b15ddcd304fd3a93b\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type RepositoryPickerRecentQuery$variables = {\n  phrase?: string | null | undefined;\n  slug: string;\n};\nexport type RepositoryPickerRecentQuery$data = {\n  readonly viewer: {\n    readonly enterpriseRepositories: {\n      readonly nodes: ReadonlyArray<{\n        readonly \" $fragmentSpreads\": FragmentRefs<\"RepositoryPickerFragment\">;\n      } | null | undefined> | null | undefined;\n      readonly totalCount: number;\n    };\n  };\n};\nexport type RepositoryPickerRecentQuery = {\n  response: RepositoryPickerRecentQuery$data;\n  variables: RepositoryPickerRecentQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"phrase\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"slug\"\n},\nv2 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 10\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"phrase\",\n    \"variableName\": \"phrase\"\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"slug\",\n    \"variableName\": \"slug\"\n  }\n],\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"totalCount\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv5 = [\n  (v4/*: any*/),\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"nameWithOwner\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"isPrivate\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"isArchived\",\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"RepositoryPickerRecentQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"viewer\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v2/*: any*/),\n            \"concreteType\": \"RepositoryConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"enterpriseRepositories\",\n            \"plural\": false,\n            \"selections\": [\n              (v3/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Repository\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": [\n                  {\n                    \"kind\": \"InlineDataFragmentSpread\",\n                    \"name\": \"RepositoryPickerFragment\",\n                    \"selections\": (v5/*: any*/),\n                    \"args\": null,\n                    \"argumentDefinitions\": []\n                  }\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v1/*: any*/),\n      (v0/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"RepositoryPickerRecentQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"viewer\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v2/*: any*/),\n            \"concreteType\": \"RepositoryConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"enterpriseRepositories\",\n            \"plural\": false,\n            \"selections\": [\n              (v3/*: any*/),\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Repository\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": (v5/*: any*/),\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"752fbdc4ae9ef17b15ddcd304fd3a93b\",\n    \"metadata\": {},\n    \"name\": \"RepositoryPickerRecentQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"658168666ca9ecfeee522c2ba5cf75ec\";\n\nexport default node;\n","/**\n * @generated SignedSource<<633203be5498a83d760fd0f4b3fef83d>>\n * @relayHash 806ee273df866378cdece447d4ee9053\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 806ee273df866378cdece447d4ee9053\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type UserPickerEnterpriseOwnersQuery$variables = {\n  slug: string;\n};\nexport type UserPickerEnterpriseOwnersQuery$data = {\n  readonly enterprise: {\n    readonly ownerInfo: {\n      readonly admins: {\n        readonly nodes: ReadonlyArray<{\n          readonly \" $fragmentSpreads\": FragmentRefs<\"UserPickerUserFragment\">;\n        } | null | undefined> | null | undefined;\n      };\n    } | null | undefined;\n  } | null | undefined;\n};\nexport type UserPickerEnterpriseOwnersQuery = {\n  response: UserPickerEnterpriseOwnersQuery$data;\n  variables: UserPickerEnterpriseOwnersQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"slug\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"slug\",\n    \"variableName\": \"slug\"\n  }\n],\nv2 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 10\n  }\n],\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv4 = [\n  (v3/*: any*/),\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"login\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"name\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Literal\",\n        \"name\": \"size\",\n        \"value\": 64\n      }\n    ],\n    \"kind\": \"ScalarField\",\n    \"name\": \"avatarUrl\",\n    \"storageKey\": \"avatarUrl(size:64)\"\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserPickerEnterpriseOwnersQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"EnterpriseOwnerInfo\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"ownerInfo\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": (v2/*: any*/),\n                \"concreteType\": \"EnterpriseAdministratorConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"admins\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"User\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"nodes\",\n                    \"plural\": true,\n                    \"selections\": [\n                      {\n                        \"kind\": \"InlineDataFragmentSpread\",\n                        \"name\": \"UserPickerUserFragment\",\n                        \"selections\": (v4/*: any*/),\n                        \"args\": null,\n                        \"argumentDefinitions\": []\n                      }\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"admins(first:10)\"\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"UserPickerEnterpriseOwnersQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"concreteType\": \"EnterpriseOwnerInfo\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"ownerInfo\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": (v2/*: any*/),\n                \"concreteType\": \"EnterpriseAdministratorConnection\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"admins\",\n                \"plural\": false,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"User\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"nodes\",\n                    \"plural\": true,\n                    \"selections\": (v4/*: any*/),\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": \"admins(first:10)\"\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v3/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"806ee273df866378cdece447d4ee9053\",\n    \"metadata\": {},\n    \"name\": \"UserPickerEnterpriseOwnersQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"78ae6ccc35c35ef9ce4be1560fd60f29\";\n\nexport default node;\n","/**\n * @generated SignedSource<<23759f2788888085ebf97bcb2a644748>>\n * @relayHash 81d815781789b2b9037458c36fffeb3a\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 81d815781789b2b9037458c36fffeb3a\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type UserPickerInitialUsersQuery$variables = {\n  ids: ReadonlyArray<string>;\n};\nexport type UserPickerInitialUsersQuery$data = {\n  readonly nodes: ReadonlyArray<{\n    readonly \" $fragmentSpreads\": FragmentRefs<\"UserPickerUserFragment\">;\n  } | null | undefined>;\n};\nexport type UserPickerInitialUsersQuery = {\n  response: UserPickerInitialUsersQuery$data;\n  variables: UserPickerInitialUsersQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"defaultValue\": null,\n    \"kind\": \"LocalArgument\",\n    \"name\": \"ids\"\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"ids\",\n    \"variableName\": \"ids\"\n  }\n],\nv2 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv3 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": [\n    {\n      \"kind\": \"Literal\",\n      \"name\": \"size\",\n      \"value\": 64\n    }\n  ],\n  \"kind\": \"ScalarField\",\n  \"name\": \"avatarUrl\",\n  \"storageKey\": \"avatarUrl(size:64)\"\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserPickerInitialUsersQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"kind\": \"InlineDataFragmentSpread\",\n            \"name\": \"UserPickerUserFragment\",\n            \"selections\": [\n              {\n                \"kind\": \"InlineFragment\",\n                \"selections\": [\n                  (v2/*: any*/),\n                  (v3/*: any*/),\n                  (v4/*: any*/),\n                  (v5/*: any*/)\n                ],\n                \"type\": \"User\",\n                \"abstractKey\": null\n              }\n            ],\n            \"args\": null,\n            \"argumentDefinitions\": []\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"kind\": \"Operation\",\n    \"name\": \"UserPickerInitialUsersQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": null,\n        \"kind\": \"LinkedField\",\n        \"name\": \"nodes\",\n        \"plural\": true,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": null,\n            \"kind\": \"ScalarField\",\n            \"name\": \"__typename\",\n            \"storageKey\": null\n          },\n          (v2/*: any*/),\n          {\n            \"kind\": \"InlineFragment\",\n            \"selections\": [\n              (v3/*: any*/),\n              (v4/*: any*/),\n              (v5/*: any*/)\n            ],\n            \"type\": \"User\",\n            \"abstractKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"81d815781789b2b9037458c36fffeb3a\",\n    \"metadata\": {},\n    \"name\": \"UserPickerInitialUsersQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"5e4bd40c6ffbdc7b0676e1a2b3e2ebbb\";\n\nexport default node;\n","/**\n * @generated SignedSource<<df7f721d4ae46354b2fb80561b814117>>\n * @relayHash 25e9ca37d0ff4b1956328ea519eff120\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 25e9ca37d0ff4b1956328ea519eff120\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type UserPickerQuery$variables = {\n  query?: string | null | undefined;\n  slug: string;\n};\nexport type UserPickerQuery$data = {\n  readonly enterprise: {\n    readonly members: {\n      readonly nodes: ReadonlyArray<{\n        readonly user?: {\n          readonly \" $fragmentSpreads\": FragmentRefs<\"UserPickerUserFragment\">;\n        } | null | undefined;\n      } | null | undefined> | null | undefined;\n    };\n  } | null | undefined;\n};\nexport type UserPickerQuery = {\n  response: UserPickerQuery$data;\n  variables: UserPickerQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"query\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"slug\"\n},\nv2 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"slug\",\n    \"variableName\": \"slug\"\n  }\n],\nv3 = [\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"first\",\n    \"value\": 10\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"query\",\n    \"variableName\": \"query\"\n  }\n],\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n},\nv5 = [\n  (v4/*: any*/),\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"login\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": null,\n    \"kind\": \"ScalarField\",\n    \"name\": \"name\",\n    \"storageKey\": null\n  },\n  {\n    \"alias\": null,\n    \"args\": [\n      {\n        \"kind\": \"Literal\",\n        \"name\": \"size\",\n        \"value\": 64\n      }\n    ],\n    \"kind\": \"ScalarField\",\n    \"name\": \"avatarUrl\",\n    \"storageKey\": \"avatarUrl(size:64)\"\n  }\n];\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"UserPickerQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v3/*: any*/),\n            \"concreteType\": \"EnterpriseMemberConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"members\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": null,\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": [\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"User\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"user\",\n                        \"plural\": false,\n                        \"selections\": [\n                          {\n                            \"kind\": \"InlineDataFragmentSpread\",\n                            \"name\": \"UserPickerUserFragment\",\n                            \"selections\": (v5/*: any*/),\n                            \"args\": null,\n                            \"argumentDefinitions\": []\n                          }\n                        ],\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"type\": \"EnterpriseUserAccount\",\n                    \"abstractKey\": null\n                  }\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v1/*: any*/),\n      (v0/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"UserPickerQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v2/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v3/*: any*/),\n            \"concreteType\": \"EnterpriseMemberConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"members\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": null,\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"kind\": \"ScalarField\",\n                    \"name\": \"__typename\",\n                    \"storageKey\": null\n                  },\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      {\n                        \"alias\": null,\n                        \"args\": null,\n                        \"concreteType\": \"User\",\n                        \"kind\": \"LinkedField\",\n                        \"name\": \"user\",\n                        \"plural\": false,\n                        \"selections\": (v5/*: any*/),\n                        \"storageKey\": null\n                      }\n                    ],\n                    \"type\": \"EnterpriseUserAccount\",\n                    \"abstractKey\": null\n                  },\n                  {\n                    \"kind\": \"InlineFragment\",\n                    \"selections\": [\n                      (v4/*: any*/)\n                    ],\n                    \"type\": \"Node\",\n                    \"abstractKey\": \"__isNode\"\n                  }\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v4/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"25e9ca37d0ff4b1956328ea519eff120\",\n    \"metadata\": {},\n    \"name\": \"UserPickerQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"cb1556b47f42e8dfd757baae44fb1ade\";\n\nexport default node;\n","/**\n * @generated SignedSource<<6a1bf9d69578b54f1a1acb7b35fa91a6>>\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\nimport { InlineFragment, ReaderInlineDataFragment } from 'relay-runtime';\nimport { FragmentRefs } from \"relay-runtime\";\nexport type UserPickerUserFragment$data = {\n  readonly avatarUrl: string;\n  readonly id: string;\n  readonly login: string;\n  readonly name: string | null | undefined;\n  readonly \" $fragmentType\": \"UserPickerUserFragment\";\n};\nexport type UserPickerUserFragment$key = {\n  readonly \" $data\"?: UserPickerUserFragment$data;\n  readonly \" $fragmentSpreads\": FragmentRefs<\"UserPickerUserFragment\">;\n};\n\nconst node: ReaderInlineDataFragment = {\n  \"kind\": \"InlineDataFragment\",\n  \"name\": \"UserPickerUserFragment\"\n};\n\n(node as any).hash = \"9a68663559e516b597f9d6fff1332fdf\";\n\nexport default node;\n","import {\n  PlayIcon,\n  type Icon,\n  CopilotIcon,\n  GlobeIcon,\n  ShieldCheckIcon,\n  DatabaseIcon,\n  PackageIcon,\n  CodespacesIcon,\n} from '@primer/octicons-react'\n\nexport enum Products {\n  actions = 'actions',\n  copilot = 'copilot',\n  git_lfs = 'git_lfs',\n  ghec = 'ghec',\n  ghas = 'ghas',\n  packages = 'packages',\n  codespaces = 'codespaces',\n}\n\n// TODO: Remove this once we have a way to get the meter type from the enabled products API\nexport enum MeteredProducts {\n  actions = Products.actions,\n  git_lfs = Products.git_lfs,\n  packages = Products.packages,\n  codespaces = Products.codespaces,\n}\n\nexport enum SeatBasedProducts {\n  copilot = Products.copilot,\n  ghas = Products.ghas,\n  ghec = Products.ghec,\n}\n\nexport enum HighWatermarkProducts {\n  copilot = Products.copilot,\n  ghec = Products.ghec,\n  ghas = Products.ghas,\n}\n\n// Maps products to their respective usage tab text\nexport const PRODUCT_TAB_TEXT_MAP: Record<Products, string> = {\n  actions: 'Actions',\n  copilot: 'Copilot',\n  ghas: 'Advanced Security',\n  ghec: 'Enterprise',\n  git_lfs: 'Git LFS',\n  packages: 'Packages',\n  codespaces: 'Codespaces',\n}\n\n// Maps products to their respective usage tab icon\nexport const PRODUCT_TAB_ICON_MAP: Record<Products, Icon> = {\n  actions: PlayIcon,\n  copilot: CopilotIcon,\n  ghas: ShieldCheckIcon,\n  ghec: GlobeIcon,\n  git_lfs: DatabaseIcon,\n  packages: PackageIcon,\n  codespaces: CodespacesIcon,\n}\n\n// TODO: All of this should ideally be cleaned up and obtained from the BP API\nexport const STANDARD_ACTIONS_STORAGE_DISCOUNT_SKUS = ['actions_storage']\nexport const STANDARD_ACTIONS_MINUTES_DISCOUNT_SKUS = ['actions_linux', 'actions_macos', 'actions_windows']\nexport const STANDARD_CFB_DISCOUNT_SKUS = ['copilot_for_business']\nexport const STANDARD_GHAS_DISCOUNT_SKUS = ['ghas_seats']\nexport const STANDARD_GHEC_DISCOUNT_SKUS = ['ghec_seats']\nexport const STANDARD_LFS_BANDWIDTH_DISCOUNT_SKUS = ['git_lfs_bandwidth']\nexport const STANDARD_LFS_STORAGE_DISCOUNT_SKUS = ['git_lfs_storage']\nexport const STANDARD_PACKAGES_BANDWIDTH_DISCOUNT_SKUS = ['packages_bandwidth']\nexport const STANDARD_PACKAGES_STORAGE_DISCOUNT_SKUS = ['packages_storage']\n\n// Maps products to their respective standard discount SKUs.\n// Used to filter discount usage by enabled products in the useDiscounts hook.\nexport const PRODUCT_DISCOUNT_SKU_MAP: Record<Products, string[]> = {\n  actions: [...STANDARD_ACTIONS_MINUTES_DISCOUNT_SKUS, ...STANDARD_ACTIONS_STORAGE_DISCOUNT_SKUS],\n  copilot: [...STANDARD_CFB_DISCOUNT_SKUS],\n  ghas: [...STANDARD_GHAS_DISCOUNT_SKUS],\n  ghec: [...STANDARD_GHEC_DISCOUNT_SKUS],\n  git_lfs: [...STANDARD_LFS_BANDWIDTH_DISCOUNT_SKUS, ...STANDARD_LFS_STORAGE_DISCOUNT_SKUS],\n  packages: [...STANDARD_PACKAGES_BANDWIDTH_DISCOUNT_SKUS, ...STANDARD_PACKAGES_STORAGE_DISCOUNT_SKUS],\n  codespaces: [],\n}\n\n// Seat-based product costs\n// TODO: This should be pulled from the BP API after exposing pricing information in the products API\nexport const COPILOT_SEAT_COST = 19.0\nexport const GHEC_SEAT_COST = 21.0\nexport const GHAS_SEAT_COST = 49.0\n\nexport const UNIT_TYPE = [\n  'Unknown',\n  'Seconds',\n  'Minutes',\n  'Hours',\n  'Bytes',\n  'Megabytes',\n  'Gigabytes',\n  'ByteHours',\n  'MegabyteHours',\n  'GigabyteMonths',\n  'UserMonths',\n]\n","export * from './products'\n\nexport const GROUP_BY_NONE_TYPE = 0\nexport const GROUP_BY_PRODUCT_TYPE = 1\nexport const GROUP_BY_SKU_TYPE = 2\nexport const GROUP_BY_ORG_TYPE = 3\nexport const GROUP_BY_REPO_TYPE = 4\nexport const GROUP_BY_COSTCENTER_TYPE = 5\nexport const DEFAULT_GROUP_TYPE = GROUP_BY_NONE_TYPE\n\nexport const BUDGET_PRODUCT_ACTIONS = 'GitHub Actions'\n\nexport const BUDGET_SCOPE_CUSTOMER = 'CustomerResource'\nexport const BUDGET_SCOPE_ENTERPRISE = 'Enterprise'\nexport const BUDGET_SCOPE_ORGANIZATION = 'Org'\nexport const BUDGET_SCOPE_REPOSITORY = 'Repo'\nexport const BUDGET_SCOPE_COST_CENTER = 'CostCenterResource'\n\n// convert these to strings\nexport const PRICING_TARGET_TYPE_NONE = 0\nexport const PRICING_TARGET_TYPE_PRODUCT = 1\nexport const PRICING_TARGET_TYPE_SKU = 2\n\ntype budgetMaps = {\n  [key: string]: number\n}\n\nexport const BUDGET_PRODUCTS: budgetMaps = {\n  [BUDGET_PRODUCT_ACTIONS]: 1,\n}\n\nexport const ENTERPRISE_OWNER = 'owner'\nexport const BILLING_MANAGER = 'billing_manager'\nexport const ENTERPRISE_ORG_OWNER = 'enterprise_org_owner'\n\nexport const COLORS = ['green', 'blue', 'purple', 'red', 'brown']\n\nexport const ENTERPRISE_TRIAL_PLAN = 'enterprise_trial'\n\nexport const ERRORS = {\n  QUERY_USAGE_ERROR: 'Unable to query usage',\n  QUERY_BUDGETS_ERROR: 'Unable to query budgets',\n  QUERY_DISCOUNTS_ERROR: 'Unable to query discounts',\n  QUERY_INVOICES_ERROR: 'Unable to query invoices',\n  QUERY_AZURE_EMISSIONS_ERROR: 'Unable to query azure emissions',\n  QUERY_PRICINGS_ERROR: 'Unable to query pricings',\n  CREATE_PRODUCT_ERROR: 'There was an error adding the product',\n  UPDATE_PRODUCT_ERROR: 'There was an error updating the product',\n  PRODUCT_ENVIRONMENT_ERROR: 'Please confirm you want to change this environment.',\n  REQUIRED_FIELD_ERROR: 'Please complete required fields to continue.',\n  CREATE_SKU_PRICING_ERROR: 'There was a problem adding the SKU pricing',\n  UPDATE_SKU_PRICING_ERROR: 'There was a problem updating the SKU pricing',\n}\n\nexport const URLS = {\n  STAFFTOOLS_PRODUCTS: '/stafftools/billing/products',\n  STAFFTOOLS_NEW_PRODUCT: '/stafftools/billing/products/new',\n  STAFFTOOLS_BILLING_JOBS: '/stafftools/billing/billing_jobs',\n  STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB: '/stafftools/billing/billing_jobs/business_organization_billing_job',\n}\n\nexport const USAGE_REPORT_HOURLY_PERIOD = 0\nexport const USAGE_REPORT_LEGACY_REPORT = 5\n\n// Static UUID used to identify the public repo discount state.\n// https://github.com/github/billing-platform/blob/main/docs/discounts/discounts.md#public-repo-discounts\nexport const PUBLIC_REPO_DISCOUNT_UUID = '9cdf0dca-1b19-11ee-be56-0242ac120002'\n","import {useContext} from 'react'\nimport {Box, Link, Text} from '@primer/react'\nimport {OrganizationIcon, RepoIcon, GlobeIcon, CreditCardIcon} from '@primer/octicons-react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {BudgetLabel, BudgetProgressBar, BudgetWarningIcon, BudgetActionMenu} from '.'\nimport {ResourceType} from '../../enums/cost-centers'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {tableRowStyle} from '../../utils/style'\nimport {tableDataCellStyle, tableRowStyleRowtoCol} from './style'\nimport type {Budget} from '../../types/budgets'\nimport {\n  BUDGET_SCOPE_ORGANIZATION,\n  BUDGET_SCOPE_ENTERPRISE,\n  BUDGET_SCOPE_CUSTOMER,\n  BUDGET_SCOPE_REPOSITORY,\n} from '../../constants'\nimport useRoute from '../../hooks/use-route'\nimport {EDIT_BUDGET_ROUTE, EDIT_COST_CENTER_ROUTE, UPSERT_BUDGET_ROUTE} from '../../routes'\nimport {doRequest, HTTPMethod} from '../../hooks/use-request'\nimport type {Product} from '../../types/products'\nimport {PageContext} from '../../App'\n\ninterface Props {\n  budgetData: Budget\n  hasBudgetWritePermissions: boolean\n  deleteBudget: (budgetUuid: string) => void\n  enabledProducts?: Product[]\n}\n\nexport default function BudgetData({budgetData, hasBudgetWritePermissions, deleteBudget, enabledProducts}: Props) {\n  const {addToast} = useToastContext()\n  const {path: editBudgetPath} = useRoute(EDIT_BUDGET_ROUTE, {budgetUUID: budgetData.uuid})\n  const {path: deletePath} = useRoute(UPSERT_BUDGET_ROUTE, {budgetUUID: budgetData.uuid})\n  const {path: editCostCenterPath} = useRoute(EDIT_COST_CENTER_ROUTE, {costCenterUUID: budgetData.targetId})\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n\n  async function handleDeleteBudget() {\n    try {\n      const {ok} = await doRequest(HTTPMethod.DELETE, deletePath, {})\n      if (ok) {\n        deleteBudget(budgetData.uuid)\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: 'Budget deleted',\n          role: 'status',\n        })\n      } else {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: 'Unable to delete budget',\n          role: 'alert',\n        })\n      }\n    } catch {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'Unable to delete budget',\n        role: 'alert',\n      })\n    }\n  }\n\n  function IconType({type}: {type: string}) {\n    if (type === BUDGET_SCOPE_ORGANIZATION) {\n      return <OrganizationIcon size={16} />\n    } else if ([BUDGET_SCOPE_ENTERPRISE, BUDGET_SCOPE_CUSTOMER].includes(type)) {\n      return <GlobeIcon size={16} />\n    } else if (type === BUDGET_SCOPE_REPOSITORY) {\n      return <RepoIcon size={16} />\n    }\n    return <CreditCardIcon size={16} />\n  }\n\n  function fullTargetType(type: string) {\n    if (type === BUDGET_SCOPE_ORGANIZATION) {\n      return 'Organization'\n    } else if (type === BUDGET_SCOPE_REPOSITORY) {\n      return 'Repository'\n    } else if ([BUDGET_SCOPE_ENTERPRISE, BUDGET_SCOPE_CUSTOMER].includes(type)) {\n      return 'Enterprise'\n    } else if (type === ResourceType.CostCenterResource) {\n      return 'Cost center'\n    }\n    return ''\n  }\n\n  function getFriendlyProductName(pricingTargetId?: string): string {\n    if (!enabledProducts || !pricingTargetId) return ''\n\n    return enabledProducts.find(product => product.name === pricingTargetId)?.friendlyProductName ?? ''\n  }\n\n  return (\n    <>\n      <Box\n        as=\"tr\"\n        key={budgetData.uuid}\n        sx={{\n          ...tableRowStyle,\n          ...tableRowStyleRowtoCol,\n        }}\n      >\n        <Box as=\"td\" sx={{display: 'flex', flex: 3}}>\n          <Box sx={{pr: [0, 3, 3], display: ['none', 'flex', 'flex'], alignItems: 'center'}}>\n            <IconType type={budgetData.targetType} />\n          </Box>\n          <Box sx={{display: 'flex', alignItems: [null, 'center', 'center'], width: ['100%', '50%', 'auto']}}>\n            <Box sx={tableDataCellStyle}>\n              <Text sx={{fontSize: 0, color: 'fg.muted', mr: [1, 0, 0]}}>{fullTargetType(budgetData.targetType)}</Text>\n              {budgetData.targetType === ResourceType.CostCenterResource && !budgetData.targetName ? (\n                <Link href={editCostCenterPath} sx={{color: 'btn.text'}}>\n                  <Text sx={{fontWeight: 'normal'}}>View Details</Text>\n                </Link>\n              ) : (\n                <Text sx={{fontWeight: 'bold', fontSize: 1}}>{budgetData.targetName}</Text>\n              )}\n            </Box>\n            <BudgetLabel budgetCurrentAmount={budgetData.currentAmount} budgetTargetAmount={budgetData.targetAmount} />\n          </Box>\n        </Box>\n        <Box as=\"td\" sx={{flex: 1, ml: [0, 2, 2], mr: [0, 1, 2]}}>\n          <Box sx={tableDataCellStyle}>\n            <Text sx={{fontSize: 0, color: 'fg.muted'}}>Product</Text>\n            <Text sx={{fontSize: 1}}>{getFriendlyProductName(budgetData.pricingTargetId)}</Text>\n          </Box>\n        </Box>\n        <Box as=\"td\" sx={{flex: 1, ml: [0, 1, 2], mr: [0, 2, 2]}}>\n          <Box sx={tableDataCellStyle}>\n            <Text sx={{fontSize: 0, color: 'fg.muted'}}>Alerts</Text>\n            <Text sx={{fontSize: 1}}>{budgetData.alertEnabled ? 'On' : 'Off'}</Text>\n          </Box>\n        </Box>\n        <Box as=\"td\" sx={{flex: 3}}>\n          <Box sx={{display: 'flex', flexDirection: 'column', width: ['100%', 'auto', 'auto']}}>\n            <Box sx={{display: 'flex'}}>\n              <Box sx={{display: 'flex', flexDirection: 'column', justifyContent: 'center', flex: '1'}}>\n                <BudgetProgressBar\n                  budgetCurrentAmount={budgetData.currentAmount}\n                  budgetTargetAmount={budgetData.targetAmount}\n                />\n                <Box sx={{display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap'}}>\n                  <div>\n                    <BudgetWarningIcon isOverBudget={budgetData.currentAmount > budgetData.targetAmount} />\n                    <Text sx={{fontWeight: 'normal'}}>{formatMoneyDisplay(budgetData.currentAmount)}</Text>\n                    &nbsp;\n                    <Text sx={{fontWeight: 'light', fontSize: 0}}>spent</Text>\n                  </div>\n                  <div>\n                    <Text sx={{fontWeight: 'normal'}}>{formatMoneyDisplay(budgetData.targetAmount)}</Text>&nbsp;\n                    <Text sx={{fontWeight: 'light', fontSize: 0}}>budget</Text>\n                  </div>\n                </Box>\n              </Box>\n              {(hasBudgetWritePermissions || isStafftoolsRoute) && (\n                <BudgetActionMenu\n                  budgetId={budgetData.uuid}\n                  productName={getFriendlyProductName(budgetData.pricingTargetId)}\n                  targetType={budgetData.targetType}\n                  targetName={budgetData.targetName}\n                  editLink={editBudgetPath}\n                  onDeleteClick={handleDeleteBudget}\n                />\n              )}\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n    </>\n  )\n}\n\ntry{ BudgetData.displayName ||= 'BudgetData' } catch {}\ntry{ IconType.displayName ||= 'IconType' } catch {}","import {KebabHorizontalIcon} from '@primer/octicons-react'\nimport {ActionList, ActionMenu, Box, IconButton} from '@primer/react'\nimport {Chart} from 'chart.js'\nimport cloneDeep from 'lodash-es/cloneDeep'\n\nconst containerStyle = {\n  ml: 2,\n}\n\ninterface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  chartRef: React.MutableRefObject<any>\n}\n\nfunction createDownloadElement(name: string, image: string): HTMLAnchorElement {\n  const a = document.createElement('a')\n  a.href = image\n  a.download = `${name}.png`\n\n  return a\n}\n\nfunction UsageActions({chartRef}: Props) {\n  function downloadImage() {\n    if (!chartRef.current) return\n\n    const chart = chartRef.current\n\n    // Make a hidden clone of the Canvas and Chart so that we can add the title and subtitle into the downloadable image\n    const newCanvas = document.createElement('canvas')\n    newCanvas.style.display = 'none'\n    document.body.appendChild(newCanvas)\n\n    const newChart = new Chart(newCanvas, {\n      type: chart.config.type,\n      data: chart.config.data,\n      // We have to deep clone the original chart options otherwise you get shared references\n      // that cause the new Chart to affect the original\n      options: cloneDeep(chart.config.options),\n    })\n\n    newChart.options.animation = {\n      duration: 0,\n      // Use the onComplete callback to ensure that the line drawing animation completes before generating an image\n      onComplete: () => {\n        const downloadLink = createDownloadElement('all-usage-chart', newChart.toBase64Image())\n        downloadLink.click()\n        newChart.destroy()\n      },\n    }\n\n    // The title element is being hidden on the Overview page, so we need to make sure it actually exists before\n    // attempting to inject it into the copied chart\n    const titleElem = document.querySelector('#usage-chart-title') as HTMLElement\n    if (titleElem) {\n      // Use computed styles to ensure we respect themes\n      const titleStyle = getComputedStyle(titleElem)\n\n      newChart.options.responsiveAnimationDuration = 0\n      newChart.options.plugins.title = {\n        display: true,\n        text: titleElem.textContent,\n        align: 'start',\n        color: titleStyle.color,\n        font: {\n          size: titleStyle.fontSize,\n          weight: titleStyle.fontWeight,\n        },\n        padding: {\n          bottom: 0,\n        },\n      }\n    }\n\n    const subtitleElem = document.querySelector('#usage-chart-subtitle') as HTMLElement\n    const subtitleStyle = getComputedStyle(subtitleElem)\n\n    newChart.options.plugins.subtitle = {\n      display: true,\n      text: subtitleElem.textContent,\n      align: 'start',\n      color: subtitleStyle.color,\n      font: {\n        size: subtitleStyle.fontSize,\n        weight: subtitleStyle.fontWeight,\n      },\n      padding: {\n        bottom: 16,\n      },\n    }\n\n    newChart.update()\n  }\n\n  return (\n    <Box sx={containerStyle}>\n      <ActionMenu>\n        <ActionMenu.Anchor>\n          {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n          <IconButton\n            unsafeDisableTooltip={true}\n            icon={KebabHorizontalIcon}\n            variant=\"invisible\"\n            aria-label=\"Open column options\"\n          />\n        </ActionMenu.Anchor>\n        <ActionMenu.Overlay align=\"end\">\n          <ActionList selectionVariant=\"single\" showDividers sx={{whiteSpace: 'nowrap'}}>\n            <ActionList.Item onSelect={downloadImage}>Download graph as image</ActionList.Item>\n          </ActionList>\n        </ActionMenu.Overlay>\n      </ActionMenu>\n    </Box>\n  )\n}\n\nexport default UsageActions\n\ntry{ UsageActions.displayName ||= 'UsageActions' } catch {}","import {relayEnvironmentWithMissingFieldHandlerForNode} from '@github-ui/relay-environment'\nimport {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {ThemeProvider} from '@primer/react'\nimport type React from 'react'\nimport {createContext, useMemo, useState} from 'react'\nimport {RelayEnvironmentProvider} from 'react-relay'\n\ntype AppProps = {\n  children?: React.ReactNode\n}\n\nexport const PageContext = createContext({\n  isStafftoolsRoute: false,\n  isOrganizationRoute: false,\n  isEnterpriseRoute: false,\n})\n\n// Create a new context for triggering re-renders\nexport const ReloadContext = createContext({\n  reloadKey: 0,\n\n  setReloadKey: (_: number) => {},\n})\n\nconst environment = relayEnvironmentWithMissingFieldHandlerForNode()\n\nexport const App = (props: AppProps) => {\n  const isStafftoolsRoute = ssrSafeLocation.pathname.startsWith('/stafftools')\n  const isOrganizationRoute =\n    ssrSafeLocation.pathname.startsWith('/organizations') || ssrSafeLocation.pathname.startsWith('/stafftools/users')\n  const isEnterpriseRoute =\n    ssrSafeLocation.pathname.startsWith('/enterprises') ||\n    ssrSafeLocation.pathname.startsWith('/stafftools/enterprises')\n  const pageContext = useMemo(\n    () => ({isStafftoolsRoute, isOrganizationRoute, isEnterpriseRoute}),\n    [isStafftoolsRoute, isOrganizationRoute, isEnterpriseRoute],\n  )\n\n  const [reloadKey, setReloadKey] = useState(0)\n\n  const reloadContextValue = useMemo(() => ({reloadKey, setReloadKey}), [reloadKey, setReloadKey])\n\n  return (\n    <PageContext.Provider value={pageContext}>\n      <ReloadContext.Provider value={reloadContextValue}>\n        {isStafftoolsRoute ? (\n          <ThemeProvider colorMode={isStafftoolsRoute ? 'day' : undefined}>\n            <RelayEnvironmentProvider environment={environment}>\n              <div data-color-mode={isStafftoolsRoute ? 'light' : undefined}>{props.children}</div>\n            </RelayEnvironmentProvider>\n          </ThemeProvider>\n        ) : (\n          <RelayEnvironmentProvider environment={environment}>\n            <div>{props.children}</div>\n          </RelayEnvironmentProvider>\n        )}\n      </ReloadContext.Provider>\n    </PageContext.Provider>\n  )\n}\n\ntry{ PageContext.displayName ||= 'PageContext' } catch {}\ntry{ ReloadContext.displayName ||= 'ReloadContext' } catch {}\ntry{ App.displayName ||= 'App' } catch {}","import {\n  BUDGET_SCOPE_COST_CENTER,\n  BUDGET_SCOPE_ENTERPRISE,\n  BUDGET_SCOPE_ORGANIZATION,\n  BUDGET_SCOPE_REPOSITORY,\n} from '../constants'\n\nexport enum BudgetType {\n  // @ts-expect-error see https://github.com/microsoft/TypeScript/issues/58424 enums require statically analyzable syntax\n  COST_CENTER = BUDGET_SCOPE_COST_CENTER,\n  // @ts-expect-error see https://github.com/microsoft/TypeScript/issues/58424 enums require statically analyzable syntax\n  ENTERPRISE = BUDGET_SCOPE_ENTERPRISE,\n  // @ts-expect-error see https://github.com/microsoft/TypeScript/issues/58424 enums require statically analyzable syntax\n  ORG = BUDGET_SCOPE_ORGANIZATION,\n  // @ts-expect-error see https://github.com/microsoft/TypeScript/issues/58424 enums require statically analyzable syntax\n  REPO = BUDGET_SCOPE_REPOSITORY,\n}\n\nexport const enum BudgetLimitTypes {\n  AlertingOnly = 'AlertingOnly',\n  PreventFurtherUsage = 'PreventFurtherUsage',\n}\n","export enum CostCenterState {\n  Active = 'CostCenterActive',\n  Archived = 'CostCenterArchived',\n}\n\nexport enum CostCenterType {\n  NoCostCenter = 'NoCostCenter',\n  GitHubEnterpriseCustomer = 'GitHubEnterpriseCustomer',\n  ZuoraSubscription = 'ZuoraSubscription',\n  CreditCard = 'CreditCard',\n  AzureSubscription = 'AzureSubscription',\n}\n\nexport enum ResourceType {\n  NoTarget = 'NoTarget',\n  User = 'User',\n  Team = 'Team',\n  Repo = 'Repo',\n  Org = 'Org',\n  Enterprise = 'Enterprise',\n  CostCenterResource = 'CostCenterResource',\n}\n","import {BillingTarget} from '../enums'\nimport {CostCenterType} from '../enums/cost-centers'\nimport type {CustomerSelection} from '../types/usage'\n\nexport const getCostCenterType = (billingTarget?: BillingTarget) => {\n  if (billingTarget === BillingTarget.Azure) return CostCenterType.AzureSubscription\n  if (billingTarget === BillingTarget.Zuora) return CostCenterType.ZuoraSubscription\n\n  return CostCenterType.NoCostCenter\n}\n\nexport const getSelectedCustomerDisplayTest = (customer: CustomerSelection): string => {\n  if (!customer || customer.displayText === 'Metered usage (w/o cost centers)') {\n    return 'Metered usage'\n  }\n  return customer.displayText\n}\n","import type {DiscountState, Target} from '../types/customer'\nimport type {EnabledProduct} from '../types/products'\nimport {DiscountTargetType, DiscountType, DiscountTarget} from '../enums'\nimport type {DiscountAmount, DiscountAmountsMap, DiscountDataArray} from '../types/discounts'\nimport {formatMoneyDisplay} from '../utils/money'\n\nimport {\n  STANDARD_ACTIONS_STORAGE_DISCOUNT_SKUS,\n  STANDARD_ACTIONS_MINUTES_DISCOUNT_SKUS,\n  STANDARD_LFS_BANDWIDTH_DISCOUNT_SKUS,\n  STANDARD_LFS_STORAGE_DISCOUNT_SKUS,\n  STANDARD_PACKAGES_BANDWIDTH_DISCOUNT_SKUS,\n  STANDARD_PACKAGES_STORAGE_DISCOUNT_SKUS,\n  STANDARD_CFB_DISCOUNT_SKUS,\n  STANDARD_GHAS_DISCOUNT_SKUS,\n  STANDARD_GHEC_DISCOUNT_SKUS,\n  PUBLIC_REPO_DISCOUNT_UUID,\n  PRODUCT_DISCOUNT_SKU_MAP,\n} from '../constants'\n\n// Maps discount target types to a function that returns the text to display in the card\nconst DISCOUNT_TEXT_MAP: {[key in DiscountTargetType]: string[]} = {\n  [DiscountTargetType.ENTERPRISE]: ['Enterprise discount coupon'],\n  [DiscountTargetType.ORGANIZATION]: ['Discount for organizations'],\n  [DiscountTargetType.REPOSITORY]: ['Discount for repositories'],\n  [DiscountTargetType.PUBLIC_REPO]: ['Discount for usage in public repositories'],\n  [DiscountTargetType.SKU_ACTIONS_MINUTES]: ['Included Actions minutes'],\n  [DiscountTargetType.SKU_ACTIONS_STORAGE]: ['Included Actions storage GBs'],\n  [DiscountTargetType.SKU_CFB_SEATS]: ['Included Copilot spending'],\n  [DiscountTargetType.SKU_GHAS_SEATS]: ['Included Advanced Security spending'],\n  [DiscountTargetType.SKU_GHEC_SEATS]: ['Included Enterprise spending'],\n  [DiscountTargetType.SKU_LFS_BANDWIDTH]: ['Included LFS bandwidth GiBs'],\n  [DiscountTargetType.SKU_LFS_STORAGE]: ['Included LFS storage GiBs'],\n  [DiscountTargetType.SKU_PACKAGES_BANDWIDTH]: ['Included Packages bandwidth GiBs'],\n  [DiscountTargetType.SKU_PACKAGES_STORAGE]: ['Included Packages storage GiBs'],\n  [DiscountTargetType.UNSUPPORTED]: [''],\n}\n\n// Maps standard discount SKUs to a single SkuDiscountTargetType for grouping\nconst SKU_DISCOUNTS_MAP: Record<string, DiscountTargetType> = {}\nfor (const sku of STANDARD_ACTIONS_MINUTES_DISCOUNT_SKUS)\n  SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_ACTIONS_MINUTES\nfor (const sku of STANDARD_ACTIONS_STORAGE_DISCOUNT_SKUS)\n  SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_ACTIONS_STORAGE\nfor (const sku of STANDARD_CFB_DISCOUNT_SKUS) SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_CFB_SEATS\nfor (const sku of STANDARD_GHAS_DISCOUNT_SKUS) SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_GHAS_SEATS\nfor (const sku of STANDARD_GHEC_DISCOUNT_SKUS) SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_GHEC_SEATS\nfor (const sku of STANDARD_LFS_BANDWIDTH_DISCOUNT_SKUS) SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_LFS_BANDWIDTH\nfor (const sku of STANDARD_LFS_STORAGE_DISCOUNT_SKUS) SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_LFS_STORAGE\nfor (const sku of STANDARD_PACKAGES_BANDWIDTH_DISCOUNT_SKUS)\n  SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_PACKAGES_BANDWIDTH\nfor (const sku of STANDARD_PACKAGES_STORAGE_DISCOUNT_SKUS)\n  SKU_DISCOUNTS_MAP[sku] = DiscountTargetType.SKU_PACKAGES_STORAGE\n\nexport function filterbyEnabledProducts(enabledProducts: EnabledProduct[]): (discount: DiscountState) => boolean {\n  return function (discount: DiscountState) {\n    const enabled_sku_targets: string[] = []\n    for (const product of enabledProducts) {\n      enabled_sku_targets.push(...PRODUCT_DISCOUNT_SKU_MAP[product.name])\n    }\n    for (const target of discount.targets) {\n      if (target.type === 'SkuDiscount') {\n        if (enabled_sku_targets.includes(target.id)) {\n          return true\n        } else {\n          return false\n        }\n      } else {\n        break\n      }\n    }\n    return true\n  }\n}\n\n// Maps target amounts to text to display in the card for Actions minutes\nconst DISCOUNT_TARGET_TEXT_MAP: {[key in DiscountTargetType]?: {[key: number]: string[]}} = {\n  [DiscountTargetType.SKU_ACTIONS_MINUTES]: {\n    800: ['100,000 included Actions minutes', '(~$800.00 off*)'],\n    400: ['50,000 included Actions minutes', '(~$400.00 off*)'],\n    24: ['3,000 included Actions minutes', '(~$24.00 off*)'],\n    16: ['2,000 included Actions minutes', '(~$16.00 off*)'],\n  },\n  [DiscountTargetType.SKU_ACTIONS_STORAGE]: {\n    0.5: ['2 GB included Actions storage', '(~$0.50 off*)'],\n    0.125: ['.5 GB included Actions storage', '(~$0.125 off*)'],\n    12.5: ['50 GB included Actions storage', '(~$12.50 off*)'],\n    25: ['100 GB included Actions storage', '(~$25.00 off*)'],\n  },\n  [DiscountTargetType.SKU_LFS_STORAGE]: {\n    0.7: ['10 GB included Git LFS storage', '(~$0.70 off*)'],\n    17.5: ['250 GB included Git LFS storage', '(~$17.50 off*)'],\n  },\n  [DiscountTargetType.SKU_LFS_BANDWIDTH]: {\n    0.875: ['10 GB included Git LFS bandwidth', '(~$0.875 off*)'],\n    21.875: ['250 GB included Git LFS bandwidth', '(~$21.87 off*)'],\n  },\n  [DiscountTargetType.SKU_PACKAGES_STORAGE]: {\n    0.125: ['.5 GB included Packages storage', '(~$0.125 off*)'],\n    0.5: ['2 GB included Packages storage', '(~$0.50 off*)'],\n    12.5: ['50 GB included Packages storage', '(~$12.00 off*)'],\n  },\n  [DiscountTargetType.SKU_PACKAGES_BANDWIDTH]: {\n    0.5: ['1 GB included Packages data transfer', '(~$0.50 off*)'],\n    5: ['10 GB included Packages data transfer', '(~$5.00 off*)'],\n    50: ['100 GB included Packages data transfer', '(~$50.00 off*)'],\n  },\n}\n\nexport function getTextForDiscount(\n  discountAmount: DiscountAmount,\n  targetType: DiscountTargetType,\n  discountType: DiscountType,\n) {\n  const {targetAmount} = discountAmount\n  let text: string[] | undefined = DISCOUNT_TARGET_TEXT_MAP[targetType]?.[targetAmount]\n\n  // If no product-specific text was found, fall back to the general discount text\n  if (!text) {\n    text = DISCOUNT_TEXT_MAP[targetType]\n    if (discountType === DiscountType.FixedAmount) {\n      text[1] = `(${formatMoneyDisplay(targetAmount)} off)`\n    }\n    if (discountType === DiscountType.Percentage) {\n      text[1] = `(${targetAmount}% off)`\n    }\n\n    text = [text.join(' ')]\n  }\n\n  return text\n}\n\nexport function discountTargetToDiscountType(targetType: DiscountTarget, targetId: string, uuid: string) {\n  switch (targetType) {\n    case DiscountTarget.Enterprise:\n      return DiscountTargetType.ENTERPRISE\n    case DiscountTarget.SKU:\n      return SKU_DISCOUNTS_MAP[targetId] ?? DiscountTargetType.UNSUPPORTED\n    case DiscountTarget.Organization:\n      return DiscountTargetType.ORGANIZATION\n    case DiscountTarget.Repository:\n      return DiscountTargetType.REPOSITORY\n    case DiscountTarget.NoDiscountTarget:\n      return uuid === PUBLIC_REPO_DISCOUNT_UUID ? DiscountTargetType.PUBLIC_REPO : DiscountTargetType.UNSUPPORTED\n    default:\n      return DiscountTargetType.UNSUPPORTED\n  }\n}\n\nexport function getUpdatedDiscountAmounts(data: DiscountDataArray) {\n  const updatedDiscountAmounts: DiscountAmountsMap = {}\n\n  for (const discount of data) {\n    // The assumption is that all targets are of the same type if there are multiple\n    const {id: discountTargetId, type: discountTargetType} = (discount.targets[0] as Target) || {}\n    const uuid = discount.uuid ?? ''\n    const targetType = discountTargetToDiscountType(\n      discountTargetType ?? DiscountTarget.NoDiscountTarget,\n      discountTargetId ?? '',\n      uuid,\n    )\n    if (targetType === DiscountTargetType.UNSUPPORTED) continue\n\n    updatedDiscountAmounts[targetType] ||= {}\n\n    if (discount.percentage !== 0) {\n      updatedDiscountAmounts[targetType][DiscountType.Percentage] ||= []\n      updatedDiscountAmounts[targetType][DiscountType.Percentage]?.push({\n        appliedAmount: discount.currentAmount,\n        targetAmount: discount.percentage,\n      })\n    } else {\n      updatedDiscountAmounts[targetType][DiscountType.FixedAmount] ||= {\n        appliedAmount: 0,\n        targetAmount: 0,\n      }\n      updatedDiscountAmounts[targetType][DiscountType.FixedAmount].appliedAmount += discount.currentAmount\n      updatedDiscountAmounts[targetType][DiscountType.FixedAmount].targetAmount += discount.targetAmount\n    }\n  }\n\n  return updatedDiscountAmounts\n}\n","import {isProductUsageLineItem, isRepoUsageLineItem} from './types'\n\nimport type {Budget} from '../types/budgets'\nimport {BudgetType} from '../enums/budgets'\nimport {HighWatermarkProducts} from '../constants'\nimport {UsageGrouping} from '../enums'\nimport type {UsageLineItem} from '../types/usage'\nimport {formatMoneyDisplay} from './money'\n\nexport const findMatchingBudget = (row: UsageLineItem, budgets: Budget[], groupType: UsageGrouping): Budget | void => {\n  const budget = budgets.find(b => {\n    switch (groupType) {\n      case UsageGrouping.ORG:\n        // TODO: Verify org target type is correct\n        return b.targetType === BudgetType.ORG && isRepoUsageLineItem(row) && row.org.name === b.targetName\n      case UsageGrouping.REPO:\n        return (\n          b.targetType === BudgetType.REPO &&\n          isRepoUsageLineItem(row) &&\n          b.targetName === `${row.org.name}/${row.repo.name}`\n        )\n    }\n  })\n\n  return budget\n}\n\nexport const formatQuantityDisplay = (lineItem: UsageLineItem, digits = 2): string => {\n  const value = getQuantity(lineItem)\n  if (!isProductUsageLineItem(lineItem)) return value.toString()\n\n  let unit = ''\n  switch (lineItem.unitType) {\n    case 'Seconds':\n      unit = ' sec'\n      break\n    case 'Minutes':\n      unit = ' min'\n      break\n    case 'Hours':\n      unit = ' hr'\n      break\n    case 'Bytes':\n      unit = ' B'\n      break\n    case 'Megabytes':\n      unit = ' MB'\n      break\n    case 'Gigabytes':\n      unit = ' GB'\n      break\n    case 'ByteHours':\n      unit = ' B/h'\n      break\n    case 'MegabyteHours':\n      unit = ' MB/h'\n      break\n    case 'GigabyteHours':\n      unit = ' GB/h'\n      break\n    case 'GigabyteMonths':\n      unit = ' GB/month'\n      break\n    case 'UserMonths':\n      if (value === 1) unit = ' Seat'\n      else unit = ' Seats'\n      break\n    default:\n      unit = ''\n      break\n  }\n  const formatter = new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: digits,\n  })\n\n  return formatter.format(value) + unit\n}\n\nconst getQuantity = (usage: UsageLineItem): number => {\n  if (isProductUsageLineItem(usage) && usage.product in HighWatermarkProducts) {\n    return usage.fullQuantity > 0 ? usage.fullQuantity : usage.quantity\n  } else {\n    return usage.quantity\n  }\n}\n\nexport const getBilledAmount = (totalAmount: number | null | undefined, groupType: UsageGrouping) => {\n  if (groupType === UsageGrouping.REPO || groupType === UsageGrouping.ORG) {\n    return 'N/A'\n  }\n  if (typeof totalAmount === 'number') {\n    return formatMoneyDisplay(totalAmount)\n  } else return 'N/A'\n}\n","import {Box, Heading, Text, TextInput, Flash, FormControl, Octicon, Checkbox} from '@primer/react'\nimport {InfoIcon} from '@primer/octicons-react'\nimport {useState, useContext} from 'react'\n\nimport {PageContext} from '../../App'\nimport {COPILOT_SEAT_COST, GHEC_SEAT_COST, GHAS_SEAT_COST, HighWatermarkProducts} from '../../constants'\nimport {BudgetLimitTypes} from '../../enums/budgets'\n\ninterface Props {\n  budgetAmount: number | string\n  budgetLimitType: BudgetLimitTypes\n  setBudgetAmount: (budgetAmount: number | string) => void\n  setBudgetLimitType: (budgetLimitType: BudgetLimitTypes) => void\n  budgetProduct: string\n  action: 'create' | 'edit'\n}\n\nexport function BudgetAmount({\n  budgetAmount,\n  budgetLimitType,\n  setBudgetAmount,\n  setBudgetLimitType,\n  budgetProduct,\n  action,\n}: Props) {\n  const [validationMessage, setValidationMessage] = useState('')\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value\n    setValidationMessage('')\n    if (e.type !== 'blur') {\n      if (value === '' || !isNaN(Number(value))) {\n        setBudgetAmount(value === '' ? value : Number(value))\n      }\n    } else if (value === '') {\n      setBudgetAmount(0)\n    }\n  }\n\n  const isProductHighWaterMark = () => {\n    return Object.values(HighWatermarkProducts).includes(budgetProduct as HighWatermarkProducts)\n  }\n\n  const amountOfSeats = () => {\n    if (budgetProduct === HighWatermarkProducts.copilot) {\n      return (\n        <span>\n          <b>~ {Math.floor((budgetAmount as number) / COPILOT_SEAT_COST)} seats</b>{' '}\n          <Text sx={{color: 'fg.muted'}}>at ${COPILOT_SEAT_COST}/seat per month</Text>\n        </span>\n      )\n    } else if (budgetProduct === HighWatermarkProducts.ghas) {\n      return (\n        <span>\n          <b>~ {Math.floor((budgetAmount as number) / GHAS_SEAT_COST)} seats</b>{' '}\n          <Text sx={{color: 'fg.muted'}}>at ${GHAS_SEAT_COST}/seat per month</Text>\n        </span>\n      )\n    } else if (budgetProduct === HighWatermarkProducts.ghec) {\n      return (\n        <span>\n          <b>~ {Math.floor((budgetAmount as number) / GHEC_SEAT_COST)} seats</b>{' '}\n          <Text sx={{color: 'fg.muted'}}>at ${GHEC_SEAT_COST}/seat per month</Text>\n        </span>\n      )\n    }\n  }\n\n  const toggleBudgetLimitType = () => {\n    if (budgetLimitType === BudgetLimitTypes.AlertingOnly) {\n      setBudgetLimitType(BudgetLimitTypes.PreventFurtherUsage)\n    } else {\n      setBudgetLimitType(BudgetLimitTypes.AlertingOnly)\n    }\n  }\n\n  return (\n    <>\n      <Box sx={{paddingTop: 3, paddingBottom: 2}}>\n        <Heading as=\"h3\" sx={{fontSize: 2}} className=\"Box-title\">\n          Budget\n        </Heading>\n        <span>Set a budget amount to track your spending on a monthly basis.</span>\n        {isProductHighWaterMark() && (\n          <>\n            <Flash sx={{display: 'flex', mt: 3, mb: 2}}>\n              <Octicon icon={InfoIcon} size={20} sx={{mr: 2, pt: 1, color: 'accent.fg'}} />\n              <span>\n                Budgets for seat-based products do not limit the usage, and continue to track any spending beyond the\n                budget amount set by you.\n              </span>\n            </Flash>\n          </>\n        )}\n      </Box>\n      <div className=\"Box\">\n        <div className=\"Box-row\">\n          <Heading sx={{fontSize: 1}} as=\"h2\">\n            Budget amount\n          </Heading>\n          <div>\n            <Box sx={{display: 'flex', fontSize: 1}}>\n              <FormControl>\n                <FormControl.Label visuallyHidden>BudgetAmountInput</FormControl.Label>\n                <TextInput\n                  inputMode=\"numeric\"\n                  pattern=\"^[0-9]+$\" // only allow numbers\n                  maxLength={10}\n                  leadingVisual=\"$\"\n                  sx={{marginTop: 1, marginBottom: 3, maxWidth: '45em'}}\n                  data-testid=\"budget-amount-input\"\n                  placeholder=\"0\"\n                  value={budgetAmount}\n                  onChange={handleChange}\n                  onBlur={handleChange}\n                  name=\"budget-amount\"\n                />\n                {validationMessage && (\n                  <FormControl.Validation variant=\"error\">{validationMessage}</FormControl.Validation>\n                )}\n              </FormControl>\n              {isProductHighWaterMark() && (\n                <>\n                  <Text sx={{mt: 2, ml: 2}}>{amountOfSeats()}</Text>\n                </>\n              )}\n            </Box>\n            {!isProductHighWaterMark() && (\n              <>\n                <FormControl disabled={isStafftoolsRoute}>\n                  <Checkbox\n                    onChange={() => toggleBudgetLimitType()}\n                    checked={budgetLimitType === BudgetLimitTypes.PreventFurtherUsage}\n                    name=\"alert-checkbox\"\n                    data-testid=\"alert-checkbox\"\n                  />\n                  <FormControl.Label>Stop usage when budget limit is reached</FormControl.Label>\n                </FormControl>\n                <Text sx={{color: 'fg.muted'}}>This will limit your spending to the budget amount set by you.</Text>\n              </>\n            )}\n          </div>\n          {action === 'create' && (\n            <Box sx={{display: 'flex', mt: 2}}>\n              <Octicon icon={InfoIcon} size={20} sx={{mr: 2, pt: 1, color: 'accent.fg'}} />\n              <span>\n                Usage that has been generated prior to budget creation might not be included in your budgets for the\n                current billing cycle.\n              </span>\n            </Box>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n\ntry{ BudgetAmount.displayName ||= 'BudgetAmount' } catch {}","import {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {XIcon} from '@primer/octicons-react'\nimport {Box, IconButton, Text} from '@primer/react'\n\nimport {Fonts, listStyle} from '../../utils'\n\nimport type {Item} from '../../types/common'\n\ninterface Props<T> {\n  loading?: boolean\n  removeOption: (id: T) => void\n  selected: Array<Item<T>>\n  totalCount?: number\n}\n\nexport function SelectedRows<T>({loading = false, removeOption, selected, totalCount}: Props<T>) {\n  return (\n    <Box sx={{display: 'flex', flexDirection: 'column'}} data-testid=\"selected-rows-wrapper\">\n      <Text sx={{color: 'fg.muted', fontSize: 1}} data-testid=\"selected-rows-count\">\n        {totalCount && totalCount > 0 ? totalCount : selected.length} selected\n      </Text>\n      <ul data-testid=\"selected-rows-list\">\n        {loading\n          ? Array(totalCount)\n              .fill(null)\n              .map((_, idx) => (\n                <Box\n                  as=\"li\"\n                  key={idx}\n                  sx={{\n                    ...listStyle,\n                  }}\n                >\n                  <LoadingSkeleton variant=\"rounded\" sx={{width: '100%', height: '28px'}} />\n                </Box>\n              ))\n          : selected.map(item => (\n              <Box\n                as=\"li\"\n                key={String(item.id)}\n                sx={{\n                  ...listStyle,\n                }}\n              >\n                {item.rowLeadingVisual()}\n                <Text\n                  as=\"p\"\n                  sx={{\n                    flex: 1,\n                    px: 1,\n                    color: 'fg.subtle',\n                    whiteSpace: 'nowrap',\n                    textOverflow: 'ellipsis',\n                    overflow: 'hidden',\n                    m: 0,\n                    fontSize: Fonts.FontSizeSmall,\n                  }}\n                >\n                  {item.text}\n                </Text>\n                {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n                <IconButton\n                  unsafeDisableTooltip={true}\n                  icon={XIcon}\n                  variant=\"invisible\"\n                  size=\"small\"\n                  onClick={() => removeOption(item.id)}\n                  aria-label=\"Remove option\"\n                  style={{visibility: item.viewOnly ? 'hidden' : 'visible'}}\n                />\n              </Box>\n            ))}\n      </ul>\n    </Box>\n  )\n}\n\ntry{ SelectedRows.displayName ||= 'SelectedRows' } catch {}","import {GitHubAvatar} from '@github-ui/github-avatar'\nimport {ItemPicker} from '@github-ui/item-picker/ItemPicker'\nimport {debounce} from '@github/mini-throttle'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {TriangleDownIcon} from '@primer/octicons-react'\nimport {Box, Button} from '@primer/react'\nimport {useCallback, useMemo, useState, useEffect} from 'react'\nimport type {PreloadedQuery} from 'react-relay'\nimport {fetchQuery, graphql, readInlineData, usePreloadedQuery, useRelayEnvironment} from 'react-relay'\n\nimport {Spacing} from '../../utils'\n\nimport {SelectedRows} from './SelectedRows'\n\nimport type {UserPickerQuery as UserPickerQueryType} from './__generated__/UserPickerQuery.graphql'\nimport type {\n  UserPickerUserFragment$key,\n  UserPickerUserFragment$data,\n} from './__generated__/UserPickerUserFragment.graphql'\nimport type {UserPickerEnterpriseOwnersQuery as UserPickerEnterpriseOwnersQueryType} from './__generated__/UserPickerEnterpriseOwnersQuery.graphql'\n\nexport const UserPickerQuery = graphql`\n  query UserPickerQuery($slug: String!, $query: String) {\n    enterprise(slug: $slug) {\n      members(first: 10, query: $query) {\n        nodes {\n          ... on EnterpriseUserAccount {\n            user {\n              ...UserPickerUserFragment\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport const UserPickerUserFragment = graphql`\n  fragment UserPickerUserFragment on User @inline {\n    id\n    login\n    name\n    avatarUrl(size: 64)\n  }\n`\n\nexport const UserPickerEnterpriseOwnersQuery = graphql`\n  query UserPickerEnterpriseOwnersQuery($slug: String!) {\n    enterprise(slug: $slug) {\n      ownerInfo {\n        admins(first: 10) {\n          nodes {\n            ...UserPickerUserFragment\n          }\n        }\n      }\n    }\n  }\n`\n\nexport const UserPickerInitialUsersQuery = graphql`\n  query UserPickerInitialUsersQuery($ids: [ID!]!) {\n    nodes(ids: $ids) {\n      ...UserPickerUserFragment\n    }\n  }\n`\n\ninterface Props {\n  slug: string\n  onSelectionChange: (selected: User[]) => void\n  initialRecipients: User[]\n  preloadedEnterpriseOwnersData: PreloadedQuery<UserPickerEnterpriseOwnersQueryType>\n}\n\nexport type User = UserPickerUserFragment$data\n\nconst recipientsGroup = {groupId: 'recipients'}\nconst suggestionsGroup = {groupId: 'suggestions', header: {title: 'Suggestions', variant: 'filled'}}\n\nconst sortUsers = (recipients: User[], usersToSort: User[]) => {\n  return usersToSort.slice().sort((a, b) => {\n    const aIsRecipient = recipients.some(r => r.login === a.login)\n    const bIsRecipient = recipients.some(r => r.login === b.login)\n    if (aIsRecipient && !bIsRecipient) return -1\n    if (bIsRecipient && !aIsRecipient) return 1\n    return a.login.localeCompare(b.login)\n  })\n}\n\nexport const UserPicker = ({slug, onSelectionChange, preloadedEnterpriseOwnersData, initialRecipients}: Props) => {\n  const [loading, setLoading] = useState<boolean>(false)\n  const [searchResults, setSearchResults] = useState<User[] | undefined>()\n  const [recipients, setRecipients] = useState<User[]>([])\n  const [filter, setFilter] = useState<string>('')\n  const environment = useRelayEnvironment()\n  const {addToast} = useToastContext()\n\n  const enterpriseOwnersData = usePreloadedQuery<UserPickerEnterpriseOwnersQueryType>(\n    UserPickerEnterpriseOwnersQuery,\n    preloadedEnterpriseOwnersData,\n  )\n  const enterpriseOwners = (enterpriseOwnersData.enterprise?.ownerInfo?.admins.nodes || []).flatMap(node =>\n    // eslint-disable-next-line no-restricted-syntax\n    node ? [readInlineData<UserPickerUserFragment$key>(UserPickerUserFragment, node)] : [],\n  )\n\n  const getItemKey = useCallback((user: User) => user.login, [])\n\n  const items = useMemo(() => {\n    if (searchResults) {\n      return sortUsers(recipients, searchResults)\n    }\n    if (enterpriseOwners.length > 0) {\n      return sortUsers(\n        recipients,\n        recipients.concat(enterpriseOwners.filter(u => !recipients.find(r => r.login === u.login))),\n      )\n    }\n    return recipients\n  }, [searchResults, recipients, enterpriseOwners])\n\n  useEffect(() => {\n    setRecipients(initialRecipients)\n  }, [initialRecipients])\n\n  const groupItemId = useCallback(\n    (user: User) => {\n      if (recipients.find(r => r.id === user.id)) {\n        return recipientsGroup.groupId\n      }\n      return suggestionsGroup.groupId\n    },\n    [recipients],\n  )\n\n  const convertToItemProps = useCallback(\n    (user: User) => {\n      return {\n        id: user.id,\n        text: user.login,\n        description: user.name ?? '',\n        source: user,\n        groupId: groupItemId(user),\n        leadingVisual: () => <GitHubAvatar src={user.avatarUrl} alt=\"\" />,\n        rowLeadingVisual: () => <GitHubAvatar src={user.avatarUrl} alt=\"\" />,\n        viewOnly: false,\n      }\n    },\n    [groupItemId],\n  )\n\n  const onClose = useCallback(() => {\n    setSearchResults(undefined)\n  }, [])\n\n  const removeOption = (id: string) => {\n    const newRecipients = recipients.filter(r => r.id !== id)\n    setRecipients(newRecipients)\n    onSelectionChange(newRecipients)\n  }\n\n  const fetchSearchData = useCallback(\n    (query: string) => {\n      if (query === '') {\n        setSearchResults(undefined)\n        return\n      }\n      setLoading(true)\n      fetchQuery<UserPickerQueryType>(environment, UserPickerQuery, {slug, query}).subscribe({\n        next: data => {\n          const nodes = (data.enterprise?.members.nodes || []).flatMap(node =>\n            // eslint-disable-next-line no-restricted-syntax\n            node?.user ? [readInlineData<UserPickerUserFragment$key>(UserPickerUserFragment, node.user)] : [],\n          )\n          setSearchResults(nodes)\n          setLoading(false)\n        },\n        error: () => {\n          setLoading(false)\n          // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n          addToast({\n            type: 'error',\n            message: 'Unable to query users',\n            role: 'alert',\n          })\n        },\n      })\n    },\n    [slug, environment, addToast],\n  )\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounceFetchSearchData = useCallback(\n    debounce((nextValue: string) => fetchSearchData(nextValue), 200),\n    [fetchSearchData],\n  )\n\n  const filterItems = useCallback(\n    (value: string) => {\n      const trimmedFilter = value.trim()\n      if (filter !== trimmedFilter) {\n        debounceFetchSearchData(trimmedFilter)\n      }\n      setFilter(value)\n    },\n    [debounceFetchSearchData, filter],\n  )\n\n  const groups = useMemo(() => {\n    const itemGroups = []\n\n    const hasRecipients = items.some(i => recipients.find(r => r.id === i.id))\n    const hasSuggestions = items.some(i => !recipients.find(r => r.id === i.id))\n\n    if (hasRecipients) itemGroups.push(recipientsGroup)\n    if (hasSuggestions) itemGroups.push(suggestionsGroup)\n    return itemGroups\n  }, [recipients, items])\n\n  const onSelectedChanged = (selected: User[]) => {\n    setRecipients(selected)\n    onSelectionChange(selected)\n  }\n\n  return (\n    <div data-testid=\"user-picker\">\n      <Box sx={{mt: 2, mb: Spacing.StandardPadding}}>\n        <ItemPicker\n          items={items}\n          initialSelectedItems={recipients}\n          filterItems={filterItems}\n          getItemKey={getItemKey}\n          convertToItemProps={convertToItemProps}\n          placeholderText=\"Search for users\"\n          selectionVariant=\"multiple\"\n          loading={loading}\n          onSelectionChange={onSelectedChanged}\n          onClose={onClose}\n          renderAnchor={anchorProps => (\n            <Button trailingAction={TriangleDownIcon} {...anchorProps}>\n              Select recipients\n            </Button>\n          )}\n          groups={groups}\n        />\n      </Box>\n      <SelectedRows removeOption={removeOption} selected={recipients.map(convertToItemProps)} />\n    </div>\n  )\n}\n\ntry{ UserPicker.displayName ||= 'UserPicker' } catch {}","import {Box, Checkbox, FormControl, Heading, Spinner} from '@primer/react'\nimport type {User} from '../pickers/UserPicker'\nimport {\n  UserPicker,\n  UserPickerEnterpriseOwnersQuery,\n  UserPickerUserFragment,\n  UserPickerInitialUsersQuery,\n} from '../pickers/UserPicker'\nimport {fetchQuery, readInlineData, useQueryLoader, useRelayEnvironment} from 'react-relay'\nimport type {UserPickerEnterpriseOwnersQuery as UserPickerEnterpriseOwnersQueryType} from '../pickers/__generated__/UserPickerEnterpriseOwnersQuery.graphql'\nimport {Suspense, useEffect, useState, useContext} from 'react'\nimport type {UserPickerInitialUsersQuery as UserPickerInitialUsersQueryType} from '../pickers/__generated__/UserPickerInitialUsersQuery.graphql'\nimport type {UserPickerUserFragment$key} from '../pickers/__generated__/UserPickerUserFragment.graphql'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport type {EditBudget} from '../../types/budgets'\nimport {PageContext} from '../../App'\n\ninterface Props {\n  alertEnabled: EditBudget['alertEnabled']\n  alertRecipientUserIds: string[]\n  setAlertEnabled: (alertEnabled: EditBudget['alertEnabled']) => void\n  setAlertRecipientUserIds: (alertRecipientUsers: string[]) => void\n  slug: string\n}\n\nexport function BudgetAlertSelector({\n  alertEnabled,\n  alertRecipientUserIds,\n  setAlertEnabled,\n  setAlertRecipientUserIds,\n  slug,\n}: Props) {\n  const environment = useRelayEnvironment()\n  const {addToast} = useToastContext()\n  const [loading, setLoading] = useState<boolean>(false)\n  const [initialRecipients, setInitialRecipients] = useState<User[]>([])\n  const [enterpriseOwnersRef, loadEnterpriseOwners, disposeEnterpriseOwners] =\n    useQueryLoader<UserPickerEnterpriseOwnersQueryType>(UserPickerEnterpriseOwnersQuery)\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n\n  useEffect(() => {\n    loadEnterpriseOwners({slug})\n    return () => {\n      disposeEnterpriseOwners()\n    }\n  }, [slug, loadEnterpriseOwners, disposeEnterpriseOwners, alertRecipientUserIds])\n\n  const toggleReceiveAlerts = () => {\n    setAlertEnabled(!alertEnabled)\n  }\n\n  const handleRecipientsChange = (users: User[]) => {\n    const selectedRecipients = users.filter(u => !!u.id).map(u => u.id)\n    setAlertRecipientUserIds(selectedRecipients)\n  }\n\n  useEffect(() => {\n    setLoading(true)\n    fetchQuery<UserPickerInitialUsersQueryType>(environment, UserPickerInitialUsersQuery, {\n      ids: alertRecipientUserIds,\n    }).subscribe({\n      next: data => {\n        const nodes = (data.nodes || []).flatMap(node =>\n          // eslint-disable-next-line no-restricted-syntax\n          node ? [readInlineData<UserPickerUserFragment$key>(UserPickerUserFragment, node)] : [],\n        )\n        handleRecipientsChange(nodes)\n        setInitialRecipients(nodes)\n        setLoading(false)\n      },\n      error: () => {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({type: 'error', message: 'Unable to get currrent user', role: 'alert'})\n        setLoading(false)\n      },\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [environment])\n\n  return (\n    <>\n      <Box sx={{paddingBottom: 2, paddingTop: 3}}>\n        <Heading as=\"h3\" sx={{fontSize: 2}} className=\"Box-title\">\n          Alerts\n        </Heading>\n        <span>\n          Get emails and GitHub notifications when your spending has reached 75%, 90%, and 100% of the budget threshold.\n        </span>\n      </Box>\n      <div className=\"Box\">\n        <div className=\"Box-row\">\n          <FormControl disabled={isStafftoolsRoute}>\n            <Checkbox checked={alertEnabled} onChange={toggleReceiveAlerts} name=\"alert-checkbox\" />\n            <FormControl.Label>Receive budget threshold alerts</FormControl.Label>\n          </FormControl>\n        </div>\n      </div>\n      {alertEnabled && (\n        <Box sx={{paddingBottom: 2, paddingTop: 3}}>\n          <Heading as=\"h2\" sx={{fontSize: 1}}>\n            Alert recipients\n          </Heading>\n          <span>These people will get notified via email if this budget has reached the specific threshold.</span>\n          <Suspense fallback={<Spinner size=\"small\" />}>\n            {enterpriseOwnersRef && !loading && (\n              <UserPicker\n                slug={slug}\n                initialRecipients={initialRecipients}\n                onSelectionChange={handleRecipientsChange}\n                preloadedEnterpriseOwnersData={enterpriseOwnersRef}\n              />\n            )}\n          </Suspense>\n        </Box>\n      )}\n    </>\n  )\n}\n\ntry{ BudgetAlertSelector.displayName ||= 'BudgetAlertSelector' } catch {}","import {Box, Heading, FormControl, RadioGroup, Radio} from '@primer/react'\n\nimport type {Product} from '../../types/products'\n\ninterface Props {\n  products: Product[]\n  budgetProduct: string\n  setBudgetProduct: React.Dispatch<React.SetStateAction<string>>\n}\n\nexport function BudgetProductSelector({products, budgetProduct, setBudgetProduct}: Props) {\n  return (\n    <>\n      <Box sx={{py: 2}}>\n        <Heading as=\"h3\" sx={{fontSize: 2}} className=\"Box-title\">\n          Product\n        </Heading>\n        <RadioGroup\n          name=\"budget-product-choices\"\n          aria-labelledby=\"budget-product-choices\"\n          onChange={selection => selection && setBudgetProduct(selection)}\n          sx={{mt: 2, mb: 4}}\n        >\n          <RadioGroup.Label sx={{fontSize: 1}}>Select the product to include in this budget.</RadioGroup.Label>\n          <div className=\"Box\">\n            {products.map(product => (\n              <div key={product.name} className=\"Box-row\">\n                <FormControl>\n                  <Radio value={product.name} name=\"product\" checked={budgetProduct === product.name} />\n                  <FormControl.Label>{product.friendlyProductName}</FormControl.Label>\n                </FormControl>\n              </div>\n            ))}\n          </div>\n        </RadioGroup>\n      </Box>\n    </>\n  )\n}\n\ntry{ BudgetProductSelector.displayName ||= 'BudgetProductSelector' } catch {}","import {useState} from 'react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport type {CostCenter} from '../../types/cost-centers'\nimport useRequest from '../use-request'\nimport {COST_CENTERS_ROUTE} from '../../routes'\n\n// type UseCostCentersPageProps = {}\n\nfunction useCostCentersPage() {\n  const [costCenters, setCostCenters] = useState<CostCenter[]>([])\n  const {addToast} = useToastContext()\n\n  useRequest({\n    route: COST_CENTERS_ROUTE,\n    onStart: () => setCostCenters([]),\n    onSuccess: response => setCostCenters(response.data.payload.activeCostCenters),\n    onError: () =>\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({type: 'error', message: 'Unable to query cost centers'}),\n  })\n  return {costCenters}\n}\n\nexport default useCostCentersPage\n","import {ActionList, Box, Button, Text} from '@primer/react'\nimport {useState} from 'react'\n\nimport type {Item} from '../../types/common'\nimport {Fonts} from '../../utils'\n\ntype Props<T> = {\n  items: Array<Item<T>>\n  // The total number of available items. Sometimes this may be larger\n  totalItemsCount: number\n  initialSelected: Array<Item<T>>\n  pickerType: string\n  initialSelectAll: boolean\n  onDialogSubmit: (newSelected: Array<Item<T>>, newSelectAll: boolean) => void\n  selectionVariant?: 'single' | 'multiple'\n}\n\nexport function ItemPicker<T>({\n  items,\n  totalItemsCount,\n  initialSelected,\n  initialSelectAll,\n  pickerType,\n  onDialogSubmit,\n  selectionVariant,\n}: Props<T>) {\n  const [selected, setSelected] = useState<Array<Item<T>>>(initialSelected || [])\n  const [selectAll] = useState(initialSelectAll)\n\n  const isSelected = (item: Item<T>) => selectAll || !!selected.find(i => i.id === item.id)\n  const isDisabled = () => selectAll\n\n  const hiddenItems = items.filter(item => item.viewOnly)\n  const shownItems = items.filter(item => !item.viewOnly)\n\n  const handleItemSelect = (item: Item<T>) => {\n    if (!selectionVariant) return\n\n    if (selectionVariant === 'multiple') {\n      toggleMultiItem(item)\n    } else {\n      setSelected([item])\n    }\n  }\n\n  const toggleMultiItem = (newItem: Item<T>) => {\n    const itemIndex = selected.findIndex(item => item.id === newItem.id)\n\n    if (itemIndex === -1) {\n      // Place the item after other editable items, but before any view-only items\n      setSelected([...selected.filter(item => !item.viewOnly), newItem, ...hiddenItems])\n    } else {\n      setSelected(selected.filter((_, index) => index !== itemIndex))\n    }\n  }\n\n  // const handleSelectAllChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n  //   setSelectAll(event.target.checked)\n  //\n  //   if (event.target.checked) {\n  //     setSelected(items)\n  //   } else {\n  //     setSelected([])\n  //   }\n  // }\n\n  return (\n    <div>\n      {/*\n      {selectionVariant === 'multiple' && (\n        <Box\n          sx={{\n            borderBottomColor: 'border.default',\n            borderBottomWidth: 1,\n            borderBottomStyle: 'solid',\n            bg: 'canvas.subtle',\n          }}\n        >\n          <Box sx={{py: 1, px: 3}}>\n            <FormControl>\n              <Checkbox aria-labelledby=\"select-all\" onChange={handleSelectAllChange} checked={selectAll} />\n              <FormControl.Label id=\"select-all\" sx={{color: 'fg.muted'}}>\n                Select all\n              </FormControl.Label>\n            </FormControl>\n          </Box>\n        </Box>\n      )}\n\t  */}\n\n      <Box\n        sx={{\n          mt: 1,\n          overflow: 'auto',\n          maxHeight: '50vh',\n        }}\n      >\n        {items.length === 0 ? (\n          <Text sx={{display: 'block', fontSize: 1, m: 2, color: 'fg.muted'}}>No {pickerType} match that search</Text>\n        ) : (\n          <ActionList selectionVariant={selectionVariant} role=\"listbox\" aria-label={`${pickerType} selector`}>\n            {shownItems.map(item => (\n              <ActionList.Item\n                key={String(item.id)}\n                role=\"option\"\n                disabled={isDisabled()}\n                selected={isSelected(item)}\n                aria-checked={isSelected(item)}\n                onSelect={() => handleItemSelect(item)}\n              >\n                <ActionList.LeadingVisual>{item.leadingVisual()}</ActionList.LeadingVisual>\n                {item.text}\n              </ActionList.Item>\n            ))}\n          </ActionList>\n        )}\n      </Box>\n      <Box sx={{p: 3, pt: 0}}>\n        <Text sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n          Showing {shownItems.length} of {totalItemsCount} {pickerType}\n        </Text>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-end',\n          p: 3,\n          borderTopColor: 'border.default',\n          borderTopWidth: 1,\n          borderTopStyle: 'solid',\n        }}\n      >\n        <Button\n          variant=\"primary\"\n          onClick={() => {\n            onDialogSubmit(selected, selectAll)\n          }}\n        >\n          Select {pickerType}\n        </Button>\n      </Box>\n    </div>\n  )\n}\n\ntry{ ItemPicker.displayName ||= 'ItemPicker' } catch {}","import {Box, Text, TextInput, Spinner} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport {SearchIcon} from '@primer/octicons-react'\nimport {ItemPicker} from './ItemPicker'\n\nimport type {Item} from '../../types/common'\nimport {useRef} from 'react'\n\ntype Props<T> = {\n  open: boolean\n  resetDialog: () => void\n  filter: (filter: string) => void\n  selectAll: boolean\n  selected: Array<Item<T>>\n  onDialogSubmit: (newSelected: Array<Item<T>>, newSelectAll: boolean) => void\n  items: Array<Item<T>>\n  pickerType: string\n  loading: boolean\n  selectionVariant?: 'multiple' | 'single'\n  entityType?: 'budget' | 'cost center'\n  totalItemsCount: number\n}\n\nexport function PickerDialog<T>({\n  items,\n  open,\n  resetDialog,\n  filter,\n  selected,\n  selectAll,\n  onDialogSubmit,\n  pickerType,\n  loading,\n  selectionVariant,\n  entityType = 'budget',\n  totalItemsCount,\n}: Props<T>) {\n  const callFilterChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    filter(event.target.value.toLowerCase())\n  }\n\n  const returnFocusRef = useRef(null)\n\n  if (!open) return null\n\n  return (\n    <Dialog\n      role=\"dialog\"\n      onClose={() => resetDialog()}\n      title={`Select ${pickerType}`}\n      returnFocusRef={returnFocusRef}\n      aria-labelledby=\"picker-header\"\n      sx={{overflowY: 'auto'}}\n    >\n      <div>\n        <Box sx={{p: 3, pb: 0}}>\n          <Text sx={{fontFamily: 'sans-serif', fontSize: '14px'}}>\n            Select the {pickerType} to include in this {entityType}. You can only add/remove the {pickerType} that you\n            have access to.\n          </Text>\n          <TextInput\n            block\n            leadingVisual={SearchIcon}\n            aria-label={pickerType}\n            name={pickerType}\n            placeholder={`Search ${pickerType}`}\n            onChange={callFilterChange}\n            disabled={selectAll}\n            sx={{mt: 3, mb: 1}}\n          />\n        </Box>\n      </div>\n      {loading ? (\n        <Box sx={{display: 'flex', justifyContent: 'center', m: 3}}>\n          <Spinner />\n        </Box>\n      ) : (\n        <ItemPicker\n          items={items}\n          totalItemsCount={totalItemsCount}\n          initialSelected={selected}\n          initialSelectAll={selectAll}\n          pickerType={pickerType}\n          onDialogSubmit={onDialogSubmit}\n          selectionVariant={selectionVariant}\n        />\n      )}\n    </Dialog>\n  )\n}\n\ntry{ PickerDialog.displayName ||= 'PickerDialog' } catch {}","import {OrganizationIcon, TriangleDownIcon} from '@primer/octicons-react'\nimport {Button, Box} from '@primer/react'\nimport {useCallback, useMemo, useState} from 'react'\n\nimport useCostCentersPage from '../../hooks/cost_centers/use-cost-centers-page'\nimport {Spacing} from '../../utils'\n\nimport {SelectedRows} from './SelectedRows'\nimport {PickerDialog} from './PickerDialog'\n\nimport type {Item} from '../../types/common'\nimport type {CostCenter} from '../../types/cost-centers'\nimport {debounce} from '@github/mini-throttle'\n\ninterface Props {\n  setAllSelectedCostCenters: (selectedIds: string[]) => void\n  initialSelectedItems: string[]\n  selectionVariant?: 'multiple' | 'single'\n}\n\nexport function CostCenterPicker({setAllSelectedCostCenters, initialSelectedItems, selectionVariant}: Props) {\n  const [open, setOpen] = useState<boolean>(false)\n  const {costCenters: costCenters} = useCostCentersPage()\n  const [searchResults, setSearchResults] = useState<Array<Item<string>>>([])\n  const [searchFilter, setSearchFilter] = useState<string>('')\n  const [searchResultsLoading, setSearchResultsLoading] = useState<boolean>(false)\n\n  const convertToItemProps = (item: CostCenter) => {\n    return {\n      id: item.costCenterKey.uuid,\n      text: item.name,\n      leadingVisual: () => <OrganizationIcon />,\n      rowLeadingVisual: () => <OrganizationIcon />,\n      viewOnly: false,\n    }\n  }\n  const convertedItems = costCenters.map((item: CostCenter): Item<string> => {\n    return convertToItemProps(item)\n  })\n\n  const selectedItems = convertedItems.filter(item => initialSelectedItems.includes(item.id))\n  const [selected, setSelected] = useState<Array<Item<string>>>(selectedItems)\n\n  const fetchSearchData = useCallback(\n    (query: string) => {\n      setSearchResultsLoading(true)\n      const filtered = costCenters.filter(center => center.name.toLowerCase().includes(query.toLowerCase()))\n      const converted = filtered.map((center: CostCenter): Item<string> => convertToItemProps(center))\n      setSearchResults(converted)\n      setSearchResultsLoading(false)\n    },\n    [costCenters],\n  )\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounceFetchSearchData = useCallback(\n    debounce((nextValue: string) => fetchSearchData(nextValue), 200),\n    [fetchSearchData],\n  )\n\n  // Filter function, fetch items containing search query in name\n  const filterItems = useCallback(\n    (value: string) => {\n      const trimmedFilter = value.trim()\n      if (searchFilter !== trimmedFilter) {\n        debounceFetchSearchData(trimmedFilter)\n      }\n      setSearchFilter(value)\n    },\n    [debounceFetchSearchData, searchFilter],\n  )\n\n  // Return search results\n  const items = useMemo(() => {\n    if (searchFilter === '') return convertedItems\n    return searchResults\n  }, [searchResults, searchFilter, convertedItems])\n\n  const canRemoveOption = selected.length > 0\n  const removeOption = (id: string) => {\n    if (!canRemoveOption) return\n\n    const newOptions = selected.filter(option => option.id !== id)\n    setSelected(newOptions)\n    if (setAllSelectedCostCenters) {\n      setAllSelectedCostCenters(newOptions.map(opt => opt.id))\n    }\n  }\n\n  const onDialogSubmit = (newSelected: Array<Item<string>>) => {\n    setOpen(false)\n    setSelected(newSelected)\n    if (setAllSelectedCostCenters) {\n      setAllSelectedCostCenters(newSelected.map(opt => opt.id))\n    }\n  }\n\n  const resetDialog = () => {\n    setOpen(false)\n    setSelected(selected)\n    if (setAllSelectedCostCenters) {\n      setAllSelectedCostCenters(selected.map(opt => opt.id))\n    }\n  }\n\n  return (\n    <Box sx={{ml: 4}}>\n      <Button\n        onClick={() => {\n          setOpen(true)\n        }}\n        sx={{mb: Spacing.StandardPadding}}\n        trailingAction={TriangleDownIcon}\n      >\n        Select cost center\n      </Button>\n      <PickerDialog\n        open={open}\n        resetDialog={resetDialog}\n        filter={filterItems}\n        selectAll={false}\n        selected={selected}\n        onDialogSubmit={onDialogSubmit}\n        items={items}\n        totalItemsCount={convertedItems.length}\n        pickerType=\"cost center\"\n        loading={searchResultsLoading}\n        selectionVariant={selectionVariant}\n      />\n      <SelectedRows selected={selected} removeOption={removeOption} />\n    </Box>\n  )\n}\n\ntry{ CostCenterPicker.displayName ||= 'CostCenterPicker' } catch {}","import type {PaginationProps} from '@primer/react'\nimport {Box, Text, Pagination} from '@primer/react'\n\ntype onPageChangeType = PaginationProps['onPageChange']\n\ninterface Props {\n  pageSize?: number\n  pageCount: number\n  currentPage: number\n  onPageChange: onPageChangeType\n  totalResources: number\n}\n\nexport default function ResourcePaginator({\n  pageSize = 10,\n  pageCount,\n  currentPage,\n  totalResources,\n  onPageChange,\n}: Props) {\n  return (\n    <>\n      {totalResources > pageSize && (\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            borderTopColor: 'border.default',\n            borderTopWidth: 1,\n            borderTopStyle: 'solid',\n            marginTop: '12px',\n          }}\n          data-testid=\"pagination-wrapper\"\n        >\n          <Text as=\"p\" sx={{mb: 0, color: 'fg.muted', fontSize: 1}} data-testid=\"pagination-page-text\">\n            {currentPage === 1 ? 1 : (currentPage - 1) * pageSize + 1}-{currentPage * pageSize} of {totalResources}\n          </Text>\n          <Pagination\n            pageCount={pageCount}\n            currentPage={currentPage}\n            onPageChange={onPageChange}\n            aria-label=\"Cost center resource pagination\"\n          />\n        </Box>\n      )}\n    </>\n  )\n}\n\ntry{ ResourcePaginator.displayName ||= 'ResourcePaginator' } catch {}","import {Heading} from '@primer/react'\nimport {Fonts, Spacing} from '../../utils/style'\n\ninterface Props {\n  title: string\n}\n\nexport function PickerHeader({title}: Props) {\n  return (\n    <Heading as=\"h4\" sx={{mb: Spacing.StandardPadding, fontSize: Fonts.CardHeadingFontSize}}>\n      {title}\n    </Heading>\n  )\n}\n\ntry{ PickerHeader.displayName ||= 'PickerHeader' } catch {}","import {debounce} from '@github/mini-throttle'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {TriangleDownIcon} from '@primer/octicons-react'\nimport type {Pagination} from '@primer/react'\nimport {Button, Box, Text, FormControl} from '@primer/react'\nimport Pluralize from 'pluralize'\nimport {useCallback, useMemo, useState, useEffect} from 'react'\nimport type {PreloadedQuery} from 'react-relay'\nimport {fetchQuery, graphql, readInlineData, usePreloadedQuery, useRelayEnvironment} from 'react-relay'\n\nimport {Fonts, Spacing} from '../../utils'\nimport ResourcePaginator from './ResourcePaginator'\nimport {SelectedRows} from './SelectedRows'\nimport {PickerDialog} from './PickerDialog'\n\nimport type {OrganizationPickerRecentQuery as OrganizationPickerQueryType} from './__generated__/OrganizationPickerRecentQuery.graphql'\nimport type {OrganizationPickerInitialQuery as OrganizationPickerInitialQueryType} from './__generated__/OrganizationPickerInitialQuery.graphql'\nimport type {\n  OrganizationPickerFragment$key,\n  OrganizationPickerFragment$data,\n} from './__generated__/OrganizationPickerFragment.graphql'\n\nimport type {Item} from '../../types/common'\nimport {PickerHeader} from './PickerHeader'\n\ntype Organization = OrganizationPickerFragment$data\n\nexport const OrganizationPickerRecentQuery = graphql`\n  query OrganizationPickerRecentQuery($slug: String!, $query: String) {\n    enterprise(slug: $slug) {\n      organizations(first: 50, query: $query, orderBy: {field: CREATED_AT, direction: DESC}) {\n        totalCount\n        nodes {\n          ...OrganizationPickerFragment\n        }\n      }\n    }\n  }\n`\n\nexport const OrganizationPickerFragment = graphql`\n  fragment OrganizationPickerFragment on Organization @inline {\n    id\n    login\n    avatarUrl\n  }\n`\n\nexport const OrganizationPickerInitialQuery = graphql`\n  query OrganizationPickerInitialQuery($ids: [ID!]!) {\n    nodes(ids: $ids) {\n      ...OrganizationPickerFragment\n    }\n  }\n`\n\nconst pageSize = 10\n\ninterface Props {\n  initialSelectedItemIds: string[]\n  preloadedOrganizationsRef: PreloadedQuery<OrganizationPickerQueryType>\n  slug: string\n  setSelectedItems: (selectedIds: string[]) => void\n  entityType?: 'budget' | 'cost center'\n  indent?: boolean\n  selectionVariant?: 'multiple' | 'single'\n  valid?: boolean\n  // Optionally display the picker in view-only mode\n  viewOnly?: boolean\n}\n\nexport function OrganizationPicker({\n  initialSelectedItemIds,\n  slug,\n  preloadedOrganizationsRef,\n  setSelectedItems,\n  entityType = 'budget',\n  indent = true,\n  selectionVariant,\n  valid,\n  viewOnly = false,\n}: Props) {\n  const [localSelected, setLocalSelected] = useState<Array<Item<string>>>([])\n  const [selectedCount, setSelectedCount] = useState<number>(initialSelectedItemIds.length)\n  const [itemsLoading, setItemsLoading] = useState<boolean>(false)\n\n  const [selectAll, setSelectAll] = useState<boolean>(false)\n  const [open, setOpen] = useState<boolean>(false)\n  const [searchResults, setSearchResults] = useState<Array<Item<string>> | undefined>(undefined)\n  const [searchResultsLoading, setSearchResultsLoading] = useState<boolean>(false)\n  const [searchFilter, setSearchFilter] = useState<string>('')\n\n  const [pageCount, setPageCount] = useState(1)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [pagedItems, setPagedItems] = useState<Array<Item<string>>>([])\n\n  const {addToast} = useToastContext()\n  const environment = useRelayEnvironment()\n\n  const convertToItemProps = (item: Organization) => {\n    return {\n      id: item.id,\n      text: item.login,\n      leadingVisual: () => <GitHubAvatar square src={item.avatarUrl} alt=\"Organizations login\" />,\n      rowLeadingVisual: () => <GitHubAvatar square src={item.avatarUrl} alt=\"Organizations login\" />,\n      viewOnly,\n    }\n  }\n\n  // Update the page division when the user changes pages\n  useEffect(() => {\n    setPageCount(Math.ceil(localSelected.length / (1.0 * pageSize)) || 1)\n    setPagedItems(localSelected.slice((currentPage - 1) * pageSize, currentPage * pageSize))\n  }, [localSelected, currentPage])\n\n  const onPageChange: Parameters<typeof Pagination>['0']['onPageChange'] = (e, page) => {\n    e.preventDefault()\n    setCurrentPage(page)\n  }\n\n  const preloadedOrganizations = usePreloadedQuery<OrganizationPickerQueryType>(\n    OrganizationPickerRecentQuery,\n    preloadedOrganizationsRef,\n  )\n  const totalOrganizationCount = preloadedOrganizations.enterprise?.organizations.totalCount || 0\n  const fetchedOrgs = useMemo(() => {\n    const nodes = (preloadedOrganizations.enterprise?.organizations.nodes || []).flatMap(node =>\n      // eslint-disable-next-line no-restricted-syntax\n      node ? [readInlineData<OrganizationPickerFragment$key>(OrganizationPickerFragment, node)] : [],\n    )\n    return nodes\n  }, [preloadedOrganizations.enterprise?.organizations.nodes])\n\n  useEffect(() => {\n    if (!initialSelectedItemIds.length) return\n\n    setItemsLoading(true)\n\n    /*\n    queries have an argument limit of 100 node ids so we are batching them to fetch all organizations\n    https://github.com/github/github/blob/0aeff718576cfc236cdcf082ab0bb68cbd35dca3/lib/platform/objects/query.rb#L86\n    */\n    const BATCH_SIZE = 100\n    const chunks: string[][] = []\n    for (let i = 0; i < initialSelectedItemIds.length; i += BATCH_SIZE) {\n      chunks.push(initialSelectedItemIds.slice(i, i + BATCH_SIZE))\n    }\n\n    const promises = chunks.map(chunk => {\n      return new Promise<Array<Item<string>>>((resolve, reject) => {\n        fetchQuery<OrganizationPickerInitialQueryType>(environment, OrganizationPickerInitialQuery, {\n          ids: chunk,\n        }).subscribe({\n          next: data => {\n            const nodes = (data.nodes || []).flatMap(node =>\n              // eslint-disable-next-line no-restricted-syntax\n              node ? [readInlineData<OrganizationPickerFragment$key>(OrganizationPickerFragment, node)] : [],\n            )\n            const organizations = nodes.map(n => convertToItemProps(n))\n            resolve(organizations)\n          },\n          error: (err: Error) => {\n            reject(err)\n          },\n        })\n      })\n    })\n\n    const loadOrganizationsData = async () => {\n      try {\n        const results = await Promise.all<Array<Item<string>>>(promises)\n        const allOrganizations = results.flat()\n        setLocalSelected(allOrganizations)\n        setPageCount(Math.ceil(allOrganizations.length / (1.0 * pageSize)) || 1)\n        setPagedItems(allOrganizations.slice((currentPage - 1) * pageSize, currentPage * pageSize))\n        setItemsLoading(false)\n      } catch (error) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: 'Unable to load organizations',\n        })\n        setItemsLoading(false)\n      }\n    }\n\n    loadOrganizationsData()\n\n    // We only want to run this effect when first loading for an edit page.\n    // currentPage will only change in the viewOnly mode so this effect will still run only once in edit mode.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPage])\n\n  const items = useMemo(() => {\n    if (searchResults) return searchResults\n    return fetchedOrgs\n      .map(i => convertToItemProps(i))\n      .concat(localSelected.filter(o => !fetchedOrgs.find(c => c.id === o.id)))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchedOrgs, localSelected, searchResults])\n\n  const fetchSearchData = useCallback(\n    (query: string) => {\n      setSearchResultsLoading(true)\n      fetchQuery<OrganizationPickerQueryType>(environment, OrganizationPickerRecentQuery, {\n        query,\n        slug,\n      }).subscribe({\n        next: data => {\n          const nodes = (data.enterprise?.organizations.nodes || []).flatMap(node =>\n            // eslint-disable-next-line no-restricted-syntax\n            node ? [readInlineData<OrganizationPickerFragment$key>(OrganizationPickerFragment, node)] : [],\n          )\n          setSearchResults(nodes.map(n => convertToItemProps(n)))\n          setSearchResultsLoading(false)\n        },\n        error: () => {\n          setSearchResultsLoading(false)\n          // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n          addToast({\n            type: 'error',\n            message: 'Unable to query organizations',\n            role: 'alert',\n          })\n        },\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [addToast, slug, environment],\n  )\n\n  // TODO we can use the useDebounce once it's extracted to a shared hook\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounceFetchSearchData = useCallback(\n    debounce((nextValue: string) => fetchSearchData(nextValue), 200),\n    [fetchSearchData],\n  )\n\n  const filterItems = useCallback(\n    (value: string) => {\n      const trimmedFilter = value.trim()\n      if (searchFilter !== trimmedFilter) {\n        debounceFetchSearchData(trimmedFilter)\n      }\n      setSearchFilter(value)\n    },\n    [debounceFetchSearchData, searchFilter],\n  )\n\n  const onDialogSubmit = (newSelected: Array<Item<string>>, newSelectAll: boolean) => {\n    setOpen(false)\n    setLocalSelected(newSelected)\n    setSelectedCount(newSelected.length)\n    setSelectAll(newSelectAll)\n    setSelectedItems(newSelected.map(item => item.id))\n  }\n\n  const resetDialog = () => {\n    setOpen(false)\n    setLocalSelected(localSelected)\n    setSelectedCount(localSelected.length)\n    setSelectedItems(localSelected.map(item => item.id))\n  }\n\n  const openDialog = () => {\n    setOpen(true)\n    setSearchFilter('')\n    setSearchResults(undefined)\n  }\n\n  const canRemoveOption = localSelected.length > 0\n  const removeOption = (id: string) => {\n    if (!canRemoveOption) return\n\n    const newOptions = localSelected.filter(option => option.id !== id)\n    setLocalSelected(newOptions)\n    setSelectedCount(newOptions.length)\n    setSelectedItems(newOptions.map(opt => opt.id))\n  }\n\n  const pickerText = selectionVariant === 'multiple' ? 'organizations' : 'organization'\n  const ml = indent ? 4 : 0\n\n  return (\n    <>\n      <PickerHeader title=\"Organizations\" />\n      <Box sx={{ml, textAlign: 'left'}}>\n        {!viewOnly && (\n          <>\n            <Button\n              data-testid=\"open-org-picker-dialog-button\"\n              onClick={openDialog}\n              sx={{mb: Spacing.StandardPadding}}\n              trailingAction={TriangleDownIcon}\n            >\n              Select {pickerText}\n            </Button>\n            <PickerDialog\n              open={open}\n              resetDialog={resetDialog}\n              filter={filterItems}\n              selectAll={selectAll}\n              selected={localSelected}\n              onDialogSubmit={onDialogSubmit}\n              items={items}\n              totalItemsCount={totalOrganizationCount}\n              pickerType={pickerText}\n              loading={searchResultsLoading}\n              selectionVariant={selectionVariant}\n              entityType={entityType}\n            />\n            {valid === false && (\n              <FormControl.Validation variant=\"error\" sx={{mt: 1}}>\n                Please select at least one organization\n              </FormControl.Validation>\n            )}\n          </>\n        )}\n        {selectAll && (\n          <Text sx={{fontSize: Fonts.FontSizeSmall}}>\n            All {Pluralize('organization', totalOrganizationCount, true)} selected\n          </Text>\n        )}\n        <SelectedRows\n          loading={itemsLoading}\n          selected={pagedItems}\n          removeOption={removeOption}\n          totalCount={selectedCount}\n        />\n        <ResourcePaginator\n          pageSize={pageSize}\n          pageCount={pageCount}\n          totalResources={localSelected.length}\n          currentPage={currentPage}\n          onPageChange={onPageChange}\n        />\n      </Box>\n    </>\n  )\n}\n\ntry{ OrganizationPicker.displayName ||= 'OrganizationPicker' } catch {}","import type {GraphQLError} from '@github-ui/fetch-graphql'\nimport {debounce} from '@github/mini-throttle'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {LockIcon, RepoIcon, RepoLockedIcon, TriangleDownIcon} from '@primer/octicons-react'\nimport {Button, Box, Text, FormControl, type Pagination} from '@primer/react'\nimport Pluralize from 'pluralize'\nimport {useCallback, useMemo, useState, useEffect} from 'react'\nimport type {PreloadedQuery} from 'react-relay'\nimport {fetchQuery, graphql, readInlineData, usePreloadedQuery, useRelayEnvironment} from 'react-relay'\n\nimport {PickerDialog} from './PickerDialog'\nimport {PickerHeader} from './PickerHeader'\nimport ResourcePaginator from './ResourcePaginator'\nimport {SelectedRows} from './SelectedRows'\nimport {Fonts, Spacing} from '../../utils'\n\nimport type {RepositoryPickerRecentQuery as RepositoryPickerQueryType} from './__generated__/RepositoryPickerRecentQuery.graphql'\nimport type {\n  RepositoryPickerInitialQuery$data,\n  RepositoryPickerInitialQuery as RepositoryPickerInitialQueryType,\n} from './__generated__/RepositoryPickerInitialQuery.graphql'\nimport type {\n  RepositoryPickerFragment$key,\n  RepositoryPickerFragment$data,\n} from './__generated__/RepositoryPickerFragment.graphql'\n\nimport type {Item} from '../../types/common'\n\ntype Repository = RepositoryPickerFragment$data\n\nexport const RepositoryPickerRecentQuery = graphql`\n  query RepositoryPickerRecentQuery($slug: String!, $phrase: String) {\n    viewer {\n      enterpriseRepositories(phrase: $phrase, slug: $slug, first: 10) {\n        totalCount\n        nodes {\n          ...RepositoryPickerFragment\n        }\n      }\n    }\n  }\n`\nexport const RepositoryPickerFragment = graphql`\n  fragment RepositoryPickerFragment on Repository @inline {\n    id\n    nameWithOwner\n    isPrivate\n    isArchived\n  }\n`\n\nexport const RepositoryPickerInitialQuery = graphql`\n  query RepositoryPickerInitialQuery($ids: [ID!]!) {\n    nodes(ids: $ids) {\n      ...RepositoryPickerFragment\n    }\n  }\n`\n\nconst pageSize = 10\n\nconst convertToItemProps = (item: Repository, viewOnly: boolean) => {\n  return {\n    id: item.id,\n    text: item.nameWithOwner,\n    leadingVisual: () => (item.isPrivate ? <LockIcon /> : <RepoIcon />),\n    rowLeadingVisual: () => (item.isPrivate ? <RepoLockedIcon /> : <RepoIcon />),\n    viewOnly,\n  }\n}\n\ninterface Props {\n  initialSelectedItemIds: string[]\n  preloadedRepositoriesRef: PreloadedQuery<RepositoryPickerQueryType>\n  setSelectedItems: (selectedIds: string[]) => void\n  slug: string\n  entityType?: 'budget' | 'cost center'\n  indent?: boolean\n  selectionVariant?: 'multiple' | 'single'\n  valid?: boolean\n  // Optionally display the resource selector in view-only mode\n  viewOnly?: boolean\n}\n\nexport function RepositoryPicker({\n  initialSelectedItemIds,\n  preloadedRepositoriesRef,\n  setSelectedItems,\n  slug,\n  entityType = 'budget',\n  indent = true,\n  selectionVariant,\n  valid,\n  viewOnly = false,\n}: Props) {\n  // These are the repos that are currently selected through the UI.\n  const [localSelected, setLocalSelected] = useState<Array<Item<string>>>([])\n  const [selectedCount, setSelectedCount] = useState<number>(initialSelectedItemIds.length)\n  const [itemsLoading, setItemsLoading] = useState<boolean>(false)\n\n  const [selectAll, setSelectAll] = useState<boolean>(false)\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false)\n\n  const [searchResults, setSearchResults] = useState<Array<Item<string>> | undefined>()\n  const [searchResultsLoading, setSearchResultsLoading] = useState<boolean>(false)\n  const [searchFilter, setSearchFilter] = useState<string>('')\n\n  const [pageCount, setPageCount] = useState(1)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [pagedItems, setPagedItems] = useState<Array<Item<string>>>([])\n\n  const {addToast} = useToastContext()\n  const environment = useRelayEnvironment()\n\n  // Preload the user's repos via a GraphQL query\n  const preloadedData = usePreloadedQuery<RepositoryPickerQueryType>(\n    RepositoryPickerRecentQuery,\n    preloadedRepositoriesRef,\n  )\n  const fetchedRepos = useMemo(() => {\n    const repos = (preloadedData.viewer.enterpriseRepositories.nodes || []).flatMap(node =>\n      // eslint-disable-next-line no-restricted-syntax\n      node ? [readInlineData<RepositoryPickerFragment$key>(RepositoryPickerFragment, node)] : [],\n    )\n    return repos\n  }, [preloadedData.viewer.enterpriseRepositories.nodes])\n  const totalRepositoryCount = useMemo(() => {\n    return preloadedData.viewer.enterpriseRepositories.totalCount || 0\n  }, [preloadedData.viewer.enterpriseRepositories.totalCount])\n  // Store the fetched IDs as a set for quick lookup\n  const fetchedRepoIds = useMemo(() => {\n    return new Set(fetchedRepos.map(repo => repo.id))\n  }, [fetchedRepos])\n\n  // Do an initial load of the repos already added to the cost center so that they can be displayed to the user.\n  // Repos are either loaded or not found depending on permissions. The data we get back can contain a mix of both.\n  // This happens when private repos are selected and a user without access tries to view the owning object.\n  useEffect(() => {\n    if (!initialSelectedItemIds.length) return\n\n    setItemsLoading(true)\n\n    // Keep track of repos that can't be loaded due to permissions so that we can display placeholders for them\n    let unloadedRepos: Array<Item<string>> = []\n\n    const onGraphQLSuccess = (data: RepositoryPickerInitialQuery$data) => {\n      const repos = (data.nodes || []).flatMap(node =>\n        // eslint-disable-next-line no-restricted-syntax\n        node ? [readInlineData<RepositoryPickerFragment$key>(RepositoryPickerFragment, node)] : [],\n      )\n      const loadedRepoItems = repos.map(repo =>\n        convertToItemProps(\n          repo,\n          // Show in viewOnly mode if it isn't one of the repos the user has baseline access to\n          viewOnly || !fetchedRepoIds.has(repo.id),\n        ),\n      )\n      setLocalSelected([...loadedRepoItems, ...unloadedRepos])\n      setItemsLoading(false)\n    }\n\n    const onGraphQLError = () => {\n      setLocalSelected(unloadedRepos)\n      setItemsLoading(false)\n    }\n\n    /*\n    queries have an argument limit of 100 node ids so we are batching them to fetch all repositories\n    https://github.com/github/github/blob/0aeff718576cfc236cdcf082ab0bb68cbd35dca3/lib/platform/objects/query.rb#L86\n    */\n    const BATCH_SIZE = 100\n    const chunks: string[][] = []\n    for (let i = 0; i < initialSelectedItemIds.length; i += BATCH_SIZE) {\n      chunks.push(initialSelectedItemIds.slice(i, i + BATCH_SIZE))\n    }\n\n    const promises = chunks.map(chunk => {\n      return new Promise<RepositoryPickerInitialQuery$data>((resolve, reject) => {\n        fetchQuery<RepositoryPickerInitialQueryType>(environment, RepositoryPickerInitialQuery, {\n          ids: chunk,\n        }).subscribe({\n          next: data => {\n            resolve(data)\n          },\n          error: (error: Error) => {\n            // Get the indeces that failed to load the first time so that we can remove them and try again with the rest.\n            const invalidIndeces = (error.cause as GraphQLError[]).reverse().map(e => {\n              // This is always the index of the node that failed to load\n              return e.path[e.path.length - 1] as number\n            })\n\n            unloadedRepos = initialSelectedItemIds\n              .filter((_, idx) => invalidIndeces.includes(idx))\n              .map(id => {\n                return {\n                  id,\n                  text: 'Insufficient permission to view',\n                  leadingVisual: () => <LockIcon />,\n                  rowLeadingVisual: () => <RepoLockedIcon />,\n                  viewOnly: true,\n                }\n              })\n\n            // If there are some repos that can be loaded successfully, try to load them on their own\n            const updatedInitialSelectItemIds = initialSelectedItemIds.filter((_, idx) => !invalidIndeces.includes(idx))\n            if (updatedInitialSelectItemIds.length) {\n              fetchQuery<RepositoryPickerInitialQueryType>(environment, RepositoryPickerInitialQuery, {\n                ids: updatedInitialSelectItemIds,\n              }).subscribe({\n                next: onGraphQLSuccess,\n                error: onGraphQLError,\n              })\n            } else {\n              reject(error)\n            }\n          },\n        })\n      })\n    })\n\n    const loadRepositoriesData = async () => {\n      try {\n        const results = await Promise.all<RepositoryPickerInitialQuery$data>(promises)\n        const allRepositories = {nodes: results.flatMap(r => r.nodes || [])}\n        onGraphQLSuccess(allRepositories)\n      } catch (error) {\n        onGraphQLError()\n      }\n    }\n\n    loadRepositoriesData()\n\n    // We only want to perform this query once\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // Update the page division when the user changes pages\n  useEffect(() => {\n    setPageCount(Math.ceil(localSelected.length / (1.0 * pageSize)) || 1)\n    setPagedItems(localSelected.slice((currentPage - 1) * pageSize, currentPage * pageSize))\n  }, [localSelected, currentPage])\n\n  const onPageChange: Parameters<typeof Pagination>['0']['onPageChange'] = (e, page) => {\n    e.preventDefault()\n    setCurrentPage(page)\n  }\n\n  const items = useMemo(() => {\n    if (searchResults) return searchResults\n    return fetchedRepos\n      .filter(repo => !repo.isArchived)\n      .map(i => convertToItemProps(i, viewOnly))\n      .concat(localSelected.filter(o => !fetchedRepos.find(c => c.id === o.id)))\n  }, [fetchedRepos, localSelected, searchResults, viewOnly])\n\n  const fetchSearchData = useCallback(\n    (phrase: string) => {\n      setSearchResultsLoading(true)\n      fetchQuery<RepositoryPickerQueryType>(environment, RepositoryPickerRecentQuery, {\n        phrase,\n        slug,\n      }).subscribe({\n        next: data => {\n          const repos = (data.viewer.enterpriseRepositories?.nodes || []).flatMap(node =>\n            // eslint-disable-next-line no-restricted-syntax\n            node ? [readInlineData<RepositoryPickerFragment$key>(RepositoryPickerFragment, node)] : [],\n          )\n\n          setSearchResults(repos.map(repo => convertToItemProps(repo, viewOnly)))\n          setSearchResultsLoading(false)\n        },\n        error: () => {\n          // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n          addToast({\n            type: 'error',\n            message: 'Unable to query repositories',\n            role: 'alert',\n          })\n          setSearchResultsLoading(false)\n        },\n      })\n    },\n\n    [environment, slug, viewOnly, addToast],\n  )\n\n  // TODO we can use the useDebounce once it's extracted to a shared hook\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounceFetchSearchData = useCallback(\n    debounce((nextValue: string) => fetchSearchData(nextValue), 200),\n    [fetchSearchData],\n  )\n\n  useEffect(() => {\n    if (searchFilter.length === 0) {\n      setSearchResults(undefined)\n      return\n    }\n    debounceFetchSearchData(searchFilter)\n  }, [debounceFetchSearchData, searchFilter])\n\n  const filterItems = useCallback((value: string) => {\n    setSearchFilter(value)\n  }, [])\n\n  const onDialogSubmit = (newSelected: Array<Item<string>>, newSelectAll: boolean) => {\n    setDialogOpen(false)\n    setLocalSelected(newSelected)\n    setSelectedCount(newSelected.length)\n    setSelectAll(newSelectAll)\n    setSelectedItems(newSelected.map(opt => opt.id))\n  }\n\n  const resetDialog = () => {\n    setDialogOpen(false)\n    setLocalSelected(localSelected)\n    setSelectedCount(localSelected.length)\n    setSelectedItems(localSelected.map(opt => opt.id))\n  }\n\n  const openDialog = () => {\n    setDialogOpen(true)\n    setSearchFilter('')\n    setSearchResults(undefined)\n  }\n\n  const canRemoveOption = localSelected.length > 0\n  const removeOption = (id: string) => {\n    if (!canRemoveOption) return\n\n    const newOptions = localSelected.filter(option => option.id !== id)\n    setLocalSelected(newOptions)\n    setSelectedCount(newOptions.length)\n    setSelectedItems(newOptions.map(opt => opt.id))\n  }\n\n  const pickerText = selectionVariant === 'multiple' ? 'repositories' : 'repository'\n  const ml = indent ? 4 : 0\n\n  return (\n    <>\n      <PickerHeader title=\"Repositories\" />\n      <Box sx={{ml, textAlign: 'left'}}>\n        {!viewOnly && (\n          <>\n            <Button onClick={openDialog} sx={{mb: Spacing.StandardPadding}} trailingAction={TriangleDownIcon}>\n              Select {pickerText}\n            </Button>\n            <PickerDialog\n              open={dialogOpen}\n              resetDialog={resetDialog}\n              filter={filterItems}\n              selectAll={selectAll}\n              selected={localSelected}\n              onDialogSubmit={onDialogSubmit}\n              items={items}\n              totalItemsCount={totalRepositoryCount}\n              pickerType={pickerText}\n              loading={searchResultsLoading}\n              selectionVariant={selectionVariant}\n              entityType={entityType}\n            />\n            {valid === false && (\n              <FormControl.Validation variant=\"error\" sx={{mt: 1}}>\n                Please select at least one repository\n              </FormControl.Validation>\n            )}\n          </>\n        )}\n        {selectAll && (\n          <Text sx={{fontSize: Fonts.FontSizeSmall}}>\n            All {Pluralize('repository', totalRepositoryCount, true)} selected\n          </Text>\n        )}\n        <SelectedRows\n          loading={itemsLoading}\n          removeOption={removeOption}\n          selected={pagedItems}\n          totalCount={selectedCount}\n        />\n        <ResourcePaginator\n          pageSize={pageSize}\n          pageCount={pageCount}\n          totalResources={selectedCount}\n          currentPage={currentPage}\n          onPageChange={onPageChange}\n        />\n      </Box>\n    </>\n  )\n}\n\ntry{ RepositoryPicker.displayName ||= 'RepositoryPicker' } catch {}","import {Box, Heading, RadioGroup, FormControl, Radio, Spinner, Text} from '@primer/react'\nimport {useQueryLoader} from 'react-relay'\nimport {Suspense, useEffect} from 'react'\n\nimport {\n  BUDGET_SCOPE_CUSTOMER,\n  BUDGET_SCOPE_COST_CENTER,\n  BUDGET_SCOPE_ORGANIZATION,\n  BUDGET_SCOPE_REPOSITORY,\n  HighWatermarkProducts,\n} from '../../constants'\nimport {Spacing} from '../../utils'\n\nimport {CostCenterPicker} from '../pickers/CostCenterPicker'\nimport {OrganizationPicker, OrganizationPickerRecentQuery} from '../pickers/OrganizationPicker'\nimport {RepositoryPicker, RepositoryPickerRecentQuery} from '../pickers/RepositoryPicker'\n\nimport type {OrganizationPickerRecentQuery as OrganizationPickerQueryType} from '../pickers/__generated__/OrganizationPickerRecentQuery.graphql'\nimport type {RepositoryPickerRecentQuery as RepositoryPickerQueryType} from '../pickers/__generated__/RepositoryPickerRecentQuery.graphql'\n\nimport type {BudgetPicker} from '../../types/budgets'\n\ninterface Props {\n  budgetScope: string\n  setBudgetScope: (budgetScope: string) => void\n  setBudgetScopeId: (budgetScopeIds: string[]) => void\n  budgetScopeIds: string[]\n  slug: string\n  disablePicker?: BudgetPicker[]\n  budgetProduct: string\n}\n\nexport function BudgetScopeSelector({\n  budgetScope,\n  setBudgetScope,\n  setBudgetScopeId,\n  budgetScopeIds,\n  slug,\n  disablePicker,\n  budgetProduct,\n}: Props) {\n  const initialOrganizationScopeId = budgetScopeIds && budgetScope === BUDGET_SCOPE_ORGANIZATION ? budgetScopeIds : []\n  const initialRepositoryScopeId = budgetScopeIds && budgetScope === BUDGET_SCOPE_REPOSITORY ? budgetScopeIds : []\n\n  const [organizationsRef, loadOrganizations, disposeOrganizationsRef] =\n    useQueryLoader<OrganizationPickerQueryType>(OrganizationPickerRecentQuery)\n\n  const [repositoriesRef, loadRepositories, disposeRepositoriesRef] =\n    useQueryLoader<RepositoryPickerQueryType>(RepositoryPickerRecentQuery)\n\n  useEffect(() => {\n    loadOrganizations({slug}, {fetchPolicy: 'store-or-network'})\n    if (!disablePicker?.includes('repo')) {\n      loadRepositories({slug}, {fetchPolicy: 'store-or-network'})\n    }\n\n    return () => {\n      disposeOrganizationsRef()\n      disposeRepositoriesRef()\n    }\n  }, [\n    slug,\n    budgetScopeIds,\n    budgetScope,\n    loadOrganizations,\n    loadRepositories,\n    disposeOrganizationsRef,\n    disposeRepositoriesRef,\n    disablePicker,\n  ])\n\n  const handleBudgetScopeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setBudgetScope(event.target.value)\n    const scopeId = event.target.value === BUDGET_SCOPE_CUSTOMER ? ['1'] : []\n    setBudgetScopeId(scopeId)\n  }\n\n  const setAllSelectedCostCenters = (selectedIds: string[]) => {\n    if (selectedIds[0]) {\n      setBudgetScopeId([selectedIds[0]])\n    }\n  }\n\n  const isProductHighWaterMark = () => {\n    return Object.values(HighWatermarkProducts).includes(budgetProduct as HighWatermarkProducts)\n  }\n\n  return (\n    <>\n      <Box sx={{paddingBottom: 2}}>\n        <Heading as=\"h3\" id=\"budget-scope-choices\" sx={{fontSize: 2}} className=\"Box-title\">\n          Budget scope\n        </Heading>\n        <Text sx={{mb: 2}}>Select the scope of spending for this budget.</Text>\n        <RadioGroup aria-labelledby=\"budget-scope-choices\" name=\"budget-scope-choices\" sx={{mb: Spacing.CardMargin}}>\n          <div className=\"Box\">\n            {!disablePicker?.includes('enterprise') && (\n              <div className=\"Box-row\">\n                <FormControl>\n                  <Radio\n                    checked={budgetScope === BUDGET_SCOPE_CUSTOMER}\n                    value={BUDGET_SCOPE_CUSTOMER}\n                    onChange={e => {\n                      handleBudgetScopeChange(e)\n                    }}\n                  />\n                  <FormControl.Label>Enterprise</FormControl.Label>\n                  <FormControl.Caption sx={{fontSize: 1}}>\n                    Spending for all organizations and repositories in your enterprise.\n                  </FormControl.Caption>\n                </FormControl>\n              </div>\n            )}\n            {!isProductHighWaterMark() && (\n              <>\n                {!disablePicker?.includes('org') && (\n                  <div className=\"Box-row\">\n                    <FormControl sx={{mb: budgetScope === BUDGET_SCOPE_ORGANIZATION ? Spacing.StandardPadding : 0}}>\n                      <Radio\n                        value={BUDGET_SCOPE_ORGANIZATION}\n                        checked={budgetScope === BUDGET_SCOPE_ORGANIZATION}\n                        onChange={e => {\n                          handleBudgetScopeChange(e)\n                        }}\n                      />\n                      <FormControl.Label>Organization</FormControl.Label>\n                      <FormControl.Caption sx={{fontSize: 1}}>Spending for a single organization.</FormControl.Caption>\n                    </FormControl>\n                    {budgetScope === BUDGET_SCOPE_ORGANIZATION && (\n                      <Suspense fallback={<Spinner size=\"small\" />}>\n                        {organizationsRef && (\n                          <OrganizationPicker\n                            slug={slug}\n                            preloadedOrganizationsRef={organizationsRef}\n                            setSelectedItems={setBudgetScopeId}\n                            initialSelectedItemIds={initialOrganizationScopeId}\n                            selectionVariant=\"single\"\n                          />\n                        )}\n                      </Suspense>\n                    )}\n                  </div>\n                )}\n                {!disablePicker?.includes('repo') && (\n                  <div className=\"Box-row\">\n                    <FormControl sx={{mb: budgetScope === BUDGET_SCOPE_REPOSITORY ? Spacing.StandardPadding : 0}}>\n                      <Radio\n                        checked={budgetScope === BUDGET_SCOPE_REPOSITORY}\n                        value={BUDGET_SCOPE_REPOSITORY}\n                        onChange={e => {\n                          handleBudgetScopeChange(e)\n                        }}\n                      />\n                      <FormControl.Label>Repository</FormControl.Label>\n                      <FormControl.Caption sx={{fontSize: 1}}>Spending for a single repository.</FormControl.Caption>\n                    </FormControl>\n                    {budgetScope === BUDGET_SCOPE_REPOSITORY && (\n                      <Suspense fallback={<Spinner size=\"small\" />}>\n                        {repositoriesRef && (\n                          <RepositoryPicker\n                            preloadedRepositoriesRef={repositoriesRef}\n                            slug={slug}\n                            setSelectedItems={setBudgetScopeId}\n                            initialSelectedItemIds={initialRepositoryScopeId}\n                            selectionVariant=\"single\"\n                          />\n                        )}\n                      </Suspense>\n                    )}\n                  </div>\n                )}\n              </>\n            )}\n            <div className=\"Box-row\">\n              <FormControl sx={{mb: budgetScope === BUDGET_SCOPE_COST_CENTER ? Spacing.StandardPadding : 0}}>\n                <Radio\n                  checked={budgetScope === BUDGET_SCOPE_COST_CENTER}\n                  value={BUDGET_SCOPE_COST_CENTER}\n                  onChange={e => {\n                    handleBudgetScopeChange(e)\n                  }}\n                />\n                <FormControl.Label>Cost center</FormControl.Label>\n                <FormControl.Caption sx={{fontSize: 1}}>Spending for a single cost center.</FormControl.Caption>\n              </FormControl>\n              {budgetScope === BUDGET_SCOPE_COST_CENTER && (\n                <Suspense fallback={<Spinner size=\"small\" />}>\n                  {repositoriesRef && (\n                    <CostCenterPicker\n                      initialSelectedItems={[]}\n                      setAllSelectedCostCenters={setAllSelectedCostCenters}\n                      selectionVariant=\"single\"\n                    />\n                  )}\n                </Suspense>\n              )}\n            </div>\n          </div>\n        </RadioGroup>\n      </Box>\n    </>\n  )\n}\n\ntry{ BudgetScopeSelector.displayName ||= 'BudgetScopeSelector' } catch {}","import {Box, Heading, Text} from '@primer/react'\n\nimport type {Product} from '../../types/products'\n\ninterface Props {\n  budgetProduct: string\n  enabledProducts: Product[]\n}\n\nexport function BudgetSelectedProduct({budgetProduct, enabledProducts}: Props) {\n  const product = enabledProducts.find(p => p.name === budgetProduct)\n\n  return (\n    <Box sx={{mb: 4}}>\n      <Heading as=\"h3\" sx={{fontSize: 2, mb: 2}} className=\"Box-title\">\n        Product\n      </Heading>\n      <div className=\"Box\">\n        <div className=\"Box-row\">\n          <Text sx={{fontWeight: 'bold'}}>{product?.friendlyProductName}</Text>\n        </div>\n      </div>\n    </Box>\n  )\n}\n\ntry{ BudgetSelectedProduct.displayName ||= 'BudgetSelectedProduct' } catch {}","import {Box, Heading, Text} from '@primer/react'\nimport {CreditCardIcon, GlobeIcon, OrganizationIcon, RepoIcon} from '@primer/octicons-react'\nimport {Fonts} from '../../utils'\n\nimport {\n  BUDGET_SCOPE_COST_CENTER,\n  BUDGET_SCOPE_CUSTOMER,\n  BUDGET_SCOPE_ORGANIZATION,\n  BUDGET_SCOPE_REPOSITORY,\n} from '../../constants'\n\ninterface Props {\n  budgetScope: string\n  budgetTargetName: string\n}\n\nexport function BudgetSelectedScope({budgetScope, budgetTargetName}: Props) {\n  const getBudgetScopeDetails = (scope: string) => {\n    switch (scope) {\n      case BUDGET_SCOPE_CUSTOMER:\n        return {\n          name: 'Enterprise',\n          description: 'Spending for all organizations and repositories in your enterprise.',\n        }\n      case BUDGET_SCOPE_ORGANIZATION:\n        return {\n          name: 'Organization',\n          description: 'Spending for a single organization.',\n        }\n      case BUDGET_SCOPE_REPOSITORY:\n        return {\n          name: 'Repository',\n          description: 'Spending for a single repository.',\n        }\n      case BUDGET_SCOPE_COST_CENTER:\n        return {\n          name: 'Cost center',\n          description: 'Spending for a single cost center.',\n        }\n    }\n  }\n\n  const budgetScopeDetails = getBudgetScopeDetails(budgetScope)\n\n  const budgetScopeIconMap: {[key: string]: JSX.Element} = {\n    [BUDGET_SCOPE_CUSTOMER]: <GlobeIcon />,\n    [BUDGET_SCOPE_ORGANIZATION]: <OrganizationIcon />,\n    [BUDGET_SCOPE_REPOSITORY]: <RepoIcon />,\n    [BUDGET_SCOPE_COST_CENTER]: <CreditCardIcon />,\n  }\n\n  return (\n    <Box sx={{mb: 4}}>\n      <Heading as=\"h3\" sx={{fontSize: 2, mb: 2}} className=\"Box-title\">\n        Budget scope\n      </Heading>\n      <div className=\"Box\">\n        <Box className=\"Box-row\" sx={{display: 'flex', flexDirection: 'column'}}>\n          <Text sx={{fontWeight: 'bold'}}>{budgetScopeDetails?.name}</Text>\n          <Text sx={{color: 'fg.muted'}}>{budgetScopeDetails?.description}</Text>\n          <Box sx={{display: 'flex', flexDirection: 'row', alignItems: 'center', gap: 1, mt: 2}}>\n            {budgetScopeIconMap[budgetScope]}\n            <Text sx={{color: 'fg.subtle', fontSize: Fonts.FontSizeSmall}}>{budgetTargetName}</Text>\n          </Box>\n        </Box>\n      </div>\n    </Box>\n  )\n}\n\ntry{ BudgetSelectedScope.displayName ||= 'BudgetSelectedScope' } catch {}","import {useCallback, useState, useEffect, useContext} from 'react'\nimport {Box, Button, Dialog, Flash, Heading, Link, Octicon, Text} from '@primer/react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {CheckCircleIcon, AlertIcon} from '@primer/octicons-react'\n\nimport {\n  BILLING_MANAGER,\n  ENTERPRISE_OWNER,\n  ENTERPRISE_ORG_OWNER,\n  BUDGET_SCOPE_COST_CENTER,\n  BUDGET_SCOPE_CUSTOMER,\n  BUDGET_SCOPE_ORGANIZATION,\n  BUDGET_SCOPE_REPOSITORY,\n  HighWatermarkProducts,\n} from '../../constants'\nimport {BudgetLimitTypes} from '../../enums/budgets'\nimport {HTTPMethod, doRequest} from '../../hooks/use-request'\nimport useRoute from '../../hooks/use-route'\nimport {BUDGETS_ROUTE, UPSERT_BUDGET_ROUTE} from '../../routes'\nimport {pageHeadingStyle} from '../../utils'\n\nimport {BudgetAmount} from './BudgetAmount'\nimport {BudgetAlertSelector} from './BudgetAlertSelector'\nimport {BudgetProductSelector} from './BudgetProductSelector'\nimport {BudgetScopeSelector} from './BudgetScopeSelector'\nimport {BudgetSelectedProduct} from './BudgetSelectedProduct'\nimport {BudgetSelectedScope} from './BudgetSelectedScope'\n\nimport type {UpsertBudgetRequest, EditBudget, BudgetPicker} from '../../types/budgets'\nimport type {AdminRole} from '../../types/common'\nimport type {Product} from '../../types/products'\nimport {PageContext} from '../../App'\n\ntype Props = {\n  budget?: EditBudget\n  slug: string\n  currentUserId?: string\n  adminRoles: AdminRole[]\n  enabledProducts: Product[]\n}\n\nexport const defaultBudgetLimitType = (product: string) => {\n  // By default, Actions will not enforce a hard limit on usage\n  // High watermark/seat based products cannot enforce a hard limit, since usage cannot be adjusted during the month\n  if (isProductHighWaterMark(product)) {\n    return BudgetLimitTypes.AlertingOnly\n  }\n  return BudgetLimitTypes.PreventFurtherUsage\n}\n\nconst isProductHighWaterMark = (product: string) => {\n  return Object.values(HighWatermarkProducts).includes(product as HighWatermarkProducts)\n}\n\nexport default function BudgetForm({budget, slug, currentUserId, adminRoles, enabledProducts}: Props) {\n  const navigate = useNavigate()\n  const [budgetAmount, setBudgetAmount] = useState<number | string>(budget ? budget.targetAmount : 0)\n  const [budgetProduct, setBudgetProduct] = useState(budget ? budget?.pricingTargetId : enabledProducts[0]?.name || '')\n  const [budgetLimitType, setBudgetLimitType] = useState<BudgetLimitTypes>(\n    budget ? budget.budgetLimitType : defaultBudgetLimitType(budgetProduct),\n  )\n  const [budgetScope, setBudgetScope] = useState<string>(budget ? budget.targetType : BUDGET_SCOPE_CUSTOMER)\n  const [budgetScopeIds, setBudgetScopeId] = useState<string[]>(budget ? [budget.targetId] : ['1'])\n\n  const [alertEnabled, setAlertEnabled] = useState<boolean>(budget?.alertEnabled ?? true)\n  const defaultRecipient = currentUserId ? [currentUserId] : []\n  const [alertRecipientUserIds, setAlertRecipientUserIds] = useState<string[]>(\n    budget?.alertRecipientUserIds ? budget.alertRecipientUserIds : defaultRecipient,\n  )\n  const [isConfirmUpdateDialogOpen, setIsConfirmUpdateDialogOpen] = useState(false)\n  const onConfirmUpdateDialogOpen = useCallback((e: React.FormEvent<EventTarget>) => {\n    e.preventDefault()\n    return setIsConfirmUpdateDialogOpen(true)\n  }, [])\n  const onConfirmUpdateDialogClose = useCallback(() => setIsConfirmUpdateDialogOpen(false), [])\n\n  const isEnterpriseRoute = useContext(PageContext).isEnterpriseRoute\n\n  useEffect(() => {\n    if (!budget) {\n      setBudgetLimitType(defaultBudgetLimitType(budgetProduct))\n    }\n  }, [budgetProduct, budget])\n\n  const {addToast} = useToastContext()\n\n  const action = budget ? 'edit' : 'create'\n\n  const {path: allBudgetsRoute} = useRoute(BUDGETS_ROUTE)\n  const {path: editBudgetsRoute} = useRoute(UPSERT_BUDGET_ROUTE, {budgetUUID: budget?.uuid ?? ''})\n\n  async function createBudget() {\n    const data: UpsertBudgetRequest = {\n      targetAmount: budgetAmount as number,\n      targetType: budgetScope,\n      targetId: budgetScopeIds[0] ?? '1', // We only support single scope creation right now\n      pricingTargetType: 'ProductPricing',\n      pricingTargetId: budgetProduct,\n      budgetLimitType,\n      alertEnabled,\n      alertRecipientUserIds: alertEnabled ? alertRecipientUserIds : [],\n    }\n\n    try {\n      const res = await doRequest<UpsertBudgetRequest>(HTTPMethod.POST, allBudgetsRoute, data)\n      if (!res.ok) {\n        let message = 'There was an issue creating your budget'\n\n        if (res.data?.error?.includes('Budget with this key already exists')) {\n          message = `A budget for this product and scope already exists. Please edit the existing budget instead of creating another.`\n        }\n\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message,\n          role: 'alert',\n        })\n      } else {\n        navigate(allBudgetsRoute)\n      }\n    } catch {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'There was an issue creating your budget',\n        role: 'alert',\n      })\n    }\n  }\n\n  async function editBudget() {\n    if (!budget) return\n\n    const data: UpsertBudgetRequest = {\n      targetAmount: budgetAmount as number,\n      targetType: budgetScope,\n      targetId: budgetScopeIds[0] ?? '1', // We only support single scope creation right now\n      pricingTargetType: budget.pricingTargetType,\n      pricingTargetId: budget.pricingTargetId,\n      budgetLimitType,\n      alertEnabled,\n      alertRecipientUserIds: alertEnabled ? alertRecipientUserIds : [],\n    }\n\n    try {\n      const {ok} = await doRequest<UpsertBudgetRequest>(HTTPMethod.PUT, editBudgetsRoute, data)\n      if (!ok) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: 'There was an issue editing your budget',\n          role: 'alert',\n        })\n      } else {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: `Your budget has been updated`,\n          icon: <CheckCircleIcon />,\n          role: 'status',\n        })\n        navigate(allBudgetsRoute)\n      }\n    } catch {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'There was an issue editing your budget',\n        role: 'alert',\n      })\n    }\n  }\n\n  const handleSubmit = async (e?: React.FormEvent<EventTarget>) => {\n    e?.preventDefault()\n    if (!budgetScopeIds[0]) {\n      let message = ''\n      switch (budgetScope) {\n        case BUDGET_SCOPE_ORGANIZATION:\n          message = 'Please select at least one organization in order to successfully create a budget'\n          break\n        case BUDGET_SCOPE_REPOSITORY:\n          message = 'Please select at least one repository in order to successfully create a budget'\n          break\n        case BUDGET_SCOPE_COST_CENTER:\n          message = 'Please select at least one cost center in order to successfully create a budget'\n          break\n        default:\n          message = 'Please select a scope in order to successfully create a budget'\n      }\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message,\n        role: 'alert',\n      })\n      return\n    }\n\n    if (alertEnabled && alertRecipientUserIds.length === 0) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'At least one alert recipient must be selected',\n        role: 'alert',\n      })\n      return\n    }\n\n    if (!budgetProduct) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'A product must be selected',\n        role: 'alert',\n      })\n      return\n    }\n    setIsConfirmUpdateDialogOpen(false)\n    if (action === 'edit') {\n      await editBudget()\n    } else {\n      await createBudget()\n    }\n  }\n\n  const disablePicker: BudgetPicker[] = []\n\n  if (isEnterpriseRoute) {\n    if (\n      !adminRoles.includes(ENTERPRISE_ORG_OWNER) &&\n      (adminRoles.includes(ENTERPRISE_OWNER) || adminRoles.includes(BILLING_MANAGER))\n    ) {\n      disablePicker.push('repo')\n    }\n\n    if (\n      adminRoles.includes(ENTERPRISE_ORG_OWNER) &&\n      !(adminRoles.includes(ENTERPRISE_OWNER) || adminRoles.includes(BILLING_MANAGER))\n    ) {\n      disablePicker.push('org', 'enterprise')\n    }\n  } else {\n    disablePicker.push('org', 'repo', 'enterprise')\n  }\n\n  const shouldConfirmEditModalBeDisplayed = () => {\n    if (\n      budget &&\n      (budgetAmount as number) < budget.targetAmount &&\n      budgetLimitType === BudgetLimitTypes.PreventFurtherUsage &&\n      action === 'edit'\n    ) {\n      return true\n    }\n    return false\n  }\n\n  return (\n    <>\n      <header className=\"Subhead flex-column\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          <Link href={allBudgetsRoute}>Budgets and alerts</Link>\n          <span>&nbsp;/&nbsp;</span>\n          {action === 'edit' ? 'Edit monthly budget' : 'New monthly budget'}\n        </Heading>\n        {action === 'create' && (\n          <Text sx={{color: 'fg.muted'}}>Create a budget to track spending for a selected product and scope.</Text>\n        )}\n      </header>\n      <Box sx={{maxWidth: '65ch'}}>\n        <form onSubmit={shouldConfirmEditModalBeDisplayed() ? onConfirmUpdateDialogOpen : handleSubmit}>\n          {action === 'create' && (\n            <>\n              <BudgetProductSelector\n                budgetProduct={budgetProduct}\n                setBudgetProduct={setBudgetProduct}\n                products={enabledProducts}\n              />\n              <BudgetScopeSelector\n                budgetScope={budgetScope}\n                setBudgetScope={setBudgetScope}\n                setBudgetScopeId={setBudgetScopeId}\n                budgetScopeIds={budgetScopeIds}\n                slug={slug}\n                disablePicker={disablePicker}\n                budgetProduct={budgetProduct}\n              />\n            </>\n          )}\n          {action === 'edit' && (\n            <>\n              <BudgetSelectedProduct budgetProduct={budgetProduct} enabledProducts={enabledProducts} />\n              <BudgetSelectedScope budgetScope={budgetScope} budgetTargetName={budget?.targetName || ''} />\n            </>\n          )}\n          <BudgetAmount\n            budgetAmount={budgetAmount}\n            setBudgetAmount={setBudgetAmount}\n            action={action}\n            budgetLimitType={budgetLimitType}\n            setBudgetLimitType={setBudgetLimitType}\n            budgetProduct={budgetProduct}\n          />\n          {isEnterpriseRoute && (\n            <BudgetAlertSelector\n              alertEnabled={alertEnabled}\n              setAlertEnabled={setAlertEnabled}\n              alertRecipientUserIds={alertRecipientUserIds}\n              setAlertRecipientUserIds={setAlertRecipientUserIds}\n              slug={slug}\n            />\n          )}\n          <Box as=\"hr\" sx={{p: 1}} />\n          <Box sx={{display: 'flex'}}>\n            <Button type=\"submit\" variant=\"primary\">\n              {action === 'edit' ? 'Update budget' : 'Create budget'}\n            </Button>\n            <Button sx={{ml: 2}} onClick={() => navigate(allBudgetsRoute)}>\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Box>\n      {isConfirmUpdateDialogOpen && (\n        <Dialog\n          aria-labelledby=\"confirm-budget-edit-dialog-header\"\n          data-testid=\"confirm-budget-edit-dialog\"\n          title=\"Confirm budget update\"\n          onDismiss={onConfirmUpdateDialogClose}\n          isOpen={isConfirmUpdateDialogOpen}\n          sx={{width: 470}}\n        >\n          <Dialog.Header sx={{border: 0, bg: 'transparent'}}>Confirm editing budget</Dialog.Header>\n          <Box sx={{px: 3}}>\n            <Text as=\"p\" sx={{mb: 0}}>\n              Are you sure you want to save changes made to this monthly budget?\n            </Text>\n            <Flash variant=\"warning\" sx={{display: 'flex', mt: 3, mb: 2}}>\n              <Octicon icon={AlertIcon} size={20} sx={{mr: 2, pt: 1, color: 'accent.fg'}} />\n              <span>\n                Usage for the selected product may be stopped, in case the updated budget limit is less than the spend\n                already incurred this month.\n              </span>\n            </Flash>\n          </Box>\n          <Box sx={{display: 'flex', justifyContent: 'flex-end', p: 3}}>\n            <Button onClick={onConfirmUpdateDialogClose} sx={{mr: 2}}>\n              Cancel\n            </Button>\n            <Button onClick={handleSubmit} variant=\"danger\" data-testid=\"confirm-budget-edit-dialog-cancel\">\n              Confirm\n            </Button>\n          </Box>\n        </Dialog>\n      )}\n    </>\n  )\n}\n\ntry{ BudgetForm.displayName ||= 'BudgetForm' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport Layout from '../components/Layout'\nimport BudgetForm from '../components/budget/BudgetForm'\n\nimport type {EditBudget} from '../types/budgets'\nimport type {AdminRole} from '../types/common'\nimport type {Product} from '../types/products'\n\nexport interface BudgetEditPagePayload {\n  slug: string\n  budget: EditBudget\n  adminRoles: AdminRole[]\n  enabledProducts: Product[]\n}\n\nexport function BudgetEditPage() {\n  const payload = useRoutePayload<BudgetEditPagePayload>()\n\n  return (\n    <Layout>\n      <BudgetForm\n        budget={payload.budget}\n        slug={payload.slug}\n        adminRoles={payload.adminRoles}\n        enabledProducts={payload.enabledProducts}\n      />\n    </Layout>\n  )\n}\n\ntry{ BudgetEditPage.displayName ||= 'BudgetEditPage' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\n\nimport {ErrorComponent} from '../components'\nimport BudgetForm from '../components/budget/BudgetForm'\nimport Layout from '../components/Layout'\n\nimport type {AdminRole} from '../types/common'\nimport type {Product} from '../types/products'\n\nexport interface BudgetNewPagePayload {\n  slug: string\n  current_user_id: string\n  adminRoles: AdminRole[]\n  enabledProducts: Product[]\n}\n\nexport function BudgetNewPage() {\n  const payload = useRoutePayload<BudgetNewPagePayload>()\n  const {enabledProducts, slug, current_user_id, adminRoles} = payload\n\n  return (\n    <Layout>\n      {enabledProducts.length > 0 ? (\n        <BudgetForm\n          slug={slug}\n          currentUserId={current_user_id}\n          adminRoles={adminRoles}\n          enabledProducts={enabledProducts}\n        />\n      ) : (\n        <ErrorComponent sx={{border: 0}} testid=\"new-budget-form-loading-error\" text=\"Something went wrong\" />\n      )}\n    </Layout>\n  )\n}\n\ntry{ BudgetNewPage.displayName ||= 'BudgetNewPage' } catch {}","import {KebabHorizontalIcon, PencilIcon, TrashIcon} from '@primer/octicons-react'\nimport {ActionList, ActionMenu, Box, Button, Dialog, IconButton, Text} from '@primer/react'\nimport {useContext, useRef, useState} from 'react'\n\nimport {PageContext} from '../../App'\n\ntype BudgetActionMenuProps = {\n  budgetId: string\n  productName: string\n  targetType: string\n  targetName: string\n  editLink: string\n  onDeleteClick: () => void\n}\n\nexport default function BudgetActionMenu({\n  budgetId,\n  productName,\n  targetType,\n  targetName,\n  editLink,\n  onDeleteClick,\n}: BudgetActionMenuProps) {\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false)\n  const returnFocusRef = useRef(null)\n\n  const onDeleteDialogOpen = () => setIsDeleteDialogOpen(true)\n  const onDeleteDialogClose = () => setIsDeleteDialogOpen(false)\n  const onDeleteBudget = () => {\n    onDeleteClick()\n    onDeleteDialogClose()\n  }\n\n  return (\n    <>\n      <ActionMenu>\n        <ActionMenu.Anchor>\n          {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n          <IconButton\n            unsafeDisableTooltip={true}\n            icon={KebabHorizontalIcon}\n            variant=\"invisible\"\n            aria-label={`View actions for ${targetType} ${targetName}'s budget`}\n            name=\"action-icon\"\n            sx={{ml: 3}}\n          />\n        </ActionMenu.Anchor>\n        <ActionMenu.Overlay>\n          <ActionList>\n            <ActionList.LinkItem href={editLink}>\n              <ActionList.LeadingVisual>\n                <PencilIcon />\n              </ActionList.LeadingVisual>\n              Edit\n            </ActionList.LinkItem>\n            {!isStafftoolsRoute && (\n              <ActionList.Item data-testid={`delete-budget-${budgetId}`} variant=\"danger\" onSelect={onDeleteDialogOpen}>\n                <ActionList.LeadingVisual>\n                  <TrashIcon />\n                </ActionList.LeadingVisual>\n                Delete\n              </ActionList.Item>\n            )}\n          </ActionList>\n        </ActionMenu.Overlay>\n      </ActionMenu>\n      {isDeleteDialogOpen && (\n        <Dialog\n          aria-labelledby=\"delete-budget-header\"\n          isOpen={isDeleteDialogOpen}\n          onDismiss={onDeleteDialogClose}\n          returnFocusRef={returnFocusRef}\n          sx={{width: ['100%', 320]}}\n        >\n          <Dialog.Header sx={{border: 0, bg: 'transparent'}}>Delete budget</Dialog.Header>\n          <Box sx={{px: 3}}>\n            <Text as=\"p\" sx={{mb: 2}}>\n              <strong>\n                Are you sure you want to delete the {productName} budget for {targetName}?\n              </strong>\n            </Text>\n            <p>Once deleted, the budget will no longer exist.</p>\n          </Box>\n          {/* TODO: Use Dialog.Footer\n            As of 2024-06-03 Dialog.Footer is not yet implemented in Primer React\n          */}\n          <Box sx={{display: 'flex', justifyContent: 'flex-end', p: 3}}>\n            <Button onClick={onDeleteDialogClose} sx={{mr: 2}}>\n              Cancel\n            </Button>\n            <Button onClick={onDeleteBudget} variant=\"danger\">\n              Delete budget\n            </Button>\n          </Box>\n        </Dialog>\n      )}\n    </>\n  )\n}\n\ntry{ BudgetActionMenu.displayName ||= 'BudgetActionMenu' } catch {}","import {useState} from 'react'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {AlertIcon, StopIcon, XIcon} from '@primer/octicons-react'\nimport {Box, Button, Flash, IconButton, Octicon, Text} from '@primer/react'\n\nimport useRoute from '../../hooks/use-route'\nimport {EDIT_BUDGET_ROUTE} from '../../routes'\n\nimport type {BudgetAlertDetails} from '../../types/budgets'\n\ntype BudgetBannerProps = {\n  budgetAlertDetail: BudgetAlertDetails\n}\n\nexport default function BudgetBanner({budgetAlertDetail}: BudgetBannerProps) {\n  const navigate = useNavigate()\n  const [visible, setVisible] = useState(true)\n\n  const {text, variant, dismissible, dismiss_link: dismissLink, budget_id: budgetId} = budgetAlertDetail\n\n  const getIcon = () => {\n    if (variant === 'danger') {\n      return StopIcon\n    } else return AlertIcon\n  }\n\n  const handleDismiss = async () => {\n    setVisible(false)\n    await verifiedFetchJSON(dismissLink, {method: 'POST'})\n  }\n\n  const icon = getIcon()\n  const {path: editBudgetUrl} = useRoute(EDIT_BUDGET_ROUTE, {budgetUUID: budgetId})\n\n  if (!visible) return null\n\n  return (\n    <Flash data-testid=\"billing-banner\" variant={variant} sx={{display: 'flex', alignItems: 'center', mb: 3}}>\n      <Octicon aria-label=\"Alert icon\" icon={icon} sx={{margin: 2}} />\n      <Text sx={{fontWeight: 'bold', m: 1}}>{text}</Text>\n      <Box sx={{display: 'flex', marginLeft: 'auto', gap: '3', alignItems: 'center'}}>\n        <Button sx={{m: 2}} onClick={() => navigate(editBudgetUrl)}>\n          Update your budget\n        </Button>\n        {dismissible && (\n          // eslint-disable-next-line primer-react/a11y-remove-disable-tooltip\n          <IconButton\n            unsafeDisableTooltip={true}\n            aria-label=\"Close\"\n            icon={XIcon}\n            size=\"small\"\n            onClick={handleDismiss}\n            variant=\"invisible\"\n            sx={{svg: {color: 'black'}}}\n          />\n        )}\n      </Box>\n    </Flash>\n  )\n}\n\ntry{ BudgetBanner.displayName ||= 'BudgetBanner' } catch {}","import {Label} from '@primer/react'\n\nconst labelStyle = {\n  marginLeft: 2,\n}\n\ntype Props = {\n  budgetTargetAmount: number\n  budgetCurrentAmount: number\n}\n\nexport default function BudgetLabel({budgetCurrentAmount, budgetTargetAmount}: Props) {\n  const isOverBudget = budgetCurrentAmount > budgetTargetAmount\n\n  // if budgetTargetAmount is 0, we want to show the progress bar as full (100%)\n  const percentage = budgetTargetAmount === 0 ? 1.0 : budgetCurrentAmount / budgetTargetAmount\n\n  if (percentage < 0.9 && !isOverBudget) {\n    return null\n  }\n\n  const variant = isOverBudget ? 'danger' : 'attention'\n  const label = isOverBudget ? 'Over budget' : `${Math.floor(percentage * 100)}%`\n\n  return (\n    <Label variant={variant} sx={labelStyle} data-testid=\"budget-label\">\n      {label}\n    </Label>\n  )\n}\n\ntry{ BudgetLabel.displayName ||= 'BudgetLabel' } catch {}","import {ProgressBar} from '@primer/react'\n\ntype Props = {\n  budgetTargetAmount: number\n  budgetCurrentAmount: number\n}\n\nexport default function BudgetProgressBar({budgetCurrentAmount, budgetTargetAmount}: Props) {\n  const isOverBudget = budgetCurrentAmount > budgetTargetAmount\n\n  // if budgetTargetAmount is 0, we want to show the progress bar as full (100%)\n  const percentage = budgetTargetAmount === 0 ? 1 : budgetCurrentAmount / budgetTargetAmount\n  const progress = Math.min(percentage * 100, 100)\n\n  let bg: string\n  if (isOverBudget) {\n    bg = 'danger.emphasis'\n  } else if (budgetTargetAmount === 0 || percentage >= 0.9) {\n    bg = 'attention.emphasis'\n  } else {\n    bg = 'accent.emphasis'\n  }\n\n  return (\n    <ProgressBar\n      progress={progress}\n      bg={bg}\n      barSize=\"small\"\n      aria-label=\"Budget utilization\"\n      data-testid=\"budget-progressbar\"\n    />\n  )\n}\n\ntry{ BudgetProgressBar.displayName ||= 'BudgetProgressBar' } catch {}","import {AlertIcon} from '@primer/octicons-react'\nimport {Octicon, Box} from '@primer/react'\n\ntype Props = {\n  isOverBudget: boolean\n}\n\nexport default function BudgetWarningIcon({isOverBudget}: Props) {\n  if (isOverBudget) {\n    return (\n      <Box sx={{display: 'inline-block'}}>\n        <Octicon icon={AlertIcon} size={16} sx={{color: 'danger.fg'}} /> &nbsp;\n      </Box>\n    )\n  }\n  return null\n}\n\ntry{ BudgetWarningIcon.displayName ||= 'BudgetWarningIcon' } catch {}","export const tableDataCellStyle = {\n  display: 'flex',\n  flexDirection: ['row', 'column', 'column'],\n  width: ['100%', 'auto', 'auto'],\n  justifyContent: 'space-between',\n}\n\nexport const tableRowStyleRowtoCol = {\n  flexDirection: ['column', 'row', 'row'],\n  flexWrap: ['nowrap', 'wrap', 'wrap'],\n  display: 'flex',\n  alignItems: [null, null, 'center'],\n}\n","import {useState, useEffect} from 'react'\nimport {Box, Text, Pagination, ActionMenu, ActionList} from '@primer/react'\n\nimport {\n  BILLING_MANAGER,\n  ENTERPRISE_OWNER,\n  ENTERPRISE_ORG_OWNER,\n  BUDGET_SCOPE_ORGANIZATION,\n  BUDGET_SCOPE_REPOSITORY,\n} from '../../constants'\n\nimport {boxStyle, tableContainerStyle, tableHeaderStyle} from '../../utils/style'\n\nimport type {Budget} from '../../types/budgets'\nimport type {AdminRole} from '../../types/common'\nimport BudgetData from './BudgetData'\nimport type {Product} from '../../types/products'\n\ntype Props = {\n  budgets: Budget[]\n  adminRoles: AdminRole[]\n  deleteBudget: (budgetUuid: string) => void\n  isEnterpriseTable?: boolean\n  enabledProducts?: Product[]\n}\n\nexport default function BudgetsTable({\n  budgets,\n  adminRoles,\n  deleteBudget,\n  isEnterpriseTable = false,\n  enabledProducts,\n}: Props) {\n  const pageSize = 10\n  const [pageNumber, setPageNumber] = useState(1)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [selectedIndex, setSelectedIndex] = useState(0)\n  const [currData, setCurrData] = useState<Budget[]>([])\n  const [pagedData, setPagedData] = useState<Budget[]>([])\n  const scopeTypes = ['All', 'Organizations', 'Repositories']\n\n  const hasBudgetWritePermissions =\n    adminRoles.includes(BILLING_MANAGER) ||\n    adminRoles.includes(ENTERPRISE_OWNER) ||\n    adminRoles.includes(ENTERPRISE_ORG_OWNER)\n\n  const onPageChange: Parameters<typeof Pagination>['0']['onPageChange'] = (e, page) => {\n    e.preventDefault()\n    setCurrentPage(page)\n  }\n\n  useEffect(() => {\n    const updatePagedData = async () => {\n      setPageNumber(Math.ceil(currData.length / (1.0 * pageSize)) || 1)\n      setPagedData(currData.slice((currentPage - 1) * pageSize, currentPage * pageSize))\n    }\n    updatePagedData()\n  }, [currData, currentPage])\n\n  useEffect(() => {\n    let resourceType = 'All'\n    let currBudgets: Budget[]\n    switch (selectedIndex) {\n      case 1: {\n        resourceType = BUDGET_SCOPE_ORGANIZATION\n        break\n      }\n      case 2: {\n        resourceType = BUDGET_SCOPE_REPOSITORY\n        break\n      }\n    }\n    if (resourceType !== 'All') {\n      currBudgets = budgets.filter(budget => budget.targetType === resourceType)\n    } else {\n      currBudgets = budgets\n    }\n    setCurrentPage(1)\n    setCurrData(currBudgets)\n  }, [selectedIndex, budgets])\n\n  return (\n    <>\n      <Box sx={{...boxStyle, p: 0}}>\n        <Box as=\"table\" sx={tableContainerStyle} data-hpc>\n          <Box\n            as=\"thead\"\n            sx={{\n              ...tableHeaderStyle,\n              alignItems: 'center',\n              display: 'flex',\n            }}\n          >\n            <Box as=\"tr\" sx={{flex: 1}}>\n              <Box as=\"td\" sx={{float: 'left', mt: '6px', mb: '6px'}}>\n                <Text sx={{fontWeight: 'bold'}}>\n                  {isEnterpriseTable ? 'Enterprise budgets' : `${currData.length} budgets`}\n                </Text>\n              </Box>\n              <Box as=\"td\" sx={{float: 'right'}}>\n                {!isEnterpriseTable && (\n                  <ActionMenu>\n                    <ActionMenu.Button variant=\"invisible\" sx={{color: 'btn.text'}}>\n                      <Text sx={{fontWeight: 'normal'}}>Scope: {scopeTypes[selectedIndex] ?? 'All'}</Text>\n                    </ActionMenu.Button>\n                    <ActionMenu.Overlay>\n                      <ActionList>\n                        <ActionList.Group selectionVariant=\"single\">\n                          <ActionList.GroupHeading>Filter scope</ActionList.GroupHeading>\n                          {scopeTypes.map((scopeType, index) => (\n                            <ActionList.Item\n                              key={index}\n                              selected={index === selectedIndex}\n                              onSelect={() => setSelectedIndex(index)}\n                            >\n                              {scopeType}\n                            </ActionList.Item>\n                          ))}\n                        </ActionList.Group>\n                      </ActionList>\n                    </ActionMenu.Overlay>\n                  </ActionMenu>\n                )}\n              </Box>\n            </Box>\n          </Box>\n          <tbody>\n            {pagedData.map(budgetData => {\n              return (\n                <BudgetData\n                  key={budgetData.uuid}\n                  budgetData={budgetData}\n                  hasBudgetWritePermissions={hasBudgetWritePermissions}\n                  deleteBudget={deleteBudget}\n                  enabledProducts={enabledProducts}\n                />\n              )\n            })}\n          </tbody>\n        </Box>\n      </Box>\n      {currData.length > pageSize && (\n        <Pagination pageCount={pageNumber} currentPage={currentPage} onPageChange={onPageChange} />\n      )}\n    </>\n  )\n}\n\ntry{ BudgetsTable.displayName ||= 'BudgetsTable' } catch {}","import {useState} from 'react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport useRequest from '../use-request'\n\nimport {ERRORS} from '../../constants'\nimport {BUDGETS_ROUTE} from '../../routes'\n\nimport type {Budget} from '../../types/budgets'\n\ntype UseBudgetsPageParams = {\n  // The customer ID to load budgets for. This can be different than the Enterprise's\n  // customer id if a cost center is selected\n  customerId: string\n}\n\nfunction useBudgetsPage({customerId}: UseBudgetsPageParams) {\n  const [budgets, setBudgets] = useState<Budget[]>([])\n  const {addToast} = useToastContext()\n\n  useRequest({\n    route: BUDGETS_ROUTE,\n    reqParams: {customer_id: customerId},\n    onStart: () => setBudgets([]),\n    onSuccess: response => setBudgets(response.data.payload.budgets),\n    onError: () => {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: ERRORS.QUERY_BUDGETS_ERROR,\n      })\n    },\n  })\n\n  /** removes budget from state with a given uuid */\n  function deleteBudgetFromPage(uuid: string) {\n    const deleteIndex = budgets.findIndex(b => b.uuid === uuid)\n    const updatedBudgets = [...budgets]\n\n    updatedBudgets.splice(deleteIndex, 1)\n\n    setBudgets(updatedBudgets)\n  }\n\n  return {budgets, deleteBudgetFromPage}\n}\n\nexport default useBudgetsPage\n","import {ENTERPRISE_TRIAL_PLAN} from '../constants'\n\nexport const isOnTrial = (plan: string) => plan === ENTERPRISE_TRIAL_PLAN\n","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Heading, LinkButton, Text} from '@primer/react'\nimport {Blankslate} from '@primer/react/experimental'\n\nimport BudgetsTable from '../components/budget/BudgetsTable'\nimport Layout from '../components/Layout'\nimport {BUDGET_SCOPE_CUSTOMER, BUDGET_SCOPE_ENTERPRISE} from '../constants'\nimport useBudgetsPage from '../hooks/budget/use-budgets-page'\nimport useRoute from '../hooks/use-route'\nimport {NEW_BUDGET_ROUTE} from '../routes'\nimport {pageHeadingStyle} from '../utils'\nimport {useContext} from 'react'\nimport {isOnTrial} from '../utils/business'\n\nimport {PageContext} from '../App'\nimport type {Budget} from '../types/budgets'\nimport type {AdminRole, Customer} from '../types/common'\nimport type {Product} from '../types/products'\nimport {GoalIcon, InfoIcon} from '@primer/octicons-react'\n\nexport interface BudgetsPagePayload {\n  customer: Customer\n  type: string\n  budgets: Budget[]\n  adminRoles: AdminRole[]\n  enabledProducts: Product[]\n  helpUrl: string\n}\n\nexport function BudgetsPage() {\n  const payload = useRoutePayload<BudgetsPagePayload>()\n  const {adminRoles, customer, enabledProducts, helpUrl} = payload\n  const {customerId} = customer\n\n  const {budgets, deleteBudgetFromPage} = useBudgetsPage({customerId})\n  const enterpriseBudgets = budgets\n    .filter(b => b.targetType === BUDGET_SCOPE_CUSTOMER || b.targetType === BUDGET_SCOPE_ENTERPRISE) // TODO: remove 'Enterprise' after data migration\n    .sort((a, b) => {\n      return a.targetName > b.targetName ? 1 : -1\n    })\n  const nonEnterpriseBudgets = budgets\n    .filter(b => b.targetType !== BUDGET_SCOPE_CUSTOMER && b.targetType !== BUDGET_SCOPE_ENTERPRISE) // TODO: remove 'Enterprise' after data migration\n    .sort((a, b) => {\n      return a.targetName > b.targetName ? 1 : -1\n    })\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n  const trialCustomer = isOnTrial(customer.plan)\n  const budgetsDocsUrl = `${helpUrl}/early-access/billing/billing-private-beta#using-budgets-and-alerts`\n\n  const {path: newBudgetPath} = useRoute(NEW_BUDGET_ROUTE)\n  return (\n    <Layout>\n      <header className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Budgets and alerts\n        </Heading>\n        {!isStafftoolsRoute && !trialCustomer && (\n          <LinkButton\n            href={newBudgetPath}\n            sx={{color: 'btn.text', ':hover': {textDecoration: 'none'}}}\n            underline={false}\n          >\n            <Text sx={{fontWeight: 'normal'}}>New budget</Text>\n          </LinkButton>\n        )}\n      </header>\n      {trialCustomer ? (\n        <div className=\"text-center\">\n          <Blankslate border>\n            <Blankslate.Visual>\n              <GoalIcon size={24} />\n            </Blankslate.Visual>\n            <Blankslate.Heading>Track spending using budgets</Blankslate.Heading>\n            <Blankslate.Description>\n              <span>\n                You can create budgets to track your spending on products like Actions and Copilot for an organization,\n                repository, cost center or the entire enterprise.\n              </span>\n              <br />\n              <br />\n              <span>\n                <InfoIcon size={16} /> This is a paid feature and is not included as part of your trial.\n              </span>\n            </Blankslate.Description>\n            <Blankslate.SecondaryAction href={budgetsDocsUrl}>Learn more about budgets</Blankslate.SecondaryAction>\n          </Blankslate>\n        </div>\n      ) : (\n        <>\n          <div>\n            <BudgetsTable\n              budgets={enterpriseBudgets}\n              adminRoles={adminRoles}\n              deleteBudget={deleteBudgetFromPage}\n              enabledProducts={enabledProducts}\n              isEnterpriseTable\n            />\n          </div>\n          <br />\n          <div>\n            <BudgetsTable\n              budgets={nonEnterpriseBudgets}\n              adminRoles={adminRoles}\n              deleteBudget={deleteBudgetFromPage}\n              enabledProducts={enabledProducts}\n            />\n          </div>\n        </>\n      )}\n    </Layout>\n  )\n}\n\ntry{ BudgetsPage.displayName ||= 'BudgetsPage' } catch {}","import {PencilIcon, XIcon} from '@primer/octicons-react'\nimport {Box, Button, Dialog, FormControl, Heading, IconButton, LinkButton, Radio, RadioGroup, Text} from '@primer/react'\nimport {useState} from 'react'\n\nimport {Fonts, Spacing, boxStyle} from '../../utils/style'\n\nimport type {Subscription} from '../../types/cost-centers'\n\ninterface Props {\n  encodedAzureSubscriptionUri: string\n  setAzureTargetId: (azureSubscriptionId: string) => void\n  subscriptions: Subscription[]\n  targetId: string\n  // Optionally display the azure details in view-only mode\n  viewOnly?: boolean\n}\n\nexport function AzureSubscriptionDetails({\n  encodedAzureSubscriptionUri,\n  setAzureTargetId,\n  subscriptions,\n  targetId,\n  viewOnly = false,\n}: Props) {\n  const [isOpen, setIsOpen] = useState<boolean>(true)\n  const [selectedTargetId, setSelectedTargetId] = useState<string>(targetId)\n\n  const handleSubmit = () => {\n    setAzureTargetId(selectedTargetId)\n    setIsOpen(false)\n  }\n\n  if (viewOnly && !targetId) {\n    return <></>\n  }\n\n  return (\n    <Box sx={{mb: Spacing.CardMargin}} data-testid=\"azure-subscription-id-box\">\n      <Box sx={{mb: 2}}>\n        <Heading as=\"h3\" sx={{fontSize: Fonts.SectionHeadingFontSize}}>\n          Azure subscription ID\n        </Heading>\n        {!viewOnly && (\n          <span>Add an optional Azure Subscription ID. You will be asked to authenticate through Azure.</span>\n        )}\n      </Box>\n      {targetId && subscriptions ? (\n        <Box sx={{...boxStyle, display: 'flex', alignItems: 'center'}} data-testid=\"azure-subscription-id-view\">\n          <Box sx={{display: 'flex', flexDirection: 'column'}}>\n            <Text sx={{fontWeight: 'bold'}}>{subscriptions.find(s => s.subscriptionId === targetId)?.displayName}</Text>\n            <Text sx={{color: 'fg.muted'}}> {targetId}</Text>\n          </Box>\n          {!viewOnly && (\n            <>\n              {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n              <IconButton\n                unsafeDisableTooltip={true}\n                icon={PencilIcon}\n                variant=\"invisible\"\n                sx={{color: 'fg.muted', ml: 'auto'}}\n                aria-label={`Change Azure subscription`}\n                onClick={() => setAzureTargetId('')}\n              />\n              {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n              <IconButton\n                unsafeDisableTooltip={true}\n                icon={XIcon}\n                variant=\"invisible\"\n                sx={{color: 'fg.muted', ml: 0}}\n                aria-label={`Delete Azure subscription`}\n                onClick={() => setAzureTargetId('')}\n              />\n            </>\n          )}\n        </Box>\n      ) : (\n        <Box className=\"Box\" sx={{mt: 2, p: 3}}>\n          <FormControl>\n            <FormControl.Label visuallyHidden>Cost center Azure Subscription ID input</FormControl.Label>\n            <LinkButton\n              sx={{color: 'btn.text', ':hover': {textDecoration: 'none'}}}\n              underline={false}\n              href={encodedAzureSubscriptionUri}\n            >\n              Add Azure Subscription ID\n            </LinkButton>\n            {subscriptions.length > 0 && (\n              <Dialog\n                isOpen={isOpen}\n                onDismiss={() => setIsOpen(false)}\n                aria-labelledby=\"picker-header\"\n                sx={{width: 440, maxHeight: '80vh', display: 'flex', flexDirection: 'column'}}\n              >\n                <Dialog.Header id=\"picker-header\">Connect Azure subscription</Dialog.Header>\n                <Box sx={{p: Spacing.StandardPadding, overflow: 'auto', flex: '1 1 auto'}}>\n                  <RadioGroup\n                    name=\"azureSubscriptionGroup\"\n                    onChange={(value: string | null) => {\n                      setSelectedTargetId(value ?? '')\n                    }}\n                  >\n                    <RadioGroup.Label>\n                      <Heading as=\"h3\" sx={{fontSize: 3}}>\n                        Select a subscription\n                      </Heading>\n                    </RadioGroup.Label>\n                    {subscriptions.map(s => {\n                      return (\n                        <FormControl key={s.subscriptionId} sx={{...boxStyle}}>\n                          <Radio name=\"subscription\" value={s.subscriptionId} />\n                          <FormControl.Label> {s.displayName} </FormControl.Label>\n                          <FormControl.Caption> {s.subscriptionId} </FormControl.Caption>\n                        </FormControl>\n                      )\n                    })}\n                  </RadioGroup>\n                </Box>\n                {selectedTargetId && (\n                  <Box sx={{display: 'flex', p: 3}}>\n                    <Button block variant=\"primary\" onClick={handleSubmit}>\n                      Connect\n                    </Button>\n                  </Box>\n                )}\n              </Dialog>\n            )}\n          </FormControl>\n        </Box>\n      )}\n    </Box>\n  )\n}\n\ntry{ AzureSubscriptionDetails.displayName ||= 'AzureSubscriptionDetails' } catch {}","import {Box, Text} from '@primer/react'\n\nexport default function CostCenterBanner() {\n  return (\n    <Box sx={{mt: 2, mb: 4}}>\n      <Text sx={{color: 'fg.muted'}}>\n        Cost centers can consist of organizations and repositories for usage-based products like Actions. For\n        license-based products (Copilot, Advanced Security, and GitHub Enterprise), cost centers can include users.\n      </Text>\n    </Box>\n  )\n}\n\ntry{ CostCenterBanner.displayName ||= 'CostCenterBanner' } catch {}","import {Box, Heading, TextInput, FormControl} from '@primer/react'\n\nimport {Fonts, Spacing} from '../../utils/style'\n\ninterface Props {\n  name: string\n  setCostCenterName: (name: string) => void\n}\n\nexport function CostCenterDetails({name, setCostCenterName}: Props) {\n  return (\n    <>\n      <Box sx={{mb: Spacing.CardMargin}}>\n        <Box sx={{mb: 2}}>\n          <Heading as=\"h3\" sx={{fontSize: Fonts.SectionHeadingFontSize}}>\n            Cost center name\n          </Heading>\n          <span>Pick something memorable that will help when searching for this cost center.</span>\n        </Box>\n\n        <FormControl required>\n          <FormControl.Label visuallyHidden>Cost Center Name Input</FormControl.Label>\n          <TextInput\n            block\n            type=\"text\"\n            data-testid=\"cost-center-name-input\"\n            placeholder=\"\"\n            value={name}\n            onChange={e => setCostCenterName(e.target.value)}\n          />\n        </FormControl>\n      </Box>\n    </>\n  )\n}\n\ntry{ CostCenterDetails.displayName ||= 'CostCenterDetails' } catch {}","import {AlertIcon} from '@primer/octicons-react'\nimport {Flash, Octicon} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport {Spacing} from '../../utils/style'\n\nexport function ErrorBanner({message, sx = {}}: {message: string; sx?: BetterSystemStyleObject}) {\n  return (\n    <Flash sx={{mb: Spacing.CardMargin, ...sx}} variant=\"danger\">\n      <Octicon aria-label=\"Alert icon\" icon={AlertIcon} />\n      {message}\n    </Flash>\n  )\n}\n\ntry{ ErrorBanner.displayName ||= 'ErrorBanner' } catch {}","import {SelectedRows} from './SelectedRows'\nimport {PickerHeader} from './PickerHeader'\nimport {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {Spacing} from '../../utils'\n\ninterface Props {\n  title: string\n  // Number of rows to render\n  totalCount: number\n  // Optionally display the resource selector in view-only mode\n  viewOnly?: boolean\n}\n\nexport function PickerLoadingSkeleton({title, totalCount, viewOnly = false}: Props) {\n  return (\n    <>\n      <PickerHeader title={title} />\n      <div>\n        {!viewOnly && <LoadingSkeleton sx={{width: '50%', height: '32px', mb: Spacing.StandardPadding}} />}\n        <SelectedRows loading={true} removeOption={() => {}} selected={[]} totalCount={totalCount} />\n      </div>\n    </>\n  )\n}\n\ntry{ PickerLoadingSkeleton.displayName ||= 'PickerLoadingSkeleton' } catch {}","import {ErrorBoundary} from '@github-ui/react-core/error-boundary'\nimport {Box, Heading} from '@primer/react'\nimport {useEffect, useState} from 'react'\nimport {useQueryLoader} from 'react-relay'\n\nimport {ResourceType} from '../../enums/cost-centers'\nimport {Fonts, Spacing} from '../../utils/style'\n\nimport {ErrorBanner} from '../common/ErrorBanner'\nimport {OrganizationPicker, OrganizationPickerRecentQuery} from '../pickers/OrganizationPicker'\nimport type {OrganizationPickerRecentQuery as OrganizationPickerQueryType} from '../pickers/__generated__/OrganizationPickerRecentQuery.graphql'\nimport {RepositoryPicker, RepositoryPickerRecentQuery} from '../pickers/RepositoryPicker'\nimport type {RepositoryPickerRecentQuery as RepositoryPickerQueryType} from '../pickers/__generated__/RepositoryPickerRecentQuery.graphql'\n\nimport type {Customer} from '../../types/common'\nimport type {CostCenterPicker, Resource} from '../../types/cost-centers'\nimport {PickerLoadingSkeleton} from '../pickers/PickerLoadingSkeleton'\n\ninterface Props {\n  customer: Customer\n  resources: Resource[]\n  setCostCenterResources: (resources: Resource[]) => void\n  // Optionally disable the org or repo picker or both\n  disablePicker?: CostCenterPicker[]\n  // Optionally display the resource selector in view-only mode\n  viewOnly?: boolean\n}\n\nexport function CostCenterResourceSelector({\n  customer,\n  resources,\n  setCostCenterResources,\n  disablePicker,\n  viewOnly = false,\n}: Props) {\n  const [loadOrgsError, setLoadOrgsError] = useState<Error>()\n  const [loadReposError, setLoadReposError] = useState<Error>()\n\n  function handleOrgsGQLError(e: Error) {\n    setLoadOrgsError(e)\n  }\n\n  function handleReposGQLError(e: Error) {\n    setLoadReposError(e)\n  }\n\n  function useFetchOrganizations() {\n    const [organizationsRef, loadOrganizations, disposeOrganizationsRef] =\n      useQueryLoader<OrganizationPickerQueryType>(OrganizationPickerRecentQuery)\n    useEffect(() => {\n      if (!disablePicker?.includes('org')) {\n        loadOrganizations({slug: customer.displayId, query: null}, {fetchPolicy: 'store-or-network'})\n      }\n\n      return () => disposeOrganizationsRef()\n    }, [loadOrganizations, disposeOrganizationsRef])\n    return organizationsRef\n  }\n\n  function useFetchRepositories() {\n    const [repositoriesRef, loadRepositories, disposeRepositoriesRef] =\n      useQueryLoader<RepositoryPickerQueryType>(RepositoryPickerRecentQuery)\n    useEffect(() => {\n      if (!disablePicker?.includes('repo')) {\n        loadRepositories({slug: customer.displayId}, {fetchPolicy: 'store-or-network'})\n      }\n      return () => {\n        disposeRepositoriesRef()\n      }\n    }, [loadRepositories, disposeRepositoriesRef])\n    return repositoriesRef\n  }\n\n  const organizationsRef = useFetchOrganizations()\n  const repositoriesRef = useFetchRepositories()\n\n  const resourceByOrg = resources.filter(resource => resource.type === ResourceType.Org).map(resource => resource.id)\n  const resourceByRepo = resources.filter(resource => resource.type === ResourceType.Repo).map(resource => resource.id)\n\n  const filterByType = (selectedIds: string[], type: ResourceType) => {\n    const tmp = resources.filter(item => item.type !== type)\n    const newResources = selectedIds.map(item => {\n      const resource: Resource = {type, id: String(item)}\n      return resource\n    })\n    setCostCenterResources(tmp.concat(newResources))\n  }\n\n  const setOrgIds = (orgs: string[]) => {\n    filterByType(orgs, ResourceType.Org)\n  }\n\n  const setRepoIds = (orgs: string[]) => {\n    filterByType(orgs, ResourceType.Repo)\n  }\n\n  const resourcePickerStyle = {\n    mb: Spacing.CardMargin,\n    p: 3,\n  }\n\n  return (\n    <Box sx={{mb: Spacing.CardMargin}}>\n      <Box sx={{mb: 2}}>\n        <Heading as=\"h3\" sx={{fontSize: Fonts.SectionHeadingFontSize}}>\n          Resources\n        </Heading>\n        {!viewOnly && <span>Set the resources that will be a part of this cost center.</span>}\n      </Box>\n\n      {!disablePicker?.includes('org') && (\n        <Box className=\"Box\" data-testid=\"org-picker-wrapper\" sx={resourcePickerStyle}>\n          <ErrorBoundary onError={handleOrgsGQLError}>\n            {organizationsRef ? (\n              <OrganizationPicker\n                slug={customer.displayId}\n                preloadedOrganizationsRef={organizationsRef}\n                setSelectedItems={setOrgIds}\n                initialSelectedItemIds={resourceByOrg}\n                selectionVariant=\"multiple\"\n                indent={false}\n                entityType=\"cost center\"\n                viewOnly={viewOnly}\n              />\n            ) : (\n              <PickerLoadingSkeleton title=\"Organizations\" totalCount={resourceByOrg.length} viewOnly={viewOnly} />\n            )}\n          </ErrorBoundary>\n          {loadOrgsError && <ErrorBanner message={loadOrgsError.cause as string} sx={{mt: 2, mb: 0}} />}\n        </Box>\n      )}\n      {!disablePicker?.includes('repo') && (\n        <Box className=\"Box\" data-testid=\"repo-picker-wrapper\" sx={resourcePickerStyle}>\n          <ErrorBoundary onError={handleReposGQLError}>\n            {repositoriesRef ? (\n              <RepositoryPicker\n                slug={customer.displayId}\n                preloadedRepositoriesRef={repositoriesRef}\n                setSelectedItems={setRepoIds}\n                initialSelectedItemIds={resourceByRepo}\n                selectionVariant=\"multiple\"\n                indent={false}\n                entityType=\"cost center\"\n                viewOnly={viewOnly}\n              />\n            ) : (\n              <PickerLoadingSkeleton title=\"Repositories\" totalCount={resourceByRepo.length} viewOnly={viewOnly} />\n            )}\n          </ErrorBoundary>\n          {loadReposError && <ErrorBanner message={loadReposError.cause as string} sx={{mt: 2, mb: 0}} />}\n        </Box>\n      )}\n    </Box>\n  )\n}\n\ntry{ CostCenterResourceSelector.displayName ||= 'CostCenterResourceSelector' } catch {}","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {Box, Button, Flash, Heading, Dialog, Link, Octicon, Text} from '@primer/react'\nimport {InfoIcon} from '@primer/octicons-react'\nimport upperFirst from 'lodash-es/upperFirst'\nimport {useLocation, useNavigate} from 'react-router-dom'\nimport {useEffect, useRef, useState} from 'react'\nimport {useSearchParams} from '@github-ui/use-navigate'\nimport safeStorage from '@github-ui/safe-storage'\n\nimport {ENTERPRISE_OWNER, ENTERPRISE_ORG_OWNER, BILLING_MANAGER} from '../../constants'\nimport {CostCenterType} from '../../enums/cost-centers'\nimport {doRequest, HTTPMethod} from '../../hooks/use-request'\nimport useRoute from '../../hooks/use-route'\nimport {COST_CENTERS_ROUTE, CREATE_COST_CENTER_ROUTE, UPSERT_COST_CENTER_ROUTE} from '../../routes'\nimport {pageHeadingStyle, Fonts, Spacing} from '../../utils/style'\n\nimport {AzureSubscriptionDetails} from './AzureSubscriptionDetails'\nimport CostCenterBanner from './CostCenterBanner'\nimport {CostCenterDetails} from './CostCenterDetails'\nimport {CostCenterResourceSelector} from './CostCenterResourceSelector'\n\nimport type {AdminRole, Customer} from '../../types/common'\nimport type {\n  CostCenter,\n  CostCenterPicker,\n  Resource,\n  Subscription,\n  CreateCostCenterRequest,\n  UpdateCostCenterRequest,\n} from '../../types/cost-centers'\n\ninterface CostCenterFormProps {\n  action: 'new' | 'edit'\n  adminRoles: AdminRole[]\n  costCenter: CostCenter\n  customer: Customer\n  encodedAzureSubscriptionUri: string\n  subscriptions: Subscription[]\n  isCopilotStandalone: boolean\n}\n\nexport default function CostCenterForm({\n  action,\n  adminRoles,\n  costCenter,\n  customer,\n  encodedAzureSubscriptionUri,\n  subscriptions,\n  isCopilotStandalone,\n}: CostCenterFormProps) {\n  const {\n    costCenterKey: {uuid, targetId: originalTargetId, targetType},\n  } = costCenter\n  const [params] = useSearchParams()\n  const location = useLocation()\n  const safeLocalStorage = safeStorage('localStorage')\n\n  const [name, setName] = useState<string>(() => {\n    if (params.get('dialog') === 'true') {\n      return safeLocalStorage.getItem('costCenterName') || costCenter.name\n    }\n    return costCenter.name\n  })\n  const [targetId, setTargetId] = useState<string>(costCenter.costCenterKey.targetId)\n  const [resources, setResources] = useState<Resource[]>(() => {\n    if (params.get('dialog') === 'true') {\n      const storedResources = safeLocalStorage.getItem('costCenterResources')\n      return storedResources ? JSON.parse(storedResources) : costCenter.resources\n    }\n    return costCenter.resources\n  })\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\n\n  const navigate = useNavigate()\n  const {path: allCostCentersRoute} = useRoute(COST_CENTERS_ROUTE)\n  const {path: createCostCentersPath} = useRoute(CREATE_COST_CENTER_ROUTE)\n  const {path: editCostCentersPath} = useRoute(UPSERT_COST_CENTER_ROUTE, {costCenterUUID: uuid})\n\n  const returnFocusRef = useRef(null)\n\n  const resourcesRef = useRef(resources)\n  const [initialResources] = useState(() => {\n    const storedResources = safeLocalStorage.getItem('costCenterInitialResources')\n    return storedResources ? JSON.parse(storedResources) : resourcesRef.current\n  })\n  const {addToast} = useToastContext()\n\n  const setCostCenterName = (newName: string) => {\n    setName(newName)\n    safeLocalStorage.setItem('costCenterName', newName)\n  }\n\n  const setCostCenterResources = (newResources: Resource[]) => {\n    setResources(newResources)\n    safeLocalStorage.setItem('costCenterResources', JSON.stringify(newResources))\n  }\n\n  const removeFormValuesFromLocalStorage = () => {\n    safeLocalStorage.removeItem('costCenterName')\n    safeLocalStorage.removeItem('costCenterResources')\n    safeLocalStorage.removeItem('costCenterInitialResources')\n  }\n\n  useEffect(() => {\n    // if we aren't redirected from Azure login, set the initial resources in local storage\n    if (params.get('dialog') !== 'true') {\n      safeLocalStorage.setItem('costCenterInitialResources', JSON.stringify(costCenter.resources))\n    }\n    // We only want to run this effect when first loading the page\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    // cleanup function to remove form values from local storage when we aren't redirected from Azure login\n    return () => {\n      if (params.get('dialog') !== 'true') {\n        removeFormValuesFromLocalStorage()\n      }\n    }\n    // We only want to run this effect when location changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location])\n\n  function handleCancel() {\n    // we need to clear the local storage values if we added an azure id because the cleanup function won't run\n    if (params.get('dialog') === 'true') {\n      removeFormValuesFromLocalStorage()\n    }\n    navigate(allCostCentersRoute)\n  }\n\n  const handleSubmit = async (e: React.FormEvent<EventTarget>) => {\n    e.preventDefault()\n    setIsEditDialogOpen(false)\n\n    if (name === '') {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'Unable to save cost center with no name',\n        role: 'alert',\n      })\n      return\n    }\n\n    let ok: boolean\n    if (action === 'new') {\n      ok = await handleCreateCostCenter()\n    } else {\n      ok = await handleUpdateCostCenter()\n    }\n\n    if (ok) {\n      // we need to clear the local storage values if we added an azure id because the cleanup function won't run\n      if (params.get('dialog') === 'true') {\n        removeFormValuesFromLocalStorage()\n      }\n      navigate(allCostCentersRoute)\n    }\n  }\n\n  const handleCreateCostCenter = async (): Promise<boolean> => {\n    const createRequest: CreateCostCenterRequest = {\n      name,\n      resources,\n      targetId,\n    }\n\n    const {ok, data} = await doRequest<CreateCostCenterRequest>(HTTPMethod.POST, createCostCentersPath, createRequest)\n    if (!ok) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: data.error ?? 'There was an issue creating your cost center',\n        role: 'alert',\n      })\n    } else {\n      if (resources.length === 0) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: 'Successfully created cost center. Please add some resources via the API to start tracking costs.',\n          role: 'status',\n        })\n      }\n    }\n\n    return ok\n  }\n\n  const handleUpdateCostCenter = async (): Promise<boolean> => {\n    // Resources to add: in `resources` but not in `initialResources`\n    const resourcesToAdd = resources.filter(\n      r => !initialResources.some((ir: Resource) => r.id === ir.id && r.type === ir.type),\n    )\n    // Resources to remove: in `initialResources` but not in `resources`\n    const resourcesToRemove = initialResources.filter(\n      (r: Resource) => !resources.some(ir => r.id === ir.id && r.type === ir.type),\n    )\n\n    const updateRequest: UpdateCostCenterRequest = {\n      name,\n      originalTargetId,\n      resourcesToAdd,\n      resourcesToRemove,\n      targetId,\n    }\n\n    const {ok, data} = await doRequest<UpdateCostCenterRequest>(HTTPMethod.PUT, editCostCentersPath, updateRequest)\n    if (!ok) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: data.error,\n        role: 'alert',\n      })\n    } else {\n      if (resources.length === 0) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: 'Successfully updated cost center. Please add some resources via the API to start tracking costs.',\n          role: 'status',\n        })\n      }\n    }\n\n    return ok\n  }\n\n  const disablePicker: CostCenterPicker[] = []\n  // Push both org and repo to disablePicker if non-GHE Enterprise\n  if (isCopilotStandalone) {\n    disablePicker.push('org', 'repo')\n  } else {\n    if (!adminRoles.includes(ENTERPRISE_OWNER) && !adminRoles.includes(BILLING_MANAGER)) {\n      disablePicker.push('org')\n    }\n\n    if (\n      !adminRoles.includes(ENTERPRISE_ORG_OWNER) &&\n      (adminRoles.includes(ENTERPRISE_OWNER) || adminRoles.includes(BILLING_MANAGER))\n    ) {\n      disablePicker.push('repo')\n    }\n  }\n\n  const membersStyle = {\n    mb: Spacing.CardMargin,\n    p: 3,\n  }\n\n  return (\n    <>\n      <header className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          <Link href={allCostCentersRoute}>Cost centers</Link>\n          <span aria-hidden=\"true\">&nbsp;/&nbsp;</span>\n          {upperFirst(action)} cost center\n        </Heading>\n      </header>\n\n      <CostCenterBanner />\n\n      <Box sx={{maxWidth: '70ch'}}>\n        <form onSubmit={handleSubmit}>\n          <CostCenterDetails name={name} setCostCenterName={setCostCenterName} />\n          {targetType === CostCenterType.AzureSubscription && (\n            <AzureSubscriptionDetails\n              subscriptions={subscriptions}\n              targetId={targetId}\n              encodedAzureSubscriptionUri={encodedAzureSubscriptionUri}\n              setAzureTargetId={setTargetId}\n            />\n          )}\n          <CostCenterResourceSelector\n            customer={customer}\n            resources={resources}\n            setCostCenterResources={setCostCenterResources}\n            disablePicker={disablePicker}\n          />\n          <Box className=\"Box\" data-testid=\"members-wrapper\" sx={membersStyle}>\n            <Heading as=\"h4\" sx={{mb: Spacing.StandardPadding, fontSize: Fonts.CardHeadingFontSize}}>\n              Members\n            </Heading>\n\n            <Flash>\n              <Octicon aria-label=\"Alert icon\" icon={InfoIcon} />\n              You can add users to a cost center{' '}\n              <Link\n                href=\"https://docs.github.com/en/enterprise-cloud@latest/rest/enterprise-admin/billing?apiVersion=2022-11-28#add-users-to-a-cost-center\"\n                target=\"_blank\"\n                inline\n                sx={{color: 'fg.default'}}\n              >\n                using the API\n              </Link>\n              .\n            </Flash>\n          </Box>\n          <Box sx={{display: 'flex'}}>\n            {action === 'new' && (\n              <Button type=\"submit\" variant=\"primary\">\n                Create cost center\n              </Button>\n            )}\n            {action === 'edit' && (\n              <Button variant=\"primary\" onClick={() => setIsEditDialogOpen(true)}>\n                Save changes\n              </Button>\n            )}\n            <Button sx={{ml: 2}} onClick={() => handleCancel()}>\n              Cancel\n            </Button>\n          </Box>\n          {isEditDialogOpen && (\n            <Dialog\n              aria-labelledby=\"delete-cost-center-header\"\n              data-testid=\"delete-cost-center-dialog\"\n              isOpen={isEditDialogOpen}\n              onDismiss={() => setIsEditDialogOpen(false)}\n              returnFocusRef={returnFocusRef}\n              sx={{width: 320}}\n            >\n              <Dialog.Header sx={{border: 0, bg: 'transparent'}}>Confirm editing cost center</Dialog.Header>\n              <Box sx={{px: 3}}>\n                <Text as=\"p\" sx={{mb: 2}}>\n                  <strong>Are you sure you want to save changes made to this cost center?</strong>\n                </Text>\n              </Box>\n              {/* TODO: Use Dialog.Footer\n            As of 2024-01-25 Dialog.Footer is not yet implemented in Primer React\n          */}\n              <Box sx={{display: 'flex', justifyContent: 'flex-end', p: 3}}>\n                <Button\n                  onClick={() => {\n                    setIsEditDialogOpen(false)\n                  }}\n                  sx={{mr: 2}}\n                >\n                  Cancel\n                </Button>\n                <Button type=\"submit\" variant=\"danger\">\n                  Confirm\n                </Button>\n              </Box>\n            </Dialog>\n          )}\n        </form>\n      </Box>\n    </>\n  )\n}\n\ntry{ CostCenterForm.displayName ||= 'CostCenterForm' } catch {}","import Layout from '../components/Layout'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport CostCenterForm from '../components/cost_centers/CostCenterForm'\n\nimport type {AdminRole, Customer} from '../types/common'\nimport type {CostCenter, Subscription} from '../types/cost-centers'\n\nexport interface CostCenterEditPagePayload {\n  adminRoles: AdminRole[]\n  costCenter: CostCenter\n  customer: Customer\n  uri: string\n  subscriptions: Subscription[]\n  isCopilotStandalone: boolean\n}\n\nexport function CostCenterEditPage() {\n  const payload = useRoutePayload<CostCenterEditPagePayload>()\n  const {adminRoles, costCenter, customer, uri, subscriptions, isCopilotStandalone} = payload\n\n  return (\n    <>\n      <Layout>\n        <CostCenterForm\n          action=\"edit\"\n          adminRoles={adminRoles}\n          costCenter={costCenter}\n          customer={customer}\n          encodedAzureSubscriptionUri={uri}\n          subscriptions={subscriptions}\n          isCopilotStandalone={isCopilotStandalone}\n        />\n      </Layout>\n    </>\n  )\n}\n\ntry{ CostCenterEditPage.displayName ||= 'CostCenterEditPage' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\n\nimport Layout from '../components/Layout'\nimport CostCenterForm from '../components/cost_centers/CostCenterForm'\nimport {getCostCenterType} from '../utils/cost-centers'\n\nimport type {AdminRole, Customer} from '../types/common'\nimport type {Subscription} from '../types/cost-centers'\n\nexport interface CostCenterNewPagePayload {\n  adminRoles: AdminRole[]\n  customer: Customer\n  uri: string\n  subscriptions: Subscription[]\n  isCopilotStandalone: boolean\n}\n\nexport function CostCenterNewPage() {\n  const payload = useRoutePayload<CostCenterNewPagePayload>()\n  const {adminRoles, customer, uri, subscriptions, isCopilotStandalone} = payload\n  const newCostCenter = {\n    costCenterKey: {\n      customerId: customer.customerId,\n      targetType: getCostCenterType(customer.billingTarget),\n      targetId: '',\n      uuid: '',\n    },\n    name: '',\n    resources: [],\n  }\n\n  return (\n    <Layout>\n      <CostCenterForm\n        action=\"new\"\n        adminRoles={adminRoles}\n        costCenter={newCostCenter}\n        customer={customer}\n        encodedAzureSubscriptionUri={uri}\n        subscriptions={subscriptions}\n        isCopilotStandalone={isCopilotStandalone}\n      />\n    </Layout>\n  )\n}\n\ntry{ CostCenterNewPage.displayName ||= 'CostCenterNewPage' } catch {}","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {KebabHorizontalIcon} from '@primer/octicons-react'\nimport {ActionList, ActionMenu, Box, Button, Dialog, IconButton, Text} from '@primer/react'\nimport {useCallback, useContext, useRef, useState} from 'react'\n\nimport {PageContext} from '../../App'\nimport {HTTPMethod, doRequest} from '../../hooks/use-request'\nimport useRoute from '../../hooks/use-route'\nimport {\n  COST_CENTERS_ROUTE,\n  DELETE_COST_CENTER_ROUTE,\n  EDIT_COST_CENTER_ROUTE,\n  VIEW_COST_CENTER_ROUTE,\n} from '../../routes'\nimport type {CostCenter} from '../../types/cost-centers'\nimport {CostCenterState} from '../../enums/cost-centers'\n\ntype CostCenterActionMenuProps = {\n  costCenter: CostCenter\n}\n\nexport default function CostCenterActionMenu({costCenter}: CostCenterActionMenuProps) {\n  const {\n    costCenterKey: {uuid},\n    name,\n    costCenterState,\n  } = costCenter\n\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false)\n\n  const {path: allCostCentersRoute} = useRoute(COST_CENTERS_ROUTE)\n  const {path: viewCostCenterPath} = useRoute(VIEW_COST_CENTER_ROUTE, {costCenterUUID: uuid})\n  const {path: editCostCenterPath} = useRoute(EDIT_COST_CENTER_ROUTE, {costCenterUUID: uuid})\n  const {path: deleteCostCenterPath} = useRoute(DELETE_COST_CENTER_ROUTE, {costCenterUUID: uuid})\n\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n\n  const navigate = useNavigate()\n  const {addToast} = useToastContext()\n  const returnFocusRef = useRef(null)\n\n  const onDeleteDialogOpen = useCallback(() => setIsDeleteDialogOpen(true), [])\n  const onDeleteDialogClose = useCallback(() => setIsDeleteDialogOpen(false), [])\n  const onDeleteCostCenter = useCallback(async () => {\n    const {ok, data} = await doRequest(HTTPMethod.DELETE, deleteCostCenterPath, costCenter)\n    if (!ok) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: data.error,\n        role: 'alert',\n      })\n    } else {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'success',\n        message: `Successfully deleted cost center ${name}.`,\n        role: 'status',\n      })\n    }\n    setIsDeleteDialogOpen(false)\n    navigate(allCostCentersRoute)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div data-testid={`cost-center-${uuid}-action-menu`}>\n      <ActionMenu>\n        <ActionMenu.Anchor>\n          {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n          <IconButton\n            unsafeDisableTooltip={true}\n            icon={KebabHorizontalIcon}\n            variant=\"invisible\"\n            aria-label={`View actions for cost center ${name}`}\n          />\n        </ActionMenu.Anchor>\n        <ActionMenu.Overlay>\n          <ActionList>\n            <ActionList.LinkItem data-testid={`view-cost-center-${uuid}`} href={viewCostCenterPath}>\n              View details\n            </ActionList.LinkItem>\n            {costCenterState === CostCenterState.Active && !isStafftoolsRoute && (\n              <>\n                <ActionList.LinkItem data-testid={`edit-cost-center-${uuid}`} href={editCostCenterPath}>\n                  Edit\n                </ActionList.LinkItem>\n                <ActionList.Item\n                  data-testid={`delete-cost-center-${uuid}`}\n                  onSelect={onDeleteDialogOpen}\n                  ref={returnFocusRef}\n                  variant=\"danger\"\n                >\n                  Delete\n                </ActionList.Item>\n              </>\n            )}\n          </ActionList>\n        </ActionMenu.Overlay>\n      </ActionMenu>\n      {isDeleteDialogOpen && (\n        <Dialog\n          aria-labelledby=\"delete-cost-center-header\"\n          data-testid=\"delete-cost-center-dialog\"\n          isOpen={isDeleteDialogOpen}\n          onDismiss={onDeleteDialogClose}\n          returnFocusRef={returnFocusRef}\n          sx={{width: 320}}\n        >\n          <Dialog.Header sx={{border: 0, bg: 'transparent'}}>Delete cost center</Dialog.Header>\n          <Box sx={{px: 3}}>\n            <Text as=\"p\" sx={{mb: 2}}>\n              <strong>Are you sure you want to delete {name}?</strong>\n            </Text>\n            <p>\n              Once deleted, usage and spend incurred by resources included in this cost center will be attributed to\n              your enterprise account.\n            </p>\n          </Box>\n          {/* TODO: Use Dialog.Footer\n            As of 2024-01-25 Dialog.Footer is not yet implemented in Primer React\n          */}\n          <Box sx={{display: 'flex', justifyContent: 'flex-end', p: 3}}>\n            <Button onClick={onDeleteDialogClose} sx={{mr: 2}}>\n              Cancel\n            </Button>\n            <Button onClick={onDeleteCostCenter} variant=\"danger\">\n              Delete cost center\n            </Button>\n          </Box>\n        </Dialog>\n      )}\n    </div>\n  )\n}\n\ntry{ CostCenterActionMenu.displayName ||= 'CostCenterActionMenu' } catch {}","import {OrganizationIcon, RepoIcon, PersonIcon} from '@primer/octicons-react'\nimport {Pagination, Box, Text, Link, Label} from '@primer/react'\nimport Pluralize from 'pluralize'\nimport {useContext, useState, useEffect} from 'react'\n\nimport {ResourceType} from '../../enums/cost-centers'\nimport {PageContext, ReloadContext} from '../../App'\nimport useRoute from '../../hooks/use-route'\nimport {CostCenterTabs} from '../../routes/CostCentersPage'\nimport {PEOPLE_BASE_ROUTE} from '../../routes'\nimport {boxStyle, tableHeaderStyle, tableContainerStyle, tableRowStyle} from '../../utils/style'\n\nimport CostCenterActionMenu from './CostCenterActionMenu'\n\nimport type {CostCenter} from '../../types/cost-centers'\n\nconst tableDataCellStyleName = {\n  p: 3,\n  display: 'flex',\n  flexDirection: 'column',\n  width: ['100%', 'auto', 'auto'],\n  justifyContent: 'space-between',\n}\n\nconst tableRowStyleRowtoCol = {\n  p: 0,\n  flexDirection: ['column', 'row', 'row'],\n  flexWrap: ['nowrap', 'wrap', 'wrap'],\n  display: 'flex',\n  alignItems: [null, 'center', 'center'],\n}\n\ntype Props = {\n  costCenters: CostCenter[]\n  selectedTab: CostCenterTabs\n  hasUserScopedCostCenters: boolean\n}\n\nexport default function CostCentersTable({costCenters, selectedTab, hasUserScopedCostCenters}: Props) {\n  const pageSize = 10\n  const [pageNumber, setPageNumber] = useState(1)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [currData, setCurrData] = useState<CostCenter[]>([])\n  const [pagedData, setPagedData] = useState<CostCenter[]>([])\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n  const {path: enterprisePeopleRoute} = useRoute(PEOPLE_BASE_ROUTE)\n  const {reloadKey} = useContext(ReloadContext)\n  // cost center querying doesn't work in stafftools\n  // the members link should only show up if the business has user scoped cost centers\n  const showMembersLink = !isStafftoolsRoute && hasUserScopedCostCenters\n\n  const onPageChange: Parameters<typeof Pagination>['0']['onPageChange'] = (e, page) => {\n    e.preventDefault()\n    setCurrentPage(page)\n  }\n\n  useEffect(() => {\n    setCurrentPage(1)\n    setCurrData(costCenters.sort((a, b) => a.name.localeCompare(b.name)))\n  }, [costCenters])\n\n  useEffect(() => {\n    const updatePagedData = async () => {\n      setPageNumber(Math.ceil(currData.length / (1.0 * pageSize)) || 1)\n      setPagedData(currData.slice((currentPage - 1) * pageSize, currentPage * pageSize))\n    }\n    updatePagedData()\n  }, [currData, currentPage])\n\n  useEffect(() => {\n    // reload cost centers page when the reload key changes\n    // this is to handle the useFeatureFlag issue where the FF shows as false on the first render\n    if (reloadKey !== 0) {\n      // eslint-disable-next-line no-self-assign\n      window.location.href = window.location.href\n    }\n  }, [reloadKey])\n\n  const getMembersPageUrl = (costCenter: CostCenter) => {\n    // cost center member querying does not work in stafftools\n    if (isStafftoolsRoute) {\n      return enterprisePeopleRoute\n    }\n\n    const costCenterSlug = getSlugFromName(costCenter.name)\n    const allOtherCostCenterSlugs = costCenters\n      .filter(costCenterData => costCenterData.costCenterKey.uuid !== costCenter.costCenterKey.uuid)\n      .map(costCenterData => getSlugFromName(costCenterData.name))\n\n    // use the cost center UUID if there are slug collisions\n    if (allOtherCostCenterSlugs.includes(costCenterSlug)) {\n      return `${enterprisePeopleRoute}?query=cost_center:${costCenter.costCenterKey.uuid}`\n    }\n\n    return `${enterprisePeopleRoute}?query=cost_center:${costCenterSlug}`\n  }\n\n  const getSlugFromName = (name: string) => {\n    return name.toLowerCase().replace(/\\s/g, '-')\n  }\n\n  return (\n    <>\n      <Box sx={{...boxStyle, p: 0}}>\n        <Box as=\"table\" sx={{...tableContainerStyle}} data-hpc>\n          <Box as=\"thead\" sx={{...tableHeaderStyle, alignItems: 'center', display: 'flex'}}>\n            <Box as=\"tr\" sx={{flex: 1}}>\n              <Box as=\"td\" sx={{mt: '6px', mb: '6px'}}>\n                {costCenters.length} {selectedTab} {Pluralize('cost center', costCenters.length)}\n              </Box>\n            </Box>\n          </Box>\n          <tbody>\n            {pagedData.map(costCenter => {\n              const resourceByOrg = costCenter.resources.filter(resource => resource.type === ResourceType.Org)\n              const resourceByRepo = costCenter.resources.filter(resource => resource.type === ResourceType.Repo)\n              const resourceByUser = costCenter.resources.filter(resource => resource.type === ResourceType.User)\n\n              return (\n                <Box as=\"tr\" key={costCenter.costCenterKey.uuid} sx={{...tableRowStyle, ...tableRowStyleRowtoCol}}>\n                  {/* width: '99%' allows the td to fill the remaining space without flexbox */}\n                  {/* The first column displays the cost center name */}\n                  <Box as=\"td\" sx={{display: 'flex', flex: '3', alignItems: 'center'}}>\n                    <Box sx={tableDataCellStyleName}>\n                      <div>\n                        <Text sx={{mr: 2, fontWeight: 'bold', fontSize: 1, wordBreak: 'break-all'}}>\n                          {costCenter.name}\n                        </Text>\n                        {selectedTab === CostCenterTabs.Deleted && (\n                          <Label variant=\"attention\" sx={{mx: 2}}>\n                            Deleted\n                          </Label>\n                        )}\n                      </div>\n                      {isStafftoolsRoute && (\n                        <Text sx={{fontSize: '12px', color: 'fg.muted'}}>{costCenter.costCenterKey.uuid}</Text>\n                      )}\n                    </Box>\n\n                    <Box sx={{py: 2, px: 3, display: ['block', 'none']}}>\n                      <CostCenterActionMenu costCenter={costCenter} />\n                    </Box>\n                  </Box>\n                  {/* The second column displays the number of resources associated with the cost center */}\n                  <Box as=\"td\" sx={{minWidth: '138px', flex: 1}}>\n                    <Text sx={{ml: [3, 2, 2], whiteSpace: 'nowrap'}}>\n                      <OrganizationIcon size={16} /> {Pluralize('Organization', resourceByOrg.length, true)}\n                    </Text>\n                  </Box>\n                  <Box as=\"td\" sx={{minWidth: '128px', flex: 1, pb: showMembersLink ? 0 : [3, 0, 0]}}>\n                    <Text sx={{ml: [3, 2, 2], whiteSpace: 'nowrap'}}>\n                      <RepoIcon size={16} /> {Pluralize('Repository', resourceByRepo.length, true)}\n                    </Text>\n                  </Box>\n                  {showMembersLink && (\n                    <Box as=\"td\" sx={{minWidth: '104px', flex: 1, pb: [3, 0, 0]}}>\n                      <Text sx={{ml: [3, 2, 2], whiteSpace: 'nowrap'}}>\n                        <PersonIcon size={16} />{' '}\n                        <Link\n                          data-testid={`cost-center-url-${costCenter.costCenterKey.uuid}`}\n                          href={getMembersPageUrl(costCenter)}\n                        >\n                          {Pluralize('Member', resourceByUser.length, true)}\n                        </Link>\n                      </Text>\n                    </Box>\n                  )}\n                  <Box as=\"td\" sx={{py: 2, px: 3, display: ['none', 'table-cell']}}>\n                    <CostCenterActionMenu costCenter={costCenter} />\n                  </Box>\n                </Box>\n              )\n            })}\n          </tbody>\n        </Box>\n      </Box>\n      {currData.length > pageSize && (\n        <Pagination pageCount={pageNumber} currentPage={currentPage} onPageChange={onPageChange} />\n      )}\n    </>\n  )\n}\n\ntry{ CostCentersTable.displayName ||= 'CostCentersTable' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {BriefcaseIcon} from '@primer/octicons-react'\nimport {Box, Heading, LinkButton, Octicon, Text, UnderlineNav} from '@primer/react'\nimport {useContext, useState} from 'react'\n\nimport {PageContext} from '../App'\nimport CostCentersTable from '../components/cost_centers/CostCentersTable'\nimport CostCenterBanner from '../components/cost_centers/CostCenterBanner'\nimport Layout from '../components/Layout'\nimport useRoute from '../hooks/use-route'\nimport {NEW_COST_CENTER_ROUTE} from '../routes'\nimport {Fonts, Spacing, boxStyle, pageHeadingStyle} from '../utils/style'\nimport type {GetAllCostCentersResponse} from '../types/cost-centers'\n\nexport enum CostCenterTabs {\n  Active = 'active',\n  Deleted = 'deleted',\n}\n\nexport function CostCentersPage() {\n  const payload = useRoutePayload<GetAllCostCentersResponse>()\n  const {activeCostCenters, archivedCostCenters, hasUserScopedCostCenters} = payload\n  const [selectedTab, setSeletedTab] = useState<CostCenterTabs>(CostCenterTabs.Active)\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n  const {path: newCostCenterUrl} = useRoute(NEW_COST_CENTER_ROUTE)\n\n  const anyCostCenters = activeCostCenters.length || archivedCostCenters.length\n\n  return (\n    <Layout>\n      <header className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Cost centers\n        </Heading>\n\n        {anyCostCenters && !isStafftoolsRoute && (\n          <LinkButton href={newCostCenterUrl} underline={false}>\n            <Text sx={{fontWeight: 'normal'}}>New cost center</Text>\n          </LinkButton>\n        )}\n      </header>\n      <CostCenterBanner />\n      {anyCostCenters || isStafftoolsRoute ? (\n        <div>\n          {!isStafftoolsRoute && (\n            <UnderlineNav aria-label=\"Cost centers selector\" sx={{pl: 0, mb: 3}}>\n              <UnderlineNav.Item\n                aria-current={selectedTab === CostCenterTabs.Active ? 'page' : undefined}\n                onSelect={e => {\n                  e.preventDefault()\n                  setSeletedTab(CostCenterTabs.Active)\n                }}\n                key={'active-cost-centers-tab'}\n                data-testid={'active-cost-centers-tab'}\n              >\n                Active\n              </UnderlineNav.Item>\n              <UnderlineNav.Item\n                aria-current={selectedTab === CostCenterTabs.Deleted ? 'page' : undefined}\n                onSelect={e => {\n                  e.preventDefault()\n                  setSeletedTab(CostCenterTabs.Deleted)\n                }}\n                key={'deleted-cost-centers-tab'}\n                data-testid={'deleted-cost-centers-tab'}\n              >\n                Deleted\n              </UnderlineNav.Item>\n            </UnderlineNav>\n          )}\n          {selectedTab === CostCenterTabs.Active && (\n            <CostCentersTable\n              costCenters={activeCostCenters}\n              selectedTab={selectedTab}\n              hasUserScopedCostCenters={hasUserScopedCostCenters}\n            />\n          )}\n          {selectedTab === CostCenterTabs.Deleted && (\n            <CostCentersTable\n              costCenters={archivedCostCenters}\n              selectedTab={selectedTab}\n              hasUserScopedCostCenters={hasUserScopedCostCenters}\n            />\n          )}\n        </div>\n      ) : (\n        <Box\n          sx={{\n            ...boxStyle,\n            padding: Spacing.StandardPadding * 2,\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <Box sx={{mb: Spacing.StandardPadding}}>\n            <Octicon icon={BriefcaseIcon} size={24} />\n          </Box>\n          <Box\n            sx={{width: 600, display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}\n          >\n            <Heading as=\"h3\" sx={{mb: 1, fontSize: Fonts.SectionHeadingFontSize}}>\n              No cost centers created\n            </Heading>\n            <Text as=\"p\" sx={{mb: Spacing.CardMargin, color: 'fg.muted', textAlign: 'center'}}>\n              Create cost centers to track spending and bill separately for a group of organizations and repositories\n              within your enterprise.\n            </Text>\n          </Box>\n          <LinkButton href={newCostCenterUrl} variant=\"primary\">\n            New Cost Center\n          </LinkButton>\n        </Box>\n      )}\n    </Layout>\n  )\n}\n\ntry{ CostCentersPage.displayName ||= 'CostCentersPage' } catch {}","import {useEffect, useState} from 'react'\nimport {fetchQuery, useRelayEnvironment, readInlineData} from 'react-relay'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\nimport {Heading} from '@primer/react'\nimport {ResourceType} from '../../enums/cost-centers'\nimport {UserPickerUserFragment, UserPickerInitialUsersQuery} from '../pickers/UserPicker'\nimport ResourcePaginator from '../pickers/ResourcePaginator'\nimport {Fonts, Spacing} from '../../utils/style'\nimport {SelectedRows} from '../pickers/SelectedRows'\nimport {ErrorBanner} from '../common/ErrorBanner'\nimport type {Pagination} from '@primer/react'\nimport type {Resource} from '../../types/cost-centers'\nimport type {Item} from '../../types/common'\nimport type {UserPickerInitialUsersQuery as UserPickerInitialUsersQueryType} from '../pickers/__generated__/UserPickerInitialUsersQuery.graphql'\nimport type {\n  UserPickerUserFragment$key,\n  UserPickerUserFragment$data as User,\n} from '../pickers/__generated__/UserPickerUserFragment.graphql'\n\ninterface Props {\n  resources: Resource[]\n}\n\nexport default function CostCenterMembersList({resources}: Props) {\n  const pageSize = 10\n  const environment = useRelayEnvironment()\n  const [currentMembers, setCurrentMembers] = useState<Array<Item<string>>>([])\n  const [loadingMembers, setLoadingMembers] = useState(false)\n  const [loadMembersError, setLoadMembersError] = useState('')\n  const [pageCount, setPageCount] = useState(1)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [pagedMembersData, setPagedMembersData] = useState<Array<Item<string>>>([])\n\n  const onPageChange: Parameters<typeof Pagination>['0']['onPageChange'] = (e, page) => {\n    e.preventDefault()\n    setCurrentPage(page)\n  }\n\n  const convertToItemProps = (item: User) => {\n    return {\n      id: item.id,\n      text: item.login,\n      description: item.name ?? '',\n      leadingVisual: () => <GitHubAvatar square src={item.avatarUrl} alt=\"User login\" />,\n      rowLeadingVisual: () => <GitHubAvatar square src={item.avatarUrl} alt=\"User login\" />,\n      viewOnly: true,\n    }\n  }\n\n  const resourceByUser = resources.filter(resource => resource.type === ResourceType.User).map(resource => resource.id)\n\n  useEffect(() => {\n    setLoadingMembers(true)\n\n    /*\n    queries have an argument limit of 100 node ids so we are batching them to fetch all organizations\n    https://github.com/github/github/blob/0aeff718576cfc236cdcf082ab0bb68cbd35dca3/lib/platform/objects/query.rb#L86\n    */\n    const BATCH_SIZE = 100\n    const chunks: string[][] = []\n\n    for (let i = 0; i < resourceByUser.length; i += BATCH_SIZE) {\n      chunks.push(resourceByUser.slice(i, i + BATCH_SIZE))\n    }\n\n    const promises = chunks.map(chunk => {\n      return new Promise<Array<Item<string>>>((resolve, reject) => {\n        fetchQuery<UserPickerInitialUsersQueryType>(environment, UserPickerInitialUsersQuery, {\n          ids: chunk,\n        }).subscribe({\n          next: data => {\n            const nodes = (data.nodes || []).flatMap(node =>\n              // eslint-disable-next-line no-restricted-syntax\n              node ? [readInlineData<UserPickerUserFragment$key>(UserPickerUserFragment, node)] : [],\n            )\n            const members = nodes.map(n => convertToItemProps(n))\n\n            resolve(members)\n          },\n          error: (err: Error) => {\n            reject(err)\n          },\n        })\n      })\n    })\n\n    const loadUsers = async () => {\n      try {\n        const results = await Promise.all<Array<Item<string>>>(promises)\n        const members = results.flat()\n        setCurrentMembers(members)\n        const updatePagedData = async () => {\n          setPageCount(Math.ceil(members.length / (1.0 * pageSize)) || 1)\n          setPagedMembersData(members.slice((currentPage - 1) * pageSize, currentPage * pageSize))\n        }\n        updatePagedData()\n        setLoadingMembers(false)\n      } catch (error) {\n        setLoadMembersError('Unable to load members')\n        setLoadingMembers(false)\n      }\n    }\n\n    loadUsers()\n    // including the missing dependency `resourceByUser` causes an infinite loop\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [environment, currentPage])\n\n  return (\n    <div className=\"Box\">\n      <div className=\"Box-row\" data-testid=\"members-list-wrapper\">\n        <Heading\n          as=\"h4\"\n          sx={{mb: Spacing.StandardPadding, fontSize: Fonts.CardHeadingFontSize}}\n          data-testid=\"members-list-header\"\n        >\n          Members\n        </Heading>\n        <SelectedRows\n          loading={loadingMembers}\n          removeOption={() => {}}\n          selected={pagedMembersData}\n          totalCount={currentMembers.length}\n        />\n        {loadMembersError && <ErrorBanner message={loadMembersError} sx={{mt: 2, mb: 0}} />}\n        <ResourcePaginator\n          totalResources={currentMembers.length}\n          pageCount={pageCount}\n          pageSize={pageSize}\n          currentPage={currentPage}\n          onPageChange={onPageChange}\n        />\n      </div>\n    </div>\n  )\n}\n\ntry{ CostCenterMembersList.displayName ||= 'CostCenterMembersList' } catch {}","import {useContext, useState, useCallback, useRef} from 'react'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {useNavigate} from 'react-router-dom'\nimport {LinkButton, Text, Dialog, Box, Button, Breadcrumbs, Truncate} from '@primer/react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport {PageContext} from '../App'\nimport {AzureSubscriptionDetails} from '../components/cost_centers/AzureSubscriptionDetails'\nimport {CostCenterResourceSelector} from '../components/cost_centers/CostCenterResourceSelector'\nimport CostCenterMembersList from '../components/cost_centers/CostCenterMembersList'\nimport Layout from '../components/Layout'\nimport {CostCenterState, CostCenterType} from '../enums/cost-centers'\nimport useRoute from '../hooks/use-route'\nimport {doRequest, HTTPMethod} from '../hooks/use-request'\nimport {COST_CENTERS_ROUTE, EDIT_COST_CENTER_ROUTE, DELETE_COST_CENTER_ROUTE} from '../routes'\n\nimport type {Customer} from '../types/common'\nimport type {CostCenter, Subscription, CostCenterPicker} from '../types/cost-centers'\n\nexport interface CostCenterPagePayload {\n  costCenter: CostCenter\n  customer: Customer\n  encodedAzureSubscriptionUri: string\n  subscriptions: Subscription[]\n  isCopilotStandalone: boolean\n}\n\nexport function CostCenterPage() {\n  const navigate = useNavigate()\n  const payload = useRoutePayload<CostCenterPagePayload>()\n  const {costCenter, customer, encodedAzureSubscriptionUri, subscriptions, isCopilotStandalone} = payload\n  const {\n    costCenterKey: {targetId, targetType, uuid},\n    resources,\n    costCenterState,\n  } = costCenter\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false)\n  const {path: costCentersPath} = useRoute(COST_CENTERS_ROUTE)\n  const {path: editCostCenterPath} = useRoute(EDIT_COST_CENTER_ROUTE, {costCenterUUID: uuid})\n  const {path: deleteCostCenterPath} = useRoute(DELETE_COST_CENTER_ROUTE, {costCenterUUID: uuid})\n  const {path: allCostCentersRoute} = useRoute(COST_CENTERS_ROUTE)\n  const {addToast} = useToastContext()\n  const returnFocusRef = useRef(null)\n\n  const onDeleteDialogOpen = useCallback(() => setIsDeleteDialogOpen(true), [])\n  const onDeleteDialogClose = useCallback(() => setIsDeleteDialogOpen(false), [])\n  const handleDeleteCostCenter = useCallback(async (costCenterData: CostCenter) => {\n    const {ok, data} = await doRequest(HTTPMethod.DELETE, deleteCostCenterPath, costCenterData)\n    if (!ok) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: data.error,\n      })\n    } else {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'success',\n        message: 'Successfully deleted cost center.',\n      })\n    }\n    setIsDeleteDialogOpen(false)\n    navigate(allCostCentersRoute)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const disablePicker: CostCenterPicker[] = []\n  if (isCopilotStandalone) {\n    disablePicker.push('org', 'repo')\n  }\n\n  return (\n    <Layout>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          borderBottom: 'var(--borderWidth-thin) solid var(--borderColor-muted)',\n          paddingBottom: 2,\n          marginBottom: 3,\n          flexDirection: ['column', 'row'],\n        }}\n      >\n        <Breadcrumbs sx={{ol: {display: 'flex'}, '*::after': {fontSize: '24px'}}}>\n          <Breadcrumbs.Item href={costCentersPath} sx={{fontSize: '24px'}}>\n            Cost centers\n          </Breadcrumbs.Item>\n          <Breadcrumbs.Item selected as=\"h2\" sx={{fontSize: '24px', flex: '1 1 auto'}}>\n            <Truncate title={costCenter.name} expandable={true} maxWidth={[180, 240, 400, 660]}>\n              {costCenter.name}\n            </Truncate>\n          </Breadcrumbs.Item>\n        </Breadcrumbs>\n        {costCenterState === CostCenterState.Active && !isStafftoolsRoute && (\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              flexDirection: ['column', 'row'],\n              width: ['100%', 'auto'],\n            }}\n          >\n            <LinkButton\n              href={editCostCenterPath}\n              sx={{ml: 'auto', mt: [2, 0], width: ['100%', 'auto']}}\n              data-testid={`edit-cost-center-${uuid}`}\n            >\n              Edit\n            </LinkButton>\n            <Button\n              sx={{ml: [0, 2], mt: [2, 0], width: ['100%', 'auto']}}\n              variant=\"danger\"\n              data-testid={`delete-cost-center-${uuid}`}\n              onClick={onDeleteDialogOpen}\n              ref={returnFocusRef}\n            >\n              Delete\n            </Button>\n          </Box>\n        )}\n      </Box>\n\n      <Box sx={{maxWidth: '65ch'}}>\n        <CostCenterResourceSelector\n          customer={customer}\n          resources={resources}\n          setCostCenterResources={() => {}}\n          viewOnly={true}\n          disablePicker={disablePicker}\n        />\n        <CostCenterMembersList resources={resources} />\n        {targetType === CostCenterType.AzureSubscription && (\n          <AzureSubscriptionDetails\n            encodedAzureSubscriptionUri={encodedAzureSubscriptionUri}\n            setAzureTargetId={() => {}}\n            subscriptions={subscriptions}\n            targetId={targetId}\n            viewOnly={true}\n          />\n        )}\n      </Box>\n      {isDeleteDialogOpen && (\n        <Dialog\n          aria-labelledby=\"delete-cost-center-header\"\n          data-testid=\"delete-cost-center-dialog\"\n          isOpen={isDeleteDialogOpen}\n          onDismiss={onDeleteDialogClose}\n          returnFocusRef={returnFocusRef}\n          sx={{width: 320}}\n        >\n          <Dialog.Header sx={{border: 0, bg: 'transparent'}}>Delete cost center</Dialog.Header>\n          <Box sx={{px: 3}}>\n            <Text as=\"p\" sx={{mb: 2}}>\n              <strong>Are you sure you want to delete {costCenter.name}?</strong>\n            </Text>\n            <p>\n              Once deleted, usage and spend incurred by resources included in this cost center will be attributed to\n              your enterprise account.\n            </p>\n          </Box>\n          {/* TODO: Use Dialog.Footer\n            As of 2024-01-25 Dialog.Footer is not yet implemented in Primer React\n          */}\n          <Box sx={{display: 'flex', justifyContent: 'flex-end', p: 3}}>\n            <Button onClick={onDeleteDialogClose} sx={{mr: 2}}>\n              Cancel\n            </Button>\n            <Button onClick={() => handleDeleteCostCenter(costCenter)} variant=\"danger\">\n              Delete cost center\n            </Button>\n          </Box>\n        </Dialog>\n      )}\n    </Layout>\n  )\n}\n\ntry{ CostCenterPage.displayName ||= 'CostCenterPage' } catch {}","// Custom reverse function used to reverse the customerSelections array which somehow does not\n// work with the inbuilt JS reverse function.\nexport const reverse = <T>(array: T[]): T[] => {\n  const newArray: T[] = []\n  for (let i = array.length - 1; i >= 0; i--) {\n    if (array[i] !== undefined) {\n      newArray.push(array[i]!)\n    }\n  }\n  return newArray\n}\n","import {useState} from 'react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport useRequest from '../use-request'\n\nimport {ERRORS} from '../../constants'\nimport {DISCOUNTS_ROUTE} from '../../routes'\nimport {filterbyEnabledProducts, getUpdatedDiscountAmounts} from '../../utils/discount'\n\nimport type {DiscountState} from '../../types/customer'\nimport type {EnabledProduct} from '../../types/products'\nimport type {DiscountAmountsMap} from '../../types/discounts'\n\ntype LoadDiscountsParams = {\n  enabledProducts: EnabledProduct[]\n}\n\nfunction useDiscounts({enabledProducts}: LoadDiscountsParams) {\n  const [discountStates, setDiscountStates] = useState<DiscountState[]>([])\n  const [discountTargetAmounts, setDiscountTargetAmounts] = useState<DiscountAmountsMap>({})\n  const {addToast} = useToastContext()\n\n  // getMonth() is 0 based, but we need to pass in a value between 1-12\n  const month = new Date().getUTCMonth() + 1\n  const year = new Date().getUTCFullYear()\n\n  useRequest({\n    route: DISCOUNTS_ROUTE,\n    reqParams: {month: month.toString(), year: year.toString()},\n    onStart: () => {\n      setDiscountStates([])\n      setDiscountTargetAmounts({})\n    },\n    onSuccess: response => {\n      const enabledDiscounts = response.data.discounts.filter(filterbyEnabledProducts(enabledProducts))\n      const targetAmounts = getUpdatedDiscountAmounts(enabledDiscounts)\n      setDiscountStates(enabledDiscounts)\n      setDiscountTargetAmounts(targetAmounts)\n    },\n    onError: () => {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: ERRORS.QUERY_DISCOUNTS_ERROR,\n      })\n    },\n  })\n\n  return {discounts: discountStates, discountTargetAmounts}\n}\n\nexport default useDiscounts\n","import {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {Box, Heading, ProgressBar, Text} from '@primer/react'\n\nimport {ErrorComponent} from '..'\n\nimport {BUDGET_SCOPE_ENTERPRISE, Products} from '../../constants'\nimport {DiscountTargetType, DiscountType, RequestState} from '../../enums'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle} from '../../utils/style'\n\nimport type {Budget} from '../../types/budgets'\nimport type {EnabledProduct} from '../../types/products'\nimport type {UsageLineItem} from '../../types/usage'\nimport {getTextForDiscount} from '../../utils'\nimport {useDiscounts} from '../../hooks/discount'\n\nconst cardStyle = {\n  ...boxStyle,\n  mb: 3,\n}\n\nconst spendingContainerStyle = {\n  display: 'flex',\n  alignItems: 'flex-end',\n  justifyContent: 'space-between',\n}\n\ninterface DefaultUsageCardProps {\n  budgets: Budget[]\n  isOrgAdmin: boolean\n  product: EnabledProduct\n  requestState: RequestState\n  usage: UsageLineItem[]\n}\n\nexport default function DefaultUsageCard({budgets, isOrgAdmin, product, requestState, usage}: DefaultUsageCardProps) {\n  const enterpriseBudget = budgets.find(b => b.targetType === BUDGET_SCOPE_ENTERPRISE)\n  const budgetAmount = enterpriseBudget?.targetAmount || 0\n  const hasEnterpriseBudget = budgetAmount > 0\n\n  const {discountTargetAmounts} = useDiscounts({enabledProducts: [product]})\n  let actionsMinutesDiscountText = ''\n\n  if (product.name === Products.actions) {\n    const currentDiscountAmount =\n      discountTargetAmounts[DiscountTargetType.SKU_ACTIONS_MINUTES]?.[DiscountType.FixedAmount]\n    if (currentDiscountAmount) {\n      actionsMinutesDiscountText = getTextForDiscount(\n        currentDiscountAmount,\n        DiscountTargetType.SKU_ACTIONS_MINUTES,\n        DiscountType.FixedAmount,\n      ).join(' ')\n    }\n  }\n\n  const totalActual = usage.reduce((acc, lineItem) => acc + (lineItem.billedAmount ?? 0), 0)\n  const totalDiscount = usage.reduce((acc, lineItem) => acc + (lineItem.discountAmount ?? 0), 0)\n  const totalBilled = usage.reduce((acc, lineItem) => acc + (lineItem.totalAmount ?? 0), 0)\n\n  const usagePercentage = totalActual && budgetAmount > 0 ? (totalActual / budgetAmount) * 100 : 0\n\n  return (\n    <Box sx={cardStyle}>\n      <Heading as=\"h3\" sx={cardHeadingStyle}>\n        {product.friendlyProductName} usage\n      </Heading>\n      <>\n        <Box sx={spendingContainerStyle}>\n          <div>\n            {[RequestState.INIT, RequestState.LOADING].includes(requestState) && (\n              <LoadingSkeleton variant=\"rounded\" height=\"36px\" />\n            )}\n            {requestState === RequestState.ERROR && (\n              <ErrorComponent\n                sx={{border: 0}}\n                testid={`${product.name}-usage-loading-error`}\n                text=\"Something went wrong\"\n              />\n            )}\n            {requestState === RequestState.IDLE && (\n              <TotalTextBox\n                isOrgAdmin={isOrgAdmin}\n                totalActual={totalActual}\n                totalDiscount={totalDiscount}\n                totalBilled={totalBilled}\n              />\n            )}\n            {!isOrgAdmin && hasEnterpriseBudget && (\n              <ProgressBar\n                bg={usagePercentage < 100 ? 'accent.emphasis' : 'danger.emphasis'}\n                progress={usagePercentage}\n                sx={{mb: 2}}\n                data-testid={`${product.name}-usage`}\n              />\n            )}\n            {!isOrgAdmin && product.name === Products.actions && (\n              <Text as=\"p\" sx={{mb: 0, color: 'fg.muted'}}>\n                Usage for Actions and Actions Runners. {actionsMinutesDiscountText}.\n              </Text>\n            )}\n          </div>\n        </Box>\n      </>\n    </Box>\n  )\n}\n\ninterface TotalTextBoxProps {\n  isOrgAdmin: boolean\n  totalActual: number\n  totalDiscount: number\n  totalBilled: number\n}\n\nfunction TotalTextBox({isOrgAdmin, totalActual, totalDiscount, totalBilled}: TotalTextBoxProps): JSX.Element {\n  if (isOrgAdmin) {\n    return (\n      <Box sx={{display: 'flex', alignItems: 'flex-end'}}>\n        <Text sx={{display: 'block', fontSize: 4, lineHeight: '36px', mr: 2}}>{formatMoneyDisplay(totalActual)}</Text>\n        <Text sx={{color: 'fg.subtle', lineHeight: '28px'}}>spent </Text>\n      </Box>\n    )\n  }\n\n  return (\n    <Box sx={{display: 'flex', alignItems: 'flex-end', flexWrap: 'wrap'}} data-testid=\"actions-totals\">\n      <Text sx={{display: 'block', fontSize: 4, lineHeight: '36px', mr: 2}}>{formatMoneyDisplay(totalActual)}</Text>\n      <Text sx={{color: 'fg.subtle', lineHeight: '28px', mr: 2}}>consumed usage - </Text>\n      <Text sx={{display: 'block', fontSize: 4, lineHeight: '36px', mr: 2}}>{formatMoneyDisplay(totalDiscount)}</Text>\n      <Text sx={{color: 'fg.subtle', lineHeight: '28px', mr: 2}}>in discounts = </Text>\n      <Text sx={{display: 'block', fontSize: 4, lineHeight: '36px', mr: 2}}>{formatMoneyDisplay(totalBilled)}</Text>\n      <Text sx={{color: 'fg.subtle', lineHeight: '28px'}}>in billable usage </Text>\n    </Box>\n  )\n}\n\ntry{ DefaultUsageCard.displayName ||= 'DefaultUsageCard' } catch {}\ntry{ TotalTextBox.displayName ||= 'TotalTextBox' } catch {}","import {Box, Heading, Text} from '@primer/react'\n\nimport {useDiscounts} from '../../hooks/discount'\n\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle, Fonts} from '../../utils/style'\nimport {CurrentDiscountsListDialog} from '.'\n\nimport type {EnabledProduct} from '../../types/products'\n\nconst spendingContainerStyle = {\n  display: 'flex',\n  alignItems: 'flex-end',\n  justifyContent: 'space-between',\n  mb: 2,\n}\n\ninterface DiscountUsageCardProps {\n  enabledProducts: EnabledProduct[]\n  isOrganization: boolean\n}\n\nexport default function DiscountUsageCard({enabledProducts, isOrganization}: DiscountUsageCardProps) {\n  const {discounts, discountTargetAmounts} = useDiscounts({enabledProducts})\n\n  const totalDiscount = discounts.reduce((acc, discount) => acc + discount.currentAmount, 0)\n\n  return (\n    <Box sx={boxStyle}>\n      <Box sx={{display: 'flex', alignItems: 'center'}}>\n        <Heading as=\"h3\" sx={{...cardHeadingStyle, flex: 'auto'}}>\n          Current included usage\n        </Heading>\n        <CurrentDiscountsListDialog\n          discountTargetAmounts={discountTargetAmounts}\n          totalDiscount={totalDiscount}\n          isOrganization={isOrganization}\n        />\n      </Box>\n      <>\n        <Box sx={spendingContainerStyle}>\n          <div>\n            <Text sx={{mr: 2, fontSize: 4}} data-testid=\"total-discount\">\n              {formatMoneyDisplay(totalDiscount)}\n            </Text>\n          </div>\n        </Box>\n        <Text as=\"p\" sx={{mb: 0, color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n          {isOrganization\n            ? 'Showing currently applied discounts for your organization.'\n            : 'Showing currently applied discounts for your enterprise.'}\n        </Text>\n      </>\n    </Box>\n  )\n}\n\ntry{ DiscountUsageCard.displayName ||= 'DiscountUsageCard' } catch {}","import {useEffect, useState} from 'react'\nimport {Box, Heading, Text} from '@primer/react'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle, Fonts} from '../../utils/style'\nimport {UsageOverviewListDialog} from '.'\nimport {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {LoadingComponent} from '..'\nimport {useParams} from 'react-router-dom'\nimport {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {TOTAL_USAGE_ROUTE, matchBaseRouteByPath, findRouteBestMatchByPath} from '../../routes'\nimport type {CustomerSelection} from '../../types/usage'\n\nconst cardStyle = {\n  ...boxStyle,\n  display: 'flex',\n  flexDirection: 'column',\n}\n\nconst moneyContainerStyle = {\n  display: 'flex',\n  alignItems: 'flex-end',\n  justifyContent: 'space-between',\n  mb: 2,\n}\n\ninterface TotalUsageCardProps {\n  customerSelections: CustomerSelection[]\n  isOrganization: boolean\n}\n\nconst getRoute = (customerSelection: CustomerSelection, params: object): string => {\n  const pathname = ssrSafeLocation.pathname\n  let newPath =\n    matchBaseRouteByPath(pathname)\n      ?.childRoute(TOTAL_USAGE_ROUTE.fullPath)\n      .generateFullPath({...params}) ?? ''\n\n  const matchingRoute = findRouteBestMatchByPath(newPath)\n  if (!matchingRoute) newPath = TOTAL_USAGE_ROUTE.fullPath\n\n  const queryParamString = new URLSearchParams({customer_id: customerSelection.id}).toString()\n  return `${newPath}?${queryParamString}`\n}\n\nexport default function TotalUsageCard({customerSelections, isOrganization}: TotalUsageCardProps) {\n  const params = useParams()\n  const [totalUsage, setTotalUsage] = useState(0)\n  const [isLoadingTotalUsage, setLoadingTotalUsage] = useState(true)\n  const [usageMap, setUsageMap] = useState<Record<string, number>>({})\n\n  useEffect(() => {\n    const loadUsageData = async () => {\n      const promises = customerSelections.map(async customerSelection => {\n        const route = getRoute(customerSelection, params)\n        const res = await verifiedFetchJSON(route, {\n          method: 'GET',\n        })\n        return {res, id: customerSelection.id}\n      })\n      const results = await Promise.all(promises)\n      let totalUsageTemp = 0\n      const usageMapTemp: Record<string, number> = {}\n      for (const {res, id} of results) {\n        if (res.ok) {\n          const data = await res.json()\n          totalUsageTemp += data.usage.billableAmount\n          usageMapTemp[id] = data.usage.billableAmount\n        }\n      }\n      setTotalUsage(totalUsageTemp)\n      setUsageMap(usageMapTemp)\n      setLoadingTotalUsage(false)\n    }\n    loadUsageData()\n  }, [customerSelections, totalUsage, params])\n\n  return (\n    <Box sx={cardStyle}>\n      <Box sx={{display: 'flex', alignItems: 'center'}}>\n        <Heading as=\"h3\" sx={{...cardHeadingStyle, flex: 'auto'}}>\n          Current metered usage\n        </Heading>\n        {!isLoadingTotalUsage && !isOrganization && (\n          <UsageOverviewListDialog\n            customerSelections={customerSelections}\n            totalUsage={totalUsage}\n            usageMap={usageMap}\n          />\n        )}\n      </Box>\n      <>\n        <Box sx={isLoadingTotalUsage ? {display: 'block', width: '50%'} : moneyContainerStyle}>\n          <div>\n            {isLoadingTotalUsage ? (\n              <Box sx={{display: 'flex', justifyContent: 'space-between', py: 2, mr: 3}}>\n                <LoadingComponent sx={{p: 0, border: 0}}>\n                  <LoadingSkeleton sx={{flex: 1}} variant=\"rounded\" height=\"md\" />\n                </LoadingComponent>\n              </Box>\n            ) : (\n              <Text sx={{mr: 2, fontSize: 4}} data-testid=\"total-discount\">\n                {formatMoneyDisplay(totalUsage)}\n              </Text>\n            )}\n          </div>\n        </Box>\n        <Text as=\"p\" sx={{mb: 0, color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n          {isOrganization\n            ? 'Showing gross metered usage for your organization.'\n            : 'Showing gross metered usage for your enterprise including all cost centers.'}\n        </Text>\n      </>\n    </Box>\n  )\n}\n\ntry{ TotalUsageCard.displayName ||= 'TotalUsageCard' } catch {}","import {Box, Heading} from '@primer/react'\n\nimport {LoadingComponent} from '..'\nimport {boxStyle} from '../../utils/style'\n\nconst containerStyle = {\n  ...boxStyle,\n  width: '100%',\n  height: '100%',\n  p: 0,\n  mb: 3,\n}\n\nconst innerContainerStyle = {\n  height: '432px',\n  border: 0,\n}\n\nconst chartHeaderContainerStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  pl: 3,\n  pr: 3,\n  pt: 3,\n}\n\nconst chartSubtitleStyle = {\n  color: 'fg.muted',\n  fontSize: 1,\n  fontWeight: 'normal',\n}\n\nexport default function UsageChartSkeleton() {\n  return (\n    <Box sx={containerStyle}>\n      <Box sx={chartHeaderContainerStyle}>\n        <Box sx={{flex: 1}}>\n          <Heading as=\"h3\" sx={{fontSize: 2}}>\n            All usage\n          </Heading>\n          <Heading as=\"h4\" sx={chartSubtitleStyle}>\n            Loading...\n          </Heading>\n        </Box>\n      </Box>\n      <LoadingComponent sx={innerContainerStyle} />\n    </Box>\n  )\n}\n\ntry{ UsageChartSkeleton.displayName ||= 'UsageChartSkeleton' } catch {}","import {SelectPanel} from '@primer/react/experimental'\nimport {ActionList, Text} from '@primer/react'\nimport {useState} from 'react'\nimport type {CustomerSelection, Filters} from '../../types/usage'\nimport {getSelectedCustomerDisplayTest} from '../../utils/cost-centers'\nimport {Fonts} from '../../utils/style'\n\ninterface Props {\n  anchorRef: React.RefObject<HTMLButtonElement>\n  open: boolean\n  setOpen: (open: boolean) => void\n  selectedCustomer: CustomerSelection\n  setSelectedCustomer: (customer: CustomerSelection) => void\n  menuItems: CustomerSelection[]\n  filtersSavedState: Filters\n  setFilters: (filters: Filters) => void\n  manageCostCentersLink: string\n}\n\nexport default function SingleSelectPanel({\n  anchorRef,\n  open,\n  setOpen,\n  selectedCustomer,\n  setSelectedCustomer,\n  menuItems,\n  filtersSavedState,\n  setFilters,\n  manageCostCentersLink,\n}: Props) {\n  const [filteredCustomers, setfilteredCustomers] = useState(menuItems)\n  const [query, setQuery] = useState('')\n  const onSubmit = () => {\n    setfilteredCustomers(menuItems)\n    setOpen(false)\n  }\n  const onCancel = () => {\n    setOpen(false)\n  }\n\n  const onSearchInputChange: React.ChangeEventHandler<HTMLInputElement> = event => {\n    const searchTerm = event.currentTarget.value\n    setQuery(searchTerm)\n\n    const filteredItems =\n      query === ''\n        ? menuItems\n        : menuItems.filter(item => item.displayText.toLowerCase().includes(searchTerm.toLowerCase()))\n\n    setfilteredCustomers(filteredItems)\n  }\n\n  return (\n    <>\n      <SelectPanel\n        title=\"Switch cost center\"\n        description=\"View usage for individual cost centers\"\n        open={open}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        anchorRef={anchorRef}\n        selectionVariant=\"instant\"\n      >\n        <SelectPanel.Header data-testid=\"single-select-panel-header\">\n          <SelectPanel.SearchInput onChange={onSearchInputChange} data-testid=\"single-select-panel-search-input\" />\n        </SelectPanel.Header>\n        <ActionList data-testid=\"single-select-panel-list\">\n          {filteredCustomers.length === 0 ? (\n            <SelectPanel.Message variant=\"empty\" title={`No cost center found`}>\n              Try searching for a different cost center or add a new one\n            </SelectPanel.Message>\n          ) : (\n            filteredCustomers.map(customer => (\n              <ActionList.Item\n                key={customer.id}\n                onSelect={() => {\n                  setSelectedCustomer(customer)\n                  setFilters({...filtersSavedState, customer})\n                  setOpen(false)\n                }}\n                selected={selectedCustomer?.id === customer.id}\n              >\n                {getSelectedCustomerDisplayTest(customer)}{' '}\n                {customer.displayText === 'None' && (\n                  <Text as=\"small\" sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n                    (usage excluding cost centers)\n                  </Text>\n                )}\n              </ActionList.Item>\n            ))\n          )}\n        </ActionList>\n        <SelectPanel.Footer>\n          <SelectPanel.SecondaryAction\n            variant=\"link\"\n            href={manageCostCentersLink}\n            data-testid=\"single-select-panel-footer-link\"\n          >\n            Manage cost centers\n          </SelectPanel.SecondaryAction>\n        </SelectPanel.Footer>\n      </SelectPanel>\n    </>\n  )\n}\n\ntry{ SingleSelectPanel.displayName ||= 'SingleSelectPanel' } catch {}","import {Heading, Text, Button} from '@primer/react'\nimport {useRef, useState} from 'react'\nimport {TriangleDownIcon} from '@primer/octicons-react'\nimport type {CustomerSelection, Filters} from '../../types/usage'\nimport {Fonts, pageHeadingStyle} from '../../utils/style'\nimport SingleSelectPanel from './SingleSelectPanel'\n\ninterface Props {\n  menuItems: CustomerSelection[]\n  filtersSavedState: Filters\n  setFilters: (filters: Filters) => void\n  manageCostCentersLink: string\n  useUsageChartDataEndpoint?: boolean\n}\n\nexport default function UsageCustomerSelectPanel({\n  menuItems,\n  filtersSavedState,\n  setFilters,\n  manageCostCentersLink,\n  useUsageChartDataEndpoint,\n}: Props) {\n  const anchorRef = useRef(null)\n  const [open, setOpen] = useState(false)\n  const [selectedCustomer, setSelectedCustomer] = useState(filtersSavedState.customer)\n\n  return (\n    <>\n      <Heading as=\"h2\" data-testid=\"select-cost-center\" sx={pageHeadingStyle}>\n        Metered usage\n      </Heading>\n      {!useUsageChartDataEndpoint && (\n        <>\n          <Button\n            trailingVisual={TriangleDownIcon}\n            onClick={() => setOpen(!open)}\n            ref={anchorRef}\n            data-testid=\"usage-customer-panel-dialog-container\"\n            variant=\"invisible\"\n            sx={{ml: '-12px'}}\n          >{`Cost center: ${selectedCustomer.displayText}`}</Button>\n          <SingleSelectPanel\n            anchorRef={anchorRef}\n            open={open}\n            setOpen={setOpen}\n            selectedCustomer={selectedCustomer}\n            setSelectedCustomer={setSelectedCustomer}\n            setFilters={setFilters}\n            filtersSavedState={filtersSavedState}\n            menuItems={menuItems}\n            manageCostCentersLink={manageCostCentersLink}\n          />\n        </>\n      )}\n      <Text as=\"small\" sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall, mt: 1}}>\n        {!useUsageChartDataEndpoint &&\n          (selectedCustomer.displayText === 'None'\n            ? 'Showing usage for your enterprise excluding cost centers.'\n            : 'Showing cost for the selected cost center.')}\n      </Text>\n    </>\n  )\n}\n\ntry{ UsageCustomerSelectPanel.displayName ||= 'UsageCustomerSelectPanel' } catch {}","import {ActionList, ActionMenu, Box} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport {UsageSearchBar} from '.'\n\nimport {\n  GROUP_BY_SKU_TYPE,\n  GROUP_BY_ORG_TYPE,\n  GROUP_BY_REPO_TYPE,\n  DEFAULT_GROUP_TYPE,\n  GROUP_BY_NONE_TYPE,\n} from '../../constants'\n\nimport type {Customer} from '../../types/common'\nimport type {GroupSelection, PeriodSelection, Filters} from '../../types/usage'\n\nconst containerStyle = {\n  display: 'flex',\n  flexWrap: ['nowrap', 'nowrap', 'wrap'],\n  flexDirection: ['column', 'column', 'row'],\n  alignItems: 'stretch',\n  mb: 3,\n}\n\ninterface Props {\n  customer: Customer\n  filters: Filters\n  setFilters: (filters: Filters) => void\n  groupSelections?: GroupSelection[]\n  periodSelections?: PeriodSelection[]\n  showSearch?: boolean\n  useUsageChartDataEndpoint: boolean\n  sx?: BetterSystemStyleObject\n}\n\nexport default function UsageFilters({\n  customer,\n  filters,\n  setFilters,\n  groupSelections = [],\n  periodSelections = [],\n  showSearch = false,\n  useUsageChartDataEndpoint = false,\n  sx,\n}: Props) {\n  const setSearchQuery = (query: string) => {\n    setFilters({\n      ...filters,\n      searchQuery: query,\n    })\n  }\n\n  const selectedGroupText = () => {\n    return `Group: ${filters.group?.displayText}`\n  }\n\n  const selectedPeriodText = () => {\n    return `Time Frame: ${filters.period?.displayText}`\n  }\n\n  /**\n   * Resets the group filter selection to the default group selection\n   */\n  const resetGroupFilterSelection = () => {\n    setFilters({\n      ...filters,\n      group: groupSelections?.find((obj: GroupSelection) => obj.type === DEFAULT_GROUP_TYPE),\n    })\n  }\n\n  /**\n   * Removes group by options from the dropdown based on the search query. For example,\n   * if a user is searching for a particular SKU, group by product/SKU won't make much sense\n   * so we remove the options.\n   *\n   * We also use this to avoid querying partitions that might not be in place yet.\n   */\n  const getGroupSelections = (): GroupSelection[] => {\n    // filter out all options except for group by SKU and None when product is present\n    if (filters.searchQuery.includes('product:')) {\n      groupSelections = groupSelections.filter(\n        group => group.type === GROUP_BY_SKU_TYPE || group.type === GROUP_BY_NONE_TYPE,\n      )\n    }\n\n    // filter out all options except for None when sku is present\n    if (filters.searchQuery.includes('sku:')) {\n      groupSelections = groupSelections.filter(group => group.type === GROUP_BY_NONE_TYPE)\n    }\n\n    // filter out org/repo groupings if the user is searching for a specific org or repo\n    if (filters.searchQuery.includes('org:') || filters.searchQuery.includes('repo:')) {\n      groupSelections = groupSelections.filter(\n        group => group.type !== GROUP_BY_ORG_TYPE && group.type !== GROUP_BY_REPO_TYPE,\n      )\n    }\n\n    // if the route is an org, then hide the organization group\n    if (customer.customerType === 'Organization') {\n      groupSelections = groupSelections.filter(group => group.type !== GROUP_BY_ORG_TYPE)\n    }\n\n    // check if the current group selection exists in the filtered group selections, if it does not, we want to\n    // fallback to the default selection as it was likely removed by the above\n    const currentFilterGroupExists = groupSelections.some(group => group.type === filters.group?.type)\n    if (!currentFilterGroupExists) {\n      resetGroupFilterSelection()\n    }\n\n    return groupSelections\n  }\n\n  return (\n    <Box\n      sx={{\n        ...containerStyle,\n        ...sx,\n      }}\n      data-testid=\"usage-filters\"\n    >\n      {showSearch && (\n        <UsageSearchBar\n          setSearchQuery={setSearchQuery}\n          customer={customer}\n          searchQuery={filters.searchQuery}\n          useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n        />\n      )}\n\n      {filters.group && (\n        <Box\n          sx={{\n            ml: [0, 0, 2],\n            mt: [2, 2, 0],\n          }}\n        >\n          <ActionMenu>\n            <ActionMenu.Button sx={{width: ['100%', '100%', 'auto']}}>{selectedGroupText()}</ActionMenu.Button>\n            <ActionMenu.Overlay align=\"end\">\n              <ActionList selectionVariant=\"single\" showDividers>\n                {getGroupSelections().map(group => (\n                  <ActionList.Item\n                    key={group.type}\n                    onSelect={() => setFilters({...filters, group})}\n                    selected={group.type === filters.group?.type}\n                  >\n                    {group.displayText}\n                  </ActionList.Item>\n                ))}\n              </ActionList>\n            </ActionMenu.Overlay>\n          </ActionMenu>\n        </Box>\n      )}\n\n      {filters.period && (\n        <Box\n          sx={{\n            ml: [0, 0, 2],\n            mt: [2, 2, 0],\n          }}\n        >\n          <ActionMenu>\n            <ActionMenu.Button sx={{width: ['100%', '100%', 'auto']}}>{selectedPeriodText()}</ActionMenu.Button>\n            <ActionMenu.Overlay align=\"end\">\n              <ActionList selectionVariant=\"single\" showDividers>\n                {periodSelections.map(period => (\n                  <ActionList.Item\n                    key={period.type}\n                    onSelect={() => setFilters({...filters, period})}\n                    selected={period === filters.period}\n                  >\n                    {period.displayText}\n                  </ActionList.Item>\n                ))}\n              </ActionList>\n            </ActionMenu.Overlay>\n          </ActionMenu>\n        </Box>\n      )}\n    </Box>\n  )\n}\n\ntry{ UsageFilters.displayName ||= 'UsageFilters' } catch {}","import type {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport {hasMatch, score} from 'fzy.js'\nimport type {Environment} from 'react-relay'\nimport {fetchQuery, graphql} from 'react-relay'\n\nimport {TOP_ORGANIZATION_COUNT} from '../../constants/search-filters'\nimport type {\n  enterpriseOrgFilterProviderQuery,\n  enterpriseOrgFilterProviderQuery$data,\n} from './__generated__/enterpriseOrgFilterProviderQuery.graphql'\n\nconst TopOrganizations = graphql`\n  query enterpriseOrgFilterProviderQuery($slug: String!, $count: Int!, $query: String) {\n    enterprise(slug: $slug) {\n      organizations(first: $count, query: $query, orderBy: {field: CREATED_AT, direction: DESC}) {\n        edges {\n          node {\n            name\n            login\n            avatarUrl\n          }\n        }\n      }\n    }\n  }\n`\n\ntype OrgData = {\n  name: string\n  login: string\n  avatarUrl: string\n}\n\nexport class EnterpriseOrgFilterProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  name: string\n  slug: string\n  priority: number\n  singularItemName: string\n  value: string\n  relayEnvironment: Environment\n\n  // We cache the top orgs given we don't need to re-query on every keystroke\n  topOrgCache: OrgData[] | undefined = undefined\n\n  constructor(\n    queryBuilder: QueryBuilderElement,\n    {\n      name,\n      slug,\n      value,\n      priority,\n      relayEnvironment,\n    }: {\n      name: string\n      slug: string\n      value: string\n      priority: number\n      relayEnvironment: Environment\n    },\n  ) {\n    super()\n\n    this.name = name\n    this.slug = slug\n    this.singularItemName = name\n    this.value = value\n    this.priority = priority\n    this.relayEnvironment = relayEnvironment\n    queryBuilder.addEventListener('query', this)\n    queryBuilder.attachProvider(this)\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastElement = event.parsedQuery.at(-1)!\n\n    if (\n      (lastElement.value !== '' || this.priority <= 5) &&\n      lastElement?.type !== 'filter' &&\n      !event.parsedQuery.some(e => e.type === 'filter' && e.filter === this.value) &&\n      (hasMatch(lastElement?.value, this.name) || hasMatch(lastElement?.value, this.value))\n    ) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastElement?.type !== this.type || lastElement.filter !== this.value) return\n\n    if (!this.topOrgCache) {\n      // Immediately set this to avoid multiple requests\n      this.topOrgCache = []\n      const fetchPromise = this.fetchTopOrgs(event)\n      this.dispatchEvent(new FetchDataEvent(fetchPromise))\n    } else {\n      // An enterprise might have a large number of organizations that might not be included in the initial fetch.\n      // In this case, we check if the user is searching for something outside the cache and re-query if so.\n      const searchedOrgExistsInCache = this.topOrgCache.some(org => hasMatch(lastElement.value, org.login))\n      if (!searchedOrgExistsInCache) {\n        const fetchPromise = this.fetchTopOrgs(event)\n        this.dispatchEvent(new FetchDataEvent(fetchPromise))\n        return\n      }\n\n      for (const org of this.topOrgCache) {\n        this.emitSuggestion(org.name, org.login, org.avatarUrl, lastElement.value)\n      }\n    }\n  }\n\n  async fetchTopOrgs(event: QueryEvent) {\n    let topOrgs: enterpriseOrgFilterProviderQuery$data | undefined\n    const currentQueryValue = event.parsedQuery.at(-1)?.value\n\n    try {\n      topOrgs = await fetchQuery<enterpriseOrgFilterProviderQuery>(this.relayEnvironment, TopOrganizations, {\n        slug: this.slug,\n        query: currentQueryValue,\n        count: TOP_ORGANIZATION_COUNT,\n      }).toPromise()\n    } catch (_) {\n      // If we have an error, we don't want to cache the results, such that we can retry later.\n      this.topOrgCache = undefined\n      return\n    }\n\n    const query = event.parsedQuery.at(-1)!.value\n    topOrgs?.enterprise?.organizations.edges?.map(org => {\n      const orgLogin = org?.node?.login\n      const orgAvatarUrl = org?.node?.avatarUrl\n      const orgName = org?.node?.name\n\n      // Add the org to the cache if it has a login and does not already exist\n      const orgExistsInCache = this.topOrgCache?.some(cachedOrg => cachedOrg.login === orgLogin)\n      if (orgLogin && orgAvatarUrl && !orgExistsInCache) {\n        this.topOrgCache!.push({name: orgName ?? orgLogin, login: orgLogin, avatarUrl: orgAvatarUrl})\n        this.emitSuggestion(orgName ?? orgLogin, orgLogin, orgAvatarUrl, query)\n      }\n    })\n  }\n\n  emitSuggestion(name: string, value: string, avatarUrl: string, query: string) {\n    let priority = 2\n    if (query && !hasMatch(query, value)) return\n    if (query) priority -= score(query, value)\n    this.dispatchEvent(\n      new FilterItem({\n        filter: this.value,\n        value,\n        name,\n        priority,\n        avatar: avatarUrl\n          ? {\n              url: avatarUrl,\n              type: 'org',\n            }\n          : undefined,\n      }),\n    )\n  }\n}\n","import type {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport {hasMatch, score} from 'fzy.js'\nimport type {Environment} from 'react-relay'\nimport {fetchQuery, graphql} from 'react-relay'\n\nimport {TOP_REPOSITORIES_COUNT} from '../../constants/search-filters'\nimport type {\n  enterpriseRepoFilterProviderQuery,\n  enterpriseRepoFilterProviderQuery$data,\n} from './__generated__/enterpriseRepoFilterProviderQuery.graphql'\n\nconst TopRepositories = graphql`\n  query enterpriseRepoFilterProviderQuery($slug: String!, $count: Int!, $phrase: String) {\n    viewer {\n      enterpriseRepositories(phrase: $phrase, slug: $slug, first: $count) {\n        nodes {\n          nameWithOwner\n        }\n      }\n    }\n  }\n`\n\ntype RepoData = {\n  name: string\n}\n\nexport class EnterpriseRepoFilterProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  name: string\n  slug: string\n  priority: number\n  singularItemName: string\n  value: string\n  relayEnvironment: Environment\n\n  // We cache the top repos given we don't need to re-query on every keystroke\n  topRepoCache: RepoData[] | undefined = undefined\n\n  constructor(\n    queryBuilder: QueryBuilderElement,\n    {\n      name,\n      slug,\n      value,\n      priority,\n      relayEnvironment,\n    }: {\n      name: string\n      slug: string\n      value: string\n      priority: number\n      relayEnvironment: Environment\n    },\n  ) {\n    super()\n\n    this.name = name\n    this.slug = slug\n    this.singularItemName = name\n    this.value = value\n    this.priority = priority\n    this.relayEnvironment = relayEnvironment\n    queryBuilder.addEventListener('query', this)\n    queryBuilder.attachProvider(this)\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastElement = event.parsedQuery.at(-1)!\n\n    if (\n      (lastElement.value !== '' || this.priority <= 5) &&\n      lastElement?.type !== 'filter' &&\n      !event.parsedQuery.some(e => e.type === 'filter' && e.filter === this.value) &&\n      (hasMatch(lastElement?.value, this.name) || hasMatch(lastElement?.value, this.value))\n    ) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastElement?.type !== this.type || lastElement.filter !== this.value) return\n\n    if (!this.topRepoCache) {\n      // Immediately set this to avoid multiple requests\n      this.topRepoCache = []\n      const fetchPromise = this.fetchTopRepos(event)\n      this.dispatchEvent(new FetchDataEvent(fetchPromise))\n    } else {\n      // An enterprise might have a large number of repos that might not be included in the initial fetch.\n      // In this case, we check if the user is searching for something outside the cache and re-query if so.\n      const searchedRepoExistsInCache = this.topRepoCache.some(repo => hasMatch(lastElement.value, repo.name))\n\n      if (!searchedRepoExistsInCache) {\n        const fetchPromise = this.fetchTopRepos(event)\n        this.dispatchEvent(new FetchDataEvent(fetchPromise))\n        return\n      }\n\n      for (const repo of this.topRepoCache) {\n        this.emitSuggestion(repo.name, repo.name, lastElement.value)\n      }\n    }\n  }\n\n  async fetchTopRepos(event: QueryEvent) {\n    let topRepos: enterpriseRepoFilterProviderQuery$data | undefined\n    const currentQueryValue = event.parsedQuery.at(-1)?.value\n\n    try {\n      topRepos = await fetchQuery<enterpriseRepoFilterProviderQuery>(this.relayEnvironment, TopRepositories, {\n        slug: this.slug,\n        phrase: currentQueryValue,\n        count: TOP_REPOSITORIES_COUNT,\n      }).toPromise()\n    } catch (_) {\n      // If we have an error, we don't want to cache the results, such that we can retry later.\n      this.topRepoCache = undefined\n      return\n    }\n\n    const query = event.parsedQuery.at(-1)!.value\n    topRepos?.viewer?.enterpriseRepositories?.nodes?.map(repo => {\n      const name = repo?.nameWithOwner\n\n      // Add the repo to the cache if it has a name and does not already exist\n      const repoExistsInCache = this.topRepoCache?.some(cachedRepo => cachedRepo.name === name)\n      if (name && !repoExistsInCache) {\n        this.topRepoCache!.push({name})\n        this.emitSuggestion(name, name, query)\n      }\n    })\n  }\n\n  emitSuggestion(name: string, value: string, query: string) {\n    let priority = 2\n    if (query && !hasMatch(query, value)) return\n    if (query) priority -= score(query, value)\n    this.dispatchEvent(\n      new FilterItem({\n        filter: this.value,\n        value,\n        name,\n        priority,\n      }),\n    )\n  }\n}\n","import type {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport {hasMatch} from 'fzy.js'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\ntype ProductData = {\n  name: string\n  friendlyProductName: string\n}\n\nexport class BillingProductFilterProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  name: string\n  slug: string\n  priority: number\n  singularItemName: string\n  value: string\n\n  productCache: ProductData[] | undefined = undefined\n\n  constructor(\n    queryBuilder: QueryBuilderElement,\n    {\n      name,\n      slug,\n      value,\n      priority,\n    }: {\n      name: string\n      slug: string\n      value: string\n      priority: number\n    },\n  ) {\n    super()\n\n    this.name = name\n    this.slug = slug\n    this.singularItemName = name\n    this.value = value\n    this.priority = priority\n    queryBuilder.addEventListener('query', this)\n    queryBuilder.attachProvider(this)\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastElement = event.parsedQuery.at(-1)!\n\n    if (\n      (lastElement.value !== '' || this.priority <= 5) &&\n      lastElement?.type !== 'filter' &&\n      !event.parsedQuery.some(e => e.type === 'filter' && e.filter === this.value) &&\n      (hasMatch(lastElement?.value, this.name) || hasMatch(lastElement?.value, this.value))\n    ) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastElement?.type !== this.type || lastElement.filter !== this.value) return\n\n    if (!this.productCache) {\n      // Immediately set this to avoid multiple requests\n      this.productCache = []\n      const fetchPromise = this.fetchTopProducts(event)\n      this.dispatchEvent(new FetchDataEvent(fetchPromise))\n    } else {\n      for (const product of this.productCache) {\n        this.emitSuggestion(product.name, product.name, lastElement.value)\n      }\n    }\n  }\n\n  async fetchTopProducts(event: QueryEvent) {\n    let productData = []\n    try {\n      const url = `/enterprises/${this.slug}/billing/products`\n      const response = await verifiedFetchJSON(url, {method: 'GET'})\n      if (response.status !== 200) {\n        // If we have an error, we don't want to cache the results, such that we can retry later.\n        this.productCache = undefined\n        return\n      }\n\n      productData = await response.json()\n    } catch (_) {\n      // If we have an error, we don't want to cache the results, such that we can retry later.\n      this.productCache = undefined\n      return\n    }\n\n    const query = event.parsedQuery.at(-1)!.value\n    productData['products']?.map((productResult: {name: string; friendlyProductName: string}) => {\n      this.productCache!.push({...productResult})\n      this.emitSuggestion(productResult.friendlyProductName, productResult.name, query)\n    })\n  }\n\n  emitSuggestion(name: string, value: string, query: string) {\n    if (query && !hasMatch(query, value)) return\n\n    this.dispatchEvent(\n      new FilterItem({\n        filter: this.value,\n        value,\n        name,\n      }),\n    )\n  }\n}\n","import type {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport {hasMatch} from 'fzy.js'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\ntype SKUData = {\n  name: string\n}\n\nexport class BillingSKUFilterProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  name: string\n  slug: string\n  priority: number\n  singularItemName: string\n  value: string\n\n  skuCache: SKUData[] | undefined = undefined\n\n  constructor(\n    queryBuilder: QueryBuilderElement,\n    {\n      name,\n      slug,\n      value,\n      priority,\n    }: {\n      name: string\n      slug: string\n      value: string\n      priority: number\n    },\n  ) {\n    super()\n\n    this.name = name\n    this.slug = slug\n    this.singularItemName = name\n    this.value = value\n    this.priority = priority\n    queryBuilder.addEventListener('query', this)\n    queryBuilder.attachProvider(this)\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastElement = event.parsedQuery.at(-1)!\n\n    if (\n      (lastElement.value !== '' || this.priority <= 5) &&\n      lastElement?.type !== 'filter' &&\n      !event.parsedQuery.some(e => e.type === 'filter' && e.filter === this.value) &&\n      (hasMatch(lastElement?.value, this.name) || hasMatch(lastElement?.value, this.value))\n    ) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastElement?.type !== this.type || lastElement.filter !== this.value) return\n\n    if (!this.skuCache) {\n      // Immediately set this to avoid multiple requests\n      this.skuCache = []\n      const fetchPromise = this.fetchTopSKUs(event)\n      this.dispatchEvent(new FetchDataEvent(fetchPromise))\n    } else {\n      for (const sku of this.skuCache) {\n        this.emitSuggestion(sku.name, sku.name, lastElement.value)\n      }\n    }\n  }\n\n  async fetchTopSKUs(event: QueryEvent) {\n    let skuData = []\n    try {\n      const url = `/enterprises/${this.slug}/billing/skus`\n      const response = await verifiedFetchJSON(url, {method: 'GET'})\n      if (response.status !== 200) {\n        // If we have an error, we don't want to cache the results, such that we can retry later.\n        this.skuCache = undefined\n        return\n      }\n\n      skuData = await response.json()\n    } catch (_) {\n      // If we have an error, we don't want to cache the results, such that we can retry later.\n      this.skuCache = undefined\n      return\n    }\n\n    const query = event.parsedQuery.at(-1)!.value\n    skuData['skus']?.map((skuResult: {sku: string}) => {\n      this.skuCache!.push({name: skuResult.sku})\n      this.emitSuggestion(skuResult.sku, skuResult.sku, query)\n    })\n  }\n\n  emitSuggestion(name: string, value: string, query: string) {\n    if (query && !hasMatch(query, value)) return\n\n    this.dispatchEvent(\n      new FilterItem({\n        filter: this.value,\n        value,\n        name,\n      }),\n    )\n  }\n}\n","import type {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport {hasMatch} from 'fzy.js'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\ntype CostCenterResponse = {\n  name: string\n  costCenterKey: {uuid: string}\n}\n\ntype CostCenterData = {\n  name: string\n  id: string\n}\n\nexport class BillingCostCenterFilterProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  name: string\n  slug: string\n  priority: number\n  singularItemName: string\n  value: string\n\n  costCenterCache: CostCenterData[] | undefined = undefined\n\n  constructor(\n    queryBuilder: QueryBuilderElement,\n    {\n      name,\n      slug,\n      value,\n      priority,\n    }: {\n      name: string\n      slug: string\n      value: string\n      priority: number\n    },\n  ) {\n    super()\n\n    this.name = name\n    this.slug = slug\n    this.singularItemName = name\n    this.value = value\n    this.priority = priority\n    queryBuilder.addEventListener('query', this)\n    queryBuilder.attachProvider(this)\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastElement = event.parsedQuery.at(-1)!\n\n    if (\n      (lastElement.value !== '' || this.priority <= 5) &&\n      lastElement?.type !== 'filter' &&\n      !event.parsedQuery.some(e => e.type === 'filter' && e.filter === this.value) &&\n      (hasMatch(lastElement?.value, this.name) || hasMatch(lastElement?.value, this.value))\n    ) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastElement?.type !== this.type || lastElement.filter !== this.value) return\n\n    if (!this.costCenterCache) {\n      // Immediately set this to avoid multiple requests\n      this.costCenterCache = []\n      const fetchPromise = this.fetchCostCenters(event)\n      this.dispatchEvent(new FetchDataEvent(fetchPromise))\n    } else {\n      for (const costCenter of this.costCenterCache) {\n        this.emitSuggestion(costCenter.name, costCenter.name, lastElement.value)\n      }\n    }\n  }\n\n  async fetchCostCenters(event: QueryEvent) {\n    let costCenterData = []\n    try {\n      const url = `/enterprises/${this.slug}/billing/cost_centers_list`\n      const response = await verifiedFetchJSON(url, {method: 'GET'})\n      if (response.status !== 200) {\n        // If we have an error, we don't want to cache the results, such that we can retry later.\n        this.costCenterCache = undefined\n        return\n      }\n\n      costCenterData = await response.json()\n    } catch (_) {\n      // If we have an error, we don't want to cache the results, such that we can retry later.\n      this.costCenterCache = undefined\n      return\n    }\n\n    const query = event.parsedQuery.at(-1)!.value\n    costCenterData?.map((costCenter: CostCenterResponse) => {\n      const returnedCostCenter: CostCenterData = {\n        name: costCenter.name,\n        id: costCenter.costCenterKey.uuid,\n      }\n      this.costCenterCache!.push({...returnedCostCenter})\n      this.emitSuggestion(returnedCostCenter.name, returnedCostCenter.name, query)\n    })\n\n    // Allow querying usage that is not associated with a cost center\n    const noneCostCenter: CostCenterData = {\n      name: 'None',\n      id: 'None',\n    }\n    this.costCenterCache!.push({...noneCostCenter})\n    this.emitSuggestion(noneCostCenter.name, noneCostCenter.name, query)\n  }\n\n  emitSuggestion(name: string, value: string, query: string) {\n    if (query && !hasMatch(query, value)) return\n\n    this.dispatchEvent(\n      new FilterItem({\n        filter: this.value,\n        value,\n        name,\n      }),\n    )\n  }\n}\n","import type {KeyboardEventHandler} from 'react'\nimport {useState, useCallback, useRef, useContext} from 'react'\nimport {useRelayEnvironment} from 'react-relay'\nimport {QueryBuilder} from '@github-ui/query-builder/QueryBuilder'\nimport {useDebounce} from '@github-ui/use-debounce'\nimport type {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {EnterpriseOrgFilterProvider} from '@github-ui/query-builder/providers/billing/enterprise-org-filter-provider'\nimport {EnterpriseRepoFilterProvider} from '@github-ui/query-builder/providers/billing/enterprise-repo-filter-provider'\nimport {BillingProductFilterProvider} from '@github-ui/query-builder/providers/billing/billing-product-filter-provider'\nimport {BillingSKUFilterProvider} from '@github-ui/query-builder/providers/billing/billing-sku-filter-provider'\nimport {BillingCostCenterFilterProvider} from '@github-ui/query-builder/providers/billing/billing-costcenter-filter-provider'\n\nimport type {Customer} from '../../types/common'\nimport {PageContext} from '../../App'\n\ninterface Props {\n  customer: Customer\n  searchQuery: string\n  setSearchQuery: (query: string) => void\n  useUsageChartDataEndpoint: boolean\n}\n\nconst UsageSearchBar = ({customer, setSearchQuery, searchQuery, useUsageChartDataEndpoint}: Props) => {\n  const [inputQuery, setInputQuery] = useState<string>(searchQuery)\n  const relayEnvironment = useRelayEnvironment()\n  const ref = useRef(null)\n  const isEnterpriseRoute = useContext(PageContext).isEnterpriseRoute\n\n  /**\n   * Populates the search dropdown with the filters (org, repo, product, sku) and\n   * their respective values.\n   *\n   * TODO: This needs additional logic considerations for Orgs and Individuals\n   */\n  const onRequestProvider = useCallback(\n    (event: Event) => {\n      event.stopPropagation()\n      const queryBuilder = event.target as QueryBuilderElement\n\n      // only display organization filters and Cost Center data if is Enterprise\n      if (isEnterpriseRoute) {\n        // Current enterprise organization data from GraphQL\n        new EnterpriseOrgFilterProvider(queryBuilder, {\n          name: 'Organization',\n          value: 'org',\n          slug: customer.displayId,\n          priority: 2,\n          relayEnvironment,\n        })\n\n        if (useUsageChartDataEndpoint) {\n          // Cost Center data from billing-platform (non-GQL)\n          new BillingCostCenterFilterProvider(queryBuilder, {\n            name: 'Cost Center',\n            value: 'cost_center',\n            slug: customer.displayId,\n            priority: 1,\n          })\n        }\n      }\n\n      // Current enterprise repository data from GraphQL\n      new EnterpriseRepoFilterProvider(queryBuilder, {\n        name: 'Repository',\n        value: 'repo',\n        slug: customer.displayId,\n        priority: 3,\n        relayEnvironment,\n      })\n\n      // Product/SKU data from billing-platform (non-GQL)\n      new BillingProductFilterProvider(queryBuilder, {\n        name: 'Product',\n        value: 'product',\n        slug: customer.displayId,\n        priority: 4,\n      })\n\n      new BillingSKUFilterProvider(queryBuilder, {name: 'SKU', value: 'sku', slug: customer.displayId, priority: 5})\n    },\n    [customer.displayId, relayEnvironment, isEnterpriseRoute, useUsageChartDataEndpoint],\n  )\n\n  // Create a debounced version of setSearchQuery that waits 400ms after the last call to execute\n  const debouncedSetSearchQuery = useDebounce(setSearchQuery, 400)\n\n  const onChangeHandler: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    event => {\n      const currentInputQuery = inputQuery\n      const newInputQuery = event.currentTarget.value\n\n      if (newInputQuery !== currentInputQuery) {\n        // Usage was cleared, we should reset the query value\n        if (newInputQuery === '') {\n          setSearchQuery('')\n          setInputQuery('')\n          return\n        }\n\n        setInputQuery(newInputQuery)\n        // Only submit the query if the user has finished typing/selecting a filter and the filter has at least some\n        // value attached (e.g. \"org:github\").\n        const searchCount = newInputQuery.split(':').length - 1\n        if (newInputQuery && newInputQuery.includes(':') && !newInputQuery.trim().endsWith(':') && searchCount === 1) {\n          debouncedSetSearchQuery(newInputQuery.trim())\n        }\n      }\n    },\n    [inputQuery, setSearchQuery, debouncedSetSearchQuery],\n  )\n\n  const handleEnterKeyPress: KeyboardEventHandler = useCallback(\n    event => {\n      // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic -- manual shortcut logic is idiomatic in React\n      if (event.key !== 'Enter') return\n      event.preventDefault()\n      const searchCount = inputQuery.split(':').length - 1\n      if (searchCount === 1) {\n        setSearchQuery(inputQuery.trim())\n      }\n    },\n    [inputQuery, setSearchQuery],\n  )\n\n  return (\n    <QueryBuilder\n      id=\"usage-query-builder\"\n      label=\"Search or filter usage (chart updates as you type)\"\n      onChange={onChangeHandler}\n      onKeyPress={handleEnterKeyPress}\n      inputValue={inputQuery}\n      placeholder=\"Search or filter usage\"\n      onRequestProvider={onRequestProvider}\n      data-testid=\"search-usage\"\n      inputRef={ref}\n    />\n  )\n}\n\nexport default UsageSearchBar\n\ntry{ UsageSearchBar.displayName ||= 'UsageSearchBar' } catch {}","import type React from 'react'\nimport {useState, useRef, Fragment} from 'react'\n\nimport type {PropsWithChildren} from 'react'\nimport {Text, Box, Button, RadioGroup, Radio, FormControl, Flash} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport {USAGE_REPORT_HOURLY_PERIOD, USAGE_REPORT_LEGACY_REPORT} from '../../constants'\nimport useRoute from '../../hooks/use-route'\nimport {doRequest, HTTPMethod} from '../../hooks/use-request'\nimport {USAGE_REPORT_ROUTE} from '../../routes'\n\nimport type {UsageReportSelection, UsageReportRequest} from '../../types/usage'\n\ninterface Props {\n  usageReportSelections: UsageReportSelection[]\n  currentUserEmail: string\n  billingPlatformEnabledProducts: string[]\n  disableUsageReports?: boolean\n  vnextMigrationDate?: string\n}\n\nexport default function GetUsageReportDialog({\n  usageReportSelections,\n  currentUserEmail,\n  billingPlatformEnabledProducts,\n  disableUsageReports = false,\n  vnextMigrationDate,\n}: Props) {\n  const {path: requestUsageReportRoute} = useRoute(USAGE_REPORT_ROUTE)\n  const [usageReportPeriod, setUsageReportPeriod] = useState<number>(USAGE_REPORT_HOURLY_PERIOD)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const returnFocusRef = useRef(null)\n  const {addToast} = useToastContext()\n\n  const handleSubmit = async (e: React.FormEvent<EventTarget>) => {\n    e.preventDefault()\n\n    try {\n      const {ok, data} = await doRequest<UsageReportRequest>(HTTPMethod.POST, requestUsageReportRoute, {\n        period: usageReportPeriod,\n      })\n\n      if (!ok) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: data.error ?? 'There was an issue sending your usage report request',\n          role: 'alert',\n        })\n      } else {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: `We're preparing your usage report. We'll send an email to ${currentUserEmail} when it's ready.`,\n          role: 'status',\n        })\n      }\n    } catch (error) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'There was an issue sending your usage report request',\n        role: 'alert',\n      })\n    } finally {\n      setIsDialogOpen(false)\n    }\n  }\n\n  const handleRadioGroupChange = (\n    selectedValue: string | null,\n    _e?: React.ChangeEvent<HTMLInputElement> | undefined,\n  ) => {\n    setUsageReportPeriod(Number(selectedValue))\n  }\n\n  /* Builds the text to list the products that the usage report will contain */\n  const enabledProductListText = (): string => {\n    if (billingPlatformEnabledProducts.length <= 1) return billingPlatformEnabledProducts[0] ?? ''\n\n    const lastTwoProducts = billingPlatformEnabledProducts.slice(-2)\n    const remainingProducts = billingPlatformEnabledProducts.slice(0, -2)\n    const lastTwoText = `${lastTwoProducts[0]} and ${lastTwoProducts[1]}`\n\n    if (billingPlatformEnabledProducts.length > 2) {\n      return `${remainingProducts.join(', ')}, ${lastTwoText}`\n    } else {\n      return lastTwoText\n    }\n  }\n\n  return (\n    <Box onSubmit={handleSubmit} sx={{pt: [2, 0]}} data-testid=\"usage-report-dialog-container\">\n      <Button onClick={() => setIsDialogOpen(true)} sx={{width: ['100%', 'auto']}}>\n        Get usage report\n      </Button>\n      {isDialogOpen && (\n        <Dialog\n          onClose={() => setIsDialogOpen(false)}\n          title=\"Get usage report\"\n          returnFocusRef={returnFocusRef}\n          aria-labelledby=\"header\"\n          sx={{overflowY: 'auto'}}\n        >\n          {disableUsageReports && (\n            <Flash\n              data-testid=\"disable-usage-report-banner\"\n              variant=\"warning\"\n              sx={{display: 'flex', alignItems: 'center'}}\n            >\n              <span>\n                Usage reports are temporarily disabled due to planned maintenance. Please try again later or reach out\n                to support for assistance.\n              </span>\n            </Flash>\n          )}\n\n          <form>\n            <Box sx={{px: 3, pt: 3}}>\n              <span id=\"radio-header\">Select time period:</span>\n\n              <Box sx={{gap: 3, display: 'flex', flexDirection: 'column', pt: 3}}>\n                <RadioGroup name=\"reportChoiceGroup\" onChange={handleRadioGroupChange} aria-labelledby=\"radio-header\">\n                  {usageReportSelections.map(selection => {\n                    const sharedProps = {\n                      value: `${selection.type}`,\n                      defaultChecked: selection.type === usageReportPeriod,\n                      displayText: selection.displayText,\n                    }\n                    return selection.type !== USAGE_REPORT_LEGACY_REPORT ? (\n                      <ReportControl\n                        {...sharedProps}\n                        dateText={selection.dateText}\n                        key={selection.type}\n                        legacySelection={false}\n                      />\n                    ) : (\n                      <Fragment key={selection.type}>\n                        <Box as=\"hr\" sx={{margin: 0}} />\n                        <LegacyReportControl\n                          {...sharedProps}\n                          vnextMigrationDate={vnextMigrationDate}\n                          legacySelection={true}\n                        />\n                      </Fragment>\n                    )\n                  })}\n                </RadioGroup>\n              </Box>\n              <hr />\n\n              {usageReportPeriod !== USAGE_REPORT_LEGACY_REPORT && (\n                <span>\n                  A detailed report will be generated including usage for{' '}\n                  <Text sx={{fontWeight: 'bold'}} data-testid=\"usage-report-enabled-products-text\">\n                    {enabledProductListText()}\n                  </Text>\n                  .\n                </span>\n              )}\n\n              <Box sx={{pt: 2}}>\n                <span>\n                  We will email you at <Text sx={{fontWeight: 'bold'}}>{currentUserEmail}</Text> once the report is\n                  ready for download.\n                </span>\n              </Box>\n              {usageReportPeriod !== USAGE_REPORT_LEGACY_REPORT && (\n                <Box sx={{pt: 2}}>\n                  <span>\n                    Please note that updates to organization name, repository name, and username fields may take up to\n                    24 hours. For the most current report, request your usage report again after this period.\n                  </span>\n                </Box>\n              )}\n\n              <Box sx={{py: 3}}>\n                <Button\n                  type=\"submit\"\n                  variant=\"primary\"\n                  sx={{width: '100%'}}\n                  onClick={handleSubmit}\n                  disabled={disableUsageReports}\n                >\n                  Email usage report\n                </Button>\n              </Box>\n            </Box>\n          </form>\n        </Dialog>\n      )}\n    </Box>\n  )\n}\n\ntype SharedProps = {value: string; defaultChecked?: boolean; displayText: string; legacySelection: boolean}\n\nfunction MyControl({\n  children,\n  value,\n  defaultChecked,\n  displayText,\n  legacySelection = false,\n}: PropsWithChildren<SharedProps>) {\n  return (\n    <FormControl>\n      <Radio\n        value={value}\n        defaultChecked={defaultChecked}\n        data-testid={`report-control-id-${legacySelection ? 'legacy' : 'non-legacy'}`}\n      />\n      <FormControl.Label sx={{fontWeight: 'normal'}}>\n        {displayText} <Text sx={{color: 'fg.muted', fontSize: 'small'}}>{children}</Text>\n      </FormControl.Label>\n    </FormControl>\n  )\n}\n\nfunction ReportControl({dateText, ...rest}: SharedProps & {dateText: string}) {\n  return <MyControl {...rest}>({dateText})</MyControl>\n}\n\nfunction LegacyReportControl({vnextMigrationDate, ...rest}: SharedProps & {vnextMigrationDate?: string}) {\n  return (\n    <MyControl {...rest}>\n      <br /> Your enterprise account has transitioned to the enhanced billing platform on {vnextMigrationDate}.\n      Selecting this option will generate a usage report for all available days prior to {vnextMigrationDate}.\n    </MyControl>\n  )\n}\n\ntry{ GetUsageReportDialog.displayName ||= 'GetUsageReportDialog' } catch {}\ntry{ MyControl.displayName ||= 'MyControl' } catch {}\ntry{ ReportControl.displayName ||= 'ReportControl' } catch {}\ntry{ LegacyReportControl.displayName ||= 'LegacyReportControl' } catch {}","import {useState, useRef} from 'react'\nimport {Text, Box, Button} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport type {CustomerSelection} from '../../types/usage'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {listStyle, Fonts, Spacing} from '../../utils/style'\n\ninterface Props {\n  customerSelections: CustomerSelection[]\n  totalUsage: number\n  usageMap: Record<string, number>\n}\n\nexport default function UsageOverviewListDialog({customerSelections, totalUsage, usageMap}: Props) {\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const returnFocusRef = useRef(null)\n\n  return (\n    <div data-testid=\"usage-overview-list-dialog-container\">\n      <Button variant=\"invisible\" onClick={() => setIsDialogOpen(true)} sx={{fontSize: Fonts.FontSizeSmall}}>\n        More details\n      </Button>\n\n      {isDialogOpen && (\n        <Dialog\n          onClose={() => setIsDialogOpen(false)}\n          title=\"Current metered usage\"\n          returnFocusRef={returnFocusRef}\n          aria-labelledby=\"header\"\n          sx={{overflowY: 'auto'}}\n        >\n          <Box sx={{p: Spacing.StandardPadding}}>\n            <div>\n              <Text sx={{fontSize: 4}} data-testid=\"total-usage\">\n                {formatMoneyDisplay(totalUsage)}\n              </Text>\n            </div>\n            <ul className=\"mt-0 pt-0\">\n              {customerSelections.map(selection => {\n                return (\n                  <Box\n                    as=\"li\"\n                    sx={listStyle}\n                    key={`usage-selection-${selection.id}`}\n                    data-testid={`usage-selection-${selection.id}`}\n                  >\n                    <Text\n                      as=\"p\"\n                      sx={{\n                        flex: 'auto',\n                        overflow: 'auto',\n                      }}\n                    >\n                      {selection.displayText}\n                    </Text>\n                    <Text as=\"p\" sx={{fontWeight: 'bold'}}>\n                      {formatMoneyDisplay(usageMap[selection.id] || 0)}\n                    </Text>\n                  </Box>\n                )\n              })}\n            </ul>\n          </Box>\n        </Dialog>\n      )}\n    </div>\n  )\n}\n\ntry{ UsageOverviewListDialog.displayName ||= 'UsageOverviewListDialog' } catch {}","import React, {useState, useRef, Fragment} from 'react'\nimport {Text, Box, Button} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport {DiscountTargetType, DiscountType} from '../../enums'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {getTextForDiscount} from '../../utils/discount'\nimport {listStyle, Fonts, Spacing} from '../../utils/style'\n\nimport type {DiscountAmountsMap} from '../../types/discounts'\n\ninterface Props {\n  discountTargetAmounts: DiscountAmountsMap\n  totalDiscount: number\n  isOrganization: boolean\n}\n\nexport default function CurrentDiscountsListDialog({discountTargetAmounts, totalDiscount, isOrganization}: Props) {\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const returnFocusRef = useRef(null)\n\n  return (\n    <div data-testid=\"current-discounts-list-dialog-container\">\n      <Button variant=\"invisible\" onClick={() => setIsDialogOpen(true)} sx={{fontSize: Fonts.FontSizeSmall}}>\n        More details\n      </Button>\n\n      {isDialogOpen && (\n        <Dialog\n          onClose={() => setIsDialogOpen(false)}\n          title=\"Current included usage\"\n          returnFocusRef={returnFocusRef}\n          aria-labelledby=\"header\"\n          sx={{overflowY: 'auto'}}\n        >\n          <Box sx={{p: Spacing.StandardPadding}}>\n            <div>\n              <Text sx={{fontSize: 4}} data-testid=\"total-discount\">\n                {formatMoneyDisplay(totalDiscount)}\n              </Text>\n            </div>\n            <Text\n              as=\"p\"\n              sx={{\n                color: 'fg.muted',\n                borderTopColor: 'border.default',\n                borderTopWidth: 1,\n              }}\n            >\n              {isOrganization\n                ? 'Showing currently applied discounts for your organization.'\n                : 'Showing currently applied discounts for your enterprise.'}\n            </Text>\n            <Box as=\"ul\" sx={{mb: Spacing.SmallPadding, overflowY: 'hidden'}}>\n              {Object.values(DiscountTargetType).map(targetType => {\n                const coercedTargetType = targetType as DiscountTargetType\n                if (!discountTargetAmounts[coercedTargetType]) return\n\n                const fixedDiscountAmount = discountTargetAmounts[coercedTargetType][DiscountType.FixedAmount]\n                const percentageDiscountAmounts = discountTargetAmounts[coercedTargetType][DiscountType.Percentage]\n\n                return (\n                  <Fragment key={`${targetType}`}>\n                    {fixedDiscountAmount && (\n                      <Box\n                        as=\"li\"\n                        sx={{\n                          ...listStyle,\n                        }}\n                        key={`${coercedTargetType}-fixed-discount`}\n                        data-testid={`${coercedTargetType}-fixed-discount`}\n                      >\n                        <Box sx={{flex: 1}}>\n                          {getTextForDiscount(fixedDiscountAmount, coercedTargetType, DiscountType.FixedAmount).map(\n                            (text, index) => (\n                              <React.Fragment key={`${coercedTargetType}-fixed-discount-${index}`}>\n                                {text}\n                                <br />\n                              </React.Fragment>\n                            ),\n                          )}\n                        </Box>\n                        <div>\n                          <Text as=\"p\" sx={{fontWeight: 'bold'}}>\n                            {formatMoneyDisplay(fixedDiscountAmount.appliedAmount)}\n                          </Text>\n                        </div>\n                      </Box>\n                    )}\n                    {percentageDiscountAmounts?.map((discountAmount, index) => {\n                      return (\n                        <Box\n                          as=\"li\"\n                          sx={{...listStyle}}\n                          key={`${coercedTargetType}-percentage-discount-${index}`}\n                          data-testid={`${coercedTargetType}-percentage-discount-${index}`}\n                        >\n                          <Text\n                            as=\"p\"\n                            sx={{\n                              flex: 'auto',\n                            }}\n                          >\n                            {getTextForDiscount(discountAmount, coercedTargetType, DiscountType.Percentage).join(' ')}\n                          </Text>\n                          <Text as=\"p\" sx={{fontWeight: 'bold'}}>\n                            {formatMoneyDisplay(discountAmount.appliedAmount)}\n                          </Text>\n                        </Box>\n                      )\n                    })}\n                  </Fragment>\n                )\n              })}\n            </Box>\n            <Text\n              as=\"p\"\n              sx={{\n                color: 'fg.muted',\n              }}\n            >\n              * As per current pricing\n            </Text>\n          </Box>\n        </Dialog>\n      )}\n    </div>\n  )\n}\n\ntry{ CurrentDiscountsListDialog.displayName ||= 'CurrentDiscountsListDialog' } catch {}","import {useMemo} from 'react'\nimport {Box, Octicon, Text, ActionMenu, IconButton, ActionList, Heading} from '@primer/react'\nimport type {Icon} from '@primer/octicons-react'\nimport {OrganizationIcon, RepoIcon, KebabHorizontalIcon} from '@primer/octicons-react'\n\nimport useRoute from '../../../hooks/use-route'\nimport {USAGE_ROUTE} from '../../../routes'\n\nimport {UsageCardSkeleton, UsageListTable, UsageProgressBar} from '.'\nimport {ErrorComponent, NoDataComponent} from '../..'\n\nimport {GROUP_BY_REPO_TYPE, GROUP_BY_ORG_TYPE} from '../../../constants'\nimport {RequestState, UsageCardVariant, UsagePeriod} from '../../../enums'\nimport {boxStyle} from '../../../utils/style'\n\nimport type {PeriodSelection, RepoUsageLineItem, OtherUsageLineItem} from '../../../types/usage'\n\nconst containerBoxStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  ...boxStyle,\n}\n\nconst headerContainerStyle = {\n  mb: 3,\n  display: 'flex',\n  justifyContent: 'space-between',\n}\n\nconst headerBoxStyle = {\n  display: 'flex',\n}\n\nconst iconBoxStyle = {\n  pr: 2,\n}\n\nconst headingStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  fontSize: 2,\n  fontWeight: 'normal',\n}\n\nconst subtitleStyle = {\n  color: 'fg.subtle',\n}\n\nconst titleText: Record<UsageCardVariant, string> = {\n  org: 'Usage by organization',\n  repo: 'Usage by repository',\n}\n\nconst numberToString: Record<number, string | null> = {\n  1: 'Top',\n  2: 'Top two',\n  3: 'Top three',\n  4: 'Top four',\n  5: 'Top five',\n}\n\nconst icon: Record<UsageCardVariant, Icon> = {\n  org: OrganizationIcon,\n  repo: RepoIcon,\n}\n\nconst timePeriod: Record<PeriodSelection['type'], string> = {\n  [UsagePeriod.THIS_HOUR]: 'this hour',\n  [UsagePeriod.TODAY]: 'today',\n  [UsagePeriod.THIS_MONTH]: 'this month',\n  [UsagePeriod.THIS_YEAR]: 'this year',\n  [UsagePeriod.LAST_MONTH]: 'last month',\n  [UsagePeriod.LAST_YEAR]: 'last year',\n}\n\ninterface Props {\n  usagePeriod: UsagePeriod\n  requestState: RequestState\n  usage: RepoUsageLineItem[]\n  otherUsage: OtherUsageLineItem[]\n  variant: UsageCardVariant\n  enableOrgRepoUsageRefactor?: boolean\n}\n\nexport default function UsageCard({\n  usagePeriod,\n  requestState,\n  usage,\n  variant,\n  otherUsage,\n  enableOrgRepoUsageRefactor,\n}: Props) {\n  const sortedUsage = useMemo<RepoUsageLineItem[]>(() => usage.sort((a, b) => b.billedAmount - a.billedAmount), [usage])\n  const totalUsage = useMemo<number>(() => usage.reduce((sum, item) => sum + item.billedAmount, 0), [usage])\n\n  const totalOtherUsage = useMemo<number>(() => {\n    if (enableOrgRepoUsageRefactor) {\n      return otherUsage.reduce((sum, item) => sum + item.billedAmount, 0)\n    } else {\n      return sortedUsage.length > 5 ? sortedUsage.slice(5).reduce((sum, item) => sum + item.billedAmount, 0) : 0\n    }\n  }, [sortedUsage, otherUsage, enableOrgRepoUsageRefactor])\n\n  // Only show up to the 5th element as we will show the remainder of the usage in the \"other\" section.\n  const topSortedUsage = sortedUsage.slice(0, 5)\n  const topUsageCount = topSortedUsage.length\n\n  const FULL_VARIANT_NAME = variant === UsageCardVariant.ORG ? 'organization' : 'repository'\n\n  const groupType = variant === UsageCardVariant.ORG ? GROUP_BY_ORG_TYPE : GROUP_BY_REPO_TYPE\n  const {path: usageUrl} = useRoute(USAGE_ROUTE, {}, {group: groupType.toString()})\n\n  const subtitleText = () => {\n    let entityText = ''\n    if (variant === UsageCardVariant.ORG) {\n      entityText = topUsageCount === 1 ? 'organization' : 'organizations'\n    } else {\n      entityText = topUsageCount === 1 ? 'repository' : 'repositories'\n    }\n\n    return `${numberToString[topUsageCount]} ${entityText} ${timePeriod[usagePeriod]}`\n  }\n\n  return (\n    <Box sx={containerBoxStyle} data-testid={`${variant}-usage-card`}>\n      <Box sx={headerContainerStyle}>\n        <Box sx={headerBoxStyle}>\n          <Box sx={iconBoxStyle}>\n            <Octicon icon={icon[variant]} size={16} />\n          </Box>\n          <div>\n            <Heading as=\"h3\" sx={headingStyle}>\n              {titleText[variant]}\n              {usage.length > 0 && (\n                <Text as=\"small\" sx={subtitleStyle} data-testid=\"usage-card-subtitle\">\n                  {subtitleText()}\n                </Text>\n              )}\n            </Heading>\n          </div>\n        </Box>\n        <ActionMenu>\n          <ActionMenu.Anchor>\n            {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n            <IconButton\n              unsafeDisableTooltip={true}\n              icon={KebabHorizontalIcon}\n              variant=\"invisible\"\n              aria-label={`Open ${FULL_VARIANT_NAME} usage options`}\n            />\n          </ActionMenu.Anchor>\n          <ActionMenu.Overlay>\n            <ActionList sx={{whiteSpace: 'nowrap'}}>\n              <ActionList.LinkItem href={usageUrl}>View all {FULL_VARIANT_NAME} usage</ActionList.LinkItem>\n            </ActionList>\n          </ActionMenu.Overlay>\n        </ActionMenu>\n      </Box>\n\n      {/* Render the org usage card with loading/error states */}\n      {(requestState === RequestState.LOADING || requestState === RequestState.INIT) && <UsageCardSkeleton />}\n      {requestState === RequestState.ERROR && (\n        <ErrorComponent sx={{border: 0}} testid=\"org-usage-loading-error\" text=\"Something went wrong\" />\n      )}\n      {requestState === RequestState.IDLE && (\n        <>\n          {usage.length === 0 && <NoDataComponent sx={{border: 0}} testid=\"no-usage-data\" text=\"No usage found\" />}\n          {usage.length > 0 && (\n            <>\n              <UsageProgressBar\n                allOtherUsage={totalOtherUsage}\n                sx={{mb: 3}}\n                totalUsage={totalUsage}\n                usage={topSortedUsage}\n              />\n              <UsageListTable allOtherUsage={totalOtherUsage} usage={topSortedUsage} variant={variant} />\n            </>\n          )}\n        </>\n      )}\n    </Box>\n  )\n}\n\ntry{ UsageCard.displayName ||= 'UsageCard' } catch {}","import {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\n\nimport {LoadingComponent} from '../..'\n\nconst UsageCardSkeleton = () => {\n  return (\n    <LoadingComponent sx={{border: 0, p: 0}}>\n      <LoadingSkeleton sx={{width: '100%', mb: 3}} variant=\"rounded\" height=\"md\" />\n      <LoadingSkeleton sx={{width: '100%', mb: 2}} variant=\"rounded\" height=\"md\" />\n      <LoadingSkeleton sx={{width: '100%', mb: 2}} variant=\"rounded\" height=\"md\" />\n      <LoadingSkeleton sx={{width: '100%', mb: 2}} variant=\"rounded\" height=\"md\" />\n      <LoadingSkeleton sx={{width: '100%', mb: 2}} variant=\"rounded\" height=\"md\" />\n      <LoadingSkeleton sx={{width: '100%', mb: 2}} variant=\"rounded\" height=\"md\" />\n      <LoadingSkeleton sx={{width: '100%'}} variant=\"rounded\" height=\"md\" />\n    </LoadingComponent>\n  )\n}\n\nexport default UsageCardSkeleton\n\ntry{ UsageCardSkeleton.displayName ||= 'UsageCardSkeleton' } catch {}","import {Box} from '@primer/react'\nimport {useMemo} from 'react'\n\nimport {useRepoUsageCard} from '../../../hooks/usage'\n\nimport {UsageCard} from '.'\n\nimport {UsageCardVariant, UsageGrouping, UsagePeriod} from '../../../enums'\nimport {groupLineItems} from '../../../utils/group'\n\nimport type {Filters, RepoUsageLineItem} from '../../../types/usage'\n\nconst containerStyle = {\n  display: 'grid',\n  // Responsively sets the number of columns the cards are divided into\n  gridTemplateColumns: ['1', '1', '1', '1'],\n  gridGap: 3,\n  // Sets the grid to 2 columns when the screen width is >= 1651px instead of the 1280px standard xl breakpoint to prevent horizontal scrolling and respect the same margin as the other cards\n  '@media (min-width: 1651px)': {\n    gridTemplateColumns: 'repeat(2, 1fr)',\n  },\n}\n\ninterface Props {\n  filters: Filters\n  enableOrgRepoUsageRefactor: boolean\n}\n\n/**\n * Container for querying usage that powers both the org and repo usage cards.\n */\nexport default function OrgRepoUsageContainer({filters, enableOrgRepoUsageRefactor}: Props) {\n  const {\n    usage: repoUsage,\n    otherUsage: repoOtherUsage,\n    requestState: repoUsageRequestState,\n  } = useRepoUsageCard({\n    filters: {...filters, group: {type: UsageGrouping.REPO, displayText: ''}},\n  })\n  const {\n    usage: orgUsage,\n    otherUsage: orgOtherUsage,\n    requestState: orgUsageRequestState,\n  } = useRepoUsageCard({\n    filters: {...filters, group: {type: UsageGrouping.ORG, displayText: ''}},\n  })\n\n  const groupedOrgUsage = useMemo<RepoUsageLineItem[]>(\n    () => groupLineItems(orgUsage, UsageGrouping.ORG) as RepoUsageLineItem[],\n    [orgUsage],\n  )\n  const groupedRepoUsage = useMemo<RepoUsageLineItem[]>(\n    () => groupLineItems(repoUsage, UsageGrouping.REPO) as RepoUsageLineItem[],\n    [repoUsage],\n  )\n\n  const usagePeriod = filters.period?.type ?? UsagePeriod.DEFAULT\n\n  return (\n    <Box sx={containerStyle}>\n      <UsageCard\n        usagePeriod={usagePeriod}\n        requestState={orgUsageRequestState}\n        usage={groupedOrgUsage}\n        otherUsage={orgOtherUsage}\n        variant={UsageCardVariant.ORG}\n        enableOrgRepoUsageRefactor={enableOrgRepoUsageRefactor}\n      />\n      <UsageCard\n        usagePeriod={usagePeriod}\n        requestState={repoUsageRequestState}\n        usage={groupedRepoUsage}\n        otherUsage={repoOtherUsage}\n        variant={UsageCardVariant.REPO}\n        enableOrgRepoUsageRefactor={enableOrgRepoUsageRefactor}\n      />\n    </Box>\n  )\n}\n\ntry{ OrgRepoUsageContainer.displayName ||= 'OrgRepoUsageContainer' } catch {}","import {Box} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\ninterface Props {\n  color: string\n  sx?: BetterSystemStyleObject\n}\n\nexport default function ColoredBullet(props: Props) {\n  return <Box sx={{borderRadius: '100px', width: '8px', height: '8px', backgroundColor: props.color, ...props.sx}} />\n}\n\ntry{ ColoredBullet.displayName ||= 'ColoredBullet' } catch {}","/* eslint eslint-comments/no-use: off */\n/* eslint-disable primer-react/no-system-props */\nimport {GitHubAvatar} from '@github-ui/github-avatar'\nimport {Box, Text} from '@primer/react'\nimport {Grid, Stack} from '@primer/react-brand'\n\nimport ColoredBullet from '../../common/ColoredBullet'\n\nimport {COLORS} from '../../../constants'\nimport {UsageCardVariant} from '../../../enums'\nimport {formatMoneyDisplay} from '../../../utils/money'\n\nimport type {RepoUsageLineItem} from '../../../types/usage'\n\ninterface Props {\n  allOtherUsage?: number\n  usage: RepoUsageLineItem[]\n  variant: UsageCardVariant\n}\n\nconst usageRowStyle = {\n  display: 'flex',\n  py: 2,\n}\n\n// TODO: This should be handled via CSS\nconst usageRowStyleWithBottomBorder = {\n  ...usageRowStyle,\n  borderBottomWidth: 1,\n  borderBottomStyle: 'solid',\n  borderBottomColor: 'border.default',\n}\n\nconst listTextStyle = {\n  fontSize: 1,\n}\n\ninterface TableRowProps {\n  nameElement: JSX.Element\n  billedAmountElement: JSX.Element\n}\n\nfunction TableRow({nameElement, billedAmountElement}: TableRowProps): JSX.Element {\n  return (\n    <Grid style={{padding: 0, margin: 0, minWidth: '100%'}}>\n      <Grid.Column span={6}>{nameElement}</Grid.Column>\n      <Grid.Column className=\"text-right\" span={3} />\n      <Grid.Column className=\"text-right\" span={3}>\n        {billedAmountElement}\n      </Grid.Column>\n    </Grid>\n  )\n}\n\ninterface UsageRowItemProps {\n  name: string\n  amount: number\n  color?: string\n  avatarSrc?: string\n}\n\nfunction UsageRowItem({name, amount, color, avatarSrc}: UsageRowItemProps): JSX.Element {\n  return (\n    <TableRow\n      nameElement={\n        <Stack gap=\"none\" padding=\"none\" direction=\"horizontal\" alignItems=\"center\">\n          <ColoredBullet color={color ?? 'border.default'} sx={{mr: 2, display: 'inline-block'}} />\n          {avatarSrc && <GitHubAvatar square src={avatarSrc} size={16} sx={{mr: 2}} />}\n          <Text sx={listTextStyle}>{name}</Text>\n        </Stack>\n      }\n      billedAmountElement={<Text sx={listTextStyle}>{formatMoneyDisplay(amount)}</Text>}\n    />\n  )\n}\n\nexport default function UsageListTable({usage, allOtherUsage, variant}: Props) {\n  const otherText = variant === UsageCardVariant.ORG ? 'All other orgs' : 'All other repositories'\n  const hasOtherUsage = !!allOtherUsage && allOtherUsage > 0\n\n  const getName = (item: RepoUsageLineItem): string => {\n    return variant === UsageCardVariant.ORG ? item.org.name : `${item.org.name}/${item.repo.name}`\n  }\n\n  const getTableHeader = (): string => (variant === UsageCardVariant.ORG ? 'Organization' : 'Repository')\n\n  const displayBottomBorder = (index: number): boolean => {\n    if (hasOtherUsage) return true\n    return index + 1 !== usage.length\n  }\n\n  return (\n    <Box sx={{display: 'flex', flexDirection: 'column'}}>\n      <TableRow\n        nameElement={<Text sx={{color: 'fg.subtle'}}>{getTableHeader()}</Text>}\n        billedAmountElement={<Text sx={{...listTextStyle, color: 'fg.subtle'}}>Gross amount</Text>}\n      />\n      {usage.map((usageInformation, index) => (\n        <Box\n          key={`${getName(usageInformation)}-usage-${index}`}\n          sx={displayBottomBorder(index) ? usageRowStyleWithBottomBorder : usageRowStyle}\n          data-testid={`${getName(usageInformation)}-usage-list-item`}\n        >\n          <UsageRowItem\n            name={getName(usageInformation)}\n            amount={usageInformation.billedAmount}\n            color={COLORS[index]}\n            avatarSrc={variant === UsageCardVariant.ORG ? usageInformation.org.avatarSrc : ''}\n          />\n        </Box>\n      ))}\n      {hasOtherUsage && (\n        <Box sx={usageRowStyle} data-testid=\"usage-list-table-other-usage\">\n          <UsageRowItem name={otherText} amount={allOtherUsage ?? 0} />\n        </Box>\n      )}\n    </Box>\n  )\n}\n\ntry{ TableRow.displayName ||= 'TableRow' } catch {}\ntry{ UsageRowItem.displayName ||= 'UsageRowItem' } catch {}\ntry{ UsageListTable.displayName ||= 'UsageListTable' } catch {}","import {Box} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport {COLORS} from '../../../constants'\n\nimport type {RepoUsageLineItem} from '../../../types/usage'\n\ninterface Props {\n  allOtherUsage?: number\n  usage: RepoUsageLineItem[]\n  totalUsage: number\n  sx?: BetterSystemStyleObject\n}\n\nexport default function UsageProgressBar({allOtherUsage, usage, totalUsage, sx}: Props) {\n  const usageLength = usage.length\n  const hasOtherUsage = !!allOtherUsage && allOtherUsage > 0\n\n  return (\n    <Box sx={{display: 'flex', ...sx}}>\n      {usage.map((lineItem, index) => {\n        return (\n          <Box\n            // TODO: update this key with org ID once we have org data wired in\n            key={`usage-${index}`}\n            sx={{\n              height: '8px',\n              // Calculate the width of the progress bar segment based on the share of the total usage\n              width: `${(lineItem.billedAmount / totalUsage) * 100}%`,\n              bg: COLORS[index],\n              mr: hasOtherUsage || index !== usageLength - 1 ? '1px' : '0px',\n              borderTopLeftRadius: index === 0 ? 2 : 0,\n              borderBottomLeftRadius: index === 0 ? 2 : 0,\n              // We only want to have a radius on the right if we don't have\n              // an other usage segment and this is the last element\n              borderTopRightRadius: !hasOtherUsage && index === usageLength - 1 ? 2 : 0,\n              borderBottomRightRadius: !hasOtherUsage && index === usageLength - 1 ? 2 : 0,\n            }}\n            data-testid={`${COLORS[index]}-usage-bar`}\n          />\n        )\n      })}\n      {hasOtherUsage && (\n        <Box\n          sx={{\n            height: '8px',\n            width: `${((allOtherUsage ?? 0) / totalUsage) * 100}%`,\n            bg: 'border.default',\n            borderTopRightRadius: 2,\n            borderBottomRightRadius: 2,\n          }}\n          data-testid=\"other-usage-bar\"\n        />\n      )}\n    </Box>\n  )\n}\n\ntry{ UsageProgressBar.displayName ||= 'UsageProgressBar' } catch {}","import {boxStyle, flexFill} from '../../../utils/style'\n\nexport const containerStyle = {\n  ...boxStyle,\n  p: 0,\n}\n\nexport const tableStyle = {\n  width: '100%',\n  textAlign: 'left',\n  borderCollapse: 'separate',\n}\n\nexport const borderTop = {\n  borderTopWidth: 1,\n  borderTopStyle: 'solid',\n  borderTopColor: 'border.default',\n}\n\nexport const theadStyle = {\n  position: 'sticky',\n  top: 0,\n  bg: 'canvas.subtle',\n  fontWeight: 'bold',\n}\n\nexport const trStyle = {\n  display: 'flex',\n}\n\nexport const cellStyle = {p: 3}\n\nexport const identifierCell = {\n  ...cellStyle,\n  ...flexFill,\n}\n\nexport const fixedWidthCell = {\n  ...cellStyle,\n  textAlign: 'right',\n  '@media (min-width: 600px)': {\n    width: '18%',\n  },\n  '@media (max-width: 599px)': {\n    width: '100%',\n  },\n}\n\nexport const expandableIconWidth = '48px'\n","import {borderTop, fixedWidthCell, identifierCell, tableStyle, trStyle} from './style'\nimport {formatQuantityDisplay, getBilledAmount} from '../../../utils/usage'\n\nimport {Box} from '@primer/react'\nimport type {ProductUsageLineItem} from '../../../types/usage'\nimport type {UsageGrouping} from '../../../enums'\nimport {formatMoneyDisplay} from '../../../utils/money'\n\ninterface Props {\n  groupType: UsageGrouping\n  data: ProductUsageLineItem[]\n}\n\nexport default function UsageSubTable({groupType, data}: Props) {\n  // sort by SKU name to preserve order of row entries between sub table rows\n  const sortedData = data.sort((a, b) => {\n    return a.friendlySkuName.localeCompare(b.friendlySkuName)\n  })\n\n  return (\n    <Box sx={tableStyle} data-testid=\"usage-sub-table\">\n      <Box sx={{display: 'flex'}}>\n        <Box sx={{width: 56}} />\n        <Box sx={{...identifierCell, color: 'fg.subtle', pl: 0}}>SKU</Box>\n        <Box sx={{...fixedWidthCell, color: 'fg.subtle'}}>Units</Box>\n        <Box sx={{...fixedWidthCell, color: 'fg.subtle'}}>Price/unit</Box>\n        <Box sx={{...fixedWidthCell, color: 'fg.subtle'}}>Gross amount</Box>\n        <Box sx={{...fixedWidthCell, color: 'fg.subtle'}}>Billed amount</Box>\n      </Box>\n      <div>\n        {sortedData.map(row => {\n          return (\n            <Box sx={{...trStyle}} key={`sub-table-${row.product}-${row.sku}-${row.usageAt}`}>\n              <Box sx={{width: 56}} />\n              <Box sx={{...borderTop, ...identifierCell, pl: 0}} data-testid=\"sub-sku-td\">\n                {row.friendlySkuName ?? row.sku}\n              </Box>\n              <Box sx={{...fixedWidthCell, ...borderTop}} data-testid=\"sub-quantity-td\">\n                {formatQuantityDisplay(row)}\n              </Box>\n              <Box sx={{...fixedWidthCell, ...borderTop}} data-testid=\"sub-applied-cost-per-quantity-td\">\n                {formatMoneyDisplay(row.appliedCostPerQuantity, 6)}\n              </Box>\n              <Box sx={{...fixedWidthCell, ...borderTop}} data-testid=\"sub-gross-amount-td\">\n                {formatMoneyDisplay(row.billedAmount)}\n              </Box>\n              <Box sx={{...fixedWidthCell, ...borderTop}} data-testid=\"sub-billed-amount-td\">\n                {getBilledAmount(row.totalAmount, groupType)}\n              </Box>\n            </Box>\n          )\n        })}\n      </div>\n    </Box>\n  )\n}\n\ntry{ UsageSubTable.displayName ||= 'UsageSubTable' } catch {}","import {useMemo} from 'react'\nimport {Box} from '@primer/react'\n\nimport {UsageTableRow, UsageTableRowSkeleton} from '.'\nimport {ErrorComponent} from '../..'\n\nimport {containerStyle, fixedWidthCell, identifierCell, tableStyle, theadStyle, trStyle} from './style'\nimport {DEFAULT_GROUP_TYPE} from '../../../constants'\nimport {RequestState, UsageGrouping, UsagePeriod} from '../../../enums'\nimport {groupLineItems, sortByUsageAtDesc} from '../../../utils/group'\nimport {isProductUsageLineItem, isRepoUsageLineItem} from '../../../utils/types'\nimport {useUsageTableData} from '../../../hooks/usage'\n\nimport type {Filters, ProductUsageLineItem, UsageLineItem} from '../../../types/usage'\n\nconst aspectRatio = '3 / 1'\n\nconst getRowKey = (lineItem: UsageLineItem, groupType: UsageGrouping): string => {\n  if (groupType === UsageGrouping.NONE) return lineItem.usageAt\n  if (isRepoUsageLineItem(lineItem)) return `${lineItem.org.name}-${lineItem.repo.name}`\n  else if (isProductUsageLineItem(lineItem)) return lineItem.sku\n  else return ''\n}\n\ninterface Props {\n  filters: Filters\n  requestState: RequestState\n  usage: UsageLineItem[]\n  useUsageTableDataEndpoint?: boolean\n}\n\nexport default function UsageTable({filters, requestState, usage, useUsageTableDataEndpoint}: Props) {\n  // TODO: Make filters required\n  const groupType = filters.group?.type ?? DEFAULT_GROUP_TYPE\n  const periodType = filters.period?.type ?? UsagePeriod.DEFAULT\n\n  const {usageTableData, requestState: tableUsageRequestState} = useUsageTableData({filters, useUsageTableDataEndpoint})\n\n  const usageData = useUsageTableDataEndpoint ? usageTableData : usage\n  const usageRequestState = useUsageTableDataEndpoint ? tableUsageRequestState : requestState\n\n  const groupedUsage = useMemo(() => {\n    return groupType === UsageGrouping.NONE\n      ? groupLineItems(usageData, groupType, periodType).sort(sortByUsageAtDesc)\n      : // SKU grouping does not use sub table data since there are no rows to expand. With this, we just need to sort the rows by SKU\n        groupType === UsageGrouping.SKU\n        ? (groupLineItems(usageData, groupType) as ProductUsageLineItem[]).sort((a, b) => {\n            return a?.friendlySkuName.localeCompare(b?.friendlySkuName)\n          })\n        : groupLineItems(usageData, groupType)\n  }, [usageData, groupType, periodType])\n\n  const getFirstColumnHeader = (): string => {\n    switch (groupType) {\n      case UsageGrouping.NONE:\n        return 'Date'\n      case UsageGrouping.ORG:\n        return 'Organizations'\n      case UsageGrouping.PRODUCT:\n        return 'Products'\n      case UsageGrouping.REPO:\n        return 'Repositories'\n      case UsageGrouping.SKU:\n        return 'SKUs'\n      default:\n        return ''\n    }\n  }\n\n  const showQuantity = groupType === UsageGrouping.SKU\n  const showPricePerUnit = groupType === UsageGrouping.SKU\n  const expandable = groupType !== UsageGrouping.SKU\n\n  if (usageRequestState === RequestState.ERROR) {\n    return <ErrorComponent sx={{aspectRatio}} testid=\"usage-loading-error\" text=\"Something went wrong\" />\n  }\n\n  // don't return anything if we made a request and there is no data\n  if (usageRequestState === RequestState.IDLE && groupedUsage.length === 0) {\n    return null\n  }\n\n  return (\n    <Box sx={containerStyle}>\n      <Box sx={tableStyle} data-testid=\"usage-table\">\n        <Box sx={theadStyle}>\n          <Box sx={trStyle}>\n            <Box sx={identifierCell}>{getFirstColumnHeader()}</Box>\n            {showQuantity && <Box sx={fixedWidthCell}>Units</Box>}\n            {showPricePerUnit && <Box sx={fixedWidthCell}>Price/unit</Box>}\n            <Box sx={fixedWidthCell}>Gross amount</Box>\n            <Box sx={fixedWidthCell}>Billed amount</Box>\n          </Box>\n        </Box>\n        <div>\n          {[RequestState.INIT, RequestState.LOADING].includes(usageRequestState) && (\n            <span data-testid=\"usage-table-row-skeletons\">\n              <UsageTableRowSkeleton showQuantity={showQuantity} showPricePerUnit={showPricePerUnit} />\n              <UsageTableRowSkeleton showQuantity={showQuantity} showPricePerUnit={showPricePerUnit} />\n              <UsageTableRowSkeleton showQuantity={showQuantity} showPricePerUnit={showPricePerUnit} />\n            </span>\n          )}\n          {usageRequestState === RequestState.IDLE &&\n            groupedUsage.map(row => (\n              <UsageTableRow\n                expandable={expandable}\n                key={getRowKey(row, groupType)}\n                rawUsage={usage}\n                row={row}\n                showPricePerUnit={showPricePerUnit}\n                showQuantity={showQuantity}\n                filters={filters}\n              />\n            ))}\n        </div>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ UsageTable.displayName ||= 'UsageTable' } catch {}","import {Box, Details, Link, Octicon, Spinner, useDetails} from '@primer/react'\nimport {ChevronDownIcon, ChevronRightIcon} from '@primer/octicons-react'\nimport type {Filters, RepoUsageLineItem, UsageLineItem} from '../../../types/usage'\nimport {RequestState, UsageGrouping, UsagePeriod} from '../../../enums'\nimport {borderTop, cellStyle, fixedWidthCell, identifierCell, trStyle} from './style'\nimport {formatQuantityDisplay, getBilledAmount} from '../../../utils/usage'\nimport {isProductUsageLineItem, isRepoUsageLineItem} from '../../../utils/types'\n\nimport {DEFAULT_GROUP_TYPE} from '../../../constants'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\nimport {UsageSubTable} from '.'\nimport {formatMoneyDisplay} from '../../../utils/money'\nimport {formatUsageDateForPeriod} from '../../../utils/date'\nimport {useMemo} from 'react'\nimport useUsageSubTableData from '../../../hooks/usage/use-usage-sub-table-data'\n\nconst avatarStyle = {mr: 2}\nconst spinnerStyle = {\n  mt: 3,\n  mb: 3,\n  mr: 'auto',\n  ml: 'auto',\n}\n\ninterface UsageTableRowProps {\n  expandable: boolean\n  rawUsage: UsageLineItem[]\n  row: UsageLineItem | RepoUsageLineItem\n  showPricePerUnit: boolean\n  showQuantity: boolean\n  filters: Filters\n}\n\nexport default function UsageTableRow({\n  expandable,\n  rawUsage,\n  row,\n  showPricePerUnit,\n  showQuantity,\n  filters,\n}: UsageTableRowProps) {\n  const {getDetailsProps, open} = useDetails({closeOnOutsideClick: false})\n  const {usage, requestState} = useUsageSubTableData({\n    lineItem: row,\n    open,\n    rawUsage,\n    filters,\n  })\n\n  // TODO: Make filters required\n  const groupType = filters?.group?.type ?? DEFAULT_GROUP_TYPE\n  const periodType = filters?.period?.type ?? UsagePeriod.DEFAULT\n\n  // when grouping by product we can avoid an extra request to billing platform to get usage data by\n  // filtering sub table usage for the current row's product (we don't need to do this for SKU since\n  // there are no sub tables for SKU)\n  let usageSubTableData = usage\n  if (groupType === UsageGrouping.PRODUCT && isProductUsageLineItem(row)) {\n    usageSubTableData = usage.filter(usageItem => {\n      return usageItem.product === row.product\n    })\n  }\n\n  const getFirstColumnContent = (): JSX.Element | null => {\n    if (isProductUsageLineItem(row)) {\n      let text\n      if (groupType === UsageGrouping.NONE) text = formatUsageDateForPeriod(row.usageAt, periodType)\n      if (groupType === UsageGrouping.PRODUCT) text = row.product\n      if (groupType === UsageGrouping.SKU) text = row.friendlySkuName\n      return <span>{text}</span>\n    } else if (isRepoUsageLineItem(row)) {\n      return (\n        <Link\n          href={groupType === UsageGrouping.REPO ? `/${row.org.name}/${row.repo.name}` : `/${row.org.name}`}\n          target=\"_blank\"\n        >\n          {row.org.avatarSrc && <GitHubAvatar square src={row.org.avatarSrc} size={16} sx={avatarStyle} />}\n          <span>{groupType === UsageGrouping.ORG ? row.org.name : `${row.org.name}/${row.repo.name}`}</span>\n        </Link>\n      )\n    } else return null\n  }\n\n  const getRowContent = (): JSX.Element => {\n    return (\n      <Box sx={{...trStyle}}>\n        {expandable && (\n          // Make the clickable area a bit larger\n          <Details {...getDetailsProps()} sx={{...cellStyle, p: 2, pr: 0}}>\n            <Box\n              as={'summary'}\n              sx={{p: 2}}\n              title={open ? 'Hide Usage Breakdown' : 'Show Usage Breakdown'}\n              data-testid={'usage-details'}\n            >\n              <Octicon icon={open ? ChevronDownIcon : ChevronRightIcon} />\n            </Box>\n          </Details>\n        )}\n        <Box sx={{...identifierCell}} data-testid=\"identifier-td\">\n          {getFirstColumnContent()}\n        </Box>\n        {showQuantity && (\n          <Box sx={{...fixedWidthCell, color: 'fg.muted'}} data-testid=\"quantity-td\">\n            {formatQuantityDisplay(row)}\n          </Box>\n        )}\n        {showPricePerUnit && (\n          <Box sx={{...fixedWidthCell, color: 'fg.muted'}} data-testid=\"applied-cost-per-quantity-td\">\n            {formatMoneyDisplay(row.appliedCostPerQuantity, 6)}\n          </Box>\n        )}\n        <Box sx={{...fixedWidthCell, color: 'fg.muted'}} data-testid=\"gross-amount-td\">\n          {formatMoneyDisplay(row.billedAmount)}\n        </Box>\n        <Box sx={{...fixedWidthCell, fontWeight: 'bold'}} data-testid=\"billed-amount-td\">\n          {getBilledAmount(row.totalAmount, groupType)}\n        </Box>\n      </Box>\n    )\n  }\n\n  const testId = useMemo(() => {\n    if (isProductUsageLineItem(row)) {\n      if (groupType === UsageGrouping.NONE) return `usage-date-${formatUsageDateForPeriod(row.usageAt, periodType)}`\n      if (groupType === UsageGrouping.PRODUCT) return `usage-${row.product}`\n      if (groupType === UsageGrouping.SKU) return `usage-${row.sku}`\n    } else if (isRepoUsageLineItem(row)) {\n      if (groupType === UsageGrouping.ORG) return `usage-${row.org.name}`\n      if (groupType === UsageGrouping.REPO) return `usage-${row.org.name}-${row.repo.name}`\n    }\n  }, [row, groupType, periodType])\n\n  return (\n    <Box sx={borderTop} data-testid={testId}>\n      {getRowContent()}\n      <Box sx={trStyle}>\n        {requestState === RequestState.LOADING && <Spinner sx={spinnerStyle} />}\n        {open && requestState === RequestState.IDLE && <UsageSubTable data={usageSubTableData} groupType={groupType} />}\n      </Box>\n    </Box>\n  )\n}\n\ntry{ UsageTableRow.displayName ||= 'UsageTableRow' } catch {}","import {useEffect, useState} from 'react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport useRoute from '../use-route'\nimport {HTTPMethod, doRequest} from '../use-request'\nimport {USAGE_ROUTE} from '../../routes'\n\nimport {DEFAULT_GROUP_TYPE, ERRORS} from '../../constants'\nimport {RequestState, UsageGrouping, UsagePeriod} from '../../enums'\nimport {formatUsageDateForPeriod} from '../../utils/date'\nimport {groupLineItems} from '../../utils/group'\nimport {isProductUsageLineItem, isRepoUsageLineItem} from '../../utils/types'\n\nimport type {ProductUsageLineItem, UsageLineItem, Filters} from '../../types/usage'\n\ntype UseUsageSubTableDataParams = {\n  lineItem: UsageLineItem\n  open: boolean | undefined\n  rawUsage: UsageLineItem[]\n  filters: Filters\n}\nexport default function useUsageSubTableData({lineItem, open, rawUsage, filters}: UseUsageSubTableDataParams) {\n  const [usage, setUsage] = useState<ProductUsageLineItem[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n  const {addToast} = useToastContext()\n\n  const customerId = filters.customer.id\n  // TODO: Make filters required\n  const groupType = filters?.group?.type ?? DEFAULT_GROUP_TYPE\n  const periodType = filters?.period?.type ?? UsagePeriod.DEFAULT\n\n  const getUsageBySkuForDate = () => {\n    const dateFilteredUsage = rawUsage.filter(\n      item =>\n        formatUsageDateForPeriod(lineItem.usageAt, periodType) === formatUsageDateForPeriod(item.usageAt, periodType),\n    )\n    return groupLineItems(dateFilteredUsage, UsageGrouping.SKU)\n  }\n\n  const getUsageGroupingBySKU = () => {\n    return groupLineItems(rawUsage, UsageGrouping.SKU)\n  }\n\n  // Ensure the searchQuery is set correctly and will update the patch below\n  const getSearchQuery = (): string => {\n    if (isProductUsageLineItem(lineItem) && groupType === UsageGrouping.PRODUCT)\n      return `product:${lineItem.product} ${filters.searchQuery}`.trim()\n    if (!isRepoUsageLineItem(lineItem)) return ''\n    if (groupType === UsageGrouping.ORG) return `org:${lineItem.org.name}`\n    if (groupType === UsageGrouping.REPO) return `repo:${lineItem.org.name}/${lineItem.repo.name}`\n    return ''\n  }\n\n  const {path} = useRoute(\n    USAGE_ROUTE,\n    {},\n    {\n      customer_id: customerId,\n      group: UsageGrouping.SKU.toString(),\n      period: periodType.toString(),\n      query: getSearchQuery(),\n    },\n  )\n\n  useEffect(() => {\n    const fetchUsageBySku = async () => {\n      if (!open) return\n\n      setRequestState(RequestState.LOADING)\n      try {\n        // no need to re-request usage for none, SKU and product groupings, we already have it\n        if (groupType === UsageGrouping.NONE) {\n          setUsage(getUsageBySkuForDate() as ProductUsageLineItem[])\n          setRequestState(RequestState.IDLE)\n        } else if (groupType === UsageGrouping.SKU || groupType === UsageGrouping.PRODUCT) {\n          setUsage(getUsageGroupingBySKU() as ProductUsageLineItem[])\n          setRequestState(RequestState.IDLE)\n        } else {\n          const response = await doRequest(HTTPMethod.GET, path)\n          if (response.ok) {\n            setUsage(groupLineItems(response.data.usage, UsageGrouping.SKU) as ProductUsageLineItem[])\n            setRequestState(RequestState.IDLE)\n          } else {\n            setRequestState(RequestState.ERROR)\n          }\n        }\n      } catch {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({type: 'error', message: ERRORS.QUERY_USAGE_ERROR})\n        setRequestState(RequestState.ERROR)\n      }\n    }\n    setUsage([])\n    fetchUsageBySku()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, periodType, groupType])\n\n  return {usage, requestState, getSearchQuery}\n}\n","import {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {Box} from '@primer/react'\n\nimport {borderTop, fixedWidthCell, identifierCell, trStyle} from './style'\n\ninterface Props {\n  showQuantity: boolean\n  showPricePerUnit: boolean\n}\n\nexport default function UsageTableRowSkeleton({showQuantity, showPricePerUnit}: Props) {\n  return (\n    <Box sx={borderTop}>\n      <Box sx={trStyle}>\n        <Box sx={identifierCell}>\n          <LoadingSkeleton variant=\"text\" />\n        </Box>\n        {showQuantity && (\n          <Box sx={fixedWidthCell}>\n            <LoadingSkeleton variant=\"text\" />\n          </Box>\n        )}\n        {showPricePerUnit && (\n          <Box sx={fixedWidthCell}>\n            <LoadingSkeleton variant=\"text\" />\n          </Box>\n        )}\n        <Box sx={fixedWidthCell}>\n          <LoadingSkeleton variant=\"text\" />\n        </Box>\n        <Box sx={fixedWidthCell}>\n          <LoadingSkeleton variant=\"text\" />\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ UsageTableRowSkeleton.displayName ||= 'UsageTableRowSkeleton' } catch {}","import {DefaultUsageCard} from '.'\nimport useBudgetsPage from '../../hooks/budget/use-budgets-page'\nimport {useNetUsageData} from '../../hooks/usage'\n\nimport type {Customer} from '../../types/common'\nimport type {EnabledProduct} from '../../types/products'\nimport type {Filters} from '../../types/usage'\n\ninterface Props {\n  customer: Customer\n  filters: Filters\n  isOnlyOrgAdmin: boolean\n  product: EnabledProduct\n}\n\nexport function DefaultUsageContainer({customer, filters, isOnlyOrgAdmin, product}: Props) {\n  // Un-commenting this line will tell the budgets table to pull from cost center customers when selected,\n  // but right now all cost centers are scoped under the enterprise. Leaving in place per @mattkorwel\n  // const {budgets, deleteBudgetFromPage} = useBudgetsPage({slug, customerId: filters.customer.id})\n  const {budgets} = useBudgetsPage({customerId: customer.customerId})\n  const {netUsage, requestState: netUsageRequestState} = useNetUsageData({filters})\n\n  return (\n    <>\n      <DefaultUsageCard\n        budgets={budgets}\n        isOrgAdmin={isOnlyOrgAdmin}\n        product={product}\n        requestState={netUsageRequestState}\n        usage={netUsage}\n      />\n    </>\n  )\n}\n\ntry{ DefaultUsageContainer.displayName ||= 'DefaultUsageContainer' } catch {}","import toUpper from 'lodash-es/toUpper'\nimport toLower from 'lodash-es/toLower'\nimport {LoadingSkeleton} from '@github-ui/skeleton/LoadingSkeleton'\nimport {Box, Heading, Text} from '@primer/react'\n\nimport {ErrorComponent} from '..'\n\nimport {RequestState} from '../../enums'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle} from '../../utils/style'\n\nexport enum UsageInfoTileVariant {\n  amountSpent = 'AMOUNT_SPENT',\n  quantityUsed = 'QUANTITY_USED',\n}\n\ninterface UsageInfoTileProps {\n  productName: string\n  requestState: RequestState\n  totalSpendOrSeats: number\n  variant: UsageInfoTileVariant\n}\n\nexport default function UsageInfoTile({productName, requestState, totalSpendOrSeats, variant}: UsageInfoTileProps) {\n  function toTitleCase(str: string): string {\n    return str\n      .split(' ')\n      .map(word => toUpper(word.charAt(0)) + toLower(word.slice(1)))\n      .join(' ')\n  }\n\n  const capitalizedProductName = toTitleCase(productName)\n  function defaultTitle(): string {\n    if (variant === UsageInfoTileVariant.amountSpent) {\n      return `Spend on ${capitalizedProductName}`\n    } else {\n      return `Seats used`\n    }\n  }\n\n  function defaultSubtitle() {\n    if (variant === UsageInfoTileVariant.amountSpent) {\n      return `Showing total spend on ${capitalizedProductName} for your enterprise for the current billing cycle minus discounts.`\n    } else {\n      return 'Showing total unique seats billed for your enterprise. Actual billed amount for each seat is prorated based on when it is added during the billing cycle.'\n    }\n  }\n\n  function spotlightedValue() {\n    if (variant === UsageInfoTileVariant.amountSpent) {\n      return formatMoneyDisplay(totalSpendOrSeats)\n    } else {\n      return totalSpendOrSeats.toFixed(2)\n    }\n  }\n\n  return (\n    <Box sx={boxStyle}>\n      <Heading as=\"h3\" sx={cardHeadingStyle}>\n        {defaultTitle()}\n      </Heading>\n      {[RequestState.INIT, RequestState.LOADING].includes(requestState) && (\n        <>\n          <LoadingSkeleton variant=\"rounded\" height=\"36px\" />\n          <LoadingSkeleton variant=\"rounded\" height=\"xl\" />\n        </>\n      )}\n      {requestState === RequestState.ERROR && (\n        <ErrorComponent sx={{border: 0}} testid={`${productName}-usage-loading-error`} text=\"Something went wrong\" />\n      )}\n      {requestState === RequestState.IDLE && (\n        <Text sx={{display: 'block', fontSize: 4, lineHeight: '36px'}} data-testid=\"number-display\">\n          {spotlightedValue()}\n        </Text>\n      )}\n      <Text as=\"p\" sx={{mb: 0, color: 'fg.muted'}}>\n        {defaultSubtitle()}\n      </Text>\n    </Box>\n  )\n}\n\ntry{ UsageInfoTile.displayName ||= 'UsageInfoTile' } catch {}","import {Box} from '@primer/react'\n\nimport {useNetUsageData} from '../../hooks/usage'\n\nimport UsageInfoTile, {UsageInfoTileVariant} from './UsageInfoTile'\n\nimport type {Filters} from '../../types/usage'\n\ninterface Props {\n  filters: Filters\n  productName: string\n}\n\nexport function SeatBasedUsageContainer({filters, productName}: Props) {\n  const {netUsage, requestState: netUsageRequestState} = useNetUsageData({filters})\n  const totalSpend = netUsage.reduce((acc, lineItem) => acc + (lineItem.totalAmount ?? 0), 0)\n  const seats = netUsage.reduce((acc, lineItem) => acc + (lineItem.quantity ?? 0), 0)\n\n  return (\n    <Box sx={{display: 'grid', gap: 3, gridTemplateColumns: ['1', '1', '1', '1', 'repeat(2, 1fr)']}}>\n      <UsageInfoTile\n        productName={productName}\n        requestState={netUsageRequestState}\n        totalSpendOrSeats={totalSpend}\n        variant={UsageInfoTileVariant.amountSpent}\n      />\n      <UsageInfoTile\n        productName={productName}\n        requestState={netUsageRequestState}\n        totalSpendOrSeats={seats}\n        variant={UsageInfoTileVariant.quantityUsed}\n      />\n    </Box>\n  )\n}\n\ntry{ SeatBasedUsageContainer.displayName ||= 'SeatBasedUsageContainer' } catch {}","import {useState} from 'react'\nimport {Box, UnderlineNav} from '@primer/react'\n\nimport {DefaultUsageContainer} from './DefaultUsageContainer'\nimport {SeatBasedUsageContainer} from './SeatBasedUsageContainer'\n\nimport {PRODUCT_TAB_ICON_MAP, PRODUCT_TAB_TEXT_MAP, Products, MeteredProducts, SeatBasedProducts} from '../../constants'\n\nimport type {Customer} from '../../types/common'\nimport type {EnabledProduct} from '../../types/products'\nimport type {Filters} from '../../types/usage'\n\ninterface Props {\n  customer: Customer\n  enabledProducts: EnabledProduct[]\n  filters: Filters\n  isOnlyOrgAdmin: boolean\n}\n\nexport function ProductUsageContainer({customer, enabledProducts, filters, isOnlyOrgAdmin}: Props) {\n  const sortedEnabledProducts = [...enabledProducts].sort((a, b) => a.name.localeCompare(b.name))\n  const [selectedProduct, setSelectedProduct] = useState<Products>(sortedEnabledProducts[0]?.name || Products.actions)\n\n  return (\n    <>\n      {sortedEnabledProducts.length > 0 && (\n        <Box sx={{mb: 4}}>\n          <UnderlineNav aria-label=\"Products selector\" sx={{pl: 0, mb: 3}}>\n            {sortedEnabledProducts.map((product: EnabledProduct) => (\n              <UnderlineNav.Item\n                aria-current={selectedProduct === product.name ? 'page' : undefined}\n                onSelect={e => {\n                  e.preventDefault()\n                  setSelectedProduct(product.name)\n                }}\n                icon={PRODUCT_TAB_ICON_MAP[product.name]}\n                sx={{textTransform: 'capitalize'}}\n                key={`${product.name}-tab`}\n                data-testid={`${product.name}-tab`}\n              >\n                {PRODUCT_TAB_TEXT_MAP[product.name]}\n              </UnderlineNav.Item>\n            ))}\n          </UnderlineNav>\n          <div>\n            {sortedEnabledProducts.map((product: EnabledProduct) => (\n              <Box\n                aria-current={selectedProduct === product.name ? 'page' : undefined}\n                sx={{display: selectedProduct === product.name ? 'block' : 'none'}}\n                key={`${product.name}-tab-pane`}\n                data-testid={`${product.name}-tab-pane`}\n              >\n                {product.name in MeteredProducts && (\n                  <DefaultUsageContainer\n                    customer={customer}\n                    filters={{...filters, product: product.name}}\n                    isOnlyOrgAdmin={isOnlyOrgAdmin}\n                    product={product}\n                  />\n                )}\n                {product.name in SeatBasedProducts && (\n                  <SeatBasedUsageContainer\n                    filters={{...filters, product: product.name}}\n                    productName={PRODUCT_TAB_TEXT_MAP[product.name]}\n                  />\n                )}\n              </Box>\n            ))}\n          </div>\n        </Box>\n      )}\n    </>\n  )\n}\n\ntry{ ProductUsageContainer.displayName ||= 'ProductUsageContainer' } catch {}","import {Box, Heading, Link, Text} from '@primer/react'\n\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {ENTERPRISE_LICENSING_BASE_ROUTE} from '../../routes'\nimport useRoute from '../../hooks/use-route'\nimport {boxStyle, Fonts} from '../../utils/style'\n\nimport type {VolumeLicensesCardProps} from './VolumeLicensesCard'\n\nconst cardStyle = {\n  ...boxStyle,\n  display: 'flex',\n  flexDirection: 'column',\n  gap: 1,\n}\n\nconst cardHeadingStyle = {\n  fontSize: Fonts.FontSizeNormal,\n  fontWeight: 'normal',\n  color: 'fg.default',\n}\n\nexport default function VolumeLicensesCardCombined({gheAndGhas, IsInvoiced}: VolumeLicensesCardProps) {\n  const {path: enterpriseLicensingPath} = useRoute(ENTERPRISE_LICENSING_BASE_ROUTE)\n  return (\n    <Box sx={cardStyle} data-testid=\"volume-licenses-card-combined\">\n      <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n        <Heading as=\"h3\" sx={cardHeadingStyle}>\n          Spend on pre-purchased user licenses\n        </Heading>\n\n        <Link href={enterpriseLicensingPath} sx={{fontSize: Fonts.FontSizeSmall}}>\n          Manage licenses\n        </Link>\n      </Box>\n\n      <Box sx={{fontSize: 4}}>\n        {`${formatMoneyDisplay(gheAndGhas.spend)} `}\n        <Box as=\"span\" sx={{fontSize: 1}}>\n          {gheAndGhas.period}\n        </Box>\n      </Box>\n\n      <Text sx={{mb: 0, color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n        For <Text sx={{fontWeight: 'bold'}}> GitHub Enterprise</Text> and{' '}\n        <Text sx={{fontWeight: 'bold'}}>Advanced Security</Text>.{' '}\n        {IsInvoiced && (\n          <>Does not include user license discounts. Where applicable, discounts will appear on your bill.</>\n        )}\n      </Text>\n    </Box>\n  )\n}\n\ntry{ VolumeLicensesCardCombined.displayName ||= 'VolumeLicensesCardCombined' } catch {}","import {Box, Heading, Link} from '@primer/react'\n\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {ENTERPRISE_LICENSING_BASE_ROUTE} from '../../routes'\nimport useRoute from '../../hooks/use-route'\nimport {boxStyle, Fonts} from '../../utils/style'\n\nimport type {VolumeLicensesCardProps} from './VolumeLicensesCard'\n\nconst cardStyle = {\n  ...boxStyle,\n  display: 'flex',\n  flexDirection: 'column',\n  gap: 1,\n}\n\nconst cardHeadingStyle = {\n  fontSize: Fonts.FontSizeNormal,\n  fontWeight: 'normal',\n  color: 'fg.default',\n}\n\nexport default function VolumeLicensesCardSeparate({ghe, ghas, IsInvoiced}: VolumeLicensesCardProps) {\n  const {path: enterpriseLicensingPath} = useRoute(ENTERPRISE_LICENSING_BASE_ROUTE)\n  return (\n    <Box sx={cardStyle} data-testid=\"volume-licenses-card-separate\">\n      <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n        <Heading as=\"h3\" sx={cardHeadingStyle}>\n          Spend on pre-purchased user licenses\n        </Heading>\n\n        <Link href={enterpriseLicensingPath} sx={{fontSize: Fonts.FontSizeSmall}}>\n          Manage licenses\n        </Link>\n      </Box>\n\n      {IsInvoiced && (\n        <Box sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n          Does not include user license discounts. Where applicable, discounts will appear on your bill.\n        </Box>\n      )}\n\n      <Box sx={{fontSize: 4, display: 'flex'}}>\n        <Box sx={{flexGrow: 1, pt: 3, fontSize: 4}}>\n          {`${formatMoneyDisplay(ghe.spend)} `}\n          <Box as=\"span\" sx={{fontSize: 1}}>\n            {ghe.period}\n          </Box>\n          <Box sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n            For{' '}\n            <Box as=\"span\" sx={{fontWeight: 'bold'}}>\n              GitHub Enterprise\n            </Box>\n          </Box>\n        </Box>\n        <span className=\"vertical-separator\" />\n        <Box sx={{flexGrow: 1, pt: 3, pl: 3}}>\n          {`${formatMoneyDisplay(ghas.spend)} `}\n          <Box as=\"span\" sx={{fontSize: 1}}>\n            {ghas.period}\n          </Box>\n          <Box sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n            For{' '}\n            <Box as=\"span\" sx={{fontWeight: 'bold'}}>\n              GitHub Advanced Security\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ VolumeLicensesCardSeparate.displayName ||= 'VolumeLicensesCardSeparate' } catch {}","import VolumeLicensesCardCombined from './VolumeLicensesCardCombined'\nimport VolumeLicensesCardSeparate from './VolumeLicensesCardSeparate'\n\nexport interface VolumeLicensesCardProps {\n  IsSeparateDisplayCard: boolean\n  IsInvoiced: boolean\n  gheAndGhas: VolumeLicenseProduct\n  ghe: VolumeLicenseProduct\n  ghas: VolumeLicenseProduct\n}\n\nexport type VolumeLicenseProduct = {\n  period: string\n  spend: number\n}\n\nexport default function VolumeLicensesCard(props: VolumeLicensesCardProps) {\n  return (\n    <>\n      {props.IsSeparateDisplayCard ? (\n        <VolumeLicensesCardSeparate {...props} />\n      ) : (\n        <VolumeLicensesCardCombined {...props} />\n      )}\n    </>\n  )\n}\n\ntry{ VolumeLicensesCard.displayName ||= 'VolumeLicensesCard' } catch {}","import {Box, Heading, Text, Link, Button, Label} from '@primer/react'\n\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle, Fonts} from '../../utils/style'\nimport {ONE_TIME_PAYMENT_ROUTE, PAYMENT_HISTORY_ROUTE} from '../../routes'\nimport useRoute from '../../hooks/use-route'\nimport {paymentDueCopyContainerStyle} from './PaymentDueCard'\n\nimport type {PaymentDueCardProps} from './PaymentDueCard'\n\nconst INDIA_RBI_DOC_LINK =\n  'https://docs.github.com/billing/managing-the-plan-for-your-github-account/one-time-payments-for-customers-in-india'\n\nexport default function AutoPayDisabledCard(props: PaymentDueCardProps) {\n  const {path: oneTimePaymentRoute} = useRoute(ONE_TIME_PAYMENT_ROUTE)\n  const {path: paymentHistoryRoute} = useRoute(PAYMENT_HISTORY_ROUTE)\n\n  return (\n    <Box sx={boxStyle} data-testid=\"auto-pay-disabled-payment-due-card\">\n      <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n        <Heading as=\"h3\" sx={{...cardHeadingStyle, fontSize: Fonts.FontSizeNormal}}>\n          Past due\n        </Heading>\n\n        {!props.hasBill ? (\n          <Link href={paymentHistoryRoute} sx={{fontSize: Fonts.FontSizeSmall}}>\n            Payment history\n          </Link>\n        ) : (\n          <>\n            <div>\n              <Button as=\"a\" href={oneTimePaymentRoute} variant=\"primary\" size=\"small\">\n                Pay now\n              </Button>\n            </div>\n          </>\n        )}\n      </Box>\n\n      <Box sx={{mb: 2, display: 'flex', alignItems: 'center', gap: 2}}>\n        <div>\n          <Text sx={{fontSize: 4}}>{formatMoneyDisplay(props.latestBillAmount)}</Text>\n        </div>\n        <div>\n          {props.hasBill && !props.overdue && <>by {props.nextPaymentDate}</>}\n          {props.overdue && <Label variant=\"attention\">Overdue</Label>}\n        </div>\n      </Box>\n\n      <Box sx={paymentDueCopyContainerStyle}>\n        {props.meteredViaAzure && <p>Metered usage billed via Azure is not included.</p>}\n\n        <p>\n          Automatic{' '}\n          <Link inline href={INDIA_RBI_DOC_LINK} sx={{color: 'fg.muted'}} target=\"_blank\">\n            recurring payments are disabled\n          </Link>\n          .\n        </p>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ AutoPayDisabledCard.displayName ||= 'AutoPayDisabledCard' } catch {}","import {Box, Heading, Text, Link, Label} from '@primer/react'\n\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle, Fonts} from '../../utils/style'\nimport {PAYMENT_HISTORY_ROUTE} from '../../routes'\nimport useRoute from '../../hooks/use-route'\nimport {paymentDueCopyContainerStyle} from './PaymentDueCard'\n\nimport type {PaymentDueCardProps} from './PaymentDueCard'\n\nexport default function AutoPayEnabledCard(props: PaymentDueCardProps) {\n  const {path: paymentHistoryRoute} = useRoute(PAYMENT_HISTORY_ROUTE)\n\n  return (\n    <Box sx={boxStyle} data-testid=\"auto-pay-enabled-payment-due-card\">\n      <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n        <Heading as=\"h3\" sx={{...cardHeadingStyle, fontSize: Fonts.FontSizeNormal}}>\n          Past due\n        </Heading>\n\n        <Link href={paymentHistoryRoute} sx={{fontSize: Fonts.FontSizeSmall}}>\n          Payment history\n        </Link>\n      </Box>\n\n      <Box sx={{mb: 2, display: 'flex', alignItems: 'center', gap: 2}}>\n        <div>\n          <Text sx={{fontSize: 4}}>{formatMoneyDisplay(props.latestBillAmount)}</Text>\n        </div>\n        <div>{props.overdue && <Label variant=\"attention\">Overdue</Label>}</div>\n      </Box>\n\n      <Box sx={paymentDueCopyContainerStyle}>\n        {props.meteredViaAzure && <p>Metered usage billed via Azure is not included.</p>}\n        <p>\n          Your next payment is scheduled for <Text sx={{fontWeight: 'bold'}}>{props.nextPaymentDate}.</Text>\n        </p>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ AutoPayEnabledCard.displayName ||= 'AutoPayEnabledCard' } catch {}","import AutoPayDisabledCard from './AutoPayDisabledCard'\nimport AutoPayEnabledCard from './AutoPayEnabledCard'\nimport {Fonts} from '../../utils/style'\n\nexport const paymentDueCopyContainerStyle = {\n  fontSize: Fonts.FontSizeSmall,\n  color: 'fg.muted',\n  display: 'flex',\n  flexDirection: 'column',\n  gap: 1,\n}\n\nexport interface PaymentDueCardProps {\n  latestBillAmount: number\n  nextPaymentDate: string\n  autoPay: boolean\n  overdue: boolean\n  hasBill: boolean\n  meteredViaAzure: boolean\n}\n\nexport default function PaymentDueCard(props: PaymentDueCardProps) {\n  const autoPayEnabled = props.autoPay\n\n  return <>{autoPayEnabled ? <AutoPayEnabledCard {...props} /> : <AutoPayDisabledCard {...props} />}</>\n}\n\ntry{ PaymentDueCard.displayName ||= 'PaymentDueCard' } catch {}","import {Box, Heading, Text, Link, Button, Label} from '@primer/react'\n\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {boxStyle, cardHeadingStyle, Fonts} from '../../utils/style'\nimport {PAST_INVOICES_ROUTE, SHOW_INVOICE_ROUTE, PAY_INVOICE_ROUTE} from '../../routes'\nimport useRoute from '../../hooks/use-route'\n\nexport const paymentDueCopyContainerStyle = {\n  fontSize: Fonts.FontSizeSmall,\n  color: 'fg.muted',\n  display: 'flex',\n  flexDirection: 'column',\n  gap: 1,\n}\n\nexport interface LatestInvoiceCardProps {\n  latestInvoiceBalance: number\n  invoiceDueDate: string\n  invoiceNumber: string\n  overdue: boolean\n  meteredViaAzure: boolean\n}\n\nexport default function LatestInvoiceCard(props: LatestInvoiceCardProps) {\n  const {path: pastInvoicesRoute} = useRoute(PAST_INVOICES_ROUTE)\n  const {path: showInvoiceRoute} = useRoute(SHOW_INVOICE_ROUTE, {invoiceNumber: props.invoiceNumber})\n  const {path: payInvoiceRoute} = useRoute(PAY_INVOICE_ROUTE, {invoiceNumber: props.invoiceNumber})\n\n  return (\n    <Box sx={boxStyle} data-testid=\"latest-invoice-card\">\n      <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n        <Heading as=\"h3\" sx={{...cardHeadingStyle, fontSize: Fonts.FontSizeNormal}}>\n          Latest invoice\n        </Heading>\n\n        <>\n          <div>\n            <Button as=\"a\" href={payInvoiceRoute} variant=\"primary\" size=\"small\">\n              Pay now\n            </Button>\n          </div>\n        </>\n      </Box>\n\n      <Box sx={{mb: 2, display: 'flex', alignItems: 'center', gap: 2}}>\n        <div>\n          <Text sx={{fontSize: 4}}>{formatMoneyDisplay(props.latestInvoiceBalance)}</Text>\n        </div>\n        <div>\n          {!props.overdue && <>by {props.invoiceDueDate}</>}\n          {props.overdue && <Label variant=\"attention\">Overdue</Label>}\n        </div>\n      </Box>\n\n      <Box sx={paymentDueCopyContainerStyle}>\n        {props.meteredViaAzure ? <p>Metered usage billed via Azure is not included.</p> : <br />}\n\n        <p>\n          <Link inline href={showInvoiceRoute} sx={{fontSize: Fonts.FontSizeSmall}} target=\"_blank\">\n            View invoice\n          </Link>\n          {' | '}\n          <Link inline href={pastInvoicesRoute}>\n            Past invoices\n          </Link>\n        </p>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ LatestInvoiceCard.displayName ||= 'LatestInvoiceCard' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Box, Heading, LinkButton, Octicon, Text} from '@primer/react'\nimport {InfoIcon} from '@primer/octicons-react'\nimport first from 'lodash-es/first'\nimport {useState, useContext, Suspense, lazy} from 'react'\nimport {reverse} from '../utils/array'\nimport {Fonts} from '../utils/style'\nimport {PageContext} from '../App'\nimport useBudgetsPage from '../hooks/budget/use-budgets-page'\nimport {useNetUsageData} from '../hooks/usage'\nimport useRoute from '../hooks/use-route'\nimport {Layout, WelcomeBanner} from '../components'\nimport {BudgetsTable, BudgetBanner} from '../components/budget'\nimport {\n  UsageChartSkeleton,\n  DiscountUsageCard,\n  TotalUsageCard,\n  UsageCustomerSelectPanel,\n  UsageFilters,\n  ProductUsageContainer,\n  OrgRepoUsageContainer,\n} from '../components/usage'\nimport {VolumeLicensesCard} from '../components/licensing'\nimport {BILLING_MANAGER, ENTERPRISE_OWNER, ENTERPRISE_ORG_OWNER} from '../constants'\nimport {UsagePeriod} from '../enums'\nimport {BUDGETS_ROUTE} from '../routes'\nimport {pageHeadingStyle} from '../utils'\nimport PaymentDueCard from '../components/payment_due/PaymentDueCard'\n\nimport type {BudgetAlertDetails} from '../types/budgets'\nimport type {AdminRole, Customer} from '../types/common'\nimport type {EnabledProduct} from '../types/products'\nimport type {CustomerSelection, Filters, PeriodSelection} from '../types/usage'\nimport type {PaymentDueCardProps} from '../components/payment_due/PaymentDueCard'\nimport type {VolumeLicensesCardProps} from '../components/licensing/VolumeLicensesCard'\nimport {isOnTrial} from '../utils/business'\nimport LatestInvoiceCard from '../components/invoices/LatestInvoiceCard'\nimport type {LatestInvoiceCardProps} from '../components/invoices/LatestInvoiceCard'\n\nconst UsageChart = lazy(() => import('../components/usage/UsageChart'))\n\nconst overviewCardsStyle = {\n  display: 'grid',\n  gridTemplateColumns: ['1', '1', '1', '1', 'repeat(2, 1fr)'],\n  gridGap: 3,\n  mb: 1,\n}\n\nexport interface OverviewPagePayload {\n  admin_roles: AdminRole[]\n  budget_alert_details: BudgetAlertDetails[]\n  customer: Customer\n  customer_selections: CustomerSelection[]\n  enabled_products: EnabledProduct[]\n  period_selections: PeriodSelection[]\n  multi_tenant: boolean\n  showPaymentDueTile: boolean\n  paymentDueTileData: PaymentDueCardProps\n  showLatestInvoiceTile: boolean\n  latestInvoiceTileData: LatestInvoiceCardProps\n  showVolumeLicenseSpendTile: boolean\n  volumeLicenseSpendTileData: VolumeLicensesCardProps\n  enableOrgRepoUsageRefactor: boolean\n  useUsageChartDataEndpoint: boolean\n  showUsaSalesTaxDisclaimer: boolean\n}\n\nexport function OverviewPage() {\n  const isStafftoolsRoute = useContext(PageContext).isStafftoolsRoute\n  const isEnterpriseRoute = useContext(PageContext).isEnterpriseRoute\n  const isOrganizationRoute = useContext(PageContext).isOrganizationRoute\n\n  const payload = useRoutePayload<OverviewPagePayload>()\n  const {\n    admin_roles: adminRoles,\n    budget_alert_details: budgetAlertDetails,\n    customer,\n    customer_selections,\n    enabled_products: enabledProducts,\n    period_selections: periodSelections,\n    multi_tenant: multiTenant,\n    showPaymentDueTile,\n    paymentDueTileData,\n    showLatestInvoiceTile: showLatestInvoiceTile,\n    latestInvoiceTileData,\n    showVolumeLicenseSpendTile,\n    volumeLicenseSpendTileData,\n    enableOrgRepoUsageRefactor,\n    useUsageChartDataEndpoint,\n    showUsaSalesTaxDisclaimer,\n  } = payload\n\n  // The default selected customer is the last customer in the customerSelections array.\n  // The reverse method is used to reverse the order of the array so that the default selected customer\n  // is shown as the first item in the customer selection dropdown.\n  const customerSelections = reverse(customer_selections)\n  const {customerId} = customer\n  const [filters, setFilters] = useState<Filters>({\n    customer: first(customerSelections) as CustomerSelection,\n    group: undefined,\n    period: periodSelections.find((obj: PeriodSelection) => obj.type === UsagePeriod.DEFAULT),\n    product: undefined,\n    searchQuery: '',\n  })\n\n  const {netUsage, requestState: requestState} = useNetUsageData({filters})\n\n  // Un-commenting this line will tell the budgets table to pull from cost center customers when selected,\n  // but right now all cost centers are scoped under the enterprise. Leaving in place per @mattkorwel\n  // const {budgets, deleteBudgetFromPage} = useBudgetsPage({slug, customerId: filters.customer.id})\n  const {budgets, deleteBudgetFromPage} = useBudgetsPage({customerId})\n\n  const {path: budgetsPath} = useRoute(BUDGETS_ROUTE)\n\n  const hasBudgetWritePermissions = adminRoles.includes(BILLING_MANAGER) || adminRoles.includes(ENTERPRISE_OWNER)\n  // TODO: Filter based on the product\n  const hasAccessToAllUsage = adminRoles.includes(ENTERPRISE_OWNER) || adminRoles.includes(BILLING_MANAGER)\n  const isOnlyOrgAdmin = !hasAccessToAllUsage && adminRoles.includes(ENTERPRISE_ORG_OWNER)\n  const canViewDiscountUsage =\n    adminRoles.includes(ENTERPRISE_OWNER) || adminRoles.includes(BILLING_MANAGER) || isOrganizationRoute\n  const cost_center_management_page = `/enterprises/${customer.displayId}/billing/cost_centers`\n  const trialCustomer = isOnTrial(customer.plan)\n\n  return (\n    <Layout data-hpc>\n      {!isStafftoolsRoute && !customer.isVNextNative && <WelcomeBanner multiTenant={multiTenant} />}\n      {budgetAlertDetails.length > 0 &&\n        budgetAlertDetails.map(budgetAlertDetail => (\n          <BudgetBanner key={budgetAlertDetail.budget_id} budgetAlertDetail={budgetAlertDetail} />\n        ))}\n      <header className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Overview\n        </Heading>\n      </header>\n\n      <Box\n        sx={{\n          ...overviewCardsStyle,\n          gridTemplateColumns:\n            showPaymentDueTile || showLatestInvoiceTile\n              ? ['1', '1', '1', '1', 'repeat(3, 1fr)']\n              : overviewCardsStyle.gridTemplateColumns,\n        }}\n      >\n        <TotalUsageCard customerSelections={customerSelections} isOrganization={isOrganizationRoute} />\n        {canViewDiscountUsage && (\n          <DiscountUsageCard enabledProducts={enabledProducts} isOrganization={isOrganizationRoute} />\n        )}\n        {showPaymentDueTile && <PaymentDueCard {...paymentDueTileData} />}\n        {showLatestInvoiceTile && <LatestInvoiceCard {...latestInvoiceTileData} />}\n      </Box>\n      <Box sx={{mb: 4}}>\n        {showUsaSalesTaxDisclaimer && (\n          <Box sx={{display: 'flex'}} data-testid=\"usa-sales-tax-disclaimer-fineprint\">\n            <Octicon sx={{color: 'fg.muted', pr: 1}} icon={InfoIcon} size={16} />\n            <Text as=\"p\" sx={{color: 'fg.muted', fontSize: Fonts.FontSizeSmall}}>\n              Sales tax is not included in the amounts shown above.\n            </Text>\n          </Box>\n        )}\n      </Box>\n\n      {showVolumeLicenseSpendTile && (\n        <Box sx={{mb: 4}}>\n          <VolumeLicensesCard {...volumeLicenseSpendTileData} />\n        </Box>\n      )}\n      <Box sx={{mb: 3}}>\n        <UsageCustomerSelectPanel\n          menuItems={customerSelections}\n          filtersSavedState={filters}\n          setFilters={setFilters}\n          manageCostCentersLink={cost_center_management_page}\n          useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n        />\n      </Box>\n\n      <Box sx={{mb: 3}}>\n        <Suspense fallback={<UsageChartSkeleton />}>\n          <UsageChart\n            filters={filters}\n            requestState={requestState}\n            usage={netUsage}\n            showTitle={false}\n            useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n          >\n            <UsageFilters\n              customer={customer}\n              filters={filters}\n              setFilters={setFilters}\n              periodSelections={periodSelections}\n              showSearch={false}\n              sx={{mb: 0}}\n              useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n            />\n          </UsageChart>\n        </Suspense>\n      </Box>\n\n      <OrgRepoUsageContainer filters={filters} enableOrgRepoUsageRefactor={enableOrgRepoUsageRefactor} />\n\n      <ProductUsageContainer\n        customer={customer}\n        enabledProducts={enabledProducts}\n        filters={filters}\n        isOnlyOrgAdmin={isOnlyOrgAdmin}\n      />\n\n      {/* // Trial customers cannot create budgets */}\n      {!trialCustomer && isEnterpriseRoute && (\n        <div>\n          <Box sx={{display: 'flex', alignItems: 'center', mb: 3}}>\n            <Heading as=\"h2\" sx={{fontSize: 3}} data-testid=\"budgets-section\">\n              Budgets\n            </Heading>\n            {hasBudgetWritePermissions && (\n              <LinkButton\n                href={budgetsPath}\n                sx={{color: 'btn.text', ml: 'auto', ':hover': {textDecoration: 'none'}}}\n                underline={false}\n              >\n                Manage budgets\n              </LinkButton>\n            )}\n          </Box>\n          <BudgetsTable\n            budgets={budgets}\n            adminRoles={adminRoles}\n            deleteBudget={deleteBudgetFromPage}\n            enabledProducts={enabledProducts}\n          />\n        </div>\n      )}\n    </Layout>\n  )\n}\n\ntry{ UsageChart.displayName ||= 'UsageChart' } catch {}\ntry{ OverviewPage.displayName ||= 'OverviewPage' } catch {}","import {useState} from 'react'\nimport {Box, Flash, IconButton, Text} from '@primer/react'\nimport {XIcon} from '@primer/octicons-react'\nimport safeStorage from '@github-ui/safe-storage'\n\nexport function UsageReportBanner() {\n  const safeLocalStorage = safeStorage('localStorage')\n  const [bannerVisible, setBannerVisible] = useState(() => {\n    const bannerDismissed = safeLocalStorage.getItem('usage_report_banner_dismissed')\n    return !bannerDismissed\n  })\n\n  const handleBannerDismiss = () => {\n    setBannerVisible(false)\n    safeLocalStorage.setItem('usage_report_banner_dismissed', 'true')\n  }\n\n  if (!bannerVisible) return null\n\n  return (\n    <Flash variant=\"warning\" sx={{display: 'flex', alignItems: 'center', mb: 3}}>\n      <Text sx={{fontWeight: 'bold', m: 1}}>\n        We have recently shipped a more enhanced usage report that includes username and workflow data starting from the\n        date your enterprise onboarded to the beta.\n      </Text>\n      <Box sx={{display: 'flex', marginLeft: 'auto', gap: '3', alignItems: 'center'}}>\n        {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n        <IconButton\n          unsafeDisableTooltip={true}\n          aria-label=\"Close\"\n          icon={XIcon}\n          size=\"small\"\n          onClick={handleBannerDismiss}\n          variant=\"invisible\"\n          sx={{svg: {color: 'black'}}}\n        />\n      </Box>\n    </Flash>\n  )\n}\n\ntry{ UsageReportBanner.displayName ||= 'UsageReportBanner' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {useSearchParams} from '@github-ui/use-navigate'\nimport {Box, Link} from '@primer/react'\nimport first from 'lodash-es/first'\nimport {useState, Suspense, lazy, useEffect} from 'react'\n\nimport {Layout} from '../components'\nimport {UsageReportBanner} from '../components/usage/UsageReportBanner'\nimport BudgetBanner from '../components/budget/BudgetBanner'\nimport {reverse} from '../utils/array'\nimport {\n  UsageCustomerSelectPanel,\n  UsageFilters,\n  UsageTable,\n  UsageChartSkeleton,\n  GetUsageReportDialog,\n} from '../components/usage'\nimport {DEFAULT_GROUP_TYPE} from '../constants'\nimport {UsagePeriod} from '../enums'\nimport {useNetUsageData} from '../hooks/usage'\n\nimport type {BudgetAlertDetails} from '../types/budgets'\nimport type {Customer} from '../types/common'\nimport type {CustomerSelection, Filters, GroupSelection, PeriodSelection, UsageReportSelection} from '../types/usage'\n\nconst UsageChart = lazy(() => import('../components/usage/UsageChart'))\n\nexport interface UsagePagePayload {\n  customer: Customer\n  customer_selections: CustomerSelection[]\n  period_selections: PeriodSelection[]\n  group_selections: GroupSelection[]\n  budget_alert_details: BudgetAlertDetails[]\n  usage_report_selections: UsageReportSelection[]\n  billing_platform_enabled_products: string[]\n  current_user_email?: string\n  vnext_migration_date: string\n  show_billing_vnext_beta_usage_banner: boolean\n  disable_usage_reports: boolean\n  use_usage_chart_data_endpoint: boolean\n  use_usage_table_data_endpoint: boolean\n  is_multi_tenant: boolean\n  is_single_tenant: boolean\n}\n\nexport function UsagePage() {\n  const payload = useRoutePayload<UsagePagePayload>()\n  const {\n    customer,\n    customer_selections,\n    group_selections: groupSelections,\n    period_selections: periodSelections,\n    budget_alert_details: budgetAlertDetails,\n    usage_report_selections: usageReportSelections,\n    current_user_email: currentUserEmail,\n    billing_platform_enabled_products: billingPlatformEnabledProducts,\n    show_billing_vnext_beta_usage_banner: showBillingVNextBetaUsageBanner,\n    vnext_migration_date: vnextMigrationDate,\n    disable_usage_reports: disableUsageReports,\n    use_usage_chart_data_endpoint: useUsageChartDataEndpoint,\n    use_usage_table_data_endpoint: useUsageTableDataEndpoint,\n    is_multi_tenant: isMultiTenant,\n    is_single_tenant: isSingleTenant,\n  } = payload\n\n  // The default selected customer is the last customer in the customerSelections array.\n  // The reverse method is used to reverse the order of the array so that the default selected customer\n  // is shown as the first item in the customer selection dropdown.\n  const customerSelections = reverse(customer_selections)\n  const [searchParams] = useSearchParams()\n\n  const setUsageFilters = () => {\n    const inputGroup = searchParams.get('group')\n    const inputPeriod = searchParams.get('period')\n    const inputQuery = searchParams.get('query')\n    const inputCustomer = searchParams.get('customer')\n\n    return {\n      customer: inputCustomer\n        ? (customerSelections.find((obj: CustomerSelection) => obj.id === inputCustomer) as CustomerSelection) ??\n          (first(customerSelections) as CustomerSelection)\n        : (first(customerSelections) as CustomerSelection),\n      group: groupSelections.find(\n        (obj: GroupSelection) => obj.type === (inputGroup ? parseInt(inputGroup) : DEFAULT_GROUP_TYPE),\n      ),\n      period: periodSelections.find(\n        (obj: PeriodSelection) => obj.type === (inputPeriod ? parseInt(inputPeriod) : UsagePeriod.DEFAULT),\n      ),\n      product: undefined,\n      searchQuery: inputQuery ?? '',\n    }\n  }\n\n  const [filters, setFilters] = useState<Filters>(setUsageFilters)\n  const {netUsage, otherUsage, requestState: requestState} = useNetUsageData({filters})\n\n  // The pricing page is disabled for multi-tenant and single-tenant environments.\n  const shouldShowPricingLink = !isMultiTenant && !isSingleTenant\n\n  const shouldShowUsageReportDialog = currentUserEmail && billingPlatformEnabledProducts.length > 0\n  const shouldShowUsageReportBanner =\n    showBillingVNextBetaUsageBanner && customer.isVNextBeta && shouldShowUsageReportDialog\n\n  const cost_center_management_page = `/enterprises/${customer.displayId}/billing/cost_centers`\n\n  useEffect(() => {\n    // update the URL query parameters as the user selects a new period\n    const period = filters.period?.type ?? UsagePeriod.DEFAULT\n    const group = filters.group?.type ?? DEFAULT_GROUP_TYPE\n    const selectedCustomer = filters.customer\n\n    if (filters.searchQuery) {\n      history.replaceState(\n        null,\n        '',\n        `?period=${period}&group=${group}&customer=${selectedCustomer.id}&query=${filters.searchQuery}`,\n      )\n    } else {\n      history.replaceState(null, '', `?period=${period}&group=${group}&customer=${selectedCustomer.id}`)\n    }\n  }, [filters])\n\n  return (\n    <Layout>\n      {/* if vNext beta customer, show dismissable banner about updated usage report.\n      TODO: remove banner after 30 days on or after 07/15/24 */}\n      {shouldShowUsageReportBanner && <UsageReportBanner />}\n      {budgetAlertDetails.length > 0 &&\n        budgetAlertDetails.map(budgetAlertDetail => (\n          <BudgetBanner key={budgetAlertDetail.budget_id} budgetAlertDetail={budgetAlertDetail} />\n        ))}\n      <header className=\"Subhead\">\n        <Box sx={{display: 'flex', justifyContent: 'space-between', width: '100%', flexDirection: ['column', 'row']}}>\n          <div>\n            <Box sx={{mb: 2.5}}>\n              <UsageCustomerSelectPanel\n                menuItems={customerSelections}\n                filtersSavedState={filters}\n                setFilters={setFilters}\n                manageCostCentersLink={cost_center_management_page}\n                useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n              />\n            </Box>\n            <span className=\"Subhead-description\">\n              Includes amounts spent for organizations and repositories across all services.{' '}\n              {shouldShowPricingLink && (\n                <>\n                  <Link inline href=\"/pricing\">\n                    View current and past pricing information\n                  </Link>\n                  .\n                </>\n              )}\n            </span>\n          </div>\n          {shouldShowUsageReportDialog && (\n            <GetUsageReportDialog\n              currentUserEmail={currentUserEmail}\n              usageReportSelections={usageReportSelections}\n              billingPlatformEnabledProducts={billingPlatformEnabledProducts}\n              disableUsageReports={disableUsageReports}\n              vnextMigrationDate={vnextMigrationDate}\n            />\n          )}\n        </Box>\n      </header>\n      <div>\n        <UsageFilters\n          customer={customer}\n          filters={filters}\n          setFilters={setFilters}\n          groupSelections={groupSelections}\n          periodSelections={periodSelections}\n          useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n          showSearch\n        />\n        <Suspense fallback={<UsageChartSkeleton />}>\n          <UsageChart\n            filters={filters}\n            requestState={requestState}\n            usage={netUsage}\n            otherUsage={otherUsage}\n            useUsageChartDataEndpoint={useUsageChartDataEndpoint}\n          />\n        </Suspense>\n        <UsageTable\n          filters={filters}\n          usage={netUsage}\n          requestState={requestState}\n          useUsageTableDataEndpoint={useUsageTableDataEndpoint}\n        />\n      </div>\n    </Layout>\n  )\n}\n\ntry{ UsageChart.displayName ||= 'UsageChart' } catch {}\ntry{ UsagePage.displayName ||= 'UsagePage' } catch {}","import type {AzureEmission} from '../../types/azure-emissions'\nimport {DataTable, Table} from '@primer/react/drafts'\n\ninterface AzureEmissionTableProps {\n  azureEmissions: AzureEmission[]\n}\n\nexport default function AzureEmissionTable({azureEmissions}: AzureEmissionTableProps) {\n  return (\n    <Table.Container data-testid=\"azure-emission-table\">\n      <DataTable\n        aria-labelledby=\"azure-emissions\"\n        aria-describedby=\"azure-emissions-subtitle\"\n        data-testid=\"azure-emission-table\"\n        data={azureEmissions}\n        columns={[\n          {\n            header: 'Azure Emission Time',\n            rowHeader: true,\n            field: 'emissionDate',\n          },\n          {\n            header: 'Sku',\n            field: 'sku',\n            renderCell: row => {\n              return row.sku\n            },\n          },\n          {\n            header: 'Azure Storage Table Partition Key',\n            field: 'azurePartitionKey',\n            renderCell: row => {\n              return row.azurePartitionKey\n            },\n          },\n          {\n            header: 'Quantity',\n            field: 'quantity',\n            renderCell: row => {\n              return row.quantity\n            },\n          },\n        ]}\n      />\n    </Table.Container>\n  )\n}\n\ntry{ AzureEmissionTable.displayName ||= 'AzureEmissionTable' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport type {EmissionDate} from '../types/azure-emissions'\n\nexport const getAzureEmissionsRequest = async (enterpriseSlug: string, emissionDate: EmissionDate) => {\n  const url = `/stafftools/enterprises/${enterpriseSlug}/billing/azure_emissions?year=${emissionDate.year}&month=${emissionDate.month}&day=${emissionDate.day}`\n  const response = await verifiedFetchJSON(url, {method: 'GET'})\n  const data = await response.json()\n  return {...data, statusCode: response.status}\n}\n","import {useEffect, useState} from 'react'\nimport type {AzureEmission, EmissionDate} from '../../types/azure-emissions'\nimport {getAzureEmissionsRequest} from '../../services/azure_emissions'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {ERRORS} from '../../constants'\nimport {RequestState} from '../../enums'\n\ntype UseAzureEmissionParams = {\n  enterpriseSlug: string\n  emissionDate: EmissionDate\n}\nfunction useAzureEmissions({enterpriseSlug, emissionDate}: UseAzureEmissionParams) {\n  const [azureEmissions, setAzureEmissions] = useState<AzureEmission[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n  const {addToast} = useToastContext()\n\n  useEffect(() => {\n    const getAzureEmissions = async () => {\n      if (!enterpriseSlug || !emissionDate) return\n      setRequestState(RequestState.LOADING)\n      try {\n        const response = await getAzureEmissionsRequest(enterpriseSlug, emissionDate)\n        if (response.statusCode === 200) {\n          setAzureEmissions(response.azureEmissions)\n          setRequestState(RequestState.IDLE)\n        } else {\n          // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n          addToast({\n            type: 'error',\n            message: ERRORS.QUERY_AZURE_EMISSIONS_ERROR,\n          })\n          setRequestState(RequestState.ERROR)\n        }\n      } catch {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: ERRORS.QUERY_AZURE_EMISSIONS_ERROR,\n        })\n        setRequestState(RequestState.ERROR)\n      }\n    }\n    setAzureEmissions([])\n    getAzureEmissions()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enterpriseSlug, emissionDate])\n\n  return {azureEmissions, requestState}\n}\n\nexport default useAzureEmissions\n","import {DatePicker} from '@github-ui/date-picker'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {SmileyIcon} from '@primer/octicons-react'\nimport {Box, Heading, Spinner} from '@primer/react'\nimport {Blankslate} from '@primer/react/drafts'\nimport {useState} from 'react'\n\nimport AzureEmissionTable from '../../components/azure_emissions/AzureEmissionTable'\nimport Layout from '../../components/Layout'\nimport {RequestState} from '../../enums'\nimport useAzureEmissions from '../../hooks/azure_emissions/use-azure-emissions'\nimport {pageHeadingStyle} from '../../utils'\n\nimport type {AzureEmission, EmissionDate} from '../../types/azure-emissions'\n\nexport interface AzureEmissionPayload {\n  slug: string\n  azureEmissions: AzureEmission[]\n}\n\nexport function AzureEmissionPage() {\n  const payload = useRoutePayload<AzureEmissionPayload>()\n  const currentTime = new Date()\n  const [currentDate, setCurrentDate] = useState<EmissionDate>({\n    year: currentTime.getFullYear(),\n    month: currentTime.getMonth() + 1,\n    day: currentTime.getDay(),\n  })\n  const {azureEmissions, requestState} = useAzureEmissions({enterpriseSlug: payload.slug, emissionDate: currentDate})\n\n  return (\n    <Layout>\n      <header className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Azure Emissions\n        </Heading>\n      </header>\n      <div>\n        Choose a usage date to see the emissions for that date. This tool captures the emission record in\n        billing-platform and the record in Azure Storage Table.\n      </div>\n      <Box sx={{mt: 4, mb: 4}}>\n        <DatePicker\n          variant=\"single\"\n          onChange={selection => {\n            if (selection) {\n              selection = new Date(selection)\n              const emissionDate: EmissionDate = {\n                year: selection.getFullYear(),\n                month: selection.getMonth() + 1,\n                day: selection.getDate(),\n              }\n              setCurrentDate(emissionDate)\n            }\n          }}\n          value={null}\n          placeholder=\"Choose a Usage Date\"\n        />\n      </Box>\n      {azureEmissions.length > 0 && <AzureEmissionTable azureEmissions={azureEmissions} />}\n      {requestState === RequestState.LOADING && <Spinner />}\n      {azureEmissions.length === 0 && requestState === RequestState.IDLE && (\n        <div data-testid={'blankslate-container'}>\n          <Blankslate>\n            <Blankslate.Visual>\n              <SmileyIcon size={36} />\n            </Blankslate.Visual>\n            <Blankslate.Heading>Customer has no Azure Emissions for this date.</Blankslate.Heading>\n            <Blankslate.Description>Please try selecting another date to find emissions</Blankslate.Description>\n          </Blankslate>\n        </div>\n      )}\n    </Layout>\n  )\n}\n\ntry{ AzureEmissionPage.displayName ||= 'AzureEmissionPage' } catch {}","import {Heading, Link} from '@primer/react'\n\nimport {URLS} from '../../constants'\nimport {pageHeadingStyle} from '../../utils'\n\nexport function BillingJobsPage() {\n  return (\n    <div>\n      <div className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Billing Jobs\n        </Heading>\n      </div>\n      <Link href={URLS.STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB}>Business Organization Billing Job</Link>\n    </div>\n  )\n}\n\ntry{ BillingJobsPage.displayName ||= 'BillingJobsPage' } catch {}","import {boxStyle} from '../../../utils/style'\n\nexport const containerStyle = {\n  ...boxStyle,\n  p: 0,\n}\n\nexport const tableStyle = {\n  width: '100%',\n  textAlign: 'left',\n  borderCollapse: 'separate',\n}\n\nexport const borderTop = {\n  borderTopWidth: 1,\n  borderTopStyle: 'solid',\n  borderTopColor: 'border.default',\n}\n\nexport const theadStyle = {\n  position: 'sticky',\n  top: 0,\n  bg: 'canvas.subtle',\n  fontWeight: 'bold',\n}\n\nexport const trStyle = {\n  display: 'flex',\n}\n\nexport const cellStyle = {\n  p: 3,\n}\n","import {Box, Button} from '@primer/react'\n\nimport {cellStyle} from './style'\n\ninterface Props {\n  text: string\n  style?: {[key: string]: string | number | undefined}\n  onClick?: () => void\n}\n\nexport type BillingJobTableCellData =\n  | string\n  | {\n      text: string\n      style?: {[key: string]: string | number | undefined}\n      onClick?: () => void\n    }\n\nexport default function BillingJobTableCell({text, style = {}, onClick}: Props) {\n  if (!style.width && !style.flex) style.flex = 1\n\n  return <Box sx={{...cellStyle, ...style}}>{onClick ? <Button onClick={onClick}>{text}</Button> : text}</Box>\n}\n\ntry{ BillingJobTableCell.displayName ||= 'BillingJobTableCell' } catch {}","import {Box} from '@primer/react'\n\nimport {trStyle, borderTop} from './style'\n\nimport BillingJobTableCell from './BillingJobTableCell'\n\nimport type {BillingJobTableCellData} from './BillingJobTableCell'\n\ninterface Props {\n  data: BillingJobTableCellData[]\n  style?: {[key: string]: string | number | undefined}\n}\n\nexport type BillingJobTableRowData = BillingJobTableCellData[]\n\nexport default function BillingJobTableRow({data, style}: Props) {\n  // Default style\n  if (!style) style = {...trStyle, ...borderTop}\n\n  return (\n    <Box sx={style}>\n      {data.map((cell, index) => {\n        if (typeof cell === 'string') {\n          return <BillingJobTableCell text={cell} key={index} />\n        } else {\n          return <BillingJobTableCell text={cell.text} style={cell.style} onClick={cell.onClick} key={index} />\n        }\n      })}\n    </Box>\n  )\n}\n\ntry{ BillingJobTableRow.displayName ||= 'BillingJobTableRow' } catch {}","import {Box} from '@primer/react'\n\nimport {containerStyle, tableStyle, theadStyle, trStyle} from './style'\n\nimport BillingJobTableRow from './BillingJobTableRow'\n\nimport type {BillingJobTableRowData} from './BillingJobTableRow'\n\ninterface Props {\n  headers: BillingJobTableRowData\n  data: BillingJobTableRowData[]\n}\n\nexport default function BillingJobTable({headers, data}: Props) {\n  return (\n    <Box sx={containerStyle}>\n      <Box sx={tableStyle}>\n        <Box sx={theadStyle}>\n          <BillingJobTableRow data={headers} style={trStyle} />\n        </Box>\n        <div>\n          {data.map((row, index) => (\n            <BillingJobTableRow data={row} key={index} />\n          ))}\n        </div>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ BillingJobTable.displayName ||= 'BillingJobTable' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\nimport {URLS} from '../constants'\n\nimport type {Organization} from '../types/organizations'\n\nexport const performBusinessOrganizationBillingJobRequest = async (payload: Organization) => {\n  const response = await verifiedFetchJSON(\n    `${URLS.STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB}/${payload.id}/perform`,\n    {\n      method: 'PUT',\n    },\n  )\n  const data = await response.json()\n\n  return {...data, statusCode: response.status}\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {CheckCircleIcon} from '@primer/octicons-react'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Breadcrumbs, Heading} from '@primer/react'\n\nimport {BillingJobTable} from '../../components/billing_jobs/BillingJobTable'\n\nimport {URLS} from '../../constants'\n\nimport {performBusinessOrganizationBillingJobRequest} from '../../services/billing_jobs'\n\nimport type {Organization} from '../../types/organizations'\n\nexport interface BusinessOrganizationBillingJobPagePayload {\n  orgs: Organization[]\n}\n\nexport function BusinessOrganizationBillingJobPage() {\n  const payload = useRoutePayload<BusinessOrganizationBillingJobPagePayload>()\n  const {orgs} = payload\n  const {addToast, addPersistedToast} = useToastContext()\n  const navigate = useNavigate()\n\n  const headers = [\n    {\n      text: 'Organization Id',\n      style: {width: '19%'},\n    },\n    'Organization Name',\n    'Business Slug',\n    {\n      text: 'Retry Job',\n      style: {width: '15%', textAlign: 'center'},\n    },\n  ]\n  const tableData = orgs?.map(org => {\n    return [\n      {\n        text: `${org.id}`,\n        style: {width: '19%'},\n      },\n      org.login,\n      org.business?.slug,\n      {\n        text: 'perform',\n        onClick: () => handlePerform(org),\n        style: {width: '15%', textAlign: 'center'},\n      },\n    ]\n  })\n\n  const handleError = (error: string) => {\n    // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n    addPersistedToast({\n      type: 'error',\n      message: error,\n    })\n  }\n\n  const handleSuccess = (message: string) => {\n    // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n    addToast({\n      type: 'success',\n      message,\n      icon: <CheckCircleIcon />,\n    })\n    navigate(URLS.STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB)\n  }\n\n  const handlePerform = async (org: Organization) => {\n    const {error} = await performBusinessOrganizationBillingJobRequest(org)\n    if (error) {\n      handleError(error)\n    } else handleSuccess('Business Organization Billing Job performed')\n  }\n\n  return (\n    <div>\n      <Breadcrumbs>\n        <Breadcrumbs.Item href={URLS.STAFFTOOLS_BILLING_JOBS}>Billing Jobs</Breadcrumbs.Item>\n        <Breadcrumbs.Item selected>Business Organization Billing Job</Breadcrumbs.Item>\n      </Breadcrumbs>\n      <div>\n        <Heading as=\"h2\" className=\"Subhead-heading\">\n          Failed Billing Transitions\n        </Heading>\n      </div>\n\n      <BillingJobTable headers={headers} data={tableData} />\n    </div>\n  )\n}\n\ntry{ BusinessOrganizationBillingJobPage.displayName ||= 'BusinessOrganizationBillingJobPage' } catch {}","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useState} from 'react'\n\nimport useRequest from '../use-request'\nimport {STAFFTOOLS_PRICINGS_ROUTE} from '../../routes'\n\nimport {ERRORS} from '../../constants'\nimport {RequestState} from '../../enums'\n\nimport type {PricingDetails} from '../../types/pricings'\n\nfunction usePricings() {\n  const [pricings, setPricings] = useState<PricingDetails[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n  const {addToast} = useToastContext()\n\n  useRequest({\n    route: STAFFTOOLS_PRICINGS_ROUTE,\n    reqParams: {},\n    onStart: () => {\n      setPricings([])\n      setRequestState(RequestState.LOADING)\n    },\n    onSuccess: response => {\n      setPricings(response.data)\n      setRequestState(RequestState.IDLE)\n    },\n    onError: () => {\n      setRequestState(RequestState.ERROR)\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: ERRORS.QUERY_PRICINGS_ERROR,\n      })\n    },\n  })\n\n  return {pricings, requestState}\n}\n\nexport default usePricings\n","import {TriangleDownIcon} from '@primer/octicons-react'\nimport {Button, Box, Text, FormControl} from '@primer/react'\nimport {useCallback, useMemo, useState} from 'react'\n\nimport usePricings from '../../hooks/pricing/use-pricings'\nimport {Fonts, Spacing} from '../../utils/style'\n\nimport {PickerDialog} from './PickerDialog'\nimport {SelectedRows} from './SelectedRows'\n\nimport type {Item} from '../../types/common'\nimport type {PricingDetails} from '../../types/pricings'\n\ninterface Props {\n  setSelectedItems: (selectedIds: string[]) => void\n  entityType?: 'budget' | 'cost center'\n  indent?: boolean\n  selectionVariant?: 'multiple' | 'single'\n  valid?: boolean\n}\n\nexport function SkuPicker({setSelectedItems, entityType = 'budget', indent = true, selectionVariant, valid}: Props) {\n  const [localSelected, setLocalSelected] = useState<Array<Item<string>>>([])\n  const [selectAll, setSelectAll] = useState<boolean>(false)\n  const [open, setOpen] = useState<boolean>(false)\n  const [searchResults, setSearchResults] = useState<Array<Item<string>> | undefined>(undefined)\n  const [filter, setFilter] = useState<string>('')\n\n  const convertToItemProps = (item: PricingDetails) => {\n    return {\n      id: item.sku,\n      text: item.sku,\n      leadingVisual: () => <></>,\n      rowLeadingVisual: () => <></>,\n      viewOnly: false,\n    }\n  }\n\n  const {pricings} = usePricings()\n  pricings.sort((a, b) => a.friendlyName.localeCompare(b.friendlyName, 'en', {sensitivity: 'accent'}))\n\n  const totalPricingsCount = pricings.length\n  const items = useMemo(() => {\n    if (searchResults) return searchResults\n    return pricings\n      .map(i => convertToItemProps(i))\n      .concat(localSelected.filter(o => !pricings.find(c => c.sku === o.id)))\n  }, [pricings, localSelected, searchResults])\n\n  const canRemoveOption = localSelected.length > 0\n  const removeOption = (id: string) => {\n    if (!canRemoveOption) return\n\n    const newOptions = localSelected.filter(option => option.id !== id)\n    setLocalSelected(newOptions)\n    setSelectedItems(newOptions.map(opt => opt.id))\n  }\n\n  const filterItems = useCallback(\n    (value: string) => {\n      const trimmedFilter = value.trim()\n      if (filter === trimmedFilter) {\n        setSearchResults(undefined)\n      } else {\n        setSearchResults(items.filter(item => item.text.toLowerCase().includes(trimmedFilter.toLowerCase())))\n      }\n      setFilter(value)\n    },\n    [items, filter],\n  )\n\n  const onDialogSubmit = (newSelected: Array<Item<string>>, newSelectAll: boolean) => {\n    setOpen(false)\n    setLocalSelected(newSelected)\n    setSelectAll(newSelectAll)\n    setSelectedItems(newSelected.map(item => item.id))\n  }\n\n  const resetDialog = () => {\n    setOpen(false)\n    setLocalSelected(localSelected)\n    setSelectedItems(localSelected.map(item => item.id))\n  }\n\n  const openDialog = () => {\n    setOpen(true)\n    setFilter('')\n    setSearchResults(undefined)\n  }\n\n  // The Pluralize library pluralized SKU as SKUS so we handle it manually\n  const pickerText = (usePlural: boolean) => {\n    return usePlural ? 'SKUs' : 'SKU'\n  }\n\n  const ml = indent ? 4 : 0\n\n  return (\n    <Box sx={{ml, textAlign: 'left'}}>\n      <Button\n        data-testid=\"open-org-picker-dialog-button\"\n        onClick={openDialog}\n        sx={{mb: Spacing.StandardPadding}}\n        trailingAction={TriangleDownIcon}\n      >\n        Select {pickerText(selectionVariant === 'multiple')}\n      </Button>\n      <PickerDialog\n        open={open}\n        resetDialog={resetDialog}\n        filter={filterItems}\n        selectAll={selectAll}\n        selected={localSelected}\n        onDialogSubmit={onDialogSubmit}\n        items={items}\n        totalItemsCount={items.length}\n        pickerType={pickerText(selectionVariant === 'multiple')}\n        loading={false}\n        selectionVariant={selectionVariant}\n        entityType={entityType}\n      />\n      {valid === false && (\n        <FormControl.Validation variant=\"error\" sx={{mt: 1}}>\n          Please select at least one SKU\n        </FormControl.Validation>\n      )}\n      {selectAll && (\n        <Text sx={{fontSize: Fonts.FontSizeSmall}}>\n          All {totalPricingsCount} {pickerText(totalPricingsCount !== 1)} selected\n        </Text>\n      )}\n      <SelectedRows selected={localSelected} removeOption={removeOption} />\n    </Box>\n  )\n}\n\ntry{ SkuPicker.displayName ||= 'SkuPicker' } catch {}","import {Box, FormControl, Heading, Radio, RadioGroup, Select, Spinner, Text} from '@primer/react'\nimport {Suspense, type ChangeEvent, useEffect} from 'react'\nimport {useQueryLoader} from 'react-relay'\n\nimport {OrganizationPicker, OrganizationPickerRecentQuery} from '../../pickers/OrganizationPicker'\nimport {RepositoryPicker, RepositoryPickerRecentQuery} from '../../pickers/RepositoryPicker'\nimport {SkuPicker} from '../../pickers/SkuPicker'\n\nimport {CustomerType, DiscountTarget} from '../../../enums'\n\nimport type {Customer} from '../../../types/common'\nimport type {Product} from '../../../types/products'\n\nimport type {OrganizationPickerRecentQuery as OrganizationPickerQueryType} from '../../pickers/__generated__/OrganizationPickerRecentQuery.graphql'\nimport type {RepositoryPickerRecentQuery as RepositoryPickerQueryType} from '../../pickers/__generated__/RepositoryPickerRecentQuery.graphql'\n\nexport interface DiscountTargetSelectorProps {\n  customer: Customer\n  discountTarget: DiscountTarget\n  discountTargetIds: string[]\n  discountTargetIdsValid: boolean\n  discountTargetValid: boolean\n  enabledProducts: Product[]\n  setDiscountTarget: (discountTarget: DiscountTarget) => void\n  setDiscountTargetIds: (discountTargetIds: string[]) => void\n}\n\nexport function DiscountTargetSelector({\n  customer,\n  discountTarget,\n  discountTargetIds,\n  discountTargetIdsValid,\n  discountTargetValid,\n  enabledProducts,\n  setDiscountTarget,\n  setDiscountTargetIds,\n}: DiscountTargetSelectorProps) {\n  const [organizationsRef, loadOrganizations, disposeOrganizationsRef] =\n    useQueryLoader<OrganizationPickerQueryType>(OrganizationPickerRecentQuery)\n  const [repositoriesRef, loadRepositories, disposeRepositoriesRef] =\n    useQueryLoader<RepositoryPickerQueryType>(RepositoryPickerRecentQuery)\n\n  useEffect(() => {\n    loadOrganizations({slug: customer.displayId}, {fetchPolicy: 'store-or-network'})\n    loadRepositories({slug: customer.displayId}, {fetchPolicy: 'store-or-network'})\n\n    return () => {\n      disposeOrganizationsRef()\n      disposeRepositoriesRef()\n    }\n  }, [\n    discountTargetIds,\n    discountTarget,\n    loadOrganizations,\n    disposeOrganizationsRef,\n    customer.displayId,\n    loadRepositories,\n    disposeRepositoriesRef,\n  ])\n\n  const onChangeDiscountTarget = (event: ChangeEvent<HTMLInputElement>) => {\n    const target = event.target.value as DiscountTarget\n    setDiscountTarget(target)\n  }\n\n  return (\n    <Box sx={{mb: 3}}>\n      <Box sx={{mb: 2}}>\n        <Heading as=\"h3\" sx={{fontSize: 2}} className=\"Box-title\">\n          Discount scope\n        </Heading>\n        <span>Specify the scope of spending for this discount.</span>\n        {discountTargetValid === false && <Text sx={{color: 'fg.danger'}}>Discount scope is not valid</Text>}\n      </Box>\n      <RadioGroup aria-labelledby=\"budget-scope-choices\" name=\"budget-scope-choices\" sx={{mt: 2, mb: 4}}>\n        <div className=\"Box\">\n          {customer.customerType === CustomerType.Business && (\n            <>\n              <div className=\"Box-row\">\n                <FormControl>\n                  <Radio\n                    checked={discountTarget === DiscountTarget.Enterprise}\n                    value={DiscountTarget.Enterprise.toString()}\n                    onChange={onChangeDiscountTarget}\n                  />\n                  <FormControl.Label>Enterprise</FormControl.Label>\n                  <FormControl.Caption>\n                    Spending for all organizations and repositories in this enterprise.\n                  </FormControl.Caption>\n                </FormControl>\n              </div>\n\n              <div className=\"Box-row\">\n                <FormControl>\n                  <Radio\n                    checked={discountTarget === DiscountTarget.Organization}\n                    value={DiscountTarget.Organization.toString()}\n                    onChange={onChangeDiscountTarget}\n                  />\n                  <FormControl.Label>Organization</FormControl.Label>\n                  <FormControl.Caption>Spending for a single organization.</FormControl.Caption>\n                </FormControl>\n                {discountTarget === DiscountTarget.Organization && (\n                  <Suspense fallback={<Spinner size=\"small\" />}>\n                    {organizationsRef && (\n                      <OrganizationPicker\n                        initialSelectedItemIds={[]}\n                        preloadedOrganizationsRef={organizationsRef}\n                        selectionVariant=\"single\"\n                        setSelectedItems={setDiscountTargetIds}\n                        slug={customer.displayId}\n                        valid={discountTargetIdsValid}\n                      />\n                    )}\n                  </Suspense>\n                )}\n              </div>\n            </>\n          )}\n\n          {[CustomerType.Business, CustomerType.Organization].includes(customer.customerType) && (\n            <div className=\"Box-row\">\n              <FormControl>\n                <Radio\n                  checked={discountTarget === DiscountTarget.Repository}\n                  value={DiscountTarget.Repository.toString()}\n                  onChange={onChangeDiscountTarget}\n                />\n                <FormControl.Label>Repository</FormControl.Label>\n                <FormControl.Caption>Spending for a single repository.</FormControl.Caption>\n              </FormControl>\n              {discountTarget === DiscountTarget.Repository && (\n                <Suspense fallback={<Spinner size=\"small\" />}>\n                  {repositoriesRef && (\n                    <RepositoryPicker\n                      initialSelectedItemIds={[]}\n                      preloadedRepositoriesRef={repositoriesRef}\n                      selectionVariant=\"single\"\n                      setSelectedItems={setDiscountTargetIds}\n                      slug={customer.displayId}\n                      valid={discountTargetIdsValid}\n                    />\n                  )}\n                </Suspense>\n              )}\n            </div>\n          )}\n\n          <div className=\"Box-row\">\n            <FormControl>\n              <Radio\n                checked={discountTarget === DiscountTarget.Product}\n                value={DiscountTarget.Product.toString()}\n                onChange={onChangeDiscountTarget}\n              />\n              <FormControl.Label>Product</FormControl.Label>\n              <FormControl.Caption>Spending for a single product.</FormControl.Caption>\n            </FormControl>\n            {discountTarget === DiscountTarget.Product && (\n              <FormControl sx={{ml: 4, mt: 1}}>\n                <FormControl.Label visuallyHidden>Select product</FormControl.Label>\n                <Select onChange={event => setDiscountTargetIds([event.target.value])}>\n                  <Select.Option value=\"\">Select product</Select.Option>\n                  {enabledProducts.map(product => (\n                    <Select.Option key={product.name} value={product.name}>\n                      {product.friendlyProductName}\n                    </Select.Option>\n                  ))}\n                </Select>\n                {!discountTargetIdsValid && (\n                  <FormControl.Validation variant=\"error\" sx={{mt: 1}}>\n                    Please select at least one product\n                  </FormControl.Validation>\n                )}\n              </FormControl>\n            )}\n          </div>\n\n          <div className=\"Box-row\">\n            <FormControl>\n              <Radio\n                checked={discountTarget === DiscountTarget.SKU}\n                value={DiscountTarget.SKU.toString()}\n                onChange={onChangeDiscountTarget}\n              />\n              <FormControl.Label>SKU</FormControl.Label>\n              <FormControl.Caption>Spending for a single SKU.</FormControl.Caption>\n            </FormControl>\n            {discountTarget === DiscountTarget.SKU && (\n              <SkuPicker\n                setSelectedItems={setDiscountTargetIds}\n                selectionVariant=\"single\"\n                valid={discountTargetIdsValid}\n              />\n            )}\n          </div>\n        </div>\n      </RadioGroup>\n    </Box>\n  )\n}\n\ntry{ DiscountTargetSelector.displayName ||= 'DiscountTargetSelector' } catch {}","import {ssrSafeLocation} from '@github-ui/ssr-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n// import {useNavigate} from '@github-ui/use-navigate'\nimport {Box, Button, FormControl, Heading, Select, Text, TextInput} from '@primer/react'\nimport {useState, type ChangeEvent, useEffect} from 'react'\n\nimport {HTTPMethod, doRequest} from '../../../hooks/use-request'\nimport useRoute from '../../../hooks/use-route'\nimport {CustomerType, DiscountTarget, DiscountType} from '../../../enums'\nimport {DISCOUNTS_ROUTE} from '../../../routes'\nimport {pageHeadingStyle} from '../../../utils'\n\nimport {DiscountTargetSelector} from './DiscountTargetSelector'\n\nimport type {Customer} from '../../../types/common'\nimport type {CreateDiscountRequest} from '../../../types/customer'\nimport type {Product} from '../../../types/products'\n\nconst inputWidth = '18ch'\n\nexport interface DiscountFormProps {\n  customer: Customer\n  enabledProducts: Product[]\n}\n\nexport function DiscountForm({customer, enabledProducts}: DiscountFormProps) {\n  let defaultTarget\n  switch (customer.customerType) {\n    case CustomerType.Business:\n      defaultTarget = DiscountTarget.Enterprise\n      break\n    case CustomerType.Organization:\n      defaultTarget = DiscountTarget.Organization\n      break\n    case CustomerType.User:\n    default:\n      defaultTarget = DiscountTarget.Product\n  }\n\n  const [discountTarget, setDiscountTarget] = useState<DiscountTarget>(defaultTarget)\n  const [discountTargetIds, setDiscountTargetIds] = useState<string[]>([])\n  const [startDate, setStartDate] = useState<number>()\n  const [endDate, setEndDate] = useState<number>()\n  const [discountType, setDiscountType] = useState(DiscountType.NoDiscountType)\n  const [discountAmount, setDiscountAmount] = useState<number>()\n\n  const [discountTargetValid, setDiscountTargetValid] = useState<boolean>(true)\n  const [discountTargetIdsValid, setDiscountTargetIdsValid] = useState<boolean>(true)\n  const [startDateValid, setStartDateValid] = useState<boolean>(true)\n  const [endDateValid, setEndDateValid] = useState<boolean>(true)\n  const [discountTypeValid, setDiscountTypeValid] = useState<boolean>(true)\n  const [discountAmountValid, setDiscountAmountValid] = useState<boolean>(true)\n\n  // Wrapped so that we can prevent popping when switching targets while the target IDs are invalid\n  const wrappedSetDiscountTarget = (newValue: DiscountTarget) => {\n    setDiscountTargetIds([])\n    setDiscountTargetIdsValid(true)\n    setDiscountTarget(newValue)\n  }\n\n  const wrappedSetDiscountTargetIds = (newValue: string[]) => {\n    setDiscountTargetIds(newValue)\n    setDiscountTargetIdsValid(true)\n  }\n\n  const onChangeStartDate = (event: ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value\n    const newDate = new Date(value).getTime()\n    let valid = true\n\n    if (value && isNaN(newDate)) valid = false\n    if (endDate) {\n      // End date must come after start date\n      if (newDate > endDate) valid = false\n      else setEndDateValid(true)\n    }\n\n    setStartDateValid(valid)\n    // Set the date as long as it is in-fact a date\n    if (!isNaN(newDate)) setStartDate(newDate)\n  }\n\n  const onChangeEndDate = (event: ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value\n    const newDate = new Date(value).getTime()\n    let valid = true\n\n    if (value && isNaN(newDate)) valid = false\n    // End date must come after start date\n    if (startDate) {\n      if (startDate > newDate) valid = false\n      else setStartDateValid(true)\n    }\n\n    setEndDateValid(valid)\n    // Set the date as long as it is in-fact a date\n    if (!isNaN(newDate)) setEndDate(newDate)\n  }\n\n  const onChangeDiscountType = (event: ChangeEvent<HTMLSelectElement>) => {\n    setDiscountTypeValid(true)\n    setDiscountType(event.target.value as DiscountType)\n  }\n  // This effect allows us to validate discount amount after changing discount type\n  useEffect(() => {\n    validateDiscountAmount(discountAmount?.toString(), {allowBlank: true})\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [discountType])\n\n  const validateDiscountAmount = (rawValue: string | undefined, opts = {allowBlank: false}): boolean => {\n    if (!opts.allowBlank && !rawValue) {\n      setDiscountAmountValid(false)\n      return false\n    }\n    if (rawValue) {\n      const value = parseFloat(rawValue)\n      // Discount amount must always be greater than 0\n      // Percent discount may not exceed 100%\n      if (isNaN(value) || (value > 100 && discountType === DiscountType.Percentage) || value <= 0) {\n        setDiscountAmountValid(false)\n        return false\n      }\n    }\n    setDiscountAmountValid(true)\n    return true\n  }\n  const onChangeDiscountAmount = (event: ChangeEvent<HTMLInputElement>) => {\n    const valid = validateDiscountAmount(event.target.value, {allowBlank: true})\n    if (valid) {\n      const value = parseFloat(event.target.value)\n      setDiscountAmount(value)\n    }\n  }\n\n  const validateInputs = () => {\n    // State changes are not immediate and therefore we have to separately track whether the inputs are valid\n    let valid = true\n    if (discountTarget === DiscountTarget.NoDiscountTarget) {\n      valid = false\n      setDiscountTargetValid(false)\n    }\n    if (discountTarget !== DiscountTarget.Enterprise && discountTargetIds.length === 0) {\n      valid = false\n      setDiscountTargetIdsValid(false)\n    }\n    if (!startDate) {\n      valid = false\n      setStartDateValid(false)\n    }\n    if (!endDate) {\n      valid = false\n      setEndDateValid(false)\n    }\n    if (discountType === DiscountType.NoDiscountType) {\n      valid = false\n      setDiscountTypeValid(false)\n    } else if (!validateDiscountAmount(discountAmount?.toString())) {\n      valid = false\n      setDiscountAmountValid(false)\n    }\n\n    return valid\n  }\n\n  // const navigate = useNavigate()\n  const {path: createDiscountPath} = useRoute(DISCOUNTS_ROUTE)\n  const {addToast} = useToastContext()\n\n  async function createDiscount() {\n    const data: CreateDiscountRequest = {\n      customerId: customer.customerId,\n      endDate: endDate as number,\n      percentage: discountType === DiscountType.Percentage ? (discountAmount as number) : 0,\n      startDate: startDate as number,\n      targets:\n        discountTarget === DiscountTarget.Enterprise\n          ? [{id: customer.customerId, type: discountTarget}]\n          : discountTargetIds.map(id => ({id, type: discountTarget})),\n      targetAmount: discountType === DiscountType.FixedAmount ? (discountAmount as number) : 0,\n    }\n\n    try {\n      const {ok} = await doRequest<CreateDiscountRequest>(HTTPMethod.POST, createDiscountPath, data)\n\n      if (!ok) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: 'There was an issue creating your discount',\n          role: 'alert',\n        })\n      } else {\n        // TODO: Replace with useNavigate once we figure out how to more gracefully handle splitting discounts#index\n        window.location.href = ssrSafeLocation.pathname\n      }\n    } catch {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'There was an issue creating your discount',\n        role: 'alert',\n      })\n    }\n  }\n\n  const onFormSubmit = async (e: React.FormEvent<EventTarget>) => {\n    e.preventDefault()\n    const valid = validateInputs()\n    if (valid) {\n      createDiscount()\n    }\n  }\n\n  return (\n    <>\n      <header className=\"Subhead mt-3\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Apply a new discount\n        </Heading>\n      </header>\n      <Box sx={{maxWidth: '65ch'}}>\n        <form onSubmit={onFormSubmit} autoComplete=\"off\">\n          <DiscountTargetSelector\n            customer={customer}\n            discountTarget={discountTarget}\n            discountTargetIds={discountTargetIds}\n            discountTargetIdsValid={discountTargetIdsValid}\n            discountTargetValid={discountTargetValid}\n            enabledProducts={enabledProducts}\n            setDiscountTarget={wrappedSetDiscountTarget}\n            setDiscountTargetIds={wrappedSetDiscountTargetIds}\n          />\n\n          <Box sx={{mb: 3}}>\n            <Box sx={{mb: 2}}>\n              <Heading as=\"h3\" sx={{fontSize: 2}} className=\"Box-title\">\n                Date range\n              </Heading>\n              <span>Specify the date range over which the discount should be applied.</span>\n            </Box>\n            <div className=\"Box\">\n              <div className=\"Box-row d-flex\">\n                <FormControl sx={{mr: 2}}>\n                  <FormControl.Label>Start date</FormControl.Label>\n                  <TextInput type=\"date\" sx={{width: inputWidth}} onChange={onChangeStartDate} />\n                  {!startDateValid && (\n                    <FormControl.Validation variant=\"error\">Start date is not valid</FormControl.Validation>\n                  )}\n                </FormControl>\n                <FormControl>\n                  <FormControl.Label>End date</FormControl.Label>\n                  <TextInput type=\"date\" sx={{width: inputWidth}} onChange={onChangeEndDate} />\n                  {!endDateValid && (\n                    <FormControl.Validation variant=\"error\">End date is not valid</FormControl.Validation>\n                  )}\n                </FormControl>\n              </div>\n            </div>\n          </Box>\n\n          <Box sx={{mb: 3}}>\n            <Box sx={{mb: 2}}>\n              <Heading as=\"h3\" sx={{fontSize: 2}} className=\"Box-title\">\n                Discount\n              </Heading>\n              <span>Specify the type of discount and fixed amount or percentage to be applied.</span>\n            </Box>\n            <div className=\"Box\">\n              <div className=\"Box-row\">\n                <div className=\"d-flex\">\n                  <FormControl sx={{mr: 2}}>\n                    <FormControl.Label>Discount type</FormControl.Label>\n                    <Select onChange={onChangeDiscountType} sx={{width: inputWidth}}>\n                      <Select.Option value={DiscountType.NoDiscountType}>Nothing selected</Select.Option>\n                      <Select.Option value={DiscountType.FixedAmount}>Fixed amount</Select.Option>\n                      <Select.Option value={DiscountType.Percentage}>Percentage</Select.Option>\n                    </Select>\n                    {!discountTypeValid && (\n                      <FormControl.Validation variant=\"error\">Discount type is not valid</FormControl.Validation>\n                    )}\n                  </FormControl>\n                  {discountType !== DiscountType.NoDiscountType && (\n                    <FormControl>\n                      <FormControl.Label>Discount amount</FormControl.Label>\n                      {discountType === DiscountType.FixedAmount && (\n                        <TextInput leadingVisual=\"$\" sx={{width: inputWidth}} onChange={onChangeDiscountAmount} />\n                      )}\n                      {discountType === DiscountType.Percentage && (\n                        <TextInput trailingVisual=\"%\" sx={{width: inputWidth}} onChange={onChangeDiscountAmount} />\n                      )}\n                      {!discountAmountValid && (\n                        <FormControl.Validation variant=\"error\">Discount amount is not valid</FormControl.Validation>\n                      )}\n                    </FormControl>\n                  )}\n                </div>\n                {discountType === DiscountType.FixedAmount && (\n                  <Text sx={{color: 'fg.muted', fontSize: '12px'}}>\n                    Usage will be covered in full up to the specified amount.\n                  </Text>\n                )}\n                {discountType === DiscountType.Percentage && (\n                  <Text sx={{color: 'fg.muted', fontSize: '12px'}}>\n                    Usage will be discounted by the specified percentage.\n                  </Text>\n                )}\n              </div>\n            </div>\n          </Box>\n\n          <Button type=\"submit\" variant=\"primary\">\n            Create discount\n          </Button>\n        </form>\n      </Box>\n    </>\n  )\n}\n\ntry{ DiscountForm.displayName ||= 'DiscountForm' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Heading} from '@primer/react'\n\nimport {DiscountForm} from '../../components/stafftools/discounts/DiscountForm'\nimport {DiscountUsageCard} from '../../components/usage'\nimport {pageHeadingStyle} from '../../utils'\n\nimport type {Customer} from '../../types/common'\nimport type {EnabledProduct} from '../../types/products'\n\nexport interface DiscountsPagePayload {\n  customer: Customer\n  enabledProducts: EnabledProduct[]\n}\n\nexport function DiscountsPage() {\n  const {customer, enabledProducts} = useRoutePayload<DiscountsPagePayload>()\n\n  return (\n    <>\n      <header className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Discounts\n        </Heading>\n      </header>\n      <DiscountUsageCard enabledProducts={enabledProducts} isOrganization={false} />\n      <DiscountForm customer={customer} enabledProducts={enabledProducts} />\n    </>\n  )\n}\n\ntry{ DiscountsPage.displayName ||= 'DiscountsPage' } catch {}","import {TriangleDownIcon} from '@primer/octicons-react'\nimport {ActionList, ActionMenu, Box, Heading, IconButton} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\nimport type {CustomerSelection} from '../../types/usage'\n\nconst containerStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  mb: 3,\n}\n\nconst headingStyle = {\n  mr: 2,\n}\n\ninterface CostCenterSelectorProps {\n  selections: CustomerSelection[]\n  selectedCustomer: CustomerSelection\n  setSelectedCustomer: (selectedCustomer: CustomerSelection) => void\n  getHeadingText?: (selectedCustomer: CustomerSelection) => string\n  className?: string\n  as?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6'\n  containerSx?: BetterSystemStyleObject\n  headingSx?: BetterSystemStyleObject\n  title?: string\n}\n\nexport default function CostCenterSelector({\n  selections,\n  selectedCustomer,\n  setSelectedCustomer,\n  getHeadingText,\n  title,\n  className,\n  as,\n  containerSx,\n  headingSx,\n}: CostCenterSelectorProps) {\n  return (\n    <Box sx={{...containerStyle, ...containerSx}} className={className}>\n      {/* For some reason the double spread is required to get the Usage page overrides to stick */}\n      <Heading as={as ?? 'h3'} sx={{...headingStyle, ...headingSx}}>\n        {getHeadingText ? getHeadingText(selectedCustomer) : selectedCustomer.displayText}\n      </Heading>\n      {selections.length > 1 && (\n        <ActionMenu>\n          <ActionMenu.Anchor>\n            {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n            <IconButton unsafeDisableTooltip={true} icon={TriangleDownIcon} aria-label=\"Change cost center selection\" />\n          </ActionMenu.Anchor>\n          <ActionMenu.Overlay>\n            <ActionList selectionVariant=\"single\" showDividers>\n              <ActionList.Group>\n                <ActionList.GroupHeading>{title}</ActionList.GroupHeading>\n                {selections.map(selection => {\n                  return (\n                    <ActionList.Item\n                      key={selection.id}\n                      onSelect={() => setSelectedCustomer(selection)}\n                      selected={selection.id === selectedCustomer.id}\n                      sx={{fontWeight: 'normal', whiteSpace: 'nowrap'}}\n                    >\n                      {selection.displayText}\n                    </ActionList.Item>\n                  )\n                })}\n              </ActionList.Group>\n            </ActionList>\n          </ActionMenu.Overlay>\n        </ActionMenu>\n      )}\n    </Box>\n  )\n}\n\ntry{ CostCenterSelector.displayName ||= 'CostCenterSelector' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\nimport type {GenerateInvoiceRequest} from '../types/invoices'\n\nexport const generateInvoiceRequest = async (\n  slug: string,\n  payload: GenerateInvoiceRequest,\n): Promise<Record<string, never>> => {\n  const url = `/stafftools/enterprises/${slug}/billing/invoices`\n\n  const response = await verifiedFetchJSON(url, {method: 'POST', body: payload})\n  const data = await response.json()\n\n  return {...data, statusCode: response.status}\n}\n\nexport const getInvoicesRequest = async (enterpriseSlug: string, customerId: string) => {\n  const url = `/stafftools/enterprises/${enterpriseSlug}/billing/invoices?customer_id=${customerId}`\n  const response = await verifiedFetchJSON(url, {method: 'GET'})\n  const data = await response.json()\n  return {...data, statusCode: response.status}\n}\n","import {useEffect, useState} from 'react'\nimport type {Invoice} from '../../types/invoices'\nimport {getInvoicesRequest} from '../../services/invoices'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {ERRORS} from '../../constants'\nimport {RequestState} from '../../enums'\n\ntype UseInvoicesParams = {\n  enterpriseSlug: string\n  customerId: string // can be cost center uuid or enterprise customer id\n}\nfunction useInvoices({enterpriseSlug, customerId}: UseInvoicesParams) {\n  const [invoices, setInvoices] = useState<Invoice[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n  const {addToast} = useToastContext()\n\n  useEffect(() => {\n    const getInvoices = async () => {\n      if (!enterpriseSlug || !customerId) return\n\n      try {\n        const response = await getInvoicesRequest(enterpriseSlug, customerId)\n        if (response.statusCode === 200) {\n          setInvoices(response.invoices)\n          setRequestState(RequestState.IDLE)\n        } else {\n          // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n          addToast({\n            type: 'error',\n            message: ERRORS.QUERY_INVOICES_ERROR,\n          })\n          setRequestState(RequestState.ERROR)\n        }\n      } catch {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: ERRORS.QUERY_INVOICES_ERROR,\n        })\n        setRequestState(RequestState.ERROR)\n      }\n    }\n    setInvoices([])\n    getInvoices()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enterpriseSlug, customerId])\n\n  return {invoices, requestState}\n}\n\nexport default useInvoices\n","import last from 'lodash-es/last'\nimport type {ReactNode} from 'react'\nimport React, {useState, useMemo} from 'react'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {Box, Button, Details, Dialog, FormControl, Octicon, Text, Select, useDetails} from '@primer/react'\nimport {ChevronDownIcon, ChevronLeftIcon} from '@primer/octicons-react'\n\nimport {ErrorComponent} from '../../components'\nimport CostCenterSelector from '../../components/common/CostCenterSelector'\nimport {generateInvoiceRequest} from '../../services/invoices'\nimport useInvoices from '../../hooks/invoice/use-invoices'\nimport {formatDate} from '../../utils/date'\nimport {formatMoneyDisplay} from '../../utils/money'\n\nimport type {Invoice, GenerateInvoiceRequest} from '../../types/invoices'\nimport type {CustomerSelection} from '../../types/usage'\nimport {RequestState} from '../../enums'\n\nconst tableContainerStyle = {\n  borderColor: 'border.default',\n  borderWidth: 1,\n  borderStyle: 'solid',\n  fontWeight: 'normal',\n  borderRadius: 2,\n}\n\nconst sharedRowStyles = {\n  borderBottomWidth: 1,\n  borderBottomStyle: 'solid',\n  borderColor: 'border.default',\n  p: 3,\n}\n\nconst tableHeaderStyle = {\n  ...sharedRowStyles,\n  background: 'var(--bgColor-muted, var(--color-canvas-subtle))',\n}\n\ntype InvoiceRowProps = {\n  invoice: Invoice\n  idx: number\n}\n\ntype Months = 'Jan' | 'Feb' | 'Mar' | 'Apr' | 'May' | 'Jun' | 'Jul' | 'Aug' | 'Sep' | 'Oct' | 'Nov' | 'Dec'\n\nconst months: Months[] = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\nconst InvoiceRow = ({invoice, idx}: InvoiceRowProps) => {\n  const {getDetailsProps, open} = useDetails({closeOnOutsideClick: false})\n\n  const rowSummary = (\n    <Box key={idx} as=\"tr\" sx={sharedRowStyles}>\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Box sx={{display: 'inline-block', verticalAlign: 'middle'}}>\n          <Text sx={{fontWeight: 'bold', fontSize: 1}}>Index {idx}</Text>\n        </Box>\n      </Box>\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Box sx={{display: 'inline-block', verticalAlign: 'middle'}}>\n          <Text data-testid={`${idx}-invoice-date`} sx={{fontSize: 1}}>\n            {formatDate(invoice.year, invoice.month)}\n          </Text>\n        </Box>\n      </Box>\n\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Box sx={{display: 'inline-block', verticalAlign: 'middle'}}>\n          <Text sx={{fontSize: 1}}>{formatMoneyDisplay(invoice.usageTotal.gross)}</Text>\n        </Box>\n      </Box>\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Box sx={{display: 'inline-block', verticalAlign: 'middle'}}>\n          <Text sx={{fontSize: 1}}>{formatMoneyDisplay(invoice.usageTotal.discount)}</Text>\n        </Box>\n      </Box>\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Box sx={{display: 'inline-block', verticalAlign: 'middle'}}>\n          <Text sx={{fontSize: 1}}>{formatMoneyDisplay(invoice.usageTotal.net)}</Text>\n        </Box>\n      </Box>\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Box sx={{display: 'inline-block', verticalAlign: 'middle'}}>\n          <Text sx={{fontSize: 1}}>{invoice.usageTotal.quantity}</Text>\n        </Box>\n      </Box>\n\n      <Box as=\"td\" sx={{py: 3, px: 3}}>\n        <Details {...getDetailsProps()} sx={{p: 2, pr: 0}}>\n          <Box\n            as={'summary'}\n            sx={{p: 2}}\n            title={open ? 'Hide Invoice Breakdown' : 'Show Invoice Breakdown'}\n            data-testid={'invoice-details'}\n          >\n            <Octicon icon={open ? ChevronDownIcon : ChevronLeftIcon} />\n          </Box>\n        </Details>\n      </Box>\n    </Box>\n  )\n\n  return (\n    <>\n      {rowSummary}\n      {open && (\n        <Box\n          key={`${idx}-detail`}\n          as=\"tr\"\n          sx={{\n            ...sharedRowStyles,\n            borderTop: 0,\n          }}\n        >\n          <Box as=\"td\" sx={{p: 0}} colSpan={7}>\n            <Box as=\"pre\" sx={{p: 3, m: 0, overflowX: 'auto', whiteSpace: 'pre-wrap'}}>\n              {JSON.stringify(invoice, null, 2)}\n            </Box>\n          </Box>\n        </Box>\n      )}\n    </>\n  )\n}\n\nfunction InvoiceGeneration({slug, selectedCustomer}: {slug: string; selectedCustomer: CustomerSelection}) {\n  const returnFocusRef = React.useRef(null)\n  const [isOpen, setIsOpen] = useState<boolean | undefined>(false)\n  const [currentDate, setCurrentDate] = useState<Date>(new Date())\n\n  const currentMonth = currentDate.getMonth()\n  const currentYear = currentDate.getFullYear()\n\n  const getMonthPicker = useMemo(() => {\n    const monthElements: ReactNode[] = months.map((month, idx) => {\n      return (\n        <Select.Option key={month} value={`${idx}`}>\n          {month}\n        </Select.Option>\n      )\n    })\n\n    return (\n      <FormControl>\n        <FormControl.Label sx={{alignSelf: 'center'}}>Month</FormControl.Label>\n        <Select\n          value={currentMonth}\n          aria-label=\"Month\"\n          onChange={(e: React.ChangeEvent<HTMLSelectElement>) => {\n            const newDate = new Date(currentYear, Number(e.target.value))\n            setCurrentDate(newDate)\n          }}\n        >\n          {monthElements}\n        </Select>\n      </FormControl>\n    )\n  }, [currentMonth, currentYear, setCurrentDate])\n\n  const getYearPicker = useMemo(() => {\n    const years: ReactNode[] = []\n    const todaysYear = new Date().getFullYear()\n    const minYear = todaysYear - 10\n    const maxYear = todaysYear\n    for (let i = minYear; i <= maxYear; i++) {\n      years.push(\n        <Select.Option key={i} value={`${i}`}>\n          {i}\n        </Select.Option>,\n      )\n    }\n\n    return (\n      <FormControl>\n        <FormControl.Label sx={{alignSelf: 'center'}}>Year</FormControl.Label>\n        <Select\n          value={currentYear}\n          aria-label=\"Year\"\n          onChange={(e: React.ChangeEvent<HTMLSelectElement>) => {\n            const newDate = new Date(Number(e.target.value), currentMonth)\n\n            setCurrentDate(newDate)\n          }}\n        >\n          {years}\n        </Select>\n      </FormControl>\n    )\n  }, [currentMonth, currentYear, setCurrentDate])\n\n  const {addToast} = useToastContext()\n\n  async function generateInvoice() {\n    const data: GenerateInvoiceRequest = {\n      customerId: selectedCustomer.id,\n      year: currentYear,\n      month: currentMonth + 1, // currentMonth is 0 indexed but billing-platform expects months 1-12 so add 1\n    }\n\n    try {\n      const {error} = await generateInvoiceRequest(slug, data)\n      if (error) {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'error',\n          message: `There was an issue generating your invoice ${error}`,\n        })\n      } else {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: 'Invoice scheduled for generation',\n        })\n      }\n    } catch {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'Error generating invoice',\n      })\n    } finally {\n      setIsOpen(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n\n    await generateInvoice()\n  }\n\n  // Form\n  return (\n    <>\n      <Button aria-label=\"Generate Invoice\" size=\"small\" ref={returnFocusRef} onClick={() => setIsOpen(true)}>\n        Generate Invoice\n      </Button>\n      <Dialog\n        isOpen={isOpen}\n        returnFocusRef={returnFocusRef}\n        onDismiss={() => setIsOpen(false)}\n        aria-labelledby=\"label\"\n      >\n        <Dialog.Header>\n          <Text as=\"h3\" sx={{ml: 2, mb: 0}}>\n            Generate invoice for {selectedCustomer.displayText}\n          </Text>\n        </Dialog.Header>\n        <Box sx={{p: 3}}>\n          <Box sx={{p: 2, mb: 2}}>\n            <Text as=\"p\" id=\"label\" sx={{mb: 1}}>\n              Populates an invoice for the given year and month.\n            </Text>\n            <Text as=\"p\" sx={{color: 'fg.subtle', m: 0}} className=\"text-small\">\n              &bull; An invoice won&apos;t be generated if there&apos;s no usage for the given period.\n            </Text>\n            <Text as=\"p\" sx={{color: 'fg.subtle', m: 0}} className=\"text-small\">\n              &bull; If there is an existing invoice for the period, it will be updated.\n            </Text>\n          </Box>\n          <form onSubmit={handleSubmit}>\n            <Box sx={{display: 'flex', justifyContent: 'space-evenly', flexDirection: 'row'}}>\n              {getMonthPicker}\n              {getYearPicker}\n            </Box>\n            <Box sx={{display: 'flex', mt: 3, justifyContent: 'center'}}>\n              <Button type=\"submit\" variant=\"primary\">\n                Generate\n              </Button>\n            </Box>\n          </form>\n        </Box>\n      </Dialog>\n    </>\n  )\n}\n\nexport interface InvoicesPagePayload {\n  customerSelections: CustomerSelection[]\n  slug: string\n  error?: string\n}\n\nexport function InvoicesPage() {\n  const {customerSelections, slug} = useRoutePayload<InvoicesPagePayload>()\n\n  const [selectedCustomer, setSelectedCustomer] = useState<CustomerSelection>(\n    last(customerSelections) as CustomerSelection,\n  )\n\n  const {invoices, requestState} = useInvoices({enterpriseSlug: slug, customerId: selectedCustomer?.id})\n\n  const header = (\n    <Box as=\"header\" className=\"Subhead\" sx={{alignItems: 'center', justifyContent: 'space-between'}}>\n      <CostCenterSelector\n        getHeadingText={(sc: CustomerSelection) => {\n          return `Invoices for ${sc.displayText}`\n        }}\n        selections={customerSelections}\n        selectedCustomer={selectedCustomer}\n        setSelectedCustomer={setSelectedCustomer}\n        title={`View invoices for`}\n        as={'h2'}\n      />\n      <InvoiceGeneration selectedCustomer={selectedCustomer} slug={slug} />\n    </Box>\n  )\n\n  if (requestState === RequestState.ERROR) {\n    return (\n      <div>\n        {header}\n        <ErrorComponent testid=\"invoices-loading-error\" text=\"Something went wrong\" />\n      </div>\n    )\n  }\n\n  if (invoices.length === 0) {\n    return (\n      <div>\n        {header}\n        <Box\n          sx={{\n            fontSize: 4,\n            pt: 2,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          No invoices found\n        </Box>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      {header}\n      <Box sx={tableContainerStyle}>\n        <Box as=\"table\" sx={{width: '100%', textAlign: 'left', borderRadius: 2}} data-hpc>\n          <thead>\n            <tr>\n              <Box as=\"th\" sx={{...tableHeaderStyle, borderTopLeftRadius: 2}}>\n                Invoice\n              </Box>\n              <Box as=\"th\" sx={tableHeaderStyle}>\n                Date\n              </Box>\n              <Box as=\"th\" sx={tableHeaderStyle}>\n                Gross\n              </Box>\n              <Box as=\"th\" sx={tableHeaderStyle}>\n                Discount\n              </Box>\n              <Box as=\"th\" sx={tableHeaderStyle}>\n                Net\n              </Box>\n              <Box as=\"th\" sx={tableHeaderStyle}>\n                Quantity\n              </Box>\n              <Box as=\"th\" sx={{...tableHeaderStyle, borderTopRightRadius: 2}}>\n                Details\n              </Box>\n            </tr>\n          </thead>\n          <tbody>\n            {invoices.map((invoice, idx) => {\n              return <InvoiceRow invoice={invoice} idx={idx} key={idx} />\n            })}\n          </tbody>\n        </Box>\n      </Box>\n    </div>\n  )\n}\n\ntry{ InvoiceRow.displayName ||= 'InvoiceRow' } catch {}\ntry{ InvoiceGeneration.displayName ||= 'InvoiceGeneration' } catch {}\ntry{ InvoicesPage.displayName ||= 'InvoicesPage' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {URLS} from '../constants'\nimport type {UpsertPricingRequestPayload} from '../types/pricings'\n\nexport const createSkuPricingRequest = async (payload: UpsertPricingRequestPayload) => {\n  const url = `${URLS.STAFFTOOLS_PRODUCTS}/${payload.product}/pricings`\n  const response = await verifiedFetchJSON(url, {method: 'POST', body: payload})\n  const data = await response.json()\n\n  return {...data, statusCode: response.status}\n}\n\nexport const updateSkuPricingRequest = async (payload: UpsertPricingRequestPayload) => {\n  const url = `${URLS.STAFFTOOLS_PRODUCTS}/${payload.product}/pricings/${payload.sku}`\n  const response = await verifiedFetchJSON(url, {method: 'PUT', body: payload})\n  const data = await response.json()\n\n  return {...data, statusCode: response.status}\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {CheckCircleIcon} from '@primer/octicons-react'\nimport {Box, Button, Dialog, FormControl, Heading, Select, TextInput} from '@primer/react'\nimport {useRef, useState} from 'react'\n\nimport {ERRORS, UNIT_TYPE, URLS} from '../../constants'\nimport {createSkuPricingRequest, updateSkuPricingRequest} from '../../services/sku_pricing'\n\nimport type {UpsertPricingRequestPayload, PricingDetails, MeterType, UnitType} from '../../types/pricings'\n\ninterface PricingFormProps {\n  productId: string\n  action: 'create' | 'edit'\n  initialValues?: PricingDetails\n}\n\nexport const PricingForm = ({productId, action, initialValues}: PricingFormProps) => {\n  const [sku, setSku] = useState(initialValues?.sku || '')\n  const [friendlyName, setFriendlyName] = useState(initialValues?.friendlyName || '')\n  const [price, setPrice] = useState(initialValues?.price || 0)\n  const [meterType, setMeterType] = useState<MeterType>(initialValues?.meterType || 'Default')\n  const [unitType, setUnitType] = useState<UnitType>(initialValues?.unitType || 'Minutes')\n  const [freeForPublicRepos, setFreeForPublicRepos] = useState<boolean>(initialValues?.freeForPublicRepos || false)\n  const [effectiveAt, setEffectiveAt] = useState(initialValues?.effectiveAt || 25340221440)\n  const [azureMeterId, setAzureMeterId] = useState(initialValues?.azureMeterId || '')\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const [effectiveAtError, setEffectiveAtError] = useState('')\n  const returnFocusRef = useRef(null)\n  const {addToast} = useToastContext()\n  const navigate = useNavigate()\n  const requiredFields = [sku, friendlyName, price, meterType, unitType, azureMeterId, effectiveAt]\n  const headerText = action === 'create' ? 'Create a new SKU pricing' : 'Edit SKU pricing'\n  const buttonText = action === 'create' ? 'Save SKU pricing' : 'Edit SKU pricing'\n  const dialogText = action === 'create' ? 'This will create a new SKU pricing.' : 'This will update this SKU pricing.'\n\n  const convertTimestampToDate = (timestamp: number) => {\n    const date = new Date(timestamp * 1000)\n    const day = date.getDate()\n    const month = date.getMonth() + 1\n    const year = date.getFullYear()\n\n    const d = new Date(year, month - 1, day)\n    if (d && d.getMonth() + 1 === month) {\n      return date.toLocaleString()\n    } else {\n      return 'Invalid date'\n    }\n  }\n\n  const validateEffectiveAt = (value: number) => {\n    if (convertTimestampToDate(value) === 'Invalid date') {\n      setEffectiveAtError('Please enter a valid epoch timestamp.')\n      return false\n    } else {\n      setEffectiveAtError('')\n      return true\n    }\n  }\n\n  const handleError = (error: string) => {\n    // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n    addToast({\n      type: 'error',\n      message: error,\n      role: 'alert',\n    })\n  }\n\n  const handleClick = () => {\n    if (requiredFields.some(field => !field)) {\n      handleError(ERRORS.REQUIRED_FIELD_ERROR)\n    } else {\n      setIsDialogOpen(true)\n    }\n  }\n\n  const handleConfirmCreate = async () => {\n    setIsDialogOpen(false)\n    try {\n      const requestPayload: UpsertPricingRequestPayload = {\n        sku,\n        friendlyName,\n        price,\n        meterType,\n        unitType,\n        freeForPublicRepos,\n        azureMeterId,\n        product: productId,\n        effectiveAt,\n      }\n      const {error} = await createSkuPricingRequest(requestPayload)\n      if (error) {\n        handleError(error)\n      } else {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: 'SKU pricing created!',\n          icon: <CheckCircleIcon />,\n          role: 'status',\n        })\n        localStorage.setItem('updatedSKUs', 'true')\n        navigate(`${URLS.STAFFTOOLS_PRODUCTS}/${productId}`)\n      }\n    } catch {\n      handleError(ERRORS.CREATE_SKU_PRICING_ERROR)\n    }\n  }\n\n  const handleConfirmUpdate = async () => {\n    setIsDialogOpen(false)\n    try {\n      const requestPayload: UpsertPricingRequestPayload = {\n        sku,\n        friendlyName,\n        price,\n        meterType,\n        unitType,\n        freeForPublicRepos,\n        azureMeterId,\n        product: productId,\n        effectiveAt,\n      }\n      const {error} = await updateSkuPricingRequest(requestPayload)\n      if (error) {\n        handleError(error)\n      } else {\n        // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n        addToast({\n          type: 'success',\n          message: 'SKU pricing updated!',\n          icon: <CheckCircleIcon />,\n          role: 'status',\n        })\n        localStorage.setItem('updatedSKUs', 'true')\n        navigate(`${URLS.STAFFTOOLS_PRODUCTS}/${productId}`)\n      }\n    } catch {\n      handleError(ERRORS.UPDATE_SKU_PRICING_ERROR)\n    }\n  }\n\n  return (\n    <>\n      <Box sx={{borderWidth: 1, borderStyle: 'solid', borderColor: 'border.default', borderRadius: 2}}>\n        <Box sx={{bg: 'canvas.subtle', p: 3, mb: 2, borderRadius: 1}}>\n          <Heading as=\"h2\" sx={{fontSize: 2}}>\n            {headerText}\n          </Heading>\n        </Box>\n        <Box sx={{p: 2, m: 2}}>\n          <FormControl sx={{my: 3}} disabled={action === 'edit'}>\n            <FormControl.Label>SKU Name</FormControl.Label>\n            <TextInput aria-label=\"SKU Name\" name=\"skuName\" value={sku} onChange={e => setSku(e.target.value)} />\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Friendly SKU pricing name</FormControl.Label>\n            <TextInput\n              aria-label=\"Friendly SKU name\"\n              name=\"friendlySkuName\"\n              value={friendlyName}\n              onChange={e => setFriendlyName(e.target.value)}\n            />\n          </FormControl>\n\n          <FormControl disabled sx={{my: 3}}>\n            <FormControl.Label>Product</FormControl.Label>\n            <TextInput aria-label=\"Product\" name=\"product\" value={productId} />\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Free for public repos</FormControl.Label>\n            <Select\n              defaultValue={freeForPublicRepos.toString()}\n              onChange={e => setFreeForPublicRepos(Boolean(e.target.value))}\n            >\n              <Select.Option value=\"true\">Yes</Select.Option>\n              <Select.Option value=\"false\">No</Select.Option>\n            </Select>\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Price</FormControl.Label>\n            <TextInput\n              leadingVisual=\"$\"\n              aria-label=\"Price\"\n              name=\"price\"\n              value={price}\n              onChange={e => setPrice(Number(e.target.value))}\n            />\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Unit type</FormControl.Label>\n            <Select defaultValue={unitType} onChange={e => setUnitType(e.target.value as UnitType)}>\n              {UNIT_TYPE.map(unit => (\n                <Select.Option key={unit} value={unit}>\n                  {unit}\n                </Select.Option>\n              ))}\n            </Select>\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Meter type</FormControl.Label>\n            <Select defaultValue={meterType} onChange={e => setMeterType(e.target.value as MeterType)}>\n              <Select.Option value=\"Default\">Default</Select.Option>\n              <Select.Option value=\"PerHourUnitCharge\">Per hour unit charge</Select.Option>\n            </Select>\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Effective at</FormControl.Label>\n            <TextInput\n              aria-label=\"Effective At\"\n              name=\"EffectiveAt\"\n              value={effectiveAt}\n              onChange={e => {\n                const isValid = validateEffectiveAt(Number(e.target.value))\n                if (isValid) {\n                  setEffectiveAt(Number(e.target.value))\n                }\n              }}\n              placeholder=\"Enter an epoch timestamp\"\n            />\n            {effectiveAtError && <div style={{color: 'red'}}>{effectiveAtError}</div>}\n            <FormControl.Caption>{convertTimestampToDate(effectiveAt)}</FormControl.Caption>\n          </FormControl>\n\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Azure meter ID</FormControl.Label>\n            <TextInput\n              aria-label=\"Azure Meter ID\"\n              name=\"azureMeterId\"\n              value={azureMeterId}\n              onChange={e => setAzureMeterId(e.target.value)}\n            />\n          </FormControl>\n\n          <Button ref={returnFocusRef} onClick={handleClick} sx={{my: 2}}>\n            {buttonText}\n          </Button>\n        </Box>\n      </Box>\n      <Dialog returnFocusRef={returnFocusRef} isOpen={isDialogOpen} onDismiss={() => setIsDialogOpen(false)}>\n        <Dialog.Header>Are you sure?</Dialog.Header>\n        <Box sx={{p: 3}}>\n          <span>{`${dialogText} Are you sure you want to continue?`}</span>\n          <Box sx={{display: 'flex', mt: 3, justifyContent: 'flex-end'}}>\n            <Button\n              onClick={action === 'create' ? handleConfirmCreate : handleConfirmUpdate}\n              sx={{mr: 1}}\n              variant=\"primary\"\n            >\n              Continue\n            </Button>\n            <Button onClick={() => setIsDialogOpen(false)}>Cancel</Button>\n          </Box>\n        </Box>\n      </Dialog>\n    </>\n  )\n}\n\ntry{ PricingForm.displayName ||= 'PricingForm' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Breadcrumbs} from '@primer/react'\n\nimport {PricingForm} from '../../components/pricings/PricingForm'\n\nimport {URLS} from '../../constants'\n\nimport type {PricingDetails} from '../../types/pricings'\n\nexport interface PricingEditPagePayload {\n  pricing: PricingDetails\n}\n\nexport const PricingEditPage = () => {\n  const payload = useRoutePayload<PricingEditPagePayload>()\n  const {pricing} = payload\n\n  return (\n    <>\n      <Breadcrumbs sx={{mb: 3}}>\n        <Breadcrumbs.Item href={URLS.STAFFTOOLS_PRODUCTS}>Products</Breadcrumbs.Item>\n        <Breadcrumbs.Item href={`${URLS.STAFFTOOLS_PRODUCTS}/${pricing.product}`} sx={{textTransform: 'capitalize'}}>\n          {pricing.product}\n        </Breadcrumbs.Item>\n        <Breadcrumbs.Item selected>Edit</Breadcrumbs.Item>\n      </Breadcrumbs>\n      <PricingForm action=\"edit\" productId={pricing.product} initialValues={pricing} />\n    </>\n  )\n}\n\ntry{ PricingEditPage.displayName ||= 'PricingEditPage' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Breadcrumbs} from '@primer/react'\n\nimport {PricingForm} from '../../components/pricings/PricingForm'\n\nimport {URLS} from '../../constants'\n\nexport interface PricingNewPagePayload {\n  productId: string\n}\n\nexport const PricingNewPage = () => {\n  const payload = useRoutePayload<PricingNewPagePayload>()\n\n  return (\n    <>\n      <Breadcrumbs sx={{mb: 3}}>\n        <Breadcrumbs.Item href={URLS.STAFFTOOLS_PRODUCTS}>Products</Breadcrumbs.Item>\n        <Breadcrumbs.Item href={`${URLS.STAFFTOOLS_PRODUCTS}/${payload.productId}`} sx={{textTransform: 'capitalize'}}>\n          {payload.productId}\n        </Breadcrumbs.Item>\n        <Breadcrumbs.Item selected>New SKU pricing</Breadcrumbs.Item>\n      </Breadcrumbs>\n      <PricingForm action=\"create\" productId={payload.productId} />\n    </>\n  )\n}\n\ntry{ PricingNewPage.displayName ||= 'PricingNewPage' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {Box, Button, Heading, Link, Text} from '@primer/react'\n\nimport {URLS} from '../../constants'\nimport {pageHeadingStyle} from '../../utils'\n\nimport type {Product} from '../../types/products'\n\nexport interface ProductsPagePayload {\n  products: Product[]\n}\n\nexport const productTableStyle = {\n  width: '100%',\n  borderWidth: 1,\n  borderStyle: 'solid',\n  borderColor: 'border.default',\n  borderRadius: 2,\n}\n\nexport const productRowStyle = {\n  p: 3,\n  fontSize: 16,\n  borderBottomColor: 'border.default',\n  borderBottomStyle: 'solid',\n}\n\nexport function ProductsPage() {\n  const payload = useRoutePayload<ProductsPagePayload>()\n  const {products} = payload\n  const navigate = useNavigate()\n\n  const handleNewProduct = () => {\n    navigate(URLS.STAFFTOOLS_NEW_PRODUCT)\n  }\n\n  const skuQueryURL = 'webevents+%7C+where+action+%3D%3D+\"billing.sku_update\"+or+action+%3D%3D+\"billing.sku_create\"'\n\n  return (\n    <div>\n      <div className=\"Subhead\">\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Products\n        </Heading>\n        <Button onClick={handleNewProduct}>New product</Button>\n      </div>\n      <div className=\"Box mb-4 rounded-2\">\n        <Box className=\"Box d-flex flex-row flex-items-center gap-2\" sx={{p: 3, fontSize: 16}}>\n          <div className=\"flex-1 d-flex gap-2\">\n            <Text sx={{fontWeight: 'semibold'}}>Product Audit Logs</Text>\n          </div>\n          <Link href={`/stafftools/audit_log?query=${skuQueryURL}`}>View SKU change related events</Link>\n        </Box>\n      </div>\n      {products?.length > 0 && (\n        <Box sx={productTableStyle} data-testid=\"products-table\">\n          {products?.map((product, index) => (\n            <Box\n              key={product.name}\n              sx={{\n                ...productRowStyle,\n                borderBottomWidth: index === products.length - 1 ? 0 : 1,\n              }}\n            >\n              <Link href={`/stafftools/billing/products/${product.name}`}>{product.friendlyProductName}</Link>\n            </Box>\n          ))}\n        </Box>\n      )}\n    </div>\n  )\n}\n\ntry{ ProductsPage.displayName ||= 'ProductsPage' } catch {}","import {useState, useRef} from 'react'\nimport {Text, Box, Button, Link} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport type {PricingDetails} from '../../types/pricings'\nimport {URLS} from '../../constants'\nimport {useNavigate} from 'react-router-dom'\nimport {Spacing, listStyle} from '../../utils'\n\ninterface Props {\n  pricingDetails: PricingDetails\n}\n\nexport default function PricingDetailsDialog({pricingDetails}: Props) {\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const returnFocusRef = useRef(null)\n  const navigate = useNavigate()\n\n  const skuQueryURL = `webevents%0D%0A%7C+where+data.sku%3D%3D\"${pricingDetails.sku}\"%0D%0A`\n\n  return (\n    <div data-testid=\"pricing-details-list-dialog-container\">\n      <Button sx={{p: 3, fontSize: 16}} variant=\"invisible\" onClick={() => setIsDialogOpen(true)}>\n        {pricingDetails.sku.replace(/_/g, ' ')}\n      </Button>\n\n      {isDialogOpen && (\n        <Dialog\n          onClose={() => setIsDialogOpen(false)}\n          title={pricingDetails.sku.replace(/_/g, ' ')}\n          subtitle={<Link href={`/stafftools/audit_log?query=${skuQueryURL}`}>View SKU related events</Link>}\n          returnFocusRef={returnFocusRef}\n          aria-labelledby=\"header\"\n          sx={{overflowY: 'auto'}}\n          footerButtons={[\n            {\n              content: 'Edit',\n              onClick: () =>\n                navigate(`${URLS.STAFFTOOLS_PRODUCTS}/${pricingDetails.product}/pricings/${pricingDetails.sku}/edit`),\n              sx: {mr: 2},\n            },\n          ]}\n        >\n          <Box sx={{p: Spacing.StandardPadding}}>\n            <ul className=\"mt-0 pt-0\">\n              <Box\n                as=\"li\"\n                sx={{\n                  display: 'flex',\n                  flexDirection: 'row',\n                  alignItems: 'center',\n                }}\n                data-testid=\"pricing-sku\"\n              >\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Pricing SKU:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{pricingDetails.sku}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-friendly-name\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Pricing friendly name:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{pricingDetails.friendlyName}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-product\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Product:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{pricingDetails.product}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-public-repo\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Free for Public Repositories:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{String(pricingDetails.freeForPublicRepos)}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-price\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Price:</Text>\n                <Text sx={{fontWeight: 'bold'}}>${String(pricingDetails.price)}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-unit-type\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Unit type:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{String(pricingDetails.unitType)}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-meter-type\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Meter type:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{String(pricingDetails.meterType)}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-effective-at\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Effective at:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{new Date(pricingDetails.effectiveAt * 1000).toLocaleString()}</Text>\n              </Box>\n\n              <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-azure-id\">\n                <Text sx={{flex: 'auto', overflow: 'auto'}}>Azure meter ID:</Text>\n                <Text sx={{fontWeight: 'bold'}}>{String(pricingDetails.azureMeterId)}</Text>\n              </Box>\n\n              {pricingDetails.effectiveDatePrices && pricingDetails.effectiveDatePrices.length > 0 && (\n                <Box as=\"li\" sx={{...listStyle, mt: '6px'}} data-testid=\"pricing-historical-prices\">\n                  <Text sx={{flex: 'auto', overflow: 'auto'}}>Historical prices:</Text>\n                  <Text sx={{fontWeight: 'bold', width: '60%'}}>\n                    {pricingDetails.effectiveDatePrices &&\n                      pricingDetails.effectiveDatePrices.map((effectiveDatePrice, index) => (\n                        <div key={index}>\n                          <Box sx={{display: 'flex', mt: '6px'}} data-testid={`pricing-start-date-${index}`}>\n                            <Text sx={{flex: 'auto', overflow: 'auto'}}>Start date:</Text>\n                            <span>{effectiveDatePrice.startDate}</span>\n                          </Box>\n                          <Box sx={{display: 'flex', mt: '6px'}} data-testid={`pricing-end-date-${index}`}>\n                            <Text sx={{flex: 'auto', overflow: 'auto'}}>End date:</Text>\n                            <span>{effectiveDatePrice.endDate}</span>\n                          </Box>\n                          <Box sx={{display: 'flex', mt: '6px'}} data-testid={`pricing-date-price-${index}`}>\n                            <Text sx={{flex: 'auto', overflow: 'auto'}}>Price:</Text>\n                            <span>{effectiveDatePrice.price}</span>\n                          </Box>\n                          <br />\n                        </div>\n                      ))}\n                  </Text>\n                </Box>\n              )}\n            </ul>\n          </Box>\n        </Dialog>\n      )}\n    </div>\n  )\n}\n\ntry{ PricingDetailsDialog.displayName ||= 'PricingDetailsDialog' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {Box, Breadcrumbs, Button, Heading, Link, Pagination, TextInput} from '@primer/react'\nimport {Banner} from '@primer/react/experimental'\n\nimport {URLS} from '../../constants'\nimport {pageHeadingStyle} from '../../utils'\n\nimport {productRowStyle, productTableStyle} from './ProductsPage'\n\nimport type {ProductDetails} from '../../types/products'\nimport PricingDetailsDialog from './PricingDetailsDialog'\nimport {useCallback, useEffect, useState} from 'react'\nimport type {PricingList} from '../../types/pricings'\n\nexport interface ProductDetailsPagePayload {\n  product: ProductDetails\n}\n\nexport function ProductDetailsPage() {\n  const payload = useRoutePayload<ProductDetailsPagePayload>()\n  const {product} = payload\n  const {pricings} = product\n  const navigate = useNavigate()\n  const sortedPricings = pricings?.sort((a, b) => {\n    return a.friendlyName.localeCompare(b.friendlyName, 'en', {numeric: true, sensitivity: 'base'})\n  })\n  const [updatedSkus, setUpdatedSkus] = useState(false)\n\n  const pageSize = 10\n  const [pageNumber, setPageNumber] = useState(1)\n  const [pageCount, setPageCount] = useState(sortedPricings ? Math.ceil(sortedPricings.length / pageSize) : 1)\n  const [currentProduct, setCurrentProduct] = useState<PricingList[] | undefined>(sortedPricings?.slice(0, pageSize))\n  const [searchFilter, setSearchFilter] = useState<string>('')\n\n  const onPageChange: Parameters<typeof Pagination>[0]['onPageChange'] = (e, page) => {\n    if (sortedPricings && sortedPricings.length > 0) {\n      if (searchFilter) {\n        const filtered = sortedPricings\n          ?.filter(pricing => pricing.friendlyName.toLowerCase().includes(searchFilter.toLocaleLowerCase()))\n          .slice((page - 1) * pageSize, page * pageSize)\n        setCurrentProduct(filtered)\n      } else {\n        setCurrentProduct(sortedPricings.slice((page - 1) * pageSize, page * pageSize))\n      }\n    }\n    e.preventDefault()\n    setPageNumber(page)\n  }\n\n  const filterSearchResults = useCallback(() => {\n    const filtered = sortedPricings?.filter(pricing =>\n      pricing.friendlyName.toLowerCase().includes(searchFilter.toLocaleLowerCase()),\n    )\n    setCurrentProduct(filtered?.slice(0, pageSize))\n    setPageNumber(1)\n    setPageCount(filtered ? Math.ceil(filtered.length / pageSize) : 1)\n  }, [searchFilter, sortedPricings])\n\n  useEffect(() => {\n    const val = localStorage.getItem('updatedSKUs')\n    setUpdatedSkus(val === 'true')\n  }, [])\n\n  return (\n    <div>\n      <Breadcrumbs>\n        <Breadcrumbs.Item href=\"/stafftools/billing/products\">Products</Breadcrumbs.Item>\n        <Breadcrumbs.Item selected>{product?.friendlyProductName}</Breadcrumbs.Item>\n      </Breadcrumbs>\n      {updatedSkus && (\n        <Box sx={{mb: 2, mt: 2}}>\n          <Banner\n            title=\"Warning\"\n            onDismiss={() => {\n              setUpdatedSkus(false)\n              localStorage.setItem('updatedSKUs', 'false')\n            }}\n            variant=\"warning\"\n            description={\n              <>\n                SKU edits are not replicated to all stamps. To replicate changes, follow{' '}\n                <Link\n                  inline\n                  href=\"https://github.com/github/gitcoin/blob/main/docs/playbook/howto/replicate_sku_changes_to_stamps.md\"\n                >\n                  this playbook\n                </Link>\n                .\n              </>\n            }\n          />\n        </Box>\n      )}\n      <Box className=\"Subhead\" sx={{display: 'flex', alignItems: 'center'}}>\n        <Heading as=\"h2\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          {product?.friendlyProductName}\n        </Heading>\n        <Button sx={{ml: 'auto'}} onClick={() => navigate(`${URLS.STAFFTOOLS_PRODUCTS}/${product.name}/edit`)}>\n          Edit\n        </Button>\n      </Box>\n      <Box sx={{...productTableStyle, marginBottom: '16px'}}>\n        <Box sx={{p: 3, fontSize: 16}}>\n          <span>Product ID: {product?.name}</span>\n          <br />\n          <span>Zuora usage identifier: {product?.zuoraUsageIdentifier}</span>\n          <br />\n          <span>SKU count: {pricings?.length || 0}</span>\n        </Box>\n      </Box>\n      <div className=\"Subhead\">\n        <Heading as=\"h3\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          SKU pricings\n        </Heading>\n        <Button onClick={() => navigate(`${product.name}/pricings/new`)}>New SKU pricing</Button>\n      </div>\n      <div className=\"Subhead\">\n        <Heading as=\"h3\" className=\"Subhead-heading\" sx={pageHeadingStyle}>\n          Search SKU\n        </Heading>\n        <TextInput\n          sx={{width: '50%', mr: 2}}\n          onChange={e => setSearchFilter(e.target.value)}\n          data-testid=\"search-input\"\n          aria-label=\"Search SKU\"\n          name=\"search\"\n          placeholder=\"Find a SKU...\"\n          onKeyDown={e => {\n            // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n            if (e.key === 'Enter') {\n              filterSearchResults()\n            }\n          }}\n        />\n        <Button onClick={() => filterSearchResults()}>Search</Button>\n      </div>\n\n      {currentProduct && currentProduct?.length > 0 && (\n        <Box sx={productTableStyle} data-testid=\"pricings-table\">\n          {currentProduct?.map((pricing, index) => (\n            <Box\n              key={pricing.friendlyName}\n              sx={{\n                ...productRowStyle,\n                borderBottomWidth: index === currentProduct.length - 1 ? 0 : 1,\n              }}\n            >\n              <PricingDetailsDialog pricingDetails={pricing} />\n            </Box>\n          ))}\n          {sortedPricings && sortedPricings.length > pageSize && (\n            <Pagination pageCount={pageCount} currentPage={pageNumber} onPageChange={onPageChange} />\n          )}\n        </Box>\n      )}\n    </div>\n  )\n}\n\ntry{ ProductDetailsPage.displayName ||= 'ProductDetailsPage' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\nimport {URLS} from '../constants'\n\nimport type {Product} from '../types/products'\n\nexport const createProductRequest = async (payload: Product) => {\n  const response = await verifiedFetchJSON(URLS.STAFFTOOLS_PRODUCTS, {method: 'POST', body: payload})\n  const data = await response.json()\n\n  return {...data, statusCode: response.status}\n}\n\nexport const editProductRequest = async (payload: Product) => {\n  const response = await verifiedFetchJSON(`${URLS.STAFFTOOLS_PRODUCTS}/${payload.name}`, {\n    method: 'PUT',\n    body: payload,\n  })\n  const data = await response.json()\n\n  return {...data, statusCode: response.status}\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {CheckCircleIcon} from '@primer/octicons-react'\nimport {Box, Button, Dialog, FormControl, Heading, TextInput} from '@primer/react'\nimport {useRef, useState} from 'react'\n\nimport {ERRORS, URLS} from '../../constants'\nimport {createProductRequest, editProductRequest} from '../../services/products'\n\nimport type {Product} from '../../types/products'\n\ninterface FormValues {\n  name?: string\n  friendlyProductName?: string\n  zuoraUsageIdentifier?: string\n}\n\nexport interface ProductFormProps {\n  action: 'create' | 'edit'\n  initialValues?: FormValues\n}\n\nexport const ProductForm = ({action, initialValues}: ProductFormProps) => {\n  const [name, setName] = useState(initialValues?.name || '')\n  const [friendlyProductName, setFriendlyProductName] = useState(initialValues?.friendlyProductName || '')\n  const [zuoraUsageIdentifier, setZuoraUsageIdentifier] = useState(initialValues?.zuoraUsageIdentifier || '')\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const {addToast} = useToastContext()\n  const navigate = useNavigate()\n  const returnFocusRef = useRef(null)\n  const headerText = action === 'create' ? 'Create a new product' : `Update ${initialValues?.friendlyProductName}`\n  const successMessage = action === 'create' ? 'Product added!' : 'Product updated!'\n  const dialogText = action === 'create' ? 'This will create a new product.' : 'This will update this product.'\n  const requiredFields = [name, friendlyProductName, zuoraUsageIdentifier]\n\n  const handleError = (error: string) => {\n    // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n    addToast({\n      type: 'error',\n      message: error,\n      role: 'alert',\n    })\n  }\n\n  const handleSuccess = (message: string) => {\n    // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n    addToast({\n      type: 'success',\n      message,\n      icon: <CheckCircleIcon />,\n      role: 'status',\n    })\n    navigate(URLS.STAFFTOOLS_PRODUCTS)\n  }\n\n  const handleClick = () => {\n    if (requiredFields.some(field => !field)) {\n      handleError(ERRORS.REQUIRED_FIELD_ERROR)\n    } else {\n      setIsDialogOpen(true)\n    }\n  }\n\n  const handleCreateProduct = async () => {\n    setIsDialogOpen(false)\n    try {\n      const requestPayload: Product = {name, friendlyProductName, zuoraUsageIdentifier}\n      const {error} = await createProductRequest(requestPayload)\n      if (error) {\n        handleError(error)\n      } else handleSuccess(successMessage)\n    } catch {\n      handleError(ERRORS.CREATE_PRODUCT_ERROR)\n    }\n  }\n\n  const handleEditProduct = async () => {\n    setIsDialogOpen(false)\n    try {\n      const requestPayload: Product = {name, friendlyProductName, zuoraUsageIdentifier}\n      const {error} = await editProductRequest(requestPayload)\n      if (error) {\n        handleError(error)\n      } else handleSuccess(successMessage)\n    } catch {\n      handleError(ERRORS.UPDATE_PRODUCT_ERROR)\n    }\n  }\n\n  return (\n    <>\n      <Box sx={{borderWidth: 1, borderStyle: 'solid', borderColor: 'border.default', borderRadius: 2}}>\n        <Box sx={{bg: 'canvas.subtle', p: 3, mb: 2, borderRadius: 1}}>\n          <Heading as=\"h2\" sx={{fontSize: 2}}>\n            {headerText}\n          </Heading>\n        </Box>\n        <Box sx={{p: 2, m: 2}}>\n          <FormControl sx={{my: 2}} disabled={action === 'edit'}>\n            <FormControl.Label>Name</FormControl.Label>\n            <TextInput aria-label=\"Name\" name=\"name\" value={name} onChange={e => setName(e.target.value)} />\n          </FormControl>\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Friendly product name</FormControl.Label>\n            <TextInput\n              aria-label=\"Friendly product name\"\n              name=\"friendlyProductName\"\n              value={friendlyProductName}\n              onChange={e => setFriendlyProductName(e.target.value)}\n            />\n          </FormControl>\n          <FormControl sx={{my: 3}}>\n            <FormControl.Label>Zuora usage identifier</FormControl.Label>\n            <TextInput\n              aria-label=\"Zuora usage identifier\"\n              name=\"zuoraUsageIdentifier\"\n              value={zuoraUsageIdentifier}\n              onChange={e => setZuoraUsageIdentifier(e.target.value)}\n            />\n          </FormControl>\n          <Button onClick={handleClick} sx={{my: 2}}>\n            {action === 'create' ? 'Create product' : 'Edit product'}\n          </Button>\n        </Box>\n      </Box>\n      <Dialog returnFocusRef={returnFocusRef} isOpen={isDialogOpen} onDismiss={() => setIsDialogOpen(false)}>\n        <Dialog.Header>Are you sure?</Dialog.Header>\n        <Box sx={{p: 3}}>\n          <span>{`${dialogText} Are you sure you want to continue?`}</span>\n          <Box sx={{display: 'flex', mt: 3, justifyContent: 'flex-end'}}>\n            <Button\n              onClick={action === 'create' ? handleCreateProduct : handleEditProduct}\n              sx={{mr: 1}}\n              variant=\"primary\"\n            >\n              Continue\n            </Button>\n            <Button onClick={() => setIsDialogOpen(false)}>Cancel</Button>\n          </Box>\n        </Box>\n      </Dialog>\n    </>\n  )\n}\n\ntry{ ProductForm.displayName ||= 'ProductForm' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {Breadcrumbs} from '@primer/react'\n\nimport {ProductForm} from '../../components/products/ProductForm'\n\nimport {URLS} from '../../constants'\n\nimport type {Product} from '../../types/products'\n\nexport interface ProductEditPagePayload {\n  product: Product\n}\n\nexport const ProductEditPage = () => {\n  const payload = useRoutePayload<ProductEditPagePayload>()\n  const {product} = payload\n\n  return (\n    <>\n      <Breadcrumbs sx={{mb: 3}}>\n        <Breadcrumbs.Item href={URLS.STAFFTOOLS_PRODUCTS}>Products</Breadcrumbs.Item>\n        <Breadcrumbs.Item selected>Update product</Breadcrumbs.Item>\n      </Breadcrumbs>\n      <ProductForm initialValues={product} action=\"edit\" />\n    </>\n  )\n}\n\ntry{ ProductEditPage.displayName ||= 'ProductEditPage' } catch {}","import {Breadcrumbs} from '@primer/react'\n\nimport {ProductForm} from '../../components/products/ProductForm'\n\nimport {URLS} from '../../constants'\n\nexport const ProductNewPage = () => {\n  return (\n    <>\n      <Breadcrumbs sx={{mb: 3}}>\n        <Breadcrumbs.Item href={URLS.STAFFTOOLS_PRODUCTS}>Products</Breadcrumbs.Item>\n        <Breadcrumbs.Item selected>New product</Breadcrumbs.Item>\n      </Breadcrumbs>\n      <ProductForm action=\"create\" />\n    </>\n  )\n}\n\ntry{ ProductNewPage.displayName ||= 'ProductNewPage' } catch {}","import type {RouteRegistration} from '@github-ui/react-core/app-routing-types'\nimport {jsonRoute} from '@github-ui/react-core/json-route'\nimport {registerReactAppFactory} from '@github-ui/react-core/register-app'\n\nimport {App} from './App'\n\nimport {\n  ENTERPRISE_BUDGETS_ROUTE,\n  ENTERPRISE_COST_CENTERS_ROUTE,\n  ENTERPRISE_EDIT_BUDGET_ROUTE,\n  ENTERPRISE_EDIT_COST_CENTER_ROUTE,\n  ENTERPRISE_NEW_BUDGET_ROUTE,\n  ENTERPRISE_NEW_COST_CENTER_ROUTE,\n  ENTERPRISE_OVERVIEW_ROUTE,\n  ENTERPRISE_USAGE_ROUTE,\n  ORGANIZATION_BUDGETS_ROUTE,\n  ORGANIZATION_COST_CENTERS_ROUTE,\n  ORGANIZATION_EDIT_BUDGET_ROUTE,\n  ORGANIZATION_EDIT_COST_CENTER_ROUTE,\n  ORGANIZATION_NEW_BUDGET_ROUTE,\n  ORGANIZATION_NEW_COST_CENTER_ROUTE,\n  ORGANIZATION_OVERVIEW_ROUTE,\n  ORGANIZATION_USAGE_ROUTE,\n  STAFFTOOLS_BILLING_JOBS_ROUTE,\n  STAFFTOOLS_BUSINESS_ORGANIZATION_BILLING_JOBS_ROUTE,\n  STAFFTOOLS_EDIT_PRODUCT_ROUTE,\n  STAFFTOOLS_ENTERPRISE_DISCOUNTS_ROUTE,\n  STAFFTOOLS_ENTERPRISE_INVOICES_ROUTE,\n  STAFFTOOLS_ENTERPRISE_OVERVIEW_ROUTE,\n  STAFFTOOLS_ENTERPRISE_COST_CENTERS_ROUTE,\n  STAFFTOOLS_ENTERPRISE_BUDGETS_ROUTE,\n  STAFFTOOLS_ENTERPRISE_EDIT_BUDGET_ROUTE,\n  STAFFTOOLS_ENTERPRISE_USAGE_ROUTE,\n  STAFFTOOLS_ENTERPRISE_AZURE_EMISSIONS_ROUTE,\n  STAFFTOOLS_NEW_PRODUCT_ROUTE,\n  STAFFTOOLS_PRODUCTS_ROUTE,\n  STAFFTOOLS_PRODUCT_EDIT_PRICING_ROUTE,\n  STAFFTOOLS_PRODUCT_NEW_PRICING_ROUTE,\n  STAFFTOOLS_PRODUCT_SHOW_ROUTE,\n  USER_BUDGETS_ROUTE,\n  USER_COST_CENTERS_ROUTE,\n  USER_EDIT_BUDGET_ROUTE,\n  USER_EDIT_COST_CENTER_ROUTE,\n  USER_NEW_BUDGET_ROUTE,\n  USER_NEW_COST_CENTER_ROUTE,\n  USER_OVERVIEW_ROUTE,\n  USER_USAGE_ROUTE,\n  ENTERPRISE_VIEW_COST_CENTER_ROUTE,\n  STAFFTOOLS_ENTERPRISE_VIEW_COST_CENTER_ROUTE,\n} from './routes'\n\nimport {\n  BudgetEditPage,\n  BudgetNewPage,\n  BudgetsPage,\n  CostCenterEditPage,\n  CostCenterNewPage,\n  CostCentersPage,\n  CostCenterPage,\n  OverviewPage,\n  UsagePage,\n} from './routes/'\n\nimport {\n  AzureEmissionPage,\n  BillingJobsPage,\n  BusinessOrganizationBillingJobPage,\n  DiscountsPage,\n  InvoicesPage,\n  PricingEditPage,\n  PricingNewPage,\n  ProductDetailsPage,\n  ProductEditPage,\n  ProductNewPage,\n  ProductsPage,\n} from './routes/stafftools'\n\nconst enterprisePages = [\n  // Usage\n  jsonRoute({path: ENTERPRISE_OVERVIEW_ROUTE.fullPath, Component: OverviewPage}),\n  jsonRoute({path: ENTERPRISE_USAGE_ROUTE.fullPath, Component: UsagePage}),\n  // Budgets\n  jsonRoute({path: ENTERPRISE_BUDGETS_ROUTE.fullPath, Component: BudgetsPage}),\n  jsonRoute({path: ENTERPRISE_NEW_BUDGET_ROUTE.fullPath, Component: BudgetNewPage}),\n  jsonRoute({path: ENTERPRISE_EDIT_BUDGET_ROUTE.fullPath, Component: BudgetEditPage}),\n  // Cost Centers\n  jsonRoute({path: ENTERPRISE_COST_CENTERS_ROUTE.fullPath, Component: CostCentersPage}),\n  jsonRoute({path: ENTERPRISE_VIEW_COST_CENTER_ROUTE.fullPath, Component: CostCenterPage}),\n  jsonRoute({path: ENTERPRISE_NEW_COST_CENTER_ROUTE.fullPath, Component: CostCenterNewPage}),\n  jsonRoute({path: ENTERPRISE_EDIT_COST_CENTER_ROUTE.fullPath, Component: CostCenterEditPage}),\n  // Stafftools\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_USAGE_ROUTE.fullPath, Component: UsagePage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_DISCOUNTS_ROUTE.fullPath, Component: DiscountsPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_INVOICES_ROUTE.fullPath, Component: InvoicesPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_OVERVIEW_ROUTE.fullPath, Component: OverviewPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_COST_CENTERS_ROUTE.fullPath, Component: CostCentersPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_BUDGETS_ROUTE.fullPath, Component: BudgetsPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_EDIT_BUDGET_ROUTE.fullPath, Component: BudgetEditPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_VIEW_COST_CENTER_ROUTE.fullPath, Component: CostCenterPage}),\n  jsonRoute({path: STAFFTOOLS_ENTERPRISE_AZURE_EMISSIONS_ROUTE.fullPath, Component: AzureEmissionPage}),\n]\n\nconst organizationPages = [\n  // Usage\n  jsonRoute({path: ORGANIZATION_OVERVIEW_ROUTE.fullPath, Component: OverviewPage}),\n  jsonRoute({path: ORGANIZATION_USAGE_ROUTE.fullPath, Component: UsagePage}),\n  // Budgets\n  jsonRoute({path: ORGANIZATION_BUDGETS_ROUTE.fullPath, Component: BudgetsPage}),\n  jsonRoute({path: ORGANIZATION_NEW_BUDGET_ROUTE.fullPath, Component: BudgetNewPage}),\n  jsonRoute({path: ORGANIZATION_EDIT_BUDGET_ROUTE.fullPath, Component: BudgetEditPage}),\n  // Cost Centers\n  jsonRoute({path: ORGANIZATION_COST_CENTERS_ROUTE.fullPath, Component: CostCentersPage}),\n  jsonRoute({path: ORGANIZATION_NEW_COST_CENTER_ROUTE.fullPath, Component: CostCenterNewPage}),\n  jsonRoute({path: ORGANIZATION_EDIT_COST_CENTER_ROUTE.fullPath, Component: CostCenterEditPage}),\n  // Stafftools\n]\n\nconst userPages: Array<RouteRegistration<unknown, unknown>> = [\n  // Usage\n  jsonRoute({path: USER_OVERVIEW_ROUTE.fullPath, Component: OverviewPage}),\n  jsonRoute({path: USER_USAGE_ROUTE.fullPath, Component: UsagePage}),\n  // Budgets\n  jsonRoute({path: USER_BUDGETS_ROUTE.fullPath, Component: BudgetsPage}),\n  jsonRoute({path: USER_NEW_BUDGET_ROUTE.fullPath, Component: BudgetNewPage}),\n  jsonRoute({path: USER_EDIT_BUDGET_ROUTE.fullPath, Component: BudgetEditPage}),\n  // Cost Centers\n  jsonRoute({path: USER_COST_CENTERS_ROUTE.fullPath, Component: CostCentersPage}),\n  jsonRoute({path: USER_NEW_COST_CENTER_ROUTE.fullPath, Component: CostCenterNewPage}),\n  jsonRoute({path: USER_EDIT_COST_CENTER_ROUTE.fullPath, Component: CostCenterEditPage}),\n  // Stafftools\n]\n\nconst productsPages = [\n  // Products\n  jsonRoute({path: STAFFTOOLS_PRODUCTS_ROUTE.fullPath, Component: ProductsPage}),\n  jsonRoute({path: STAFFTOOLS_PRODUCT_SHOW_ROUTE.fullPath, Component: ProductDetailsPage}),\n  jsonRoute({path: STAFFTOOLS_NEW_PRODUCT_ROUTE.fullPath, Component: ProductNewPage}),\n  jsonRoute({path: STAFFTOOLS_EDIT_PRODUCT_ROUTE.fullPath, Component: ProductEditPage}),\n  // Pricings\n  jsonRoute({path: STAFFTOOLS_PRODUCT_NEW_PRICING_ROUTE.fullPath, Component: PricingNewPage}),\n  jsonRoute({path: STAFFTOOLS_PRODUCT_EDIT_PRICING_ROUTE.fullPath, Component: PricingEditPage}),\n]\n\nconst jobsPages = [\n  jsonRoute({path: STAFFTOOLS_BILLING_JOBS_ROUTE.fullPath, Component: BillingJobsPage}),\n  jsonRoute({\n    path: STAFFTOOLS_BUSINESS_ORGANIZATION_BILLING_JOBS_ROUTE.fullPath,\n    Component: BusinessOrganizationBillingJobPage,\n  }),\n]\n\nregisterReactAppFactory('billing-app', () => ({\n  App,\n  routes: [...enterprisePages, ...organizationPages, ...userPages, ...productsPages, ...jobsPages],\n}))\n","import {\n  GROUP_BY_COSTCENTER_TYPE,\n  GROUP_BY_NONE_TYPE,\n  GROUP_BY_ORG_TYPE,\n  GROUP_BY_PRODUCT_TYPE,\n  GROUP_BY_REPO_TYPE,\n  GROUP_BY_SKU_TYPE,\n} from './constants'\n\nexport enum BillingTarget {\n  NoBillingTarget = 0,\n  Zuora,\n  Azure,\n}\n\nexport enum CustomerType {\n  Business = 'Business',\n  Organization = 'Organization',\n  User = 'User',\n}\n\nexport enum RequestState {\n  INIT = 'init',\n  IDLE = 'idle',\n  LOADING = 'loading',\n  ERROR = 'error',\n}\n\nexport enum UsageGrouping {\n  NONE = GROUP_BY_NONE_TYPE,\n  ORG = GROUP_BY_ORG_TYPE,\n  PRODUCT = GROUP_BY_PRODUCT_TYPE,\n  REPO = GROUP_BY_REPO_TYPE,\n  SKU = GROUP_BY_SKU_TYPE,\n  COSTCENTER = GROUP_BY_COSTCENTER_TYPE,\n}\n\nexport enum UsagePeriod {\n  THIS_HOUR = 1,\n  TODAY = 2,\n  THIS_MONTH = 3,\n  THIS_YEAR = 4,\n  LAST_MONTH = 5,\n  LAST_YEAR = 6,\n  DEFAULT = THIS_MONTH,\n}\n\nexport enum UsageCardVariant {\n  REPO = 'repo',\n  ORG = 'org',\n}\n\nexport enum DiscountTarget {\n  NoDiscountTarget = 'NoDiscountTarget',\n  SKU = 'SkuDiscount',\n  Product = 'ProductDiscount',\n  Repository = 'RepoDiscount',\n  Organization = 'OrgDiscount',\n  Enterprise = 'EnterpriseDiscount',\n}\n\nexport enum DiscountType {\n  NoDiscountType = 'none',\n  FixedAmount = 'fixed-amount',\n  Percentage = 'percentage',\n}\n\nexport enum DiscountTargetType {\n  ENTERPRISE = 'enterprise',\n  ORGANIZATION = 'org',\n  REPOSITORY = 'repo',\n  SKU_ACTIONS_MINUTES = 'actions_minutes',\n  SKU_ACTIONS_STORAGE = 'actions_storage',\n  SKU_CFB_SEATS = 'copilot',\n  SKU_GHAS_SEATS = 'ghas_seats',\n  SKU_GHEC_SEATS = 'ghec_seats',\n  SKU_LFS_BANDWIDTH = 'lfs_bandwidth',\n  SKU_LFS_STORAGE = 'lfs_storage',\n  SKU_PACKAGES_BANDWIDTH = 'packages_bandwidth',\n  SKU_PACKAGES_STORAGE = 'packages_storage',\n  PUBLIC_REPO = 'public_repo',\n  UNSUPPORTED = 'unsupported',\n}\n","import {useState} from 'react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport useRequest from '../use-request'\nimport {REPO_USAGE_ROUTE} from '../../routes'\n\nimport {ERRORS, GROUP_BY_ORG_TYPE} from '../../constants'\nimport {RequestState, UsagePeriod} from '../../enums'\n\nimport type {Filters, RepoUsageLineItem, OtherUsageLineItem} from '../../types/usage'\n\ntype UseRepoUsageCardParams = {\n  filters: Filters\n}\n\nfunction useRepoUsageCard({filters}: UseRepoUsageCardParams) {\n  const [usage, setUsage] = useState<RepoUsageLineItem[]>([])\n  const [otherUsage, setOtherUsage] = useState<OtherUsageLineItem[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n  const {addToast} = useToastContext()\n\n  useRequest({\n    route: REPO_USAGE_ROUTE,\n    reqParams: {\n      customer_id: filters.customer.id,\n      period: (filters.period?.type ?? UsagePeriod.DEFAULT).toString(),\n      // Set group to either org or repo to ensure we query the byOrgAndRepo partition. https://github.com/github/billing-platform/blob/main/lib/api/api.go#L122\n      group: (filters.group?.type ?? GROUP_BY_ORG_TYPE).toString(),\n    },\n    onStart: () => {\n      setUsage([])\n      setOtherUsage([])\n      setRequestState(RequestState.LOADING)\n    },\n    onSuccess: response => {\n      setUsage(response.data.usage)\n      setOtherUsage(response.data.other ?? [])\n      setRequestState(RequestState.IDLE)\n    },\n    onError: () => {\n      setRequestState(RequestState.ERROR)\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: ERRORS.QUERY_USAGE_ERROR,\n      })\n    },\n  })\n\n  return {usage, otherUsage, requestState}\n}\n\nexport default useRepoUsageCard\n","import last from 'lodash-es/last'\nimport range from 'lodash-es/range'\nimport React from 'react'\n\nimport type {Products} from '../../constants'\nimport {DEFAULT_GROUP_TYPE, HighWatermarkProducts} from '../../constants'\nimport {UsageGrouping, UsagePeriod} from '../../enums'\nimport {groupLineItems, sortByUsageAtDesc} from '../../utils/group'\nimport {formatMoneyDisplay} from '../../utils/money'\nimport {isProductUsageLineItem, isRepoUsageLineItem} from '../../utils/types'\n\nimport type {\n  Filters,\n  PeriodSelection,\n  ProductUsageLineItem,\n  RepoUsageLineItem,\n  OtherUsageLineItem,\n  UsageLineItem,\n} from '../../types/usage'\n\nconst colors = [\n  'var(--data-green-color-emphasis, var(--data-green-color))',\n  'var(--data-blue-color-emphasis, var(--data-blue-color))',\n  'var(--data-orange-color-emphasis, var(--data-orange-color))',\n  'var(--data-pink-color-emphasis, var(--data-pink-color))',\n  'var(--data-yellow-color-emphasis, var(--data-yellow-color))',\n  'var(--data-red-color-emphasis, var(--data-red-color))',\n  'var(--data-purple-color-emphasis, var(--data-purple-color))',\n  'var(--data-auburn-color-emphasis, var(--data-auburn-color))',\n  'var(--data-teal-color-emphasis, var(--data-teal-color))',\n]\n\n/*\n  This is the clientside representation of usage by timestamp, where the timestamp has been\n  multiplied by 1000 to be represented by a javascript Date object correctly.\n  Custom values for each point are used to display additional information in the tooltip.\n  https://arc.net/l/quote/axqswddy\n\n  [\n    x: timestamp\n    y: value (additions or deletions)\n    custom: {\n      discountAmount?: Amount of a discount, if applicable\n      grossAmount: Amount of the usage in dollars\n      totalAmount?: Amount of the usage after discount, if applicable\n      formattedDiscountAmount: Discount amount string that will appear on the tooltip\n      formattedGrossAmount: Gross amount string that will appear on the tooltip\n      formattedTotalAmount: Total amount string that will appear on the tooltip\n    }\n  ]\n*/\ntype ChartPoint = {\n  x: number\n  y: number\n  custom: {\n    discountAmount?: number | 'N/A'\n    grossAmount: number\n    totalAmount?: number | 'N/A'\n    formattedDiscountAmount: string\n    formattedGrossAmount: string\n    formattedTotalAmount: string\n  }\n}\n\ninterface ChartDataset {\n  data: ChartPoint[]\n  name: string\n  type: string\n  lineWidth: number\n  color?: string\n  product?: Products\n}\n\ninterface UsageChartData {\n  datasets: ChartDataset[]\n  startDate: number\n}\n\nfunction convertToChartCardPoint(\n  lineItem: UsageLineItem,\n  groupType: UsageGrouping,\n  period: PeriodSelection | undefined,\n): ChartPoint {\n  if (groupType === UsageGrouping.ORG || groupType === UsageGrouping.REPO) {\n    return {\n      x: formatDate(lineItem.usageAt, period),\n      y: formatMoneyAmount(lineItem.billedAmount),\n      custom: {\n        grossAmount: lineItem.billedAmount,\n        formattedDiscountAmount: 'N/A',\n        formattedGrossAmount: formatGrossAmount(lineItem.billedAmount),\n        formattedTotalAmount: 'N/A',\n      },\n    }\n  } else {\n    return {\n      x: formatDate(lineItem.usageAt, period),\n      y: formatMoneyAmount(lineItem.billedAmount),\n      custom: {\n        discountAmount: lineItem.discountAmount ?? 'N/A',\n        grossAmount: lineItem.billedAmount,\n        totalAmount: lineItem.totalAmount ?? 'N/A',\n        formattedDiscountAmount: formatDiscountAmount(lineItem.discountAmount ?? 'N/A'),\n        formattedGrossAmount: formatGrossAmount(lineItem.billedAmount),\n        formattedTotalAmount: formatTotalAmount(lineItem.totalAmount ?? 'N/A'),\n      },\n    }\n  }\n}\n\ntype ProductGroupKey = 'product' | 'friendlySkuName'\ntype RepoGroupKey = 'org' | 'repo'\ntype GroupKey = ProductGroupKey | RepoGroupKey\n\nconst isValidProductGrouping = (key: string, obj: ProductUsageLineItem): key is ProductGroupKey => {\n  return key in obj\n}\nconst isValidRepoGrouping = (key: string, obj: RepoUsageLineItem): key is RepoGroupKey => {\n  return key in obj\n}\n\nfunction getChartDatasets(\n  lineItems: UsageLineItem[],\n  groupType: UsageGrouping,\n  groupBy: GroupKey,\n  period: PeriodSelection | undefined,\n): ChartDataset[] {\n  const datasetMap = lineItems.reduce<Record<string, ChartDataset>>((acc, lineItem) => {\n    const point = convertToChartCardPoint(lineItem, groupType, period)\n\n    let groupKey = ''\n    if (isProductUsageLineItem(lineItem) && isValidProductGrouping(groupBy, lineItem)) {\n      groupKey = lineItem[groupBy]\n    } else if (isRepoUsageLineItem(lineItem) && isValidRepoGrouping(groupBy, lineItem)) {\n      groupKey = groupBy === 'repo' ? `${lineItem.org.name}/${lineItem[groupBy].name}` : lineItem[groupBy].name\n    }\n\n    if (!acc[groupKey]) {\n      const color = colors[Object.keys(acc).length % colors.length]\n\n      acc[groupKey] = {\n        color,\n        data: [],\n        name: `${groupKey}`,\n        type: 'areaspline',\n        lineWidth: 2,\n        product: isProductUsageLineItem(lineItem) ? (lineItem.product as Products) : undefined,\n      }\n    }\n    acc[groupKey]?.data.push(point)\n\n    return acc\n  }, {})\n\n  return Object.values(datasetMap)\n}\n\nfunction buildOtherUsageDataset(otherUsage: OtherUsageLineItem[], period: PeriodSelection | undefined): ChartDataset {\n  const otherDataPoints: ChartPoint[] = otherUsage.map(otherUsageLineItem => {\n    return {\n      x: formatDate(otherUsageLineItem.usageAt, period),\n      y: formatMoneyAmount(otherUsageLineItem.billedAmount),\n      custom: {\n        grossAmount: otherUsageLineItem.billedAmount,\n        formattedDiscountAmount: 'N/A',\n        formattedGrossAmount: formatGrossAmount(otherUsageLineItem.billedAmount),\n        formattedTotalAmount: 'N/A',\n      },\n    }\n  })\n\n  return {\n    color: 'var(--data-gray-color-emphasis, var(--data-gray-color))',\n    data: otherDataPoints,\n    name: `All other`,\n    type: 'areaspline',\n    lineWidth: 2,\n  }\n}\n\nfunction getSummedDataset(\n  lineItems: UsageLineItem[],\n  groupType: UsageGrouping,\n  period: PeriodSelection | undefined,\n): ChartDataset[] {\n  const allUsages = lineItems.map(lineItem => {\n    return convertToChartCardPoint(lineItem, groupType, period)\n  })\n\n  const color = 'var(--data-green-color-emphasis, var(--data-green-color))'\n\n  return [\n    {\n      color,\n      data: allUsages,\n      name: 'Usage',\n      type: 'areaspline',\n      lineWidth: 2,\n    },\n  ]\n}\n\nfunction getChartData(\n  lineItems: UsageLineItem[],\n  filters: Filters,\n  otherUsage: OtherUsageLineItem[] = [],\n): UsageChartData {\n  const chartData: UsageChartData = {datasets: [], startDate: lineItems[0] ? Number(lineItems[0].usageAt) : 0}\n\n  switch (filters.group?.type) {\n    case UsageGrouping.ORG: {\n      chartData.datasets = getChartDatasets(lineItems, filters.group?.type, 'org', filters.period)\n      break\n    }\n    case UsageGrouping.REPO: {\n      chartData.datasets = getChartDatasets(lineItems, filters.group?.type, 'repo', filters.period)\n      break\n    }\n    case UsageGrouping.SKU: {\n      chartData.datasets = getChartDatasets(lineItems, filters.group?.type, 'friendlySkuName', filters.period)\n      break\n    }\n    case UsageGrouping.PRODUCT: {\n      chartData.datasets = getChartDatasets(lineItems, filters.group?.type, 'product', filters.period)\n      break\n    }\n    default: {\n      // fallback to group all usage if no group type is provided\n      chartData.datasets = getSummedDataset(lineItems, UsageGrouping.NONE, filters.period)\n      break\n    }\n  }\n\n  // Draw a line to represent all other usage if other usage line items exist\n  if (otherUsage.length > 0) {\n    chartData.datasets.push(buildOtherUsageDataset(otherUsage, filters.period))\n  }\n\n  const now = new Date()\n\n  // Beginning value of the period\n  let startValue: number\n  // End value of the period\n  let endValue: number\n  // Function to assign the appropriate time value to a date object based on period\n  let assignTime: (date: Date, desiredValue: number) => void\n  // Function to get the appropriate time value from a date object\n  let getTimeFromPeriod: (date: Date) => number\n  // Shift the timestamp\n  switch (filters.period?.type) {\n    case UsagePeriod.THIS_HOUR:\n      // from the first minute of the hour to the current minute\n      startValue = 0\n      endValue = now.getMinutes()\n      assignTime = (date: Date, desiredMinute: number) => date.setMinutes(desiredMinute)\n      getTimeFromPeriod = (date: Date) => date.getMinutes()\n      break\n    case UsagePeriod.TODAY:\n      // from midnight to the current hour\n      startValue = 0\n      endValue = now.getUTCHours()\n      assignTime = (date: Date, desiredHour: number) => {\n        date.setUTCHours(desiredHour)\n      }\n      getTimeFromPeriod = (date: Date) => date.getUTCHours()\n      break\n    case UsagePeriod.THIS_YEAR: {\n      // from January to the current month\n      startValue = 0\n      endValue = now.getUTCMonth()\n      assignTime = (date: Date, desiredMonth: number) => date.setUTCMonth(desiredMonth)\n      getTimeFromPeriod = (date: Date) => date.getUTCMonth()\n      break\n    }\n    case UsagePeriod.LAST_YEAR: {\n      // from January to December of the previous year\n      startValue = 0\n      endValue = 11\n      assignTime = (date: Date, desiredMonth: number) => {\n        date.setUTCFullYear(date.getUTCFullYear() - 1)\n        date.setUTCMonth(desiredMonth)\n      }\n      getTimeFromPeriod = (date: Date) => date.getUTCMonth()\n      break\n    }\n    case UsagePeriod.LAST_MONTH:\n      // from the first to the last day of the previous month\n      now.setUTCDate(0)\n      startValue = 1\n      endValue = now.getUTCDate()\n      assignTime = (date: Date, desiredDate: number) => {\n        date.setUTCMonth(date.getUTCMonth() - 1)\n        date.setUTCDate(desiredDate)\n      }\n      getTimeFromPeriod = (date: Date) => date.getUTCDate()\n      break\n    case UsagePeriod.THIS_MONTH:\n    default:\n      // from the first day of the month to the current day\n      startValue = 1\n      endValue = now.getUTCDate()\n      assignTime = (date: Date, desiredDate: number) => date.setUTCDate(desiredDate)\n      getTimeFromPeriod = (date: Date) => date.getUTCDate()\n      break\n  }\n\n  // Transform the datasets\n  for (const dataset of chartData.datasets) {\n    const useHighWatermark = dataset.product && Object.keys(HighWatermarkProducts).includes(dataset.product)\n    const newUsageData = []\n\n    if (dataset.data.length > 0) {\n      let datasetIndex = 0\n      // Iterate over the range the chart should be showing to build the full dataset\n      for (const i of range(startValue, endValue + 1)) {\n        const dataPoint = dataset.data[datasetIndex]\n        const previousDataPoint = dataset.data[datasetIndex - 1]\n\n        if (dataPoint) {\n          const originalTimestamp = new Date(dataPoint.x)\n          const newTimestamp = new Date()\n          const usageTime = getTimeFromPeriod(originalTimestamp)\n\n          if (i < usageTime) {\n            // Fill in data either before the first data point or between data points\n            assignTime(newTimestamp, i)\n            newUsageData.push({\n              x: formatDate(newTimestamp, filters.period),\n              y: previousDataPoint ? formatMoneyAmount(previousDataPoint.y) : 0,\n              custom: {\n                grossAmount: 0,\n                discountAmount: 0,\n                totalAmount: 0,\n                formattedDiscountAmount: 'N/A',\n                formattedGrossAmount: 'N/A',\n                formattedTotalAmount: 'N/A',\n              },\n            })\n          } else if (i === usageTime) {\n            if (useHighWatermark && previousDataPoint && dataPoint.y < previousDataPoint.y) {\n              // Transform usage data point to reflect high watermarks\n              dataPoint.y = formatMoneyAmount(previousDataPoint.y)\n              dataPoint.custom.discountAmount = previousDataPoint.custom.discountAmount\n              dataPoint.custom.totalAmount = previousDataPoint.custom.totalAmount\n            } else if (previousDataPoint) {\n              // Transform usage data point to reflect cumulative usage\n              const addedMoneyAmount = formatMoneyAmount(dataPoint.y + previousDataPoint.y)\n              dataPoint.y = addedMoneyAmount\n            }\n\n            assignTime(newTimestamp, i)\n            dataPoint.x = formatDate(newTimestamp, filters.period)\n\n            newUsageData.push(dataPoint)\n            if (datasetIndex < dataset.data.length - 1) datasetIndex++\n          } else {\n            // Fill in data for the rest of the period after the last usage data point\n            assignTime(newTimestamp, i)\n            newUsageData.push({\n              x: formatDate(newTimestamp, filters.period),\n              y: formatMoneyAmount(dataPoint.y),\n              custom: {\n                grossAmount: 0,\n                discountAmount: 0,\n                totalAmount: 0,\n                formattedDiscountAmount: 'N/A',\n                formattedGrossAmount: 'N/A',\n                formattedTotalAmount: 'N/A',\n              },\n            })\n          }\n        }\n      }\n\n      dataset.data = newUsageData\n    }\n  }\n\n  // Sort the data to give render priority to lines in order from lowest to highest endpoints\n  chartData.datasets.sort((a, b) => {\n    return (last(a.data) as ChartPoint) >= (last(b.data) as ChartPoint) ? -1 : 1\n  })\n\n  return chartData\n}\n\nfunction formatMoneyAmount(amount: number | undefined) {\n  // Format the number amount as a dollar amount with two decimal places\n  return amount ? +amount.toFixed(2) : 0\n}\n\nfunction formatDate(date: string | Date, period: PeriodSelection | undefined) {\n  // Set everything to the beginning of the time unit (month, day, hour, etc.)\n  // This allows the chart to line up correctly with the x-axis\n  switch (period?.type) {\n    case UsagePeriod.THIS_HOUR:\n      return new Date(date).setUTCSeconds(0, 0)\n    case UsagePeriod.TODAY:\n      return new Date(date).setUTCMinutes(0, 0, 0)\n    case UsagePeriod.THIS_MONTH:\n    case UsagePeriod.LAST_MONTH:\n      return new Date(date).setUTCHours(0, 0, 0, 0)\n    case UsagePeriod.THIS_YEAR:\n    case UsagePeriod.LAST_YEAR:\n      return new Date(new Date(date).setUTCDate(1)).setUTCHours(0, 0, 0, 0)\n    default:\n      return new Date(date).getTime()\n  }\n}\n\nfunction formatGrossAmount(grossAmount: number) {\n  return `${formatMoneyDisplay(grossAmount)}`\n}\n\nfunction formatTotalAmount(totalAmount: number | 'N/A') {\n  return `${typeof totalAmount === 'number' ? formatMoneyDisplay(totalAmount) : 'N/A'}`\n}\n\nfunction formatDiscountAmount(discountAmount: number | 'N/A') {\n  return `${typeof discountAmount === 'number' ? formatMoneyDisplay(discountAmount) : 'N/A'}`\n}\n\ninterface Props {\n  usage: UsageLineItem[]\n  otherUsage?: OtherUsageLineItem[]\n  filters: Filters\n}\n\nfunction useUsageChartDetails({usage, otherUsage, filters}: Props) {\n  return React.useMemo(\n    () => {\n      const period = filters.period?.type ?? UsagePeriod.DEFAULT\n\n      const groupedData = groupLineItems(usage, filters.group?.type ?? DEFAULT_GROUP_TYPE, period)\n      const sortedData = groupedData.sort(sortByUsageAtDesc)\n      const chartData = getChartData(sortedData, filters, otherUsage)\n\n      return {data: chartData}\n    },\n    /*\n    Adding filters or its properties as dependencies for this hook can cause errors in the usage chart.\n    See https://github.com/github/gitcoin/issues/13256. Updating any filter will trigger the data to update.\n    If we try to recalculate the chart details before the data is updated and defined, we will get an error.\n    */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [usage],\n  )\n}\n\nexport default useUsageChartDetails\n","import {useState} from 'react'\n// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\n\nimport useRequest from '../use-request'\nimport {REPO_USAGE_ROUTE, NET_USAGE_ROUTE} from '../../routes'\n\nimport {DEFAULT_GROUP_TYPE, ERRORS, GROUP_BY_NONE_TYPE, GROUP_BY_SKU_TYPE} from '../../constants'\nimport {RequestState, UsageGrouping, UsagePeriod} from '../../enums'\n\nimport type {\n  NetUsageLineItem,\n  UsageLineItem,\n  ProductUsageLineItem,\n  Filters,\n  OtherUsageLineItem,\n} from '../../types/usage'\n\ntype UseNetUsageDataParams = {\n  filters: Filters\n}\n\nfunction useNetUsageData({filters}: UseNetUsageDataParams) {\n  const [netUsageLineItems, setNetUsageLineItems] = useState<NetUsageLineItem[]>([])\n  const [otherUsage, setOtherUsage] = useState<OtherUsageLineItem[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n  const {addToast} = useToastContext()\n\n  const getGroupType = () => {\n    // TODO: Make filters required\n    // If we can't find the currently selected group, we fall back to default.\n    const groupSelection = filters.group?.type ?? DEFAULT_GROUP_TYPE\n    const isCurrentHourSelected = filters.period?.type === UsagePeriod.THIS_HOUR\n    const isOrgorRepoQuery = filters.searchQuery.startsWith('org:') || filters.searchQuery.startsWith('repo:')\n    // In this case, we need to request the data by SKU for the expandable usage table.\n    if (isOrgorRepoQuery && groupSelection === GROUP_BY_NONE_TYPE && !isCurrentHourSelected) {\n      return GROUP_BY_SKU_TYPE\n    } else return groupSelection\n  }\n\n  useRequest({\n    route: [UsageGrouping.ORG, UsageGrouping.REPO].includes(getGroupType()) ? REPO_USAGE_ROUTE : NET_USAGE_ROUTE,\n    reqParams: {\n      customer_id: filters.customer.id,\n      group: getGroupType().toString(),\n      period: (filters.period?.type ?? UsagePeriod.DEFAULT).toString(),\n      product: filters.product?.toString() ?? '',\n      query: filters.searchQuery,\n    },\n    onStart: () => {\n      setNetUsageLineItems([])\n      setOtherUsage([])\n      setRequestState(RequestState.LOADING)\n    },\n    onSuccess: response => {\n      setNetUsageLineItems(response.data.usage)\n      setOtherUsage(response.data.other ?? [])\n      setRequestState(RequestState.IDLE)\n    },\n    onError: () => {\n      setRequestState(RequestState.ERROR)\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: ERRORS.QUERY_USAGE_ERROR,\n      })\n    },\n  })\n  const netUsage: UsageLineItem[] = []\n\n  // this exists to handle the situation where we have hit the REPO_USAGE_ROUTE and need to just return the raw repo usage\n  // we could probably stand to do some refactoring here as the shape of the object returned by REPO_USAGE_ROUTE is\n  //    very different than that returned by NET_USAGE_ROUTE / USAGE_ROUTE\n  if ([UsageGrouping.ORG, UsageGrouping.REPO].includes(getGroupType())) {\n    for (const netUsageLineItem of netUsageLineItems) {\n      netUsage.push(netUsageLineItem)\n    }\n  } else {\n    for (const netUsageLineItem of netUsageLineItems) {\n      const usageLineItem: ProductUsageLineItem = {\n        appliedCostPerQuantity: netUsageLineItem.appliedCostPerQuantity,\n        billedAmount: netUsageLineItem.grossAmount,\n        discountAmount: netUsageLineItem.discountAmount,\n        quantity: netUsageLineItem.quantity,\n        fullQuantity: netUsageLineItem.fullQuantity,\n        usageAt: netUsageLineItem.usageAt,\n        totalAmount: netUsageLineItem.netAmount,\n        sku: netUsageLineItem.sku,\n        friendlySkuName: netUsageLineItem.friendlySkuName,\n        product: netUsageLineItem.product,\n        unitType: netUsageLineItem.unitType,\n      }\n      netUsage.push(usageLineItem)\n    }\n  }\n\n  return {netUsage, otherUsage, requestState}\n}\n\nexport default useNetUsageData\n","import {useState} from 'react'\nimport useRequest from '../use-request'\nimport {USAGE_TABLE_DATA_ROUTE} from '../../routes'\n\nimport {DEFAULT_GROUP_TYPE, GROUP_BY_NONE_TYPE, GROUP_BY_SKU_TYPE} from '../../constants'\nimport {RequestState, UsagePeriod, UsageGrouping} from '../../enums'\n\nimport type {Filters, NetUsageLineItem, ProductUsageLineItem} from '../../types/usage'\n\ntype UseUsageChartDataParams = {\n  filters: Filters\n  useUsageTableDataEndpoint?: boolean\n}\n\nfunction useUsageTableData({filters, useUsageTableDataEndpoint}: UseUsageChartDataParams) {\n  const [usageTableData, setUsageTableData] = useState<NetUsageLineItem[]>([])\n  const [requestState, setRequestState] = useState<RequestState>(RequestState.INIT)\n\n  const getGroupType = () => {\n    // If we can't find the currently selected group, we fall back to default.\n    const groupSelection = filters.group?.type ?? DEFAULT_GROUP_TYPE\n    const isCurrentHourSelected = filters.period?.type === UsagePeriod.THIS_HOUR\n    const isOrgorRepoQuery = filters.searchQuery.startsWith('org:') || filters.searchQuery.startsWith('repo:')\n    // In this case, we need to request the data by SKU for the expandable usage table.\n    if (isOrgorRepoQuery && groupSelection === GROUP_BY_NONE_TYPE && !isCurrentHourSelected) {\n      return GROUP_BY_SKU_TYPE\n    } else return groupSelection\n  }\n\n  useRequest({\n    route: USAGE_TABLE_DATA_ROUTE,\n    reqParams: {\n      customer_id: filters.customer.id,\n      group: getGroupType().toString(),\n      period: (filters.period?.type ?? UsagePeriod.DEFAULT).toString(),\n      product: filters.product?.toString() ?? '',\n      query: filters.searchQuery,\n    },\n    noop: !useUsageTableDataEndpoint,\n    onStart: () => {\n      setUsageTableData([])\n      setRequestState(RequestState.LOADING)\n    },\n    onSuccess: response => {\n      if ([UsageGrouping.ORG, UsageGrouping.REPO].includes(getGroupType())) {\n        setUsageTableData(response.data.usage)\n      } else {\n        setUsageTableData(\n          response.data.usage.map(\n            (netUsageLineItem: NetUsageLineItem) =>\n              ({\n                appliedCostPerQuantity: netUsageLineItem.appliedCostPerQuantity,\n                billedAmount: netUsageLineItem.grossAmount,\n                discountAmount: netUsageLineItem.discountAmount,\n                quantity: netUsageLineItem.quantity,\n                fullQuantity: netUsageLineItem.fullQuantity,\n                usageAt: netUsageLineItem.usageAt,\n                totalAmount: netUsageLineItem.netAmount,\n                sku: netUsageLineItem.sku,\n                friendlySkuName: netUsageLineItem.friendlySkuName,\n                product: netUsageLineItem.product,\n                unitType: netUsageLineItem.unitType,\n              }) as ProductUsageLineItem,\n          ),\n        )\n      }\n\n      setRequestState(RequestState.IDLE)\n    },\n    onError: () => {\n      setRequestState(RequestState.ERROR)\n    },\n  })\n\n  return {usageTableData, requestState}\n}\n\nexport default useUsageTableData\n","import {useEffect} from 'react'\nimport type {JSONRequestInit} from '@github-ui/verified-fetch'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport useRoute from './use-route'\n\nexport enum HTTPMethod {\n  DELETE = 'DELETE',\n  GET = 'GET',\n  PATCH = 'PATCH',\n  POST = 'POST',\n  PUT = 'PUT',\n}\n\nexport type UseRequestResponse = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  data: any\n  ok: boolean\n  statusCode: number\n}\n\nexport async function doRequest<IBody>(method: HTTPMethod, path: string, body?: IBody): Promise<UseRequestResponse> {\n  let opts: JSONRequestInit = {method}\n  if (body) opts = {...opts, body}\n\n  const response = await verifiedFetchJSON(path, opts)\n  const data = await response.json()\n  return {data, ok: response.ok, statusCode: response.status}\n}\n\ninterface UseRequestProps<Path extends string, FullPath extends string> {\n  route: Route<Path, FullPath>\n  // Additional URL params to use when generating the path\n  args?: {[K in keyof ExtractRouteParams<FullPath>]: string | number}\n  // Additional query params to append to the generated path\n  reqParams?: Record<string, string>\n  noop?: boolean\n  // Optional JSON body for POST and PUT requests\n  // Optional callback run before making a request\n  onStart?: () => void\n  // Optional callback run after making the request and receiving an ok status code\n  onSuccess?: (response: UseRequestResponse) => void\n  // Optional callback run after making the request and receiving an error status code OR an exception is thrown\n  onError?: (response: UseRequestResponse | string) => void\n}\n\n// This hook allows you to make JSON requests to Billing vNext routes and handle responses via the provided callbacks.\n// The hook wraps a useEffect, so a request will be fired any time the dependency array changes.\nexport default function useRequest({\n  route,\n  reqParams,\n  noop = false,\n  onStart = () => {},\n  onSuccess = () => {},\n  onError = () => {},\n}: UseRequestProps<string, string>) {\n  const {path} = useRoute(route, {}, reqParams)\n\n  if (path === undefined) onError('Invalid route')\n\n  useEffect(() => {\n    if (noop)\n      return () => {\n        // no-op\n      }\n    const getData = async () => {\n      const response = await doRequest(HTTPMethod.GET, path)\n      if (response.ok) {\n        onSuccess(response)\n      } else {\n        onError(response)\n      }\n    }\n    onStart()\n    getData()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [path])\n}\n","import {useEffect, useState} from 'react'\nimport {useParams} from 'react-router-dom'\nimport {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {findRouteBestMatchByPath, matchBaseRouteByPath} from '../routes'\n\nexport default function useRoute<Path extends string, FullPath extends string>(\n  // The base route to match against\n  route: Route<Path, FullPath>,\n  // Additional URL params to use when generating the path\n  args?: {[K in keyof ExtractRouteParams<FullPath>]: number | string},\n  // Additional query params to append to the generated path\n  reqParams?: Record<string, string>,\n) {\n  const pathname = ssrSafeLocation.pathname\n  const params = useParams()\n  const getPath = (): string => {\n    let newPath =\n      matchBaseRouteByPath(pathname)\n        ?.childRoute(route.fullPath)\n        .generateFullPath({...params, ...args}) ?? ''\n\n    const matchingRoute = findRouteBestMatchByPath(newPath)\n\n    // If we don't find a matching registered route, use the original provided\n    if (!matchingRoute) newPath = route.fullPath\n\n    if (reqParams) {\n      const queryParamString = new URLSearchParams(reqParams).toString()\n      newPath = `${newPath}?${queryParamString}`\n    }\n\n    return newPath\n  }\n\n  const [path, setPath] = useState<string>(getPath())\n\n  useEffect(() => {\n    setPath(getPath())\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname, route, params, args, reqParams])\n\n  return {path}\n}\n","import {useEffect} from 'react'\nimport {generatePath, matchPath} from 'react-router-dom'\n\nconst ORIGIN_404 = () => `${window.location.origin}/404`\n/**\n * When we don't have a routing match in the application, redirect\n * to the external GitHub 404 page\n */\nexport function Origin404Redirect() {\n  useEffect(() => {\n    window.location.href = ORIGIN_404()\n  }, [])\n  return null\n}\n\n/**\n * Returns an initial route based on a path\n * as well as methods for matching and generating paths\n * as well as generating sub routes.\n */\nexport function createBaseRoute<BasePath extends string>(basePath: BasePath) {\n  /**\n   * Given a path (e.g. `/foo/:bar/baz`), returns an object\n   * with that property as a path, as well as a typed\n   * method to generate paths from that path\n   * and its parameter parts (interpolated), as well\n   * as a helper for matching that path to a given pathname/location string\n   */\n  function makeRoute<Path extends string, FullPath extends string>(path: Path): Route<Path, FullPath> {\n    const fullPath = `${basePath}${path}` as FullPath\n    const pathWithChildPaths = `${path}/*`\n    const fullPathWithChildPaths = `${fullPath}/*`\n    return {\n      /**\n       * The path\n       */\n      path,\n\n      /**\n       * The given path with a trailing wildcard route,\n       * to match children\n       */\n      pathWithChildPaths,\n\n      /**\n       * The full path of the route, inclusive of the\n       * base path as well as all parent segments\n       */\n      fullPath,\n\n      /**\n       * The full path, with a trailing wildcard\n       * for matching\n       */\n      fullPathWithChildPaths,\n\n      /**\n       * A function that generates a path from the path and its params\n       */\n      generatePath: args => {\n        // @ts-expect-error `generatePath` accepts numbers as values, but the types aren't friendly\n        return generatePath(path, args)\n      },\n\n      /**\n       * Generate a path _with_ the base name\n       *\n       * In generally, we only need this for links\n       * in the dev environment, and potentially\n       * for links to _other_ projects.\n       *\n       * React router Links don't need a full path, because\n       * we scoped all of the links to be based on the\n       * basepath\n       */\n      generateFullPath: args => {\n        // @ts-expect-error `generatePath` accepts numbers as values, but the types aren't friendly\n        return generatePath(fullPath, args)\n      },\n\n      /**\n       * A function that matches a pathname to the given path\n       */\n      matchPath: pathToMatch => {\n        return matchPath(path, pathToMatch)\n      },\n\n      /**\n       * Matches a full pathname, inclusive of\n       * the base path\n       */\n      matchFullPath: pathToMatch => {\n        return matchPath(fullPath, pathToMatch)\n      },\n\n      /**\n       * Matches this route, but also any children of it\n       */\n      matchPathOrChildPaths: pathToMatch => {\n        return matchPath(pathWithChildPaths, pathToMatch)\n      },\n\n      /**\n       * Matches a full pathname, inclusive of\n       * the base path, and any children of it\n       */\n      matchFullPathOrChildPaths: pathToMatch => {\n        return matchPath(fullPathWithChildPaths, pathToMatch)\n      },\n\n      /**\n       * Generate a child route, given additional\n       * path segments, that inherit the path segments\n       * from their parents\n       */\n      childRoute: childPath => {\n        const childBasePath = `${path}${childPath}`\n        return makeRoute(childBasePath)\n      },\n    } as const\n  }\n  return {baseRoute: makeRoute('')}\n}\n","import {createBaseRoute} from './routes/utils'\n\n/**\n * Billing Base Routes\n * These should not be used as standalone routes. They are extended by the enterprise, org, and user routes.\n */\nexport const {baseRoute: BASE_ROUTE} = createBaseRoute('')\n\nexport const BILLING_BASE_ROUTE = BASE_ROUTE.childRoute('/billing')\nexport const PEOPLE_BASE_ROUTE = BASE_ROUTE.childRoute('/people')\nexport const SETTINGS_BASE_ROUTE = BASE_ROUTE.childRoute('/settings')\nexport const ENTERPRISE_LICENSING_BASE_ROUTE = BASE_ROUTE.childRoute('/enterprise_licensing')\n\n// Usage\nexport const OVERVIEW_ROUTE = BILLING_BASE_ROUTE\nexport const USAGE_ROUTE = BILLING_BASE_ROUTE.childRoute('/usage')\nexport const NET_USAGE_ROUTE = BILLING_BASE_ROUTE.childRoute('/net_usage')\nexport const REPO_USAGE_ROUTE = USAGE_ROUTE.childRoute('/repo')\nexport const TOTAL_USAGE_ROUTE = USAGE_ROUTE.childRoute('/total')\nexport const USAGE_CHART_DATA_ROUTE = BILLING_BASE_ROUTE.childRoute('/usage_chart')\nexport const USAGE_TABLE_DATA_ROUTE = BILLING_BASE_ROUTE.childRoute('/usage_table')\n\n// Budgets\nexport const BUDGETS_ROUTE = BILLING_BASE_ROUTE.childRoute('/budgets')\nexport const NEW_BUDGET_ROUTE = BUDGETS_ROUTE.childRoute('/new')\nexport const EDIT_BUDGET_ROUTE = BUDGETS_ROUTE.childRoute('/:budgetUUID/edit')\nexport const UPSERT_BUDGET_ROUTE = BUDGETS_ROUTE.childRoute('/:budgetUUID')\n\n// Cost Centers\nexport const COST_CENTERS_ROUTE = BILLING_BASE_ROUTE.childRoute('/cost_centers')\nexport const VIEW_COST_CENTER_ROUTE = COST_CENTERS_ROUTE.childRoute('/:costCenterUUID')\nexport const NEW_COST_CENTER_ROUTE = COST_CENTERS_ROUTE.childRoute('/new')\nexport const CREATE_COST_CENTER_ROUTE = COST_CENTERS_ROUTE\nexport const EDIT_COST_CENTER_ROUTE = COST_CENTERS_ROUTE.childRoute('/:costCenterUUID/edit')\nexport const UPSERT_COST_CENTER_ROUTE = VIEW_COST_CENTER_ROUTE\nexport const DELETE_COST_CENTER_ROUTE = VIEW_COST_CENTER_ROUTE\n\n// Discounts\nexport const DISCOUNTS_ROUTE = BILLING_BASE_ROUTE.childRoute('/discounts')\n\n// Invoices\nexport const INVOICES_ROUTE = BILLING_BASE_ROUTE.childRoute('/invoices')\n\n// Azure Emissions\nexport const AZURE_EMISSIONS_ROUTE = BILLING_BASE_ROUTE.childRoute('/azure_emissions')\n\n// Usage report routes\nexport const USAGE_REPORT_ROUTE = BILLING_BASE_ROUTE.childRoute('/usage_report')\n\n// Billing settings\nexport const BILLING_SETTINGS_ROUTE = SETTINGS_BASE_ROUTE.childRoute('/billing')\nexport const ONE_TIME_PAYMENT_ROUTE = BILLING_SETTINGS_ROUTE.childRoute('/one_time_payment')\n\n// Payment history\nexport const PAYMENT_HISTORY_ROUTE = BILLING_BASE_ROUTE.childRoute('/payment_history')\n\n// Past invoices\nexport const PAST_INVOICES_ROUTE = BILLING_BASE_ROUTE.childRoute('/past_invoices')\nexport const SHOW_INVOICE_ROUTE = BILLING_SETTINGS_ROUTE.childRoute('/invoices/:invoiceNumber')\nexport const PAY_INVOICE_ROUTE = BILLING_SETTINGS_ROUTE.childRoute('/invoices/:invoiceNumber/payment_method')\n\n/**\n * Enterprise Routes\n */\nexport const {baseRoute: ENTERPRISE_BASE_ROUTE} = createBaseRoute('/enterprises/:business')\n\n// Enterprise Usage\nexport const ENTERPRISE_OVERVIEW_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(BILLING_BASE_ROUTE.fullPath)\nexport const ENTERPRISE_USAGE_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(USAGE_ROUTE.fullPath)\nexport const ENTERPRISE_REPO_USAGE_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(REPO_USAGE_ROUTE.fullPath)\nexport const ENTERPRISE_TOTAL_USAGE_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(TOTAL_USAGE_ROUTE.fullPath)\n\n// Enterprise Budgets\nexport const ENTERPRISE_BUDGETS_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(BUDGETS_ROUTE.fullPath)\nexport const ENTERPRISE_NEW_BUDGET_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(NEW_BUDGET_ROUTE.fullPath)\nexport const ENTERPRISE_EDIT_BUDGET_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(EDIT_BUDGET_ROUTE.fullPath)\nexport const ENTERPRISE_UPSERT_BUDGET_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(UPSERT_BUDGET_ROUTE.fullPath)\n\n// Enterprise Cost Centers\nexport const ENTERPRISE_COST_CENTERS_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(COST_CENTERS_ROUTE.fullPath)\nexport const ENTERPRISE_VIEW_COST_CENTER_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(VIEW_COST_CENTER_ROUTE.fullPath)\nexport const ENTERPRISE_NEW_COST_CENTER_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(NEW_COST_CENTER_ROUTE.fullPath)\nexport const ENTERPRISE_CREATE_COST_CENTER_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(CREATE_COST_CENTER_ROUTE.fullPath)\nexport const ENTERPRISE_EDIT_COST_CENTER_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(EDIT_COST_CENTER_ROUTE.fullPath)\nexport const ENTERPRISE_UPSERT_COST_CENTER_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(UPSERT_COST_CENTER_ROUTE.fullPath)\nexport const ENTERPRISE_DELETE_COST_CENTER_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(DELETE_COST_CENTER_ROUTE.fullPath)\n\n// People\nexport const ENTERPRISE_PEOPLE_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(PEOPLE_BASE_ROUTE.fullPath)\n\n// Enterprise Usage Report\nexport const ENTERPRISE_USAGE_REPORT_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(USAGE_REPORT_ROUTE.fullPath)\n\n// One time payment routes for customers with auto pay disabled\nexport const ENTERPRISE_ONE_TIME_PAYMENT_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(ONE_TIME_PAYMENT_ROUTE.fullPath)\n\n// Enterprise Licenses\nexport const ENTERPRISE_LICENSING_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(ENTERPRISE_LICENSING_BASE_ROUTE.fullPath)\n\n// Enterprise payment history\nexport const ENTERPRISE_PAYMENT_HISTORY_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(PAYMENT_HISTORY_ROUTE.fullPath)\n\n// Enterprise show invoices route\nexport const ENTERPRISE_SHOW_INVOICE_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(SHOW_INVOICE_ROUTE.fullPath)\n\n// Enterprise pay invoice route\nexport const ENTERPRISE_PAY_INVOICE_ROUTE = ENTERPRISE_BASE_ROUTE.childRoute(PAY_INVOICE_ROUTE.fullPath)\n\n/**\n * Organization Routes\n */\nexport const {baseRoute: ORGANIZATION_BASE_ROUTE} = createBaseRoute('/organizations/:organization/settings')\n\n// Organization Usage\nexport const ORGANIZATION_OVERVIEW_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(BILLING_BASE_ROUTE.fullPath)\nexport const ORGANIZATION_USAGE_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(USAGE_ROUTE.fullPath)\nexport const ORGANIZATION_REPO_USAGE_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(REPO_USAGE_ROUTE.fullPath)\nexport const ORGANIZATION_TOTAL_USAGE_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(TOTAL_USAGE_ROUTE.fullPath)\n\n// Organization Budgets\nexport const ORGANIZATION_BUDGETS_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(BUDGETS_ROUTE.fullPath)\nexport const ORGANIZATION_NEW_BUDGET_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(NEW_BUDGET_ROUTE.fullPath)\nexport const ORGANIZATION_EDIT_BUDGET_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(EDIT_BUDGET_ROUTE.fullPath)\nexport const ORGANIZATION_UPSERT_BUDGET_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(UPSERT_BUDGET_ROUTE.fullPath)\n\n// Organization Cost Centers\nexport const ORGANIZATION_COST_CENTERS_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(COST_CENTERS_ROUTE.fullPath)\nexport const ORGANIZATION_VIEW_COST_CENTER_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(VIEW_COST_CENTER_ROUTE.fullPath)\nexport const ORGANIZATION_NEW_COST_CENTER_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(NEW_COST_CENTER_ROUTE.fullPath)\nexport const ORGANIZATION_CREATE_COST_CENTER_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(\n  CREATE_COST_CENTER_ROUTE.fullPath,\n)\nexport const ORGANIZATION_EDIT_COST_CENTER_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(EDIT_COST_CENTER_ROUTE.fullPath)\nexport const ORGANIZATION_UPSERT_COST_CENTER_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(\n  UPSERT_COST_CENTER_ROUTE.fullPath,\n)\nexport const ORGANIZATION_DELETE_COST_CENTER_ROUTE = ORGANIZATION_BASE_ROUTE.childRoute(\n  DELETE_COST_CENTER_ROUTE.fullPath,\n)\n\n/**\n * User Routes\n */\nexport const {baseRoute: USER_BASE_ROUTE} = createBaseRoute('/settings')\n\n// User Usage\nexport const USER_OVERVIEW_ROUTE = USER_BASE_ROUTE.childRoute(BILLING_BASE_ROUTE.fullPath)\nexport const USER_USAGE_ROUTE = USER_BASE_ROUTE.childRoute(USAGE_ROUTE.fullPath)\nexport const USER_REPO_USAGE_ROUTE = USER_BASE_ROUTE.childRoute(REPO_USAGE_ROUTE.fullPath)\nexport const USER_TOTAL_USAGE_ROUTE = USER_BASE_ROUTE.childRoute(TOTAL_USAGE_ROUTE.fullPath)\n\n// User Budgets\nexport const USER_BUDGETS_ROUTE = USER_BASE_ROUTE.childRoute(BUDGETS_ROUTE.fullPath)\nexport const USER_NEW_BUDGET_ROUTE = USER_BASE_ROUTE.childRoute(NEW_BUDGET_ROUTE.fullPath)\nexport const USER_EDIT_BUDGET_ROUTE = USER_BASE_ROUTE.childRoute(EDIT_BUDGET_ROUTE.fullPath)\nexport const USER_UPSERT_BUDGET_ROUTE = USER_BASE_ROUTE.childRoute(UPSERT_BUDGET_ROUTE.fullPath)\n\n// User Cost Centers\nexport const USER_COST_CENTERS_ROUTE = USER_BASE_ROUTE.childRoute(COST_CENTERS_ROUTE.fullPath)\nexport const USER_VIEW_COST_CENTER_ROUTE = USER_BASE_ROUTE.childRoute(VIEW_COST_CENTER_ROUTE.fullPath)\nexport const USER_NEW_COST_CENTER_ROUTE = USER_BASE_ROUTE.childRoute(NEW_COST_CENTER_ROUTE.fullPath)\nexport const USER_CREATE_COST_CENTER_ROUTE = USER_BASE_ROUTE.childRoute(CREATE_COST_CENTER_ROUTE.fullPath)\nexport const USER_EDIT_COST_CENTER_ROUTE = USER_BASE_ROUTE.childRoute(EDIT_COST_CENTER_ROUTE.fullPath)\nexport const USER_UPSERT_COST_CENTER_ROUTE = USER_BASE_ROUTE.childRoute(UPSERT_COST_CENTER_ROUTE.fullPath)\nexport const USER_DELETE_COST_CENTER_ROUTE = USER_BASE_ROUTE.childRoute(DELETE_COST_CENTER_ROUTE.fullPath)\n\n/**\n * Stafftools Enterprise Routes\n */\nexport const {baseRoute: STAFFTOOLS_ENTERPRISE_BASE_ROUTE} = createBaseRoute('/stafftools/enterprises/:business')\n\n// Stafftools\n\n// Stafftools overage\nexport const STAFFTOOLS_ENTERPRISE_OVERVIEW_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  BILLING_BASE_ROUTE.childRoute('/overview').fullPath,\n)\n\n// Stafftools Usage\nexport const STAFFTOOLS_ENTERPRISE_USAGE_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(USAGE_ROUTE.fullPath)\nexport const STAFFTOOLS_ENTERPRISE_REPO_USAGE_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  REPO_USAGE_ROUTE.fullPath,\n)\nexport const STAFFTOOLS_ENTERPRISE_NET_USAGE_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  NET_USAGE_ROUTE.fullPath,\n)\n\nexport const STAFFTOOLS_ENTERPRISE_USAGE_TABLE_DATA_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  USAGE_TABLE_DATA_ROUTE.fullPath,\n)\n\n// Stafftools Discounts\nexport const STAFFTOOLS_ENTERPRISE_DISCOUNTS_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  DISCOUNTS_ROUTE.fullPath,\n)\n\n// Stafftools Invoices\nexport const STAFFTOOLS_ENTERPRISE_INVOICES_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(INVOICES_ROUTE.fullPath)\n\n// Stafftools cost centers\nexport const STAFFTOOLS_ENTERPRISE_COST_CENTERS_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  COST_CENTERS_ROUTE.fullPath,\n)\nexport const STAFFTOOLS_ENTERPRISE_VIEW_COST_CENTER_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  VIEW_COST_CENTER_ROUTE.fullPath,\n)\n\n// Stafftools Budgets\nexport const STAFFTOOLS_ENTERPRISE_BUDGETS_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(BUDGETS_ROUTE.fullPath)\nexport const STAFFTOOLS_ENTERPRISE_EDIT_BUDGET_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  EDIT_BUDGET_ROUTE.fullPath,\n)\nexport const STAFFTOOLS_ENTERPRISE_UPSERT_BUDGET_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  UPSERT_BUDGET_ROUTE.fullPath,\n)\n\n// Stafftools Azure Emissions\nexport const STAFFTOOLS_ENTERPRISE_AZURE_EMISSIONS_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  AZURE_EMISSIONS_ROUTE.fullPath,\n)\n\n// Stafftools Usage Report\nexport const STAFFTOOLS_ENTERPRISE_USAGE_REPORT_ROUTE = STAFFTOOLS_ENTERPRISE_BASE_ROUTE.childRoute(\n  USAGE_REPORT_ROUTE.fullPath,\n)\n\n/**\n * Stafftools User Routes\n */\nexport const {baseRoute: STAFFTOOLS_USER_BASE_ROUTE} = createBaseRoute('/stafftools/users/:user')\n\n/**\n * Stafftools Generic Billing Routes\n */\nexport const {baseRoute: STAFFTOOLS_BILLING_BASE_ROUTE} = createBaseRoute('/stafftools/billing')\n\nexport const STAFFTOOLS_BILLING_JOBS_ROUTE = STAFFTOOLS_BILLING_BASE_ROUTE.childRoute('/billing_jobs')\nexport const STAFFTOOLS_BUSINESS_ORGANIZATION_BILLING_JOBS_ROUTE = STAFFTOOLS_BILLING_JOBS_ROUTE.childRoute(\n  '/business_organization_billing_job',\n)\n\n// Products\nexport const STAFFTOOLS_PRODUCTS_ROUTE = STAFFTOOLS_BILLING_BASE_ROUTE.childRoute('/products')\nexport const STAFFTOOLS_NEW_PRODUCT_ROUTE = STAFFTOOLS_PRODUCTS_ROUTE.childRoute('/new')\nexport const STAFFTOOLS_PRODUCT_SHOW_ROUTE = STAFFTOOLS_PRODUCTS_ROUTE.childRoute('/:product_id')\nexport const STAFFTOOLS_EDIT_PRODUCT_ROUTE = STAFFTOOLS_PRODUCT_SHOW_ROUTE.childRoute('/edit')\n\nexport const STAFFTOOLS_PRODUCT_PRICINGS_ROUTE = STAFFTOOLS_PRODUCT_SHOW_ROUTE.childRoute('/pricings')\nexport const STAFFTOOLS_PRODUCT_NEW_PRICING_ROUTE = STAFFTOOLS_PRODUCT_PRICINGS_ROUTE.childRoute('/new')\nexport const STAFFTOOLS_PRODUCT_PRICINGS_SHOW_ROUTE = STAFFTOOLS_PRODUCT_PRICINGS_ROUTE.childRoute('/:pricing_id')\nexport const STAFFTOOLS_PRODUCT_EDIT_PRICING_ROUTE = STAFFTOOLS_PRODUCT_PRICINGS_SHOW_ROUTE.childRoute('/edit')\n\n// Pricings\nexport const STAFFTOOLS_PRICINGS_ROUTE = STAFFTOOLS_BILLING_BASE_ROUTE.childRoute('/pricings')\n\n/**\n * Base Route Map\n * When creating a new base route, make sure to add it to the map of routes below\n */\nexport const BASE_ROUTES = {\n  ENTERPRISE_BASE_ROUTE,\n  ORGANIZATION_BASE_ROUTE,\n  USER_BASE_ROUTE,\n  STAFFTOOLS_ENTERPRISE_BASE_ROUTE,\n  STAFFTOOLS_USER_BASE_ROUTE,\n} as const\n\n/**\n * Route Map\n * When creating a new route, make sure to add it to the map of routes below\n */\nexport const ROUTES_MAP = {\n  /**\n   * Enterprise Routes\n   */\n  // Usage\n  ENTERPRISE_OVERVIEW_ROUTE,\n  ENTERPRISE_USAGE_ROUTE,\n  ENTERPRISE_REPO_USAGE_ROUTE,\n  ENTERPRISE_TOTAL_USAGE_ROUTE,\n  // Budgets\n  ENTERPRISE_BUDGETS_ROUTE,\n  ENTERPRISE_NEW_BUDGET_ROUTE,\n  ENTERPRISE_EDIT_BUDGET_ROUTE,\n  ENTERPRISE_UPSERT_BUDGET_ROUTE,\n  // Cost Centers\n  ENTERPRISE_COST_CENTERS_ROUTE,\n  ENTERPRISE_VIEW_COST_CENTER_ROUTE,\n  ENTERPRISE_NEW_COST_CENTER_ROUTE,\n  ENTERPRISE_CREATE_COST_CENTER_ROUTE,\n  ENTERPRISE_EDIT_COST_CENTER_ROUTE,\n  ENTERPRISE_UPSERT_COST_CENTER_ROUTE,\n  ENTERPRISE_DELETE_COST_CENTER_ROUTE,\n  // People\n  ENTERPRISE_PEOPLE_ROUTE,\n  // Usage Report\n  ENTERPRISE_USAGE_REPORT_ROUTE,\n  // One time payment route (e.g. india RBI payments)\n  ENTERPRISE_ONE_TIME_PAYMENT_ROUTE,\n  // Enterprise licenses\n  ENTERPRISE_LICENSING_ROUTE,\n  // Enterprise payment history\n  ENTERPRISE_PAYMENT_HISTORY_ROUTE,\n  // Enterprise show invoices route\n  ENTERPRISE_SHOW_INVOICE_ROUTE,\n  // Enterprise pay invoice route\n  ENTERPRISE_PAY_INVOICE_ROUTE,\n\n  /**\n   * Organization Routes\n   */\n  // Usage\n  ORGANIZATION_OVERVIEW_ROUTE,\n  ORGANIZATION_USAGE_ROUTE,\n  ORGANIZATION_REPO_USAGE_ROUTE,\n  ORGANIZATION_TOTAL_USAGE_ROUTE,\n  // Budgets\n  ORGANIZATION_BUDGETS_ROUTE,\n  ORGANIZATION_NEW_BUDGET_ROUTE,\n  ORGANIZATION_EDIT_BUDGET_ROUTE,\n  ORGANIZATION_UPSERT_BUDGET_ROUTE,\n  // Cost Centers\n  ORGANIZATION_COST_CENTERS_ROUTE,\n  ORGANIZATION_VIEW_COST_CENTER_ROUTE,\n  ORGANIZATION_NEW_COST_CENTER_ROUTE,\n  ORGANIZATION_CREATE_COST_CENTER_ROUTE,\n  ORGANIZATION_EDIT_COST_CENTER_ROUTE,\n  ORGANIZATION_UPSERT_COST_CENTER_ROUTE,\n  ORGANIZATION_DELETE_COST_CENTER_ROUTE,\n\n  /**\n   * User Routes\n   */\n  // Usage\n  USER_OVERVIEW_ROUTE,\n  USER_USAGE_ROUTE,\n  USER_REPO_USAGE_ROUTE,\n  USER_TOTAL_USAGE_ROUTE,\n  // Budgets\n  USER_BUDGETS_ROUTE,\n  USER_NEW_BUDGET_ROUTE,\n  USER_EDIT_BUDGET_ROUTE,\n  USER_UPSERT_BUDGET_ROUTE,\n  // Cost Centers\n  USER_COST_CENTERS_ROUTE,\n  USER_VIEW_COST_CENTER_ROUTE,\n  USER_NEW_COST_CENTER_ROUTE,\n  USER_CREATE_COST_CENTER_ROUTE,\n  USER_EDIT_COST_CENTER_ROUTE,\n  USER_UPSERT_COST_CENTER_ROUTE,\n  USER_DELETE_COST_CENTER_ROUTE,\n\n  /**\n   * Stafftools Routes\n   */\n  // Overview\n  STAFFTOOLS_ENTERPRISE_OVERVIEW_ROUTE,\n  // Usage\n  STAFFTOOLS_ENTERPRISE_USAGE_ROUTE,\n  STAFFTOOLS_ENTERPRISE_REPO_USAGE_ROUTE,\n  STAFFTOOLS_ENTERPRISE_NET_USAGE_ROUTE,\n  STAFFTOOLS_ENTERPRISE_USAGE_TABLE_DATA_ROUTE,\n  // Cost Centers\n  STAFFTOOLS_ENTERPRISE_COST_CENTERS_ROUTE,\n  STAFFTOOLS_ENTERPRISE_VIEW_COST_CENTER_ROUTE,\n  // Budgets\n  STAFFTOOLS_ENTERPRISE_BUDGETS_ROUTE,\n  STAFFTOOLS_ENTERPRISE_EDIT_BUDGET_ROUTE,\n  STAFFTOOLS_ENTERPRISE_UPSERT_BUDGET_ROUTE,\n  // Discounts\n  STAFFTOOLS_ENTERPRISE_DISCOUNTS_ROUTE,\n  // Invoices\n  STAFFTOOLS_ENTERPRISE_INVOICES_ROUTE,\n  // Jobs\n  STAFFTOOLS_BILLING_JOBS_ROUTE,\n  STAFFTOOLS_BUSINESS_ORGANIZATION_BILLING_JOBS_ROUTE,\n  // Products\n  STAFFTOOLS_PRODUCTS_ROUTE,\n  STAFFTOOLS_NEW_PRODUCT_ROUTE,\n  STAFFTOOLS_PRODUCT_SHOW_ROUTE,\n  STAFFTOOLS_EDIT_PRODUCT_ROUTE,\n  // Pricings\n  STAFFTOOLS_PRICINGS_ROUTE,\n  STAFFTOOLS_PRODUCT_PRICINGS_ROUTE,\n  STAFFTOOLS_PRODUCT_NEW_PRICING_ROUTE,\n  STAFFTOOLS_PRODUCT_PRICINGS_SHOW_ROUTE,\n  STAFFTOOLS_PRODUCT_EDIT_PRICING_ROUTE,\n  // Usage Report\n  STAFFTOOLS_ENTERPRISE_USAGE_REPORT_ROUTE,\n} as const\n\n/**\n * Reverse query a route to find its template string based on a given real path\n * @param pathToMatch A \"client side\" path, i.e.: \"/projects/1\"\n * @returns An object with the match information or null if no match was found\n */\nexport const findRouteBestMatchByPath = (pathToMatch: string) =>\n  Object.values(ROUTES_MAP).find(route => route.matchFullPathOrChildPaths(pathToMatch)) ?? null\n\n/**\n * Reverse query a route to find its corresponding base route template string based on a given real path\n * @param pathToMatch A \"client side\" path, i.e.: \"/projects/1\"\n * @returns A base route object with the match information or null if no match was found\n */\nexport const matchBaseRouteByPath = (pathToMatch: string) =>\n  Object.values(BASE_ROUTES).find(route => route.matchFullPathOrChildPaths(pathToMatch)) ?? null\n","import {UsagePeriod} from '../enums'\n\n/**\n * @param usageAt usage date formatted as YYYY-MM-DDTHH:MM:SS.MMMZ UTC, ex: 2023-03-14T16:21:25.316Z\n * @returns formatted date string\n * UsagePeriod.TODAY: H (4 PM)\n * UsagePeriod.THIS_MONTH: M/D/YYYY (3/14/2023)\n * UsagePeriod.THIS_YEAR: MMM YYYY (Mar 2023)\n */\nexport const formatUsageDateForPeriod = (usageAt: string | number, period: UsagePeriod | undefined): string => {\n  const date = new Date(usageAt)\n  switch (period) {\n    case UsagePeriod.THIS_HOUR:\n      return date.toLocaleTimeString('default', {timeZone: 'UTC', hour: 'numeric', minute: '2-digit'})\n    case UsagePeriod.TODAY:\n      return date.toLocaleTimeString('default', {timeZone: 'UTC', hour: 'numeric'})\n    case UsagePeriod.THIS_MONTH:\n    case UsagePeriod.LAST_MONTH:\n      return date.toLocaleDateString('default', {timeZone: 'UTC', month: 'short', day: 'numeric', year: 'numeric'})\n    case UsagePeriod.THIS_YEAR:\n    case UsagePeriod.LAST_YEAR: {\n      const month = date.toLocaleDateString('default', {timeZone: 'UTC', month: 'short'})\n      const year = date.getUTCFullYear()\n      return `${month} ${year}`\n    }\n    default:\n      return date.toLocaleDateString('default', {timeZone: 'UTC', month: 'short', day: 'numeric', year: 'numeric'})\n  }\n}\n\n//\n// returns MMM YYYY (Mar 2023) if day is not present\nexport const formatDate = (year: number, month: number, day?: number): string => {\n  const date = new Date(year, month - 1, day ?? 1)\n\n  const monthName = getMonthName(month, 'short')\n  const yearName = date.getFullYear()\n\n  if (day) {\n    return date.toLocaleDateString('default', {timeZone: 'UTC', month: 'short', day: 'numeric', year: 'numeric'})\n  } else {\n    return `${monthName} ${yearName}`\n  }\n}\n\nconst getMonthName = (monthNumber: number, fmt: 'long' | 'short' = 'long'): string => {\n  const date = new Date()\n  date.setMonth(monthNumber - 1)\n\n  return date.toLocaleString('default', {month: fmt})\n}\n","import {isProductUsageLineItem, isRepoUsageLineItem} from './types'\n\nimport {UsageGrouping} from '../enums'\nimport type {UsageLineItem} from '../types/usage'\nimport type {UsagePeriod} from '../enums'\nimport {formatUsageDateForPeriod} from './date'\n\nexport const groupLineItems = (\n  lineItems: UsageLineItem[],\n  groupBy: UsageGrouping,\n  period?: UsagePeriod,\n): UsageLineItem[] => {\n  const groupedData: Map<string, UsageLineItem> = new Map()\n\n  for (const item of lineItems) {\n    let date\n    if (period) date = formatUsageDateForPeriod(item.usageAt, period)\n\n    // We want to create a unique key to group data by given the group type. If group type is all,\n    // we want to use date as the key to group line items of the time period increment. If it is product/sku,\n    // we want to group products/SKUs for the time period increment.\n    let groupingKey = date ? `${date}-` : ''\n\n    if (isRepoUsageLineItem(item)) {\n      if (groupBy === UsageGrouping.ORG) groupingKey += `${item.org.name}`\n      else if (groupBy === UsageGrouping.REPO) groupingKey += `${item.org.name}-${item.repo.name}`\n    } else if (isProductUsageLineItem(item)) {\n      if (groupBy === UsageGrouping.PRODUCT) groupingKey += `${item.product}`\n      else if (groupBy === UsageGrouping.SKU) groupingKey += `${item.product}-${item.sku}`\n    }\n\n    // we already have a value for the grouping, update the grouped quantity instead\n    const element = groupedData.get(groupingKey)\n    if (element) {\n      element.billedAmount += item.billedAmount\n      element.discountAmount =\n        typeof element.discountAmount === 'number' || typeof item.totalAmount === 'number'\n          ? (element.discountAmount ?? 0) + (item.discountAmount ?? 0)\n          : undefined\n      element.quantity += item.quantity\n      element.fullQuantity += item.fullQuantity\n      element.totalAmount =\n        typeof element.totalAmount === 'number' || typeof item.totalAmount === 'number'\n          ? (element.totalAmount ?? 0) + (item.totalAmount ?? 0)\n          : undefined\n      groupedData.set(groupingKey, element)\n    } else {\n      groupedData.set(groupingKey, {...item})\n    }\n  }\n\n  return Array.from(groupedData.values())\n}\n\nexport function sortByUsageAtDesc(l1: UsageLineItem, l2: UsageLineItem): number {\n  return new Date(l1.usageAt) >= new Date(l2.usageAt) ? 1 : -1\n}\n","export const formatMoneyDisplay = (value: number, digits = 2): string => {\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    maximumFractionDigits: digits,\n  })\n\n  let formattedValue\n\n  if (value === 0) formattedValue = '$0'\n  else if (0 < value && value < 0.01 && digits === 2) formattedValue = '<$0.01'\n  else formattedValue = formatter.format(value)\n\n  return formattedValue\n}\n","// Fonts\nexport const Fonts = {\n  PageHeadingFontSize: 4, // 24px\n  SectionHeadingFontSize: 3, // 20px\n  CardHeadingFontSize: 2, // 16px\n  FontSizeNormal: '14px',\n  FontSizeSmall: '12px',\n}\n\n// Spacing\nexport const Spacing = {\n  // The standard spacing between cards in our UI\n  CardMargin: 4, // 24px\n  // The standard padding for elements in our UI. Typically used for cards\n  StandardPadding: 3, // 16px\n  // Smaller padding used for separating elements in a list\n  SmallPadding: '12px',\n}\n\n// Borders\nexport const borderWidth = '1px'\nexport const borderStyle = 'solid'\nexport const borderColor = 'border.default'\nexport const borderRadius = 2\n\nexport const defaultBorderTop = {\n  borderTopWidth: borderWidth,\n  borderTopStyle: borderStyle,\n  borderTopColor: borderColor,\n}\nexport const defaultBorderBottom = {\n  borderBottomWidth: borderWidth,\n  borderBottomStyle: borderStyle,\n  borderBottomColor: borderColor,\n}\nexport const defaultBorderRight = {\n  borderRightWidth: borderWidth,\n  borderRightStyle: borderStyle,\n  borderRightColor: borderColor,\n}\nexport const defaultBorderLeft = {\n  borderLeftWidth: borderWidth,\n  borderLeftStyle: borderStyle,\n  borderLeftColor: borderColor,\n}\nexport const defaultBorder = {\n  ...defaultBorderTop,\n  ...defaultBorderBottom,\n  ...defaultBorderRight,\n  ...defaultBorderLeft,\n}\n\n// General Styles\nexport const boxStyle = {\n  p: Spacing.StandardPadding,\n  borderRadius,\n  ...defaultBorder,\n}\n\nexport const listStyle = {\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n  pt: Spacing.SmallPadding,\n  mt: Spacing.SmallPadding,\n  ...defaultBorderTop,\n}\n\ninterface TableCellStyle {\n  p: number\n  '@media (min-width: 600px)': {\n    width: string\n  }\n  '@media (max-width: 599px)': {\n    width: string\n  }\n}\n\nexport const flexFill = {\n  flex: 1,\n}\n\nexport const cardHeadingStyle = {\n  mb: 2,\n  fontSize: Fonts.FontSizeNormal,\n  fontWeight: 'normal',\n  color: 'fg.default',\n}\n\nexport const tableHeaderStyle = {\n  bg: 'canvas.subtle',\n  p: Spacing.StandardPadding,\n  borderRadius,\n}\n\nexport const tableRowStyle = {\n  ...defaultBorderTop,\n  p: Spacing.StandardPadding,\n  '@media (max-width: 599px)': {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n}\n\nexport const tableCellStyle = {\n  p: 3,\n  '@media (min-width: 600px)': {\n    width: '100%',\n  },\n  '@media (max-width: 599px)': {\n    width: '50%',\n  },\n}\n\nexport const getTableCellStyle = (defaultWidth: string): TableCellStyle => {\n  return {\n    p: 3,\n    '@media (min-width: 600px)': {\n      width: defaultWidth,\n    },\n    '@media (max-width: 599px)': {\n      width: '50%',\n    },\n  }\n}\n\nexport const pageHeadingStyle = {\n  display: 'flex',\n  font: 'var(--text-subtitle-shorthand)',\n  fontSize: Fonts.PageHeadingFontSize,\n}\n\nexport const tableContainerStyle = {\n  textAlign: 'left',\n  borderRadius,\n  '@media (min-width: 600px)': {\n    width: '100%',\n  },\n  '@media (max-width: 599px)': {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}\n","import type {ProductUsageLineItem, RepoUsageLineItem, UsageLineItem} from '../types/usage'\n\nexport const isProductUsageLineItem = (lineItem: UsageLineItem): lineItem is ProductUsageLineItem => {\n  return (lineItem as ProductUsageLineItem).sku !== undefined\n}\n\nexport const isRepoUsageLineItem = (lineItem: UsageLineItem): lineItem is RepoUsageLineItem => {\n  return (lineItem as RepoUsageLineItem).org !== undefined\n}\n","// Check if the navigation is only a hash change.\nconst isHashNavigation = (currentUrl: string, targetUrl: string): boolean => {\n  const current = new URL(currentUrl, window.location.origin)\n  const target = new URL(targetUrl, window.location.origin)\n  const hasHash = target.href.includes('#')\n\n  return (\n    hasHash && current.host === target.host && current.pathname === target.pathname && current.search === target.search\n  )\n}\n\nexport default isHashNavigation\n","export const ERRORS = {\n  couldNotUpdateAssignees: 'Could not update assignees',\n  couldNotSearchAssignees: 'Could not search assignees',\n  couldNotUpdateLabels: 'Could not update labels',\n  couldNotSearchLabels: 'Could not search labels',\n  couldNotUpdateMilestone: 'Could not update milestone',\n  couldNotSearchMilestones: 'Could not search milestones',\n  couldNotUpdateIssueType: 'Could not update issue type',\n  couldNotSearchRepositories: 'Could not search repositories',\n  couldNotSearchPullRequests: 'Could not search pull requests',\n  couldNotSearchProjects: 'Could not search projects',\n  couldNotSearchBranches: 'Could not search branches',\n  noMatches: 'No matches',\n  noResults: 'No results',\n  couldNotCreateBranch: 'Could not create branch',\n  couldNotCreateLabel: 'Could not create label',\n}\n","export const IDS = {\n  itemPickerRootId: 'item-picker-root-id',\n  itemPickerTestId: 'item-picker-root',\n}\n","export const SELECTORS = {\n  // This matches the attribute assigned to the active item within primers `SelectPanel`\n  activePickerOption: (rootId: string) => `[data-id=\"${rootId}\"] [data-is-active-descendant=\"activated-directly\"]`,\n}\n","import {CircleSlashIcon} from '@primer/octicons-react'\n\nimport {ERRORS} from './constants/errors'\n\ntype ItemGroupVariant = 'subtle' | 'filled'\n\nexport type ItemGroup = {\n  groupId: string\n  header?: {\n    title: string\n    variant?: ItemGroupVariant\n  }\n}\n\nexport const noMatchesItem = {\n  leadingVisual: CircleSlashIcon,\n  text: ERRORS.noMatches,\n  disabled: true,\n  selected: undefined, // hide checkbox\n  key: 'no-matches',\n  id: 'no-matches',\n}\n\nexport const noResultsItem = {\n  leadingVisual: CircleSlashIcon,\n  text: ERRORS.noResults,\n  disabled: true,\n  selected: undefined, // hide checkbox\n  key: 'no-results',\n  id: 'no-results',\n}\n\nexport const maybeIssueUrl = (url: string): boolean => {\n  try {\n    // eslint-disable-next-line no-restricted-syntax\n    new URL(url)\n  } catch (_urlError) {\n    return false\n  }\n\n  return new RegExp(/^.+\\/issues\\/\\d+$/).test(url)\n}\n\n// Attempt to use the `org` parameter to filter the results if we have a `/` present in the query\n// This is to be used with the `search` graphQL endpoint for type `Repository` only.\nexport function getRepositorySearchQuery(queryString: string, organization?: string, excludeRepo?: string): string {\n  const orgIndexSplit = queryString.indexOf('/')\n\n  let query = 'in:name archived:false'\n  if (excludeRepo) {\n    query = `${query} -repo:${excludeRepo}`\n  }\n\n  // if there is <owner>/<repo> in the query, use that to filter the results\n  if (orgIndexSplit > 0 && queryString.split('/').length === 2) {\n    // Naively extract the org name and repo name from the query by assuming anything before the / is the org name\n    const orgSearchName = queryString.split('/')[0]!\n    const repoSearchName = queryString.split('/')[1]!\n    return `${query} org:${orgSearchName} ${repoSearchName}`\n  }\n\n  // If there is an org name, use that to filter the results\n  if (organization) {\n    return `${query} org:${organization} ${queryString}`\n  }\n\n  // If there is no / in the query, or the org name is empty, just search for the repo name\n  return `${query} ${queryString}`\n}\n\n// Generates a set of queries which scope to an owner, and prioritizes issues based on interaction\n// The IssuePickerInternal orders the queried issues and is the source for this order of this priority\nexport const getIssueSearchQueries = (owner = '', query = '', repoNameWithOwner = '') => {\n  const ownerPart = owner && `owner:${owner.trim()} `\n  const repoPart = repoNameWithOwner && `repo:${repoNameWithOwner.trim()} `\n  const queryPart = query && ` ${query.trim()}`\n\n  // Although these queries are using the `... on Issue` type condition,\n  // PR results are still inlcuded in the response in an empty object.\n  // `is:issue` ensures that only issue nodes are returned.\n  const issuePart = 'is:issue '\n  const queryIsUrl = maybeIssueUrl(query)\n\n  // By default, search within the issue title as it's the most relevant option.\n  let inPart = 'in:title'\n\n  // If the query is a number, then we should search for the issue by number as well.\n  if (queryPart && !isNaN(Number(queryPart))) {\n    inPart += ' in:number'\n  }\n\n  const sharedQuery = `${ownerPart}${repoPart}${issuePart}${inPart} `\n\n  return {\n    commenters: `${sharedQuery}commenter:@me${queryPart}`,\n    mentions: `${sharedQuery}mentions:@me${queryPart}`,\n    assignee: `${sharedQuery}assignee:@me${queryPart}`,\n    author: `${sharedQuery}author:@me${queryPart}`,\n    open: `${sharedQuery}state:open${queryPart}`,\n    resource: queryIsUrl ? encodeURI(query) : '',\n    queryIsUrl,\n  }\n}\n\nexport type Unpacked<T> = T extends Array<infer U> ? U : T\n","/**\n * A function that always returns undefined and does nothing else.\n */\nexport const noop: (...args: unknown[]) => void = () => void 0\n","import {type Icon, Octicon} from '@github-ui/query-builder-element/query-builder-api'\nimport type {Environment} from 'react-relay'\nexport const NOT_SHOWN = 10\nexport const FILTER_PRIORITY_DISPLAY_THRESHOLD = 5\nexport const FILTERS = {\n  archived: {\n    name: 'Archived',\n    value: 'archived',\n    priority: NOT_SHOWN,\n    icon: Octicon.Archived,\n    description: 'Specify archived or non-archived items only',\n  },\n  base: {\n    name: 'Base',\n    value: 'base',\n    priority: NOT_SHOWN,\n    icon: Octicon.Branch,\n    description: 'Pull Request base branch',\n  },\n  closed: {\n    name: 'Closed date',\n    value: 'closed',\n    priority: NOT_SHOWN,\n    icon: Octicon.Calendar,\n    description: 'Closing date',\n  },\n  comments: {\n    name: 'Comment count',\n    value: 'comments',\n    priority: NOT_SHOWN,\n    icon: Octicon.Comment,\n    description: 'Item comment count',\n  },\n  created: {\n    name: 'Creation date',\n    value: 'created',\n    priority: NOT_SHOWN,\n    icon: Octicon.Calendar,\n    description: 'Creation date',\n  },\n  draft: {\n    name: 'Draft',\n    value: 'draft',\n    priority: NOT_SHOWN,\n    icon: Octicon.Draft,\n    description: 'Search for draft items',\n  },\n  head: {\n    name: 'Head',\n    value: 'head',\n    priority: NOT_SHOWN,\n    icon: Octicon.Branch,\n    description: 'Head branch commit sha',\n  },\n  in: {\n    name: 'In',\n    value: 'in',\n    icon: Octicon.Filter,\n    description: 'Restrict your search to the title, body, comments, or any combination of these',\n    priority: NOT_SHOWN,\n  },\n  interactions: {\n    name: 'Interactions count',\n    value: 'interactions',\n    priority: NOT_SHOWN,\n    icon: Octicon.Discussion,\n    description: 'Interaction count',\n  },\n  is: {\n    name: 'Is',\n    value: 'is',\n    icon: Octicon.Apps,\n    description: 'Filter only \"issues\", \"pulls\", \"open\", \"closed\", or \"draft\"',\n    priority: 3,\n  },\n  language: {\n    name: 'Code language',\n    value: 'language',\n    priority: NOT_SHOWN,\n    icon: Octicon.Code,\n    description: 'Code language',\n  },\n  linked: {\n    name: 'Linked',\n    value: 'linked',\n    icon: Octicon.PullRequest,\n    description: 'Items linked to an issue or pull request',\n    priority: NOT_SHOWN,\n  },\n  merged: {\n    name: 'Merge date',\n    value: 'merged',\n    priority: NOT_SHOWN,\n    icon: Octicon.Calendar,\n    description: 'Merge date',\n  },\n  milestone: {\n    name: 'Milestone',\n    value: 'milestone',\n    priority: NOT_SHOWN,\n    icon: Octicon.Milestone,\n    description: 'Milestone',\n  },\n  no: {\n    name: 'No',\n    value: 'no',\n    priority: NOT_SHOWN,\n    icon: Octicon.Forbidden,\n    description: 'Filter by items without a specific metadata value',\n  },\n  reactions: {\n    name: 'Reaction count',\n    value: 'reactions',\n    priority: NOT_SHOWN,\n    icon: Octicon.Reaction,\n    description: 'Reactions count',\n  },\n  reason: {\n    name: 'Reason',\n    value: 'reason',\n    priority: NOT_SHOWN,\n    icon: Octicon.Mention,\n    description: 'Filter by item closed reason',\n  },\n  review: {\n    name: 'Review state',\n    value: 'review',\n    priority: NOT_SHOWN,\n    icon: Octicon.PullRequest,\n    description: 'Specify a review state',\n  },\n  sha: {\n    name: 'Commit SHA',\n    value: 'sha',\n    priority: NOT_SHOWN,\n    icon: Octicon.FileCode,\n    description: 'Commit SHA',\n  },\n  state: {\n    name: 'State',\n    value: 'state',\n    priority: 3,\n    icon: Octicon.Draft,\n    description: 'Look for open / closed items',\n  },\n  status: {\n    name: 'Status',\n    value: 'status',\n    priority: NOT_SHOWN,\n    icon: Octicon.Draft,\n    description: 'Commit status: pending | success | failure',\n  },\n  team: {\n    name: 'Team',\n    value: 'team',\n    priority: NOT_SHOWN,\n    icon: Octicon.Team,\n    description: 'Team name',\n  },\n  teamReviewRequested: {\n    name: 'Team review requested',\n    value: 'team-review-requested',\n    priority: NOT_SHOWN,\n    icon: Octicon.Team,\n    description: 'Review requested from team',\n  },\n  sort: {\n    name: 'Sort',\n    value: 'sort',\n    priority: NOT_SHOWN,\n    icon: Octicon.Sort,\n    description: 'Sort results',\n  },\n  // The usage of type: for item type will be deprecated in favor of is:issue or is:pr\n  // and the type: qualifier will be used for issueType filtering\n  itemType: {\n    name: 'Item Type',\n    value: 'type',\n    priority: NOT_SHOWN,\n    icon: Octicon.Apps,\n    description: 'Specify the type of item to search for: issue or pr',\n  },\n  type: {\n    name: 'Type',\n    value: 'type',\n    priority: NOT_SHOWN,\n    icon: Octicon.Issue,\n    description: 'Specify the type of issue to search for',\n  },\n  updated: {\n    name: 'Update date',\n    value: 'updated',\n    priority: NOT_SHOWN,\n    icon: Octicon.Calendar,\n    description: 'Updated date',\n  },\n  repo: {\n    name: 'Repository',\n    value: 'repo',\n    priority: 1,\n    icon: Octicon.Repo,\n    singularItemName: 'Repository',\n    description: 'Filter by repository',\n  },\n  org: {\n    name: 'Organization',\n    value: 'org',\n    priority: 2,\n    icon: Octicon.Organization,\n    singularItemName: 'Organization',\n    description: 'Filter by organization',\n  },\n  label: {\n    name: 'Label',\n    value: 'label',\n    priority: 3,\n    icon: Octicon.Tag,\n    singularItemName: 'Label',\n    description: 'Filter by label',\n  },\n  project: {\n    name: 'Project',\n    value: 'project',\n    priority: 3,\n    icon: Octicon.Project,\n    singularItemName: 'Project',\n    description: '',\n  },\n}\n\nexport const KEY_ONLY_FILTERS = [FILTERS.base, FILTERS.head, FILTERS.language, FILTERS.milestone, FILTERS.sha]\n\nexport const STATIC_VALUE_FILTERS = [\n  FILTERS.archived,\n  FILTERS.comments,\n  FILTERS.closed,\n  FILTERS.created,\n  FILTERS.draft,\n  FILTERS.in,\n  FILTERS.interactions,\n  FILTERS.is,\n  FILTERS.linked,\n  FILTERS.merged,\n  FILTERS.no,\n  FILTERS.reactions,\n  FILTERS.reason,\n  FILTERS.review,\n  FILTERS.sort,\n  FILTERS.state,\n  FILTERS.status,\n  FILTERS.updated,\n]\n\nexport const USER_FILTERS = {\n  author: {\n    name: 'Author',\n    value: 'author',\n    icon: Octicon.Person,\n    description: 'The author of the item',\n    priority: 3,\n  },\n  assignee: {\n    name: 'Assignee',\n    value: 'assignee',\n    icon: Octicon.Person,\n    description: 'The assignee of the item',\n    priority: 3,\n  },\n  involves: {\n    name: 'Involves',\n    value: 'involves',\n    icon: Octicon.Person,\n    description: 'The user involved in the item',\n    priority: NOT_SHOWN,\n  },\n  mentions: {\n    name: 'Mentions',\n    value: 'mentions',\n    icon: Octicon.Mention,\n    description: 'The user mentioned in the item',\n    priority: NOT_SHOWN,\n  },\n  commenter: {\n    name: 'Commenter',\n    value: 'commenter',\n    icon: Octicon.Person,\n    description: 'Items commented on by the user',\n    priority: NOT_SHOWN,\n  },\n  reviewRequested: {\n    name: 'Review Requested',\n    value: 'review-requested',\n    icon: Octicon.Person,\n    description: 'Items with review requested for the user',\n    priority: NOT_SHOWN,\n  },\n  reviewedBy: {\n    name: 'Reviewed By',\n    value: 'reviewed-by',\n    icon: Octicon.Person,\n    description: 'Items reviewed by the user',\n    priority: NOT_SHOWN,\n  },\n  user: {\n    name: 'User',\n    value: 'user',\n    icon: Octicon.Person,\n    description: 'Items in repositories owned by the user',\n    priority: NOT_SHOWN,\n  },\n  userReviewRequested: {\n    name: 'User Review Requested',\n    value: 'user-review-requested',\n    icon: Octicon.Mention,\n    description: 'Items with review requested for the user explicitly',\n    priority: NOT_SHOWN,\n  },\n}\nexport const USER_VALUE_FILTERS = Object.values(USER_FILTERS)\n\nexport const TIME_RANGE_VALUES = [\n  {value: '@today', name: 'Today', description: 'Today', priority: 1},\n  {\n    valueFunc: () => {\n      const now = new Date()\n      const year = now.getFullYear()\n      const month = (now.getMonth() + 1).toString().padStart(2, '0')\n      const day = (now.getDate() - 1).toString().padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n    name: 'Yesterday',\n    description: 'Yesterday',\n    priority: 2,\n  },\n  {value: '>@today-1w', name: 'Last 7 days', description: 'Last 7 days', priority: 3},\n  {value: '>@today-1m', name: 'Last 30 days', description: 'Last 30 days', priority: 4},\n  {\n    valueFunc: () => {\n      const now = new Date()\n      return `>${now.getFullYear() - 1}-12-31`\n    },\n    name: 'This year',\n    description: 'This year',\n    priority: 5,\n  },\n]\n\nconst NUMBER_COUNT_VALUE = [\n  {value: '<10', name: 'Less than 10', description: 'Less than 10', priority: 1},\n  {value: '>10', name: 'More than 10', description: 'More than 10', priority: 2},\n  {value: '10..100', name: 'Between 10 and 100', description: 'Between 10 and 100', priority: 3},\n  {value: '100', name: '100', description: 'Exactly 100', priority: 4},\n]\n\nexport const FILTER_VALUES: Record<string, FilterValueType[]> = {\n  archived: [\n    {value: 'true', name: 'Yes', description: 'Only archived items', priority: 1},\n    {value: 'false', name: 'No', description: 'Only non-archived items', priority: 2},\n  ],\n  closed: TIME_RANGE_VALUES,\n  comments: NUMBER_COUNT_VALUE,\n  created: TIME_RANGE_VALUES,\n  draft: [\n    {value: 'true', name: 'Yes', description: 'Only draft items', priority: 1},\n    {value: 'false', name: 'No', description: 'Only non-draft items', priority: 2},\n  ],\n  in: [\n    {value: 'title', description: 'Match values in title', priority: 1},\n    {value: 'body', description: 'Match values in body', priority: 2},\n    {value: 'comments', description: 'Match values in comments', priority: 3},\n  ],\n  interactions: NUMBER_COUNT_VALUE,\n  is: [\n    {value: 'issue', description: 'Issues only', priority: 1, icon: Octicon.Issue},\n    {name: 'Pull Request', value: 'pr', description: 'Pull Requests only', priority: 2, icon: Octicon.PullRequest},\n    {value: 'open', description: 'Items with open state', priority: 3, icon: Octicon.Issue},\n    {value: 'closed', description: 'Items with closed state', priority: 4, icon: Octicon.IssueClosed},\n    {value: 'draft', description: 'Items with draft state', priority: 5, icon: Octicon.Draft},\n  ],\n  type: [\n    {value: 'issue', description: 'Issues only', priority: 1, icon: Octicon.Issue},\n    {name: 'Pull Request', value: 'pr', description: 'Pull Requests only', priority: 2, icon: Octicon.PullRequest},\n  ],\n  linked: [\n    {value: 'issue', description: 'Pull requests that are linked to an issue', priority: 2, icon: Octicon.Issue},\n    {\n      name: 'Pull Request',\n      value: 'pr',\n      description: 'Issue that are linked to pull requests',\n      priority: 1,\n      icon: Octicon.PullRequest,\n    },\n  ],\n  merged: TIME_RANGE_VALUES,\n  no: [\n    {value: 'assignee', description: 'Items without an assignee', priority: 1, icon: Octicon.Mention},\n    {value: 'label', description: 'Items without a label', priority: 2, icon: 'tag' as Icon},\n    {value: 'milestone', description: 'Items without a milestone', priority: 3, icon: 'milestone' as Icon},\n    {value: 'project', description: 'Items without a project', priority: 4, icon: Octicon.Project},\n  ],\n  reactions: NUMBER_COUNT_VALUE,\n  reason: [\n    {value: 'completed', description: 'Items that were closed as completed', priority: 1},\n    {value: 'not planned', description: 'Items that were closed as not planned', priority: 2},\n  ],\n  review: [\n    {value: 'none', name: 'No reviews', description: 'No reviews', priority: 1},\n    {value: 'required', name: 'Review required', description: 'Review required', priority: 2},\n    {value: 'approved', description: 'Has approving review', priority: 3},\n    {value: 'changes_requested', name: 'Changes requested', description: 'Review requesting changes', priority: 4},\n  ],\n  sort: [\n    {value: 'created-desc', name: 'Newest', description: 'Newest', priority: 1},\n    {value: 'created-asc', name: 'Oldest', description: 'Oldest', priority: 2},\n    {value: 'comments-desc', name: 'Most commented', description: 'Most commented', priority: 3},\n    {value: 'updated-desc', name: 'Recently updated', description: 'Recently updated', priority: 4},\n  ],\n  state: [\n    {value: 'open', description: 'Items with open state', priority: 1},\n    {value: 'closed', description: 'Items with closed state', priority: 2},\n  ],\n  status: [\n    {value: 'pending', description: 'Items with pending status', priority: 1},\n    {value: 'success', description: 'Items with success status', priority: 2},\n    {value: 'failure', description: 'Items with failure status', priority: 3},\n  ],\n  updated: TIME_RANGE_VALUES,\n}\n\nexport const TEAM_VALUE_FILTERS = [FILTERS.team, FILTERS.teamReviewRequested]\n\nexport const TOP_REPOSITORIES_COUNT = 25\nexport const TOP_ORGANIZATION_COUNT = 100\n\nexport type FilterType = {\n  name: string\n  value: string\n  priority: number\n  icon: Icon\n  description: string\n  valuesKey?: string\n}\n\nexport type FilterRelayType = FilterType & {\n  relayEnvironment: Environment\n}\n\nexport type UserFilterValueType = FilterType & {\n  useLogin?: boolean\n}\n\nexport type BaseFilterValueType = {\n  name?: string\n  description: string\n  priority: number\n  icon?: Icon\n}\n\nexport type ValueFilterType = {\n  value: string\n} & BaseFilterValueType\n\nexport type ValueFuncFilterType = {\n  valueFunc: () => string\n} & BaseFilterValueType\n\nexport type FilterValueType = ValueFilterType | ValueFuncFilterType\n\nexport const NegativeFilters = {\n  archived: 'Not archived',\n  base: 'Without base',\n  closed: 'Not closed on date',\n  comments: 'Without comments count',\n  created: 'Not created on date',\n  draft: 'Not draft',\n  head: 'Without head',\n  interactions: 'Without interactions count',\n  is: 'Is not',\n  language: 'Without code language',\n  linked: 'Without linked',\n  reactions: 'Without reactions count',\n  reason: 'Without reason',\n  review: 'Without review state',\n  state: 'Without state',\n  status: 'Without status',\n  team: 'Not in team',\n  'team-review-requested': 'Not in team review requested',\n  type: 'Without type',\n  updated: 'Not updated on date',\n  repo: 'Not in repository',\n  org: 'Not in organization',\n  label: 'Without label',\n  project: 'Not in project',\n  author: 'Not authored by',\n  assignee: 'Not assigned to',\n  involves: 'Not involving',\n  mentions: 'Not mentioned by',\n  commenter: 'Not commented by',\n  'review-requested': 'Without review requested by',\n  'reviewed-by': 'Not reviewed by',\n  user: 'Not owned by user',\n  'user-review-requested': 'Without user review requested',\n}\n","/**\n * @generated SignedSource<<14973d04be904c9cdff1944a94d00bba>>\n * @relayHash 80370ba492764ebbdd42f2df2cada3d2\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 80370ba492764ebbdd42f2df2cada3d2\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nexport type enterpriseOrgFilterProviderQuery$variables = {\n  count: number;\n  query?: string | null | undefined;\n  slug: string;\n};\nexport type enterpriseOrgFilterProviderQuery$data = {\n  readonly enterprise: {\n    readonly organizations: {\n      readonly edges: ReadonlyArray<{\n        readonly node: {\n          readonly avatarUrl: string;\n          readonly login: string;\n          readonly name: string | null | undefined;\n        } | null | undefined;\n      } | null | undefined> | null | undefined;\n    };\n  } | null | undefined;\n};\nexport type enterpriseOrgFilterProviderQuery = {\n  response: enterpriseOrgFilterProviderQuery$data;\n  variables: enterpriseOrgFilterProviderQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"count\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"query\"\n},\nv2 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"slug\"\n},\nv3 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"slug\",\n    \"variableName\": \"slug\"\n  }\n],\nv4 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"first\",\n    \"variableName\": \"count\"\n  },\n  {\n    \"kind\": \"Literal\",\n    \"name\": \"orderBy\",\n    \"value\": {\n      \"direction\": \"DESC\",\n      \"field\": \"CREATED_AT\"\n    }\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"query\",\n    \"variableName\": \"query\"\n  }\n],\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"name\",\n  \"storageKey\": null\n},\nv6 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"login\",\n  \"storageKey\": null\n},\nv7 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"avatarUrl\",\n  \"storageKey\": null\n},\nv8 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/),\n      (v2/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"enterpriseOrgFilterProviderQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v3/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v4/*: any*/),\n            \"concreteType\": \"OrganizationConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"organizations\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"OrganizationEdge\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"edges\",\n                \"plural\": true,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"Organization\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"node\",\n                    \"plural\": false,\n                    \"selections\": [\n                      (v5/*: any*/),\n                      (v6/*: any*/),\n                      (v7/*: any*/)\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v2/*: any*/),\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"enterpriseOrgFilterProviderQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": (v3/*: any*/),\n        \"concreteType\": \"Enterprise\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"enterprise\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v4/*: any*/),\n            \"concreteType\": \"OrganizationConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"organizations\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"OrganizationEdge\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"edges\",\n                \"plural\": true,\n                \"selections\": [\n                  {\n                    \"alias\": null,\n                    \"args\": null,\n                    \"concreteType\": \"Organization\",\n                    \"kind\": \"LinkedField\",\n                    \"name\": \"node\",\n                    \"plural\": false,\n                    \"selections\": [\n                      (v5/*: any*/),\n                      (v6/*: any*/),\n                      (v7/*: any*/),\n                      (v8/*: any*/)\n                    ],\n                    \"storageKey\": null\n                  }\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v8/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"80370ba492764ebbdd42f2df2cada3d2\",\n    \"metadata\": {},\n    \"name\": \"enterpriseOrgFilterProviderQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"b15f630e795104edfb9a7cce10744d61\";\n\nexport default node;\n","/**\n * @generated SignedSource<<bce58b49792c5f0da9101a78a9346d4d>>\n * @relayHash 8c51695aee59f3c67f7ae2aef94f5351\n * @lightSyntaxTransform\n * @nogrep\n */\n\n/* tslint:disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// @relayRequestID 8c51695aee59f3c67f7ae2aef94f5351\n\nimport { ConcreteRequest, Query } from 'relay-runtime';\nexport type enterpriseRepoFilterProviderQuery$variables = {\n  count: number;\n  phrase?: string | null | undefined;\n  slug: string;\n};\nexport type enterpriseRepoFilterProviderQuery$data = {\n  readonly viewer: {\n    readonly enterpriseRepositories: {\n      readonly nodes: ReadonlyArray<{\n        readonly nameWithOwner: string;\n      } | null | undefined> | null | undefined;\n    };\n  };\n};\nexport type enterpriseRepoFilterProviderQuery = {\n  response: enterpriseRepoFilterProviderQuery$data;\n  variables: enterpriseRepoFilterProviderQuery$variables;\n};\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"count\"\n},\nv1 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"phrase\"\n},\nv2 = {\n  \"defaultValue\": null,\n  \"kind\": \"LocalArgument\",\n  \"name\": \"slug\"\n},\nv3 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"first\",\n    \"variableName\": \"count\"\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"phrase\",\n    \"variableName\": \"phrase\"\n  },\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"slug\",\n    \"variableName\": \"slug\"\n  }\n],\nv4 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"nameWithOwner\",\n  \"storageKey\": null\n},\nv5 = {\n  \"alias\": null,\n  \"args\": null,\n  \"kind\": \"ScalarField\",\n  \"name\": \"id\",\n  \"storageKey\": null\n};\nreturn {\n  \"fragment\": {\n    \"argumentDefinitions\": [\n      (v0/*: any*/),\n      (v1/*: any*/),\n      (v2/*: any*/)\n    ],\n    \"kind\": \"Fragment\",\n    \"metadata\": null,\n    \"name\": \"enterpriseRepoFilterProviderQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"viewer\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v3/*: any*/),\n            \"concreteType\": \"RepositoryConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"enterpriseRepositories\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Repository\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": [\n                  (v4/*: any*/)\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          }\n        ],\n        \"storageKey\": null\n      }\n    ],\n    \"type\": \"Query\",\n    \"abstractKey\": null\n  },\n  \"kind\": \"Request\",\n  \"operation\": {\n    \"argumentDefinitions\": [\n      (v2/*: any*/),\n      (v0/*: any*/),\n      (v1/*: any*/)\n    ],\n    \"kind\": \"Operation\",\n    \"name\": \"enterpriseRepoFilterProviderQuery\",\n    \"selections\": [\n      {\n        \"alias\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"kind\": \"LinkedField\",\n        \"name\": \"viewer\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"alias\": null,\n            \"args\": (v3/*: any*/),\n            \"concreteType\": \"RepositoryConnection\",\n            \"kind\": \"LinkedField\",\n            \"name\": \"enterpriseRepositories\",\n            \"plural\": false,\n            \"selections\": [\n              {\n                \"alias\": null,\n                \"args\": null,\n                \"concreteType\": \"Repository\",\n                \"kind\": \"LinkedField\",\n                \"name\": \"nodes\",\n                \"plural\": true,\n                \"selections\": [\n                  (v4/*: any*/),\n                  (v5/*: any*/)\n                ],\n                \"storageKey\": null\n              }\n            ],\n            \"storageKey\": null\n          },\n          (v5/*: any*/)\n        ],\n        \"storageKey\": null\n      }\n    ]\n  },\n  \"params\": {\n    \"id\": \"8c51695aee59f3c67f7ae2aef94f5351\",\n    \"metadata\": {},\n    \"name\": \"enterpriseRepoFilterProviderQuery\",\n    \"operationKind\": \"query\",\n    \"text\": null\n  }\n};\n})();\n\n(node as any).hash = \"86282ec3b4f154ab3fc04117a22b4e28\";\n\nexport default node;\n","import {createContext} from 'react'\nimport type {AppRegistration} from './react-app-registry'\nimport type {History} from '@remix-run/router'\n\nexport interface AppContextType {\n  routes: AppRegistration['routes']\n  history: History\n}\n\nexport const AppContext = createContext<AppContextType>(null as unknown as AppContextType)\n","import {\n  createBrowserHistory as routerCreateBrowserHistory,\n  type BrowserHistory,\n  type BrowserHistoryOptions,\n  type To,\n  Action,\n} from '@remix-run/router'\nimport type {Listener, Update} from '@remix-run/router/dist/history'\n\n/**\n * A change to the current location that was blocked. May be retried\n * after obtaining user confirmation.\n *\n * The RR version of Transition extends Update, but this does not because it was easier not to.\n */\nexport interface Transition {\n  /**\n   * Retries the update to the current location.\n   */\n  retry(): void\n}\n\n/**\n * A function that receives transitions when navigation is blocked.\n */\nexport interface Blocker {\n  (tx: Transition): void\n}\n\nexport interface GitHubBrowserHistory extends BrowserHistory {\n  block(blocker: Blocker): () => void\n}\n\n/**\n * This is a wrapper around React Router's createBrowserHistory. On top of the RR browser history, this wrapper:\n * - Ensures that it is constructed with v5Compat:true, so that it is compatible with pre-6.4 RR usage.\n * - Creates a .block() method that is API-compatible with pre-6.4 RR usage, but using the post-6.4 RR internals.\n *\n * It would be lovely to get rid of this file. We will be able to do that if we migrate to using a data router, which\n * would allow us to use the RR unstable_useBlocker hook directly.\n */\nexport function createBrowserHistory(options: BrowserHistoryOptions = {}): GitHubBrowserHistory {\n  /**\n   * Note: `v5Compat` is set to true to maintain compatibility v5 & pre-6.4 versions of React Router. In the future,\n   * if we shift to using a React Router data router, we can remove this option (and possibly this whole wrapper?).\n   */\n  const history = routerCreateBrowserHistory({...options, v5Compat: true})\n  let listener: Listener | undefined\n  let blockers: Blocker[] = []\n  let ignoreNextHistoryUpdate = false\n\n  history.listen((update: Update) => {\n    if (ignoreNextHistoryUpdate) {\n      ignoreNextHistoryUpdate = false\n      return\n    }\n\n    if (update.action === Action.Pop && blockers.length && update.delta !== null && blockers.length > 0) {\n      const delta = update.delta\n\n      // undo the navigation for now:\n\n      ignoreNextHistoryUpdate = true\n      history.go(delta * -1)\n\n      for (const blocker of blockers) {\n        blocker({\n          retry() {\n            history.go(delta)\n          },\n        })\n      }\n    } else {\n      listener?.(update)\n    }\n  })\n\n  function doIfUnblocked(fn: () => void) {\n    if (blockers.length > 0) {\n      for (const blocker of blockers) {\n        blocker({\n          retry() {\n            fn()\n          },\n        })\n      }\n    } else {\n      fn()\n    }\n  }\n\n  return {\n    get action() {\n      return history.action\n    },\n\n    get location() {\n      return history.location\n    },\n\n    createHref(to: To) {\n      return history.createHref(to)\n    },\n\n    createURL(to: To) {\n      return history.createURL(to)\n    },\n\n    encodeLocation(to: To) {\n      return history.encodeLocation(to)\n    },\n\n    push(to: To, state?: unknown) {\n      doIfUnblocked(() => history.push(to, state))\n    },\n\n    replace(to: To, state?: unknown) {\n      doIfUnblocked(() => history.replace(to, state))\n    },\n\n    go(delta: number) {\n      doIfUnblocked(() => history.go(delta))\n    },\n\n    listen(newListener: Listener) {\n      if (listener) {\n        throw new Error('A history only accepts one active listener')\n      }\n      listener = newListener\n      const unlisten = () => {\n        listener = undefined\n      }\n      return unlisten\n    },\n\n    /**\n     * @deprecated\n     */\n    block(blocker: Blocker): () => void {\n      blockers.push(blocker)\n\n      const unblock = () => {\n        blockers = blockers.filter(b => b !== blocker)\n      }\n      return unblock\n    },\n  }\n}\n","export const EXPECTED_ERRORS: {[key: string]: string} = {\n  'Workers not ready': 'Alloy is warming its workers. This is expected during deploys and should resolve shortly.',\n}\n","import {useEffect, useState} from 'react'\n\nconst document = globalThis.document as Document | undefined\n\nexport interface ColorModeOptions {\n  colorMode?: string\n  lightTheme: string\n  darkTheme: string\n}\n\nfunction getSchemeFromMode(mode?: string) {\n  switch (mode) {\n    case 'light':\n      return 'day'\n    case 'dark':\n      return 'night'\n    default:\n      return 'auto'\n  }\n}\n\nfunction getColorModes(options: ColorModeOptions | DOMStringMap) {\n  const mode = options.colorMode\n\n  return {\n    colorMode: getSchemeFromMode(mode),\n    dayScheme: options.lightTheme,\n    nightScheme: options.darkTheme,\n  } as const\n}\n\nlet ssrOptions: ColorModeOptions | undefined\n\nexport function setColorModeOptions(options: ColorModeOptions) {\n  ssrOptions = options\n}\n\nfunction useColorModesSSR() {\n  return getColorModes(ssrOptions || {})\n}\n\nfunction useColorModes() {\n  const {documentElement} = document!\n  // eslint-disable-next-line github/no-dataset\n  const [colorMode, setColorMode] = useState(() => getColorModes(documentElement.dataset))\n\n  useEffect(() => {\n    // Update color modes any time color mode attributes change on the base html document element\n    // eslint-disable-next-line github/no-dataset\n    const observer = new MutationObserver(() => setColorMode(getColorModes(documentElement.dataset)))\n\n    observer.observe(documentElement, {\n      attributes: true,\n      attributeFilter: ['data-color-mode', 'data-light-theme', 'data-dark-theme'],\n    })\n\n    return () => observer.disconnect()\n  }, [documentElement])\n\n  return colorMode\n}\n\nexport default document ? useColorModes : useColorModesSSR\n","import {useAppPayload} from './use-app-payload'\n\nexport type AppPayloadWithFeatureFlags = {enabled_features?: EnabledFeatures}\nexport type EnabledFeatures = {[key: string]: boolean | undefined}\n\n/**\n * Fetches all client side feature flags.\n *\n * Note: If your app isn't rendered in the monolith using the registerReactAppFactory function,\n * you can use the FeatureFlagProvider to wrap your app in a context and populate the\n * client side feature flags yourself.\n */\nexport const useFeatureFlags = () => useAppPayload<AppPayloadWithFeatureFlags>()?.enabled_features ?? {}\n\n/**\n * Fetches a specific client side feature flag.\n *\n * Note: If your app isn't rendered in the monolith using the registerReactAppFactory function,\n * you can use the FeatureFlagProvider to wrap your app in a context and populate the\n * client side feature flags yourself.\n */\nexport const useFeatureFlag = (featureName: string) => !!useFeatureFlags()[featureName]\n","// When using SSR, browser globals are not available. If you try to use them, Node.js will throw an error\ntype SSRSafeLocation = Pick<Location, 'pathname' | 'origin' | 'search' | 'hash' | 'href'>\n\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeDocument = typeof document === 'undefined' ? undefined : document\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeWindow = typeof window === 'undefined' ? undefined : window\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeHistory = typeof history === 'undefined' ? undefined : history\n\nexport const ssrSafeLocation: SSRSafeLocation =\n  // eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\n  typeof location === 'undefined' ? {pathname: '', origin: '', search: '', hash: '', href: ''} : location\n\nexport function setLocation(url: string) {\n  // eslint-disable-next-line no-restricted-syntax\n  const parsedURL: SSRSafeLocation = new URL(url)\n  const {pathname, origin, search, hash} = parsedURL\n\n  Object.assign(ssrSafeLocation, {pathname, origin, search, hash})\n}\n","import {ssrSafeDocument} from './ssr-globals'\n\n/***\n * Are we rendering on the server?\n */\nexport const IS_SERVER = typeof ssrSafeDocument === 'undefined'\n\n/***\n * Are we rendering on the client?\n */\nexport const IS_BROWSER = !IS_SERVER\n\n/***\n * This helper returns `true` if:\n * - we are rendering on the server\n * - we are on the client, and the app has been hydrated from a server-render\n */\nexport function wasServerRendered() {\n  if (IS_SERVER) {\n    return true\n  }\n\n  return Boolean(ssrSafeDocument!.querySelector('react-app[data-ssr=\"true\"]'))\n}\n","export interface TestIdProps {\n  /** Test ID to be queried by automated testing suites */\n  'data-testid'?: string\n}\n\nexport const testIdProps = (value: string): TestIdProps => {\n  return {'data-testid': value}\n}\n","import {useTrackingRef} from '@github-ui/use-tracking-ref'\nimport debounce, {type DebouncedFunc, type DebounceSettings} from 'lodash-es/debounce'\nimport {useEffect, useMemo} from 'react'\n\nexport interface DebounceHookChangeSettings {\n  /**\n   * When the parameters (ie, the wait duration or any settings) are changed or the hook\n   * is unmounted, any pending trailing calls must be handled to avoid potential memory\n   * leaks. This parameter controls the handling strategy. This only has effect if\n   * `trailing` is `true`.\n   *\n   * Options are:\n   *\n   * - `flush` (default): Call pending calls immediately. May result in occasionally calling\n   *   more often than expected. This is the safest way to avoid losing data. If the callback\n   *   is async, care must be taken not to set state or perform other actions if not mounted\n   *   after awaiting.\n   * - `cancel`: Cancel pending calls. May result in dropping calls.\n   */\n  onChangeBehavior?: 'flush' | 'cancel'\n}\n\nexport type UseDebounceSettings = DebounceSettings & DebounceHookChangeSettings\n\n/**\n * Get a debounced version of the provided function. A debounced function will wait to be\n * called until `waitMs` milliseconds have passed since the last invocation. The result of\n * this hook is referentially stable with respect to `fn`, but will change if the other\n * parameters change.\n *\n * @see {@link debounce Lodash's debounce docs} for more details on available options.\n */\nexport const useDebounce = <Fn extends (...args: never[]) => unknown>(\n  fn: Fn,\n  waitMs: number,\n  {leading = false, maxWait, trailing = true, onChangeBehavior = 'flush'}: UseDebounceSettings = {},\n): DebouncedFunc<Fn> => {\n  const fnRef = useTrackingRef(fn)\n\n  const debouncedFn = useMemo(() => {\n    // It's not enough to set `maxWait` to `undefined` in the options object - it needs to not be `in`\n    // the object at all. See: https://github.com/lodash/lodash/issues/5495\n    // For `leading` and `trailing` we default to the default boolean values so they are fine.\n    const options = maxWait === undefined ? {leading, trailing} : {leading, trailing, maxWait}\n\n    return debounce((...args: Parameters<typeof fnRef.current>) => fnRef.current(...args), waitMs, options)\n  }, [fnRef, waitMs, leading, maxWait, trailing])\n\n  useEffect(\n    () => () => {\n      debouncedFn?.[onChangeBehavior]()\n    },\n    [debouncedFn, onChangeBehavior],\n  )\n\n  return debouncedFn\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {useLayoutEffect} from 'react'\nimport {IS_BROWSER} from '@github-ui/ssr-utils'\n\n/**\n * @package\n *\n * Prefer `useClientValue` from `@github-ui/use-client-value` or `useLayoutEffect` from React. This hook exists\n * to support an optimization to avoid unnecessary re-paints after hydration and should not be used to measure DOM\n * elements or other browser-only values.\n *\n * An SSR-Friendly wrapper around `useLayoutEffect` that will not run on the server and so will not\n * trigger the React warning about calling `useLayoutEffect` on the server.\n */\nexport function useHydratedEffect(effect: React.EffectCallback, deps?: React.DependencyList | undefined) {\n  if (IS_BROWSER) {\n    // A bit of a hack!\n    // We want to avoid the React warning about calling `useLayoutEffect` on the server. But we also want to\n    // keep the linter from yelling because it thinks this is a conditional hook call. `useLayoutEffect` only runs on\n    // the client anyways, otherwise none of this would be a good idea.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(effect, deps)\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {useHydratedEffect} from '@github-ui/use-hydrated-effect'\nimport {useCallback, useRef} from 'react'\n\n/**\n * Hook for determining whether a component is still mounted.\n *\n * Use this to guard side-effects of asynchronous operations (fetches,\n * promises) that may complete after a component has been unmounted.\n *\n * Example:\n *\n *      const isMounted = useIsMounted();\n *      const [value, setHidden] = useHidden(true);\n *\n *      setTimeout(() => {\n *          if (isMounted()) {\n *              setHidden(true);\n *          }\n *      }, 1000);\n *\n */\nexport default function useIsMounted() {\n  const mountedRef = useRef(false)\n  const isMounted = useCallback(() => mountedRef.current, [])\n\n  useHydratedEffect(() => {\n    mountedRef.current = true\n\n    return () => {\n      mountedRef.current = false\n    }\n  }, [])\n\n  return isMounted\n}\n","import {useLayoutEffect} from '@github-ui/use-layout-effect'\nimport type {RefObject} from 'react'\nimport {useCallback, useEffect, useRef} from 'react'\n\ntype OnKeyPressCallBack = (event: KeyboardEvent) => void\n\nexport enum ModifierKeys {\n  ctrlKey = 'ctrlKey',\n  altKey = 'altKey',\n  shiftKey = 'shiftKey',\n  metaKey = 'metaKey',\n}\n\nexport type OnKeyPressOptions = {[key in ModifierKeys]?: boolean} & {\n  triggerWhenInputElementHasFocus?: boolean\n  triggerWhenPortalIsActive?: boolean\n  scopeRef?: RefObject<HTMLElement>\n  ignoreModifierKeys?: boolean\n}\n\nexport const useKeyPress = (keys: string[], callback: OnKeyPressCallBack, options?: OnKeyPressOptions) => {\n  // implement the callback ref pattern\n  const callbackRef = useRef(callback)\n  useLayoutEffect(() => {\n    callbackRef.current = callback\n  })\n\n  // handle what happens on key press\n  const handleKeyPress: EventListener = useCallback(\n    (event: Event) => {\n      const keyboardEvent = event as KeyboardEvent\n\n      if (isPortalActive() && !options?.triggerWhenPortalIsActive) {\n        return\n      }\n\n      if (!checkModifierKeys(keyboardEvent, options) && !options?.ignoreModifierKeys) {\n        return\n      }\n\n      if (!options?.triggerWhenInputElementHasFocus && eventTargetIsInputElement(keyboardEvent)) {\n        return\n      }\n\n      // check if the key is part of the ones we want to listen to\n      if (\n        keys.some(key => {\n          // In these cases we look at event.code since event.key will depend on whether a modifier key is pressed\n          if (/^\\d$/.test(key)) {\n            return keyboardEvent.code === `Digit${key}`\n          } else if (key === '/') {\n            return keyboardEvent.code === 'Slash'\n          }\n\n          return keyboardEvent.key === key\n        })\n      ) {\n        callbackRef.current(keyboardEvent)\n      }\n    },\n    [keys, options],\n  )\n\n  useEffect(() => {\n    const targetElement = options?.scopeRef?.current || document\n    targetElement.addEventListener('keydown', handleKeyPress)\n    return () => targetElement.removeEventListener('keydown', handleKeyPress)\n  }, [handleKeyPress, options?.scopeRef])\n}\n\nconst portalSelectors = '#__primerPortalRoot__, [id$=\"-portal-root\"]'\n\nfunction isPortalActive() {\n  const portals = [...document.querySelectorAll(portalSelectors)]\n  return portals.some(elementHasNonZeroHeight)\n}\n\nfunction elementHasNonZeroHeight(element: Element): boolean {\n  if (element.clientHeight > 0) return true\n\n  for (const child of element.children) {\n    if (elementHasNonZeroHeight(child)) return true\n  }\n\n  return false\n}\n\nfunction checkModifierKeys(keyboardEvent: KeyboardEvent, options: OnKeyPressOptions | undefined) {\n  for (const key of Object.values(ModifierKeys)) {\n    if (options && options[key] && !keyboardEvent[key]) {\n      // modifier key is required but not pressed\n      return false\n    }\n\n    if (keyboardEvent[key] && (!options || !options[key])) {\n      // modifier key is pressed but not required\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function eventTargetIsInputElement(event: KeyboardEvent) {\n  return event.target instanceof HTMLTextAreaElement || event.target instanceof HTMLInputElement\n}\n","import React, {startTransition} from 'react'\nimport {\n  createSearchParams,\n  matchRoutes,\n  resolvePath,\n  useLocation,\n  useNavigate as useReactRouterNavigate,\n  useSearchParams as useReactRouterSearchParams,\n  type NavigateOptions,\n  type To,\n  type URLSearchParamsInit,\n} from 'react-router-dom'\n\nimport isHashNavigation from '@github-ui/is-hash-navigation'\nimport {AppContext} from '@github-ui/react-core/app-context'\nimport {startSoftNav} from '@github-ui/soft-nav/state'\nimport {PREVENT_AUTOFOCUS_KEY} from '@github-ui/react-core/prevent-autofocus'\n\nexport interface NavigateOptionsWithPreventAutofocus extends NavigateOptions {\n  preventAutofocus?: boolean\n}\n\nexport const useNavigate = (): ((to: To, options?: NavigateOptionsWithPreventAutofocus) => void) => {\n  const {routes, history} = React.useContext(AppContext)\n  const reactRouterNavigate = useReactRouterNavigate()\n  return React.useCallback(\n    (to, navigateOptions = {}) => {\n      const pathname = resolvePath(to).pathname\n      const isExternalToApp = !matchRoutes(routes, pathname)\n\n      if (isExternalToApp) {\n        const href = history.createHref(to)\n        ;(async () => {\n          const {softNavigate: turboSoftNavigate} = await import('@github-ui/soft-navigate')\n          turboSoftNavigate(href)\n        })()\n      } else {\n        if (!isHashNavigation(location.href, to.toString())) {\n          startSoftNav('react')\n        }\n        const {preventAutofocus, ...options} = navigateOptions\n        startTransition(() => {\n          reactRouterNavigate(\n            to,\n            preventAutofocus\n              ? {\n                  ...options,\n                  state: {\n                    [PREVENT_AUTOFOCUS_KEY]: true,\n                    ...options.state,\n                  },\n                }\n              : options,\n          )\n          const {turbo, ...state} = window.history.state\n          window.history.replaceState({...state, skipTurbo: true}, '', location.href)\n        })\n      }\n    },\n    [history, reactRouterNavigate, routes],\n  )\n}\n\n/**\n * An implementation of `useSearchParams` that mirrors `react-router-dom`'s `useSearchParams` hook\n * but utilizes `@github-ui/useNavigate` instead of `react-router` `useNavigate` to handle updates.\n */\nexport const useSearchParams = () => {\n  const [searchParams] = useReactRouterSearchParams()\n  const navigate = useNavigate()\n  const {pathname} = useLocation()\n\n  const setSearchParams = React.useCallback<\n    (\n      nextInit?: URLSearchParamsInit | ((prev: URLSearchParams) => URLSearchParamsInit),\n      navigateOpts?: NavigateOptionsWithPreventAutofocus,\n    ) => void\n  >(\n    (nextInit, navigateOptions = {}) => {\n      const newSearchParams = createSearchParams(typeof nextInit === 'function' ? nextInit(searchParams) : nextInit)\n      navigate(\n        {\n          pathname,\n          search: newSearchParams.toString(),\n        },\n        navigateOptions,\n      )\n    },\n    [searchParams, navigate, pathname],\n  )\n\n  return [searchParams, setSearchParams] as const\n}\n","import useIsMounted from '@github-ui/use-is-mounted'\nimport {useCallback, useState} from 'react'\n\nfunction useSafeState<T = undefined>(): [T | undefined, React.Dispatch<React.SetStateAction<T | undefined>>]\nfunction useSafeState<T>(initialState: T | (() => T)): [T, React.Dispatch<React.SetStateAction<T>>]\n\nfunction useSafeState<T>(initialState?: T | (() => T)) {\n  const isMounted = useIsMounted()\n  const [state, setState] = useState(initialState)\n\n  const setSafeState = useCallback(\n    (value: React.SetStateAction<T | undefined>) => {\n      if (isMounted()) {\n        setState(value)\n      }\n    },\n    [isMounted],\n  )\n\n  return [state, setSafeState]\n}\n\nexport default useSafeState\n","interface Props {\n  children: React.ReactNode\n  'data-hpc'?: boolean\n}\n\nexport default function Layout(props: Props) {\n  const {children, 'data-hpc': dataHpc} = props\n\n  return <div data-hpc={dataHpc ? true : undefined}>{children}</div>\n}\n\ntry{ Layout.displayName ||= 'Layout' } catch {}","import {useKeyPress} from '@github-ui/use-key-press'\nimport {type OverlayProps, SelectPanel, type SelectPanelProps} from '@primer/react'\nimport type {ItemProps} from '@primer/react/lib-esm/deprecated/ActionList'\nimport type {ItemInput} from '@primer/react/lib-esm/deprecated/ActionList/List'\nimport type {RefObject} from 'react'\nimport type React from 'react'\nimport {useCallback, useEffect, useId, useMemo, useState} from 'react'\n\nimport {useItemPickersContext} from '../contexts/ItemPickersContext'\nimport {type ItemGroup, noMatchesItem, noResultsItem} from '../shared'\nimport {IDS} from '../constants/ids'\nimport {SELECTORS} from '../constants/selectors'\nimport {GlobalCommands, type CommandId} from '@github-ui/ui-commands'\nimport {useFeatureFlags} from '@github-ui/react-core/use-feature-flag'\n\nexport type SharedBulkActionsItemPickerProps = {\n  issuesToActOn: string[]\n  useQueryForAction: boolean\n  repositoryId?: string\n  query?: string\n  onCompleted?: (jobId?: string) => void\n  onError?: (error: Error) => void\n}\n\nexport type ItemPickerProps<T> = Pick<OverlayProps, 'height' | 'width'> & {\n  items: Array<T & {__isNew__?: boolean}>\n  initialSelectedItems: T[] | string[]\n  openHotkey?: string\n  placeholderText: string\n  selectionVariant: 'single' | 'multiple'\n  loading?: boolean\n  groups?: ItemGroup[]\n  filterItems: (filter: string) => void\n  renderAnchor: (props: React.HTMLAttributes<HTMLElement>) => JSX.Element\n  getItemKey: (item: T) => string\n  convertToItemProps: (item: T) => ExtendedItemProps<T>\n  onSelectionChange: (items: T[]) => void\n  onOpen?: () => void\n  onClose?: () => void\n  selectPanelRef?: RefObject<HTMLButtonElement>\n  enforceAtleastOneSelected?: boolean\n  insidePortal?: boolean\n  maxVisibleItems?: number\n  /**\n   * Whether to render the item picker as a nested select panel (true) versus a standalone select\n   * panel (false; default).\n   */\n  nested?: boolean\n  resultListAriaLabel?: string\n  title?: string | React.ReactElement\n  subtitle?: string | React.ReactElement\n  preventClose?: boolean\n  triggerOpen?: boolean\n  initialFilter?: string\n  customNoResultsItem?: ItemProps\n  customNoMatchItem?: T\n  footer?: string | React.ReactElement\n  keybindingCommandId?: CommandId\n}\n\nexport type ExtendedItemProps<T> = ItemProps & {source: T}\n\nexport function ItemPicker<T>({\n  items,\n  initialSelectedItems,\n  openHotkey,\n  placeholderText,\n  selectionVariant,\n  loading,\n  groups,\n  filterItems,\n  renderAnchor,\n  getItemKey,\n  convertToItemProps,\n  onSelectionChange,\n  onOpen,\n  onClose,\n  height = 'small',\n  width = 'small',\n  selectPanelRef,\n  enforceAtleastOneSelected,\n  insidePortal,\n  maxVisibleItems = 9,\n  nested = false,\n  resultListAriaLabel,\n  title,\n  subtitle,\n  preventClose,\n  triggerOpen,\n  initialFilter,\n  customNoResultsItem,\n  customNoMatchItem,\n  footer,\n  keybindingCommandId,\n}: ItemPickerProps<T>) {\n  const [open, setOpen] = useState(triggerOpen ?? false)\n  const [selected, setSelected] = useState<ItemInput[]>([])\n  const [filter, setFilter] = useState<string>(initialFilter ?? '')\n  const {updateOpenState, anyItemPickerOpen} = useItemPickersContext()\n  const id = useId()\n\n  // Update open state if controlled by consumer\n  useEffect(() => {\n    if (triggerOpen !== undefined) setOpen(triggerOpen)\n  }, [triggerOpen])\n  const {issues_react_ui_commands_migration} = useFeatureFlags()\n\n  const handleKeyDown = useCallback(() => {\n    if (anyItemPickerOpen() || open) {\n      return\n    }\n    setOpen(true)\n    if (onOpen) onOpen()\n  }, [anyItemPickerOpen, open, onOpen])\n\n  const onHotKeyPress = useCallback(\n    (e: KeyboardEvent) => {\n      if (anyItemPickerOpen() || open) {\n        return\n      }\n      // We don't want the filter to show the hotkey\n      e.preventDefault()\n      e.stopPropagation()\n      setOpen(true)\n      if (onOpen) onOpen()\n    },\n    [anyItemPickerOpen, open, onOpen],\n  )\n\n  useKeyPress(openHotkey ? [openHotkey] : [], onHotKeyPress, {\n    triggerWhenInputElementHasFocus: false,\n    triggerWhenPortalIsActive: insidePortal || false,\n  })\n\n  useEffect(() => {\n    updateOpenState(id, open)\n  }, [id, open, updateOpenState])\n\n  const map = useMemo(\n    () => new Map<string, ExtendedItemProps<T>>(),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id, initialSelectedItems],\n  )\n\n  const toItemProps = useCallback(\n    (item: T, itemSelected: boolean): ExtendedItemProps<T> => {\n      const itemKey = getItemKey(item)\n      let itemProps = map.get(itemKey)\n      if (itemProps) {\n        return itemProps\n      }\n\n      itemProps = convertToItemProps(item)\n\n      itemProps.selected = itemSelected\n      const onAction = itemProps.onAction\n      itemProps.onAction = (props, event) => {\n        const i = map.get(itemKey)\n        if (!i) return\n        i.selected = !i.selected\n\n        // if using single select, clear selection of all other items\n        if (selectionVariant === 'single' && (item as ItemProps).id !== filter) {\n          for (const [, value] of map) {\n            if (value !== i) {\n              value.selected = false\n            }\n          }\n        }\n\n        if (onAction) {\n          onAction(props, event)\n        }\n      }\n\n      map.set(itemKey, itemProps)\n      return itemProps\n    },\n    [convertToItemProps, filter, getItemKey, map, selectionVariant],\n  )\n\n  const wrappedGetItemKey = useCallback(\n    (item: T | string) => (typeof item === 'string' ? item : getItemKey(item)),\n    [getItemKey],\n  )\n\n  const selectPanelItems = useMemo<ItemProps[]>(() => {\n    const itemProps = items.map(i => {\n      // If we have newly created items, we remove the __isNew__ flag from the item\n      // after selecting it, so that it can be deselected.\n      // We also remove the \"no match\" item since clicking on it adds it to the selected items,\n      // and we don't want to add that synthetic item to the mutation.\n      if (i.__isNew__) {\n        delete i.__isNew__\n        customNoMatchItem && map.delete(getItemKey(customNoMatchItem))\n        // We auto select newly created items\n        return toItemProps(i, true)\n      }\n      return toItemProps(\n        i,\n        initialSelectedItems.some(is => wrappedGetItemKey(is) === getItemKey(i)),\n      )\n    })\n\n    if (itemProps.length === 0) {\n      if (customNoMatchItem) return [toItemProps(customNoMatchItem, false)]\n\n      // Differentiate between no results and no matches\n      return filter ? [customNoMatchItem ?? noMatchesItem] : [customNoResultsItem ?? noResultsItem]\n    }\n\n    return itemProps\n  }, [\n    customNoMatchItem,\n    items,\n    map,\n    toItemProps,\n    initialSelectedItems,\n    wrappedGetItemKey,\n    getItemKey,\n    filter,\n    customNoResultsItem,\n  ])\n\n  useEffect(() => {\n    setSelected(selectPanelItems.filter(i => i.selected))\n  }, [selectPanelItems])\n\n  const selectPanelSelectedItems = useMemo<ItemInput | ItemInput[]>(() => {\n    if (selectionVariant === 'single') {\n      return selected[0]!\n    } else {\n      return selected\n    }\n  }, [selected, selectionVariant]) as ItemProps[]\n\n  const onSelectedChange = useCallback(\n    (param: ItemInput[] | ItemInput | undefined) => {\n      if (param === undefined) {\n        if (!enforceAtleastOneSelected) {\n          setSelected([])\n        }\n        return\n      }\n\n      const selectedItemInputs = Array.isArray(param) ? param : [param]\n      const newSelection = selectedItemInputs\n        .map(i => selectPanelItems.find(item => i.id === item.id))\n        .filter(i => i !== undefined) as Array<ExtendedItemProps<T>>\n\n      setSelected(newSelection)\n    },\n    [enforceAtleastOneSelected, selectPanelItems],\n  )\n\n  const onSpaceKeyPress = (event: KeyboardEvent) => {\n    if (open) {\n      const activeOption = document.querySelector(SELECTORS.activePickerOption(IDS.itemPickerRootId))\n\n      if (activeOption) {\n        const activeDataId = activeOption.getAttribute('data-id')\n        const item = [...map.values()].find(i => i.id === activeDataId)\n\n        if (item) {\n          event.preventDefault()\n          event.stopPropagation()\n          // Toggle the selected state of the item\n          item.selected = !item.selected\n          setSelected([...map.values()].filter(i => i.selected))\n        }\n      }\n    }\n  }\n\n  useKeyPress([' '], onSpaceKeyPress, {\n    triggerWhenInputElementHasFocus: true,\n    triggerWhenPortalIsActive: true,\n  })\n\n  const onOpenChange = useCallback(\n    (isOpen: boolean) => {\n      if (preventClose && !isOpen) {\n        return\n      }\n      setOpen(isOpen)\n\n      if (isOpen && onOpen) {\n        onOpen()\n        return\n      }\n\n      setFilter('')\n      if (onClose) onClose()\n      const selectedItems = [...map.values()].filter(i => i.selected).map(i => i.source)\n      const selectionChanged =\n        selectedItems.length !== initialSelectedItems.length ||\n        selectedItems.some(item => !initialSelectedItems.some(item2 => wrappedGetItemKey(item2) === getItemKey(item)))\n\n      if (selectionChanged) {\n        onSelectionChange(selectedItems)\n      }\n    },\n    [preventClose, onClose, map, initialSelectedItems, onOpen, wrappedGetItemKey, getItemKey, onSelectionChange],\n  )\n\n  useEffect(() => {\n    filterItems(filter)\n  }, [filter, filterItems])\n\n  let hasItems = selectPanelItems.length > 0\n  if (\n    selectPanelItems.length === 1 &&\n    (selectPanelItems[0]!.id === noMatchesItem.id || selectPanelItems[0]!.id === noResultsItem.id)\n  ) {\n    // Don't show groups if there are only placeholder items (which aren't grouped)\n    hasItems = false\n  }\n\n  // SelectPanel doesn't handle an empty groupMetadata prop properly\n  const groupMetadataProp = useMemo(\n    () => (groups && groups?.length > 1 && hasItems ? {groupMetadata: groups} : {}),\n    [groups, hasItems],\n  )\n\n  const overlayHeight = selectPanelItems.length <= maxVisibleItems ? 'auto' : height\n\n  const selectPanelProps = useMemo<SelectPanelProps>(\n    () => ({\n      renderAnchor,\n      placeholderText,\n      open,\n      onOpenChange,\n      loading,\n      items: selectPanelItems,\n      selected: selectPanelSelectedItems,\n      onSelectedChange,\n      filterValue: filter,\n      onFilterChange: setFilter,\n      showItemDividers: true,\n      overlayProps: {width, height: overlayHeight},\n      ...groupMetadataProp,\n      'aria-label': resultListAriaLabel,\n      'data-id': IDS.itemPickerRootId,\n      'data-testid': IDS.itemPickerTestId,\n      title,\n      subtitle,\n      footer,\n    }),\n    [\n      renderAnchor,\n      placeholderText,\n      open,\n      onOpenChange,\n      loading,\n      selectPanelItems,\n      selectPanelSelectedItems,\n      onSelectedChange,\n      filter,\n      width,\n      overlayHeight,\n      groupMetadataProp,\n      resultListAriaLabel,\n      title,\n      subtitle,\n      footer,\n    ],\n  )\n\n  return (\n    <>\n      {issues_react_ui_commands_migration && keybindingCommandId && (\n        <GlobalCommands commands={{[keybindingCommandId]: handleKeyDown}} />\n      )}\n      <SelectPanel anchorRef={nested ? undefined : selectPanelRef} {...selectPanelProps} />\n    </>\n  )\n}\n\ntry{ ItemPicker.displayName ||= 'ItemPicker' } catch {}","import {createContext, type ReactNode, useCallback, useContext, useMemo, useRef} from 'react'\n\ntype ItemPickerOpenStates = Readonly<Record<string, boolean>>\n\ntype ItemPickersContextType = {\n  // Method to update the open state of an itempicker\n  updateOpenState: (id: string, isOpen: boolean) => void\n  // Method to get the open state of an itempicker\n  anyItemPickerOpen: () => boolean\n}\n\ntype ItemPickersContextProviderType = {\n  children: ReactNode\n}\n\nconst ItemPickersContext = createContext<ItemPickersContextType>({\n  updateOpenState: () => undefined,\n  anyItemPickerOpen: () => false,\n})\n\nexport function ItemPickersContextProvider({children}: ItemPickersContextProviderType) {\n  const itemPickerOpenStates = useRef<ItemPickerOpenStates>({})\n\n  const updateOpenState = useCallback((id: string, isOpen: boolean) => {\n    const previousState = itemPickerOpenStates.current\n    if (previousState[id] === isOpen) return itemPickerOpenStates.current\n    itemPickerOpenStates.current = {...previousState, [id]: isOpen}\n    return itemPickerOpenStates.current\n  }, [])\n\n  const anyItemPickerOpen = useCallback(() => {\n    return Object.values(itemPickerOpenStates.current).some(s => s)\n  }, [itemPickerOpenStates])\n\n  const contextValue = useMemo(() => {\n    return {updateOpenState, anyItemPickerOpen}\n  }, [anyItemPickerOpen, updateOpenState])\n\n  return <ItemPickersContext.Provider value={contextValue}>{children}</ItemPickersContext.Provider>\n}\n\nexport function useItemPickersContext(): ItemPickersContextType {\n  const context = useContext(ItemPickersContext)\n\n  if (!context) {\n    throw new Error('useItemPickersContext must be used within a ItemPickersContextProvider.')\n  }\n\n  return context\n}\n\ntry{ ItemPickersContext.displayName ||= 'ItemPickersContext' } catch {}\ntry{ ItemPickersContextProvider.displayName ||= 'ItemPickersContextProvider' } catch {}","/*\nNote: This component is considered EXPERIMENTAL currently.\nIn the future this should move out of `react-shared` and become part of primer.\nThe underlying PVC query-builder is considered experimental and is being worked on - be advised.\n*/\n\nimport {QueryBuilderElement} from '@github-ui/query-builder-element'\nimport {testIdProps} from '@github-ui/test-id-props'\nimport {\n  AppsIcon,\n  ArchiveIcon,\n  BookmarkIcon,\n  CalendarIcon,\n  CircleSlashIcon,\n  CodeIcon,\n  CommentDiscussionIcon,\n  CommentIcon,\n  DotFillIcon,\n  FileIcon,\n  FilterIcon,\n  GitBranchIcon,\n  GitMergeIcon,\n  GitPullRequestIcon,\n  HistoryIcon,\n  IssueClosedIcon,\n  IssueDraftIcon,\n  IssueOpenedIcon,\n  IterationsIcon,\n  MentionIcon,\n  MilestoneIcon,\n  NoEntryIcon,\n  OrganizationIcon,\n  PencilIcon,\n  PeopleIcon,\n  PersonIcon,\n  PlusCircleIcon,\n  QuestionIcon,\n  RepoIcon,\n  SearchIcon,\n  SingleSelectIcon,\n  SmileyIcon,\n  SortDescIcon,\n  TableIcon,\n  TagIcon,\n  TrashIcon,\n  XCircleFillIcon,\n} from '@primer/octicons-react'\nimport {Box, IconButton, Octicon, type SxProp} from '@primer/react'\nimport type React from 'react'\nimport {useCallback, useEffect, useRef, useState} from 'react'\nimport {renderToString} from 'react-dom/server'\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  namespace JSX {\n    interface IntrinsicElements {\n      'query-builder': {\n        children?: React.ReactNode\n        ref: React.RefObject<QueryBuilderElement>\n      }\n    }\n  }\n}\n\nexport type QueryBuilderProps = {\n  id: string\n  onRequestProvider: (event: Event) => void\n  inputRef?: React.RefObject<HTMLInputElement>\n  placeholder: string | undefined\n  inputValue: string | undefined\n  label: string\n  visuallyHideLabel?: boolean\n  clearIconInitiallyVisible?: boolean\n  onKeyPress?: React.KeyboardEventHandler<Element>\n  onKeyDown?: React.KeyboardEventHandler<Element>\n  onChange: React.ChangeEventHandler<HTMLInputElement>\n  renderSingularItemNames?: boolean\n  sxString?: string\n  'data-testid'?: string | undefined\n  sx?: SxProp | null\n}\n\nexport function QueryBuilder({\n  id,\n  inputRef,\n  placeholder,\n  inputValue,\n  label,\n  visuallyHideLabel,\n  clearIconInitiallyVisible = false,\n  onKeyPress,\n  onKeyDown,\n  onChange,\n  onRequestProvider,\n  renderSingularItemNames,\n  sxString,\n  'data-testid': dataTestId,\n  sx,\n}: QueryBuilderProps) {\n  const queryBuilderRef = useRef<QueryBuilderElement>(null)\n\n  id = `query-builder-${id}`\n  const labelId = `${id}-label`\n  const inputId = `${id}-input`\n\n  useEffect(() => {\n    if (!(queryBuilderRef.current instanceof QueryBuilderElement)) {\n      return\n    }\n\n    const currentRef = queryBuilderRef.current\n    if (currentRef) {\n      currentRef.addEventListener('query-builder:request-provider', onRequestProvider)\n      currentRef.readyForRequestProviders()\n      currentRef.id = `query-builder-${id}`\n      currentRef.setAttribute('data-filter-key', ':') // todo: this should be the default in query builder\n      currentRef.className = 'QueryBuilder'\n      currentRef.renderSingularItemNames = renderSingularItemNames || true\n      if (sxString != null) currentRef.setAttribute('style', sxString)\n    }\n\n    return () => {\n      currentRef?.removeEventListener('query-builder:request-provider', onRequestProvider)\n    }\n  }, [id, onRequestProvider, sxString, renderSingularItemNames])\n\n  const leadingVisual = (\n    <Box\n      sx={{\n        width: '100%',\n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyItems: 'flex-start',\n      }}\n    >\n      <Octicon icon={SearchIcon} aria-label=\"Search\" sx={{ml: '12px', mr: 1, color: 'fg.muted'}} />\n    </Box>\n  )\n\n  const onSubmit = (event: React.FormEvent) => {\n    event.preventDefault()\n    const queryBuilder = queryBuilderRef.current\n    queryBuilder?.inputSubmit()\n  }\n\n  const [currentValue, setCurrentValue] = useState(inputValue)\n\n  const onChangeWithState = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setCurrentValue(inputRef?.current?.value)\n      onChange(e)\n    },\n    [inputRef, onChange],\n  )\n\n  // Updating inner state when input value is changed from outside this component\n  useEffect(() => {\n    async function updateInputValue() {\n      setCurrentValue(inputValue)\n      await queryBuilderRef?.current?.parseQuery(undefined, false)\n    }\n    if (inputValue !== currentValue) updateInputValue()\n  }, [currentValue, inputValue, queryBuilderRef])\n\n  return (\n    <form\n      acceptCharset=\"UTF-8\"\n      action=\"/search\"\n      method=\"get\"\n      style={{flex: 1, minWidth: 0, ...sx}}\n      onSubmit={e => onSubmit(e)}\n      {...testIdProps('query-builder-form')}\n    >\n      <query-builder ref={queryBuilderRef} defer-request-providers data-catalyst=\"true\" data-filter-key=\":\">\n        <div className=\"FormControl FormControl--fullWidth\" style={{gap: 0}}>\n          <label\n            id={labelId}\n            htmlFor={inputId}\n            className={`FormControl-label ${\n              visuallyHideLabel === undefined || visuallyHideLabel === true ? 'sr-only' : ''\n            }`}\n          >\n            {label}\n          </label>\n          <div\n            className=\"QueryBuilder-StyledInput width-fit\"\n            data-target=\"query-builder.styledInput\"\n            style={{minHeight: '30px'}}\n          >\n            {leadingVisual ? (\n              <span id={`${id}-leadingvisual-wrap`}>{leadingVisual}</span>\n            ) : (\n              <div className=\"QueryBuilder-spacer\" />\n            )}\n            <div\n              data-target=\"query-builder.styledInputContainer\"\n              className=\"QueryBuilder-StyledInputContainer\"\n              tabIndex={-1}\n              {...testIdProps('filter-styled-input')}\n            >\n              <div\n                aria-hidden=\"true\"\n                className=\"QueryBuilder-StyledInputContent\"\n                data-target=\"query-builder.styledInputContent\"\n              />\n              <div className=\"QueryBuilder-InputWrapper\" style={{height: '30px'}}>\n                <div aria-hidden=\"true\" className=\"QueryBuilder-Sizer\" data-target=\"query-builder.sizer\" />\n                <input\n                  id={inputId}\n                  data-testid={dataTestId}\n                  placeholder={placeholder}\n                  ref={inputRef}\n                  value={inputValue}\n                  onKeyPress={onKeyPress}\n                  onKeyDown={onKeyDown}\n                  onChange={onChangeWithState}\n                  name={`${id}-inputname`}\n                  autoComplete=\"off\"\n                  spellCheck=\"false\"\n                  className=\"FormControl-input QueryBuilder-Input FormControl-medium\"\n                  data-target={'query-builder.input'}\n                  data-action=\"input:query-builder#inputChange blur:query-builder#inputBlur keydown:query-builder#inputKeydown focus:query-builder#inputFocus\"\n                  style={{height: '30px'}}\n                  aria-labelledby={labelId}\n                />\n              </div>\n            </div>\n            {/* Adds visually hidden \"clear\" text - required for the aria-label to read the clear button text appropriately */}\n            <span className=\"sr-only\" id={`${id}-clear`}>\n              Clear\n            </span>\n            {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n            <IconButton\n              unsafeDisableTooltip={true}\n              type={'button'}\n              id={`${id}-clear-button`}\n              aria-labelledby={`${id}-clear ${labelId}`}\n              data-target={'query-builder.clearButton'}\n              data-action={\n                'click:query-builder#clear focus:query-builder#clearButtonFocus blur:query-builder#clearButtonBlur'\n              }\n              align-items={'center'}\n              border-radius={1}\n              size={'small'}\n              sx={{mr: '1px', px: 2, py: 0, display: 'flex', color: 'muted', borderRadius: '0 4px 4px 0'}}\n              hidden={clearIconInitiallyVisible}\n              variant=\"invisible\"\n              {...testIdProps('clear-filters-query-builder')}\n              icon={XCircleFillIcon}\n            />\n          </div>\n          {iconsTemplate}\n          <div className=\"position-relative\">\n            <div className=\"Overlay-backdrop--anchor right-0 left-0\" style={{marginTop: '4px'}}>\n              <div\n                className=\"Overlay Overlay-whenNarrow Overlay--height-auto\"\n                hidden\n                data-target=\"query-builder.overlay\"\n              >\n                <div className=\"Overlay-body Overlay-body--paddingNone\">\n                  <ul\n                    role=\"listbox\"\n                    className=\"ActionListWrap QueryBuilder-ListWrap\"\n                    aria-label=\"Suggestions\"\n                    data-action=\"combobox-commit:query-builder#comboboxCommit mousedown:query-builder#resultsMousedown\"\n                    data-target=\"query-builder.resultsList\"\n                    data-persist-list={false}\n                    id={`${id}-results`}\n                    {...testIdProps('query-builder-results')}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          data-target=\"query-builder.screenReaderFeedback\"\n          aria-live=\"polite\"\n          aria-atomic=\"true\"\n          className=\"sr-only\"\n        />\n      </query-builder>\n    </form>\n  )\n}\n\nconst templatesToRender = {\n  apps: AppsIcon,\n  archived: ArchiveIcon,\n  bookmark: BookmarkIcon,\n  branch: GitBranchIcon,\n  calendar: CalendarIcon,\n  circle: DotFillIcon,\n  code: CodeIcon,\n  comment: CommentIcon,\n  default: FilterIcon,\n  discussion: CommentDiscussionIcon,\n  draft: IssueDraftIcon,\n  'file-code': FileIcon,\n  filter: FilterIcon,\n  forbidden: NoEntryIcon,\n  history: HistoryIcon,\n  issue: IssueOpenedIcon,\n  issueClosed: IssueClosedIcon,\n  iterations: IterationsIcon,\n  mention: MentionIcon,\n  merged: GitMergeIcon,\n  milestone: MilestoneIcon,\n  no: CircleSlashIcon,\n  not: NoEntryIcon,\n  organization: OrganizationIcon,\n  pencil: PencilIcon,\n  person: PersonIcon,\n  'plus-circle': PlusCircleIcon,\n  project: TableIcon,\n  pullRequest: GitPullRequestIcon,\n  question: QuestionIcon,\n  reaction: SmileyIcon,\n  repo: RepoIcon,\n  search: SearchIcon,\n  'single-select': SingleSelectIcon,\n  sort: SortDescIcon,\n  tag: TagIcon,\n  team: PeopleIcon,\n  trash: TrashIcon,\n}\n\nconst iconsTemplate = (\n  <>\n    {Object.entries(templatesToRender).map(([key, value]) => {\n      const id = `${key}-icon`\n      const html = renderToString(<Octicon icon={value} aria-hidden={false} />)\n\n      // The inner html is needed here because react isn't hanlding <template> elements properly\n      // Note that we are setting fixed values, no user provided data\n      // eslint-disable-next-line react/no-danger\n      return <template key={id} id={id} dangerouslySetInnerHTML={{__html: html}} />\n    })}\n  </>\n)\n\ntry{ QueryBuilder.displayName ||= 'QueryBuilder' } catch {}","import {useMemo, type PropsWithChildren} from 'react'\nimport {AppContext, type AppContextType} from './app-context'\n\nexport function AppContextProvider({routes, history, children}: PropsWithChildren<AppContextType>) {\n  const appContextProviderValue = useMemo(() => ({routes, history}), [routes, history])\n  return <AppContext.Provider value={appContextProviderValue}>{children}</AppContext.Provider>\n}\n\ntry{ AppContextProvider.displayName ||= 'AppContextProvider' } catch {}","import React from 'react'\nimport {FeatureFlags} from '@primer/react/experimental'\nimport {getEnabledFeatures} from '@github-ui/feature-flags'\n\ninterface PrimerFeatureFlagsProps extends React.PropsWithChildren {}\n\nexport function PrimerFeatureFlags({children}: PrimerFeatureFlagsProps) {\n  const featureFlags = getEnabledFeatures()\n  const flags = React.useMemo(() => {\n    const result: Record<string, boolean> = {}\n    for (const flag of featureFlags) {\n      if (flag.startsWith('primer_react_')) {\n        result[flag] = true\n      }\n    }\n    return result\n    // Note: getEnabledFeatures() will be constant between renders. It is placed\n    // within the component so that mockClientEnv works as expected\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return <FeatureFlags flags={flags}>{children}</FeatureFlags>\n}\n\ntry{ PrimerFeatureFlags.displayName ||= 'PrimerFeatureFlags' } catch {}","import type {ReactNode} from 'react'\nimport {RenderPhaseProvider} from '@github-ui/render-phase-provider'\nimport {ThemeProvider} from '@primer/react'\nimport useColorModes from './use-color-modes'\nimport {PrimerFeatureFlags} from './PrimerFeatureFlags'\nimport {ToastContextProvider} from '@github-ui/toast/ToastContext'\nimport {AnalyticsProvider} from '@github-ui/analytics-provider'\n\ninterface Props {\n  appName: string\n  children?: ReactNode\n  wasServerRendered: boolean\n}\n\nconst metadata = {}\n\n/**\n * This component provides the _base_ context for both apps and partials.\n * It should provide everything needed to render with styles, themes, and i18n.\n */\nexport function BaseProviders({appName, children, wasServerRendered}: Props) {\n  const {colorMode, dayScheme, nightScheme} = useColorModes()\n\n  return (\n    <RenderPhaseProvider wasServerRendered={wasServerRendered}>\n      <AnalyticsProvider appName={appName} category=\"\" metadata={metadata}>\n        <PrimerFeatureFlags>\n          <ThemeProvider colorMode={colorMode} dayScheme={dayScheme} nightScheme={nightScheme} preventSSRMismatch>\n            <ToastContextProvider>{children}</ToastContextProvider>\n          </ThemeProvider>\n        </PrimerFeatureFlags>\n      </AnalyticsProvider>\n    </RenderPhaseProvider>\n  )\n}\n\ntry{ BaseProviders.displayName ||= 'BaseProviders' } catch {}","import {CheckIcon, StopIcon, InfoIcon} from '@primer/octicons-react'\nimport {Portal, useSafeTimeout} from '@primer/react'\nimport React, {useEffect, type ReactNode, type ReactElement} from 'react'\n\nexport type ToastType = 'info' | 'success' | 'error'\nexport type ToastRole = 'alert' | 'status' | 'log'\nexport interface ToastProps {\n  message: ReactNode\n  timeToLive?: number\n  icon?: React.ReactNode\n  type?: ToastType\n  role?: ToastRole\n}\n\nconst typeClass: Record<ToastType, string> = {\n  info: '',\n  success: 'Toast--success',\n  error: 'Toast--error',\n}\nconst typeIcon: Record<ToastType, ReactElement> = {\n  info: <InfoIcon />,\n  success: <CheckIcon />,\n  error: <StopIcon />,\n}\n\n// Default role for the Toast is 'log' because 'status' is not read out by some screen readers.\n// Notably, NVDA will not read out popup content if the role is 'status'.\n/**\n *  Warning: Usage of this component is discouraged by the accessibility team as\n * {@link https://github.com/github/engineering/discussions/3313 toasts are a behavior identified as a high-risk pattern}\n * within GitHub.\n * {@link https://github.com/github/accessibility/issues/4414 Reasons why toasts are a high-risk pattern}.\n */\nexport const Toast: React.FC<ToastProps> = ({message, timeToLive, icon, type = 'info', role = 'log'}) => {\n  const [isVisible, setIsVisible] = React.useState(true)\n  const {safeSetTimeout} = useSafeTimeout()\n\n  useEffect(() => {\n    if (!timeToLive) return\n    safeSetTimeout(() => setIsVisible(false), timeToLive - 300)\n  }, [safeSetTimeout, timeToLive])\n\n  return (\n    <Portal>\n      <div className=\"p-1 position-fixed bottom-0 left-0 mb-3 ml-3\">\n        <div\n          className={`Toast ${typeClass[type]} ${isVisible ? 'Toast--animateIn' : 'Toast--animateOut'}`}\n          id=\"ui-app-toast\"\n          data-testid={`ui-app-toast-${type}`}\n          role={role}\n        >\n          <span className=\"Toast-icon\">{icon || typeIcon[type]}</span>\n          <span className=\"Toast-content\">{message}</span>\n        </div>\n      </div>\n    </Portal>\n  )\n}\n\ntry{ Toast.displayName ||= 'Toast' } catch {}","import {useContext} from 'react'\nimport {InternalToastsContext, TOAST_SHOW_TIME} from './ToastContext'\nimport {Toast} from './Toast'\n\n// Renders all toasts including the persisted toast. Likely you'll only want to include this one in a React app, in a\n// place common to all pages.\n/**\n *  Warning: Usage of this component is discouraged by the accessibility team as\n * {@link https://github.com/github/engineering/discussions/3313 toasts are a behavior identified as a high-risk pattern}\n * within GitHub.\n * {@link https://github.com/github/accessibility/issues/4414 Reasons why toasts are a high-risk pattern}.\n */\nexport function Toasts() {\n  const {toasts, persistedToast} = useContext(InternalToastsContext)\n\n  return (\n    <>\n      {toasts.map((toastInfo, index) => (\n        <Toast\n          message={toastInfo.message}\n          icon={toastInfo.icon}\n          key={index}\n          timeToLive={TOAST_SHOW_TIME}\n          type={toastInfo.type}\n          role={toastInfo.role}\n        />\n      ))}\n      {persistedToast && (\n        <Toast\n          message={persistedToast.message}\n          icon={persistedToast.icon}\n          type={persistedToast.type}\n          role={persistedToast.role}\n        />\n      )}\n    </>\n  )\n}\n\ntry{ Toasts.displayName ||= 'Toasts' } catch {}","// eslint-disable-next-line no-restricted-imports\nimport {useToastContext} from '@github-ui/toast/ToastContext'\nimport {useEffect} from 'react'\nimport {EXPECTED_ERRORS} from './expected-errors'\n\nexport function SSRErrorToast({ssrError}: {ssrError: HTMLScriptElement}) {\n  const {addToast} = useToastContext()\n  const isExpectedError = EXPECTED_ERRORS[ssrError.textContent || '']\n\n  useEffect(() => {\n    if (!isExpectedError) {\n      // eslint-disable-next-line @github-ui/dotcom-primer/toast-migration\n      addToast({\n        type: 'error',\n        message: 'SSR failed, see console for error details (Staff Only)',\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return null\n}\n\ntry{ SSRErrorToast.displayName ||= 'SSRErrorToast' } catch {}","import {Toasts} from '@github-ui/toast/Toasts'\nimport {SSRErrorToast} from './SSRErrorToast'\n\n// This is a container for common UI that should be rendered in all React UIs, including full-page apps and partials.\n// Please be very conservative in adding functionality here, as it will affect the bundle size of every page on the\n// site.\nexport function CommonElements({ssrError}: {ssrError?: HTMLScriptElement}) {\n  return (\n    <>\n      <Toasts />\n      {ssrError && <SSRErrorToast ssrError={ssrError} />}\n    </>\n  )\n}\n\ntry{ CommonElements.displayName ||= 'CommonElements' } catch {}","import type {ChildRoute, LoaderResult, RouteRegistration, TransitionType} from './app-routing-types'\nimport type React from 'react'\nimport type {Location} from '@remix-run/router'\n\nexport interface JsonRouteProps {\n  path: string\n  Component: React.ComponentType\n  transitionType?: TransitionType\n  shouldNavigateOnError?: boolean\n  children?: ChildRoute[]\n}\n/**\n * A utility for building a route registration for a route that consumes a JSON object (either via embedding in a\n * script tag or via a JSON fetch on React soft navigations).\n */\nexport function jsonRoute<TRouteData, TEmbeddedData>({\n  path,\n  Component,\n  /**\n   * Some routes want to handle their own errors and not just show a generic error page. In this case,\n   * the error is just handled like any other payload for the route.\n   * NOTE: We might consider replacing the shouldNavigateOnError flag with a parallel implementation to jsonRoute.\n   */\n  shouldNavigateOnError,\n  transitionType,\n  children,\n}: JsonRouteProps): RouteRegistration<TRouteData, TEmbeddedData> {\n  async function coreLoader({location}: {location: Location}): Promise<LoaderResult<TRouteData>> {\n    let response: Response\n    try {\n      const fetchPath = `${location.pathname}${location.search}`\n      response = await window.fetch(fetchPath, {\n        headers: {\n          Accept: 'application/json',\n          'X-Requested-With': 'XMLHttpRequest',\n          'X-GitHub-Target': 'dotcom',\n          'X-React-Router': 'json',\n        },\n      })\n    } catch (error) {\n      return {\n        type: shouldNavigateOnError ? 'route-handled-error' : 'error',\n        error: {type: 'fetchError'},\n      }\n    }\n    if (response.redirected) {\n      return {\n        type: 'redirect',\n        url: response.url,\n      }\n    } else if (!response.ok) {\n      return {\n        type: shouldNavigateOnError ? 'route-handled-error' : 'error',\n        error: {type: 'httpError', httpStatus: response.status},\n      }\n    } else {\n      try {\n        const responseJson = await response.json()\n        return {\n          type: 'loaded',\n          data: responseJson,\n          title: responseJson.title,\n        }\n      } catch (error) {\n        return {\n          type: shouldNavigateOnError ? 'route-handled-error' : 'error',\n          error: {type: 'badResponseError'},\n        }\n      }\n    }\n  }\n\n  function loadFromEmbeddedData({embeddedData}: {embeddedData: TEmbeddedData}): {data: TRouteData; title: string} {\n    const data = embeddedData as unknown as TRouteData & {title: string}\n    return {data, title: data.title}\n  }\n\n  return {\n    path,\n    // TODO: consider wrapping Component with a component that passes payload as a prop  ideally as part of migrating\n    // away from useRoutePayload.\n    Component,\n    coreLoader,\n    loadFromEmbeddedData,\n    transitionType,\n    children,\n  }\n}\n","import {useState, createContext, type ReactNode} from 'react'\nimport {IS_SERVER} from '@github-ui/ssr-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {useHydratedEffect} from '@github-ui/use-hydrated-effect'\n\nexport const enum RenderPhase {\n  ServerRender = 'ServerRender',\n  ClientHydrate = 'ClientHydrate',\n  ClientRender = 'ClientRender',\n}\n\nexport const RenderPhaseContext = createContext<RenderPhase>(RenderPhase.ClientRender)\n\nexport function RenderPhaseProvider({wasServerRendered, children}: {wasServerRendered: boolean; children: ReactNode}) {\n  const [renderPhase, setRenderPhase] = useState<RenderPhase>(() => {\n    if (IS_SERVER) {\n      return RenderPhase.ServerRender\n    }\n    if (wasServerRendered) {\n      return RenderPhase.ClientHydrate\n    }\n    return RenderPhase.ClientRender\n  })\n\n  useHydratedEffect(() => {\n    if (renderPhase === RenderPhase.ClientRender) return\n    setRenderPhase(RenderPhase.ClientRender)\n  }, [renderPhase])\n\n  return <RenderPhaseContext.Provider value={renderPhase}>{children}</RenderPhaseContext.Provider>\n}\n\ntry{ RenderPhaseContext.displayName ||= 'RenderPhaseContext' } catch {}\ntry{ RenderPhaseProvider.displayName ||= 'RenderPhaseProvider' } catch {}","import {Box, sx, type SxProp, themeGet} from '@primer/react'\nimport type React from 'react'\nimport styled, {css, keyframes} from 'styled-components'\n\nexport type LoadingSkeletonProps = {\n  animationStyle?: 'wave' | 'pulse'\n  as?: string | React.ComponentType | undefined\n  height?: string\n  variant?: 'rectangular' | 'elliptical' | 'rounded' | 'pill' | 'text'\n  width?: 'random' | string\n} & SxProp\n\nconst waveAnimation = keyframes`\n  0% {\n    transform: translateX(-100%);\n  }\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n`\nconst waveMixin = css`\n  animation: ${waveAnimation} 1.5s infinite linear;\n`\n\nconst pulseAnimation = keyframes`\n  0% {\n    opacity: .3;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: .3;\n  }\n`\n\nconst pulseMixin = css`\n  animation: ${pulseAnimation} 2s infinite linear;\n`\n\nexport const LoadingSkeleton = styled(Box)<LoadingSkeletonProps>`\n  /* stylelint-disable declaration-block-no-duplicate-properties, color-named */\n  position: relative;\n  overflow: hidden;\n  mask-image: radial-gradient(white, black);\n  ${({animationStyle}) => animationStyle === 'pulse' && pulseMixin};\n  &::after {\n    ${({animationStyle}) => animationStyle !== 'pulse' && waveMixin};\n    background: linear-gradient(90deg, transparent, ${themeGet('colors.neutral.subtle')}, transparent);\n    content: '';\n    position: absolute;\n    transform: translateX(-100%); /* Avoid flash during server-side hydration */\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n  }\n  background-color: ${themeGet('colors.neutral.subtle')};\n  border-radius: ${({theme, variant}) => {\n    switch (variant) {\n      case 'rounded':\n        return themeGet('radii.1')(theme)\n      case 'pill':\n        return '100px'\n      case 'elliptical':\n        return '50%'\n      default:\n        return '0'\n    }\n  }};\n  display: block;\n  height: 1.2em;\n  ${({variant}) =>\n    variant === 'elliptical' && {\n      borderRadius: '50%',\n    }}\n  width: ${({width}) => {\n    switch (width) {\n      case 'random':\n        return `${Math.floor(Math.random() * 40 + 40)}%`\n      case 'xl':\n        return '32px'\n      case 'lg':\n        return '24px'\n      case 'md':\n        return '20px'\n      case 'sm':\n        return '16px'\n      default:\n        return width\n    }\n  }};\n  height: ${({height}) => {\n    switch (height) {\n      case 'xl':\n        return '32px'\n      case 'lg':\n        return '24px'\n      case 'md':\n        return '20px'\n      case 'sm':\n        return '16px'\n      default:\n        return height\n    }\n  }};\n  ${sx}\n`\n\ntry{ LoadingSkeleton.displayName ||= 'LoadingSkeleton' } catch {}","import {useSafeTimeout} from '@primer/react'\nimport {createContext, type ReactNode, useCallback, useContext, useMemo, useState} from 'react'\nimport {noop} from '@github-ui/noop'\nimport useSafeState from '@github-ui/use-safe-state'\nimport type {ToastRole, ToastType} from './Toast'\n\nexport const TOAST_SHOW_TIME = 5000\n\ninterface ToastInfo {\n  message: ReactNode\n  icon?: ReactNode\n  type?: ToastType\n  role?: ToastRole\n}\n\ntype ToastContextType = {\n  /**\n   *  Warning: Usage of this hook is discouraged by the accessibility team as\n   * {@link https://github.com/github/engineering/discussions/3313 toasts are a behavior identified as a high-risk pattern}\n   * within GitHub.\n   * {@link https://github.com/github/accessibility/issues/4414 Reasons why toasts are a high-risk pattern}.\n   */\n  addToast: (toast: ToastInfo) => void\n  /**\n   *  Warning: Usage of this hook is discouraged by the accessibility team as\n   * {@link https://github.com/github/engineering/discussions/3313 toasts are a behavior identified as a high-risk pattern}\n   * within GitHub.\n   * {@link https://github.com/github/accessibility/issues/4414 Reasons why toasts are a high-risk pattern}.\n   */\n  addPersistedToast: (toast: ToastInfo) => void\n  clearPersistedToast: () => void\n}\ntype ToastContextProviderType = {\n  children: ReactNode\n}\n\nconst ToastContext = createContext<ToastContextType>({\n  addToast: noop,\n  addPersistedToast: noop,\n  clearPersistedToast: noop,\n})\n\ntype InternalToastsContextType = {\n  toasts: ToastInfo[]\n  persistedToast: ToastInfo | null\n}\nexport const InternalToastsContext = createContext<InternalToastsContextType>({toasts: [], persistedToast: null})\n\nexport default ToastContext\n\nexport function ToastContextProvider({children}: ToastContextProviderType) {\n  const [toasts, setToasts] = useSafeState<ToastInfo[]>([])\n  const [persistedToast, setPersistedToast] = useState<ToastInfo | null>(null)\n  const {safeSetTimeout} = useSafeTimeout()\n\n  const addToast = useCallback(\n    function (toast: ToastInfo) {\n      setToasts([...toasts, toast])\n      safeSetTimeout(() => setToasts(toasts.slice(1)), TOAST_SHOW_TIME)\n    },\n    [toasts, safeSetTimeout, setToasts],\n  )\n\n  const addPersistedToast = useCallback(\n    function (toast: ToastInfo) {\n      setPersistedToast(toast)\n    },\n    [setPersistedToast],\n  )\n\n  const clearPersistedToast = useCallback(\n    function () {\n      setPersistedToast(null)\n    },\n    [setPersistedToast],\n  )\n\n  const contextValue = useMemo(() => {\n    return {addToast, addPersistedToast, clearPersistedToast}\n  }, [addPersistedToast, addToast, clearPersistedToast])\n\n  const internalToastsContext = useMemo(() => {\n    return {toasts, persistedToast}\n  }, [toasts, persistedToast])\n\n  return (\n    <ToastContext.Provider value={contextValue}>\n      <InternalToastsContext.Provider value={internalToastsContext}>{children}</InternalToastsContext.Provider>\n    </ToastContext.Provider>\n  )\n}\n\nexport function useToastContext() {\n  return useContext(ToastContext)\n}\n\ntry{ ToastContext.displayName ||= 'ToastContext' } catch {}\ntry{ InternalToastsContext.displayName ||= 'InternalToastsContext' } catch {}\ntry{ ToastContextProvider.displayName ||= 'ToastContextProvider' } catch {}"],"names":["AnalyticsProvider","children","appName","category","metadata","value","useMemo","AnalyticsContext","Provider","displayName","createContext","containerStyle","width","display","flex","flexDirection","alignItems","justifyContent","boxStyle","ErrorComponent","testid","text","sx","Box","Octicon","icon","AlertIcon","size","mb","color","Heading","as","fontSize","data-testid","skeletonStyle","height","LoadingComponent","LoadingSkeleton","variant","NoDataComponent","BILLING_PLATFORM_BETA_DOC_LINK","WelcomeBanner","multiTenant","Flash","aria-label","InfoIcon","span","Link","inline","href","node","hash","v0","v1","v2","v3","v4","v5","v6","Products","MeteredProducts","SeatBasedProducts","HighWatermarkProducts","PRODUCT_TAB_TEXT_MAP","actions","copilot","ghas","ghec","git_lfs","packages","codespaces","PRODUCT_TAB_ICON_MAP","PlayIcon","CopilotIcon","ShieldCheckIcon","GlobeIcon","DatabaseIcon","PackageIcon","CodespacesIcon","STANDARD_ACTIONS_STORAGE_DISCOUNT_SKUS","STANDARD_ACTIONS_MINUTES_DISCOUNT_SKUS","STANDARD_CFB_DISCOUNT_SKUS","STANDARD_GHAS_DISCOUNT_SKUS","STANDARD_GHEC_DISCOUNT_SKUS","STANDARD_LFS_BANDWIDTH_DISCOUNT_SKUS","STANDARD_LFS_STORAGE_DISCOUNT_SKUS","STANDARD_PACKAGES_BANDWIDTH_DISCOUNT_SKUS","STANDARD_PACKAGES_STORAGE_DISCOUNT_SKUS","PRODUCT_DISCOUNT_SKU_MAP","COPILOT_SEAT_COST","GHEC_SEAT_COST","GHAS_SEAT_COST","UNIT_TYPE","GROUP_BY_NONE_TYPE","GROUP_BY_PRODUCT_TYPE","GROUP_BY_SKU_TYPE","GROUP_BY_ORG_TYPE","GROUP_BY_REPO_TYPE","GROUP_BY_COSTCENTER_TYPE","DEFAULT_GROUP_TYPE","BUDGET_SCOPE_CUSTOMER","BUDGET_SCOPE_ENTERPRISE","BUDGET_SCOPE_ORGANIZATION","BUDGET_SCOPE_REPOSITORY","BUDGET_SCOPE_COST_CENTER","ENTERPRISE_OWNER","BILLING_MANAGER","ENTERPRISE_ORG_OWNER","COLORS","ENTERPRISE_TRIAL_PLAN","ERRORS","QUERY_USAGE_ERROR","QUERY_BUDGETS_ERROR","QUERY_DISCOUNTS_ERROR","QUERY_INVOICES_ERROR","QUERY_AZURE_EMISSIONS_ERROR","QUERY_PRICINGS_ERROR","CREATE_PRODUCT_ERROR","UPDATE_PRODUCT_ERROR","PRODUCT_ENVIRONMENT_ERROR","REQUIRED_FIELD_ERROR","CREATE_SKU_PRICING_ERROR","UPDATE_SKU_PRICING_ERROR","URLS","STAFFTOOLS_PRODUCTS","STAFFTOOLS_NEW_PRODUCT","STAFFTOOLS_BILLING_JOBS","STAFFTOOLS_BUSINESS_ORGANIZATION_BILLNG_JOB","USAGE_REPORT_HOURLY_PERIOD","USAGE_REPORT_LEGACY_REPORT","PUBLIC_REPO_DISCOUNT_UUID","IconType","UsageActions","PageContext","isStafftoolsRoute","isOrganizationRoute","isEnterpriseRoute","ReloadContext","reloadKey","setReloadKey","environment","relayEnvironmentWithMissingFieldHandlerForNode","App","ssrSafeLocation","pathname","startsWith","pageContext","useState","reloadContextValue","ThemeProvider","colorMode","undefined","RelayEnvironmentProvider","div","data-color-mode","props","BudgetType","BudgetLimitTypes","CostCenterState","CostCenterType","ResourceType","getCostCenterType","BillingTarget","Azure","AzureSubscription","billingTarget","Zuora","ZuoraSubscription","NoCostCenter","getSelectedCustomerDisplayTest","customer","displayText","DISCOUNT_TEXT_MAP","DiscountTargetType","ENTERPRISE","ORGANIZATION","REPOSITORY","PUBLIC_REPO","SKU_ACTIONS_MINUTES","SKU_ACTIONS_STORAGE","SKU_CFB_SEATS","SKU_GHAS_SEATS","SKU_GHEC_SEATS","SKU_LFS_BANDWIDTH","SKU_LFS_STORAGE","SKU_PACKAGES_BANDWIDTH","SKU_PACKAGES_STORAGE","UNSUPPORTED","SKU_DISCOUNTS_MAP","sku","DISCOUNT_TARGET_TEXT_MAP","getTextForDiscount","discountAmount","targetType","discountType","targetAmount","DiscountType","FixedAmount","formatMoneyDisplay","Percentage","join","formatQuantityDisplay","lineItem","digits","getQuantity","isProductUsageLineItem","toString","unit","unitType","formatter","Intl","NumberFormat","maximumFractionDigits","format","usage","product","fullQuantity","quantity","getBilledAmount","totalAmount","groupType","UsageGrouping","REPO","ORG","BudgetAmount","budgetAmount","budgetLimitType","setBudgetAmount","setBudgetLimitType","budgetProduct","action","validationMessage","setValidationMessage","useContext","handleChange","e","target","type","isNaN","Number","isProductHighWaterMark","Object","values","includes","toggleBudgetLimitType","AlertingOnly","PreventFurtherUsage","paddingTop","paddingBottom","className","mt","mr","pt","FormControl","Label","visuallyHidden","TextInput","inputMode","pattern","maxLength","leadingVisual","marginTop","marginBottom","maxWidth","placeholder","onChange","onBlur","name","Validation","Text","ml","b","Math","floor","disabled","Checkbox","checked","SelectedRows","loading","removeOption","selected","totalCount","length","ul","Array","fill","map","_","idx","listStyle","item","rowLeadingVisual","px","whiteSpace","textOverflow","overflow","m","Fonts","FontSizeSmall","IconButton","unsafeDisableTooltip","XIcon","onClick","id","style","visibility","viewOnly","String","UserPickerQuery","UserPickerUserFragment","UserPickerEnterpriseOwnersQuery","UserPickerInitialUsersQuery","recipientsGroup","groupId","suggestionsGroup","header","title","sortUsers","recipients","usersToSort","slice","sort","a","aIsRecipient","some","r","login","bIsRecipient","localeCompare","UserPicker","slug","onSelectionChange","preloadedEnterpriseOwnersData","initialRecipients","setLoading","searchResults","setSearchResults","setRecipients","filter","setFilter","useRelayEnvironment","addToast","useToastContext","enterpriseOwnersData","usePreloadedQuery","enterpriseOwners","enterprise","ownerInfo","admins","nodes","flatMap","readInlineData","getItemKey","useCallback","user","items","concat","u","find","useEffect","groupItemId","convertToItemProps","description","source","GitHubAvatar","src","avatarUrl","alt","onClose","fetchSearchData","query","fetchQuery","subscribe","next","data","members","error","message","role","debounceFetchSearchData","debounce","nextValue","filterItems","trimmedFilter","trim","groups","itemGroups","hasRecipients","i","hasSuggestions","push","Spacing","StandardPadding","ItemPicker","initialSelectedItems","placeholderText","selectionVariant","renderAnchor","anchorProps","Button","trailingAction","TriangleDownIcon","newRecipients","BudgetAlertSelector","alertEnabled","alertRecipientUserIds","setAlertEnabled","setAlertRecipientUserIds","setInitialRecipients","enterpriseOwnersRef","loadEnterpriseOwners","disposeEnterpriseOwners","useQueryLoader","handleRecipientsChange","users","ids","Suspense","fallback","Spinner","BudgetProductSelector","products","setBudgetProduct","py","RadioGroup","aria-labelledby","selection","Radio","friendlyProductName","costCenters","setCostCenters","useRequest","route","COST_CENTERS_ROUTE","onStart","onSuccess","response","payload","activeCostCenters","onError","totalItemsCount","initialSelected","initialSelectAll","pickerType","onDialogSubmit","setSelected","selectAll","isSelected","isDisabled","hiddenItems","shownItems","handleItemSelect","toggleMultiItem","itemIndex","findIndex","newItem","index","maxHeight","ActionList","Item","aria-checked","onSelect","LeadingVisual","p","borderTopColor","borderTopWidth","borderTopStyle","PickerDialog","open","resetDialog","entityType","returnFocusRef","useRef","Dialog","overflowY","pb","fontFamily","block","SearchIcon","event","toLowerCase","CostCenterPicker","setAllSelectedCostCenters","setOpen","useCostCentersPage","searchFilter","setSearchFilter","searchResultsLoading","setSearchResultsLoading","costCenterKey","uuid","OrganizationIcon","convertedItems","selectedItems","filtered","center","canRemoveOption","opt","newSelected","newOptions","option","ResourcePaginator","pageSize","pageCount","currentPage","totalResources","onPageChange","Pagination","PickerHeader","CardHeadingFontSize","OrganizationPickerRecentQuery","OrganizationPickerFragment","OrganizationPickerInitialQuery","OrganizationPicker","initialSelectedItemIds","preloadedOrganizationsRef","setSelectedItems","indent","valid","localSelected","setLocalSelected","selectedCount","setSelectedCount","itemsLoading","setItemsLoading","setSelectAll","setPageCount","setCurrentPage","pagedItems","setPagedItems","square","ceil","preloadedOrganizations","totalOrganizationCount","organizations","fetchedOrgs","chunks","promises","chunk","Promise","resolve","reject","n","err","loadOrganizationsData","allOrganizations","results","all","flat","o","c","pickerText","textAlign","newSelectAll","Pluralize","page","preventDefault","RepositoryPickerRecentQuery","RepositoryPickerFragment","RepositoryPickerInitialQuery","nameWithOwner","isPrivate","LockIcon","RepoIcon","RepoLockedIcon","RepositoryPicker","preloadedRepositoriesRef","dialogOpen","setDialogOpen","preloadedData","fetchedRepos","viewer","enterpriseRepositories","totalRepositoryCount","fetchedRepoIds","Set","repo","unloadedRepos","onGraphQLSuccess","repos","has","onGraphQLError","invalidIndeces","cause","reverse","path","updatedInitialSelectItemIds","loadRepositoriesData","allRepositories","isArchived","phrase","BudgetScopeSelector","budgetScope","setBudgetScope","setBudgetScopeId","budgetScopeIds","disablePicker","initialOrganizationScopeId","initialRepositoryScopeId","organizationsRef","loadOrganizations","disposeOrganizationsRef","repositoriesRef","loadRepositories","disposeRepositoriesRef","fetchPolicy","handleBudgetScopeChange","CardMargin","Caption","selectedIds","BudgetSelectedProduct","enabledProducts","fontWeight","BudgetSelectedScope","budgetTargetName","budgetScopeDetails","getBudgetScopeDetails","scope","budgetScopeIconMap","CreditCardIcon","gap","defaultBudgetLimitType","BudgetForm","budget","currentUserId","adminRoles","navigate","useNavigate","pricingTargetId","targetId","isConfirmUpdateDialogOpen","setIsConfirmUpdateDialogOpen","onConfirmUpdateDialogOpen","onConfirmUpdateDialogClose","allBudgetsRoute","useRoute","BUDGETS_ROUTE","editBudgetsRoute","UPSERT_BUDGET_ROUTE","budgetUUID","createBudget","pricingTargetType","res","doRequest","HTTPMethod","POST","ok","editBudget","PUT","CheckCircleIcon","handleSubmit","pageHeadingStyle","form","onSubmit","shouldConfirmEditModalBeDisplayed","targetName","onDismiss","isOpen","Header","border","bg","BudgetEditPage","useRoutePayload","Layout","BudgetNewPage","current_user_id","BudgetActionMenu","budgetId","productName","editLink","onDeleteClick","isDeleteDialogOpen","setIsDeleteDialogOpen","onDeleteDialogClose","ActionMenu","Anchor","KebabHorizontalIcon","Overlay","LinkItem","PencilIcon","TrashIcon","strong","BudgetBanner","budgetAlertDetail","visible","setVisible","dismissible","dismiss_link","dismissLink","budget_id","handleDismiss","verifiedFetchJSON","method","StopIcon","editBudgetUrl","EDIT_BUDGET_ROUTE","margin","marginLeft","svg","labelStyle","BudgetLabel","budgetCurrentAmount","budgetTargetAmount","isOverBudget","percentage","label","BudgetProgressBar","progress","min","ProgressBar","barSize","BudgetWarningIcon","tableDataCellStyle","tableRowStyleRowtoCol","flexWrap","BudgetData","budgetData","hasBudgetWritePermissions","deleteBudget","editBudgetPath","deletePath","editCostCenterPath","EDIT_COST_CENTER_ROUTE","costCenterUUID","handleDeleteBudget","DELETE","getFriendlyProductName","tableRowStyle","pr","CostCenterResource","currentAmount","BudgetsTable","budgets","isEnterpriseTable","pageNumber","setPageNumber","selectedIndex","setSelectedIndex","currData","setCurrData","pagedData","setPagedData","scopeTypes","updatePagedData","currBudgets","resourceType","tableContainerStyle","data-hpc","tableHeaderStyle","float","Group","GroupHeading","scopeType","tbody","customerId","setBudgets","reqParams","customer_id","deleteBudgetFromPage","deleteIndex","updatedBudgets","splice","isOnTrial","plan","BudgetsPage","helpUrl","useBudgetsPage","enterpriseBudgets","nonEnterpriseBudgets","trialCustomer","budgetsDocsUrl","newBudgetPath","NEW_BUDGET_ROUTE","LinkButton","textDecoration","underline","Blankslate","Visual","GoalIcon","Description","br","SecondaryAction","AzureSubscriptionDetails","encodedAzureSubscriptionUri","setAzureTargetId","subscriptions","setIsOpen","selectedTargetId","setSelectedTargetId","SectionHeadingFontSize","s","subscriptionId","CostCenterBanner","CostCenterDetails","setCostCenterName","required","ErrorBanner","PickerLoadingSkeleton","CostCenterResourceSelector","resources","setCostCenterResources","loadOrgsError","setLoadOrgsError","loadReposError","setLoadReposError","useFetchOrganizations","displayId","useFetchRepositories","resourceByOrg","resource","Org","resourceByRepo","Repo","filterByType","tmp","newResources","resourcePickerStyle","ErrorBoundary","orgs","CostCenterForm","costCenter","isCopilotStandalone","originalTargetId","params","useSearchParams","location","useLocation","safeLocalStorage","safeStorage","setName","get","getItem","setTargetId","setResources","storedResources","JSON","parse","isEditDialogOpen","setIsEditDialogOpen","allCostCentersRoute","createCostCentersPath","CREATE_COST_CENTER_ROUTE","editCostCentersPath","UPSERT_COST_CENTER_ROUTE","resourcesRef","initialResources","current","removeFormValuesFromLocalStorage","removeItem","setItem","stringify","handleCreateCostCenter","handleUpdateCostCenter","resourcesToAdd","ir","resourcesToRemove","membersStyle","aria-hidden","upperFirst","newName","CostCenterEditPage","uri","CostCenterNewPage","newCostCenter","CostCenterActionMenu","costCenterState","viewCostCenterPath","VIEW_COST_CENTER_ROUTE","deleteCostCenterPath","DELETE_COST_CENTER_ROUTE","onDeleteDialogOpen","onDeleteCostCenter","Active","ref","tableDataCellStyleName","CostCentersTable","selectedTab","hasUserScopedCostCenters","enterprisePeopleRoute","PEOPLE_BASE_ROUTE","showMembersLink","window","getMembersPageUrl","costCenterSlug","getSlugFromName","costCenterData","replace","resourceByUser","User","wordBreak","CostCenterTabs","Deleted","mx","minWidth","PersonIcon","CostCentersPage","archivedCostCenters","setSeletedTab","newCostCenterUrl","NEW_COST_CENTER_ROUTE","anyCostCenters","UnderlineNav","pl","aria-current","padding","BriefcaseIcon","CostCenterMembersList","currentMembers","setCurrentMembers","loadingMembers","setLoadingMembers","loadMembersError","setLoadMembersError","pagedMembersData","setPagedMembersData","loadUsers","CostCenterPage","costCentersPath","handleDeleteCostCenter","borderBottom","Breadcrumbs","ol","Truncate","expandable","newArray","array","discountStates","setDiscountStates","discountTargetAmounts","setDiscountTargetAmounts","month","Date","getUTCMonth","year","getUTCFullYear","DISCOUNTS_ROUTE","enabledDiscounts","discounts","discount","enabled_sku_targets","targets","targetAmounts","getUpdatedDiscountAmounts","updatedDiscountAmounts","discountTargetId","discountTargetType","discountTargetToDiscountType","DiscountTarget","Enterprise","SKU","Organization","Repository","NoDiscountTarget","appliedAmount","cardStyle","spendingContainerStyle","DefaultUsageCard","isOrgAdmin","requestState","enterpriseBudget","useDiscounts","actionsMinutesDiscountText","currentDiscountAmount","totalActual","reduce","acc","billedAmount","totalDiscount","totalBilled","usagePercentage","cardHeadingStyle","RequestState","INIT","LOADING","ERROR","IDLE","TotalTextBox","lineHeight","DiscountUsageCard","isOrganization","CurrentDiscountsListDialog","moneyContainerStyle","getRoute","customerSelection","newPath","matchBaseRouteByPath","childRoute","TOTAL_USAGE_ROUTE","fullPath","generateFullPath","findRouteBestMatchByPath","queryParamString","URLSearchParams","TotalUsageCard","customerSelections","useParams","totalUsage","setTotalUsage","isLoadingTotalUsage","setLoadingTotalUsage","usageMap","setUsageMap","loadUsageData","totalUsageTemp","usageMapTemp","json","billableAmount","UsageOverviewListDialog","chartRef","align","showDividers","chart","newCanvas","document","createElement","body","appendChild","newChart","Chart","config","options","cloneDeep","animation","duration","onComplete","downloadLink","image","download","toBase64Image","click","destroy","titleElem","querySelector","titleStyle","getComputedStyle","responsiveAnimationDuration","plugins","textContent","font","weight","bottom","subtitleElem","subtitleStyle","subtitle","update","innerContainerStyle","chartHeaderContainerStyle","chartSubtitleStyle","UsageChartSkeleton","SingleSelectPanel","anchorRef","selectedCustomer","setSelectedCustomer","menuItems","filtersSavedState","setFilters","manageCostCentersLink","filteredCustomers","setfilteredCustomers","setQuery","SelectPanel","onCancel","SearchInput","searchTerm","currentTarget","Message","Footer","UsageCustomerSelectPanel","useUsageChartDataEndpoint","trailingVisual","UsageFilters","filters","groupSelections","periodSelections","showSearch","UsageSearchBar","setSearchQuery","searchQuery","group","getGroupSelections","customerType","obj","period","TopOrganizations","EnterpriseOrgFilterProvider","EventTarget","handleEvent","lastElement","parsedQuery","at","priority","hasMatch","dispatchEvent","Event","topOrgCache","org","fetchPromise","fetchTopOrgs","FetchDataEvent","emitSuggestion","topOrgs","currentQueryValue","relayEnvironment","count","TOP_ORGANIZATION_COUNT","toPromise","edges","orgLogin","orgAvatarUrl","orgName","orgExistsInCache","cachedOrg","score","FilterItem","avatar","url","constructor","queryBuilder","singularItemName","addEventListener","attachProvider","TopRepositories","EnterpriseRepoFilterProvider","topRepoCache","fetchTopRepos","topRepos","TOP_REPOSITORIES_COUNT","repoExistsInCache","cachedRepo","BillingProductFilterProvider","productCache","fetchTopProducts","productData","status","productResult","BillingSKUFilterProvider","skuCache","fetchTopSKUs","skuData","skuResult","BillingCostCenterFilterProvider","costCenterCache","fetchCostCenters","returnedCostCenter","noneCostCenter","inputQuery","setInputQuery","onRequestProvider","stopPropagation","debouncedSetSearchQuery","useDebounce","onChangeHandler","newInputQuery","searchCount","split","endsWith","handleEnterKeyPress","key","QueryBuilder","onKeyPress","inputValue","inputRef","GetUsageReportDialog","usageReportSelections","currentUserEmail","billingPlatformEnabledProducts","disableUsageReports","vnextMigrationDate","requestUsageReportRoute","USAGE_REPORT_ROUTE","usageReportPeriod","setUsageReportPeriod","isDialogOpen","setIsDialogOpen","selectedValue","_e","sharedProps","defaultChecked","ReportControl","dateText","legacySelection","Fragment","LegacyReportControl","hr","enabledProductListText","lastTwoProducts","remainingProducts","lastTwoText","MyControl","rest","SmallPadding","fixedDiscountAmount","percentageDiscountAmounts","React","containerBoxStyle","headerContainerStyle","headerBoxStyle","iconBoxStyle","headingStyle","titleText","numberToString","timePeriod","UsagePeriod","THIS_HOUR","TODAY","THIS_MONTH","THIS_YEAR","LAST_MONTH","LAST_YEAR","UsageCard","usagePeriod","otherUsage","enableOrgRepoUsageRefactor","entityText","sortedUsage","sum","totalOtherUsage","topSortedUsage","topUsageCount","FULL_VARIANT_NAME","UsageCardVariant","usageUrl","USAGE_ROUTE","UsageCardSkeleton","UsageProgressBar","allOtherUsage","UsageListTable","gridTemplateColumns","gridGap","OrgRepoUsageContainer","repoUsage","repoOtherUsage","repoUsageRequestState","useRepoUsageCard","orgUsage","orgOtherUsage","orgUsageRequestState","groupedOrgUsage","groupLineItems","groupedRepoUsage","DEFAULT","ColoredBullet","borderRadius","backgroundColor","usageRowStyle","usageRowStyleWithBottomBorder","borderBottomWidth","borderBottomStyle","borderBottomColor","listTextStyle","TableRow","nameElement","billedAmountElement","Grid","Column","UsageRowItem","amount","avatarSrc","Stack","direction","otherText","hasOtherUsage","getName","displayBottomBorder","usageInformation","usageLength","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","tableStyle","borderCollapse","borderTop","theadStyle","position","top","trStyle","cellStyle","identifierCell","flexFill","fixedWidthCell","UsageSubTable","sortedData","friendlySkuName","row","appliedCostPerQuantity","usageAt","getRowKey","NONE","isRepoUsageLineItem","UsageTable","useUsageTableDataEndpoint","periodType","usageTableData","tableUsageRequestState","useUsageTableData","usageData","usageRequestState","groupedUsage","sortByUsageAtDesc","showQuantity","showPricePerUnit","aspectRatio","getFirstColumnHeader","PRODUCT","UsageTableRowSkeleton","UsageTableRow","rawUsage","avatarStyle","spinnerStyle","getDetailsProps","useDetails","closeOnOutsideClick","useUsageSubTableData","setUsage","setRequestState","getUsageBySkuForDate","dateFilteredUsage","formatUsageDateForPeriod","getUsageGroupingBySKU","getSearchQuery","fetchUsageBySku","GET","usageSubTableData","usageItem","testId","Details","ChevronDownIcon","ChevronRightIcon","getFirstColumnContent","DefaultUsageContainer","isOnlyOrgAdmin","netUsage","netUsageRequestState","useNetUsageData","UsageInfoTile","totalSpendOrSeats","capitalizedProductName","str","word","toUpper","charAt","toLower","toFixed","UsageInfoTileVariant","SeatBasedUsageContainer","totalSpend","seats","amountSpent","quantityUsed","ProductUsageContainer","sortedEnabledProducts","selectedProduct","setSelectedProduct","textTransform","FontSizeNormal","VolumeLicensesCardCombined","gheAndGhas","IsInvoiced","enterpriseLicensingPath","ENTERPRISE_LICENSING_BASE_ROUTE","spend","VolumeLicensesCardSeparate","ghe","flexGrow","VolumeLicensesCard","IsSeparateDisplayCard","AutoPayDisabledCard","oneTimePaymentRoute","ONE_TIME_PAYMENT_ROUTE","paymentHistoryRoute","PAYMENT_HISTORY_ROUTE","hasBill","latestBillAmount","overdue","nextPaymentDate","paymentDueCopyContainerStyle","meteredViaAzure","AutoPayEnabledCard","PaymentDueCard","autoPayEnabled","autoPay","LatestInvoiceCard","pastInvoicesRoute","PAST_INVOICES_ROUTE","showInvoiceRoute","SHOW_INVOICE_ROUTE","invoiceNumber","payInvoiceRoute","PAY_INVOICE_ROUTE","latestInvoiceBalance","invoiceDueDate","UsageChart","lazy","overviewCardsStyle","OverviewPage","admin_roles","budget_alert_details","budgetAlertDetails","customer_selections","enabled_products","period_selections","multi_tenant","showPaymentDueTile","paymentDueTileData","showLatestInvoiceTile","latestInvoiceTileData","showVolumeLicenseSpendTile","volumeLicenseSpendTileData","showUsaSalesTaxDisclaimer","first","budgetsPath","canViewDiscountUsage","cost_center_management_page","isVNextNative","showTitle","UsageReportBanner","bannerVisible","setBannerVisible","UsagePage","group_selections","usage_report_selections","current_user_email","billing_platform_enabled_products","show_billing_vnext_beta_usage_banner","showBillingVNextBetaUsageBanner","vnext_migration_date","disable_usage_reports","use_usage_chart_data_endpoint","use_usage_table_data_endpoint","is_multi_tenant","isMultiTenant","is_single_tenant","isSingleTenant","searchParams","inputGroup","inputPeriod","inputCustomer","parseInt","shouldShowUsageReportDialog","shouldShowUsageReportBanner","isVNextBeta","history","replaceState","shouldShowPricingLink","AzureEmissionTable","azureEmissions","Table","Container","DataTable","aria-describedby","columns","rowHeader","field","renderCell","azurePartitionKey","getAzureEmissionsRequest","enterpriseSlug","emissionDate","day","statusCode","setAzureEmissions","getAzureEmissions","AzureEmissionPage","currentTime","currentDate","setCurrentDate","getFullYear","getMonth","getDay","useAzureEmissions","DatePicker","getDate","SmileyIcon","BillingJobsPage","BillingJobTableCell","BillingJobTableRow","cell","BillingJobTable","headers","performBusinessOrganizationBillingJobRequest","BusinessOrganizationBillingJobPage","addPersistedToast","tableData","business","handlePerform","handleError","handleSuccess","pricings","setPricings","STAFFTOOLS_PRICINGS_ROUTE","SkuPicker","usePricings","friendlyName","sensitivity","totalPricingsCount","usePlural","DiscountTargetSelector","discountTarget","discountTargetIds","discountTargetIdsValid","discountTargetValid","setDiscountTarget","setDiscountTargetIds","onChangeDiscountTarget","CustomerType","Business","Product","Select","Option","inputWidth","DiscountForm","defaultTarget","startDate","setStartDate","endDate","setEndDate","setDiscountType","NoDiscountType","setDiscountAmount","setDiscountTargetValid","setDiscountTargetIdsValid","startDateValid","setStartDateValid","endDateValid","setEndDateValid","discountTypeValid","setDiscountTypeValid","discountAmountValid","setDiscountAmountValid","validateDiscountAmount","allowBlank","rawValue","opts","parseFloat","onChangeDiscountAmount","validateInputs","createDiscountPath","createDiscount","onFormSubmit","autoComplete","newValue","newDate","getTime","DiscountsPage","CostCenterSelector","selections","getHeadingText","containerSx","headingSx","generateInvoiceRequest","getInvoicesRequest","invoices","setInvoices","getInvoices","borderColor","borderWidth","borderStyle","sharedRowStyles","background","months","InvoiceRow","invoice","rowSummary","verticalAlign","formatDate","usageTotal","gross","net","ChevronLeftIcon","colSpan","overflowX","InvoiceGeneration","currentMonth","currentYear","getMonthPicker","monthElements","alignSelf","getYearPicker","years","todaysYear","minYear","generateInvoice","InvoicesPage","last","useInvoices","sc","thead","tr","createSkuPricingRequest","updateSkuPricingRequest","PricingForm","productId","initialValues","setSku","setFriendlyName","price","setPrice","meterType","setMeterType","setUnitType","freeForPublicRepos","setFreeForPublicRepos","effectiveAt","setEffectiveAt","azureMeterId","setAzureMeterId","effectiveAtError","setEffectiveAtError","requiredFields","convertTimestampToDate","date","timestamp","d","toLocaleString","validateEffectiveAt","handleConfirmCreate","localStorage","handleConfirmUpdate","my","defaultValue","Boolean","PricingEditPage","pricing","PricingNewPage","productTableStyle","productRowStyle","ProductsPage","PricingDetailsDialog","pricingDetails","skuQueryURL","footerButtons","content","effectiveDatePrices","effectiveDatePrice","ProductDetailsPage","sortedPricings","numeric","updatedSkus","setUpdatedSkus","currentProduct","setCurrentProduct","filterSearchResults","toLocaleLowerCase","val","Banner","zuoraUsageIdentifier","onKeyDown","createProductRequest","editProductRequest","ProductForm","setFriendlyProductName","setZuoraUsageIdentifier","headerText","successMessage","handleCreateProduct","handleEditProduct","ProductEditPage","ProductNewPage","enterprisePages","jsonRoute","ENTERPRISE_OVERVIEW_ROUTE","Component","ENTERPRISE_USAGE_ROUTE","ENTERPRISE_BUDGETS_ROUTE","ENTERPRISE_NEW_BUDGET_ROUTE","ENTERPRISE_EDIT_BUDGET_ROUTE","ENTERPRISE_COST_CENTERS_ROUTE","ENTERPRISE_VIEW_COST_CENTER_ROUTE","ENTERPRISE_NEW_COST_CENTER_ROUTE","ENTERPRISE_EDIT_COST_CENTER_ROUTE","STAFFTOOLS_ENTERPRISE_USAGE_ROUTE","STAFFTOOLS_ENTERPRISE_DISCOUNTS_ROUTE","STAFFTOOLS_ENTERPRISE_INVOICES_ROUTE","STAFFTOOLS_ENTERPRISE_OVERVIEW_ROUTE","STAFFTOOLS_ENTERPRISE_COST_CENTERS_ROUTE","STAFFTOOLS_ENTERPRISE_BUDGETS_ROUTE","STAFFTOOLS_ENTERPRISE_EDIT_BUDGET_ROUTE","STAFFTOOLS_ENTERPRISE_VIEW_COST_CENTER_ROUTE","STAFFTOOLS_ENTERPRISE_AZURE_EMISSIONS_ROUTE","organizationPages","ORGANIZATION_OVERVIEW_ROUTE","ORGANIZATION_USAGE_ROUTE","ORGANIZATION_BUDGETS_ROUTE","ORGANIZATION_NEW_BUDGET_ROUTE","ORGANIZATION_EDIT_BUDGET_ROUTE","ORGANIZATION_COST_CENTERS_ROUTE","ORGANIZATION_NEW_COST_CENTER_ROUTE","ORGANIZATION_EDIT_COST_CENTER_ROUTE","userPages","USER_OVERVIEW_ROUTE","USER_USAGE_ROUTE","USER_BUDGETS_ROUTE","USER_NEW_BUDGET_ROUTE","USER_EDIT_BUDGET_ROUTE","USER_COST_CENTERS_ROUTE","USER_NEW_COST_CENTER_ROUTE","USER_EDIT_COST_CENTER_ROUTE","productsPages","STAFFTOOLS_PRODUCTS_ROUTE","STAFFTOOLS_PRODUCT_SHOW_ROUTE","STAFFTOOLS_NEW_PRODUCT_ROUTE","STAFFTOOLS_EDIT_PRODUCT_ROUTE","STAFFTOOLS_PRODUCT_NEW_PRICING_ROUTE","STAFFTOOLS_PRODUCT_EDIT_PRICING_ROUTE","jobsPages","STAFFTOOLS_BILLING_JOBS_ROUTE","STAFFTOOLS_BUSINESS_ORGANIZATION_BILLING_JOBS_ROUTE","registerReactAppFactory","routes","setOtherUsage","REPO_USAGE_ROUTE","other","colors","convertToChartCardPoint","x","y","formatMoneyAmount","custom","grossAmount","formattedDiscountAmount","formattedGrossAmount","formatGrossAmount","formattedTotalAmount","isValidProductGrouping","isValidRepoGrouping","getChartDatasets","lineItems","groupBy","point","groupKey","keys","lineWidth","setUTCSeconds","setUTCMinutes","setUTCHours","setUTCDate","getChartData","startValue","endValue","assignTime","getTimeFromPeriod","chartData","datasets","otherUsageLineItem","now","getMinutes","desiredMinute","setMinutes","getUTCHours","desiredHour","desiredMonth","setUTCMonth","setUTCFullYear","getUTCDate","desiredDate","dataset","useHighWatermark","newUsageData","datasetIndex","range","dataPoint","previousDataPoint","originalTimestamp","newTimestamp","usageTime","addedMoneyAmount","groupedData","netUsageLineItems","setNetUsageLineItems","getGroupType","groupSelection","isCurrentHourSelected","NET_USAGE_ROUTE","netUsageLineItem","usageLineItem","netAmount","setUsageTableData","USAGE_TABLE_DATA_ROUTE","noop","getData","args","getPath","setPath","createBaseRoute","basePath","baseRoute","makeRoute","pathWithChildPaths","fullPathWithChildPaths","generatePath","matchPath","pathToMatch","matchFullPath","matchPathOrChildPaths","matchFullPathOrChildPaths","childPath","BASE_ROUTE","BILLING_BASE_ROUTE","SETTINGS_BASE_ROUTE","USAGE_CHART_DATA_ROUTE","INVOICES_ROUTE","AZURE_EMISSIONS_ROUTE","BILLING_SETTINGS_ROUTE","ENTERPRISE_BASE_ROUTE","ENTERPRISE_REPO_USAGE_ROUTE","ENTERPRISE_TOTAL_USAGE_ROUTE","ENTERPRISE_UPSERT_BUDGET_ROUTE","ENTERPRISE_CREATE_COST_CENTER_ROUTE","ENTERPRISE_UPSERT_COST_CENTER_ROUTE","ENTERPRISE_DELETE_COST_CENTER_ROUTE","ENTERPRISE_PEOPLE_ROUTE","ENTERPRISE_USAGE_REPORT_ROUTE","ENTERPRISE_ONE_TIME_PAYMENT_ROUTE","ENTERPRISE_LICENSING_ROUTE","ENTERPRISE_PAYMENT_HISTORY_ROUTE","ENTERPRISE_SHOW_INVOICE_ROUTE","ENTERPRISE_PAY_INVOICE_ROUTE","ORGANIZATION_BASE_ROUTE","ORGANIZATION_REPO_USAGE_ROUTE","ORGANIZATION_TOTAL_USAGE_ROUTE","ORGANIZATION_UPSERT_BUDGET_ROUTE","ORGANIZATION_VIEW_COST_CENTER_ROUTE","ORGANIZATION_CREATE_COST_CENTER_ROUTE","ORGANIZATION_UPSERT_COST_CENTER_ROUTE","ORGANIZATION_DELETE_COST_CENTER_ROUTE","USER_BASE_ROUTE","USER_REPO_USAGE_ROUTE","USER_TOTAL_USAGE_ROUTE","USER_UPSERT_BUDGET_ROUTE","USER_VIEW_COST_CENTER_ROUTE","USER_CREATE_COST_CENTER_ROUTE","USER_UPSERT_COST_CENTER_ROUTE","USER_DELETE_COST_CENTER_ROUTE","STAFFTOOLS_ENTERPRISE_BASE_ROUTE","STAFFTOOLS_ENTERPRISE_REPO_USAGE_ROUTE","STAFFTOOLS_ENTERPRISE_NET_USAGE_ROUTE","STAFFTOOLS_ENTERPRISE_USAGE_TABLE_DATA_ROUTE","STAFFTOOLS_ENTERPRISE_UPSERT_BUDGET_ROUTE","STAFFTOOLS_ENTERPRISE_USAGE_REPORT_ROUTE","STAFFTOOLS_USER_BASE_ROUTE","STAFFTOOLS_BILLING_BASE_ROUTE","STAFFTOOLS_PRODUCT_PRICINGS_ROUTE","STAFFTOOLS_PRODUCT_PRICINGS_SHOW_ROUTE","BASE_ROUTES","ROUTES_MAP","toLocaleTimeString","timeZone","hour","minute","toLocaleDateString","monthName","getMonthName","yearName","monthNumber","fmt","setMonth","Map","groupingKey","element","set","from","l1","l2","currency","PageHeadingFontSize","defaultBorderTop","defaultBorder","borderRightWidth","borderRightStyle","borderRightColor","borderLeftWidth","borderLeftStyle","borderLeftColor","currentUrl","targetUrl","URL","origin","hasHash","host","search","couldNotUpdateAssignees","couldNotSearchAssignees","couldNotUpdateLabels","couldNotSearchLabels","couldNotUpdateMilestone","couldNotSearchMilestones","couldNotUpdateIssueType","couldNotSearchRepositories","couldNotSearchPullRequests","couldNotSearchProjects","couldNotSearchBranches","noMatches","noResults","couldNotCreateBranch","couldNotCreateLabel","IDS","itemPickerRootId","itemPickerTestId","SELECTORS","activePickerOption","rootId","noMatchesItem","CircleSlashIcon","noResultsItem","maybeIssueUrl","_urlError","RegExp","test","getRepositorySearchQuery","queryString","organization","excludeRepo","orgIndexSplit","indexOf","orgSearchName","repoSearchName","getIssueSearchQueries","owner","repoNameWithOwner","ownerPart","repoPart","queryPart","queryIsUrl","inPart","sharedQuery","commenters","mentions","assignee","author","encodeURI","NOT_SHOWN","FILTER_PRIORITY_DISPLAY_THRESHOLD","FILTERS","archived","Archived","base","Branch","closed","Calendar","comments","Comment","created","draft","Draft","head","in","Filter","interactions","Discussion","is","Apps","language","Code","linked","PullRequest","merged","milestone","Milestone","no","Forbidden","reactions","Reaction","reason","Mention","review","sha","FileCode","state","team","Team","teamReviewRequested","Sort","itemType","Issue","updated","Tag","project","Project","KEY_ONLY_FILTERS","STATIC_VALUE_FILTERS","USER_FILTERS","Person","involves","commenter","reviewRequested","reviewedBy","userReviewRequested","USER_VALUE_FILTERS","TIME_RANGE_VALUES","valueFunc","padStart","NUMBER_COUNT_VALUE","FILTER_VALUES","IssueClosed","TEAM_VALUE_FILTERS","NegativeFilters","v7","v8","AppContext","createBrowserHistory","listener","routerCreateBrowserHistory","v5Compat","blockers","ignoreNextHistoryUpdate","doIfUnblocked","fn","blocker","retry","listen","Action","Pop","delta","go","createHref","to","createURL","encodeLocation","newListener","EXPECTED_ERRORS","ssrOptions","globalThis","getColorModes","getSchemeFromMode","mode","dayScheme","lightTheme","nightScheme","darkTheme","documentElement","setColorMode","observer","MutationObserver","observe","attributes","attributeFilter","disconnect","useFeatureFlags","useAppPayload","enabled_features","useFeatureFlag","featureName","ssrSafeDocument","ssrSafeWindow","ssrSafeHistory","IS_SERVER","IS_BROWSER","wasServerRendered","testIdProps","waitMs","leading","maxWait","trailing","onChangeBehavior","fnRef","useTrackingRef","debouncedFn","useHydratedEffect","effect","deps","useLayoutEffect","useIsMounted","mountedRef","isMounted","ModifierKeys","useKeyPress","callback","callbackRef","handleKeyPress","portals","querySelectorAll","elementHasNonZeroHeight","clientHeight","child","triggerWhenPortalIsActive","checkModifierKeys","keyboardEvent","ignoreModifierKeys","triggerWhenInputElementHasFocus","eventTargetIsInputElement","HTMLTextAreaElement","HTMLInputElement","code","targetElement","scopeRef","removeEventListener","reactRouterNavigate","useReactRouterNavigate","navigateOptions","resolvePath","matchRoutes","isHashNavigation","startSoftNav","preventAutofocus","startTransition","PREVENT_AUTOFOCUS_KEY","turbo","skipTurbo","softNavigate","turboSoftNavigate","useReactRouterSearchParams","setSearchParams","nextInit","newSearchParams","createSearchParams","initialState","setState","dataHpc","openHotkey","onOpen","selectPanelRef","enforceAtleastOneSelected","insidePortal","maxVisibleItems","nested","resultListAriaLabel","preventClose","triggerOpen","initialFilter","customNoResultsItem","customNoMatchItem","footer","keybindingCommandId","updateOpenState","anyItemPickerOpen","useItemPickersContext","useId","issues_react_ui_commands_migration","handleKeyDown","onHotKeyPress","toItemProps","itemSelected","itemKey","itemProps","onAction","wrappedGetItemKey","selectPanelItems","__isNew__","delete","selectPanelSelectedItems","onSelectedChange","param","selectedItemInputs","isArray","activeOption","activeDataId","getAttribute","onOpenChange","item2","hasItems","groupMetadataProp","groupMetadata","overlayHeight","selectPanelProps","filterValue","onFilterChange","showItemDividers","overlayProps","GlobalCommands","commands","ItemPickersContext","ItemPickersContextProvider","itemPickerOpenStates","previousState","contextValue","context","visuallyHideLabel","clearIconInitiallyVisible","renderSingularItemNames","sxString","dataTestId","queryBuilderRef","labelId","inputId","QueryBuilderElement","currentRef","readyForRequestProviders","setAttribute","justifyItems","inputSubmit","currentValue","setCurrentValue","onChangeWithState","updateInputValue","parseQuery","acceptCharset","query-builder","defer-request-providers","data-catalyst","data-filter-key","htmlFor","data-target","minHeight","tabIndex","input","spellCheck","data-action","align-items","border-radius","hidden","XCircleFillIcon","iconsTemplate","data-persist-list","aria-live","aria-atomic","templatesToRender","apps","AppsIcon","ArchiveIcon","bookmark","BookmarkIcon","branch","GitBranchIcon","calendar","CalendarIcon","circle","DotFillIcon","CodeIcon","comment","CommentIcon","default","FilterIcon","discussion","CommentDiscussionIcon","IssueDraftIcon","FileIcon","forbidden","NoEntryIcon","HistoryIcon","issue","IssueOpenedIcon","issueClosed","IssueClosedIcon","iterations","IterationsIcon","mention","MentionIcon","GitMergeIcon","MilestoneIcon","not","pencil","person","PlusCircleIcon","TableIcon","pullRequest","GitPullRequestIcon","question","QuestionIcon","reaction","SingleSelectIcon","SortDescIcon","tag","TagIcon","PeopleIcon","trash","entries","html","renderToString","template","dangerouslySetInnerHTML","__html","AppContextProvider","appContextProviderValue","PrimerFeatureFlags","featureFlags","getEnabledFeatures","flags","result","flag","FeatureFlags","BaseProviders","useColorModes","RenderPhaseProvider","preventSSRMismatch","ToastContextProvider","typeClass","info","success","typeIcon","CheckIcon","Toast","timeToLive","isVisible","setIsVisible","safeSetTimeout","useSafeTimeout","Portal","Toasts","toasts","persistedToast","InternalToastsContext","toastInfo","TOAST_SHOW_TIME","SSRErrorToast","ssrError","isExpectedError","CommonElements","shouldNavigateOnError","transitionType","coreLoader","fetchPath","fetch","Accept","redirected","httpStatus","responseJson","loadFromEmbeddedData","embeddedData","RenderPhase","RenderPhaseContext","renderPhase","setRenderPhase","waveAnimation","keyframes","waveMixin","css","pulseAnimation","pulseMixin","styled","animationStyle","themeGet","theme","random","ToastContext","clearPersistedToast","setToasts","useSafeState","setPersistedToast","toast","internalToastsContext"],"sourceRoot":""}