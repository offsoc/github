{"version":3,"file":"chunk-ui_packages_fgp-search-element_fgp-search-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/fgp-search-element/fgp-search-element.ts","node_modules/@github/combobox-nav/dist/index.js"],"sourcesContent":["import {controller, target, attr} from '@github/catalyst'\nimport Combobox from '@github/combobox-nav'\n\ninterface FGPMetadata {\n  label: string\n  description: string\n  category: string\n  base_role?: string\n}\n\n@controller\nexport class FgpSearchElement extends HTMLElement {\n  @target searchInput: HTMLInputElement\n  @target resultList: HTMLElement\n  @target emptyState: HTMLElement\n  @target fgpSummaryList: HTMLElement\n  @target baseRoleSelect: HTMLSelectElement\n\n  @attr src: string\n  @attr fgpCounterId: string\n\n  #combobox: Combobox\n  #fgpSummaryItemTemplate: HTMLTemplateElement\n  #fgpMetadataList: {[key: string]: FGPMetadata} = {}\n  #keepOpen = false\n  #selectedFgps = new Set<string>()\n\n  async connectedCallback() {\n    this.#combobox = new Combobox(this.searchInput, this.resultList)\n\n    this.#fetchFGPData()\n  }\n\n  removeFgp(event: Event) {\n    const removeButton = event.currentTarget as HTMLButtonElement\n    const fgpToRemove = removeButton.getAttribute('data-fgp')\n\n    if (fgpToRemove) {\n      this.removeFromSummary(fgpToRemove)\n      this.#uncheck(fgpToRemove)\n    }\n\n    this.#updateCounter()\n  }\n\n  handleRepoBaseRoleChange() {\n    const baseRole = this.#selectedBaseRole() || this.getAttribute('data-initial-base-role')\n    const baseRoleInput = document.getElementById('role_base_role') as HTMLInputElement\n\n    if (baseRoleInput) {\n      baseRoleInput.value = baseRole === 'none' || !baseRole ? '' : baseRole\n    }\n    if (!baseRole) return\n    this.searchInput.disabled = baseRole === 'none'\n\n    this.#updateBaseRoleCheckboxes(baseRole)\n    this.#updateCounter()\n  }\n\n  keepOpen() {\n    this.#keepOpen = true\n  }\n\n  openSearch() {\n    this.resultList.hidden = false\n    this.resultList.ariaExpanded = 'true'\n    this.#combobox.start()\n  }\n\n  closeSearch() {\n    if (this.#keepOpen) {\n      this.#keepOpen = false\n      return\n    }\n    this.resultList.hidden = true\n    this.#combobox.stop()\n  }\n\n  addToSummary(fgp: string, inherited: boolean = false) {\n    const metadata = this.#fgpMetadataList[fgp]\n    if (!metadata) return\n\n    this.#selectedFgps.add(fgp)\n\n    if (this.#getFgpSummaryListItem(fgp)) return\n\n    const clone = this.#getSummaryItemTemplate()\n    const listItem = clone.querySelector('.js-fgp-list-item')\n    const itemTitle = clone.querySelector('.js-fgp-item-title')\n    const removeButton = clone.querySelector<HTMLButtonElement>('.js-fgp-remove-button')\n\n    if (inherited) {\n      if (removeButton) {\n        removeButton.hidden = true\n      }\n      const repoInheritLabel = clone.querySelector('span.js-repository-inherit-label')\n      if (repoInheritLabel) {\n        repoInheritLabel.textContent = `Inherited from ${metadata.base_role || 'admin'}`\n      }\n    }\n\n    if (!listItem || !itemTitle || !removeButton) return\n\n    itemTitle.textContent = metadata.description\n    listItem.setAttribute('data-fgp', fgp)\n    listItem.setAttribute('id', `fgp-item-${fgp}`)\n    removeButton.setAttribute('data-fgp', fgp)\n\n    if (!inherited) {\n      const firstInheritedFgp = this.fgpSummaryList\n        .querySelector('span.js-repository-inherit-label:not([hidden])')\n        ?.closest('li')\n\n      if (firstInheritedFgp) {\n        this.fgpSummaryList.insertBefore(clone, firstInheritedFgp)\n      } else {\n        this.fgpSummaryList.appendChild(clone)\n      }\n    } else {\n      this.fgpSummaryList.appendChild(clone)\n    }\n\n    if (this.#selectedFgps.size >= 1) {\n      this.emptyState.hidden = true\n      this.fgpSummaryList.hidden = false\n    }\n  }\n\n  removeFromSummary(fgp: string) {\n    const listItem = this.#getFgpSummaryListItem(fgp)\n    if (!listItem) return\n\n    this.#selectedFgps.delete(fgp)\n\n    if (this.#selectedFgps.size === 0) {\n      this.emptyState.hidden = false\n      this.fgpSummaryList.hidden = true\n    }\n\n    listItem.remove()\n  }\n\n  handleFgpChange(event: Event) {\n    const fgpCheckbox = event.currentTarget as HTMLInputElement\n    const fgp = fgpCheckbox.value\n\n    fgpCheckbox.checked ? this.addToSummary(fgp) : this.removeFromSummary(fgp)\n    fgpCheckbox.setAttribute('aria-checked', fgpCheckbox.checked.toString())\n\n    this.searchInput.focus()\n    this.#updateCounter()\n  }\n\n  #fetchFGPData = async () => {\n    if (!this.src) throw new Error('src attribute is required')\n\n    const response = await fetch(this.src, {\n      headers: {'X-Requested-With': 'XMLHttpRequest'},\n    })\n\n    if (!response.ok) throw new Error(`Failed to fetch FGP metadata: ${response.statusText}`)\n\n    this.#fgpMetadataList = await response.json()\n    this.#fillFGPSummaryList()\n  }\n\n  #fillFGPSummaryList = () => {\n    const initialBaseRole = this.getAttribute('data-initial-base-role')\n    if (initialBaseRole) {\n      this.handleRepoBaseRoleChange()\n    }\n\n    const initialEditRolePermissions = this.getAttribute('data-initial-edit-role-permissions')\n    if (!initialEditRolePermissions) return\n\n    const initialEditRolePermissionsList = JSON.parse(initialEditRolePermissions)\n\n    for (const fgp of initialEditRolePermissionsList) {\n      this.addToSummary(fgp)\n      this.#check(fgp)\n    }\n\n    this.#addCachedCheckboxesToSummary(initialEditRolePermissionsList)\n\n    this.#updateCounter()\n  }\n\n  #addCachedCheckboxesToSummary(savedList: string[]) {\n    const fgpCheckboxes = this.resultList.querySelectorAll<HTMLInputElement>('input[type=\"checkbox\"]')\n\n    for (const checkbox of fgpCheckboxes) {\n      if (checkbox.checked && !checkbox.disabled && !savedList.includes(checkbox.value)) {\n        this.addToSummary(checkbox.value)\n      }\n    }\n  }\n\n  #check(fgp: string) {\n    const fgpCheckbox = this.#getCheckboxFor(fgp)\n    if (!fgpCheckbox) return\n    fgpCheckbox.checked = true\n  }\n\n  #uncheck(fgp: string) {\n    const fgpCheckbox = this.#getCheckboxFor(fgp)\n    if (!fgpCheckbox) return\n    fgpCheckbox.checked = false\n  }\n\n  #getCheckboxFor(fgp: string): HTMLInputElement | null {\n    return this.resultList.querySelector<HTMLInputElement>(`input[type=\"checkbox\"][value=\"${fgp}\"]`)\n  }\n\n  #getFgpSummaryListItem(fgp: string): HTMLLIElement | null {\n    return this.fgpSummaryList.querySelector<HTMLLIElement>(`#fgp-item-${fgp}`)\n  }\n\n  #updateBaseRoleCheckboxes(baseRole: string) {\n    const roleHierarchy = ['read', 'triage', 'write', 'maintain', 'admin']\n    const baseRoleIndex = roleHierarchy.indexOf(baseRole)\n    const fgpCheckboxes = this.resultList.querySelectorAll<HTMLInputElement>('input[type=\"checkbox\"]')\n\n    for (const checkbox of fgpCheckboxes) {\n      const fgp = checkbox.value\n\n      if (baseRole === 'none') {\n        this.removeFromSummary(fgp)\n        checkbox.checked = false\n        checkbox.disabled = false\n      }\n\n      const metadata = this.#fgpMetadataList[fgp]\n      if (!metadata) continue\n\n      const fgpBaseRole = metadata.base_role ? metadata.base_role : 'admin'\n      const metadataRoleIndex = roleHierarchy.indexOf(fgpBaseRole)\n      const inherited = baseRoleIndex !== -1 && metadataRoleIndex <= baseRoleIndex\n\n      if (inherited) {\n        checkbox.checked = true\n        checkbox.disabled = true\n        this.removeFromSummary(fgp)\n        this.addToSummary(fgp, true)\n      } else {\n        checkbox.disabled = false\n        checkbox.checked = false\n        this.removeFromSummary(fgp)\n      }\n    }\n  }\n\n  #getSummaryItemTemplate() {\n    if (!this.#fgpSummaryItemTemplate) {\n      const listItemTemplate = document.querySelector<HTMLTemplateElement>('#fgp-summary-list-item-template')\n      if (listItemTemplate) {\n        this.#fgpSummaryItemTemplate = listItemTemplate\n      } else {\n        throw new Error('fgp-summary-list-item-template not found')\n      }\n    }\n\n    return this.#fgpSummaryItemTemplate.content.cloneNode(true) as DocumentFragment\n  }\n\n  #selectedBaseRole() {\n    if (!this.baseRoleSelect) {\n      return null\n    }\n    return this.baseRoleSelect.querySelector('button[aria-checked=\"true\"]')?.getAttribute('data-value')\n  }\n\n  #updateCounter() {\n    const fgpCounter = document.querySelector(`#${this.fgpCounterId}`)\n    if (fgpCounter) {\n      fgpCounter.textContent = this.#selectedFgps.size.toString()\n    }\n  }\n}\n","export default class Combobox {\n    constructor(input, list, { tabInsertsSuggestions, firstOptionSelectionMode, scrollIntoViewOptions } = {}) {\n        this.input = input;\n        this.list = list;\n        this.tabInsertsSuggestions = tabInsertsSuggestions !== null && tabInsertsSuggestions !== void 0 ? tabInsertsSuggestions : true;\n        this.firstOptionSelectionMode = firstOptionSelectionMode !== null && firstOptionSelectionMode !== void 0 ? firstOptionSelectionMode : 'none';\n        this.scrollIntoViewOptions = scrollIntoViewOptions !== null && scrollIntoViewOptions !== void 0 ? scrollIntoViewOptions : { block: 'nearest', inline: 'nearest' };\n        this.isComposing = false;\n        if (!list.id) {\n            list.id = `combobox-${Math.random().toString().slice(2, 6)}`;\n        }\n        this.ctrlBindings = !!navigator.userAgent.match(/Macintosh/);\n        this.keyboardEventHandler = event => keyboardBindings(event, this);\n        this.compositionEventHandler = event => trackComposition(event, this);\n        this.inputHandler = this.clearSelection.bind(this);\n        input.setAttribute('role', 'combobox');\n        input.setAttribute('aria-controls', list.id);\n        input.setAttribute('aria-expanded', 'false');\n        input.setAttribute('aria-autocomplete', 'list');\n        input.setAttribute('aria-haspopup', 'listbox');\n    }\n    destroy() {\n        this.clearSelection();\n        this.stop();\n        this.input.removeAttribute('role');\n        this.input.removeAttribute('aria-controls');\n        this.input.removeAttribute('aria-expanded');\n        this.input.removeAttribute('aria-autocomplete');\n        this.input.removeAttribute('aria-haspopup');\n    }\n    start() {\n        this.input.setAttribute('aria-expanded', 'true');\n        this.input.addEventListener('compositionstart', this.compositionEventHandler);\n        this.input.addEventListener('compositionend', this.compositionEventHandler);\n        this.input.addEventListener('input', this.inputHandler);\n        this.input.addEventListener('keydown', this.keyboardEventHandler);\n        this.list.addEventListener('click', commitWithElement);\n        this.resetSelection();\n    }\n    stop() {\n        this.clearSelection();\n        this.input.setAttribute('aria-expanded', 'false');\n        this.input.removeEventListener('compositionstart', this.compositionEventHandler);\n        this.input.removeEventListener('compositionend', this.compositionEventHandler);\n        this.input.removeEventListener('input', this.inputHandler);\n        this.input.removeEventListener('keydown', this.keyboardEventHandler);\n        this.list.removeEventListener('click', commitWithElement);\n    }\n    indicateDefaultOption() {\n        var _a;\n        if (this.firstOptionSelectionMode === 'active') {\n            (_a = Array.from(this.list.querySelectorAll('[role=\"option\"]:not([aria-disabled=\"true\"])'))\n                .filter(visible)[0]) === null || _a === void 0 ? void 0 : _a.setAttribute('data-combobox-option-default', 'true');\n        }\n        else if (this.firstOptionSelectionMode === 'selected') {\n            this.navigate(1);\n        }\n    }\n    navigate(indexDiff = 1) {\n        const focusEl = Array.from(this.list.querySelectorAll('[aria-selected=\"true\"]')).filter(visible)[0];\n        const els = Array.from(this.list.querySelectorAll('[role=\"option\"]')).filter(visible);\n        const focusIndex = els.indexOf(focusEl);\n        if ((focusIndex === els.length - 1 && indexDiff === 1) || (focusIndex === 0 && indexDiff === -1)) {\n            this.clearSelection();\n            this.input.focus();\n            return;\n        }\n        let indexOfItem = indexDiff === 1 ? 0 : els.length - 1;\n        if (focusEl && focusIndex >= 0) {\n            const newIndex = focusIndex + indexDiff;\n            if (newIndex >= 0 && newIndex < els.length)\n                indexOfItem = newIndex;\n        }\n        const target = els[indexOfItem];\n        if (!target)\n            return;\n        for (const el of els) {\n            el.removeAttribute('data-combobox-option-default');\n            if (target === el) {\n                this.input.setAttribute('aria-activedescendant', target.id);\n                target.setAttribute('aria-selected', 'true');\n                fireSelectEvent(target);\n                target.scrollIntoView(this.scrollIntoViewOptions);\n            }\n            else {\n                el.removeAttribute('aria-selected');\n            }\n        }\n    }\n    clearSelection() {\n        this.input.removeAttribute('aria-activedescendant');\n        for (const el of this.list.querySelectorAll('[aria-selected=\"true\"], [data-combobox-option-default=\"true\"]')) {\n            el.removeAttribute('aria-selected');\n            el.removeAttribute('data-combobox-option-default');\n        }\n    }\n    resetSelection() {\n        this.clearSelection();\n        this.indicateDefaultOption();\n    }\n}\nfunction keyboardBindings(event, combobox) {\n    if (event.shiftKey || event.metaKey || event.altKey)\n        return;\n    if (!combobox.ctrlBindings && event.ctrlKey)\n        return;\n    if (combobox.isComposing)\n        return;\n    switch (event.key) {\n        case 'Enter':\n            if (commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Tab':\n            if (combobox.tabInsertsSuggestions && commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Escape':\n            combobox.clearSelection();\n            break;\n        case 'ArrowDown':\n            combobox.navigate(1);\n            event.preventDefault();\n            break;\n        case 'ArrowUp':\n            combobox.navigate(-1);\n            event.preventDefault();\n            break;\n        case 'n':\n            if (combobox.ctrlBindings && event.ctrlKey) {\n                combobox.navigate(1);\n                event.preventDefault();\n            }\n            break;\n        case 'p':\n            if (combobox.ctrlBindings && event.ctrlKey) {\n                combobox.navigate(-1);\n                event.preventDefault();\n            }\n            break;\n        default:\n            if (event.ctrlKey)\n                break;\n            combobox.resetSelection();\n    }\n}\nfunction commitWithElement(event) {\n    if (!(event.target instanceof Element))\n        return;\n    const target = event.target.closest('[role=\"option\"]');\n    if (!target)\n        return;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return;\n    fireCommitEvent(target, { event });\n}\nfunction commit(input, list) {\n    const target = list.querySelector('[aria-selected=\"true\"], [data-combobox-option-default=\"true\"]');\n    if (!target)\n        return false;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return true;\n    target.click();\n    return true;\n}\nfunction fireCommitEvent(target, detail) {\n    target.dispatchEvent(new CustomEvent('combobox-commit', { bubbles: true, detail }));\n}\nfunction fireSelectEvent(target) {\n    target.dispatchEvent(new Event('combobox-select', { bubbles: true }));\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        !(el instanceof HTMLInputElement && el.type === 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction trackComposition(event, combobox) {\n    combobox.isComposing = event.type === 'compositionstart';\n    const list = document.getElementById(combobox.input.getAttribute('aria-controls') || '');\n    if (!list)\n        return;\n    combobox.clearSelection();\n}\n"],"names":["FgpSearchElement","HTMLElement","connectedCallback","combobox","Combobox","searchInput","resultList","fetchFGPData","removeFgp","event","fgpToRemove","removeButton","currentTarget","getAttribute","removeFromSummary","uncheck","updateCounter","handleRepoBaseRoleChange","baseRole","selectedBaseRole","baseRoleInput","document","getElementById","value","disabled","updateBaseRoleCheckboxes","keepOpen","openSearch","hidden","ariaExpanded","start","closeSearch","stop","addToSummary","fgp","inherited","metadata","fgpMetadataList","selectedFgps","add","getFgpSummaryListItem","clone","getSummaryItemTemplate","listItem","querySelector","itemTitle","repoInheritLabel","textContent","base_role","description","setAttribute","fgpSummaryList","appendChild","firstInheritedFgp","closest","insertBefore","size","emptyState","delete","remove","handleFgpChange","fgpCheckbox","checked","toString","focus","Set","src","response","fetch","headers","ok","statusText","json","fillFGPSummaryList","initialEditRolePermissions","initialEditRolePermissionsList","JSON","parse","check","addCachedCheckboxesToSummary","savedList","checkbox","querySelectorAll","includes","getCheckboxFor","roleHierarchy","baseRoleIndex","indexOf","fgpBaseRole","metadataRoleIndex","fgpSummaryItemTemplate","listItemTemplate","content","cloneNode","baseRoleSelect","fgpCounter","fgpCounterId","target","attr","controller","constructor","input","list","tabInsertsSuggestions","firstOptionSelectionMode","scrollIntoViewOptions","block","inline","isComposing","id","Math","random","slice","ctrlBindings","navigator","userAgent","match","keyboardEventHandler","keyboardBindings","shiftKey","metaKey","altKey","ctrlKey","key","commit","preventDefault","clearSelection","navigate","resetSelection","compositionEventHandler","trackComposition","type","inputHandler","bind","destroy","removeAttribute","addEventListener","commitWithElement","removeEventListener","indicateDefaultOption","_a","Array","from","filter","visible","indexDiff","focusEl","els","focusIndex","length","indexOfItem","newIndex","el","fireSelectEvent","dispatchEvent","Event","bubbles","scrollIntoView","Element","fireCommitEvent","detail","CustomEvent","click","HTMLInputElement","offsetWidth","offsetHeight"],"sourceRoot":""}