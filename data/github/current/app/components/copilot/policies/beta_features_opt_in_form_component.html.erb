<copilot-business-settings>
  <%= render(Primer::Box.new(display: :flex, justify_content: :space_between, flex: 1, direction: :row, align_items: :center, test_selector: "copilot-beta-features-opt-in")) do %>
    <%= render(Primer::Box.new(display: :inline_flex, justify_content: :space_between, flex: 1, direction: :column)) do %>
      <%= form_with url: submit_path, class: "d-inline", method: :put, data: { target: "copilot-business-settings.betaFeaturesOptInForm" } do %>
        <input type="hidden" name="tab" value="policies">
        <%= render(Primer::Beta::Text.new(tag: :p, mb: 1, font_weight: :bold)) do %>
          <input type="hidden" value="disabled" name="copilot_beta_features_opt_in">
          <input
            type="checkbox"
            id="copilot_beta_features_opt_in"
            name="copilot_beta_features_opt_in"
            value="enabled"
            class="mr-1" <%= @copilot_object.beta_features_github_chat_enabled? ? "checked" : "" %>
            data-action="click:copilot-business-settings#toggleBetaFeaturesOptIn"
            data-target="copilot-business-settings.toggleBetaFeaturesOptIn"
          >
          <label for="copilot_beta_features_opt_in">
            Opt in to preview features
          </label>
        <% end %>
      <% end %>
      <%= render(Primer::Beta::Text.new(tag: :p, mb: 2, mr: 3, color: :muted)) do %>
        If enabled, organizations can use previews of new Copilot in github.com features. Use is subject to
        <%= render(Primer::Beta::Link.new(href: github_copilot_previews_term_url, classes: "Link--inTextBlock")) { "GitHub's preview terms" } %>.
      <% end %>
    <% end %>
  <% end %>
</copilot-business-settings>
