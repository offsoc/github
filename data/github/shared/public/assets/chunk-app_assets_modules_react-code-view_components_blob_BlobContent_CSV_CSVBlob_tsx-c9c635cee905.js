"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_react-code-view_components_blob_BlobContent_CSV_CSVBlob_tsx"],{96325:(e,l,a)=>{a.r(l),a.d(l,{default:()=>N});var t=a(9449),s=a(41631),r=a(59857),i=a(75177),n=a(44981),c=a(53897),o=a(20053),d=a(55293),h=a(47767),u=a(68953),m=a(73479),b=a(9428),p=a(65952),x=a(56881),y=a(41010),C=a(4217);function N({csv:e}){let l=(0,d.useRef)(null),[a,s]=function(){let{hash:e}=(0,h.zy)(),l=(0,u.$c)(e).blobRange,a=(0,d.useRef)(l),[t,s]=(0,d.useState)(l);return(0,d.useEffect)(()=>{let e=(0,u.$c)(window.location.hash).blobRange;(e?.start.line!==a.current?.start.line||e?.end.line!==a.current?.end.line)&&(a.current=e,s(e))},[e]),[t,s]}(),r=e.map((e,l)=>{let t=(0,p.OS)(),s=(0,p.xg)(e.join("")),r=t&&s?e.map(e=>e?(0,p.Q_)(e)??e:e):e,i=l+1,n=!!a&&i>=a.start.line&&i<=a.end.line;return{lineNumber:i,cells:r,bidi:s,highlighted:n}}),i=r.some(e=>e.bidi),{anchorPrefix:n}=(0,u.$c)((0,h.zy)().hash),c=(0,d.useCallback)(()=>{s(u.$c(window.location.hash)?.blobRange)},[s]);return(0,d.useEffect)(()=>{let e=(0,u.$c)(window.location.hash),t=l.current;a&&t&&((0,b.si)(e.blobRange.start.line)||(a.start.line<10?l.current?.scrollToTop():l.current?.scrollToLine(e.blobRange.start.line)))},[a,n]),(0,t.jsxs)(x.iU,{highlightedLines:a,children:[(0,t.jsx)(f,{onFilterChange:e=>l.current?.setFilter(e)}),i&&(0,t.jsx)(p.jg,{}),(0,t.jsx)(C.AG,{children:(0,t.jsx)(g,{ref:l,csvRows:r,onLineNumberClick:c})})]})}function f({onFilterChange:e}){return(0,t.jsx)(i.A,{sx:{backgroundColor:"var(--bgColor-muted, var(--color-canvas-subtle))",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",position:"relative",px:3,py:2},children:(0,t.jsx)(n.A,{"aria-label":"Search this file",autoCapitalize:"off",leadingVisual:r.SearchIcon,onChange:l=>{e(l.target.value.toLowerCase())},block:!0,name:"filter",placeholder:"Search this file",type:"text"})})}let g=d.forwardRef(j);function j({csvRows:e,onLineNumberClick:l},a){let[r,n]=(0,d.useState)(null),o=(0,d.useRef)(null),h=(0,m.o)("react-csv-table-body",35),u=r?e.slice(1).filter(e=>e.cells.join(" ").toLowerCase().includes(r.toLowerCase())):e.slice(1),b=(0,s.h)({parentRef:o,size:u.length,overscan:200,estimateSize:(0,d.useCallback)(()=>h,[h])});return(0,d.useImperativeHandle)(a,()=>({scrollToTop:()=>b.scrollToIndex(0,{align:"start"}),scrollToLine:e=>{let l=u.findIndex(l=>l.lineNumber===e);b.scrollToIndex(l,{align:"start"})},setFilter:n})),(0,t.jsx)(c.k,{"aria-labelledby":"LC1",children:(0,t.jsx)(i.A,{as:"table",ref:o,sx:{display:"block",isolation:"isolate"},style:{height:b.totalSize+h,paddingTop:`${b.virtualItems[0]?.start??0}px`},"data-hpc":!0,"data-testid":"csv-table",children:e.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{bidi:e[0].bidi,cells:e[0].cells,onLineNumberClick:l}),(0,t.jsx)("tbody",{className:"react-csv-table-body",children:b.virtualItems.map(e=>{let{cells:a,bidi:s,lineNumber:r}=u[e.index];return(0,t.jsx)(S,{lineNumber:r,cells:a,bidi:s,onLineNumberClick:l},r)})})]})})})}let v=d.memo(w);function w({cells:e,bidi:l,onLineNumberClick:a}){return(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{id:"LC1",className:"react-csv-row",children:[(0,t.jsx)("th",{className:"react-csv-line-number",children:(0,t.jsx)(y.Kn,{codeLineData:{lineNumber:1,bidi:l},onClick:a})}),e.map((e,l)=>(0,t.jsx)("th",{className:"react-csv-cell react-csv-cell--header",children:e},`0-${l}`))]})})}let S=d.memo(k);function k({lineNumber:e,cells:l,bidi:a,onLineNumberClick:s}){let r=(0,x.kT)(e),i=!!r&&e>=r.start.line&&e<=r.end.line,n=(0,o.$)("react-csv-row",i&&"react-csv-row--highlighted");return(0,t.jsxs)("tr",{id:`LC${e}`,className:n,children:[(0,t.jsx)("td",{className:"react-csv-line-number",children:(0,t.jsx)(y.Kn,{codeLineData:{lineNumber:e,bidi:a},onClick:s})}),l.map((l,a)=>(0,t.jsx)("td",{className:"react-csv-cell",children:l},`${e}-${a}`))]})}try{N.displayName||(N.displayName="CSVBlob")}catch{}try{f.displayName||(f.displayName="CSVFilter")}catch{}try{g.displayName||(g.displayName="CSVTable")}catch{}try{j.displayName||(j.displayName="CSVTableWithRef")}catch{}try{v.displayName||(v.displayName="CSVHeader")}catch{}try{w.displayName||(w.displayName="CSVHeaderUnmemoized")}catch{}try{S.displayName||(S.displayName="CSVRow")}catch{}try{k.displayName||(k.displayName="CSVRowUnmemoized")}catch{}}}]);
//# sourceMappingURL=app_assets_modules_react-code-view_components_blob_BlobContent_CSV_CSVBlob_tsx-ca6ad0885db4.js.map