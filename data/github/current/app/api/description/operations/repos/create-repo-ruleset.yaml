---
summary: 'Create a repository ruleset'
description: |-
  Create a ruleset for a repository.
tags:
  - repos
operationId: repos/create-repo-ruleset
externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/repos/rules#create-a-repository-ruleset'
x-github-internal:
  path: /repos/{owner}/{repo}/rulesets
  http-method: post
  published: true
  owner: '@github/branch-protections'
x-github-releases:
  - api.github.com
  - ghec
  - ghes: '>= 3.11'
x-github:
  githubCloudOnly: false
  enabledForGitHubApps: true
  category: repos
  subcategory: rules
parameters:
  - $ref: '../../components/parameters/owner.yaml'
  - $ref: '../../components/parameters/repo.yaml'
requestBody:
  description: 'Request body'
  required: true
  content:
    application/json:
      schema:
        type: object
        properties:
          name:
            type: string
            description: "The name of the ruleset."
          target:
            type: string
            # Remove the note below once push_rulesets feature flag is removed
            description: |-
              The target of the ruleset

              > [!NOTE]
              > The `push` target is in beta and is subject to change.
            enum:
              - branch
              - tag
              - push
            default: branch
          enforcement:
            $ref: '../../components/schemas/repository-rule-enforcement.yaml'
          bypass_actors:
            type: array
            description: The actors that can bypass the rules in this ruleset
            items:
              $ref: '../../components/schemas/repository-ruleset-bypass-actor.yaml'
          conditions:
            $ref: '../../components/schemas/repository-ruleset-conditions.yaml'
          rules:
            type: array
            description: An array of rules within the ruleset.
            items:
              $ref: '../../components/schemas/repository-rule.yaml'
        required:
          - name
          - enforcement
      examples:
        default:
          value:
            name: super cool ruleset
            target: branch
            enforcement: active
            bypass_actors:
              - actor_id: 234
                actor_type: Team
                bypass_mode: always
            conditions:
              ref_name:
                include:
                  - refs/heads/main
                  - refs/heads/master
                exclude:
                  - refs/heads/dev*
            rules:
              - type: commit_author_email_pattern
                parameters:
                  operator: contains
                  pattern: github
responses:
  '201':
    description: Response
    content:
      application/json:
        schema:
          $ref: '../../components/schemas/repository-ruleset.yaml'
        examples:
          default:
            $ref: '../../components/examples/repository-ruleset.yaml'
  '404':
    $ref: '../../components/responses/not_found.yaml'
  '500':
        $ref: '../../components/responses/internal_error.yaml'
x-githubEnterpriseOverlays:
  '< 3.13':
    requestBody:
      content:
        application/json:
          schema:
            properties:
              target:
                type: string
                description: "The target of the ruleset."
                enum:
                  - branch
                  - tag
