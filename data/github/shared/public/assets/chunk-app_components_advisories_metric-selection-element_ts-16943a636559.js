"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_advisories_metric-selection-element_ts"],{94885:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(39595);function i(e,t,s,l){var i,c=arguments.length,a=c<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,s):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(c<3?i(a):c>3?i(t,s,a):i(t,s))||a);return c>3&&a&&Object.defineProperty(t,s,a),a}let c=class MetricSelectionElement extends HTMLElement{connectedCallback(){this.addEventListener("keydown",this.handleKeydown)}setTabIndex(e){for(let t of this.choiceElements)t===e?t.tabIndex=0:t.tabIndex=-1}handleKeydown(e){if(e.key.startsWith("Arrow")){let t=e.target,s=t;switch(e.key){case"ArrowRight":case"ArrowDown":s=t.nextElementSibling;break;case"ArrowLeft":case"ArrowUp":s=t.previousElementSibling}s&&(this.selectedValue||this.setTabIndex(s),s.focus(),e.preventDefault())}}getChoiceValue(e){return e.getAttribute("data-value")}get metricCode(){return this.getAttribute("data-metric-code")}get selectedValue(){return this.getAttribute("data-selected-value")}set selectedValue(e){e&&this.setAttribute("data-selected-value",e)}deleteSelectedValue(){this.removeAttribute("data-selected-value")}deselect(){let e=this.choiceElements.find(e=>e.classList.contains("selected"));e&&(e.classList.remove("selected","btn-primary"),e.setAttribute("aria-checked","false"),e.tabIndex=-1),this.deleteSelectedValue()}select(e){let t=this.getChoiceValue(e),s=this.selectedValue;if(t!==s){if(s)this.deselect();else{let e=this.choiceElements.find(e=>e.tabIndex>=0);e&&(e.tabIndex=-1)}e.classList.add("selected","btn-primary"),e.setAttribute("aria-checked","true"),e.tabIndex=0,this.selectedValue=t}}selectFromClick(e){this.select(e.target),this.dispatchEvent(new CustomEvent("metricSelectionChange"))}selectFromCode(e){if(this.selectedValue===e)return;let t=this.choiceElements.find(t=>this.getChoiceValue(t)===e);if(!t){this.deselect(),this.choiceElements[0].tabIndex=0;return}this.select(t)}};i([l.zV],c.prototype,"choiceElements",void 0),c=i([l.p_],c)}}]);
//# sourceMappingURL=app_components_advisories_metric-selection-element_ts-722c5504ddc2.js.map