"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["repository-code-scanning-settings"],{45318:(e,t,r)=>{var s=r(74848);function n(e){return(0,s.jsx)(s.Fragment,{children:e.children})}try{n.displayName||(n.displayName="App")}catch{}var i=r(96540),o=r(20826),a=r(82897),l=r(59857),d=r(59572),c=r(85053),u=r(17909),h=r(75177),p=r(73729),m=r(86519),x=r(69909),_=r(19797),f=r(66889),j=r(47553),g=r(281),b=r(94153),y=r(89169),A=r(55847);let v=new Set(["c-cpp","csharp","java-kotlin","swift"]),S=[{label:"Remote sources",value:"remote",description:"For applications that do not trust data from remote sources such as the network"},{label:"Remote and local sources",value:"remote_local",description:"For applications that do not trust data from local sources such as files or CLI commands"}];function C(){let{securityAnalysisUrl:e,querySuitesDocumentationUrl:t,taintedDataDocumentationUrl:r,customBuildDocumentationUrl:n,codeqlLanguagesDocumentationUrl:C,defaultBranch:w,protectedBranchesUrl:k,formUrl:W,formMethod:L,isDefaultSetupEnabled:z,selectableLanguages:T,selectedLanguages:B,selectedQuerySuite:Q,recommendedQuerySuite:R,querySuiteOptions:F,selectedThreatModel:I,showThreatModelInput:M,hasMacOsRunner:N,nextScheduledRunAt:q,isRepoActive:D}=(0,a.B)(),E=(0,o.H)(W,L),H=(0,i.useMemo)(()=>T.some(e=>v.has(e)),[T]),O=(0,i.useMemo)(()=>T.includes("swift"),[T]),G=(0,i.useMemo)(()=>Array.from(new Set(T.concat(B))).sort(),[T,B]),[V,X]=(0,i.useState)(()=>new Set(B)),[J,U]=(0,i.useState)(Q),$=[];for(let e of F){let t=e.value,r=e.label,n=e.description,i=(0,s.jsx)(s.Fragment,{});R===t&&(i=(0,s.jsx)(c.A,{variant:"accent",children:"Recommended"})),$.push((0,s.jsxs)(u.l.Item,{onSelect:()=>U(t),children:[r," ",i,(0,s.jsxs)(u.l.LeadingVisual,{children:[t===J&&(0,s.jsx)(l.CheckIcon,{})," "]}),(0,s.jsx)(u.l.Description,{variant:"block",children:n})]},t))}let K=F.find(e=>e.value===J)?.label,[P,Y]=(0,i.useState)(I),Z=[];for(let e of S){let t=e.value,r=e.label,n=e.description;Z.push((0,s.jsxs)(u.l.Item,{onSelect:()=>Y(t),children:[r,(0,s.jsxs)(u.l.LeadingVisual,{children:[t===P&&(0,s.jsx)(l.CheckIcon,{})," "]}),(0,s.jsx)(u.l.Description,{variant:"block",children:n})]},t))}let ee=S.find(e=>e.value===P)?.label;return(0,s.jsxs)("form",{noValidate:!0,action:W,method:"post","data-testid":"default-setup-form",children:[(0,s.jsx)("input",{type:"hidden",name:"authenticity_token",value:E}),(0,s.jsx)("input",{type:"hidden",name:"_method",value:L,autoComplete:"off"}),(0,s.jsx)(h.A,{sx:{borderColor:"border.default",borderBottomWidth:1,borderBottomStyle:"solid",pb:2,mb:3},children:(0,s.jsxs)(p.A,{as:"h1",sx:{fontSize:4,fontWeight:400,display:"flex"},children:[(0,s.jsx)(m.A,{href:e,children:"Code security and analysis"}),(0,s.jsx)(x.A,{as:"span",sx:{ml:2},children:"/ CodeQL default configuration"})]})}),0===T.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{as:"h2",sx:{fontSize:3,fontWeight:400},children:"Languages"}),(0,s.jsx)("div",{className:"border rounded-2 mt-2",children:(0,s.jsxs)(d.A,{narrow:!0,children:[(0,s.jsx)(d.A.Heading,{children:(0,s.jsx)(x.A,{sx:{fontSize:1,display:"block",textAlign:"center"},children:"No CodeQL supported languages to scan in this repository"})}),(0,s.jsx)(d.A.Description,{children:(0,s.jsxs)(x.A,{sx:{color:"fg.muted",fontSize:1,display:"block",textAlign:"center"},children:["CodeQL will automatically perform the first scan when it detects"," ",(0,s.jsx)(m.A,{href:C,target:"_blank",inline:!0,children:"a supported language"})," ","on the default branch."]})})]})})]}):(0,s.jsxs)(_.A,{id:"default-setup--languages",children:[(0,s.jsx)(_.A.Label,{sx:{fontSize:3,fontWeight:400},children:"Languages"}),(0,s.jsx)(_.A.Caption,{sx:{color:"fg.muted",fontSize:0,fontWeight:400},children:"Select one or more languages detected on the default branch for CodeQL to scan."}),(0,s.jsx)(h.A,{sx:{display:"grid",gap:2,borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,mb:0,p:3},children:G.map(e=>(0,s.jsxs)(f.A,{id:`default-setup--language--${e}`,disabled:!N&&"swift"===e,children:[(0,s.jsx)(j.A,{name:"config[languages][]",value:e,checked:V.has(e),onChange:t=>{let r=new Set(V);t.target.checked?r.add(e):r.delete(e),X(r)}}),(0,s.jsxs)(f.A.Label,{children:[(0,s.jsxs)("span",{"data-testid":"language-display-name",children:[function(e){switch(e){case"c-cpp":case"cpp":return"C / C++";case"csharp":return"C#";case"java":case"java-kotlin":return"Java / Kotlin";case"javascript":case"javascript-typescript":return"JavaScript / TypeScript";default:return e.charAt(0).toUpperCase()+e.slice(1)}}(e),v.has(e)&&(0,s.jsx)("span",{children:" *"})]}),"swift"===e&&(0,s.jsx)(c.A,{variant:"success",sx:{ml:2},children:"Beta"})]})]},e))}),H&&(0,s.jsxs)(x.A,{sx:{color:"fg.muted",fontSize:0,fontWeight:400},children:["* These languages may"," ",(0,s.jsx)(m.A,{inline:!0,href:n,target:"_blank",children:"require a custom build configuration"})," ","for a successful setup.",O&&!N&&(0,s.jsxs)(s.Fragment,{children:[" ","Swift requires ",(0,s.jsx)("code",{children:"macOS"})," runners."]})]})]}),(0,s.jsxs)(h.A,{sx:{mt:4,mb:2},children:[(0,s.jsx)(p.A,{as:"h2",sx:{fontSize:3,fontWeight:400},children:"Scan settings"}),(0,s.jsx)(x.A,{sx:{color:"fg.muted",fontSize:0,fontWeight:400},children:"Adjust the CodeQL scanning strategy to suit the needs of this application"})]}),(0,s.jsx)("input",{type:"hidden",name:"config[query_suite]",value:J}),(0,s.jsxs)(h.A,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,pr:3,pl:3},children:[(0,s.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pt:3,pb:3},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.A,{sx:{fontSize:1,fontWeight:"bold",display:"block"},children:"Query suite"}),(0,s.jsxs)(x.A,{sx:{color:"fg.muted",fontSize:0,fontWeight:400},children:["Select the"," ",(0,s.jsx)(m.A,{href:t,target:"_blank",inline:!0,children:"group of CodeQL queries"})," ","to run against your code"]})]}),(0,s.jsxs)(g.W,{children:[(0,s.jsx)(g.W.Button,{"data-testid":"querySuiteActionMenuLabel",children:K}),(0,s.jsx)(g.W.Overlay,{width:"medium",children:(0,s.jsx)(u.l,{showDividers:!0,children:$})})]})]}),M&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"hidden",name:"config[threat_model]",value:P}),(0,s.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTopWidth:1,borderTopStyle:"solid",borderColor:"border.default",pt:3,pb:3},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.A,{sx:{fontSize:1,fontWeight:"bold",display:"block"},children:"Threat model"}),(0,s.jsxs)(x.A,{sx:{color:"fg.muted",fontSize:0,fontWeight:400,display:"block"},children:["Select the sources of"," ",(0,s.jsx)(m.A,{inline:!0,href:r,target:"_blank",children:"tainted data"})," ","that may pose a risk to this application."]}),(0,s.jsx)(x.A,{sx:{color:"fg.muted",fontSize:0,fontWeight:400},children:"This setting only applies to Java / Kotlin and C# analysis."})]}),(0,s.jsxs)(g.W,{children:[(0,s.jsx)(g.W.Button,{"data-testid":"threatModelActionModelLabel",children:ee}),(0,s.jsx)(g.W.Overlay,{width:"medium",children:(0,s.jsx)(u.l,{showDividers:!0,children:Z})})]})]})]})]}),(0,s.jsxs)(h.A,{sx:{mt:4,mb:2},children:[(0,s.jsx)(p.A,{as:"h2",sx:{fontSize:3,fontWeight:400},children:"Scan events"}),(0,s.jsx)(x.A,{sx:{color:"fg.muted",fontSize:0,fontWeight:400},children:"These events will trigger a new scan."})]}),(0,s.jsxs)(h.A,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,pr:3,pl:3},children:[(0,s.jsxs)(h.A,{sx:{display:"flex",pt:3,pb:3},children:[(0,s.jsx)(x.A,{sx:{fontSize:1,fontWeight:"bold",mr:"auto"},children:"On push and pull requests to"}),(0,s.jsxs)(x.A,{sx:{fontSize:0,color:"fg.subtle"},children:[(0,s.jsx)(b.A,{as:"span",children:w})," and"," ",(0,s.jsx)(m.A,{inline:!0,href:k,children:"protected branches"})]})]}),(!z||D)&&(0,s.jsxs)(h.A,{sx:{display:"flex",borderTopWidth:1,borderTopStyle:"solid",borderColor:"border.default",pt:3,pb:3},children:[(0,s.jsx)(x.A,{sx:{fontSize:1,fontWeight:"bold",mr:"auto"},children:"On a weekly schedule"}),null!=q&&(0,s.jsxs)(x.A,{sx:{fontSize:0,color:"fg.subtle"},children:["Next scan of ",(0,s.jsx)(b.A,{as:"span",children:w})," ",(0,s.jsx)(y.A,{datetime:q,threshold:"PT0S",hour:"numeric",minute:"numeric"})]})]})]}),(0,s.jsxs)(h.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mt:5},children:[(0,s.jsx)(A.Q,{type:"submit",variant:"primary",sx:{mr:2},children:z?"Save changes":"Enable CodeQL"}),(0,s.jsx)(A.Q,{as:"a",href:e,children:"Cancel"})]})]})}try{v.displayName||(v.displayName="HIGH_FAILURE_LANGUAGES")}catch{}try{C.displayName||(C.displayName="DefaultSetup")}catch{}var w=r(79840),k=r(86233);(0,w.Q)("repository-code-scanning-settings",()=>({App:n,routes:[(0,k.a)({path:"/:owner/:repo/settings/code-scanning/default-setup",Component:C})]}))},20826:(e,t,r)=>{r.d(t,{H:()=>n});var s=r(82897);function n(e,t){let{csrf_tokens:r}=(0,s.B)();return r?.[e]?.[t]}},86233:(e,t,r)=>{r.d(t,{a:()=>s});function s({path:e,Component:t,shouldNavigateOnError:r,transitionType:s,children:n}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let r=`${e.pathname}${e.search}`;t=await window.fetch(r,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom","X-React-Router":"json"}})}catch(e){return{type:r?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:r?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:r?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:s,children:n}}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-7901e7","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_primer_react_lib-esm_Blankslate_Blankslate_js-node_modules_primer_react_-0b611f","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c","ui_packages_react-core_register-app_ts"],()=>t(45318)),e.O()}]);
//# sourceMappingURL=repository-code-scanning-settings-498bf601f849.js.map