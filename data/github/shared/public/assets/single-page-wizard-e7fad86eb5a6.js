"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["single-page-wizard"],{32044:(t,e,i)=>{let n,o;i.d(e,{A:()=>f});let s=Math.random,r=Math.cos,a=Math.sin,l=Math.PI,d=2*l,c=[],h=["#6a737d","#0366d6","#28a745","#ffd33d","#f66a0a","#6f42c1","#ea4aaa"];function p(){let t=Math.floor(Math.random()*h.length);return h[t]}let u=document.createElement("div");u.style.position="fixed",u.style.top="0",u.style.left="0",u.style.width="100%",u.style.height="0",u.style.overflow="visible",u.style.zIndex="9999";let g=class Confetto{update(t,e){var i,n;this.frame+=e,this.x+=this.dx*e,this.y+=this.dy*e,this.theta+=this.dTheta*e;let o=this.frame%7777/7777,s=0,c=1;for(;o>=this.splineX[c];)s=c++;let h=(i=this.splineY[s],n=this.splineY[c],(1-r(l*((o-this.splineX[s])/(this.splineX[c]-this.splineX[s]))))/2*(n-i)+i);return o*=d,this.inner.style.transform=`${this.axis}${this.theta}deg)`,this.outer.style.left=`${this.x+h*r(o)}px`,this.outer.style.top=`${this.y+h*a(o)}px`,this.y>t+100}constructor(t){this.frame=0,this.outer=document.createElement("div"),this.inner=document.createElement("div"),this.outer.appendChild(this.inner),this.outer.style.position="absolute",this.outer.style.width=`${3+9*s()}px`,this.outer.style.height=`${3+9*s()}px`,this.inner.style.width="100%",this.inner.style.height="100%",this.inner.style.backgroundColor=t(),this.outer.style.perspective="50px",this.outer.style.transform=`rotate(${360*s()}deg)`,this.theta=360*s(),this.axis=`rotate3D(${r(360*s())},${r(360*s())},0,`,this.inner.style.transform=`${this.axis}${this.theta}deg)`,this.dTheta=.4+.29999999999999993*s(),this.x=window.innerWidth*s(),this.y=-100,this.dx=a(-.1+.2*s()),this.dy=.13+.18*s(),this.outer.style.left=`${this.x}px`,this.outer.style.top=`${this.y}px`,this.splineX=function(){let t=[.1,.9],e=.8,i=[0,1];for(;e;){let n,o,r,a,l,d=e*s();for(n=0,o=t.length,e=0;n<o;n+=2){if(a=t[n],d<e+(r=(l=t[n+1])-a)){let t=d+a-e;i.push(t),d=t;break}e+=r}let c=d-.1,h=d+.1;for(n=t.length-1;n>0;n-=2)a=t[o=n-1],l=t[n],a>=c&&a<h?l>h?t[o]=h:t.splice(o,2):a<c&&l>c&&(l<=h?t[n]=c:t.splice(n,0,c,h));for(n=0,o=t.length,e=0;n<o;n+=2)e+=t[n+1]-t[n]}return i.sort()}(),this.splineY=[];let e=this.splineX.length-1;for(let t=1;t<e;++t)this.splineY[t]=100*s();this.splineY[0]=this.splineY[e]=100*s()}};function f(t){if(!o){let e;document.body.appendChild(u);let i=()=>{let t=new g(p);c.push(t),u.appendChild(t.outer),n=window.setTimeout(i,40*s())};i();let r=t=>{let i=e?t-e:0;e=t;let s=window.innerHeight;for(let t=c.length-1;t>=0;--t)c[t].update(s,i)&&(u.removeChild(c[t].outer),c.splice(t,1));if(n||c.length){o=requestAnimationFrame(r);return}document.body.removeChild(u),o=void 0};window.setTimeout(function(){clearTimeout(n),n=void 0},null==t?5e3:t),requestAnimationFrame(r)}}},99735:(t,e,i)=>{var n=i(39595);function o(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}let SinglePageWizardStepElement=class SinglePageWizardStepElement extends HTMLElement{connectedCallback(){let t="true"===this.getAttribute("show-cancel-btn"),e="true"===this.getAttribute("show-previous-btn"),i="true"===this.getAttribute("hide-next-btn");t&&(this.cancelButton.hidden=!1),e&&(this.previousButton.hidden=!1),i&&(this.nextButton.hidden=!0)}handleValidate(t){this.stepValid(t.detail.isValid,t.detail.autoProceed)}handleStepError(t){t.detail?.errorMessage?(this.stepError.hidden=!1,this.stepError.textContent=t.detail.errorMessage):this.stepError.hidden=!0}update(t,e,i,n){this.singlePageWizardStep=t,this.stepNumberBadge?.setAttribute("data-single-page-wizard-step",this.singlePageWizardStep.toString()),this.singlePageWizardLastStep=e,this.singlePageWizardStepCurrent=i,this.singlePageWizardStepComplete=n}async setStepState(t){this.stepContent&&this.stepContent.setStepState(t),this.stepValid(!this.stepContent||this.stepContent.isStepValid())}async onStepRendered(){this.stepContent&&await this.stepContent.onStepRendered()}stepValid(t,e){this.nextButton.disabled=!t,t&&e&&this.nextButton.click()}async onNext(){this.nextButton.disabled=!0,this.nextButtonSpinner.hidden=!1;let{proceed:t,wizardState:e}=this.stepContent?await this.stepContent.onNextClick():{proceed:!0};t&&this.dispatchEvent(new CustomEvent("single-page-wizard-increment",{bubbles:!0,detail:{wizardState:e}})),this.nextButtonSpinner.hidden=!0,this.nextButton.disabled=!1}async onPrevious(){this.previousButton.disabled=!0;let{proceed:t,wizardState:e}=this.stepContent?await this.stepContent.onPreviousClick():{proceed:!0};t&&this.dispatchEvent(new CustomEvent("single-page-wizard-decrement",{bubbles:!0,detail:{wizardState:e}})),this.previousButton.disabled=!1}onCancel(){this.parentElement?.dispatchEvent(new CustomEvent("single-page-wizard-step-cancel",{bubbles:!0,detail:{step:this.singlePageWizardStep}}))}};o([n.aC],SinglePageWizardStepElement.prototype,"stepNumberBadge",void 0),o([n.aC],SinglePageWizardStepElement.prototype,"stepError",void 0),o([n.aC],SinglePageWizardStepElement.prototype,"cancelButton",void 0),o([n.aC],SinglePageWizardStepElement.prototype,"previousButton",void 0),o([n.aC],SinglePageWizardStepElement.prototype,"nextButton",void 0),o([n.aC],SinglePageWizardStepElement.prototype,"nextButtonSpinner",void 0),o([n.aC],SinglePageWizardStepElement.prototype,"stepContent",void 0),o([n.CF],SinglePageWizardStepElement.prototype,"singlePageWizardStep",void 0),o([n.CF],SinglePageWizardStepElement.prototype,"singlePageWizardStepCurrent",void 0),o([n.CF],SinglePageWizardStepElement.prototype,"singlePageWizardStepComplete",void 0),o([n.CF],SinglePageWizardStepElement.prototype,"singlePageWizardLastStep",void 0),SinglePageWizardStepElement=o([n.p_],SinglePageWizardStepElement);var s=i(32044),r=i(21403);function a(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}let l=class SinglePageWizardElement extends HTMLElement{connectedCallback(){let t=0;(0,r.lB)(".wizard-step",{constructor:SinglePageWizardStepElement,add:async()=>{++t===this.steps.length&&(await this.updateSteps(),this.stepsElem.hidden=!1,this.loadingElem.hidden=!0)}})}async incrementStep(t){if(this.currentStep===this.steps.length){let t=this.getAttribute("complete-url");t?window.location.href=t:this.dispatchEvent(new CustomEvent("single-page-wizard-complete",{bubbles:!0}));return}this.currentStep+=1;let e="true"===this.getAttribute("show-last-step-celebration");this.currentStep===this.steps.length&&e&&(0,s.A)(),await this.handleStepChange(t.detail.wizardState)}async decrementStep(t){this.currentStep-=1,await this.handleStepChange(t.detail.wizardState)}async handleStepChange(t){t&&(this.wizardState=t),this.dispatchEvent(new CustomEvent("single-page-wizard-step-change",{bubbles:!0,detail:{currentStep:this.currentStep,wizardState:this.wizardState}})),await this.updateSteps()}stepCancel(t){let e=this.getAttribute("cancel-url"),i=this.getAttribute("cancel-confirm-text");if(e){if(i){let n=this.steps[t.detail.step-1];(n&&"true"===n.getAttribute("warn-unsaved")||confirm(i))&&(window.location.href=e)}else window.location.href=e}else this.dispatchEvent(new CustomEvent("single-page-wizard-cancel",{bubbles:!0,detail:t.detail}))}async updateSteps(){await this.steps[this.currentStep-1].setStepState(this.wizardState),this.horizontalSteps&&this.updateHorizontalStepIndicators();for(let t=0;t<this.steps.length;t++){let e=t+1,i=t===this.steps.length-1,n=this.currentStep===t+1;if(n){if("true"===this.steps[t].getAttribute("warn-unsaved")){let t=this.getAttribute("cancel-confirm-text")||"Changes you made may not be saved.";window.onbeforeunload=function(e){if(document.getElementById("one-off-ignore-single-page-wizard-warning")){let t=document.getElementById("one-off-ignore-single-page-wizard-warning");t?.parentNode?.removeChild(t);return}return e.returnValue=t,t}}else window.onbeforeunload=null}let o=this.currentStep>t+1;this.steps[t].update(e,i,n,o)}await this.steps[this.currentStep-1].onStepRendered()}updateHorizontalStepIndicators(){for(let t=0;t<this.steps.length;t++){let e=this.horizontalBadges[t],i=this.horizontalBadgeChecks[t],n=this.horizontalBars[t],o=this.steps[t];t+1===this.currentStep?(e.classList.add("current"),o.removeAttribute("hidden"),e.classList.remove("complete"),i.classList.remove("complete"),n?.classList.remove("complete"),t+1===this.steps.length&&(document.querySelector("#wizard-title-in-progress")?.setAttribute("hidden","true"),document.querySelector("#wizard-title-complete")?.removeAttribute("hidden"))):(e.classList.remove("current"),o.setAttribute("hidden","true"),t+1<this.currentStep&&(e.classList.add("complete"),i.classList.add("complete"),n?.classList.add("complete")))}}constructor(...t){super(...t),this.currentStep=1,this.wizardState={}}};a([n.zV],l.prototype,"steps",void 0),a([n.aC],l.prototype,"loadingElem",void 0),a([n.aC],l.prototype,"stepsElem",void 0),a([n.CF],l.prototype,"horizontalSteps",void 0),a([n.zV],l.prototype,"horizontalBadges",void 0),a([n.zV],l.prototype,"horizontalBadgeChecks",void 0),a([n.zV],l.prototype,"horizontalBars",void 0),a([n.CF],l.prototype,"currentStep",void 0),l=a([n.p_],l)},39595:(t,e,i)=>{let n;i.d(e,{CF:()=>f,p_:()=>C,FB:()=>h,Se:()=>k,aC:()=>S,zV:()=>v});let o=new WeakSet,s=new WeakMap;function r(t=document){if(s.has(t))return s.get(t);let e=!1,i=new MutationObserver(t=>{for(let e of t)if("attributes"===e.type&&e.target instanceof Element)c(e.target);else if("childList"===e.type&&e.addedNodes.length)for(let t of e.addedNodes)t instanceof Element&&a(t)});i.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-action"]});let n={get closed(){return e},unsubscribe(){e=!0,s.delete(t),i.disconnect()}};return s.set(t,n),n}function a(t){for(let e of t.querySelectorAll("[data-action]"))c(e);t instanceof Element&&t.hasAttribute("data-action")&&c(t)}function l(t){let e=t.currentTarget;for(let i of d(e))if(t.type===i.type){let n=e.closest(i.tag);o.has(n)&&"function"==typeof n[i.method]&&n[i.method](t);let s=e.getRootNode();if(s instanceof ShadowRoot&&o.has(s.host)&&s.host.matches(i.tag)){let e=s.host;"function"==typeof e[i.method]&&e[i.method](t)}}}function*d(t){for(let e of(t.getAttribute("data-action")||"").trim().split(/\s+/)){let t=e.lastIndexOf(":"),i=Math.max(0,e.lastIndexOf("#"))||e.length;yield{type:e.slice(0,t),tag:e.slice(t+1,i),method:e.slice(i+1)||"handleEvent"}}}function c(t){for(let e of d(t))t.addEventListener(e.type,l)}function h(t,e){let i=t.tagName.toLowerCase();if(t.shadowRoot){for(let n of t.shadowRoot.querySelectorAll(`[data-target~="${i}.${e}"]`))if(!n.closest(i))return n}for(let n of t.querySelectorAll(`[data-target~="${i}.${e}"]`))if(n.closest(i)===t)return n}let p=t=>String("symbol"==typeof t?t.description:t).replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/--/g,"-").replace(/^-|-$/,"").toLowerCase(),u=(t,e="property")=>{let i=p(t);if(!i.includes("-"))throw new DOMException(`${e}: ${String(t)} is not a valid ${e} name`,"SyntaxError");return i},g="attr";function f(t,e){w(t,g).add(e)}let m=new WeakSet;function b(t,e){if(m.has(t))return;m.add(t);let i=Object.getPrototypeOf(t),n=i?.constructor?.attrPrefix??"data-";for(let o of(e||(e=w(i,g)),e)){let e=t[o],i=u(`${n}${o}`),s={configurable:!0,get(){return this.getAttribute(i)||""},set(t){this.setAttribute(i,t||"")}};"number"==typeof e?s={configurable:!0,get(){return Number(this.getAttribute(i)||0)},set(t){this.setAttribute(i,t)}}:"boolean"==typeof e&&(s={configurable:!0,get(){return this.hasAttribute(i)},set(t){this.toggleAttribute(i,t)}}),Object.defineProperty(t,o,s),o in t&&!t.hasAttribute(i)&&s.set.call(t,e)}}let y=Symbol.for("catalyst");let CatalystDelegate=class CatalystDelegate{constructor(t){let e=this,i=t.prototype.connectedCallback;t.prototype.connectedCallback=function(){e.connectedCallback(this,i)};let n=t.prototype.disconnectedCallback;t.prototype.disconnectedCallback=function(){e.disconnectedCallback(this,n)};let o=t.prototype.attributeChangedCallback;t.prototype.attributeChangedCallback=function(t,i,n){e.attributeChangedCallback(this,t,i,n,o)};let s=t.observedAttributes||[];Object.defineProperty(t,"observedAttributes",{configurable:!0,get(){return e.observedAttributes(this,s)},set(t){s=t}}),function(t){let e=t.observedAttributes||[],i=t.attrPrefix??"data-",n=t=>u(`${i}${t}`);Object.defineProperty(t,"observedAttributes",{configurable:!0,get:()=>[...w(t.prototype,g)].map(n).concat(e),set(t){e=t}})}(t),function(t){let e=p(t.name).replace(/-element$/,"");try{window.customElements.define(e,t),window[t.name]=customElements.get(e)}catch(t){if(!(t instanceof DOMException&&"NotSupportedError"===t.name))throw t}}(t)}observedAttributes(t,e){return e}connectedCallback(t,e){var i,n;t.toggleAttribute("data-catalyst",!0),customElements.upgrade(t),!function(t){for(let e of t.querySelectorAll("template[data-shadowroot]"))e.parentElement===t&&t.attachShadow({mode:"closed"===e.getAttribute("data-shadowroot")?"closed":"open"}).append(e.content.cloneNode(!0))}(t),b(t),o.add(t),t.shadowRoot&&(a(n=t.shadowRoot),r(n)),a(t),r(t.ownerDocument),e?.call(t),t.shadowRoot&&(a(i=t.shadowRoot),r(i))}disconnectedCallback(t,e){e?.call(t)}attributeChangedCallback(t,e,i,n,o){b(t),"data-catalyst"!==e&&o&&o.call(t,e,i,n)}};function w(t,e){if(!Object.prototype.hasOwnProperty.call(t,y)){let e=t[y],i=t[y]=new Map;if(e)for(let[t,n]of e)i.set(t,new Set(n))}let i=t[y];return i.has(e)||i.set(e,new Set),i.get(e)}function S(t,e){w(t,"target").add(e),Object.defineProperty(t,e,{configurable:!0,get(){return h(this,e)}})}function v(t,e){w(t,"targets").add(e),Object.defineProperty(t,e,{configurable:!0,get(){return function(t,e){let i=t.tagName.toLowerCase(),n=[];if(t.shadowRoot)for(let o of t.shadowRoot.querySelectorAll(`[data-targets~="${i}.${e}"]`))o.closest(i)||n.push(o);for(let o of t.querySelectorAll(`[data-targets~="${i}.${e}"]`))o.closest(i)===t&&n.push(o);return n}(this,e)}})}function C(t){new CatalystDelegate(t)}let E=new Map,z=new Promise(t=>{"loading"!==document.readyState?t():document.addEventListener("readystatechange",()=>t(),{once:!0})}),x=new Promise(t=>{let e=new AbortController;e.signal.addEventListener("abort",()=>t());let i={once:!0,passive:!0,signal:e.signal},n=()=>e.abort();document.addEventListener("mousedown",n,i),document.addEventListener("touchstart",n,i),document.addEventListener("keydown",n,i),document.addEventListener("pointerdown",n,i)}),A={ready:()=>z,firstInteraction:()=>x,visible:t=>new Promise(e=>{let i=new IntersectionObserver(t=>{for(let n of t)if(n.isIntersecting){e(),i.disconnect();return}},{rootMargin:"0px 0px 256px 0px",threshold:.01});for(let e of document.querySelectorAll(t))i.observe(e)})},P=new WeakMap;function $(t){cancelAnimationFrame(P.get(t)||0),P.set(t,requestAnimationFrame(()=>{for(let e of E.keys()){let i=t.matches(e)?t:t.querySelector(e);if(customElements.get(e)||i){let n=i?.getAttribute("data-load-on")||"ready",o=n in A?A[n]:A.ready;for(let t of E.get(e)||[])o(e).then(t);E.delete(e),P.delete(t)}}}))}function k(t,e){E.has(t)||E.set(t,new Set),E.get(t).add(e),$(document.body),n||(n=new MutationObserver(t=>{if(E.size)for(let e of t)for(let t of e.addedNodes)t instanceof Element&&$(t)})).observe(document,{subtree:!0,childList:!0})}}},t=>{var e=e=>t(t.s=e);t.O(0,["vendors-node_modules_github_selector-observer_dist_index_esm_js"],()=>e(99735)),t.O()}]);
//# sourceMappingURL=single-page-wizard-1ea60807fcda.js.map