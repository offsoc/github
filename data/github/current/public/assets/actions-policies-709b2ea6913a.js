"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["actions-policies"],{43290:(e,t,r)=>{var o,i,s,a=r(72245),n=r(9449),l=r(69909),c=r(75177),d=r(55847);!function(e){e.Enterprise="Enterprise",e.Repo="Repo",e.Organization="Organization"}(o||(o={})),function(e){e.Author="Author",e.Expression="Expression"}(i||(i={}));let h="none",p="select";var u=r(66889),m=r(47553);let b={borderBottomWidth:0,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:"border.default",paddingY:2,paddingX:4};function _({title:e,idx:t,description:r,children:o}){return(0,n.jsxs)(c.A,{sx:{flexGrow:1},children:[(0,n.jsxs)(c.A,{sx:{...b,borderTopWidth:0===t?0:1},children:[(0,n.jsx)(l.A,{sx:{fontWeight:"bold"},children:e}),r&&(0,n.jsx)(l.A,{as:"p",sx:{color:"fg.muted",mb:0},children:r})]}),o]})}try{_.displayName||(_.displayName="PolicyHeader")}catch{}let f={backgroundColor:"canvas.default",borderBottomWidth:0,borderTopWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:"border.default",paddingY:4,paddingX:4,flexGrow:1};function y({children:e}){return(0,n.jsx)(c.A,{as:"form",sx:f,children:e})}try{y.displayName||(y.displayName="PolicyContent")}catch{}function g({title:e,description:t,checked:r,disabled:o,setChecked:i}){return(0,n.jsx)(y,{children:(0,n.jsxs)(u.A,{children:[(0,n.jsx)(m.A,{checked:r,onChange:()=>i(!r),disabled:o}),(0,n.jsx)(u.A.Label,{children:e}),(0,n.jsx)(u.A.Caption,{children:t})]})})}let x=({form:e,setPolicyForm:t,idx:r})=>{let{allowCreatedByGitHub:o,allowVerifiedCreator:i,specifiedActionsDisabled:s}=e;return(0,n.jsxs)(_,{title:"Filter by author",idx:r,children:[(0,n.jsx)(g,{title:"Created by GitHub",description:"Allow actions created by GitHub under the actions and github organizations.",checked:o,disabled:s,setChecked:()=>{t({...e,allowCreatedByGitHub:!o})}}),(0,n.jsx)(g,{title:"Verified creator",description:"Allow actions with the verified badge.",checked:i,disabled:s,setChecked:()=>{t({...e,allowVerifiedCreator:!i})}})]})};try{g.displayName||(g.displayName="PolicyOptionCheckbox")}catch{}try{x.displayName||(x.displayName="ActionCreatorPolicy")}catch{}var R=r(61043);let A=["Action examples: octo-org/octo-repo@*, octo-org/octo-repo@v2","Reusable workflow examples: octo-org/octo-repo/.github/workflows/build.yml@main","Entire organization or repository examples: octo-org/*, octo-org/octo-repo/*"],w=({form:e,setPolicyForm:t,idx:r})=>(0,n.jsx)(_,{title:"Allow specified actions and reusable workflows",idx:r,description:"Use patterns to target allowed actions or reusable workflows in this policy.",children:(0,n.jsxs)(y,{children:[(0,n.jsxs)(u.A,{children:[(0,n.jsx)(R.Ay,{value:e.patterns,block:!0,resize:"vertical",onChange:r=>{t({...e,patterns:r.target.value})}}),(0,n.jsx)(u.A.Label,{children:"Workflow patterns"}),(0,n.jsx)(u.A.Caption,{children:(0,n.jsx)("span",{children:"Enter a comma-separated list of actions and reusable workflow patterns. Wildcards, tags, and SHAs are allowed."})})]}),(0,n.jsx)(c.A,{sx:{marginTop:2},children:A.map((e,t)=>(0,n.jsx)(l.A,{as:"p",sx:{color:"fg.muted",fontSize:"12px",marginBottom:0},children:e},t))})]})});try{w.displayName||(w.displayName="NamePatternPolicy")}catch{}let j=e=>{let{identifier:t,form:r,setPolicyForm:o,idx:s}=e,a=function(e){switch(e){case i.Author:return x;case i.Expression:return w}}(t);return(0,n.jsx)(a,{form:r,setPolicyForm:o,idx:s})};try{(s=PolicyComponent).displayName||(s.displayName="PolicyComponent")}catch{}var v=r(55293),E=r(281),S=r(17909);let C=new Map([[h,"No policy"],[p,"Select actions"]]),N=({form:e,setPolicyForm:t})=>{let{noPolicyOrSelectedActions:r}=e,[o,i]=(0,v.useState)(!1);return(0,n.jsxs)(E.W,{"aria-labelledby":"actions-policy-dropdown",open:o,onOpenChange:e=>i(e),children:[(0,n.jsx)(E.W.Button,{children:C.get(r)}),(0,n.jsx)(E.W.Overlay,{width:"medium",children:(0,n.jsxs)(S.l,{selectionVariant:"single",variant:"full",showDividers:!0,children:[(0,n.jsxs)(S.l.Item,{sx:{"&:hover":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},selected:r===h,onSelect:()=>t({...e,noPolicyOrSelectedActions:h}),children:["No policy",(0,n.jsx)(S.l.Description,{variant:"block",children:"All actions and reusable workflows in the enterprise and GitHub.com are searchable and permitted in the enterprise."})]}),(0,n.jsx)(S.l.Divider,{sx:{margin:0}}),(0,n.jsxs)(S.l.Item,{sx:{"&:hover":{borderTopLeftRadius:0,borderTopRightRadius:0}},selected:r===p,onSelect:()=>t({...e,noPolicyOrSelectedActions:p}),children:["Select actions",(0,n.jsx)(S.l.Description,{variant:"block",children:"Actions created in the enterprise can be used, along with select non-enterprise actions and reusable workflows."})]})]})})]})};try{C.displayName||(C.displayName="POLICY_TO_DISPLAY_NAME")}catch{}try{N.displayName||(N.displayName="PolicySelector")}catch{}let k=[i.Author,i.Expression],P={borderWidth:1,borderStyle:"solid",borderTopRightRadius:"6px",borderTopLeftRadius:"6px",borderColor:"border.default",backgroundColor:"canvas.subtle"};function O({type:e}){let t=`Choose which actions and reusable workflows from the enterprise or GitHub.com are searchable and permitted in
  the ${e}.`;return(0,n.jsxs)("div",{children:[(0,n.jsx)(l.A,{as:"h3",sx:{fontWeight:"normal"},children:"Allowed actions"}),(0,n.jsx)(l.A,{as:"p",sx:{marginBottom:0},children:t})]})}function T({entity:e,type:t}){let r=function(e){let t=!!e.highestLevelAllowlist&&e.highestLevelAllowlist.specifiedActions;return{allowCreatedByGitHub:t?!!e.highestLevelAllowlist?.allowsGithubOwnedActions:!!e.allowsGithubOwnedActions,allowVerifiedCreator:t?!!e.highestLevelAllowlist?.allowsVerifiedActions:!!e.allowsVerifiedActions,specifiedActionsDisabled:!!t,noPolicyOrSelectedActions:e.allowsAllActionsAndWorkflows?h:p,patterns:((t?e.highestLevelAllowlist?.patterns:e.patterns)??[]).join(",")}}(e),[o,i]=(0,v.useState)(r);return(0,n.jsxs)(c.A,{sx:{marginTop:4,display:"flex",flexDirection:"column",gap:4},children:[(0,n.jsx)(O,{type:t}),(0,n.jsx)(c.A,{sx:{alignSelf:"start"},children:(0,n.jsx)(N,{form:o,setPolicyForm:i})}),"select"===o.noPolicyOrSelectedActions&&(0,n.jsx)(c.A,{sx:P,children:k.map((e,t)=>(0,n.jsx)(j,{identifier:e,form:o,setPolicyForm:i,idx:t},e))}),(0,n.jsx)(d.Q,{sx:{alignSelf:"start"},children:"Save"})]})}try{O.displayName||(O.displayName="PolicySettingsHeading")}catch{}try{T.displayName||(T.displayName="PolicySettings")}catch{}function D({entity:e,type:t}){return(0,n.jsx)(T,{entity:e,type:t})}try{D.displayName||(D.displayName="ActionsPolicies")}catch{}(0,a.k)("actions-policies",{Component:D})},92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new o),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let o=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>s,QJ:()=>a,w8:()=>i});var o=r(55293);function i(e){return((0,o.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function s(e){let t=(0,o.useRef)(e.__wrapperElement.anchor||null),[r,i]=(0,o.useState)(!1),s=(0,o.useCallback)(()=>{i(!r)},[r,i]);return(0,o.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),a(e,s),{ref:t,open:r,setOpen:i}}function a(e,t){let r=(0,o.useRef)(e.__wrapperElement.anchor);(0,o.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>c});let o=new(r(92536)).R;var i=r(9449),s=r(39595),a=r(24508),n=r(23235);let l=class ReactPartialElement extends a.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,o.getRegistration(t)),s=this.closest("react-partial-anchor");return(0,i.jsx)(n.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:s})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function c(e,t){o.register(e,t)}l=function(e,t,r,o){var i,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}([s.p_],l)},23581:(e,t,r)=>{r.d(t,{A:()=>n});let{getItem:o,setItem:i,removeItem:s}=(0,r(74572).A)("localStorage"),a="REACT_PROFILING_ENABLED",n={enable:()=>i(a,"true"),disable:()=>s(a),isEnabled:()=>!!o(a)}},23235:(e,t,r)=>{r.d(t,{c:()=>m});var o=r(9449),i=r(55293),s=r(36165),a=r(45588),n=r(49107),l=r(47767),c=r(59840);function d({children:e,history:t}){let[r,s]=(0,i.useState)({location:t.location});return(0,c.m)(()=>t.listen(s),[t]),(0,o.jsx)(l.Ix,{location:r.location,navigator:t,children:e})}try{d.displayName||(d.displayName="PartialRouter")}catch{}var h=r(17857),p=r(51261),u=r(75014);function m({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:c,anchorElement:m}){let b=i.useRef(),_=globalThis.window;b.current||(b.current=_?(0,p.z)({window:_}):(0,a.sC)({initialEntries:[{pathname:"/"}]}));let f=b.current,y=(0,u.w8)(m);return(0,o.jsx)(s.U,{appName:e,wasServerRendered:l,children:(0,o.jsx)(n.Q,{history:f,routes:[],children:(0,o.jsxs)(d,{history:f,children:[(0,o.jsx)(r,{...t.props,...y}),(0,o.jsx)(h.h,{ssrError:c})]})})})}try{m.displayName||(m.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var o=r(9449),i=r(39595),s=r(34613),a=r(55293),n=r(23581),l=r(79461),c=r(51528);function d(e,t,r,o){var i,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}let h=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:s.createRoot,hydrateRoot:s.hydrateRoot};n.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,i=await this.getReactNode(t),l=(0,o.jsx)(a.StrictMode,{children:i});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,l,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=h.exec(e.message),r=String(t?.groups?.invariant);(0,c.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87358,19))}logSSRError(e){if(l.z[e])return console.error("SSR failed with an expected error:",l.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:o,lineno:i,colno:s}=e,a=`${t} at ${r} (${o}:${i}:${s})`;return t=" ",a}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};d([i.aC],ReactBaseElement.prototype,"embeddedData",void 0),d([i.aC],ReactBaseElement.prototype,"ssrError",void 0),d([i.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{h.displayName||(h.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_primer_react_lib-esm_FeatureFlags_FeatureFlags_js-node_modules_primer_re-0a4383","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(43290)),e.O()}]);
//# sourceMappingURL=actions-policies-c0d5314a84e8.js.map