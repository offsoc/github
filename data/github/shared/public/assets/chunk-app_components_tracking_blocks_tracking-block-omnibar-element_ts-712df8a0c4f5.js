"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_tracking_blocks_tracking-block-omnibar-element_ts"],{11113:(t,e,i)=>{i.r(e),i.d(e,{default:()=>u});var n=i(39595);function a(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function l(t,e){!function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function r(t,e,i,n){var a,l=arguments.length,r=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(l<3?a(r):l>3?a(e,i,r):a(e,i))||r);return l>3&&r&&Object.defineProperty(e,i,r),r}var o=new WeakSet,s=new WeakSet,c=new WeakSet;let u=class TrackingBlockOmnibarElement extends HTMLElement{get input(){return(0,n.FB)(this,"input")||this.autocomplete?.querySelector("input")}connectedCallback(){a(this,c,d).call(this)}adoptedCallback(){a(this,c,d).call(this)}attributeChangedCallback(t){"data-disabled"===t&&a(this,c,d).call(this)}handleAutoCompleteSelect(t){let e=t.target;if(!e)return;let i=e.value.trim();if(!i.length)return;let n=a(this,o,h).call(this,e,i);a(this,s,p).call(this,n),t.target.value="",t.relatedTarget.focus()}handleSubmit(t){t.preventDefault();let e=t.currentTarget,i=new FormData(t.currentTarget).get("tasklist_omnibar"),n=i?.toString().trim()??"";if(n){let t=a(this,o,h).call(this,e,n);a(this,s,p).call(this,t)}this.input&&(this.input.value="",this.input.focus())}focus(){this.input&&this.input.focus()}constructor(...t){super(...t),l(this,o),l(this,s),l(this,c),this.disabled=!1}};function h(t,e){let i=t.closest(".js-comment"),n=null;i?n=i.querySelector(".js-comment-update"):i=t.closest(".markdown-body");let a=t.closest("tracking-block");return{operation:"append_item",position:Array.from(i.querySelectorAll("tracking-block")).findIndex(t=>t===a),value:e,formId:n?.id||""}}function p(t){this.dispatchEvent(new CustomEvent("tracking-block-omnibar-append",{bubbles:!0,detail:t}))}function d(){this.input&&(this.input.disabled=this.disabled)}r([n.CF],u.prototype,"disabled",void 0),r([n.aC],u.prototype,"autocomplete",void 0),u=r([n.p_],u)}}]);
//# sourceMappingURL=app_components_tracking_blocks_tracking-block-omnibar-element_ts-fca3b18ade94.js.map