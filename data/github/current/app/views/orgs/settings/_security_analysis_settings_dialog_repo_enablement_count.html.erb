<%# locals: (total_repos_count:, currently_enabled_count:, will_be_enabled_count:, feature_name:) %>
<%= render Primer::Box.new do %>
  <%= render Primer::Box.new(border: :top, pt: 2, mt: 3, display: :flex, direction: :row, justify_content: :space_between) do %>
    <%= render Primer::Beta::Text.new(tag: :p, font_weight: :bold) do %>
      <%= feature_name %> coverage
    <% end %>
    <%= render Primer::Beta::Text.new(tag: :p, font_weight: :bold, color: :open) do %>
      <%=  (total_repos_count == 0 ? 0 : (currently_enabled_count.to_f * 100) / total_repos_count).to_i %>%
    <% end %>
  <% end %>

  <%= render Primer::Box.new(py: 1, px: 2, display: :flex, direction: :column, bg: :subtle, border_radius: 2) do %>
    <%= render Primer::Box.new(mt: 1, display: :flex, direction: :row, justify_content: :space_between) do %>
      <%= render Primer::Beta::Text.new(tag: :p) do %>
        Already enabled
      <% end %>
      <%= render Primer::Beta::Text.new(tag: :p) do %>
        <%= number_with_delimiter(currently_enabled_count) %>
      <% end %>
    <% end %>

    <%= render Primer::Box.new(display: :flex, direction: :row, justify_content: :space_between) do %>
      <%= render Primer::Beta::Text.new(tag: :p) do %>
        Will be enabled
      <% end %>
      <%= render Primer::Beta::Text.new(tag: :p) do %>
        <%= number_with_delimiter(will_be_enabled_count) %>
      <% end %>
    <% end %>

    <%= render Primer::Box.new(display: :flex, direction: :row, justify_content: :space_between) do %>
      <%= render Primer::Beta::Text.new(tag: :p) do %>
        Not eligible
      <% end %>
      <%= render Primer::Beta::Text.new(tag: :p) do %>
        <%= number_with_delimiter(total_repos_count - (currently_enabled_count + will_be_enabled_count)) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
