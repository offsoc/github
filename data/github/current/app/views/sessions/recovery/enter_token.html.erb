<%# erblint:counter DeprecatedComponentsCounter 1 %>
<% page_info title: "Account recovery", class: "page-two-factor-auth session-authentication" %>

<div class="two-factor-container">

  <div id="login" class="auth-form px-3">

    <div class="auth-form-header p-0">
      <h1>Account recovery</h1>
    </div>

    <div class="my-3 d-flex flex-row flex-items-center text-center">
      <span class="d-flex flex-items-center flex-justify-center circle color-bg-accent-emphasis" style="width:28px; height: 28px;"><%= primer_octicon(:check, color: :on_emphasis) %></span>
      <hr class="flex-auto color-border-accent-emphasis">
      <span class="d-flex flex-items-center flex-justify-center circle color-bg-accent-emphasis" style="width:28px; height: 28px;"><%= primer_octicon(:key, color: :on_emphasis) %></span>
      <hr class="flex-auto color-border-accent-emphasis">
      <span class="d-flex flex-items-center flex-justify-center circle color-bg-subtle border color-border-default" style="width:28px; height: 28px;"><%= primer_octicon(:clock, color: :muted) %></span>
    </div>

    <%= render "shared/flash" %>

    <div class="auth-form-body mt-3">

      <div>
        <p>
            <strong>Verify a personal access token</strong> you've used in the past to verify your account.
            The token must have <code>repo</code> scope.
        </p>

        <label for="token" class="mt-3">
          Personal access token
        </label>
        <%= form_tag two_factor_recovery_request_verify_token_path do %>
            <%= text_field_tag :token, '',
                    :autocomplete => :off,
                    :autofocus => "autofocus",
                    :class => "input-block",
                    "aria-label" => 'Personal access token' %>
            <%= render Primer::ButtonComponent.new(scheme: :primary, block: true, "data-disable-with": "Verifyingâ€¦", type: :submit) do %>Verify and submit for review<% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
