{
  "private": true,
  "scripts": {
    "start": "./script/server",
    "ui": "npm run dev --prefix ../ui",
    "test:package-mismatched-versions": "ts-node --skip-project script/verify-package-versions.ts",
    "test:unused-modules": "ts-node --skip-project script/find-unused-modules.ts test/js/**.js",
    "test:unused-modules:memex": "ts-node --skip-project script/find-unused-modules.ts --memex",
    "pretest:smoke": "rm -rf tmp/smoke-test-assets/",
    "test:smoke": "NODE_ENV=test DESTINATION=tmp/smoke-test-assets bin/npm run webpack && wtr --files=test/js/test-prod-smoke-bootstrap.js",
    "test": "wtr",
    "test:watch": "wtr --watch",
    "stylelint": "stylelint \"ui/packages/**/*.scss\" \"ui/packages/**/*.css\" \"ui/packages/**/*.tsx\" \"app/**/*.tsx\" \"app/assets/stylesheets/**/*.scss\" \"app/components/**/*.css\" \"packages/**/app/components/**/*.css\"",
    "stylelint:fix": "./bin/npm run stylelint -- --fix",
    "stylelint:packages": "npm run nx:run -- --target=stylelint",
    "stylelint:add-disables": "./bin/stylelint-add-disables app/assets/stylesheets app/components/ packages/**/app/components/ ui/packages/",
    "stylelint:remove-disables": "./bin/stylelint-remove-disables app/assets/stylesheets app/components/ packages/**/app/components/ ui/packages/",
    "eslint": "eslint --cache --max-warnings=0",
    "lint": "npm run nx:run -- --target=lint",
    "lint:dependencies": "depcruise --config .dependency-cruiser.js ui/packages/ app/assets/modules/ app/components/ --output-type err-long",
    "lint:packages": "npm run lint -- --exclude=@github-ui/memex,@github-ui/app-assets-modules",
    "lint:pr-files": "npm run eslint",
    "lint:fix": "npm run lint -- --skip-nx-cache --fix",
    "tsc": "npm run nx:run -- --target=tsc",
    "build": "npm run webpack",
    "webpack": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack.config.js",
    "webpack:prod": "NODE_ENV=production NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --mode production --config ui/packages/webpack/webpack.config.js",
    "webpack:prod:analyze": "WEBPACK_ANALYZE=true NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --mode production --config ui/packages/webpack/webpack.config.js",
    "webpack:serve": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack serve --config ui/packages/webpack/webpack.config.js",
    "webpack:serve:debug": "DEBUG=true NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack serve --config ui/packages/webpack/webpack.config.js",
    "webpack:css": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack-css.config.js",
    "webpack:css:prod": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack-css.config.js --mode production",
    "webpack:css:serve": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack serve --config ui/packages/webpack/webpack-css.config.js",
    "webpack:alloy": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack-alloy.config.js",
    "webpack:alloy:prod": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack-alloy.config.js --mode production",
    "webpack:alloy:prod:analyze": "WEBPACK_ANALYZE=true NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack-alloy.config.js --mode production",
    "webpack:alloy:watch": "NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack-alloy.config.js --watch",
    "webpack:debug": "DEBUG=true NODE_OPTIONS=\"--max-old-space-size=8192\" ./bin/webpack --config ui/packages/webpack/webpack.config.js",
    "precompile-assets": "./bin/precompile-assets",
    "precompile-assets-for-tests": "node -r @swc-node/register ./ui/packages/webpack/precompile-assets-for-test.ts",
    "dependencies": "./script/npm-dependencies-changed",
    "prejest": "npm run compile-relay && NODE_ENV=test npm run ui-commands:compile",
    "prejest:affected": "npm run prejest",
    "prejest:watch": "npm run prejest",
    "prejest:memex": "npm run prejest",
    "prejest:app": "npm run prejest",
    "prejest:coverage": "npm run prejest",
    "prejest:memx:tsc": "npm run prejest",
    "jest": "npm run prejest && npm run nx:run -- --target=test -- --runInBand",
    "jest:packages": "npm run prejest && npm run nx:run -- --target=test --exclude=@github-ui/memex,@github-ui/app-assets-modules -- --runInBand",
    "jest:packages-no-cache": "npm run prejest && npm run nx:run -- --skip-nx-cache --target=test --exclude=@github-ui/memex,@github-ui/app-assets-modules -- --runInBand --no-cache",
    "jest:affected": "npm run prejest && npm run nx:affected -- --target=test -- --runInBand",
    "jest:watch": "npm run prejest && jest --watch",
    "jest:memex": "npm run prejest && nx run @github-ui/memex:test",
    "jest:memex-no-cache": "npm run prejest && nx run --skip-nx-cache @github-ui/memex:test --shard=$SHARD_INDEX/$TOTAL_SHARDS --no-cache",
    "jest:app": "npm run prejest && nx run @github-ui/app-assets-modules:test",
    "jest:app-no-cache": "npm run prejest && nx run --skip-nx-cache @github-ui/app-assets-modules:test --no-cache",
    "jest:coverage": "npm run prejest && jest --coverage",
    "jest:memex:tsc": "npm run prejest && tsc -p ui/packages/memex/src/tests/tsconfig.json",
    "compile-relay": "node ui/packages/relay-build/compile-relay.js",
    "ui-commands:compile": "NODE_ENV=test node ui/packages/ui-commands-scripts/compile-ui-commands.js",
    "ui-commands:validate": "node ui/packages/ui-commands-scripts/validate-ui-commands.js",
    "prod-js-size": "rm -rf tmp/prod-js-size && DESTINATION=tmp/prod-js-size bin/npm run webpack:prod && gzip -k9 tmp/prod-js-size/*.js && echo Total File Size && wc -c tmp/prod-js-size/*.js | grep total && echo Gzipped File Size && wc -c tmp/prod-js-size/*.js.gz | grep total",
    "nx": "nx",
    "nx:run": "nx run-many --parallel=$(lscpu | egrep '^CPU\\(s\\):' | egrep -oEi '[0-9]+')",
    "nx:affected": "nx affected --parallel=$(lscpu | egrep '^CPU\\(s\\):' | egrep -oEi '[0-9]+')",
    "nx:graph": "nx graph",
    "storybook": "storybook dev -p 6006 -c ui/packages/storybook/.storybook",
    "storybook:build": "ruby ui/packages/storybook/generate_component_list.rb && storybook build -c ui/packages/storybook/.storybook",
    "storybook:test": "test-storybook -c ui/packages/storybook/.storybook --index-json",
    "storybook:test:watch": "test-storybook -c ui/packages/storybook/.storybook --watch",
    "fingerprint-static-assets": "npm run start -w @github-ui/fingerprint-static-assets"
  },
  "workspaces": [
    "npm-workspaces/*",
    "ui/packages/*",
    "app/assets/modules",
    "app/assets/preview_modules",
    "app/assets/types",
    "app/assets/stylesheets",
    "app/components",
    "test/components",
    "test/js"
  ],
  "dependencies": {
    "@github/markdown-toolbar-element": "2.2.3",
    "@oddbird/popover-polyfill": "0.4.3"
  },
  "overrides": {
    "@github/markdown-toolbar-element": "$@github/markdown-toolbar-element",
    "@oddbird/popover-polyfill": "$@oddbird/popover-polyfill"
  },
  "msw": {
    "workerDirectory": [
      "public"
    ]
  }
}
