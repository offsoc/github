{"version":3,"file":"chunk-app_components_codespaces_advanced_options_sku-list-element_ts-xxxxxxxxxxxx.js","mappings":"wfAEA,YACMA,uBAAuBC,YAW3BC,mBAAoB,CAClB,IAAI,CAACC,+BAA+B,EACtC,CAEA,MAAMA,iCAAkC,CACtC,GACE,CAAC,IAAI,CAACC,QAAQ,EACd,CAAC,IAAI,CAACC,YAAY,EAClB,CAAC,IAAI,CAACC,OAAO,EACb,QAAI,CAACC,uBAAuB,CAACC,MAAM,EACnC,QAAI,CAACC,kBAAkB,CAACD,MAAM,CAE9B,OAGF,IAAME,EAAyB,MAAM,IAAI,CAACC,yBAAyB,GAEnE,GAAKD,EAIL,KAAK,GAAM,CAACE,EAAKC,EAAqB,GAAIC,OAAOC,OAAO,CAACL,GACvD,GAAIG,UAAAA,EAAkC,CACpC,IAAMG,EAASC,SAASC,cAAc,CAAC,CAAC,EAAEN,EAAI,eAAe,CAAC,EAC1DI,GACFA,CAAAA,EAAOG,MAAM,CAAG,EAAI,CAExB,MAAO,GAAIN,gBAAAA,EAAwC,CACjD,IAAMG,EAASC,SAASC,cAAc,CAAC,CAAC,EAAEN,EAAI,qBAAqB,CAAC,EAChEI,GACFA,CAAAA,EAAOG,MAAM,CAAG,EAAI,CAExB,CACF,CACF,CAIA,MAAMR,2BAA4B,CAChC,IAAMS,EAAQ,IAAIC,gBAAgB,CAChCC,cAAe,IAAI,CAACjB,YAAY,CAChCD,SAAU,IAAI,CAACA,QAAQ,CACvBmB,SAAU,IAAI,CAACjB,OAAO,CACtBkB,YAAa,IAAI,CAACC,UAAU,CAC5BC,kBAAmB,IAAI,CAACC,gBAAgB,GAGpCC,EAAM,CAAC,EAAE,IAAI,CAACC,uBAAuB,CAAC,CAAC,EAAET,EAAMU,QAAQ,GAAG,CAAC,CAC3DC,EAAW,MAAMC,MAAM,CAAC,EAAEJ,EAAI,CAAC,CAAE,CACrCK,QAAS,CACP,mBAAoB,iBACpBC,OAAQ,kBACV,CACF,UAEA,EAAaC,EAAE,CACNJ,EAASK,IAAI,GAEb,IAEX,CACF,E,GAvEGC,EAAAA,EAAOA,C,CADJrC,EAAAA,SAAAA,CAAAA,qBAAAA,KAAAA,G,GAEHqC,EAAAA,EAAOA,C,CAFJrC,EAAAA,SAAAA,CAAAA,0BAAAA,KAAAA,G,GAIHsC,EAAAA,EAAIA,C,CAJDtC,EAAAA,SAAAA,CAAAA,0BAAAA,KAAAA,G,GAKHsC,EAAAA,EAAIA,C,CALDtC,EAAAA,SAAAA,CAAAA,eAAAA,KAAAA,G,GAMHsC,EAAAA,EAAIA,C,CANDtC,EAAAA,SAAAA,CAAAA,WAAAA,KAAAA,G,GAOHsC,EAAAA,EAAIA,C,CAPDtC,EAAAA,SAAAA,CAAAA,UAAAA,KAAAA,G,GAQHsC,EAAAA,EAAIA,C,CARDtC,EAAAA,SAAAA,CAAAA,aAAAA,KAAAA,G,GASHsC,EAAAA,EAAIA,C,CATDtC,EAAAA,SAAAA,CAAAA,mBAAAA,KAAAA,GAAAA,EAAAA,EAAAA,CADLuC,EAAAA,EAAUA,C,CACLvC,E","sources":["app/components/codespaces/advanced_options/sku-list-element.ts"],"sourcesContent":["import {attr, controller, targets} from '@github/catalyst'\n\n@controller\nclass SkuListElement extends HTMLElement {\n  @targets prebuildReadyHints: HTMLElement[]\n  @targets prebuildInProgressHints: HTMLElement[]\n\n  @attr prebuildAvailabilityUrl: string\n  @attr repositoryId: string\n  @attr location: string\n  @attr refName: string\n  @attr vscsTarget: string\n  @attr devcontainerPath: string\n\n  connectedCallback() {\n    this.togglePrebuildAvailabilityHints()\n  }\n\n  async togglePrebuildAvailabilityHints() {\n    if (\n      !this.location ||\n      !this.repositoryId ||\n      !this.refName ||\n      this.prebuildInProgressHints.length === 0 ||\n      this.prebuildReadyHints.length === 0\n    ) {\n      return\n    }\n\n    const prebuildAvailabilities = await this.fetchPrebuildAvailability()\n\n    if (!prebuildAvailabilities) {\n      return\n    }\n\n    for (const [sku, prebuildAvailability] of Object.entries(prebuildAvailabilities)) {\n      if (prebuildAvailability === 'ready') {\n        const target = document.getElementById(`${sku}-prebuild-ready`)\n        if (target) {\n          target.hidden = false\n        }\n      } else if (prebuildAvailability === 'in_progress') {\n        const target = document.getElementById(`${sku}-prebuild-in-progress`)\n        if (target) {\n          target.hidden = false\n        }\n      }\n    }\n  }\n\n  // Returns sku name and prebuild availability\n  // EX: { basicLinux32gb: 'ready', standardLinux32gb: 'ready', basicLinux: 'ready', premiumLinux32gb: 'in_progress', xLargePremiumLinux: 'in_progress'}\n  async fetchPrebuildAvailability() {\n    const query = new URLSearchParams({\n      repository_id: this.repositoryId,\n      location: this.location,\n      ref_name: this.refName,\n      vscs_target: this.vscsTarget,\n      devcontainer_path: this.devcontainerPath,\n    })\n\n    const url = `${this.prebuildAvailabilityUrl}?${query.toString()}`\n    const response = await fetch(`${url}`, {\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n      },\n    })\n\n    if (response.ok) {\n      return response.json()\n    } else {\n      return null\n    }\n  }\n}\n"],"names":["SkuListElement","HTMLElement","connectedCallback","togglePrebuildAvailabilityHints","location","repositoryId","refName","prebuildInProgressHints","length","prebuildReadyHints","prebuildAvailabilities","fetchPrebuildAvailability","sku","prebuildAvailability","Object","entries","target","document","getElementById","hidden","query","URLSearchParams","repository_id","ref_name","vscs_target","vscsTarget","devcontainer_path","devcontainerPath","url","prebuildAvailabilityUrl","toString","response","fetch","headers","Accept","ok","json","targets","attr","controller"],"sourceRoot":""}