{
  "$schema": "http://json-schema.org/draft-04/hyper-schema",
  "additionalProperties": false,
  "definitions": {
    "action_name": {
      "type": "string"
    },
    "action_oid": {
      "type": "string"
    },
    "action_ref": {
      "type": "string"
    },
    "action_started_at": {
      "format": "date-time",
      "type": "string"
    },
    "action_version": {
      "description": "Version of the CodeQL Action.",
      "example": "1.1.4",
      "pattern": "^\\d+\\.\\d+\\.\\d+(?:-[\\da-zA-Z\\-\\.]+)?(?:\\+[\\da-zA-Z\\-\\.]+)?$",
      "type": "string"
    },
    "actions_event_name": {
      "description": "Actions event name for the event that triggered the analysis.",
      "example": "dynamic",
      "type": "string"
    },
    "analysis_key": {
      "example": "",
      "type": "string"
    },
    "analysis_name": {
      "type": "string"
    },
    "analyze_builtin_queries_cpp_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_csharp_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_go_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_java_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_javascript_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_python_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_ruby_duration_ms": {
      "type": "number"
    },
    "analyze_builtin_queries_swift_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_cpp_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_csharp_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_go_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_java_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_javascript_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_python_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_ruby_duration_ms": {
      "type": "number"
    },
    "analyze_custom_queries_swift_duration_ms": {
      "type": "number"
    },
    "analyze_failure_language": {
      "type": "string"
    },
    "autobuild_failure": {
      "type": "string"
    },
    "autobuild_languages": {
      "type": "string"
    },
    "build_mode": {
      "description": "Build mode for the analysis.",
      "example": "none",
      "type": "string"
    },
    "cause": {
      "type": "string"
    },
    "checkout_uri": {
      "example": "file:///github/workspace/",
      "type": "string"
    },
    "codeql_version": {
      "description": "Version of the CodeQL CLI.",
      "example": "2.8.2",
      "pattern": "^\\s*\\d+\\.\\d+\\.\\d+(?:-[\\da-zA-Z\\-\\.]+)?(?:\\+[\\da-zA-Z\\-\\.]+)?\\s*$",
      "type": "string"
    },
    "commit_oid": {
      "example": "f921edcc74d6b492ec068f5aa02b0e9a2cd45f5b",
      "maxLength": 40,
      "minLength": 40,
      "pattern": "^[0-9a-f]+$",
      "type": "string"
    },
    "completed_at": {
      "format": "date-time",
      "type": "string"
    },
    "config_file": {
      "description": "Path of the user-specified config file, from the 'config-file' input.",
      "type": "string"
    },
    "disable_default_queries": {
      "type": "string"
    },
    "environment": {
      "description": "Identifies the variable values associated with the environment in which this analysis was performed.",
      "type": "string"
    },
    "event_reports": {
      "items": {
        "properties": {
          "completed_at": {
            "format": "date-time",
            "type": "string"
          },
          "event": {
            "type": "string"
          },
          "exit_status": {
            "type": "string"
          },
          "language": {
            "type": "string"
          },
          "properties": {
            "type": "object"
          },
          "started_at": {
            "format": "date-time",
            "type": "string"
          }
        },
        "type": "object"
      },
      "type": "array"
    },
    "exception": {
      "type": "string"
    },
    "first_party_analysis": {
      "type": "boolean"
    },
    "interpret_results_cpp_duration_ms": {
      "type": "number"
    },
    "interpret_results_csharp_duration_ms": {
      "type": "number"
    },
    "interpret_results_go_duration_ms": {
      "type": "number"
    },
    "interpret_results_java_duration_ms": {
      "type": "number"
    },
    "interpret_results_javascript_duration_ms": {
      "type": "number"
    },
    "interpret_results_python_duration_ms": {
      "type": "number"
    },
    "interpret_results_ruby_duration_ms": {
      "type": "number"
    },
    "interpret_results_swift_duration_ms": {
      "type": "number"
    },
    "job_name": {
      "type": "string"
    },
    "job_run_uuid": {
      "description": "UUID representing the job run that the status report belongs to. Generated in the CodeQL Action.",
      "type": "string"
    },
    "job_status": {
      "description": "Whether the entire CodeQL Action job has completed successfully.",
      "enum": [
        "JOB_STATUS_UNKNOWN",
        "JOB_STATUS_SUCCESS",
        "JOB_STATUS_FAILURE",
        "JOB_STATUS_CONFIGURATION_ERROR"
      ],
      "type": "string"
    },
    "languages": {
      "type": "string"
    },
    "ml_powered_javascript_queries": {
      "description": "Information about the enablement of the ML-powered JavaScript query pack.",
      "example": "~0.0.2",
      "type": "string"
    },
    "num_results_in_sarif": {
      "type": "number"
    },
    "packs": {
      "description": "Stringified Json object mapping of languages to the packs used for analysis.",
      "type": "string"
    },
    "paths": {
      "type": "string"
    },
    "paths_ignore": {
      "type": "string"
    },
    "queries": {
      "type": "string"
    },
    "query_filters": {
      "description": "Stringified Json array of query filters.",
      "type": "string"
    },
    "raw_upload_size_bytes": {
      "type": "number"
    },
    "ref": {
      "example": "refs/heads/master",
      "pattern": "^refs/(heads|pull|tags)/.*$",
      "type": "string"
    },
    "registries": {
      "description": "Stringified Json array of registries to use for downloading packs.",
      "type": "string"
    },
    "runner_arch": {
      "description": "Hardware architecture of the runner.",
      "example": "X64",
      "type": "string"
    },
    "runner_available_disk_space_bytes": {
      "description": "Available disk space on the runner, in bytes.",
      "type": "integer"
    },
    "runner_image_version": {
      "description": "Version of the runner image, for workflows running on GitHub-hosted runners.",
      "example": "20230728.3.0",
      "type": "string"
    },
    "runner_os": {
      "description": "Operating system of the runner.",
      "example": "Linux",
      "type": "string"
    },
    "runner_os_release": {
      "description": "Operating system release of the runner.",
      "example": "10.0.20348",
      "type": "string"
    },
    "runner_total_disk_space_bytes": {
      "description": "Total disk space on the runner, in bytes.",
      "type": "integer"
    },
    "sarif": {
      "type": "string"
    },
    "scanned_language_extraction_duration_ms": {
      "type": "integer"
    },
    "started_at": {
      "format": "date-time",
      "type": "string"
    },
    "status": {
      "enum": [
        "success",
        "failure",
        "starting",
        "aborted",
        "user-error"
      ],
      "type": "string"
    },
    "steady_state_default_setup": {
      "type": "boolean"
    },
    "testing_environment": {
      "type": "string"
    },
    "tool_name": {
      "type": "string"
    },
    "tool_names": {
      "items": {
        "type": "string"
      },
      "maxItems": 25,
      "minItems": 1,
      "type": "array"
    },
    "tools_download_duration_ms": {
      "type": "number"
    },
    "tools_feature_flags_valid": {
      "type": "boolean"
    },
    "tools_input": {
      "type": "string"
    },
    "tools_resolved_version": {
      "type": "string"
    },
    "tools_source": {
      "enum": [
        "DOWNLOAD",
        "LOCAL",
        "TOOLCACHE",
        "UNKNOWN"
      ],
      "type": "string"
    },
    "trap_cache_cleanup_error": {
      "type": "string"
    },
    "trap_cache_cleanup_size_bytes": {
      "type": "number"
    },
    "trap_cache_cleanup_skipped_because": {
      "type": "string"
    },
    "trap_cache_download_duration_ms": {
      "type": "number"
    },
    "trap_cache_download_size_bytes": {
      "type": "number"
    },
    "trap_cache_languages": {
      "type": "string"
    },
    "trap_cache_upload_duration_ms": {
      "type": "number"
    },
    "trap_cache_upload_size_bytes": {
      "type": "number"
    },
    "trap_import_duration_ms": {
      "type": "integer"
    },
    "upload_failed_run_error": {
      "description": "If there was an error while uploading a failed run, this is its message.",
      "type": "string"
    },
    "upload_failed_run_skipped_because": {
      "description": "Reason why we did not upload a SARIF payload with `executionSuccessful: false`.",
      "type": "string"
    },
    "upload_failed_run_stack_trace": {
      "description": "If there was an error while uploading a failed run, this is its stack trace.",
      "type": "string"
    },
    "validate": {
      "type": "boolean"
    },
    "workflow_languages": {
      "type": "string"
    },
    "workflow_name": {
      "type": "string"
    },
    "workflow_run_attempt": {
      "type": "integer"
    },
    "workflow_run_id": {
      "type": "integer"
    },
    "zipped_upload_size_bytes": {
      "type": "number"
    }
  },
  "id": "https://schema.github.com/v3/code-scanning-analysis.json",
  "links": [
    {
      "href": "/repositories/{repository_id}/code-scanning/analysis",
      "method": "PUT",
      "rel": "upload-analysis",
      "schema": {
        "additionalProperties": true,
        "properties": {
          "analysis_key": {
            "$ref": "#/definitions/analysis_key"
          },
          "analysis_name": {
            "$ref": "#/definitions/analysis_name"
          },
          "base_ref": {
            "$ref": "#/definitions/ref"
          },
          "base_sha": {
            "$ref": "#/definitions/commit_oid"
          },
          "checkout_uri": {
            "$ref": "#/definitions/checkout_uri"
          },
          "commit_oid": {
            "$ref": "#/definitions/commit_oid"
          },
          "environment": {
            "$ref": "#/definitions/environment"
          },
          "ref": {
            "$ref": "#/definitions/ref"
          },
          "sarif": {
            "$ref": "#/definitions/sarif"
          },
          "started_at": {
            "$ref": "#/definitions/started_at"
          },
          "tool_names": {
            "$ref": "#/definitions/tool_names"
          },
          "workflow_run_attempt": {
            "$ref": "#/definitions/workflow_run_attempt"
          },
          "workflow_run_id": {
            "$ref": "#/definitions/workflow_run_id"
          }
        },
        "required": [
          "commit_oid",
          "ref",
          "analysis_key",
          "sarif"
        ],
        "type": "object"
      },
      "title": "Upload a new analysis"
    },
    {
      "href": "/repositories/{repository_id}/code-scanning/analysis/status",
      "method": "PUT",
      "rel": "status",
      "schema": {
        "additionalProperties": true,
        "properties": {
          "action_name": {
            "$ref": "#/definitions/action_name"
          },
          "action_oid": {
            "$ref": "#/definitions/action_oid"
          },
          "action_ref": {
            "$ref": "#/definitions/action_ref"
          },
          "action_started_at": {
            "$ref": "#/definitions/action_started_at"
          },
          "action_version": {
            "$ref": "#/definitions/action_version"
          },
          "analysis_key": {
            "$ref": "#/definitions/analysis_key"
          },
          "analyze_builtin_queries_cpp_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_cpp_duration_ms"
          },
          "analyze_builtin_queries_csharp_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_csharp_duration_ms"
          },
          "analyze_builtin_queries_go_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_go_duration_ms"
          },
          "analyze_builtin_queries_java_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_java_duration_ms"
          },
          "analyze_builtin_queries_javascript_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_javascript_duration_ms"
          },
          "analyze_builtin_queries_python_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_python_duration_ms"
          },
          "analyze_builtin_queries_ruby_duration_ms": {
            "$ref": "#/definitions/analyze_builtin_queries_ruby_duration_ms"
          },
          "analyze_custom_queries_cpp_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_cpp_duration_ms"
          },
          "analyze_custom_queries_csharp_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_csharp_duration_ms"
          },
          "analyze_custom_queries_go_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_go_duration_ms"
          },
          "analyze_custom_queries_java_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_java_duration_ms"
          },
          "analyze_custom_queries_javascript_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_javascript_duration_ms"
          },
          "analyze_custom_queries_python_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_python_duration_ms"
          },
          "analyze_custom_queries_ruby_duration_ms": {
            "$ref": "#/definitions/analyze_custom_queries_ruby_duration_ms"
          },
          "analyze_failure_language": {
            "$ref": "#/definitions/analyze_failure_language"
          },
          "autobuild_failure": {
            "$ref": "#/definitions/autobuild_failure"
          },
          "autobuild_languages": {
            "$ref": "#/definitions/autobuild_languages"
          },
          "cause": {
            "$ref": "#/definitions/cause"
          },
          "codeql_version": {
            "$ref": "#/definitions/codeql_version"
          },
          "commit_oid": {
            "$ref": "#/definitions/commit_oid"
          },
          "completed_at": {
            "$ref": "#/definitions/completed_at"
          },
          "config_file": {
            "$ref": "#/definitions/config_file"
          },
          "disable_default_queries": {
            "$ref": "#/definitions/disable_default_queries"
          },
          "event_reports": {
            "$ref": "#/definitions/event_reports"
          },
          "exception": {
            "$ref": "#/definitions/exception"
          },
          "first_party_analysis": {
            "$ref": "#/definitions/first_party_analysis"
          },
          "interpret_results_cpp_duration_ms": {
            "$ref": "#/definitions/interpret_results_cpp_duration_ms"
          },
          "interpret_results_csharp_duration_ms": {
            "$ref": "#/definitions/interpret_results_csharp_duration_ms"
          },
          "interpret_results_go_duration_ms": {
            "$ref": "#/definitions/interpret_results_go_duration_ms"
          },
          "interpret_results_java_duration_ms": {
            "$ref": "#/definitions/interpret_results_java_duration_ms"
          },
          "interpret_results_javascript_duration_ms": {
            "$ref": "#/definitions/interpret_results_javascript_duration_ms"
          },
          "interpret_results_python_duration_ms": {
            "$ref": "#/definitions/interpret_results_python_duration_ms"
          },
          "interpret_results_ruby_duration_ms": {
            "$ref": "#/definitions/interpret_results_ruby_duration_ms"
          },
          "job_name": {
            "$ref": "#/definitions/job_name"
          },
          "job_run_uuid": {
            "$ref": "#/definitions/job_run_uuid"
          },
          "job_status": {
            "$ref": "#/definitions/job_status"
          },
          "languages": {
            "$ref": "#/definitions/languages"
          },
          "matrix_vars": {
            "$ref": "#/definitions/environment"
          },
          "ml_powered_javascript_queries": {
            "$ref": "#/definitions/ml_powered_javascript_queries"
          },
          "num_results_in_sarif": {
            "$ref": "#/definitions/num_results_in_sarif"
          },
          "packs": {
            "$ref": "#/definitions/packs"
          },
          "paths": {
            "$ref": "#/definitions/paths"
          },
          "paths_ignore": {
            "$ref": "#/definitions/paths_ignore"
          },
          "queries": {
            "$ref": "#/definitions/queries"
          },
          "query_filters": {
            "$ref": "#/definitions/query_filters"
          },
          "raw_upload_size_bytes": {
            "$ref": "#/definitions/raw_upload_size_bytes"
          },
          "ref": {
            "$ref": "#/definitions/ref"
          },
          "registries": {
            "$ref": "#/definitions/registries"
          },
          "runner_arch": {
            "$ref": "#/definitions/runner_arch"
          },
          "runner_available_disk_space_bytes": {
            "$ref": "#/definitions/runner_available_disk_space_bytes"
          },
          "runner_image_version": {
            "$ref": "#/definitions/runner_image_version"
          },
          "runner_os": {
            "$ref": "#/definitions/runner_os"
          },
          "runner_os_release": {
            "$ref": "#/definitions/runner_os_release"
          },
          "runner_total_disk_space_bytes": {
            "$ref": "#/definitions/runner_total_disk_space_bytes"
          },
          "scanned_language_extraction_duration_ms": {
            "$ref": "#/definitions/scanned_language_extraction_duration_ms"
          },
          "started_at": {
            "$ref": "#/definitions/started_at"
          },
          "status": {
            "$ref": "#/definitions/status"
          },
          "steady_state_default_setup": {
            "$ref": "#/definitions/steady_state_default_setup"
          },
          "testing_environment": {
            "$ref": "#/definitions/testing_environment"
          },
          "tools_download_duration_ms": {
            "$ref": "#/definitions/tools_download_duration_ms"
          },
          "tools_feature_flags_valid": {
            "$ref": "#/definitions/tools_feature_flags_valid"
          },
          "tools_input": {
            "$ref": "#/definitions/tools_input"
          },
          "tools_resolved_version": {
            "$ref": "#/definitions/tools_resolved_version"
          },
          "tools_source": {
            "$ref": "#/definitions/tools_source"
          },
          "trap_cache_cleanup_error": {
            "$ref": "#/definitions/trap_cache_cleanup_error"
          },
          "trap_cache_cleanup_size_bytes": {
            "$ref": "#/definitions/trap_cache_cleanup_size_bytes"
          },
          "trap_cache_cleanup_skipped_because": {
            "$ref": "#/definitions/trap_cache_cleanup_skipped_because"
          },
          "trap_cache_download_duration_ms": {
            "$ref": "#/definitions/trap_cache_download_duration_ms"
          },
          "trap_cache_download_size_bytes": {
            "$ref": "#/definitions/trap_cache_download_size_bytes"
          },
          "trap_cache_languages": {
            "$ref": "#/definitions/trap_cache_languages"
          },
          "trap_cache_upload_duration_ms": {
            "$ref": "#/definitions/trap_cache_upload_duration_ms"
          },
          "trap_cache_upload_size_bytes": {
            "$ref": "#/definitions/trap_cache_upload_size_bytes"
          },
          "trap_import_duration_ms": {
            "$ref": "#/definitions/trap_import_duration_ms"
          },
          "upload_failed_run_error": {
            "$ref": "#/definitions/upload_failed_run_error"
          },
          "upload_failed_run_skipped_because": {
            "$ref": "#/definitions/upload_failed_run_skipped_because"
          },
          "upload_failed_run_stack_trace": {
            "$ref": "#/definitions/upload_failed_run_stack_trace"
          },
          "workflow_languages": {
            "$ref": "#/definitions/workflow_languages"
          },
          "workflow_name": {
            "$ref": "#/definitions/workflow_name"
          },
          "workflow_run_attempt": {
            "$ref": "#/definitions/workflow_run_attempt"
          },
          "workflow_run_id": {
            "$ref": "#/definitions/workflow_run_id"
          },
          "zipped_upload_size_bytes": {
            "$ref": "#/definitions/zipped_upload_size_bytes"
          }
        },
        "required": [
          "workflow_run_id",
          "workflow_name",
          "job_name",
          "commit_oid",
          "action_name",
          "action_oid",
          "started_at",
          "status"
        ],
        "type": "object"
      },
      "title": "Report action status"
    },
    {
      "href": "/repositories/{repository_id}/code-scanning/analysis/{analysis_id}",
      "method": "DELETE",
      "rel": "delete",
      "schema": {
        "additionalProperties": false,
        "type": "object"
      },
      "title": "Delete an existing analysis"
    }
  ],
  "type": "object"
}
