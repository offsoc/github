---
summary: 'Attach a configuration to repositories'
description: |-
  Attach a code security configuration to a set of repositories. If the repositories specified are already attached to a configuration, they will be re-attached to the provided configuration.

  If insufficient GHAS licenses are available to attach the configuration to a repository, only free features will be enabled.

  The authenticated user must be an administrator or security manager for the organization to use this endpoint.

  OAuth app tokens and personal access tokens (classic) need the `write:org` scope to use this endpoint.
tags:
  - code-security
operationId: code-security/attach-configuration

externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/code-security/configurations#attach-a-configuration-to-repositories'

x-github-internal:
  path: /orgs/{org}/code-security/configurations/{configuration_id}/attach
  http-method: post
  published: true
  owner: '@github/security-products-growth-reviewers'

x-github-releases:
  - api.github.com
  - ghec
  - ghes: '>= 3.15'

parameters:
 - $ref: '../../components/parameters/org.yaml'
 - $ref: '../../components/parameters/configuration-id.yaml'

requestBody:
  required: true
  content:
    application/json:
      schema:
        type: object
        additionalProperties: false
        properties:
          scope:
            type: string
            description: "The type of repositories to attach the configuration to.
              `selected` means the configuration will be attached to only the repositories specified
              by `selected_repository_ids`"
            enum:
              - all
              - public
              - private_or_internal
              - selected
          selected_repository_ids:
            type: array
            description: An array of repository IDs to attach the configuration to. You can only provide a list of repository ids when the `scope` is set to `selected`.
            items:
              type: integer
              description: Unique identifier of the repository.
        required:
          - scope
      examples:
        default:
          summary: Example for attaching a configuration to some repositories
          value:
            scope: selected
            selected_repository_ids:
              - 32
              - 91

responses:
  '202':
    $ref: '../../components/responses/accepted.yaml'

x-github:
  githubCloudOnly: false
  enabledForGitHubApps: true
  category: code-security
  subcategory: configurations
