apiVersion: apps/v1
kind: Deployment
metadata:
  name: UNUSED
spec:
  template:
    metadata:
      annotations:
        # Exclude outbound ports from the sidecar proxy in order to reduce latency/CPU overhead
        # 8149 - ernicorn
        # 443 - https
        # 3306 - mysql
        # 9093 - hydro/kafka
        # 11211 - memcached
        # 6379 - redis
        # 6033 - mysql (proxysql)
        # 10013 - spokesd
        # 8111 - freno
        # 10027 - vtgate (octoshift)

        # note: There is a space in front of the value because it is a string.
        #       Without the space, kustomize removes the double quotes, which ruby's
        #       YAML parser considers an integer.  Istio trims the value, so the space
        #       is valid syntax on the Istio side.
        traffic.sidecar.istio.io/excludeOutboundPorts: " 8149,443,3306,9093,11211,6379,6033,10013,8111,10027"
