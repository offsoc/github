<%# erblint:counter DeprecatedComponentsCounter 2 %>
<%= render Primer::Beta::Popover.new(
  position: :absolute,
  right: true,
  style: "right: 0; top: -4%;",
  classes: "js-notice",
  test_selector: "new-vulnerability-exposure-popover"
) do |component| %>
  <% component.with_heading do %>
    <%= render(Primer::Beta::Label.new(scheme: :accent)) { "New" } %>
    <p class="mt-2 color-fg-default">Affected code detection</p>
  <% end %>

  <% component.with_body(caret: :left_top, large: true, mt: 0) do %>
    <p class="pb-2">See if your code is calling a package's known vulnerable functions.</p>

    <%= form_tag dismiss_notice_path("dependabot_vulnerability_exposure"), class: "d-inline mt-2 mr-2 js-notice-dismiss" do %>
      <%= render Primer::ButtonComponent.new(font_weight: :bold, type: :submit) do %>
        Ok, got it
      <% end %>
    <% end %>
    <%= render Primer::ButtonComponent.new(tag: :a, scheme: :invisible, href: "https://github.blog/2022-04-14-dependabot-alerts-now-surface-if-code-is-calling-vulnerability") do %>
      Learn more
    <% end %>
  <% end %>
<% end %>
