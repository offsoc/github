"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_chart-card_ChartCard_tsx"],{39995:(e,r,a)=>{a.d(r,{d:()=>B});var t=a(74848),l=a(75177),o=a(281),i=a(87330),n=a(17909),s=a(86079),d=a(24021),c=a(95677),u=a(56221),p=a(59857),h=a(92240),f=a(96540);let g=(0,f.createContext)({});function b({children:e}){let{size:r}=(0,f.useContext)(g);return"sparkline"!==r?(0,t.jsx)(t.Fragment,{children:e}):null}b.displayName="ChartCard.LeadingVisual";var m=a(44634),v=a(73729);function C(e){switch(typeof e){case"string":case"number":return e.toString();case"object":if(Array.isArray(e))return e.map(C).join("");if(null!==e&&"props"in e)return C(e.props.children);return"";default:return""}}function x({as:e="h3",sx:r={},children:a}){let{setTitle:l,size:o}=(0,f.useContext)(g);return(0,f.useEffect)(()=>{l(C(a))},[l,a]),"sparkline"!==o?(0,t.jsx)(v.A,{sx:{fontSize:2,fontWeight:600,...r},as:e,children:a}):null}x.displayName="ChartCard.Title";var y=a(69909);function k({sx:e={},children:r}){let{setDescription:a,size:l}=(0,f.useContext)(g);return(0,f.useEffect)(()=>{a(C(r))},[a,r]),"sparkline"!==l?(0,t.jsx)(y.A,{sx:{color:"fg.muted",fontSize:1,...e},children:r}):null}function S({children:e}){let{size:r}=(0,f.useContext)(g);return"sparkline"!==r?(0,t.jsx)(t.Fragment,{children:e}):null}k.displayName="ChartCard.Description",S.displayName="ChartCard.TrailingVisual";var j=a(14783),A=a.n(j),w=a(44802),N=a.n(w),T=a(20535),V=a.n(T),D=a(9264),L=a.n(D),W=a(84834),z=a.n(W),O=a(85316),R=a.n(O);let F={tickWidth:0,lineWidth:1,gridLineColor:"var(--borderColor-muted)",gridLineDashStyle:"Dash",lineColor:"var(--borderColor-default)",labels:{style:{color:"var(--fgColor-default)"}},title:{style:{color:"var(--fgColor-default)"}}},H={accessibility:{keyboardNavigation:{order:["legend","series"]}},colors:["var(--data-blue-color-emphasis, var(--data-blue-color))","var(--data-green-color-emphasis, var(--data-green-color))","var(--data-orange-color-emphasis, var(--data-orange-color))","var(--data-pink-color-emphasis, var(--data-pink-color))","var(--data-yellow-color-emphasis, var(--data-yellow-color))","var(--data-red-color-emphasis, var(--data-red-color))","var(--data-purple-color-emphasis, var(--data-purple-color))","var(--data-auburn-color-emphasis, var(--data-auburn-color))","var(--data-teal-color-emphasis, var(--data-teal-color))","var(--data-gray-color-emphasis, var(--data-gray-color))"],caption:{align:"left",style:{color:"var(--fgColor-muted)"},verticalAlign:"top"},title:{align:"left",style:{color:"var(--fgColor-default)"},text:void 0},tooltip:{backgroundColor:"var(--bgColor-default)",borderRadius:6,borderColor:"var(--borderColor-muted)",borderWidth:1,shape:"rect",padding:10,shadow:{offsetX:2,offsetY:2,opacity:.02,width:4,color:"var(--shadowColor-default)"},style:{color:"var(--fgColor-default)",fontFamily:"var(--fontStack-sansSerif)",fontSize:"var(--text-body-size-small)"},useHTML:!0,headerFormat:'<table style="min-width: 120px;"><tr><th colspan="3" style="color:var(--fgColor-muted, var(--color-fg-muted)); font-weight:var(--base-text-weight-semibold); padding-bottom:2px;">{point.key}</th></tr>',pointFormat:'<tr><td style="padding-top:var(--base-size-4)"><span style="color:{point.color}">\u25CF</span> {series.name}</td><td style="text-align: right; padding-top:var(--base-size-4);"><strong>{point.y}</strong></td></tr>',footerFormat:"</table>"},credits:{enabled:!1},chart:{animation:!1,spacing:[4,0,4,0],backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",style:{fontFamily:"var(--fontStack-sansSerif)",fontSize:"12px",color:"var(--fgColor-default)"}},legend:{itemStyle:{fontSize:"var(--base-size-12)",font:"var(--fontStack-sansSerif)",color:"var(--fgColor-default)"},align:"left",verticalAlign:"top",x:-8,y:-12,itemHoverStyle:{color:"var(--fgColor-default)"},title:{style:{color:"var(--fgColor-default)"}}},navigation:{buttonOptions:{enabled:!1}},exporting:{fallbackToExportServer:!1},plotOptions:{series:{animation:!1},spline:{animation:!1,marker:{enabled:!1}},bar:{borderColor:"var(--bgColor-default)"},column:{borderColor:"var(--bgColor-default)"}},xAxis:{tickWidth:0,lineWidth:1,gridLineColor:"var(--borderColor-muted)",gridLineDashStyle:"Dash",lineColor:"var(--borderColor-default)",labels:{style:{color:"var(--fgColor-default)"}},title:{style:{color:"var(--fgColor-default)"}}},yAxis:[F]};N()(A()),V()(A()),L()(A()),z()(A()),A().setOptions({lang:{decimalPoint:".",thousandsSep:","}});let E={xl:"432px",large:"320px",medium:"256px",small:"128px",sparkline:"128px"};function I({colors:e,overrideOptionsNotRecommended:r,plotOptions:a,series:l,type:o="line",xAxisTitle:i,xAxisOptions:n,yAxisTitle:s,yAxisOptions:d={},tooltipOptions:c={},useUTC:u=!0}){let{title:p,description:h,size:b,chartRef:v}=(0,f.useContext)(g),C=l.length>1&&"sparkline"!==b,x=l.length>3,y=Array.isArray(d)?d:[d],k=a&&function e(r,a,t){if("object"!=typeof r||null===r)return!1;if(r[a]===t)return!0;for(let l in r)if(void 0!==r[l])return e(r[l],a,t);return!1}(a,"stacking","normal"),S=(0,m.A)({},H,{...x?{accessibility:{keyboardNavigation:{order:["series","legend"]}}}:{},chart:{type:o,height:"number"==typeof b?b:E[b]},time:{useUTC:u},colors:e,exporting:{chartOptions:{title:{text:p},caption:{text:h}},filename:p},lang:{accessibility:{chartContainerLabel:`${p}. Interactive chart.`,navigator:{groupLabel:`${p} Axis zoom`}}},legend:{enabled:C,...x?{align:"right",layout:"vertical",verticalAlign:"middle"}:{}},plotOptions:(0,m.A)({},H.plotOptions,{series:{marker:{enabled:"sparkline"!==b},enableMouseTracking:"sparkline"!==b}},a),series:l,tooltip:(0,m.A)({},{enabled:"sparkline"!==b,shared:k},c),xAxis:(0,m.A)({},{visible:"sparkline"!==b,gridLineWidth:"sparkline"!==b?1:0,title:{text:"sparkline"!==b?i:void 0}},n),yAxis:y.map(e=>{if(e)return(0,m.A)({},F,{visible:"sparkline"!==b,gridLineWidth:"sparkline"!==b?1:0,title:{text:"sparkline"!==b?s:void 0}},e)})},r);if(S.series&&S.colors){let e=0,r=[];for(let a of S.series)if("areaspline"===a.type){let t;a.color?t=a.color:(t=S.colors[e],e++),a.fillColor={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`color-mix(in srgb, ${t} 25%, transparent)`],[1,`color-mix(in srgb, ${t} 1%, transparent)`]]},r.push(a),e>S.colors.length-1&&(e=0)}else r.push(a);S.series=r}return(0,f.useEffect)(()=>{setTimeout(()=>v.current?.container.current?.setAttribute("role","application"),0)},[v]),(0,t.jsx)(R(),{ref:v,highcharts:A(),options:S})}function $({children:e}){return(0,t.jsx)(s.l.Body,{sx:{padding:0},children:e})}function P({size:e="medium",border:r,padding:a="normal",visibleControls:v,className:C,children:y}){let j=v??"sparkline"!==e,A=r??"sparkline"!==e,[w]=(0,d.H)(y,{leadingVisual:b,title:x,description:k,trailingVisual:S,chart:I}),[N,T]=(0,f.useState)(""),[V,D]=(0,f.useState)(""),L=(0,f.useRef)(null),W=(0,f.useMemo)(()=>({title:N,setTitle:T,description:V,setDescription:D,size:e,chartRef:L}),[N,T,V,D,e,L]),z=(0,f.useRef)(null),[O,R]=(0,f.useState)(),F=(0,f.useCallback)(()=>R(!0),[]),H=(0,f.useCallback)(()=>R(!1),[]);(0,f.useEffect)(()=>{!1===O&&z.current?.focus()},[O]);let E=(0,f.useCallback)(()=>{if(!L.current?.chart)return[];let[e,...r]=L.current.chart.getDataRows();return r.map((r,a)=>r.reduce((r,t,l)=>({...r,id:a,[e[l]]:t}),{}))},[L]),P=(0,f.useCallback)(()=>L.current?.chart?(L.current?.chart?.getDataRows())[0].map((e,r)=>({header:e,field:e,rowHeader:0===r})):[],[L]),B=(0,f.useCallback)(()=>L.current?.chart?.downloadCSV(),[L]),_=(0,f.useCallback)(()=>{let e=JSON.stringify(L.current?.chart?.userOptions,(e,r)=>"string"==typeof r?r.replace(/var\(--([^,)]+)[,)]+/g,(e,r)=>getComputedStyle(L.current?.container.current??document.body).getPropertyValue(`--${r}`).trim()):r);L.current?.chart?.exportChartLocal({type:"image/png"},JSON.parse(e))},[L]),G=null;if(w.chart){let e=(0,m.A)({},w.chart.props.overrideOptionsNotRecommended||{},{accessibility:{screenReaderSection:{onViewDataTableClick:F}}});G=(0,f.cloneElement)(w.chart,{overrideOptionsNotRecommended:e})}return(0,t.jsxs)(g.Provider,{value:W,children:[(0,t.jsxs)(l.A,{className:C,sx:{...A?{borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2}:{},p:"none"===a?0:`var(--stack-padding-${a})`},...(0,h.G)("chart-card"),children:[(0,t.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignContent:"flex-start",mb:"sparkline"!==e?3:0},children:[(0,t.jsxs)(l.A,{sx:{display:"flex"},children:[(0,t.jsx)(l.A,{sx:{mr:w.leadingVisual?2:0,alignContent:"center"},children:w.leadingVisual}),(0,t.jsxs)("div",{children:[w.title,w.description]})]}),(0,t.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",alignSelf:"flex-start"},children:[(0,t.jsx)(l.A,{sx:{mr:w.leadingVisual?2:0},children:w.trailingVisual}),j&&(0,t.jsxs)(o.W,{anchorRef:z,children:[(0,t.jsx)(o.W.Anchor,{children:(0,t.jsx)(i.K,{"aria-label":"Chart options",icon:p.KebabHorizontalIcon,variant:"invisible",size:"small"})}),(0,t.jsx)(o.W.Overlay,{width:"auto",children:(0,t.jsxs)(n.l,{children:[(0,t.jsx)(n.l.Item,{onSelect:F,children:"View as table"}),(0,t.jsx)(n.l.Item,{onSelect:B,children:"Download CSV"}),(0,t.jsx)(n.l.Item,{onSelect:_,children:"Download PNG"})]})})]})]})]}),G]}),O&&(0,t.jsx)(s.l,{title:N,onClose:H,footerButtons:[{buttonType:"default",content:"Download CSV",onClick:B}],renderBody:$,children:(0,t.jsx)(c.X.Container,{sx:{".Table":{"--table-border-radius":0},".TableHeader:first-child,.TableCell:first-child":{borderLeft:0},".TableHeader:last-child,.TableCell:last-child":{borderRight:0}},children:(0,t.jsx)(u.b,{data:E(),columns:P()})})})]})}I.displayName="ChartCard.Chart",P.displayName="ChartCard";let B=Object.assign(P,{LeadingVisual:b,Title:x,Description:k,TrailingVisual:S,Chart:I,Context:g});try{$.displayName||($.displayName="DialogBodyWithoutPadding")}catch{}try{B.displayName||(B.displayName="ChartCard")}catch{}}}]);
//# sourceMappingURL=ui_packages_chart-card_ChartCard_tsx-863cb6850109.js.map