<% page_info title: "Security · Dependabot Alerts · #{this_business}" %>

<%= render(ConditionalAccess::UnauthorizedAccountsComponent.new(
  cap_filter: cap_filter,
  classes: "Box mb-3",
  accounts: unauthorized_orgs,
  resource_label: "alerts"
)) %>

<%= render(SecurityCenter::SubheadComponent.new(
  actor: current_user,
  scope: this_business,
  heading: "Dependabot alerts",
)) do |c|
  c.with_phase_label
  c.with_feedback_link
end %>

<%= render DependabotAlerts::TableComponent.new(
  query: query,
  query_string: query_string,
  show_alert_number: false,
  alerts_page_path: alerts_page_path,
  filter_suggestions_path: filter_suggestions_path,
  menu_content_path: menu_content_path,
  teams_filter_menu_data: teams_filter_menu_data,
)%>
