import {Meta} from '@storybook/blocks'

<Meta title="Recipes/ListView/Documentation/Accessibility/ListItem" />

## ListItem

### Container

This subcomponent is **required**.

Much like the [ListView container](?path=/docs/recipes-list-view-accessbility-list-view--docs#container), each list item in a ListView needs a container that can express the boundaries of its content. This container communicates the boundary area that the ListItem UI is placed in. Unlike the ListView container, the ListItem container uses an interactive list pattern.

Utilizing an interactive list in place of a static one allows an assistive technology user to quickly and intuitively understand, navigate, and take action on each ListItem in a ListView. This helps to create an equivalency in experience for a non-assistive technology user's experience of being able to quickly parse and take action on ListView content.

Interactive lists are typically a desktop OS construct. The ListView's functional needs means that an interactive list is the closest applicable match when it comes to user expectations for behavior.

#### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView announcements -->
  <!-- ListView metadata -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <!-- ListView internals -->
  </ul>
</div>
```

* The `ul` element, combined with the declaration of `role="list"` communicates to assistive technology the presence of list content.
  * The `role="list` declaration helps enforce the list announcement, which is key to understanding what the ListView's main content is, and how it can be interacted with.
  * A `ul` is used in place of an `ol` as ordering is not known on a per-component basis. Components may also have their ordering adjusted or filtered by the user.
* The `aria-labelledby` creates an accessible name for the interactive list.
  * This is **required**, and an expectation for all interactive elements. It helps ensures a user who cannot see the screen knows which list they are interacting with.
  * `aria-labelledby` uses the value of the `id` used for the [container title](?path=/docs/recipes-list-view-accessbility-list-view--docs#container-title).
* The ListItem container, combined with the previous declarations, communicates:
  1. There is an interactive list area on the page/view that is quickly discoverable via the heading element, and therefore significant.
  2. There may be ways to manipulate the list's content, as well as understand its overall user-facing state.
  3. What and where the actual content of the interactive list is, as well as how to interact with it.

### ListItem root

This subcomponent is **required**.

ListItem root elements:

1. Enumerate the total number of ListItems present in a ListView construct.
2. Provide a mechanism for navigating to each ListItem in sequence.
3. Provide a mechanism for navigating across multiple ListItems.

This helps create an equivalency in experience between users who can see the ListView construct, and users who cannot. It enables both to quickly understand, navigate, and take action on ListView content, regardless of input modality.

#### ListItem root subcomponent order

The order of subcomponents ([title](listitem-title), [leading visual](#listitem-leading-visual), [metadata](#listitem-metadata), etc.) placed within a ListItem is **significant**. Subcomponents should be placed in the DOM in an order that follows reading order. This ensures that focus order occurs in a logical sequence.

##### Suggested CSS layout technique for ListItem primary content

CSS Grid allows for ListItem content to placed in the DOM and visually in a way that makes sense to both visual and non-visual users. This helps to ensure that focus order of a ListItem is both intuitive and logical.

The `div` that contains each ListItem's [title](#listitem-title), [selection checkbox](#listitem-selection), [leading visual](#listitem-leading-visual), and [metadata](#listitem-metadata) can serve as the control of the overall layout. Named grid areas can then be utilized.

```css
/* Sample selector name */
.list-view-primary-content-wrapper {
  display: grid;
  grid-template-columns: min-content min-content 1fr;
  grid-template-rows: auto auto;
  grid-template-areas:
    'lv-select lv-status lv-title'
    'lv-select lv-status lv-meta';
}
```

This declaration specifies three columns and two rows, and then provides a template for content to lock into if present:

```css
/* Sample selector names */
.list-view-primary-content-status {
  grid-area: lv-status;
}

.list-view-primary-content-title {
  grid-area: lv-title;
}

/* etc. */
```

The template areas can then be reconfigured for smaller viewports.

#### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView announcements -->
  <!-- ListView metadata -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <li id="uuid-list-view-node-1" tabindex="0" aria-label="{listitem title}: {listitem status}.">
      <!-- ListItem internals -->
    </li>
    <li id="uuid-list-view-node-2" tabindex="-1" aria-label="{listitem title}: {listitem status}.">
      <!-- ListItem internals -->
    </li>
    <!-- Additional ListItem root elements as needed -->
  </ul>
</div>
```

* `li` elements are declared as immediate children of the `ul` element.
  * Each `li` element is the root element for each item in the ListView list. For example, if there are 15 ListItems, 15 `li` elements are used.
* `tabindex` is declared on each `li` element.
  * Each `tabindex` value can be **either** `0` **or** `-1`. Its value depends on if the `li` element has focus present on it or not. This is determined by [a roving tabindex technique](https://web.dev/using-tabindex/#managing-focus-in-components):
  * If a `li` element **has** focus, `tabindex="0"` is declared on it.
  * If a `li` element **does not have** focus, `tabindex="-1" is declared on it.`
  * Keyboard interaction (<kbd>Up</kbd>, <kbd>Down</kbd>, <kbd>Home</kbd>, <kbd>End</kbd>) moves focus from one `li` element to another, depending on which key is utilized.
  * The newly focused `li` element will have its `tabindex` value changed to `0`. All other `li` elements' `tabindex` values are updated to use `-1`.
  * Combined with the [ListItem container](#listitem-container) declarations, this allows a user to use the keyboard or other non-cursor based assistive technology to traverse the ListView's ListItem content.
  * For example, a ListView component has 20 ListItems. Focus is initially placed on the first ListItem, meaning it has a declaration of `tabindex="0"` applied to it. If a user presses the <kbd>Down</kbd> arrow, focus is moved to the second ListItem. The second ListItem's `tabindex` declaration is updated to be `tabindex="0"`. All other ListItem's `tabindex` values—including the first, previously focused ListItem—are updated to be `tabindex="-1"`.
* `aria-label` is declared on the `li`, and provides the ListItem with an accessible name when a user is navigating through the list.
  * This name provides context for which ListItem is currently in focus, what its purpose is, and associated metadata relevant for making a high-level determination of relevancy to the user.
  * There are two parts that make up `aria-label`'s value: the ListItem title and ListItem metadata. ListItem title is **required**. ListItem metadata is **only** used if metadata is specified in the component instance.
  * The ListItem title (`{listitem title}`) uses the string specified in the ListItem title (documented in the following [ListItem title](#listitem-title) section).
  * The ListItem metadata (`{listitem status}`) uses the string specified in the ListItem status (documented in the following [ListItem leading visual](#listitem-leading-visual) section). It is also prepended with a colon and a space (`: `). This provides a pause for assistive technology announcements to help a user understand where the ListItem title ends and its metadata information begins.

#### Additional focus management considerations

Following are additional focus management behaviors for the ListItem root:

* ListView components should load with the first `li` set to `tabindex="0"`.
  * This may be overridden if a URL allows for programmatically placing focus on a specific ListItem in a series of ListItems.
* ListItem focus **is not** preserved if a page is refreshed/reloaded or a closed tab/window is restored.
* When focus reaches the last interactive element in a ListItem:
  * The next focus event (such as pressing <kbd>Tab</kbd>) places focus on **the first** interactive element in the DOM **after** the ListView component instance
    * For example, a user presses <kbd>Tab</kbd> when focus is on a ListItem's overflow action, and the overflow action's ActionMenu is in a collapsed state. Focus is then moved out of the ListView to a `button` element in a paragraph placed after the ListView component instance.
  * The roving tabindex technique should preserve the tab order of the ListView after focus moves off of the component. This means focus is restored if a user places focus back on the ListView component instance.
    * For example, the user who landed on a `button` element placed in a paragraph after the the ListView component instance then presses <kbd>Shift</kbd>+<kbd>Tab</kbd>. Focus is placed back on the ListItem's parent `li` that the user was navigating through in the previous example.

### ListItem title

This subcomponent is **required**.

A ListItem title communicates the overall purpose of the ListItem. ListItem titles can be either:

1. Static, or
2. Links.

ListItem titles **cannot** be `button`s.

#### DOM declarations for a static ListItem title

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView announcements -->
  <!-- ListView metadata -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <li id="uuid-list-view-node-1" tabindex="0" aria-label="{listitem title}: {listitem status}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title"> {listitem title} </hX>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added as an immediate child of the parent `li` element, and then a second `div` is added as a child of that `div`.
  * This is a **suggestion** for how to control layout flow of the ListItem's title, metadata, and secondary actions.
* A heading element is added as the immediate child of the second, nested `div`.
  * The heading level is one level lower than the ListView's [container title](#container-title). For example, if the ListView container title is set to a `h2`, **all** ListItem titles are set to a `h3`.
  * An `id` declaration helps to identify the ListItem's title for use in the `aria-label` construction of the [ListItem root](#listitem-root).
  * `{listitem title}` is a placeholder for the string used to make the user-facing title. This is most likely retrieved from an external data source.

#### DOM declarations for a ListItem title link

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <li id="uuid-list-view-node-1" tabindex="0" aria-label="{listitem title}: {listitem status}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a id="uuid-list-view-node-1-link" href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

Advice from the previous ["DOM declarations for a static ListItem title" subsection](#dom-declarations-for-a-static-listitem-title) is also relevant here. The additional consideration is:

* The `{listitem title}` placeholder is wrapped in an anchor link.
  * An `id` declaration is supplied for the anchor link.
  * The `href` value of the anchor link is a placeholder and most likely retrieved from an external data source.

#### Keyboard interaction

An <kbd>Enter</kbd> keypress will navigate to the URL specified in the ListItem title link's `href` value, provided the ListItem itself is focused. Refer to the [Keyboard support](#keyboard-support) section for more information about ListItem focus.

Keypresses, pointer clicks, and touch events can all be intermingled. For example, a mouse click event on a ListItem title's link can navigate to its destination. An <kbd>Enter</kbd> keypress will also do the same.

A <kbd>Space</kbd> **does not** navigate to the ListItem title link's destination.

##### Additional focus management considerations

Focus is moved from the ListItem root to the ListItem title link provided the following conditions are met:

1. Focus begins on the ListItem root container,
2. A <kbd>Tab</kbd> keypress occurs, **and**
3. The ListItem title contains a link.

More detail about focus management for the ListView ListItems is communicated in the [additional focus management considerations](#additional-focus-management-considerations) subsection.

### ListItem selection

This subcomponent is **optional**. If a ListItem selection is used, **all** ListItems in the ListView component instance are **required** to use one.

A ListItem selection allows a user to select one or more ListItems. Selected ListItems can then have [ListView-level bulk actions](#metadata-content-and-bulk-actions) applied to them.

This subcomponent uses the [Checkbox](https://primer.style/react/Checkbox) Primer component.

#### General behavior

A selected ListItem has its associated Checkbox subcomponent placed in a checked state. Unselecting it will remove the checked state.

Selection and unselection events update the [selected list item summary](2-selected-list-item-summary-behavior).

A ListItem **cannot** be placed in an indeterminate state. It also **cannot** be placed in an inactive/disabled state.

Activating a [secondary action](#listitem-secondary-info-and-actions) on one ListItem when multiple ListItems are in a selected state will **only** affect the ListItem that contains the overflow action. Other ListItems placed in a a selected state are not affected.

Selection state **is not** persisted across sessions or browser tab/window refreshes.

Refer to the [Select all ListView list items](#1-select-all-list-view-list-items) section for more behavior considerations.

#### Selecting a series of Listitems concurrently

A user can select a series of ListItems by:

1. Activating the first ListItem in the selection series,
2. Holding down the <kbd>Shift</kbd> key and then,
3. Interacting with the rest of the ListItems in a selection series by either:
4. Clicking/tapping the last Checkbox component with a pointing device or gesture.
5. Pressing <kbd>Up</kbd> or <kbd>Down</kbd> on the keyboard to add or remove ListItems from the selection range.
   * Initially pressing <kbd>Up</kbd> will add previous ListItems to the selection count, incrementing the ListItem selection by one for every keypress. Pressing <kbd>Down</kbd> if the initial keypress was <kbd>Up</kbd> will deselect the row, and subsequent <kbd>Down</kbd> keypresses will remove previous selections.
   * If the number of <kbd>Down</kbd> keypresses is more than the selected range of ListItems, the selection begins to select in the opposite direction at the origin point of the initial Listitem selection. <kbd>Up</kbd> keypresses then become deselection actions.
   * The reverse applies for when <kbd>Down</kbd> is the initial keypress.

Releasing <kbd>Shift</kbd> will persist the previously selected ListItemss, but not allow for a series of ListItem selection actions to occur until it is held down again. Activating individual Checkbox components after <kbd>Shift</kbd> is released will allow for each activated checkbox to be added to the series of selected ListItems.

#### Keyboard interaction

A <kbd>Space</kbd> keypress will select a ListItem, provided it is focused. Refer to the [Keyboard support](#keyboard-support) section for more information about ListItem focus.

A <kbd>Space</kbd> keypress applies and removes selection state **only** when the entire ListItem has focus. If focus is on one of its child interactive elements browser default interaction for Space applies instead.

A ListItem selected via a <kbd>Space</kbd> keypress will cause its associated Checkbox subcomponent to be placed in a checked state. A subsequent <kbd>Space</kbd> keypress will deselect the ListItem and place its associated Checkbox subcomponent in an unchecked state.

Keypresses, pointer clicks, and touch events can all be intermingled. For example, a mouse click event on a ListItem's associated Checkbox subcomponent can place it in a selected state, and a <kbd>Space</kbd> keypress will then place it in an deselected state.

An <kbd>Enter</kbd> **does not** place a ListItem in a selected state.

##### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
          <div>
            <input
              aria-label="Select: {title}."
              id="uuid-list-view-node-1-checkbox"
              type="checkbox">
          </div>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added after the `div` used for the [ListItem title](#listitem-title).
  * This DOM order is significant and ensures the ListItem selection control, if present, is read after the ListItem title when exploring the ListItem construct with assistive technology.
  * Reference the previous \[Suggested CSS layout technique for ListItem primary content]\(#suggested-css-layout-technique-for-listitem-primary content) subsection for guidance about how to ensure a logical focus order and visual design can be preserved.
* The checkbox is created by using an `input` element with a declaration of `type="checkbox"` inside of the `div`.
* An `id` with a UUID prefix is added to the checkbox.
  * The suffix of `-list-view-node-1-checkbox` is a suggestion for a potential naming scheme and not a requirement.
* An `aria-label` attribute is also applied to the checkbox.
  * Its value consists of two parts.
    * The first is "Select: ". Note the space after the colon.
    * The second part is `{title}`, which is a placeholder for the [ListItem title](#listitem-title), and is placed after the space.
    * Combined, this creates an accessible name for the Checkbox component that communicates what the checkbox's purpose is and which ListItem it applies to. This ensures users can know which ListItems they are selecting across multiple different assistive technology interaction modes.
  * Note that using an `aria-label` in place of a Primer `<FormControl.Label>` is intentional.
    * This is a highly specialized use case that ensures more efficient interaction when navigating through the ListItem with assistive technology.
    * It is **strongly advised** not to modify other components this way, and doing so may endanger component accessibility.
  * A Primer [Checkbox](https://primer.style/react/Checkbox) component can be used to achieve this effect.

### ListItem IssueType

This subcomponent is **optional**. IssueTypes do not have to be applied to all ListItems in a ListView if used.

An IssueType is a categorical marker that is prepended to the ListItem title. It is used to help users quickly identify the single overall kind of content the ListItem represents.

IssueTypes can also be used for non-Issue content. An example would be for a ListView used for Pull Requests.

There are two kinds of treatments for IssueTypes:

1. When the IssueType is non-interactive, and
2. When the IssueType is interactive.

#### Non-interactive IssueTypes

This treatment is used when the IssueType is metadata that **cannot** be directly interacted with.

For example, a user cannot activate the IssueType text to navigate to a list of all IssueTypes with the same type in a repository. A user may, however, be able to filter by IssueType using [other filter controls](https://ui.githubapp.com/storybook/?path=%2Fdocs%2Frecipes-list-view-accessibility-list-view--docs#2-categorical-computed-section-filters-selection-and-status).

For this treatment, the IssueType is placed alongside the ListItem title. The `aria-label` is also updated.

##### DOM declarations for non-interactive IssueTypes

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <li id="uuid-list-view-node-1" tabindex="0" aria-label="{IssueType}: {listitem title}: {listitem status}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a id="uuid-list-view-node-1-link" href="/path/to/resource/"> <span>{IssueType}</span> {listitem title} </a>
          </hX>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* The IssueType's string is placed inside the anchor element used to wrap the ListItem title.
  * The IssueType string is wrapped in a `span` element to allow it to be styled.
* The `aria-label` declared on the parent `li` element is updated to incorporate the IssueType string.
  * The IssueType string is placed before the ListItem title string.
  * A colon and space (`: `) is placed after the end of the IssueType string.
* If the ListItem title is not interactive, the IssueType's string is still placed before the ListItem title string and the `aria-label` is also updated.
  * The `span` is still preserved for styling purposes.
  * These declarations are placed in [the ListItem title's containing `hX` element](https://ui.githubapp.com/storybook/?path=%2Fdocs%2Frecipes-list-view-accessibility-listitem--docs#dom-declarations-for-a-static-listitem-title) instead.

##### DOM declarations for interactive IssueTypes

This treatment is used when the IssueType is metadata that **can** be directly interacted with.

For example, a user can activate the IssueType text to navigate to a list of all IssueTypes with the same type in a repository.

For this treatment, the IssueType is placed inside the ListItem title. The `aria-label` is also updated.

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <li id="uuid-list-view-node-1" tabindex="0" aria-label="{IssueType}: {listitem title}: {listitem status}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a href="/path/to/resource/">
              <span>{IssueType}</span>
            </a>
            <a id="uuid-list-view-node-1-link" href="/path/to/resource/"> <span>{IssueType}</span> {listitem title} </a>
          </hX>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* The IssueType's string is placed inside an anchor element.
  * The anchor element is placed as a sibling element before the ListItem title anchor element.
  * Both anchor elements are children of the parent `hX` element.
  * This allows both the IssueType to be part of the ListItem title, and also allows both elements to be non-nested interactive content.
  * The IssueType string is wrapped in a `span` element to allow it to be styled.
* The `aria-label` declared on the parent `li` element is updated to incorporate the IssueType string.
  * The IssueType string is placed before the ListItem title string.
  * A colon and space (`: `) is placed after the end of the IssueType string.
* If the ListItem title is not interactive, the IssueType's string is still placed before the ListItem title string and the `aria-label` is also updated.
  * The IssueType's anchor element is still preserved to make it interactive.
  * The `span` is still preserved for styling purposes.
  * These declarations are placed in [the ListItem title's containing `hX` element](https://ui.githubapp.com/storybook/?path=%2Fdocs%2Frecipes-list-view-accessibility-listitem--docs#dom-declarations-for-a-static-listitem-title) instead.

### ListItem leading visual

This subcomponent is **optional**. If a ListItem leading visual is used, **all** ListItems in the ListView component instance are **required** to use one.

A ListItem can only have **one** leading visual. The type of icon utilized depends on the content needs of the overall page/view the ListView component is placed in.

Some, but not all ListItem leading visuals are not decorative. Leading visuals that are not decorative must have their content **must** included in assistive technology announcements. ListItem leading visuals that are decorative **must not** have their content included in assistive technology announcements.

Broadly-speaking, there are four different types of leading visuals:

1. Status icons (not decorative),
2. CI check status (not decorative),
3. Branded logos and avatars (decorative), and
4. Generic icons (decorative).

#### Status icons

Status icons are an image or icon that helps a user quickly scan ListItems to determine their status. They are **not decorative**.

Status leading visuals can include, but are not limited to indicating:

* An open or closed Issue,
* A merged Pull Request,
* A secrets warning indicator,
* Etc.

##### DOM declarations for status icon leading visuals

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <ul aria-labelledby="uuid-list-view-container-title" tabindex="-1" role="list">
    <li id="uuid-list-view-node-1" tabindex="0" aria-label="{listitem title}: {Status: Open}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a id="uuid-list-view-node-1-link" href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
        <div>
          <svg
            aria-hidden="true"
            focusable="false"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            width="16"
            height="16"
          >
            <!-- Octicon SVG internal code -->
          </svg>
          <span id="uuid-list-view-node-1-status" class="sr-only"> Status: Open. </span>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added after the `div` used for the [ListItem title](#listitem-title).
  * This DOM order is significant and ensures the title is read first when exploring the ListItem construct with assistive technology.
  * The leading visual can then be placed before the ListItem title visually using CSS techniques such as CSS grid (refer to [Suggested CSS layout technique for ListItems](#suggested-css-layout-technique-for-listitems) for more information).
* SVG is used to display the icon.
  * Declarations of `aria-hidden="true` and `focusable="false"` mark the SVG as decorative for assistive technology.
  * [Octicons](https://primer.style/react/Octicon) can used for the status icons.
    * A declaration of `size={16}` controls the icon's size.
    * The following icons correspond to the following statuses. These are sample statuses, and **not** a comprehensive list:
      * Open: [`<Octicon icon={IssueOpenedIcon} size={16} />`](https://primer.style/design/foundations/icons/issue-opened-16)
      * Closed: [`<Octicon icon={IssueClosedIcon} size={16} />`](https://primer.style/design/foundations/icons/issue-closed-16)
      * Merged: [`<Octicon icon={GitMergeIcon} size={16} />`](https://primer.style/design/foundations/icons/git-merge-16)
      * Reopened: [`<Octicon icon={IssueReopenedIcon} size={16} />`](https://primer.style/design/foundations/icons/issue-reopened-16)
* A `span` is inserted after the Octicon as a sibling element.
  * An `id` declaration helps to identify the ListItem's title for use in the `aria-label` construction of the [ListItem root](#listitem-root).
  * A class of `sr-only` hides the status visually, but ensures that it can be announced by assistive technology.
  * The string used inside the `span` element is comprised of two parts: the ". Status: " prefix, and the status itself.
    * The status portion of the string depends on the type of icon used. For example, an open Issue will use the phrase "Open". A merged Pull Request will use the phrase "Merged", etc.
  * The string is appended to the [ListItem root](#listitem-root)'s `aria-label`, after the ListItem's title string (and before the ListItem's metadata, if present). Note the following:
    * A period and a space is placed **before** the word "Status" and the rest of the `aria-label` value (`. Status`).
    * A colon and a space **before** the status itself (`: Merged`).
    * A period and a space **after** the status itself (`. `).
    * Combined, this will create an `aria-label` value that reads, `Fix tests. Status: Reopened.`.
    * This allows an assistive technology user to quickly know:
      * Each ListItem's concern, and then
      * The overall status of the ListItem's concern.

#### CI check status

CI check status communicates the state of a PR. They are **not decorative**.

CI check status can include, but are not limited to indicating:

* Success (all checks passed),
* Failure (one or more checks did not pass),
* In progress (one or more checks are running),
* Etc.

##### General behavior

Status check visuals that utilize animation (such as in progress) should follow existing behavior for a user's expressed desire for a reduced motion experience.

##### DOM declarations for CI check leading visuals

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}: {Status: Success}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
        <div>
          <svg aria-hidden="true" focusable="false">
            <!-- SVG internals code -->
          </svg>
          <span
            id="uuid-list-view-node-1-status"
            class="sr-only">
            Status: In progress.
          </span>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* Advice for overall structure and behavior matches guidance specified in [DOM declarations for status icon leading visuals](#dom-declarations-for-status-icon-leading-visuals), with the following changes:
  * The Octicon is replaced with the SVG used for the CI check's in progress indicator.
  * The message portion of the `span` with `sr-only` declared on it and the `aria-label` is changed to one of the following phrases depending on the type of CI status:
    * Failing
    * In progress
    * Success
  * Combined, this will create an `aria-label` value that reads, `Fix tests. Status: In progress.`.

#### Branded logos and avatars

Branded logos help a user quickly visually scan a ListView to identify organizations, services, and users out of a list. They are **decorative**.

Sample branded logos and avatars include, but are not limited to indicating:

* Organizations (ex: Mozilla),
* Services (ex: Azure),
* Users (ex: six7),
* Etc.

##### General behavior

This leading visual treatment should **only** be used when the logo or avatar is redundant content.

For example, an avatar of `@six7` is used for the leading visual, and the ListItem title is "Jan Six". The title provides the necessary information, contextually making the image's function repetitive, and therefore decorative.

##### DOM declarations for branded logos and avatars

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
        <div>
          <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><!-- Octicon SVG internal code --></svg>
          <span
            id="uuid-list-view-node-1-status"
            class="sr-only">
            Status: Open.
          </span>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* Advice for overall structure and behavior matches guidance specified in [DOM declarations for status icon leading visuals](#dom-declarations-for-status-icon-leading-visuals), with the following changes:
  * The `span` with a class of `sr-only` declared on it is removed.
  * The leading visual uses either an inline `svg` declaration or an `img` element.
    * If inline SVG is used, `aria-hidden="true"` is declared on the `svg` element.
    * If an `img` element is used, `alt=""` is declared on it. Note that there is no space between the opening and closing quotes.
    * These two treatments will mark inline SVG and `img` elements as decorative, respectively.
  * Combined, this will create an `aria-label` value that reads, `@six7.`.

#### Generic icons

Generic icons are a fallback leading visual type. They should be used only if the previous use cases don't meet a component author's content needs. They are **decorative**.

Sample generic icons include, but are not limited to indicating:

* Project boards,
* Shields,
* Codespaces,
* Etc.

##### DOM declarations for generic icons

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
        <div>
          <!-- Image or SVG -->
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* Advice for overall structure and behavior matches guidance specified in [DOM declarations for status icon leading visuals](#dom-declarations-for-status-icon-leading-visuals), with the following changes:
  * The `span` with a class of `sr-only` declared on it is removed.
  * The leading visual uses either an inline `svg` declaration or an `img` element.
    * If inline SVG is used, `aria-hidden="true"` is declared on the `svg` element.
    * If an `img` element is used, `alt=""` is declared on it. Note that there is no space between the opening and closing quotes.
    * These two treatments will mark inline SVG and `img` elements as decorative, respectively.
  * Combined, this will create an `aria-label` value that reads, `Cybercats backlog.`.

### ListItem new/unread activity indicator

A small blue dot is used to indicate the presence of a new ListItem, or activity that has occured within the content that [the ListItem's primary action links to](#dom-declarations-for-a-listitem-title-link).

The blue dot needs a mechanism to communicate its purpose for users who cannot percieve it. This mechanism needs to be able to be discovered in the ListItem itself, as well as having its presence announced when navigating the ListView as an interactive list.

In the following code example, the new/unread activity indicator will be placed in the leading visual area, to match the Issues list design.

If the visual design places the new/unread activity indicator in another area, its placement within the code should reflect the intended reading order. The `aria-live` order should remain unaffected, as it communicates order of priority when quickly navigating through content.

#### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}: {Status: Open}. New activity.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
        <div>
          <!-- Image or SVG -->
          <div>
            <span class="sr-only">New activity.</span>
          </div>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* Advice for overall structure and image used for the [leading visual](#listitem-leading-visual) area remains largely unchanged, with the following changes:
  * A `div` is inserted after the image as a sibling element.
    * The `div` is used to position and style the blue dot.
  * A `span` with a declaration of `class="sr-only" is placed as a child inside the `div\`.
  * The `span` element contains a string of text that reads, "New activity."
* The ListItem parent `li` element's `aria-label` string has "New activity." added to it.
  * The "New activity." string should be placed
    1. <strong>After</strong> the ListItem title, as well as after the status (if present), and
    2. <strong>Before</strong> indicating the presence of [secondary info and actions](#listitem-secondary-info-and-actions)
       (if present).

### ListItem trailing badge

This subcomponent is **optional**.

ListItem trailing badges are conditionally applied to individual ListItems in a ListView component instance. Trailing badges **are not** labels, we allow an exception
to this rule for the Issues Experience team but this is not recommended. Please contact the Shared Components team or accessibility if you think your use case applies.

The logic that leads to a ListItem trailing badge being applied to a ListItem is beyond the scope of this component API, and should be determined by component authors on a per-component instance basis.

A ListItem can only have **one** trailing badge. The type of badge utilized depends on the content needs of the overall page/view the ListView component is placed in.

ListItem trailing badges **are not** decorative. Because of this, their content **must** be included in assistive technology announcements.

A trailing badge is a text treatment that helps a user quickly scan ListItems to determine important information about the ListItem itself. Trailing badge content can include, but is not limited to indicating:

* A critical security alert,
* A secrets warning indicator,
* Etc.

##### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
          <div>
            <span class="sr-only">: </span>
            <span>Critical</span>
          </div>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` element is placed immediately **after** the closing heading element.
  * This is a **suggestion** for how to control layout flow of the ListItem's title and trailing badge.
* A `span` with a declaration of `class="sr-only` is added as the first child of the `div` element.
  * The string ": " is added to the `span`.
  * This provides a pause between the end of the ListItem title announcement and the start of the trailing badge announcement.
* Another `span` element is added after the previous `span` element.
  * This represents what the [Label component](https://primer.style/react/Label) ultimately renders.
  * The Label's string is component author-determined.
  * The Label's variant is component author-determined.

### ListItem metadata

This subcomponent is **optional**.

ListItem metadata helps to explain the overall state and status of the list item it is associated with. It can be a mixture of static and interactive content.

The logic that generates ListItem metadata is beyond the scope of this component API, and should be determined by component authors on a per-component instance basis.

ListItem data **is not** required to be the same for every ListItem, if the individual ListItem's metadata criteria does not meet the requirements other ListItem metadata have. For example, a ListItem will not display "last updated" information if it has not been editing past its initial creation event.

ListItem metadata can include, but is not limited to indicating:

* Issue number,
* Author,
* Creation date,
* Associated repo,
* Last modified date,
* Percentage of tasks completed,
* Passing CI checks,
* Requested changes,
* Mention author,
* Commit hash,
* Virtual machine core count, RAM total, and hard drive space
* Subscription ID,
* Membership status,
* Country,
* Secret file name and line number,
* Branch name,
* GitHub user name,
* Etc.

The accessibility of the actual metadata content and subcomponents utilized is beyond the scope of this component, and should be addressed on a per-instance basis.

This guidance handles how to add the overall placement of the metadata content in an accessible and intuitive way.

##### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}. More info available.">
      <div>
        <div>
          <hX id="uuid-list-view-node-1-title">
            <a
              id="uuid-list-view-node-1-link"
              href="/path/to/resource/">{listitem title}</a>
          </hX>
        </div>
        <!-- ListItem leading visual -->
        <div>
          <p>
            #6215 · <a href="#">six7</a> created 2 days ago in <a href="">organization/repo</a>
          </p>
        </div>
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* The `li`'s `aria-label` is updated to have the string " More info available." appended to it.
  * Note the space before the word "More".
  * This informs a user navigating quickly through the ListView that metadata is available to be read, after the ListItem's title and status are announced.
* A `div` is added after the `div` used for the [ListItem leading visual](#listitem-leading-visual).
  * This DOM order is significant and ensures the leading visual status, if present, is read before the metadata when exploring the ListItem construct with assistive technology.
* A `p` element is placed inside the `div` element as the first child.
* The `p` element contains all metadata content specified by the component instance author.
  * Sample Issue markup has been provided as an example of how static and interactive content are co-mingled.

### ListItem secondary info and actions

This subcomponent is **optional**. If a ListItem does not have secondary info or actions as part of its content requirements a more appropriate component should be utilized in place of ListView.

The order of ListItem secondary info and actions is up to the component author to determine. The sole exception is the location of [overflow actions](#listitem-overflow-actions), provided they are used.

Secondary ListItem info and actions allow a user to quickly determine information about, and take action on different aspects of a ListItem.

ListItem secondary actions are different than [ListItem metadata](#listitem-metadata) in that they represent shortcut actions that can modify aspects of the ListItem, including its metadata. ListItem metadata **cannot** be modified by taking action on content in the ListItem metadata area, only by:

1. Taking action on the secondary actions,
2. Manipulating controls in the destination page/view linked to in the ListItem's title's link,
3. Manipulating controls in a Tasklist, or
4. Manipulating controls in Project, or other related project management feature.

The logic that specifies the exact suite of ListItem secondary actions is beyond the scope of this component API, and should be determined by component authors on a per-component instance basis.

ListItem secondary actions **are required to be the same** for every ListItem in a ListView component instance, but the content of the actions themselves may vary. An example of this is every ListItem supporting showing associated labels, but the labels for each ListItem vary.

The exception of showing a secondary action is if the individual ListItem's status means it cannot display the relevant action. An example of this is if all ListItems are set to show a tally the total number of comments, but an individual ListItem does not have comments.

ListItem secondary can include, but is not limited to indicating:

* Labels,
* Associated Pull Requests,
* Total number of reactions tally,
* Total number of comments tally,
* Assignees,
* Overflow actions,
* Etc.

#### DOM declarations

Following is guidance for the container used to place secondary actions in. Sample secondary actions will be specified afterwards to serve as a guide for how other content can be incorporated.

The ListItem secondary info and actions container **cannot** use the ActionBar component due to conflicting keyboard interactivity and assistive technology announcements.

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}. Actions available.">
      <div>
        <!-- ListItem title -->
        <!-- ListItem leading visual -->
        <!-- ListItem metadata -->
      </div>
      <div id="uuid-list-view-node-1-actions">
        <!-- ListItem secondary actions -->
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* The `li`'s `aria-label` is updated to have the string " Actions available." appended to it.
  * Note the space before the word "Actions".
  * This informs a user navigating quickly through the ListView that actions are available to be used, after the ListItem's title and status are announced.
  * If both metadata and secondary actions are present the string is updated to use the string " More info and actions available." instead.
* A `div` is added as an immediate sibling of the `div` used to contain the ListItem title, leading visual, metadata, etc.
  * Both `div`s are child elements of the parent `div` used in the [ListItem root](#listitem-root).
  * This is a **suggestion** for how to control layout flow of the ListItem's secondary actions.
  * An `id` with a UUID prefix is added to the `div` element.
    * The suffix of `-list-view-container-title` is a suggestion for a potential naming scheme and not a requirement.
* **Note:** Secondary actions **are not** enumerated using lists (`ul` or `ol`) and list items (`li`). This is a deliberate attempt to help ensure screen reader users navigating using list items are not confused by the nested list content.

#### General advice for disambiguating interactive controls

Interactive controls within a ListItem need a way to be disambiguated. This is especially relevant in interaction modes where a user is navigating through a list of links or buttons. Here, the context of the surrounding content is lost.

This documentation provides general guidance for how to accomplish this. Considerations for Labels, Assignees, and More actions overflow controls will be provided following this advice, as they are high-use patterns with specific content needs.

```html
<a href=""> Function: {title} </a>

<button type="button">Function: {title}</button>
```

The control's name consists of two parts:

1. The function of the control, and
2. The ListItem title.

The function portion communicates what the control will accomplish when activated (ex: linking to a commit via its hash).

The colon provides a pause in the announcement, and the `{title}` serves as the disambiguating portion of the control's accessible name.

The placement of the function portion first is intentional. It communicates **purpose** first, and then the ListItem title communicates **what** the functionality will be applied to. In addition to disambiguating the controls this naming scheme also allows users who are used to the construct to navigate and take action more quickly and efficiently.

#### Labels

This is **optional**.

This subcomponent displays contextual ListItem label metadata scoped to the Repository it is placed in. It may also allow a user to navigate to a ListView that contains all ListItems with the same associated label.

This subcomponent uses the following Primer components:

* [Label](https://primer.style/react/Label)
* [LabelGroup](https://primer.style/react/LabelGroup)

##### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}.">
      <div>
        <!-- ListItem title -->
        <!-- ListItem leading visual -->
        <!-- ListItem metadata -->
      </div>
      <div id="uuid-list-view-node-1-actions">
        <!-- Additional ListItem secondary actions -->
        <div>
          <p class="sr-only">Labels:</p>
          <div>
            <span>Bug</span>
            <span>Epic</span>
            <span>Feature</span>
          </div>
        </div>
        <!-- Additional ListItem secondary actions -->
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added as an immediate child of the parent `div` element.
  * This is a **suggestion** for how to control layout flow of this secondary action area.
* A `p` element with a declaration of `class="sr-only"` is placed immediately before the label container element.
  * The `p` element's string is "Labels:"
  * A heading is intentionally **not** used to keep navigation between ListItems via headings more efficient.
* A `div` element is used as the label container element.
  * The Primer [LabelGroup](https://primer.style/react/LabelGroup) component can be used to contain the labels and handle responsive overflow in an accessible way. The `<LabelGroup>` component ultimately renders a `div` to the DOM.
* A `span` element is used for each label.
  * The Primer [Label](https://primer.style/react/Label) can be used to render the labels. Each `<Label>` component ultimately renders a `span` to the DOM.
  * Label color is up to the component author to specify.
* **Note:** Labels placed inside the LabelGroup **should not** be enumerated using lists (`ul` or `ol`) and list items (`li`). The Primer components currently do not render this markup, but should be changed in this component if that ever updates.
  * A declaration of `role="presentation"` on the parent list element (`ul` or `ol`) can address this.

#### Comment tally

This is **optional**.

This subcomponent displays a tally of the number of comments on the destination a ListItem refers to. The following guidance can also be used for treatments such as the tally of associated Pull Requests, and emoji reactions.

This subcomponent uses the [Octicons](https://primer.style/react/Octicon) Primer component.

##### DOM declarations

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}. Actions available.">
      <div>
        <!-- ListItem title -->
        <!-- ListItem leading visual -->
        <!-- ListItem metadata -->
      </div>
      <div id="uuid-list-view-node-1-actions">
        <!-- Additional ListItem secondary actions -->
        <div>
          <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><!-- Octicon SVG internal code --></svg>
          <p>{x}<span class="sr-only"> comments: {title}</span></p>
        </div>
        <!-- Additional ListItem secondary actions -->
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added as an immediate child of the parent `div` element.
  * This is a **suggestion** for how to control layout flow of this secondary action area.
* SVG is used for the icon to visually communicate what the tally is counting.
  * Declarations of `aria-hidden="true"` and `focusable="false"` are used to mark the SVG as decorative.
  * A [CommentIcon](https://primer.style/design/foundations/icons/comment-16) Octicon can be used for the icon.
* A `p` element is placed as an immediate sibling element after the Octicon.
  * `{x}` is a placeholder for the total number of comments.
  * A `span` element with a declaration of `class="sr-only"` is added immediately after the comment total placeholder.
  * The string " comments: " is then added inside the `span`. Note the spaces before the word "comments" and after the colon.
  * `{title}` is a placeholder for the [ListItem title](#listitem-title), and is placed after the second space.

#### ListItem assignees

This is **optional**.

This subcomponent shows the assinee(s) of the current ListItem, as well as providing a mechanism to quickly access their GitHub profile.

This subcomponent uses the following Primer components:

* [Avatar](https://primer.style/react/Avatar)
* [AvatarStack](https://primer.style/react/AvatarStack)

##### DOM declarations for when there's a single assignee

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}. Actions available.">
      <div>
        <!-- ListItem title -->
        <!-- ListItem leading visual -->
        <!-- ListItem metadata -->
      </div>
      <div id="uuid-list-view-node-1-actions">
        <!-- Additional ListItem secondary actions -->
        <div>
          <p class="sr-only">Assignee:</p>
          <a href="https://github.com/{username}/">
            <Avatar
              alt="{username}"
              src="/path/to/avatar/" />
        </div>
        <!-- Additional ListItem secondary actions -->
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added as an immediate child of the parent `div` element.
  * This is a **suggestion** for how to control layout flow of this secondary action area.
* A `p` element with a declaration of `class="sr-only"` is placed immediately before the Primer [Avatar](https://primer.style/react/Avatar) component.
  * The `p` element's string is "Assignee:"
  * A heading is intentionally **not** used to keep navigation between ListItems via headings more efficient.
* An anchor element wraps the Avatar component, with a `href` value that points to the user's profile page `{username}` is used as a placeholder for this value.
* The Avatar Primer component is placed inside the anchor element to generate the visual avatar of the assignee.
  * The `alt` value is set to the assignee's GitHub username (ex: `six7`).
  * The `src` value is set to the assignee's current avatar image (ex: `https://avatars.githubusercontent.com/u/4548309?v=4`).

##### DOM declarations for when there's multiple assignees

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}. Actions available.">
      <div>
        <!-- ListItem title -->
        <!-- ListItem leading visual -->
        <!-- ListItem metadata -->
      </div>
      <div id="uuid-list-view-node-1-actions">
        <!-- Additional ListItem secondary actions -->
        <div>
          <p class="sr-only">Assignees:</p>
          <AvatarStack>
            <a href="https://github.com/{username}/">
              <Avatar
                alt="{username}"
                src="/path/to/avatar/" />
            </a>
            <a href="https://github.com/{username}/">
              <Avatar
                alt="{username}"
                src="/path/to/avatar/" />
            </a>
            <a href="https://github.com/{username}/">
              <Avatar
                alt="{username}"
                src="/path/to/avatar/" />
            </a>
          </AvatarStack>
        </div>
        <!-- Additional ListItem secondary actions -->
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* The guidance for the previous single assignee subsection applies, with the following exceptions:
  * The string of the preceding `p` element uses "Assignees:".
  * Each assignee has their own anchor element wrapping an Avatar instance.
  * All assignees are wrapped in an AvatarStack component.
* Note that this subcomponent should also not render to the DOM using a list and list items, matching the note in the DOM declarations portion of the [ListItem secondary actions and info](#listitem-secondary-actions-and-info) subsection.

#### ListItem overflow actions

This is **required**, and uses the following Primer components:

* [ActionMenu](https://primer.style/react/ActionMenu)
* [Octicons](https://primer.style/react/Octicon)

This subcomponent appears in one of two ways:

1. When there are lower-priority actions shown at **all** viewport widths, and
2. When there are more secondary info and actions than there is available horizontal viewport space.

##### 1. Lower-priority actions shown at **all** viewport widths

In this scenario, a component author deliberately adds the overflow actions as part of the design.

The component that contains the overflow container can be an [ActionMenu](https://primer.style/react/ActionMenu), a [SelectPanel](https://primer.style/design/components/selectpanel/react), another applicable Primer component, or an author-provided custom subcomponent.

##### 2. More secondary info and actions than available horizontal viewport space

In this scenario, an ActionMenu subcomponent is used as a way to ensure all ListItem secondary actions can be accessed and used regardless of viewport size.

ListItem actions that **cannot visually fit into a narrower viewport** are automatically added to an ActionMenu subcompnent as menu list items (`<ActionList.Item>`).

For example, a ListItem has a list of labels, a comment tally, and an assignee.

* On a wide viewport, all three items are able to be displayed because there is enough horizontal space.
* On a more narrow viewport, the assignee and comment tally are moved into an ActionMenu, but the list of labels still remains.
* On a even more narrow viewport, all three items are moved into an ActionMenu.

##### Overflow behavior

There are two ways overflow behavior is handled, depending on the two prior situations:

1. If lower-priority actions are shown at all viewport widths, ListItem actions that cannot visually fit into a narrower viewport are added to the existing overflow subcomponent as options. This is to **avoid having two overflow controls per ListItem**.

* Here, it is **the component author's responsibility** to ensure that the overflow actions are allowed as child elements in the parent overflow subcomponent. This includes assistive technology support.

2. If an overflow subcomponent is automatically added when the viewport can't display all ListItem secondary actions, the ActionMenu is automatically created by the component.

* Here, ListItem actions that cannot visually fit into a narrower viewport are also added to the existing overflow subcomponent as options.

##### DOM declarations

The following declarations demonstrate a situation where the ActionMenu is being automatically provided by the component:

```html
<div id="uuid-list-view-container">
  <!-- ListView container title -->
  <!-- ListView metadata -->
  <!-- ListView announcements -->
  <!-- ListView parent ul -->
    <li
      id="uuid-list-view-node-1"
      tabindex="0"
      aria-label="{listitem title}. Actions available.">
      <div>
        <!-- ListItem title -->
        <!-- ListItem leading visual -->
        <!-- ListItem metadata -->
      </div>
      <div id="uuid-list-view-node-1-actions">
        <!-- Additional ListItem secondary actions -->
        <div>
          <ActionMenu>
            <ActionMenu.Button>
              <svg
                aria-hidden="true"
                focusable="false">
                <!-- KebabHorizontalIcon Octicon SVG code -->
              </svg>
              <span class="sr-only">Actions: {title}</span>
            </ActionMenu.Button>
            <ActionMenu.Overlay>
              <ActionList>
                <ActionList.Item>Action 1</ActionList.Item>
                <ActionList.Item>Action 2</ActionList.Item>
                <ActionList.Item>Action 3</ActionList.Item>
              </ActionList>
            </ActionMenu.Overlay>
          </ActionMenu>
        </div>
        <!-- Additional ListItem secondary actions -->
      </div>
    </li>
    <!-- Additional ListItems as needed -->
  </ul>
</div>
```

* A `div` is added as an immediate child of the parent `div` element.
  * This is a **suggestion** for how to control layout flow of this secondary action area.
* `<ActionMenu.Button>` contains two declarations:
  1. A SVG declaration that uses `aria-hidden="true"` and `focusable="false` to mark it as decorative. The SVG should use the [KebabHorizontalIcon](https://primer.style/design/foundations/icons/kebab-horizontal-16) Octicon.
  2. A visually hidden `span` whose string is "Actions: title". `title` is a placeholder for the component author-supplied string used for [the ListItem title](#listitem-title).
* Each `<ActionList.Item>`'s string value <strong>must</strong> concisely and accurately describe the action it represents.
  * If ActionList Items use leading visual icons they must be marked as decorative. Use the following techniques:
    * If the icon is a SVG, apply declarations of `aria-hidden="true"` and `focusable="false` on the `svg` element.
    * If the icon is a raster image (PNG, JPG, etc.), use a declaration of `alt=""` on the `img` element.
