"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["code-scanning-alert-dismissal"],{84353:(e,t,r)=>{var s=r(72245),i=r(74848),o=r(16255),a=r(85349),n=r(55847),l=r(75177),d=r(73729),c=r(87330),u=r(89015),m=r(66889),p=r(43257),h=r(17909),_=r(61043),f=r(65481),g=r(59857),b=r(96540),x=r(28784);function R({alertClosureReasons:e,closeReasonDetails:t,number:r,path:s,refNames:R=[],prReviewThreadID:y}){let[v,j]=(0,b.useState)(!1),[E,S]=(0,b.useState)(""),[w,A]=(0,b.useState)(null),C=e=>{S(e.target.value)};(0,b.useEffect)(()=>{let e=document.querySelector(".js-alert-actions-portal-root");e&&((0,o.c)(e,"alert-actions-portal-root"),A("alert-actions-portal-root"))},[]);let D=()=>{j(!1),S(""),k(""),O(!1)},[N,k]=(0,b.useState)(""),[T,O]=(0,b.useState)(!1),P=async e=>{e.preventDefault();let t=new FormData;for(let e of(t.set("_method","put"),t.set("reason",E),t.set("resolution_note",N),r&&t.append("number[]",r.toString()),R))t.append("ref_names_b64[]",e);y&&t.set("pull_request_review_thread",y.toString()),(await (0,x.DI)(s,{method:"POST",body:t})).ok?(D(),window.location.reload()):O(!0)},I={role:"dialog","aria-modal":"true",style:{zIndex:2147483647}};return w&&(I.portalContainerName=w),(0,i.jsxs)(a.T,{open:v,onOpen:()=>j(!0),onClose:D,width:"medium",focusZoneSettings:{disabled:!0},renderAnchor:e=>(0,i.jsx)(n.Q,{...e,size:"small",trailingVisual:g.TriangleDownIcon,"data-testid":"code-scanning-alert-dismissal-toggle-button",children:"Dismiss alert"}),overlayProps:I,children:[(0,i.jsxs)(l.A,{sx:{display:"flex",py:1,px:2,alignItems:"center",borderBottom:"1px solid",borderColor:"border.muted"},children:[(0,i.jsx)(d.A,{as:"h2",sx:{fontSize:0,flexGrow:1},id:"dismissal_reason",children:"Select a reason to dismiss"}),(0,i.jsx)(c.K,{icon:g.XIcon,size:"small","aria-label":"Close",variant:"invisible",onClick:D,tooltipDirection:"sw"})]}),(0,i.jsxs)("form",{onSubmit:P,"data-testid":"code-scanning-alert-dismissal-form",children:[(0,i.jsx)(u.A,{name:"Alert Dismissal Reasons",sx:{px:3,py:2},"aria-labelledby":"dismissal_reason",children:Object.entries(e).map(([r,s],o)=>(0,i.jsxs)("div",{"data-testid":"code-scanning-alert-dismissal-reason",children:[(0,i.jsxs)(m.A,{sx:{fontSize:0,p:1},children:[(0,i.jsx)(p.A,{name:"reason",value:r,sx:{fontSize:0},onChange:C}),(0,i.jsx)(m.A.Label,{sx:{fontSize:0},children:s}),(0,i.jsx)(m.A.Caption,{sx:{display:"block"},children:t[r]})]}),o!==Object.keys(e).length-1&&(0,i.jsx)(h.l.Divider,{})]},r))}),""!==E&&(0,i.jsxs)("div",{"data-testid":"code-scanning-alert-dismissal-comment",children:[(0,i.jsxs)(m.A,{children:[(0,i.jsx)(m.A.Label,{sx:{fontSize:0,marginY:1,px:3,py:2,width:"100%",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border.muted"},children:"Dismissal Reason"}),(0,i.jsx)(l.A,{sx:{px:3,width:"100%"},children:(0,i.jsx)(_.Ay,{rows:2,sx:{fontSize:0,display:"block"},onChange:e=>{k(e.target.value)},value:N,maxLength:280,placeholder:"Add a comment"})})]}),T&&(0,i.jsx)(f.A,{variant:"danger",sx:{m:2},children:"There was an issue dismissing the alert(s). Please try again."}),(0,i.jsxs)(l.A,{sx:{display:"flex",justifyContent:"flex-end",p:3},children:[(0,i.jsx)(n.Q,{onClick:D,sx:{mr:2},children:"Cancel"}),(0,i.jsx)(n.Q,{variant:"primary",type:"submit",children:"Dismiss alert"})]})]})]})]})}try{R.displayName||(R.displayName="CodeScanningAlertDismissal")}catch{}(0,s.k)("code-scanning-alert-dismissal",{Component:R})},92536:(e,t,r)=>{r.d(t,{R:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(e,t){let r=this.registrationEntries[e];r?r.resolve?.(t):this.registrationEntries[e]={promise:Promise.resolve(t)}}getRegistration(e){var t;return(t=this.registrationEntries)[e]||(t[e]=new s),this.registrationEntries[e].promise}constructor(){this.registrationEntries={}}};let s=class Deferred{constructor(){this.promise=new Promise(e=>{this.resolve=e})}}},75014:(e,t,r)=>{r.d(t,{Mm:()=>o,QJ:()=>a,w8:()=>i});var s=r(96540);function i(e){return((0,s.useEffect)(()=>{let t=e?.anchor;t&&("disabled"in t&&(t.disabled=!1),t.classList.remove("cursor-wait"))},[e]),e)?{reactPartialAnchor:{__wrapperElement:e}}:{}}function o(e){let t=(0,s.useRef)(e.__wrapperElement.anchor||null),[r,i]=(0,s.useState)(!1),o=(0,s.useCallback)(()=>{i(!r)},[r,i]);return(0,s.useEffect)(()=>{t.current&&(t.current.setAttribute("aria-expanded",r.toString()),t.current.setAttribute("aria-haspopup","true"))},[t,r]),a(e,o),{ref:t,open:r,setOpen:i}}function a(e,t){let r=(0,s.useRef)(e.__wrapperElement.anchor);(0,s.useEffect)(()=>{let e=r.current;if(e)return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[r,t])}},72245:(e,t,r)=>{r.d(t,{k:()=>d});let s=new(r(92536)).R;var i=r(74848),o=r(39595),a=r(24508),n=r(23235);let l=class ReactPartialElement extends a.H{async getReactNode(e){var t;let{Component:r}=await (t=this.name,s.getRegistration(t)),o=this.closest("react-partial-anchor");return(0,i.jsx)(n.c,{partialName:this.name,embeddedData:e,Component:r,wasServerRendered:this.hasSSRContent,ssrError:this.ssrError,anchorElement:o})}constructor(...e){super(...e),this.nameAttribute="partial-name"}};function d(e,t){s.register(e,t)}l=function(e,t,r,s){var i,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([o.p_],l)},23581:(e,t,r)=>{r.d(t,{A:()=>n});let{getItem:s,setItem:i,removeItem:o}=(0,r(74572).A)("localStorage"),a="REACT_PROFILING_ENABLED",n={enable:()=>i(a,"true"),disable:()=>o(a),isEnabled:()=>!!s(a)}},28784:(e,t,r)=>{function s(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:r})}function i(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},i=t?.body?JSON.stringify(t.body):void 0;return s(e,{...t,body:i,headers:r})}function o(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return s(e,{...t,headers:r})}function a(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return i(e,{...t,headers:r})}r.d(t,{DI:()=>s,QJ:()=>o,Sr:()=>a,lS:()=>i})},23235:(e,t,r)=>{r.d(t,{c:()=>h});var s=r(74848),i=r(96540),o=r(36165),a=r(45588),n=r(49107),l=r(47767),d=r(59840);function c({children:e,history:t}){let[r,o]=(0,i.useState)({location:t.location});return(0,d.m)(()=>t.listen(o),[t]),(0,s.jsx)(l.Ix,{location:r.location,navigator:t,children:e})}try{c.displayName||(c.displayName="PartialRouter")}catch{}var u=r(17857),m=r(51261),p=r(75014);function h({partialName:e,embeddedData:t,Component:r,wasServerRendered:l,ssrError:d,anchorElement:h}){let _=i.useRef(),f=globalThis.window;_.current||(_.current=f?(0,m.z)({window:f}):(0,a.sC)({initialEntries:[{pathname:"/"}]}));let g=_.current,b=(0,p.w8)(h);return(0,s.jsx)(o.U,{appName:e,wasServerRendered:l,children:(0,s.jsx)(n.Q,{history:g,routes:[],children:(0,s.jsxs)(c,{history:g,children:[(0,s.jsx)(r,{...t.props,...b}),(0,s.jsx)(u.h,{ssrError:d})]})})})}try{h.displayName||(h.displayName="PartialEntry")}catch{}},24508:(e,t,r)=>{r.d(t,{H:()=>ReactBaseElement});var s=r(74848),i=r(39595),o=r(5338),a=r(96540),n=r(23581),l=r(79461),d=r(51528);function c(e,t,r,s){var i,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}let u=RegExp("Minified React error #(?<invariant>\\d+)");let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let e=this.embeddedData?.textContent;if(!e)throw Error(`No embedded data provided for react element ${this.name}`);return e}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){if(!this.reactRoot)throw Error("No react root provided");let e={createRoot:o.H,hydrateRoot:o.c};n.A.isEnabled()&&(e=await this.getReactDomWithProfiling());let t=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,i=await this.getReactNode(t),l=(0,s.jsx)(a.StrictMode,{children:i});if(r&&this.logSSRError(r),this.hasSSRContent){let t=this.querySelector('style[data-styled="true"]');t&&document.head.appendChild(t),this.root=e.hydrateRoot(this.reactRoot,l,{onRecoverableError:e=>{if(!(e instanceof Error))return;let t=u.exec(e.message),r=String(t?.groups?.invariant);(0,d.i)({incrementKey:"REACT_HYDRATION_ERROR",incrementTags:{appName:this.name,invariant:r}})}}),t&&requestIdleCallback(()=>{t.parentElement?.removeChild(t)})}else this.root=e.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,87335,19))}logSSRError(e){if(l.z[e])return console.error("SSR failed with an expected error:",l.z[e]);try{let t=JSON.parse(e),r=function(e){if(!e.stacktrace)return"";let t="\n ";return e.stacktrace.map(e=>{let{function:r,filename:s,lineno:i,colno:o}=e,a=`${t} at ${r} (${s}:${i}:${o})`;return t=" ",a}).join("\n")}(t);console.error("Error During Alloy SSR:",`${t.type}: ${t.value}
`,t,r)}catch{console.error("Error During Alloy SSR:",e,"unable to parse as json")}}};c([i.aC],ReactBaseElement.prototype,"embeddedData",void 0),c([i.aC],ReactBaseElement.prototype,"ssrError",void 0),c([i.aC],ReactBaseElement.prototype,"reactRoot",void 0);try{u.displayName||(u.displayName="REACT_INVARIANT_ERROR_REGEX")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_primer_react_lib-esm_AnchoredOverlay_AnchoredOverlay_js-node_modules_pri-f9ff42","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-682c2c"],()=>t(84353)),e.O()}]);
//# sourceMappingURL=code-scanning-alert-dismissal-2aca22e1f204.js.map