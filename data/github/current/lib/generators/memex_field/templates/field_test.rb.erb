# typed: true
# frozen_string_literal: true

require "test_helper"

class MemexProjectColumn<%= class_name %>Test < GitHub::TestCase
  fixtures do
    # TODO: Set up any fixtures you need for your field here.
    @item = create(:memex_project_item)
    # @<%= file_name %>_field = # TODO: Set up your field here.
  end

  context ".elasticsearch_mapping" do
    test "returns the correct multi-field configuration" do
      assert_equal(
        {
          # TODO: Set up the correct mapping for your field here.
        },
        @<%= file_name %>_field.class.elasticsearch_mapping.to_hash
      )
    end
  end

  context "#seed_elasticsearch_document" do
    test "returns a valid seed value for the <%= file_name %> field" do
      context = Elastomer::Interfaces::Document::MemexProjectItem::SeedContext.new(require_non_nil_value: true)
      assert_equal "TODO", @<%= file_name %>_field.seed_elasticsearch_document(context)
    end
  end

  context "#elasticsearch_document" do
    test "returns expected document fragment for the <%= file_name %> field" do
      assert_equal(
        "TODO",
        @<%= file_name %>_field.elasticsearch_document(@item)
      )
    end
  end
end
