<%# erblint:counter DeprecatedComponentsCounter 1 %>
<% page_info title: "Email unlink", class: "page-two-factor-auth session-authentication" %>

<div class="two-factor-container">

  <div id="login" class="auth-form px-3">

    <%= render "shared/flash" %>

    <div class="auth-form-header p-0">
      <h1>Email unlink</h1>
    </div>

    <div class="my-3 d-flex flex-row flex-items-center text-center">
      <span class="d-flex flex-items-center flex-justify-center circle color-bg-accent-emphasis" style="width:28px; height: 28px;"><%= primer_octicon(:mail, color: :on_emphasis) %></span>
      <hr class="flex-auto color-border-accent-emphasis">
      <span class="d-flex flex-items-center flex-justify-center circle color-bg-accent-emphasis" style="width:28px; height: 28px;"><%= primer_octicon(:verified, color: :on_emphasis) %></span>
      <hr class="flex-auto color-border-accent-emphasis">
      <span class="d-flex flex-items-center flex-justify-center circle color-bg-danger" style="width:28px; height: 28px;"><%= primer_octicon(:x, color: :danger) %></span>
    </div>

    <div class="auth-form-body mt-3">
      <p>
        The email <b><%= email %></b> was not able to be unlinked from the account <b><%= display_login %></b>.
      </p>

      <br>
      <p>
        No changes to the account or its emails have been made.
      </p>

      <%= form_tag email_unlink_submit_path do %>
        <%= render Primer::ButtonComponent.new(test_selector: "email-unlink-retry-button", scheme: :danger, block: true, "data-disable-with": "Retry", type: :submit) do %>Retry<% end %>
      <% end %>
    </div>

    <div class="border pl-3 pr-3 pt-3 pb-2 mt-4 rounded-2 text-center">
      <p><em>Having trouble unlinking your email?</em></p>
      <p><%= link_to "Return to account recovery", "#{GitHub.help_url}/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-your-personal-account/unlinking-your-email-address-from-a-locked-account", class: "Link--inTextBlock" %></p>
    </div>
  </div>
</div>
