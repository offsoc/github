{"version":3,"file":"chunk-app_components_organizations_settings_codespaces_policy_form_constraint_row_max-value-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/@github/mini-throttle/dist/decorators.js","node_modules/@github/mini-throttle/dist/index.js","app/components/organizations/settings/codespaces_policy_form/constraint_row/max-value-element.ts"],"sourcesContent":["import { debounce as db, throttle as th } from './index';\nexport function throttle(wait = 0, opts = {}) {\n    return (proto, name, descriptor) => {\n        if (!descriptor || typeof descriptor.value !== 'function') {\n            throw new Error('debounce can only decorate functions');\n        }\n        const fn = descriptor.value;\n        descriptor.value = th(fn, wait, opts);\n        Object.defineProperty(proto, name, descriptor);\n    };\n}\nexport function debounce(wait = 0, opts = {}) {\n    return (proto, name, descriptor) => {\n        if (!descriptor || typeof descriptor.value !== 'function') {\n            throw new Error('debounce can only decorate functions');\n        }\n        const fn = descriptor.value;\n        descriptor.value = db(fn, wait, opts);\n        Object.defineProperty(proto, name, descriptor);\n    };\n}\n","export function throttle(callback, wait = 0, { start = true, middle = true, once = false } = {}) {\n    let innerStart = start;\n    let last = 0;\n    let timer;\n    let cancelled = false;\n    function fn(...args) {\n        if (cancelled)\n            return;\n        const delta = Date.now() - last;\n        last = Date.now();\n        if (start && middle && delta >= wait) {\n            innerStart = true;\n        }\n        if (innerStart) {\n            innerStart = false;\n            callback.apply(this, args);\n            if (once)\n                fn.cancel();\n        }\n        else if ((middle && delta < wait) || !middle) {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                last = Date.now();\n                callback.apply(this, args);\n                if (once)\n                    fn.cancel();\n            }, !middle ? wait : wait - delta);\n        }\n    }\n    fn.cancel = () => {\n        clearTimeout(timer);\n        cancelled = true;\n    };\n    return fn;\n}\nexport function debounce(callback, wait = 0, { start = false, middle = false, once = false } = {}) {\n    return throttle(callback, wait, { start, middle, once });\n}\n","import {controller, target} from '@github/catalyst'\nimport {debounce} from '@github/mini-throttle/decorators'\n\nfunction hideElement(element: HTMLElement | null): void {\n  if (element !== null) {\n    element.hidden = true\n  }\n}\n\nfunction showElement(element: HTMLElement | null): void {\n  if (element !== null) {\n    element.hidden = false\n  }\n}\n\n@controller\nclass MaxValueElement extends HTMLElement {\n  @target maxValueDisplay: HTMLSpanElement\n  @target maxValueInput: HTMLInputElement\n  @target maxValueInputUnit: HTMLSpanElement\n  @target maxValueInputFormGroup: HTMLDivElement\n  @target maxValueSaveButton: HTMLButtonElement\n  @target maxValueValidationErrorMsg: HTMLDivElement\n  @target editDetailsDropdown: HTMLDetailsElement\n\n  enforceMaxValueLength(event: Event): void {\n    const currentTarget = event.currentTarget as HTMLInputElement\n    if (currentTarget.value.length > currentTarget.maxLength) {\n      currentTarget.value = currentTarget.value.slice(0, currentTarget.maxLength)\n    }\n  }\n\n  toggleMaxValueSaveButton(event: Event): void {\n    const input = event.target as HTMLInputElement\n    const value = parseInt(input.value)\n    const isInvalid = value > parseInt(input.max) || value < parseInt(input.min)\n\n    this.maxValueSaveButton.disabled = isInvalid\n  }\n\n  closeDetailsDropdown(event: Event): void {\n    const button = event.target as HTMLElement\n\n    const dropdown = button.closest('.dropdown')\n    if (dropdown) {\n      dropdown.removeAttribute('open')\n    }\n  }\n\n  @debounce(400)\n  handleMaximumValueConstraintChange(event: Event): void {\n    const input = event.target as HTMLInputElement\n    const newMaximumValue = parseInt(input.value)\n    this.validateMaxMinValueLength(newMaximumValue, input)\n  }\n\n  validateMaxMinValueLength(value: number, input: HTMLInputElement): void {\n    if (value > parseInt(input.max) || value < parseInt(input.min)) {\n      this.toggleMaxValueError({showError: true})\n      return\n    }\n\n    this.toggleMaxValueError({showError: false})\n  }\n\n  toggleMaxValueError({showError}: {showError: boolean}): void {\n    if (showError) {\n      this.maxValueInputFormGroup.classList.add('errored')\n      showElement(this.maxValueValidationErrorMsg)\n      return\n    }\n\n    this.maxValueInputFormGroup.classList.remove('errored')\n    hideElement(this.maxValueValidationErrorMsg)\n  }\n\n  updateDisplayText(): void {\n    const newMaxValue = parseInt(this.maxValueInput.value)\n    const singularSuffix = this.maxValueDisplay.getAttribute('data-singular-suffix')\n    const pluralSuffix = this.maxValueDisplay.getAttribute('data-plural-suffix')\n\n    if (newMaxValue === 1) {\n      this.maxValueDisplay.textContent = `1 ${singularSuffix}`\n      this.maxValueInputUnit.textContent = singularSuffix\n    } else {\n      this.maxValueDisplay.textContent = `${newMaxValue} ${pluralSuffix}`\n      this.maxValueInputUnit.textContent = pluralSuffix\n    }\n  }\n\n  saveMaximumValueConstraintChange(): void {\n    const {value} = this.maxValueInput\n    const constraintName = this.maxValueInput.getAttribute('data-constraint-name')\n    this.dispatchEvent(new CustomEvent('commit', {detail: {value, constraintName}}))\n  }\n}\n"],"names":["debounce","wait","opts","proto","name","descriptor","value","fn","Object","defineProperty","throttle","callback","start","middle","once","timer","innerStart","last","cancelled","args","delta","Date","now","apply","cancel","clearTimeout","setTimeout","MaxValueElement","HTMLElement","enforceMaxValueLength","event","currentTarget","length","maxLength","slice","toggleMaxValueSaveButton","input","target","parseInt","isInvalid","max","min","maxValueSaveButton","disabled","closeDetailsDropdown","dropdown","button","closest","removeAttribute","handleMaximumValueConstraintChange","newMaximumValue","validateMaxMinValueLength","toggleMaxValueError","showError","element","maxValueInputFormGroup","classList","add","maxValueValidationErrorMsg","hidden","remove","updateDisplayText","newMaxValue","maxValueInput","singularSuffix","maxValueDisplay","getAttribute","pluralSuffix","textContent","maxValueInputUnit","saveMaximumValueConstraintChange","constraintName","dispatchEvent","CustomEvent","detail","controller"],"sourceRoot":""}