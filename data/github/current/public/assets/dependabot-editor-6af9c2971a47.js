"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["dependabot-editor"],{30824:(e,t,r)=>{var l=r(10692),n=r(42607);(0,r(67331).Z)(l.v),(0,n.R)(l.v)},42607:(e,t,r)=>{let l;r.d(t,{R:()=>p});var n=r(71088),o=r(63830),i=r(15237),s=r.n(i),a=r(21403),u=r(53712);let{Pass:d}=s();function h(e){return l.hint(e)}function p(e){l=new CodeMirrorAutocompleteHelper(e),(0,a.lB)(".CodeMirror",{add(e){let t=e.CodeMirror;t.setOption("hintOptions",{hint:h,completeSingle:!1}),t.setOption("extraKeys",{"Ctrl-Space":"autocomplete",Enter:()=>l.enter(t),.../Macintosh/.test(navigator.userAgent)&&{"Alt-Space":"autocomplete"}}),t.addKeyMap({Tab:e=>l.goToNextPlaceholder(e,e.getCursor()),Backspace:f}),t.on("change",e=>{if(l.lastCursor){let t=e.getCursor();(l.lastCursor.line!==t.line||l.lastCursor.ch!==t.ch)&&(l.lastCursor=t)}})}})}h.supportsSelection=!0;let CodeMirrorAutocompleteHelper=class CodeMirrorAutocompleteHelper{async hint(e){let t=e.getCursor(),r=e.getRange({line:0,ch:0},t);r=r.substring(0,r.length-e.getSelection().length);let l=await (0,n.nx)(e.getValue(),r,this.getRootRule,this.suggestionsForExpression);if(!l)return{list:[],from:s().Pos(t.line,t.ch),to:s().Pos(t.line,t.ch)};let o=s().Pos(t.line,t.ch),i=l.map(r=>{let{snippet:l,replace:n,displayText:i,description:a}=r,u=l.tokens[0],d=n?s().Pos(t.line,t.ch-n.length):s().Pos(t.line,t.ch);return{text:u,displayText:i,from:d,to:o,hint:()=>{e.replaceRange("",d,o),this.insertSnippet(e,l,!0)},render:e=>{let t=document.createElement("span");if(t.textContent=i,e.appendChild(t),a){let t=document.createElement("span");t.textContent=a,t.className="CodeMirror-hint-description pl-2 text-small color-fg-muted",e.appendChild(t)}}}}),a=i.length>0?i[0].from:void 0;return{list:i,from:a}}showHelp(e,t){if(!this.editorHelp||!this.defaultEditorHelp)return;this.lastCursor=e.getCursor();let r=m(e,e.getCursor());if(!r&&!t){this.defaultEditorHelp.hidden=!1,this.editorHelp.hidden=!0;return}let l=this.editorHelp.querySelector(".js-yaml-editor-help-placeholder");t?(l.textContent=`${t}.`,l.hidden=!1):l.hidden=!0,this.editorHelp.querySelector(".js-yaml-editor-help-tab").hidden=!r,this.defaultEditorHelp.hidden=!0,this.editorHelp.hidden=!1}goToNextPlaceholder(e,t){let r=m(e,t);if(!r)return e.showHint(),d;let l=r.find();e.setSelection(l.from,l.to),r.clear(),e.showHint();let n=r.attributes&&r.attributes.placeholder;this.showHelp(e,"string"==typeof n?n:"")}insertSnippet(e,t,r){let{tokens:l,help:n}=t;l.length>1&&function(e){for(let t of e.getAllMarks().filter(c))"function"==typeof t.clear&&t.clear()}(e);let i=e.getCursor(),s=r?(0,o._v)(e.getLine(i.line)):"",a=g(e);for(let t=0;t<l.length;t+=2){let r=(0,o.VF)(l[t],a,s),i=l[t+1];e.replaceSelection(r);let u=e.getCursor();if(void 0!==i){e.replaceSelection((0,o.VF)(i||" ",a,s));let r=e.getCursor();e.markText(u,r,{className:"border color-border-accent-emphasis",clearOnEnter:!0,clearWhenEmpty:!0,attributes:{placeholder:n?n[Math.floor(t/2)]:""}})}}!0!==t.keepCursorLocation&&this.goToNextPlaceholder(e,i)}enter(e){let t=e.getCursor(),r=e.getLine(t.line);if(r.substring(t.ch).trim().length>0||0===r.trim().length)return d;let l=e.getRange({line:0,ch:0},t),n=function(e,t="  ",r){let{simplifiedText:l}=(0,o.OV)(e),n=l.split("\n").filter(e=>e.trim().length>0),i=n[n.length-1]||"",s=i.match(/^\s*(-\s*)?/),a=s?s[0].replace("-"," "):"";if(i.match(/\|\s*$/))return{tokens:[`
${a}	`]};let d={tokens:[`
${a}`]};try{let{result:e,lastValue:n,consumeKey:s}=(0,o.qg)(l,""),{path:h,lastValue:p}=(0,o.on)(e),c=null!=n?n:p;if(s&&h.pop(),i.match(/]\s*$/)&&Array.isArray((0,o.cy)(e,h.slice(0,h.length-1)))&&h.pop(),c){let e=c.split("\n");if(e.length>1&&i===`${a}${e[e.length-2]}`)return d;a=a.replace(t,""),h.pop()}if(0===h.length)return d;let g=(0,u.t)(h,r);if(!g)return d;if(g.items)return{tokens:[`
${a}	- `]};if(g.map){let e=[`
${a}	`,g.keyPlaceholder||"key"];return(g.map.rules||g.map.map)&&!g.map.single?(e.push(`:
${a}		`),e.push("")):g.map.items&&g.map.items.single?e.push(": [","value1",", ","...valueN","]"):(e.push(": "),e.push("")),{tokens:e,help:[g.keyPlaceholderHelp||""]}}if(g.rules)return{tokens:[`
${a}	`]};return d}catch(e){return d}}(l,g(e),this.getRootRule(l));this.insertSnippet(e,n,!1)}constructor(e){this.editorHelp=document.getElementById("yaml-editor-help"),this.defaultEditorHelp=document.getElementById("yaml-editor-help-default"),this.getRootRule=e,this.suggestionsForExpression=e({}).suggestionsForExpression}};function c(e){return e.attributes&&"placeholder"in e.attributes}function g(e){return e.getOption("indentWithTabs")?"	":" ".repeat(e.getOption("indentUnit"))}function m(e,t){let r=e.lineCount()-1,l={line:r,ch:e.getLine(r).length};return e.findMarks(t,l).find(c)}function f(e){let{line:t,ch:r}=e.getCursor(),l=e.getLine(t).substring(0,r);if(l.match(/^\s+$/)){let n=g(e);if(l.endsWith(n)){e.replaceRange("",{line:t,ch:r-n.length},{line:t,ch:r});return}}return d}},67331:(e,t,r)=>{r.d(t,{Z:()=>u});var l=r(15237),n=r.n(l),o=r(21403),i=r(83650),s=r(73050);let a=class YamlCodeMirrorLintingHelper extends i.i{async updateLinting(e){let t=await (0,s.A)(e.getValue(),this.getRootRule);e.operation(()=>{this.clearState(),this.createMarks(e,t)})}constructor(e){super(),this.getRootRule=e}};function u(e){let t=new a(e);(0,o.lB)(".CodeMirror",{add(e){let r=e.CodeMirror;r?.on("change",()=>{clearTimeout(t.lintTimeout),t.lintTimeout=setTimeout(()=>t.updateLinting(r),500)}),n()?.on(r.getWrapperElement(),"mouseover",e=>t.showTooltip(r,e)),t.updateLinting(r)}})}}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_buffer_index_js","vendors-node_modules_codemirror_lib_codemirror_js","vendors-node_modules_js-yaml_index_js-node_modules_leven_index_js","app_assets_modules_github_editor_codemirror-linter-util_ts-app_assets_modules_github_editor_y-89a4a6","app_assets_modules_github_editor_yaml-editors_dependabot_dependabot-rules_ts"],()=>t(30824)),e.O()}]);
//# sourceMappingURL=dependabot-editor-ab9fa3305869.js.map