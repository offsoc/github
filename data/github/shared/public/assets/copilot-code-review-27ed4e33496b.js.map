{"version":3,"file":"copilot-code-review-xxxxxxxxxxxx.js","mappings":"iYAKA,SAASA,EAAa,CACpBC,SAAAA,CAAQ,CACRC,MAAAA,CAAK,CACN,EACC,IAAMC,EAAQ,KAAAC,OAAA,EAAQ,IACN,GAAgB,CAACC,KAAK,CAAC,GAAmB,CAAE,GAAgB,CAACC,MAAM,CAACJ,IAEjF,CAACA,EAAM,EACV,OAAoB,eAAmB,CAAC,GAAkB,CAACK,QAAQ,CAAE,CACnEJ,MAAOA,CACT,EAAGF,EACL,CACAD,EAAaQ,WAAW,CAAG,c,6DCX3B,SAASC,EAAeC,CAAI,EAE1B,MAAOC,CADS,IAAAC,UAAA,EAAW,GAAkB,EAC9BC,OAAO,CAACH,EACzB,C,uJCIA,SAASI,IAAa,MAAOA,CAAAA,EAAWC,OAAOC,MAAM,CAAGD,OAAOC,MAAM,CAACC,IAAI,GAAK,SAAUC,CAAC,EAAI,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,MAAM,CAAEF,IAAK,CAAE,IAAIG,EAAIF,SAAS,CAACD,EAAE,CAAE,IAAK,IAAII,KAAKD,EAAG,CAAC,CAAC,GAAGE,cAAc,CAACC,IAAI,CAACH,EAAGC,IAAOL,CAAAA,CAAC,CAACK,EAAE,CAAGD,CAAC,CAACC,EAAE,CAAG,CAAE,OAAOL,CAAG,GAAYQ,MAAM,KAAMN,UAAY,CACnR,IAAMO,EAAgB,IAAM,CAACC,EAAE,CAACC,UAAU,CAAC,CACzCrB,YAAa,yBACbsB,YAAa,cACf,GAAG,CAAC,eAAgB,cAAe,kGAAmG,6FAA8F,2FAA4F,MAAO,IAAI,CAAE,SAAI,oBAAqB,SAAI,eAAgB,SAAI,gBAAiB,SAAI,gBAAiB,SAAI,gBAAiB,GAAE,EACrbC,EAAuB,KAAAC,UAAA,EAAW,CAAC,CACvCC,GAAIC,EAAY,IAAI,CACpBC,UAAAA,CAAS,CACTC,QAAAA,CAAO,CACP,GAAGC,EACJ,CAAEC,KACD,IAAMzB,EAAU,KAAA0B,CAAA,EAAe,iCACzBC,EAAW,QAAY,CAAC,YAiB9B,CAhBA,QAA2BF,EAAcE,GAgBrC3B,GACF,EAAU4B,EAAE,CACU,eAAmB,CAAC,GAAG,CAAE3B,EAAS,CACpDmB,GAAIC,EACJC,UAAW,QAAKA,EAAW,GAAO,CAACJ,OAAO,EAC1C,eAAgBK,CAClB,EAAGC,EAAO,CAERK,IAAKF,CACP,IAEkB,eAAmB,CAACN,EAAWpB,EAAS,CAC1DqB,UAAW,QAAKA,EAAW,GAAO,CAACJ,OAAO,EAC1C,eAAgBK,CAClB,EAAGC,EAAO,CACRK,IAAKF,CACP,IAEkB,eAAmB,CAACb,EAAeb,EAAS,CAC9DmB,GAAIC,EACJC,UAAWA,EACX,eAAgBC,EAChBK,GAAI,GAAE,EACLJ,EAAO,CAERK,IAAKF,CACP,GACF,EACAT,CAAAA,EAAQvB,WAAW,CAAG,S,4CCpEtB,IAAImC,EAAU,CAAC,QAAU,2BAA2B,C,sHCOpD,SAAS7B,IAAa,MAAOA,CAAAA,EAAWC,OAAOC,MAAM,CAAGD,OAAOC,MAAM,CAACC,IAAI,GAAK,SAAUC,CAAC,EAAI,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,MAAM,CAAEF,IAAK,CAAE,IAAIG,EAAIF,SAAS,CAACD,EAAE,CAAE,IAAK,IAAII,KAAKD,EAAG,CAAC,CAAC,GAAGE,cAAc,CAACC,IAAI,CAACH,EAAGC,IAAOL,CAAAA,CAAC,CAACK,EAAE,CAAGD,CAAC,CAACC,EAAE,CAAG,CAAE,OAAOL,CAAG,GAAYQ,MAAM,KAAMN,UAAY,CACnR,IAAMwB,EAAU,CACdC,MAAO,OACPC,OAAQ,OACRC,MAAO,MACT,EACA,SAASC,EAAQ,CACfC,KAAMC,EAAU,QAAQ,CACxBC,OAAAA,EAAS,SAAS,CAClB,aAAcC,CAAS,CACvB,GAAGf,EACJ,EACC,IAAMY,EAAOL,CAAO,CAACM,EAAQ,CACvBG,EAAiBF,OAAAA,GAAmBC,KAAcE,IAAdF,EACpCG,EAAU,UAChB,OAGE,eAAmB,CAAC,GAAG,CAAE,CACvBtB,GAAI,OACJQ,GAAI,CACFe,QAAS,aACX,CACF,EAAgB,eAAmB,CAAC,MAAO1C,EAAS,CAClD2C,OAAQR,EACRS,MAAOT,EACPU,QAAS,YACTC,KAAM,OACN,cAAe,GACf,aAAcR,MAAAA,EAA6CA,EAAYE,KAAAA,EACvE,kBAAmBD,EAAiBE,EAAUD,KAAAA,CAChD,EAAGjB,GAAqB,eAAmB,CAAC,SAAU,CACpDwB,GAAI,IACJC,GAAI,IACJvC,EAAG,IACHwC,OAAQ,eACRC,cAAe,OACfC,YAAa,IACbC,aAAc,oBAChB,GAAiB,eAAmB,CAAC,OAAQ,CAC3CC,EAAG,6BACHJ,OAAQ,eACRE,YAAa,IACbG,cAAe,QACfF,aAAc,oBAChB,IAAKb,EAA8B,eAAmB,CAAC,GAAc,CAAE,CACrEgB,GAAId,CACN,EAAGJ,GAAU,KAEjB,CACAH,EAAQxC,WAAW,CAAG,UACtB,IAAM8D,EAAgB,SAAOtB,GAASnB,UAAU,CAAC,CAC/CrB,YAAa,yBACbsB,YAAa,cACf,GAAG,CAAC,6GAA8G,GAAG,CAAE,GAAE,CACzHwC,CAAAA,EAAc9D,WAAW,CAAG,S,2FC5D5B,GAAM,CACJ,GAAK+D,CAAM,CACX,GAAAC,CAAO,CACP,GAAAC,CAAM,CACP,CAAG,EACEC,EAAMC,GAAO,QAASA,EAAKJ,EAAO,GAAK,CAAEI,IAIzCC,EAASJ,EAAQ,IAAkB,CAAE,IAAkB,CAAE,IAAoB,EAG7EK,EAAaJ,EAAO,CACxBI,WAAY,CACVC,SAAU,YAEZ,CACF,GACMC,EAAaP,EAAQ,IAAuB,CAAEK,GAGrCL,EAAQ,IAAmB,CAAE,IAAmB,EAGhD,IAAmB,E,gDCnBlC,SAASQ,EAA2B1C,CAAY,CAAE2C,CAAS,EACzD,KAAAC,mBAAA,EAAoB5C,EAAc,IAAM2C,EAAUE,OAAO,CAC3D,C,6DCEA,IAAMC,EAAiB,IAAM,CAACC,IAAI,CAACxD,UAAU,CAAC,CAC5CrB,YAAa,iBACbsB,YAAa,cACf,GAAG,CAAC,iJAAkJ,GAAG,CAAE,GAAE,C,kDCflJwD,EAAW,SAAkBC,CAAI,CAAEC,CAAQ,EAKpD,OAJiB,KAAK,IAAlBA,GACFA,CAAAA,EAAW,IAAG,EAGT,SAAUnD,CAAK,EACpB,MAAO,SAAIA,EAAMoD,KAAK,CAAEF,EAAMC,EAChC,CACF,C,kBCT+O,SAASE,IAAO,IAAI,IAAIvE,EAAEG,EAAEqE,EAAE,EAAEzE,EAAE,GAAGyE,EAAEvE,UAAUC,MAAM,EAAE,CAACF,EAAEC,SAAS,CAACuE,IAAI,GAAIrE,CAAAA,EAAEC,SAAtTA,EAAEJ,CAAC,EAAE,IAAIG,EAAEqE,EAAEzE,EAAE,GAAG,GAAG,UAAU,OAAOC,GAAG,UAAU,OAAOA,EAAED,GAAGC,OAAO,GAAG,UAAU,OAAOA,GAAE,GAAGyE,MAAMC,OAAO,CAAC1E,GAAG,IAAIG,EAAE,EAAEA,EAAEH,EAAEE,MAAM,CAACC,IAAIH,CAAC,CAACG,EAAE,EAAGqE,CAAAA,EAAEpE,EAAEJ,CAAC,CAACG,EAAE,IAAKJ,CAAAA,GAAIA,CAAAA,GAAG,GAAE,EAAGA,GAAGyE,CAAAA,OAAQ,IAAIrE,KAAKH,EAAEA,CAAC,CAACG,EAAE,EAAGJ,CAAAA,GAAIA,CAAAA,GAAG,GAAE,EAAGA,GAAGI,CAAAA,EAAG,OAAOJ,CAAC,EAA0FC,EAAC,GAAKD,CAAAA,GAAIA,CAAAA,GAAG,GAAE,EAAGA,GAAGI,CAAAA,EAAG,OAAOJ,CAAC,C,yBAAC,MAAewE,C,uEC4B1W,oBAAMI,UAeX,IAAIC,0BAA2B,CAC7B,MAAO,CAAC,cAAc,EAAE,IAAI,CAAC5F,KAAK,CAAC,CAAC,CAMtC6F,gBAAgBC,CAAmB,CAAE,CACnC,OAAO,IAAI,CAACC,SAAS,EAAI,IAAI,CAACC,UAAU,CAACF,EAC3C,CAKA,IAAIC,WAAY,CACd,IAAME,EAAuB,IAAIC,KAAK,IAAI,CAACC,UAAU,EAgBrD,OAAOC,IAdoBF,KACzBA,KAAKG,GAAG,CACNJ,EAAqBK,cAAc,GACnCL,EAAqBM,WAAW,GAChCN,EAAqBO,UAAU,GAC/BP,EAAqBQ,WAAW,GAChCR,EAAqBS,aAAa,GAClCT,EAAqBU,aAAa,GAClCV,EAAqBW,kBAAkB,KAMnB,IAAIV,KAAKA,KAAKW,GAAG,GAFzB,KAGlB,CAQAb,WAAWc,CAAmB,CAAE,CAC9B,MAAO,CACL,KAAI,CAACA,SAAS,CAACC,KAAK,CAACC,GAAOF,EAAUG,QAAQ,CAACD,KAASF,EAAUC,KAAK,CAACC,GAAO,IAAI,CAACF,SAAS,CAACG,QAAQ,CAACD,GAAI,CAE/G,CAKA,OAAOE,WAAWC,CAAuB,CAAEC,CAAgB,CAAE,CAC3D,OAAO,IAAIzB,UAAUwB,EAAOE,KAAK,CAAEF,EAAOhB,UAAU,CAAEiB,EACxD,CAKAE,WAAiC,CAC/B,MAAO,CACLtH,MAAO,IAAI,CAACA,KAAK,CACjBmG,WAAY,IAAI,CAACA,UAAU,CAC3BW,UAAW,IAAI,CAACA,SAAS,CAE7B,CAKA,OAAOS,YAAYC,CAA+B,CAAa,CAC7D,OAAO,IAAI7B,UAAU6B,EAAWxH,KAAK,CAAEwH,EAAWrB,UAAU,CAAEqB,EAAWV,SAAS,CACpF,CA/EAW,YAAYzH,CAAa,CAAEmG,CAAkB,CAAEW,CAAmB,CAAE,CAClE,IAAI,CAAC9G,KAAK,CAAGA,EACb,IAAI,CAACmG,UAAU,CAAGA,EAClB,IAAI,CAACW,SAAS,CAAGA,CACnB,CA4EF,E,0BC7GA,IAAMY,EAAyB,qBACxB,mCAAMC,yBAoBX,MAAMC,cAAmC,CACvC,IAAMP,EAAQ,IAAI,CAACQ,wBAAwB,GAE3C,OAAOR,EAAQ,IAAI,CAACS,iBAAiB,CAACT,GAAS,IAAI,CAACU,cAAc,EACpE,CAEAC,yBAAyBX,CAAgB,CAAE,CACzC,IAAI,CAACY,mBAAmB,CAACC,OAAO,CAACR,EAAwBS,KAAKC,SAAS,CAACf,EAAMC,SAAS,IACzF,CAEAO,0BAA6C,CAC3C,IAAM7H,EAAQ,IAAI,CAACiI,mBAAmB,CAACI,OAAO,CAACX,GAE/C,OAAO1H,EAAQ2F,UAAU4B,WAAW,CAACY,KAAKG,KAAK,CAACtI,IAAiC,IACnF,CAMA,MAAc8H,kBAAkBT,CAAgB,CAAsB,CACpE,OAAOA,EAAMxB,eAAe,CAAC,IAAI,CAACiB,SAAS,EAAI,IAAI,CAACiB,cAAc,GAAKV,CACzE,CASA,gBAA6C,CAK3C,OAJK,IAAI,CAACkB,uBAAuB,EAC/B,KAAI,CAACA,uBAAuB,CAAG,IAAI,CAACC,eAAe,EAAC,EAG/C,IAAI,CAACD,uBAAuB,CAOrC,MAAcC,iBAAsC,CAClD,IAAMC,EAAW,MAAMC,CAAAA,EAAAA,EAAAA,EAAAA,EAAkB,6BAA8B,CAACC,OAAQ,MAAM,GAEtF,GAAIF,EAASG,EAAE,CAAE,CACf,IAAMzB,EAAU,MAAMsB,EAASI,IAAI,EACnC,KAAI,CAACN,uBAAuB,CAAG,KAE/B,IAAMlB,EAAQ1B,UAAUuB,UAAU,CAACC,EAAQ,IAAI,CAACL,SAAS,EAIzD,OAFA,IAAI,CAACkB,wBAAwB,CAACX,GAEvBA,CACT,CAGE,MAFA,IAAI,CAACkB,uBAAuB,CAAG,KAEzB,MAAU,gCAEpB,CAxEAd,YAAYX,CAAmB,CAAE,CAC/B,IAAI,CAACA,SAAS,CAAGA,EACjB,IAAI,CAACyB,uBAAuB,CAAG,KAC/B,IAAI,CAACN,mBAAmB,CAAGa,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,eAAgB,CACrDC,sBAAuB,GACvBC,IAAK,KACP,EACF,CAkEF,C,iGCjFO,mBAAMC,SAMX,MAAa1E,IAAI,GAAG2E,CAAe,CAA+B,CAChE,IAAM1E,EAAM0E,EAAOC,IAAI,CAAC,IAAI,CAACC,SAAS,EAChCC,EAAS,IAAI,CAACC,KAAK,CAAC/E,GAAG,CAACC,GAC9B,GAAI6E,EACF,OAAOA,CACF,EACL,IAAME,EAAU,IAAI,CAACC,OAAO,IAAIN,GAMhC,OALA,IAAI,CAACI,KAAK,CAACG,GAAG,CAACjF,EAAK+E,GAEfpC,CADU,MAAMoC,CAAM,EACfX,EAAE,EACZ,IAAI,CAACU,KAAK,CAACI,MAAM,CAAClF,GAEb+E,CACT,CACF,CAhBA,YAAmB,CAAoE,CAAE,C,KAA9DC,OAAO,CAAPA,E,KAHVJ,SAAS,CAAG,M,KACrBE,KAAK,CAAG,IAAIK,GAEsE,CAiB5F,E,eCCA,IAAMC,EAA6B,IAAIC,IAAI,CAAC,UAAW,OAAQ,SAAU,SAAU,aAAa,EA8BnFC,EAAkC,CAC7C,IAAK,uCACL,IAAK,6CACL,IAAK,kFACL,IAAK,wCACL,IAAK,6DACL,IAAK,gFACL,IAAK,4DACP,EAOO,6BAAMC,mBAcX,MAAMC,aAAad,EAA6B,CAAC,CAAC,CAA2C,CAC3F,IAAMe,EAAc,IAAIC,eACG,WAAvB,OAAOhB,EAAOiB,IAAI,EAAeF,EAAYR,GAAG,CAAC,OAAQP,EAAOiB,IAAI,EACxE,IAAMC,EAAiB,CAAC,SAAS,EAAEH,EAAYI,QAAQ,GAAG,CAAC,CACrDC,EAAM,MAAM,IAAI,CAACC,eAAe,CAACH,EAAgB,OACvD,GAAI,CAACE,EAAI1B,EAAE,CAAE,OAAO0B,EAEpB,IAAME,EAA+B,CAAC,MAAMF,EAAIzB,IAAI,EAAC,EAAG4B,OAAO,EAAI,EAAE,CACrE,MAAO,CAACC,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAAA,CAAO,CAC/C,CAEA,MAAMG,cAAsD,CAC1D,IAAML,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,WAAY,QACnD,GAAI,CAACD,EAAI1B,EAAE,CAAE,OAAO0B,EAEpB,IAAME,EAA6B,CAAC,MAAMF,EAAIzB,IAAI,EAAC,EAAG+B,MAAM,CAC5D,MAAO,CAACF,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAAA,CAAO,CAC/C,CAEA,MAAMK,aAAaC,CAAgB,CAA4B,CAC7D,IAAMR,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,CAAC,CAAE,iBAC/D,EAASlC,EAAE,CAEJ,CAAC8B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAS,IAAI,EAF/BF,CAGtB,CAEA,MAAMS,aAAaD,CAAgB,CAAEE,CAAe,CAA8B,CAGhF,IAAMV,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,KAAK,CAAC,CAAE,QAFvD,CAACG,SAAU,GAAOd,KAAMa,CAAO,GAG5C,GAAI,CAACV,EAAI1B,EAAE,CAAE,OAAO0B,EAEpB,IAAME,EAAkB,CAAC,MAAMF,EAAIzB,IAAI,EAAC,EAAGsB,IAAI,EAAI,GACnD,MAAO,CAACO,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAAA,CAAO,CAC/C,CAEA,MAAMU,YAAYJ,CAAgB,CAA4B,CAC5D,IAAMR,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,MAAM,CAAC,CAAE,gBACrE,EAASlC,EAAE,CAEJ,CAAC8B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAS,IAAI,EAF/BF,CAGtB,CAEA,MAAMa,mBAAmBL,CAAgB,CAA8B,CAGrE,IAAMR,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,KAAK,CAAC,CAAE,QAFvD,CAACG,SAAU,GAAMd,KAAM,EAAE,GAGtC,GAAI,CAACG,EAAI1B,EAAE,CAAE,OAAO0B,EAEpB,IAAME,EAAkB,CAAC,MAAMF,EAAIzB,IAAI,EAAC,EAAGsB,IAAI,EAAI,GACnD,MAAO,CAACO,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAAA,CAAO,CAC/C,CAEA,MAAMY,aAAaN,CAAgB,CAA2C,CAC5E,GAAI,IAAI,CAACO,iBAAiB,EAAET,OAAO1G,KAAO4G,EACxC,MAAO,CAACJ,OAAQ,IAAK9B,GAAI,GAAM4B,QAAS,IAAI,CAACa,iBAAiB,EAGhE,IAAMf,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,SAAS,CAAC,CAAE,OACxE,GAAI,CAACR,EAAI1B,EAAE,CAAE,OAAO0B,EAEpB,IAAME,EAAU,MAAMF,EAAIzB,IAAI,GAE9B,OADA,IAAI,CAACwC,iBAAiB,CAAGb,EAClB,CAACE,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAAA,CAAO,CAC/C,CAEA,MAAMc,cACJR,CAAgB,CAChBS,CAAe,CACfC,CAAc,CACdC,CAAkC,CAClCC,CAA6B,CACW,CACxC,IAAI,CAACL,iBAAiB,CAAGlI,KAAAA,EACzB,IAAMmH,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,SAAS,CAAC,CAAE,OAAQ,CAC9ES,QAAAA,EACAC,OAAAA,EACAC,WAAAA,EACAE,WAAYC,OAAOC,QAAQ,CAACC,IAAI,CAChCJ,mBAAAA,CACF,GACA,GAAI,CAACpB,EAAI1B,EAAE,CAAE,OAAO0B,EAEpB,IAAME,EAA8B,CAAC,MAAMF,EAAIzB,IAAI,EAAC,EAAGkD,OAAO,CAC9D,MAAO,CAACrB,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAAA,CAAO,CAC/C,CAEA,MAAMwB,uBACJlB,CAAgB,CAChBS,CAAe,CACfC,CAAc,CACdC,CAAkC,CAClCjL,CAA+B,CAC/ByL,CAA0C,CAC1CP,CAA6B,CAC7BQ,CAAyB,CACI,CAC7B,IAAI,CAACb,iBAAiB,CAAGlI,KAAAA,EACzB,IAAMgJ,EAA6B,CACjCZ,QAAAA,EACAC,OAAAA,EACAC,WAAAA,EACAjL,QAAAA,EACAmL,WAAYC,OAAOC,QAAQ,CAACC,IAAI,CAChCM,UAAW,GACXH,cAAAA,EACAP,mBAAAA,EACAQ,eAAAA,CACF,EAEM5B,EAAM,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,SAAS,CAAC,CAAE,OAAQqB,EAAM,WACtF,EAASvD,EAAE,CAEJ,CAAC8B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAMH,SAAU6B,CAAG,EAF/BA,CAGtB,CAEA,MAAM+B,aAAa,CAACC,SAAAA,CAAQ,CAAEC,eAAAA,CAAc,CAAEC,UAAAA,CAAS,CAAEC,SAAAA,CAAQ,CAAEC,aAAAA,CAAY,CAAkB,CAAE,CAQjG,IAAMpC,EAAM,MAAM,IAAI,CAACqC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACC,aAAa,CAAC,SAAS,CAAC,CAAE,OAP9D,CACXN,SAAAA,EACAO,gBAAiBN,EACjBO,WAAYN,EACZO,UAAWN,EACXO,cAAeN,CACjB,UAEA,EAAS9D,EAAE,CAEJ,CAAC8B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAS,IAAI,EAF/BF,CAGtB,CAEA,MAAM2C,aAA4C,CAChD,IAAMxE,EAAW,MAAM,IAAI,CAACyE,oBAAoB,UAChD,EAActE,EAAE,CACT,CAAC8B,OAAQ,IAAK9B,GAAI,GAAM4B,QAAS/B,EAAS+B,OAAO,CAAC0B,cAAc,EAD9CzD,CAE3B,CAcA,MAAM0E,iDAA+F,CACnG,IAAM1E,EAAW,MAAM,IAAI,CAACyE,oBAAoB,UAChD,EAActE,EAAE,CACT,CAAC8B,OAAQ,IAAK9B,GAAI,GAAM4B,QAAS/B,EAAS+B,OAAO,CAAC4C,2CAA2C,EAD3E3E,CAE3B,CAEAyE,sBAAmE,CAIjE,OAHK,IAAI,CAACG,cAAc,EACtB,KAAI,CAACA,cAAc,CAAG,IAAI,CAACC,oBAAoB,EAAC,EAE3C,IAAI,CAACD,cAAc,CAG5B,MAAMC,sBAAmE,CACvE,IAAMhD,EAAM,MAAM,IAAI,CAACqC,iBAAiB,CAAC,+BAAgC,cACzE,EAAS/D,EAAE,CAEJ,CAAC8B,OAAQ,IAAK9B,GAAI,GAAM4B,QADd,MAAMF,EAAIzB,IAAI,EACO,EAFlByB,CAGtB,CAEA,MAAMiD,aAAaC,CAAc,CAAE,CACjC,IAAMlD,EAAM,MAAM,IAAI,CAACqC,iBAAiB,CAAC,CAAC,iBAAiB,EAAEa,EAAOtJ,EAAE,CAAC,CAAC,CAAE,iBAC1E,EAAS0E,EAAE,CACJ,CAAC8B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAM4B,QAAS,IAAI,EAD/BF,CAEtB,CAEA,MAAMmD,cAAcC,CAAqB,CAAgC,CACvE,IAAMtI,EAAOuI,CAAAA,EAAAA,EAAAA,EAAAA,EAAa,CAACD,KAAAA,EAAME,UAAWF,EAAKG,SAAS,CAAEC,mBAAoB,EAAK,GACrF,OAAO,IAAI,CAACC,cAAc,CAACxJ,GAAG,CAACa,EACjC,CAYA,MAAM4I,aAAaN,CAAqB,CAAEO,CAAa,CAA6C,CAClG,OAAO,IAAI,CAACC,iBAAiB,CAAC3J,GAAG,CAACmJ,EAAKS,UAAU,CAAET,EAAKvD,IAAI,CAAE8D,EAChE,CA0BA,MAAMG,qBACJC,CAAW,CACXC,CAAa,CACbZ,CAAY,CACuD,CACnE,IAAMjF,EAAW,MAAM,IAAI,CAACkE,iBAAiB,CAC3C,CAAC,EAAE,IAAI,CAACC,aAAa,CAAC,kBAAkB,EAAE0B,EAAM,CAAC,EAAEZ,EAAK,CAAC,EAAEa,mBAAmBF,GAAK,CAAC,CACpF,cAGF,EAAczF,EAAE,CAET,CACL8B,OAAQjC,EAASiC,MAAM,CACvB9B,GAAIH,EAASG,EAAE,CACf4B,QAAS,MAAM/B,EAASI,IAAI,EAC9B,EANyBJ,CAO3B,CAEA,MAAM+F,UAAUC,CAAuB,CAAuC,CAC5E,IAAIjE,EACJ,GAAI,IAAI,CAACkE,gBAAgB,CAACC,GAAG,CAACF,GAC5BjE,EAAU,IAAI,CAACkE,gBAAgB,CAACnK,GAAG,CAACkK,OAC/B,CACL,IAAMnE,EAAM,MAAM,IAAI,CAACqC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACC,aAAa,CAAC,cAAc,EAAE6B,EAAO,CAAC,CAAE,OACzF,GAAI,CAACnE,EAAI1B,EAAE,CAAE,OAAO0B,EAEpBE,EAAU,MAAMF,EAAIzB,IAAI,GACxB,IAAI,CAAC6F,gBAAgB,CAACjF,GAAG,CAACgF,EAAQjE,EACpC,CAEA,MAAO,CAACE,OAAQ,IAAK9B,GAAI,GAAM4B,QAAAA,CAAO,CACxC,CAEA,MAAMoE,WAAWC,CAAkB,CAA0C,CAC3E,IAAMvE,EAAM,MAAM5B,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBmG,GACpC,GAAI,CAACvE,EAAI1B,EAAE,CAAE,MAAO,CAAC8B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAOkG,MAAOhF,CAAM,CAACQ,EAAII,MAAM,CAAC,EAAI,IAAI,CAACqE,SAAS,EAC/F,IAAMvE,EAAU,MAAMF,EAAIzB,IAAI,GAC9B,MAAO,CAAC6B,OAAQJ,EAAII,MAAM,CAAE9B,GAAI0B,EAAI1B,EAAE,CAAE4B,QAAAA,CAAO,CACjD,CAEA,MAAMwE,iBAAiDC,CAAY,CAA2C,CAC5G,GAAI,CAACrF,EAA2B+E,GAAG,CAACM,EAAUC,IAAI,EAChD,MAAO,CACLxE,OAAQ,IACR9B,GAAI,GACJ4B,QAASyE,CACX,EAEF,IAAMxG,EAAW,MAAM,IAAI,CAACkE,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAACC,aAAa,CAAC,kBAAkB,CAAC,CAAE,OAAQ,CAACqC,UAAAA,CAAS,UAE3G,EAAcrG,EAAE,CAET,CACL8B,OAAQjC,EAASiC,MAAM,CACvB9B,GAAIH,EAASG,EAAE,CACf4B,QAAS,MAAM/B,EAASI,IAAI,EAC9B,EANyBJ,CAO3B,CAEA,MAAM0G,8BAA8BF,CAAwB,CAAE,CAC5D,GAAM,CAACG,UAAWjB,CAAU,CAAEkB,SAAUlF,CAAI,CAAC,CAAG8E,EAC1C7J,EAAOwG,OAAO0D,IAAI,CAACL,EAAU7J,IAAI,EAEjCmK,EAAYC,CAAAA,EAAAA,EAAAA,EAAAA,EADL,CAACrB,WAAAA,EAAYhE,KAAAA,CAAI,EACa/E,EAAM,IAE3CqD,EAAW,MAAM,IAAI,CAACkE,iBAAiB,CAAC4C,EAAW,cAEzD,EAAc3G,EAAE,CAET,CACL8B,OAAQjC,EAASiC,MAAM,CACvB9B,GAAIH,EAASG,EAAE,CACf4B,QAAS,MAAM/B,EAASI,IAAI,EAC9B,EANyBJ,CAO3B,CAEA,MAAMgH,oBACJjP,CAAwD,CACxDsK,CAAgB,CAC4B,CAC5C,IAAMqB,EAAO,CAAC3L,QAAS,CAACA,EAAQ,CAAEkP,WAAY,CAAC,EAAE9D,OAAOC,QAAQ,CAACC,IAAI,CAAC,CAAC,EAEjErD,EAAW,MAAM,IAAI,CAAC8B,eAAe,CAAC,CAAC,SAAS,EAAEO,EAAS,YAAY,CAAC,CAAE,OAAQqB,GACxF,GAAI,CAAC1D,EAASG,EAAE,CAAE,OAAOH,EACzB,IAAM+B,EAAU,MAAM/B,EAASI,IAAI,GAEnC,MAAO,CACL6B,OAAQjC,EAASiC,MAAM,CACvB9B,GAAIH,EAASG,EAAE,CACf4B,QAAAA,CACF,CACF,CAEA,MAAgBmC,kBACdvH,CAAY,CACZuD,CAAmD,CACnDwD,CAA0B,CACW,CACrC,IAAMwD,EAAmC,CAAC,EAC1C,IAAK,IAAMC,IAAOC,CAAAA,EAAAA,EAAAA,CAAAA,IAAyB,CACzC,IAAMC,EAAaF,EAAIG,KAAK,CAAC,KACvB5F,EAAO2F,CAAU,CAAC,EAAE,EAAEE,WAAW,IAAK,KACxChQ,EAAQ,GACR8P,CAAAA,EAAW5O,MAAM,CAAG,GACtBlB,CAAAA,EAAQ8P,CAAU,CAAC,EAAE,EAEvBH,CAAO,CAAC,CAAC,aAAa,EAAExF,EAAK,CAAC,CAAC,CAAGnK,CACpC,CAEA,IAAMqH,EAAQ,MAAM,IAAI,CAAC4I,wBAAwB,CAACrI,YAAY,EAC9D+H,CAAAA,CAAO,CAAC,sBAAsB,CAAGtI,EAAMrH,KAAK,CAE5C,GAAI,CACF,IAAMsK,EAAM,MAAM5B,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBtD,EAAM,CAACuD,OAAAA,EAAQwD,KAAAA,EAAMwD,QAAAA,CAAO,GAChE,GAAIrF,EAAI1B,EAAE,CAAE,OAAO0B,EACnB,MAAO,CAACI,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAOkG,MAAOhF,CAAM,CAACQ,EAAII,MAAM,CAAC,EAAI,IAAI,CAACqE,SAAS,CACpF,CAAE,MAAOD,EAAO,CACd,MAAO,CAACpE,OAAQ,IAAK9B,GAAI,GAAOkG,MAAO,IAAI,CAACC,SAAS,CACvD,CACF,CAEA,IAAYmB,4BAA6B,CACvC,MAEI,CAACC,cAAe,cAAc,CACpC,CAEA,MAAc5F,gBACZnF,CAAY,CACZuD,CAA2C,CAC3CwD,CAA0B,CAC1BiE,EAAoB,EAAK,CACzBC,EAAW,cAAc,CACY,CACrC,GAAI,CACF,IAAMC,EAAU,IAAI,CAACC,MAAM,CAIrBZ,EAAmC,CACvCa,cAAenJ,CAHH,MAAM,IAAI,CAAC4I,wBAAwB,CAACrI,YAAY,EAAC,EAGxChC,wBAAwB,CAC7C,yBAA0B,IAAI,CAACsK,0BAA0B,CAACC,aAAa,EAEzE,IAAK,IAAMP,IAAOC,CAAAA,EAAAA,EAAAA,CAAAA,IAAyB,CACzC,IAAMC,EAAaF,EAAIG,KAAK,CAAC,KACvB5F,EAAO2F,CAAU,CAAC,EAAE,EAAEE,WAAW,IAAK,KACxChQ,EAAQ,GACR8P,CAAAA,EAAW5O,MAAM,CAAG,GACtBlB,CAAAA,EAAQ8P,CAAU,CAAC,EAAE,EAEvBH,CAAO,CAAC,CAAC,aAAa,EAAExF,EAAK,CAAC,CAAC,CAAGnK,CACpC,CAEIoQ,GACFT,CAAAA,CAAO,CAAC,eAAe,CAAG,mBAAkB,EAG9C,IAAMrF,EAAM,MAAMmG,MAAMH,EAAUD,EAAWjL,EAAM,CACjDuD,OAAAA,EACA+H,KAAM,OACNpH,MAAO,WACPqG,QAAAA,EACAxD,KAAMhE,KAAKC,SAAS,CAAC+D,EACvB,GAEA,GAAI7B,EAAI1B,EAAE,CAAE,OAAO0B,EACnB,MAAO,CAACI,OAAQJ,EAAII,MAAM,CAAE9B,GAAI,GAAOkG,MAAOhF,CAAM,CAACQ,EAAII,MAAM,CAAC,EAAI,IAAI,CAACqE,SAAS,CACpF,CAAE,MAAOD,EAAO,CACd,MAAO,CAACpE,OAAQ,IAAK9B,GAAI,GAAOkG,MAAO,IAAI,CAACC,SAAS,CACvD,CACF,CAzYAtH,YAAY8I,CAAc,CAAEI,CAAyB,CAAE,C,KAPvD/D,aAAa,CAAG,uB,KAChBmC,SAAS,CAAG,sD,KACZ1B,cAAc,CAA2DlK,KAAAA,E,KACzEuL,gBAAgB,CAAG,IAAI/E,I,KACvB0B,iBAAiB,CAAoClI,KAAAA,E,KA2L7CyN,iBAAiB,CAAG,MAAOxL,IACjC,IAAMkF,EAAM,MAAM,IAAI,CAACqC,iBAAiB,CAACvH,EAAM,cAC/C,EAASwD,EAAE,CAIJ,CAAC8B,OAAQ,IAAK9B,GAAI,GAAM4B,QAFf,CAAC,MAAMF,EAAIzB,IAAI,EAAC,EAAGgI,KAAK,EAAI,EAAE,EAF1BvG,CAKtB,E,KACQyD,cAAc,CAAG,IAAI9E,SAAS,IAAI,CAAC2H,iBAAiB,E,KAMpDE,gBAAgB,CAAG,MACzB3C,EACAT,EACAO,KAEA,IAAMxF,EAAW,MAAM,IAAI,CAACkE,iBAAiB,CAC3C,CAAC,+BAA+B,EAAEwB,EAAW,CAAC,EAAET,EAAK,CAAC,EAAEO,EAAM,CAAC,CAC/D,cAGF,EAAcrF,EAAE,CAMT,CACL8B,OAAQ,IACR9B,GAAI,GACJ4B,QAASA,CALM,MAAM/B,EAASI,IAAI,EAAC,EAKlBkI,WAAW,CAACC,MAAM,CAACC,GAAcA,2BAAAA,EAAWC,IAAI,CACnE,EATSzI,CAUX,E,KACQyF,iBAAiB,CAAG,IAAIjF,SAAS,IAAI,CAAC6H,gBAAgB,EA3N5D,IAAI,CAACP,MAAM,CAAGA,EACd,IAAI,CAACN,wBAAwB,CAAG,IAAItI,EAAAA,CAAwBA,CAACgJ,EAAQQ,GAAG,CAACnK,GAAOA,EAAI9C,EAAE,EACxF,CAuYF,C,0DCzdA,IAAMkN,EAA6B,sBAE5B,SAASvB,IACd,IAAMwB,EAAcvI,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBT,OAAO,CAAC+I,UACxD,EAEOC,EAAYtB,KAAK,CAAC,KAFA,EAAE,CAKtB,SAASuB,EAAsBD,CAAqB,EACzDvI,CAAAA,EAAAA,EAAAA,CAAAA,EAAY,gBAAgBZ,OAAO,CAACkJ,EAA4BC,EAAYlI,IAAI,CAAC,KACnF,C,6ECVO,mCAAMoI,iCAAiCxH,EAAAA,CAAkBA,CAC9D,MAAMyH,sBAAsBlD,CAAa,CAAEmD,CAAkB,CAAE,CAC7D,IAAMhJ,EAAW,MAAM,IAAI,CAACkE,iBAAiB,CAAC,CAAC,CAAC,EAAE2B,EAAM,CAAC,EAAEmD,EAAW,sBAAsB,CAAC,CAAE,OAE/F,GAAI,CAAChJ,EAASG,EAAE,CACd,MAAM,MAAU,CAAC,mBAAmB,EAAEH,EAASiC,MAAM,CAAC,CAAC,EAGzD,OAAQ,MAAMjC,EAASI,IAAI,EAC7B,CAEA,MAAM6I,iBAAiBpD,CAAa,CAAEmD,CAAkB,CAAEE,CAAc,CAAE,CACxE,IAAMlJ,EAAW,MAAM,IAAI,CAACkE,iBAAiB,CAAC,CAAC,CAAC,EAAE2B,EAAM,CAAC,EAAEmD,EAAW,qBAAqB,EAAEE,EAAO,CAAC,CAAE,QAEjGC,EAAYnJ,MAAAA,EAASiC,MAAM,CACjC,GAAI,CAACjC,EAASG,EAAE,EAAI,CAACgJ,EACnB,MAAM,MAAU,CAAC,mBAAmB,EAAEnJ,EAASiC,MAAM,CAAC,CAAC,CAE3D,CACF,EAEA,IAAMmH,EAAkCC,CAAAA,EAAAA,EAAAA,aAAAA,EAAc,IAAIP,yBAAyB,GAAI,EAAE,GAE5EQ,EAAmCF,EAAgCzR,QAAQ,CAE3E4R,EAA8B,KACzC,IAAMxR,EAAUC,CAAAA,EAAAA,EAAAA,UAAAA,EAAWoR,GAC3B,GAAI,CAACrR,EACH,MAAM,MAAU,sFAElB,OAAOA,CACT,EC5BMyR,EAAiB,IACrB,IAAMC,EAAUF,IACV,CAACG,EAAWC,EAAa,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACrC,CAACC,EAASC,EAAW,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACvD,EAAO0D,EAAS,CAAGH,CAAAA,EAAAA,EAAAA,QAAAA,IAEpBI,EAAcC,CAAAA,EAAAA,EAAAA,WAAAA,EAClB,MAAOpE,EAAemD,KACpBc,EAAW,IACXC,EAASrP,KAAAA,GAET,GAAI,CACF,GAAM,CAACwP,gBAAAA,CAAe,CAAC,CAAG,MAAMT,EAAQV,qBAAqB,CAAClD,EAAOmD,GACrEW,EAAaO,EACf,CAAE,MAAOC,EAAK,CACZJ,EAASI,GACTR,EAAa,GACf,CAEAG,EAAW,GACb,EACA,CAACL,EAAQ,EAOX,MAJAW,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACRJ,EAAYvJ,EAAOoF,KAAK,CAAEpF,EAAOuI,UAAU,CAC7C,EAAG,CAACS,EAASO,EAAavJ,EAAOoF,KAAK,CAAEpF,EAAOuI,UAAU,CAAC,EAEnD,CAACU,UAAAA,EAAWG,QAAAA,EAASxD,MAAAA,CAAK,CACnC,EAEagE,EAAsF,CAAC,CAClGhT,SAAAA,CAAQ,CACR,GAAGoJ,EACJ,IACC,GAAM,CAACiJ,UAAAA,CAAS,CAAC,CAAGF,EAAe/I,GACnC,OAAO,EAAoB,sB,SAAGpJ,C,GAAV,IACtB,EAEA,GAAG,CAAEgT,EAAwBzS,WAAW,EAAnCyS,CAAAA,EAAwBzS,WAAW,CAAK,yBAAwB,CAAE,CAAE,KAAM,CAAC,C,0BC5ChF,MAAe,CAAC,wBAA0B,gEAAgE,ECMpG0S,EAAmB,IACvB,IAAMb,EAAUF,IACV,CAACM,EAASC,EAAW,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACjC,CAACvD,EAAO0D,EAAS,CAAGH,CAAAA,EAAAA,EAAAA,QAAAA,IAY1B,MAAO,CAACW,cAVcN,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAChCH,EAAW,IACX,GAAI,CACF,MAAML,EAAQR,gBAAgB,CAACxI,EAAOoF,KAAK,CAAEpF,EAAOuI,UAAU,CAAEvI,EAAOyI,MAAM,CAC/E,CAAE,MAAOiB,EAAK,CACZJ,EAASI,GACTL,EAAW,GACb,CACF,EAAG,CAACL,EAAShJ,EAAO,EAEGoJ,QAAAA,EAASxD,MAAAA,CAAK,CACvC,EAEamE,EAA2D/Q,IACtE,GAAM,CAAC8Q,cAAAA,CAAa,CAAEV,QAAAA,CAAO,CAAExD,MAAAA,CAAK,CAAC,CAAGiE,EAAiB7Q,UAEzD,KAAciB,IAAV2L,EACK,UAACoE,EAAAA,CAAAA,GAIR,UAACC,EAAAA,CAAMA,CAAAA,CACLC,MAAK,GACLtQ,KAAK,QACLuQ,cAAeC,EAAAA,WAAWA,CAC1BtR,UAAWuR,EAAOC,uBAAuB,CACzCC,QAAST,EACTU,SAAUpB,E,SAETA,EAAU,uBAAyB,uB,EAG1C,EAEaY,EAAyC,IACpD,UAACC,EAAAA,CAAMA,CAAAA,CAACC,MAAK,GAACM,SAAQ,GAAC5Q,KAAK,QAAQuQ,cAAeM,EAAAA,gBAAgBA,CAAE3R,UAAWuR,EAAOC,uBAAuB,C,SAAE,wB,GAKlH,GAAG,CAAEN,EAA6B7S,WAAW,EAAxC6S,CAAAA,EAA6B7S,WAAW,CAAK,8BAA6B,CAAE,CAAE,KAAM,CAAC,CCvCnF,IAAMuT,EAAsD,CAAC,CAACrD,OAAAA,CAAM,CAAEsD,iBAAAA,CAAgB,CAAE,GAAG3R,EAAM,IACtG,IAAMgQ,EAAUjS,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAM,IAAIsR,yBAAyBhB,EAAQsD,GAAmB,CAACtD,EAAQsD,EAAiB,EAEhH,MACE,UAACC,EAAAA,CAAaA,CAAAA,CAACzO,SAAU,UAAC6N,EAA4BA,CAAAA,G,SACpD,UAACa,EAAAA,QAAQA,CAAAA,CAAC1O,SAAU,K,SAClB,UAAC0M,EAAgCA,CAAC/R,MAAOkS,E,SACvC,UAACY,EAAuBA,CAAE,GAAG5Q,CAAK,C,SAChC,UAAC+Q,EAAuBA,CAAE,GAAG/Q,CAAK,E,QAM9C,EAEA,GAAG,CAAE0R,EAAkBvT,WAAW,EAA7BuT,CAAAA,EAAkBvT,WAAW,CAAK,mBAAkB,CAAE,CAAE,KAAM,CAAC,CC1BpE2T,CAAAA,EAAAA,EAAAA,CAAAA,EAAqB,sBAAuB,CAC1CjS,UAAW6R,CACb,E,kDCLO,2BAAMK,iBASJC,SAAS/J,CAAY,CAAEgK,CAAe,CAAE,CAC7C,IAAMC,EAAQ,IAAI,CAACC,mBAAmB,CAAClK,EAAK,CACxCiK,EACFA,EAAME,OAAO,GAAGH,GAEhB,IAAI,CAACE,mBAAmB,CAAClK,EAAK,CAAG,CAC/BZ,QAASgL,QAAQD,OAAO,CAACH,EAC3B,CAEJ,CAEOK,gBAAgBrK,CAAY,CAAc,C,IAC/C,EACA,MADA,OAAI,CAACkK,mBAAmB,EAAClK,EAAK,EAA9B,EAAwB,CAACA,EAAK,CAAK,IAAIsK,CAAS,EACzC,IAAI,CAACJ,mBAAmB,CAAClK,EAAK,CAACZ,OAAO,C,mBArBvC8K,mBAAmB,CAMvB,CAAC,C,CAiBP,EAEA,YAAMI,SAIJhN,aAAc,CACZ,IAAI,CAAC8B,OAAO,CAAG,IAAIgL,QAAWD,IAC5B,IAAI,CAACA,OAAO,CAAGA,CACjB,EACF,CACF,C,qECrBO,SAASI,EACdC,CAA2D,QAe3D,CAbA9B,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAM+B,EAASD,GAAeC,OAEzBA,IAID,aAAcA,GAChBA,CAAAA,EAAOlB,QAAQ,CAAG,EAAI,EAExBkB,EAAOC,SAAS,CAACC,MAAM,CAAC,eAC1B,EAAG,CAACH,EAAc,EAEbA,GAIE,CACLI,mBAAoB,CAClBC,iBAAkBL,CACpB,CACF,EAPS,CAAC,CAQZ,CAEO,SAASM,EAAkBF,CAAsC,EACtE,IAAMxS,EAAM2S,CAAAA,EAAAA,EAAAA,MAAAA,EAAOH,EAAmBC,gBAAgB,CAACJ,MAAM,EAAI,MAC3D,CAACO,EAAMC,EAAQ,CAAG/C,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAE3BoB,EAAUf,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAE1B0C,EAAQ,CAACD,EACX,EAAG,CAACA,EAAMC,EAAQ,EAWlB,MATAvC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACHtQ,EAAIyC,OAAO,GAEhBzC,EAAIyC,OAAO,CAACqQ,YAAY,CAAC,gBAAiBF,EAAK9K,QAAQ,IACvD9H,EAAIyC,OAAO,CAACqQ,YAAY,CAAC,gBAAiB,QAC5C,EAAG,CAAC9S,EAAK4S,EAAK,EAEdG,EAAiBP,EAAoBtB,GAE9B,CACLlR,IAAAA,EACA4S,KAAAA,EACAC,QAAAA,CACF,CACF,CAEO,SAASE,EAAiBP,CAAsC,CAAEtB,CAAoC,EAC3G,IAAMlR,EAAM2S,CAAAA,EAAAA,EAAAA,MAAAA,EAAOH,EAAmBC,gBAAgB,CAACJ,MAAM,EAE7D/B,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAM0C,EAAUhT,EAAIyC,OAAO,CAC3B,GAAKuQ,EAKL,OADAA,EAAQC,gBAAgB,CAAC,QAAS/B,GAC3B,IAAM8B,EAAQE,mBAAmB,CAAC,QAAShC,EACpD,EAAG,CAAClR,EAAKkR,EAAQ,CACnB,C,mCCvEO,IAAMiC,EAAkB,GAAIzB,C,UAAAA,CAAgBA,C,gDCEnD,YACM0B,4BAA4BC,EAAAA,CAAgBA,CAGhD,MAAMC,aAAaC,CAAiC,CAAE,KDJxBC,ECK5B,GAAM,CAAChU,UAAAA,CAAS,CAAC,CAAG,ODLQgU,ECKc,IAAI,CAAC5L,IAAI,CDJ9CuL,EAAgBlB,eAAe,CAACuB,ICO/BpB,EAAgB,IAAI,CAACqB,OAAO,CAA4B,wBAE9D,MACE,UAACC,EAAAA,CAAYA,CAAAA,CACXC,YAAa,IAAI,CAAC/L,IAAI,CACtB2L,aAAcA,EACd/T,UAAWA,EACXoU,kBAAmB,IAAI,CAACC,aAAa,CACrCC,SAAU,IAAI,CAACA,QAAQ,CACvB1B,cAAeA,C,EAGrB,C,mCAlBA2B,aAAa,CAAG,c,CAmBlB,ECxBO,SAAStC,EAAqB7J,CAAY,CAAEgK,CAAiC,EAClFuB,EAAgBxB,QAAQ,CAAC/J,EAAMgK,EACjC,CDEMwB,EAAAA,S,2TAAAA,CADLY,EAAAA,EAAUA,C,CACLZ,E,mCERN,GAAM,CAACtN,QAAAA,CAAO,CAAEH,QAAAA,CAAO,CAAEsO,WAAAA,CAAU,CAAC,CAAG1N,CAAAA,EAAAA,E,OAAAA,CAAAA,EAAY,gBAC7C2N,EAA0B,0BAchC,EANsD,CACpDC,OAAQ,IAAMxO,EAAQuO,EAAyB,QAC/CE,QAAS,IAAMH,EAAWC,GAC1BG,UAAW,IAAM,CAAC,CAACvO,EAAQoO,EAC7B,C,kBCAO,SAASI,EAAczR,CAAY,CAAE0R,EAAoB,CAAC,CAAC,GAChEC,SAesC3R,CAAY,EAGlD,GAAIiJ,IADY2I,IAAI5R,EAAMwG,OAAOC,QAAQ,CAACoL,MAAM,EACxCA,MAAM,GAAKrL,OAAOC,QAAQ,CAACoL,MAAM,CACvC,MAAM,MAAU,wDAEpB,EArBiC7R,GAE/B,IAAMuK,EAAuB,CAC3B,GAAGmH,EAAKnH,OAAO,CACf,wBAAyB,OACzB,mBAAoB,gBACtB,EAEA,OAAOc,MAAMrL,EAAM,CAAC,GAAG0R,CAAI,CAAEnH,QAAAA,CAAO,EACtC,CA2BO,SAASjH,EAAkBtD,CAAY,CAAE0R,CAAsB,EAGpE,IAAMnH,EAAuB,CAFuB,GAAnBmH,GAAMnH,SAAW,CAAC,CAGjD,CACAuH,OAAQ,mBACR,eAAgB,kBAClB,EAEM/K,EAAO2K,GAAM3K,KAAOhE,KAAKC,SAAS,CAAC0O,EAAK3K,IAAI,EAAIhJ,KAAAA,EAEtD,OAAO0T,EAAczR,EAAM,CAAC,GAAG0R,CAAI,CAAE3K,KAAAA,EAAMwD,QAAAA,CAAO,EACpD,CASO,SAASwH,EAAW/R,CAAY,CAAE0R,EAAoB,CAAC,CAAC,EAC7D,IAAMnH,EAAuB,CAC3B,GAAGmH,EAAKnH,OAAO,CACf,kBAAmB,MACrB,EAEA,OAAOkH,EAAczR,EAAM,CAAC,GAAG0R,CAAI,CAAEnH,QAAAA,CAAO,EAC9C,CASO,SAASyH,EAAehS,CAAY,CAAE0R,CAAsB,EAGjE,IAAMnH,EAAuB,CAFuB,GAAnBmH,GAAMnH,SAAW,CAAC,CAGjD,CACA,kBAAmB,MACrB,EAEA,OAAOjH,EAAkBtD,EAAM,CAAC,GAAG0R,CAAI,CAAEnH,QAAAA,CAAO,EAClD,C,+HChFO,wBAAMmE,sBAAsBuD,EAAAA,SAAe,CAahD,OAAOC,yBAAyBxI,CAAY,CAAE,CAC5C,MAAO,CAACA,MAAAA,CAAK,CACf,CAKA,kBAA2BA,CAAY,CAAE,CACnC,mBAAO,IAAI,CAAC5M,KAAK,CAACqV,OAAO,CAC3B,IAAI,CAACrV,KAAK,CAACqV,OAAO,CAACzI,GAkBvB0I,WAAW,KACT,MAjBiB1I,CAkBnB,EAhBA,CAES2I,QAAS,QAChB,IAAS,CAACC,KAAK,CAAC5I,KAAK,CAEd,KAAwB3L,IAAxB,IAAI,CAACjB,KAAK,CAACmD,QAAQ,CAAiB,UAACsS,EAAAA,CAASA,CAAAA,CAACzI,KAAK,W,GAAiB,IAAI,CAAChN,KAAK,CAACmD,QAAQ,CAFjE,IAAI,CAACnD,KAAK,CAACpC,QAAQ,CA5BnD2H,YAAYvF,CAAyB,CAAE,CACrC,KAAK,CAACA,GAEN,IAAI,CAACwV,KAAK,CAAG,CACX5I,MAAO,IACT,CACF,CA0BF,C,uEChDA,IAAM8I,EAAgD,CACpD,IAAK,kCACL,IAAK,kCACP,EAEO,SAASD,EAAU,CAACE,WAAAA,CAAU,CAAE3I,KAAAA,CAAI,CAAY,EACrD,IAAMnD,EAAUmD,eAAAA,EAAwB,8BAAgC0I,CAAa,CAACC,GAAc,IAAI,CACxG,MACE,WAACjW,EAAAA,CAAOA,CAAAA,CACNE,GAAG,KACHgW,SAAU,GACVxV,GAAI,CACFe,QAAS,OACT0U,cAAe,SACfC,SAAU,OACVC,UAAW,OACXC,WAAY,SACZC,eAAgB,QAClB,E,UACD,QAEEN,EAAa,UAACO,EAAAA,CAAGA,CAAAA,CAAC9V,GAAI,CAAC+V,SAAU,QAASC,WAAY,OAAQC,WAAY,CAAC,E,SAAIV,C,GAAoB,KACpG,UAACO,EAAAA,CAAGA,CAAAA,CAAC9V,GAAI,CAAC+V,SAAU,EAAGG,GAAI,CAAC,E,SAAIzM,C,KAGtC,CAEA,GAAG,CAAE4L,EAAUtX,WAAW,EAArBsX,CAAAA,EAAUtX,WAAW,CAAK,WAAU,CAAE,CAAE,KAAM,CAAC,C,oHCnB7C,SAASoY,EAAc,CAAC3Y,SAAAA,CAAQ,CAAE4Y,QAAAA,CAAO,CAAQ,EACtD,GAAM,CAAChB,EAAOiB,EAAS,CAAGtG,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,CACjCxG,SAAU6M,EAAQ7M,QAAQ,GAK5B,MAFA+M,CAAAA,EAAAA,EAAAA,CAAAA,EAAkB,IAAMF,EAAQG,MAAM,CAACF,GAAW,CAACD,EAAQ,EAGzD,UAACI,EAAAA,EAAMA,CAAAA,CAACjN,SAAU6L,EAAM7L,QAAQ,CAAEkN,UAAWL,E,SAC1C5Y,C,EAGP,CAEA,GAAG,CAAE2Y,EAAcpY,WAAW,EAAzBoY,CAAAA,EAAcpY,WAAW,CAAK,eAAc,CAAE,CAAE,KAAM,CAAC,C,qCCHrD,SAAS4V,EAAa,CAC3BC,YAAAA,CAAW,CACXJ,aAAAA,CAAY,CACZ/T,UAAAA,CAAS,CACToU,kBAAAA,CAAiB,CACjBE,SAAAA,CAAQ,CACR1B,cAAAA,CAAa,CACP,EAEN,IAAMqE,EAAa3B,EAAAA,MAAY,GACzBzL,EAASqN,WAAWrN,MAAM,CAG3BoN,EAAWhU,OAAO,EACrBgU,CAAAA,EAAWhU,OAAO,CAAG,EAEjBkU,CAAAA,EAAAA,EAAAA,CAAAA,EAAqB,CAACtN,OAAAA,CAAM,GAD5BuN,CAAAA,EAAAA,EAAAA,EAAAA,EAAoB,CAACC,eAAgB,CAAC,CAACC,SAAU,GAAG,EAAE,EACzB,EAEnC,IAAMX,EAAUM,EAAWhU,OAAO,CAC5BsU,EAAqB5E,CAAAA,EAAAA,EAAAA,EAAAA,EAAsBC,GAIjD,MACE,UAAC4E,EAAAA,CAAaA,CAAAA,CAACxD,QAASG,EAAaC,kBAAmBA,E,SACtD,UAACqD,EAAAA,CAAkBA,CAAAA,CAACd,QAASA,EAASe,OAAQ,EAAE,C,SAC9C,WAAChB,EAAaA,CAACC,QAASA,E,UACtB,UAAC3W,EAAAA,CAAW,GAAG+T,EAAa5T,KAAK,CAAG,GAAIoX,CAAkB,GAC1D,UAACI,EAAAA,CAAcA,CAAAA,CAACrD,SAAUA,C,SAKpC,CAEA,GAAG,CAAEJ,EAAa5V,WAAW,EAAxB4V,CAAAA,EAAa5V,WAAW,CAAK,cAAa,CAAE,CAAE,KAAM,CAAC,C,ucC5C1D,IAAMsZ,EAA8B,mDAE7B,2BAAe/D,yBAA4BgE,YAShD,IAAczP,MAAO,CACnB,OAAO,IAAI,CAAC0P,YAAY,CAAC,IAAI,CAACvD,aAAa,CAC7C,CAEA,IAAYwD,kBAAmB,CAC7B,IAAMC,EAAO,IAAI,CAACjE,YAAY,EAAEkE,YAEhC,GAAI,CAACD,EACH,MAAM,MAAU,CAAC,4CAA4C,EAAE,IAAI,CAAC5P,IAAI,CAAC,CAAC,EAG5E,OAAO4P,CACT,CAEA,IAAI3D,eAAgB,CAClB,MAAO,aAAI,CAACyD,YAAY,CAAC,WAC3B,CAEAI,mBAAoB,CAClB,IAAI,CAACC,WAAW,EAClB,CAEAC,sBAAuB,CACrB,IAAI,CAACC,IAAI,EAAEC,UACX,IAAI,CAACD,IAAI,CAAGjX,KAAAA,CACd,CAEA,MAAc+W,aAAc,CAC1B,GAAI,CAAC,IAAI,CAACI,SAAS,CAAE,MAAM,MAAU,0BACrC,IAAIC,EAAqB,CACvBC,WAAUA,EAAAA,CAAAA,CACVC,YAAWA,EAAAA,CAAAA,EAITC,EAAAA,CAAkBA,CAAC9D,SAAS,IAC9B2D,CAAAA,EAAW,MAAM,IAAI,CAACI,wBAAwB,EAAC,EAGjD,IAAM7E,EAAe3N,KAAKG,KAAK,CAAC,IAAI,CAACwR,gBAAgB,EAC/Cc,EAAe,IAAI,CAACvE,QAAQ,EAAE2D,YAC9Ba,EAAO,MAAM,IAAI,CAAChF,YAAY,CAACC,GAC/BgF,EAAW,UAACzD,EAAAA,UAAgB,E,SAAEwD,C,GAMpC,GAJID,GACF,IAAI,CAACG,WAAW,CAACH,GAGf,IAAI,CAACxE,aAAa,CAAE,CAUtB,IAAM7C,EAAS,IAAI,CAACyH,aAAa,CAAC,6BAC9BzH,GAAQ0H,SAASC,IAAI,CAACC,WAAW,CAAC5H,GAKtC,IAAI,CAAC6G,IAAI,CAAGG,EAASE,WAAW,CAAC,IAAI,CAACH,SAAS,CAAEQ,EAAU,CACzDM,mBAAoBtM,IAClB,GAAI,CAAEA,CAAAA,aAAiBuM,KAAI,EAAI,OAE/B,IAAMC,EAAQ3B,EAA4B4B,IAAI,CAACzM,EAAM/C,OAAO,EACtDyP,EAAYC,OAAOH,GAAOI,QAAQF,WAExCG,CAAAA,EAAAA,EAAAA,CAAAA,EAAU,CACRC,aAAc,wBACdC,cAAe,CACb9F,QAAS,IAAI,CAAC5L,IAAI,CAClBqR,UAAAA,CACF,CACF,EACF,CACF,GAGIjI,GAEFuI,oBAAoB,KAElBvI,EAAOwI,aAAa,EAAEC,YAAYzI,EACpC,EAEJ,MACE,IAAI,CAAC6G,IAAI,CAAGG,EAASC,UAAU,CAAC,IAAI,CAACF,SAAS,EAC9C,IAAI,CAACF,IAAI,CAAC3C,MAAM,CAACqD,GAGnB,IAAI,CAACjG,SAAS,CAACoH,GAAG,CAAC,SACrB,CAEQtB,0BAA2B,CAEjC,OAAO,iDACT,CAEQI,YAAYH,CAAoB,CAAE,CACxC,GAAIsB,EAAAA,CAAe,CAACtB,EAAa,CAE/B,OAAOuB,QAAQrN,KAAK,CAAC,qCAAsCoN,EAAAA,CAAe,CAACtB,EAAa,EAG1F,GAAI,CACF,IAAM9L,EAAQ3G,KAAKG,KAAK,CAACsS,GACnBwB,EAAaC,SAaOvN,CAA8B,EAC5D,GAAI,CAACA,EAAMsN,UAAU,CAAE,MAAO,GAC9B,IAAIE,EAAS,MAOb,OAAOC,EANaH,UAAU,CAACjL,GAAG,CAAC,IACjC,GAAM,CAACqL,SAAUC,CAAI,CAAEC,SAAAA,CAAQ,CAAEC,OAAAA,CAAM,CAAEC,MAAAA,CAAK,CAAC,CAAGC,EAC5CC,EAAO,CAAC,EAAER,EAAO,IAAI,EAAEG,EAAK,EAAE,EAAEC,EAAS,CAAC,EAAEC,EAAO,CAAC,EAAEC,EAAM,CAAC,CAAC,CAEpE,OADAN,EAAS,IACFQ,CACT,GACa3T,IAAI,CAAC,KACpB,EAvBgD2F,GAE1CqN,QAAQrN,KAAK,CAAC,0BAA2B,CAAC,EAAEA,EAAMI,IAAI,CAAC,EAAE,EAAEJ,EAAM9O,KAAK,CAAC;AAAE,CAAC,CAAE8O,EAAOsN,EACrF,CAAE,KAAM,CAKND,QAAQrN,KAAK,CAAC,0BAA2B8L,EAAc,0BACzD,CACF,CACF,E,GAjIGmC,EAAAA,EAAMA,C,CADanH,iBAAAA,SAAAA,CAAAA,eAAAA,KAAAA,G,GAEnBmH,EAAAA,EAAMA,C,CAFanH,iBAAAA,SAAAA,CAAAA,WAAAA,KAAAA,G,GAGnBmH,EAAAA,EAAMA,C,CAHanH,iBAAAA,SAAAA,CAAAA,YAAAA,KAAAA,GAgJtB,GAAG,CAAE+D,EAA4BtZ,WAAW,EAAvCsZ,CAAAA,EAA4BtZ,WAAW,CAAK,6BAA4B,CAAE,CAAE,KAAM,CAAC,C,sBC/FpF2c,E,+DChEJ,IAAMC,EAAc,IAAIC,QAgBlBC,EAAY,IAAIC,QAQf,SAASC,EAAcC,EAAKrC,QAAQ,EACvC,GAAIkC,EAAUxO,GAAG,CAAC2O,GACd,OAAOH,EAAU5Y,GAAG,CAAC+Y,GACzB,IAAIC,EAAS,GACPC,EAAW,IAAIC,iBAAiBC,IAClC,IAAK,IAAMC,KAAYD,EACnB,GAAIC,eAAAA,EAASzO,IAAI,EAAqByO,EAASZ,MAAM,YAAYa,QAC7DC,EAAYF,EAASZ,MAAM,OAE1B,GAAIY,cAAAA,EAASzO,IAAI,EAAoByO,EAASG,UAAU,CAAC5c,MAAM,CAChE,IAAK,IAAM2Z,KAAQ8C,EAASG,UAAU,CAC9BjD,aAAgB+C,SAChBG,EAAalD,EAKjC,GACA2C,EAASQ,OAAO,CAACV,EAAI,CAAEW,UAAW,GAAMC,QAAS,GAAMC,gBAAiB,CAAC,cAAc,GACvF,IAAMC,EAAe,CACjB,IAAIb,QAAS,CACT,OAAOA,CACX,EACAc,cACId,EAAS,GACTJ,EAAUzT,MAAM,CAAC4T,GACjBE,EAASc,UAAU,EACvB,CACJ,EAEA,OADAnB,EAAU1T,GAAG,CAAC6T,EAAIc,GACXA,CACX,CACA,SAASL,EAAa3D,CAAI,EACtB,IAAK,IAAMkD,KAAMlD,EAAKmE,gBAAgB,CAAC,iBACnCV,EAAYP,GAGZlD,aAAgBwD,SAAWxD,EAAKoE,YAAY,CAAC,gBAC7CX,EAAYzD,EAEpB,CAEA,SAASqE,EAAYC,CAAK,EACtB,IAAMpB,EAAKoB,EAAMC,aAAa,CAC9B,IAAK,IAAMC,KAAWC,EAASvB,GAC3B,GAAIoB,EAAMxP,IAAI,GAAK0P,EAAQ1P,IAAI,CAAE,CAC7B,IAAMqH,EAAa+G,EAAGtH,OAAO,CAAC4I,EAAQE,GAAG,EACrC7B,EAAYtO,GAAG,CAAC4H,IAAe,mBAAOA,CAAU,CAACqI,EAAQjW,MAAM,CAAC,EAChE4N,CAAU,CAACqI,EAAQjW,MAAM,CAAC,CAAC+V,GAE/B,IAAMtE,EAAOkD,EAAGyB,WAAW,GAC3B,GAAI3E,aAAgB4E,YAAc/B,EAAYtO,GAAG,CAACyL,EAAK6E,IAAI,GAAK7E,EAAK6E,IAAI,CAACC,OAAO,CAACN,EAAQE,GAAG,EAAG,CAC5F,IAAMK,EAAmB/E,EAAK6E,IAAI,CACc,YAA5C,OAAOE,CAAgB,CAACP,EAAQjW,MAAM,CAAC,EACvCwW,CAAgB,CAACP,EAAQjW,MAAM,CAAC,CAAC+V,EAEzC,CACJ,CAER,CACA,SAAUG,EAASvB,CAAE,EACjB,IAAK,IAAM8B,IAAU,CAAC9B,EAAGzD,YAAY,CAAC,gBAAkB,EAAC,EAAGwF,IAAI,GAAGtP,KAAK,CAAC,OAAQ,CAC7E,IAAMuP,EAAWF,EAAOG,WAAW,CAAC,KAC9BC,EAAYC,KAAKC,GAAG,CAAC,EAAGN,EAAOG,WAAW,CAAC,OAASH,EAAOle,MAAM,MACjE,CACFgO,KAAMkQ,EAAOO,KAAK,CAAC,EAAGL,GACtBR,IAAKM,EAAOO,KAAK,CAACL,EAAW,EAAGE,GAChC7W,OAAQyW,EAAOO,KAAK,CAACH,EAAY,IAAM,aAC3C,CACJ,CACJ,CACA,SAAS3B,EAAYP,CAAE,EACnB,IAAK,IAAMsB,KAAWC,EAASvB,GAC3BA,EAAG9H,gBAAgB,CAACoJ,EAAQ1P,IAAI,CAAEuP,EAE1C,CCvFO,SAASmB,EAAWrJ,CAAU,CAAEpM,CAAI,EACvC,IAAM2U,EAAMvI,EAAWsJ,OAAO,CAACC,WAAW,GAC1C,GAAIvJ,EAAWwJ,UAAU,CACrB,KAAK,IAAMzC,KAAM/G,EAAWwJ,UAAU,CAACxB,gBAAgB,CAAC,CAAC,eAAe,EAAEO,EAAI,CAAC,EAAE3U,EAAK,EAAE,CAAC,EACrF,GAAI,CAACmT,EAAGtH,OAAO,CAAC8I,GACZ,OAAOxB,CACf,CAEJ,IAAK,IAAMA,KAAM/G,EAAWgI,gBAAgB,CAAC,CAAC,eAAe,EAAEO,EAAI,CAAC,EAAE3U,EAAK,EAAE,CAAC,EAC1E,GAAImT,EAAGtH,OAAO,CAAC8I,KAASvI,EACpB,OAAO+G,CAEnB,CCxBO,IAAM0C,EAAY,GAASvE,OAAO,iBAAOwE,EAAmBA,EAAIC,WAAW,CAAGD,GAChFE,OAAO,CAAC,oBAAqB,OAC7BA,OAAO,CAAC,MAAO,KACfA,OAAO,CAAC,QAAS,IACjBL,WAAW,GACHM,EAAgB,CAACH,EAAK/Q,EAAO,UAAU,IAChD,IAAMmR,EAASL,EAAUC,GACzB,GAAI,CAACI,EAAOpZ,QAAQ,CAAC,KACjB,MAAM,IAAIqZ,aAAa,CAAC,EAAEpR,EAAK,EAAE,EAAEuM,OAAOwE,GAAK,gBAAgB,EAAE/Q,EAAK,KAAK,CAAC,CAAE,eAElF,OAAOmR,CACX,ECTME,EAAU,OAQT,SAASC,EAAKC,CAAK,CAAEjc,CAAG,EAC3Bkc,EAAKD,EAAOF,GAAStE,GAAG,CAACzX,EAC7B,CAoBA,IAAMmc,EAAc,IAAIzD,QACjB,SAAS0D,EAAgBC,CAAQ,CAAEC,CAAK,EAC3C,GAAIH,EAAYhS,GAAG,CAACkS,GAChB,OACJF,EAAY1E,GAAG,CAAC4E,GAChB,IAAMJ,EAAQ7f,OAAOmgB,cAAc,CAACF,GAC9BvE,EAASmE,GAAOhZ,aAAauZ,YAAc,QAGjD,IAAK,IAAMxc,KAFNsc,GACDA,CAAAA,EAAQJ,EAAKD,EAAOF,EAAO,EACbO,GAAO,CACrB,IAAM9gB,EAAQ6gB,CAAQ,CAACrc,EAAI,CACrB2F,EAAOiW,EAAc,CAAC,EAAE9D,EAAO,EAAE9X,EAAI,CAAC,EACxCyc,EAAa,CACbC,aAAc,GACd3c,MACI,OAAO,IAAI,CAACsV,YAAY,CAAC1P,IAAS,EACtC,EACAV,IAAI0X,CAAQ,EACR,IAAI,CAAC9L,YAAY,CAAClL,EAAMgX,GAAY,GACxC,CACJ,CACI,CAAiB,UAAjB,OAAOnhB,EACPihB,EAAa,CACTC,aAAc,GACd3c,MACI,OAAO6c,OAAO,IAAI,CAACvH,YAAY,CAAC1P,IAAS,EAC7C,EACAV,IAAI0X,CAAQ,EACR,IAAI,CAAC9L,YAAY,CAAClL,EAAMgX,EAC5B,CACJ,EAEsB,WAAjB,OAAOnhB,GACZihB,CAAAA,EAAa,CACTC,aAAc,GACd3c,MACI,OAAO,IAAI,CAACia,YAAY,CAACrU,EAC7B,EACAV,IAAI0X,CAAQ,EACR,IAAI,CAACE,eAAe,CAAClX,EAAMgX,EAC/B,CACJ,GAEJvgB,OAAO0gB,cAAc,CAACT,EAAUrc,EAAKyc,GACjCzc,KAAOqc,GAAY,CAACA,EAASrC,YAAY,CAACrU,IAC1C8W,EAAWxX,GAAG,CAACnI,IAAI,CAACuf,EAAU7gB,EAEtC,CACJ,CC5EA,IAAMuhB,EAASC,OAAOC,GAAG,CAAC,YACnB,2BAAMC,iBACTja,YAAYka,CAAW,CAAE,CAErB,IAAMC,EAAW,IAAI,CACf3H,EAAoB0H,EAAYE,SAAS,CAAC5H,iBAAiB,CACjE0H,EAAYE,SAAS,CAAC5H,iBAAiB,CAAG,WACtC2H,EAAS3H,iBAAiB,CAAC,IAAI,CAAEA,EACrC,EACA,IAAME,EAAuBwH,EAAYE,SAAS,CAAC1H,oBAAoB,CACvEwH,EAAYE,SAAS,CAAC1H,oBAAoB,CAAG,WACzCyH,EAASzH,oBAAoB,CAAC,IAAI,CAAEA,EACxC,EACA,IAAM2H,EAA2BH,EAAYE,SAAS,CAACC,wBAAwB,CAC/EH,EAAYE,SAAS,CAACC,wBAAwB,CAAG,SAAU3X,CAAI,CAAE4X,CAAQ,CAAEZ,CAAQ,EAC/ES,EAASE,wBAAwB,CAAC,IAAI,CAAE3X,EAAM4X,EAAUZ,EAAUW,EACtE,EACA,IAAIE,EAAqBL,EAAYK,kBAAkB,EAAI,EAAE,CAC7DphB,OAAO0gB,cAAc,CAACK,EAAa,qBAAsB,CACrDT,aAAc,GACd3c,MACI,OAAOqd,EAASI,kBAAkB,CAAC,IAAI,CAAEA,EAC7C,EACAvY,IAAIwY,CAAU,EACVD,EAAqBC,CACzB,CACJ,GACAC,SDkDiCP,CAAW,EAChD,IAAIQ,EAAWR,EAAYK,kBAAkB,EAAI,EAAE,CAC7C1F,EAASqF,EAAYX,UAAU,EAAI,QACnCoB,EAAsB,GAAUhC,EAAc,CAAC,EAAE9D,EAAO,EAAEnS,EAAK,CAAC,EACtEvJ,OAAO0gB,cAAc,CAACK,EAAa,qBAAsB,CACrDT,aAAc,GACd3c,IAAAA,IACW,IAAImc,EAAKiB,EAAYE,SAAS,CAAEtB,GAAS,CAACpP,GAAG,CAACiR,GAAqBC,MAAM,CAACF,GAErF1Y,IAAIwY,CAAU,EACVE,EAAWF,CACf,CACJ,EACJ,EC/DiCN,GACzBzN,SCxBiByN,CAAW,EAChC,IAAMxX,EAAO6V,EAAU2B,EAAYxX,IAAI,EAAEgW,OAAO,CAAC,YAAa,IAC9D,GAAI,CACAvU,OAAO0W,cAAc,CAACC,MAAM,CAACpY,EAAMwX,GAGnC/V,MAAM,CAAC+V,EAAYxX,IAAI,CAAC,CAAGmY,eAAe/d,GAAG,CAAC4F,EAClD,CACA,MAAOnJ,EAAG,CAGN,GAAI,CAAEA,CAAAA,aAAasf,cAAgBtf,sBAAAA,EAAEmJ,IAAI,EACrC,MAAMnJ,CACd,CAEJ,EDSiB2gB,EACb,CACAK,mBAAmBnB,CAAQ,CAAEmB,CAAkB,CAAE,CAC7C,OAAOA,CACX,CACA/H,kBAAkB4G,CAAQ,CAAE5G,CAAiB,CAAE,KJzBxBG,EAAAA,EI0BnByG,EAASQ,eAAe,CAAC,gBAAiB,IAC1CiB,eAAeE,OAAO,CAAC3B,IACvB4B,SExCuBlN,CAAO,EAClC,IAAK,IAAMmN,KAAYnN,EAAQgJ,gBAAgB,CAAC,6BACxCmE,EAAS3G,aAAa,GAAKxG,GAC3BA,EACKoN,YAAY,CAAC,CACdjS,KAAMgS,WAAAA,EAAS7I,YAAY,CAAC,mBAAkC,SAAW,MAC7E,GACK+I,MAAM,CAACF,EAASnX,OAAO,CAACsX,SAAS,CAAC,IAGnD,EF8BuBhC,GACfD,EAAgBC,GJnCpB5D,EAAYhB,GAAG,CIoCN4E,GJnCLtK,EAAWwJ,UAAU,GAMzBhC,EADuB3D,EAJR7D,EAAWwJ,UAAU,EAMpC1C,EAAcjD,IALd2D,EIiCS8C,GJhCTxD,EAAc9G,EAAWuM,aAAa,EIiClC7I,GAAmB3Y,KAAKuf,GACpBA,EAASd,UAAU,GJ/B3BhC,EADuB3D,EIiCJyG,EAASd,UAAU,EJ/BtC1C,EAAcjD,GIgCd,CACAD,qBAAqB5E,CAAO,CAAE4E,CAAoB,CAAE,CAChDA,GAAsB7Y,KAAKiU,EAC/B,CACAuM,yBAAyBjB,CAAQ,CAAE1W,CAAI,CAAE4X,CAAQ,CAAEZ,CAAQ,CAAEW,CAAwB,CAAE,CACnFlB,EAAgBC,GACH,kBAAT1W,GAA4B2X,GAC5BA,EAAyBxgB,IAAI,CAACuf,EAAU1W,EAAM4X,EAAUZ,EAEhE,CACJ,EACO,SAAST,EAAKD,CAAK,CAAEtW,CAAI,EAC5B,GAAI,CAACvJ,OAAOihB,SAAS,CAACxgB,cAAc,CAACC,IAAI,CAACmf,EAAOc,GAAS,CACtD,IAAMwB,EAAStC,CAAK,CAACc,EAAO,CACtBpQ,EAAOsP,CAAK,CAACc,EAAO,CAAG,IAAI5X,IACjC,GAAIoZ,EACA,IAAK,GAAM,CAACve,EAAKxE,EAAM,GAAI+iB,EACvB5R,EAAI1H,GAAG,CAACjF,EAAK,IAAIqF,IAAI7J,GAGjC,CACA,IAAMmR,EAAMsP,CAAK,CAACc,EAAO,CAGzB,OAFKpQ,EAAIxC,GAAG,CAACxE,IACTgH,EAAI1H,GAAG,CAACU,EAAM,IAAIN,KACfsH,EAAI5M,GAAG,CAAC4F,EACnB,CG9DO,SAAS4S,EAAO0D,CAAK,CAAEjc,CAAG,EAC7Bkc,EAAKD,EAAO,UAAUxE,GAAG,CAACzX,GAC1B5D,OAAO0gB,cAAc,CAACb,EAAOjc,EAAK,CAC9B0c,aAAc,GACd3c,MACI,OAAOqb,EAAW,IAAI,CAAEpb,EAC5B,CACJ,EACJ,CAQO,SAASwe,EAAQvC,CAAK,CAAEjc,CAAG,EAC9Bkc,EAAKD,EAAO,WAAWxE,GAAG,CAACzX,GAC3B5D,OAAO0gB,cAAc,CAACb,EAAOjc,EAAK,CAC9B0c,aAAc,GACd3c,MACI,OAAO0e,SNLS1M,CAAU,CAAEpM,CAAI,EACxC,IAAM2U,EAAMvI,EAAWsJ,OAAO,CAACC,WAAW,GACpCkD,EAAU,EAAE,CAClB,GAAIzM,EAAWwJ,UAAU,CACrB,IAAK,IAAMzC,KAAM/G,EAAWwJ,UAAU,CAACxB,gBAAgB,CAAC,CAAC,gBAAgB,EAAEO,EAAI,CAAC,EAAE3U,EAAK,EAAE,CAAC,EACjFmT,EAAGtH,OAAO,CAAC8I,IACZkE,EAAQE,IAAI,CAAC5F,GAGzB,IAAK,IAAMA,KAAM/G,EAAWgI,gBAAgB,CAAC,CAAC,gBAAgB,EAAEO,EAAI,CAAC,EAAE3U,EAAK,EAAE,CAAC,EACvEmT,EAAGtH,OAAO,CAAC8I,KAASvI,GACpByM,EAAQE,IAAI,CAAC5F,GAErB,OAAO0F,CACX,EMT+B,IAAI,CAAExe,EAC7B,CACJ,EACJ,CC1BO,SAAS+R,EAAWoL,CAAW,EAClC,IAAID,iBAAiBC,EACzB,CTTA,IAAMwB,EAAkB,IAAIxZ,IACtByZ,EAAQ,IAAI7O,QAAQD,IAClB2G,YAAAA,SAASoI,UAAU,CACnB/O,IAGA2G,SAASzF,gBAAgB,CAAC,mBAAoB,IAAMlB,IAAW,CAAEgP,KAAM,EAAK,EAEpF,GACMC,EAAmB,IAAIhP,QAAQD,IACjC,IAAMiC,EAAa,IAAIiN,gBACvBjN,EAAWkN,MAAM,CAACjO,gBAAgB,CAAC,QAAS,IAAMlB,KAClD,IAAMoP,EAAkB,CAAEJ,KAAM,GAAMK,QAAS,GAAMF,OAAQlN,EAAWkN,MAAM,EACxEG,EAAU,IAAMrN,EAAWsN,KAAK,GACtC5I,SAASzF,gBAAgB,CAAC,YAAaoO,EAASF,GAEhDzI,SAASzF,gBAAgB,CAAC,aAAcoO,EAASF,GACjDzI,SAASzF,gBAAgB,CAAC,UAAWoO,EAASF,GAC9CzI,SAASzF,gBAAgB,CAAC,cAAeoO,EAASF,EACtD,GAsBMI,EAAa,CACfV,MAAO,IAAMA,EACbG,iBAAkB,IAAMA,EACxBQ,QAxBY,GAAa,IAAIxP,QAAQD,IACrC,IAAMkJ,EAAW,IAAIwG,qBAAqBC,IACtC,IAAK,IAAM7P,KAAS6P,EAChB,GAAI7P,EAAM8P,cAAc,CAAE,CACtB5P,IACAkJ,EAASc,UAAU,GACnB,MACJ,CAER,EAAG,CAKC6F,WAAY,oBACZC,UAAW,GACf,GACA,IAAK,IAAM9G,KAAMrC,SAASsD,gBAAgB,CAACsB,GACvCrC,EAASQ,OAAO,CAACV,EAEzB,EAKA,EACM+G,EAAS,IAAIjH,QACnB,SAASkH,EAAKzJ,CAAI,EACd0J,qBAAqBF,EAAO9f,GAAG,CAACsW,IAAS,GACzCwJ,EAAO5a,GAAG,CAACoR,EAAM2J,sBAAsB,KACnC,IAAK,IAAM3E,KAAWsD,EAAgBsB,IAAI,GAAI,CAC1C,IAAMC,EAAQ7J,EAAKqE,OAAO,CAACW,GAAWhF,EAAOA,EAAKG,aAAa,CAAC6E,GAChE,GAAIyC,eAAe/d,GAAG,CAACsb,IAAY6E,EAAO,CACtC,IAAMC,EAAgBD,GAAO7K,aAAa,iBAAmB,QACvD+K,EAAWD,KAAgBb,EAAaA,CAAU,CAACa,EAAa,CAAGb,EAAWV,KAAK,CAEzF,IAAK,IAAMyB,KAAM1B,EAAgB5e,GAAG,CAACsb,IAAY,EAAE,CAC/C+E,EAAS/E,GAASiF,IAAI,CAACD,GAC3B1B,EAAgBzZ,MAAM,CAACmW,GACvBwE,EAAO3a,MAAM,CAACmR,EAClB,CACJ,CACJ,GACJ,CAEO,SAASkK,EAAWlF,CAAO,CAAEmF,CAAQ,EACnC7B,EAAgBxU,GAAG,CAACkR,IACrBsD,EAAgB1Z,GAAG,CAACoW,EAAS,IAAIhW,KACrCsZ,EAAgB5e,GAAG,CAACsb,GAAS5D,GAAG,CAAC+I,GACjCV,EAAKrJ,SAAS9O,IAAI,EACb6Q,GAWDA,CAVAA,EAAgB,IAAIS,iBAAiBC,IACjC,GAAKyF,EAAgBrgB,IAAI,CAEzB,IAAK,IAAM6a,KAAYD,EACnB,IAAK,IAAM7C,KAAQ8C,EAASG,UAAU,CAC9BjD,aAAgB+C,SAChB0G,EAAKzJ,EAGrB,EAAC,EACamD,OAAO,CAAC/C,SAAU,CAAEiD,QAAS,GAAMD,UAAW,EAAK,EAEzE,C,6CUnFA,IAAMgH,EAAW,CACfC,KAAM,OACNC,MAAO,QACPC,QAAS,SACX,EAEA,IAsBIC,EAAYC,EAAOC,EAAcC,EAAgBC,EAAYC,EA6H7DC,EAAIC,EAAUC,EAAUC,EA0DxBC,EAAUC,EAAQC,EAAYC,EAAcC,EAAgBC,EAA6BC,EA7MzFC,EAAkB,CAACC,EAAKC,EAAQC,KAClC,GAAI,CAACD,EAAO7X,GAAG,CAAC4X,GACd,MAAMG,UAAU,UAAYD,EAChC,EACIE,EAAiB,CAACJ,EAAKC,EAAQI,KACjCN,EAAgBC,EAAKC,EAAQ,2BACtBI,EAASA,EAAOtlB,IAAI,CAACilB,GAAOC,EAAOjiB,GAAG,CAACgiB,IAE5CM,EAAiB,CAACN,EAAKC,EAAQxmB,KACjC,GAAIwmB,EAAO7X,GAAG,CAAC4X,GACb,MAAMG,UAAU,oDAClBF,CAAAA,aAAkBtJ,QAAUsJ,EAAOvK,GAAG,CAACsK,GAAOC,EAAO/c,GAAG,CAAC8c,EAAKvmB,EAChE,EACI8mB,EAAiB,CAACP,EAAKC,EAAQxmB,EAAO+mB,KACxCT,EAAgBC,EAAKC,EAAQ,0BAC7BO,EAASA,EAAOzlB,IAAI,CAACilB,EAAKvmB,GAASwmB,EAAO/c,GAAG,CAAC8c,EAAKvmB,GAC5CA,GAELgnB,EAAoB,CAACT,EAAKC,EAAQ7d,KACpC2d,EAAgBC,EAAKC,EAAQ,yBACtB7d,GAGT,kBAAMse,QACJxf,YAAY,CAAEyf,UAAAA,CAAS,CAAE,CAAE,CACzBL,EAAe,IAAI,CAAEtB,GACrBsB,EAAe,IAAI,CAAEpB,GACrBoB,EAAe,IAAI,CAAExB,EAAY,KAAK,GACtCwB,EAAe,IAAI,CAAEvB,EAAO,KAAK,GACjCwB,EAAe,IAAI,CAAEzB,EAAY6B,GACjCJ,EAAe,IAAI,CAAExB,EAAO,EAAE,CAChC,CACA6B,OAAOnnB,CAAK,CAAE,CACZ2mB,EAAe,IAAI,CAAErB,GAAOpC,IAAI,CAACljB,GACjCgnB,EAAkB,IAAI,CAAEvB,EAAYC,GAAcpkB,IAAI,CAAC,IAAI,CAC7D,CACA8lB,KAAM,CACJ,IAAMC,EAAOV,EAAe,IAAI,CAAErB,EAAM,CAAC,EAAE,CAM3C,OALIqB,EAAe,IAAI,CAAErB,EAAM,CAACqB,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,CAAG,EAAE,GACrEylB,EAAe,IAAI,CAAErB,EAAM,CAAC,EAAE,CAAGqB,EAAe,IAAI,CAAErB,EAAM,CAACqB,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,CAAG,EAAE,CACpGylB,EAAe,IAAI,CAAErB,GAAO8B,GAAG,IAEjCJ,EAAkB,IAAI,CAAEzB,EAAcC,GAAgBlkB,IAAI,CAAC,IAAI,EACxD+lB,CACT,CACAC,MAAO,CACL,OAAOX,EAAe,IAAI,CAAErB,EAAM,CAAC,EAAE,CAEvC5b,OAAO1J,CAAK,CAAE,CACZ,IAAMunB,EAAQZ,EAAe,IAAI,CAAErB,GAAOkC,OAAO,CAACxnB,EACpC,MAAVunB,IAGJE,EAAKd,EAAe,IAAI,CAAErB,GAAQiC,EAAOZ,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,CAAG,GAC9EylB,EAAe,IAAI,CAAErB,GAAO8B,GAAG,GAC/BJ,EAAkB,IAAI,CAAEzB,EAAcC,GAAgBlkB,IAAI,CAAC,IAAI,EACjE,CACAomB,OAAQ,CACNZ,EAAe,IAAI,CAAExB,EAAO,EAAE,CAChC,CACA,IAAIxiB,MAAO,CACT,OAAO6jB,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,CAE7C,EAiCA,SAASymB,EAAeJ,CAAK,EAC3B,OAAO9H,KAAKmI,KAAK,CAAC,CAACL,EAAQ,GAAK,EAClC,CAmBA,SAASE,EAAKI,CAAI,CAAEC,CAAC,CAAEC,CAAC,EACtB,IAAMC,EAAMH,CAAI,CAACC,EAAE,CACnBD,CAAI,CAACC,EAAE,CAAGD,CAAI,CAACE,EAAE,CACjBF,CAAI,CAACE,EAAE,CAAGC,CACZ,CAzDA3C,EAAa,IAAIjI,QACjBkI,EAAQ,IAAIlI,QACZmI,EAAe,IAAIrI,QACnBsI,EAAiB,WACf,IAAI+B,EAAQ,EACZ,KA+BOU,EA/BaV,EAsBD,EAtBQZ,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,EAAG,CAC9D,IAAIgnB,EAqBC,EArBqCX,EAqBzB,EAjBjB,GAoBK,EAvBaA,EAuBD,EAvBQZ,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,EAAKylB,EAAe,IAAI,CAAEtB,GAAY/jB,IAAI,CAAC,IAAI,CAyCrGumB,EAzCiI,IAAI,CAAEvC,EAyCnI,CAlBJ,EAvB+IiC,EAuBnI,EAkBmB,CAH/BM,EAtCgL,IAAI,CAAEvC,EAsClL,CAlBJ,EApB8LiC,EAoBlL,EAkBkB,IAtC4KtC,EAASC,IAAI,EAC1NgD,CAAAA,EAsBG,EAtBoCX,EAsBxB,CAtB6B,EAE1CZ,EAAe,IAAI,CAAEtB,GAAY/jB,IAAI,CAAC,IAAI,CAAEqlB,EAAe,IAAI,CAAErB,EAAM,CAACiC,EAAM,CAAEZ,EAAe,IAAI,CAAErB,EAAM,CAAC4C,EAAkB,IAAMjD,EAASC,IAAI,CACnJ,MAEAuC,EAAKd,EAAe,IAAI,CAAErB,GAAQiC,EAAOW,GAE3CX,EAAQW,CACV,CACF,EACAzC,EAAa,IAAIvI,QACjBwI,EAAe,WACb,IAAI6B,EAAQZ,EAAe,IAAI,CAAErB,GAAOpkB,MAAM,CAAG,EACjD,KAAOinB,EAqBQ,GArBYxB,EAAe,IAAI,CAAEtB,GAAY/jB,IAAI,CAAC,IAAI,CAAEqlB,EAAe,IAAI,CAAErB,EAAM,CAACiC,EAAM,CA8BlGM,EA9B0H,IAAI,CAAEvC,EA8B5H,CAACqC,EA9BmIJ,GA8B7G,IA9ByHtC,EAASC,IAAI,EACtKuC,EAAKd,EAAe,IAAI,CAAErB,GAAQiC,EAAOI,EAAeJ,IACxDA,EAAQI,EAAeJ,EAE3B,EAkCA,IAAIa,EAAYxnB,OAAO0gB,cAAc,CACjC+G,EAAkB,CAAC9B,EAAK/hB,EAAKxE,IAAUwE,KAAO+hB,EAAM6B,EAAU7B,EAAK/hB,EAAK,CAAE8jB,WAAY,GAAMpH,aAAc,GAAMqH,SAAU,GAAMvoB,MAAAA,CAAM,GAAKumB,CAAG,CAAC/hB,EAAI,CAAGxE,EACtJwoB,EAAgB,CAACjC,EAAK/hB,EAAKxE,KAC7BqoB,EAAgB9B,EAAK,iBAAO/hB,EAAmBA,EAAM,GAAKA,EAAKxE,GACxDA,GAELyoB,EAAkB,CAAClC,EAAKC,EAAQC,KAClC,GAAI,CAACD,EAAO7X,GAAG,CAAC4X,GACd,MAAMG,UAAU,UAAYD,EAChC,EACIiC,EAAiB,CAACnC,EAAKC,EAAQI,KACjC6B,EAAgBlC,EAAKC,EAAQ,2BACtBI,EAASA,EAAOtlB,IAAI,CAACilB,GAAOC,EAAOjiB,GAAG,CAACgiB,IAE5CoC,EAAiB,CAACpC,EAAKC,EAAQxmB,KACjC,GAAIwmB,EAAO7X,GAAG,CAAC4X,GACb,MAAMG,UAAU,oDAClBF,CAAAA,aAAkBtJ,QAAUsJ,EAAOvK,GAAG,CAACsK,GAAOC,EAAO/c,GAAG,CAAC8c,EAAKvmB,EAChE,EACI4oB,EAAiB,CAACrC,EAAKC,EAAQxmB,EAAO+mB,KACxC0B,EAAgBlC,EAAKC,EAAQ,0BAC7BO,EAASA,EAAOzlB,IAAI,CAACilB,EAAKvmB,GAASwmB,EAAO/c,GAAG,CAAC8c,EAAKvmB,GAC5CA,GAGT,mBAAMyU,SACJhN,aAAc,CACZ+gB,EAAc,IAAI,CAAE7C,EAAI,YACxBgD,EAAe,IAAI,CAAE/C,EAAU,KAAK,GACpC+C,EAAe,IAAI,CAAE9C,EAAU,KAAK,GACpC8C,EAAe,IAAI,CAAE7C,EAAS,KAAK,GACnC8C,EAAe,IAAI,CAAEhD,EAAU,IAAIrR,QAAQ,CAACD,EAASuU,KACnDD,EAAe,IAAI,CAAE/C,EAAUvR,GAC/BsU,EAAe,IAAI,CAAE9C,EAAS+C,EAChC,GACF,CACA/D,KAAKgE,CAAW,CAAEC,CAAU,CAAE,CAC5B,OAAOxU,QAAQsN,SAAS,CAACiD,IAAI,CAACvjB,KAAK,CAACmnB,EAAe,IAAI,CAAE9C,GAAW,CAACkD,EAAaC,EAAW,CAC/F,CACAC,MAAMD,CAAU,CAAE,CAChB,OAAOxU,QAAQsN,SAAS,CAACmH,KAAK,CAACznB,KAAK,CAACmnB,EAAe,IAAI,CAAE9C,GAAW,CAACmD,EAAW,CACnF,CACAE,QAAQC,CAAS,CAAE,CACjB,OAAO3U,QAAQsN,SAAS,CAACoH,OAAO,CAAC1nB,KAAK,CAACmnB,EAAe,IAAI,CAAE9C,GAAW,CAACsD,EAAU,CACpF,CACA5U,QAAQtU,CAAK,CAAE,CACb0oB,EAAe,IAAI,CAAE7C,GAAUvkB,IAAI,CAAC,IAAI,CAAEtB,EAC5C,CACA6oB,OAAOM,CAAM,CAAE,CACbT,EAAe,IAAI,CAAE5C,GAASxkB,IAAI,CAAC,IAAI,CAAE6nB,EAC3C,CACAC,YAAa,CACX,OAAOV,EAAe,IAAI,CAAE9C,EAC9B,CACF,EACAD,EAAKnE,OAAO6H,WAAW,CACvBzD,EAAW,IAAIxI,QACfyI,EAAW,IAAIzI,QACf0I,EAAU,IAAI1I,QAEd,IAAIkM,EAAgB,CAAC/C,EAAKC,EAAQC,KAChC,GAAI,CAACD,EAAO7X,GAAG,CAAC4X,GACd,MAAMG,UAAU,UAAYD,EAChC,EACI8C,EAAe,CAAChD,EAAKC,EAAQI,KAC/B0C,EAAc/C,EAAKC,EAAQ,2BACpBI,EAASA,EAAOtlB,IAAI,CAACilB,GAAOC,EAAOjiB,GAAG,CAACgiB,IAE5CiD,EAAe,CAACjD,EAAKC,EAAQxmB,KAC/B,GAAIwmB,EAAO7X,GAAG,CAAC4X,GACb,MAAMG,UAAU,oDAClBF,CAAAA,aAAkBtJ,QAAUsJ,EAAOvK,GAAG,CAACsK,GAAOC,EAAO/c,GAAG,CAAC8c,EAAKvmB,EAChE,EACIypB,EAAe,CAAClD,EAAKC,EAAQxmB,EAAO+mB,KACtCuC,EAAc/C,EAAKC,EAAQ,0BAC3BO,EAASA,EAAOzlB,IAAI,CAACilB,EAAKvmB,GAASwmB,EAAO/c,GAAG,CAAC8c,EAAKvmB,GAC5CA,GAEL0pB,EAAkB,CAACnD,EAAKC,EAAQ7d,KAClC2gB,EAAc/C,EAAKC,EAAQ,yBACpB7d,GAIT,4BAAMghB,0BAA0B/P,YAC9BnS,aAAc,CAmBZ,GAlBA,KAAK,GACL+hB,EAAa,IAAI,CAAEtD,GACnBsD,EAAa,IAAI,CAAEpD,GAKnBoD,EAAa,IAAI,CAAEzD,EAAU,KAAK,GAIlCyD,EAAa,IAAI,CAAExD,EAAQ,KAAK,GAMhCwD,EAAa,IAAI,CAAEvD,EAAY,KAAK,GAChC,CAAC,IAAI,CAAClG,UAAU,CAAE,CACpB,IAAM6J,GAyKNlH,GAIJA,CAAAA,CADAA,EAAWzH,SAAS4O,aAAa,CAAC,WAAU,EACnCC,SAAS,CAAGC,CAAc,EAH1BrH,GAxKL3C,IADuB,CAAC4C,YAAY,CAAC,CAAEjS,KAAM,MAAO,GACzCyK,WAAW,CAACyO,EAAUre,OAAO,CAACsX,SAAS,CAAC,IACrD,CACA4G,EAAa,IAAI,CAAE1D,EAAU,IAC7B0D,EAAa,IAAI,CAAExD,EAAY,MAC/BwD,EAAa,IAAI,CAAEzD,EAAQ,IAAIiB,QAAQ,CACrCC,UAAW8C,CACb,GACF,CAKA,IAAIC,OAAQ,CACV,IAAMjqB,EAAQ,IAAI,CAAC6Z,YAAY,CAAC,gBAChC,EACSqQ,SAASlqB,EAAO,IAvCK,GA0ChC,CACA,IAAIiqB,MAAMjqB,CAAK,CAAE,CACf,IAAI,CAACqV,YAAY,CAAC,QAAS,CAAC,EAAErV,EAAM,CAAC,CACvC,CAKAmqB,SAASpe,CAAO,CAAEqe,EAAU,CAAC,CAAC,CAAE,CAC9B,GAAM,CAAEC,QAAAA,CAAO,CAAEC,WAAAA,EAAa,QAAQ,CAAE,CAAGF,EACrCvjB,EAAMX,KAAKW,GAAG,GACd0jB,EAAW,IAAI9V,SACf4S,EAAO,CACXkD,SAAAA,EACAD,WAAAA,EACAE,SAAUze,EACV0e,UAAWJ,KAAiB,IAAjBA,EAAqBxjB,EAAMwjB,EAAUxjB,CAClD,EAGA,OAFA0iB,EAAa,IAAI,CAAEvD,GAAQmB,MAAM,CAACE,GAClCqC,EAAgB,IAAI,CAAExD,EAAcC,GAAgB7kB,IAAI,CAAC,IAAI,EACtD,CACL,GAAGipB,EAASnB,UAAU,EAAE,CACxBsB,OAAQ,KACNnB,EAAa,IAAI,CAAEvD,GAAQtc,MAAM,CAAC2d,GAClCkD,EAASjW,OAAO,EAClB,CACF,CACF,CAKAqW,oBAAoBpV,CAAO,CAAE6U,CAAO,CAAE,KA2FlCpqB,EA1FF,IAAMga,GA0FJha,EAAQ,GACRuV,EAAQiJ,YAAY,CAAC,cACvBxe,EAAQuV,EAAQsE,YAAY,CAAC,cACpBtE,EAAQqV,SAAS,CAC1B5qB,EAAQuV,EAAQqV,SAAS,CAChBrV,EAAQyE,WAAW,EAC5Bha,CAAAA,EAAQuV,EAAQyE,WAAW,EAEtBha,EAAQA,EAAMqf,IAAI,GAAK,UAjG5B,KAAIrF,EACK,IAAI,CAACmQ,QAAQ,CAACnQ,EAAaoQ,GAG7B,CAD0B,GAAjB7V,QAAQD,OAAO,EAE7B,CACAoW,OAAQG,CACV,CACF,CACAC,WAAWR,EAAa,QAAQ,CAAE,CAChC,IAAMS,EAAY,IAAI,CAAChL,UAAU,EAAEiL,eAAeV,GAClD,GAAI,CAACS,EACH,MAAM,MAAU,wCAElB,OAAOA,EAAU/Q,WAAW,CAK9B0N,OAAQ,CACiC,OAAnC6B,EAAa,IAAI,CAAEtD,KACrBgF,aAAa1B,EAAa,IAAI,CAAEtD,IAChCwD,EAAa,IAAI,CAAExD,EAAY,OAEjCsD,EAAa,IAAI,CAAEvD,GAAQ0B,KAAK,EAClC,CACF,EACA3B,EAAW,IAAI3I,QACf4I,EAAS,IAAI5I,QACb6I,EAAa,IAAI7I,QACjB8I,EAAe,IAAIhJ,QACnBiJ,EAAiB,WACf,GAAIoD,EAAa,IAAI,CAAExD,GACrB,OAEF,IAAIha,EAAUwd,EAAa,IAAI,CAAEvD,GAAQsB,IAAI,GAC7C,GAAI,CAACvb,EACH,MAEqC,QAAnCwd,EAAa,IAAI,CAAEtD,KACrBgF,aAAa1B,EAAa,IAAI,CAAEtD,IAChCwD,EAAa,IAAI,CAAExD,EAAY,OAEjC,IAAMpf,EAAMX,KAAKW,GAAG,GACpB,GAAIkF,EAAQ0e,SAAS,EAAI5jB,EAAK,CAC5BkF,CAAAA,EAAUwd,EAAa,IAAI,CAAEvD,GAAQoB,GAAG,EAAC,GAEvCsC,EAAgB,IAAI,CAAEtD,EAA6BC,GAA+B/kB,IAAI,CAAC,IAAI,CAAEyK,GAE/F2d,EAAgB,IAAI,CAAExD,EAAcC,GAAgB7kB,IAAI,CAAC,IAAI,EAC7D,MACF,CACA,IAAM4pB,EAAUnf,EAAQ0e,SAAS,CAAG5jB,EACpC4iB,EAAa,IAAI,CAAExD,EAAYra,OAAO4L,UAAU,CAAC,KAC/CiS,EAAa,IAAI,CAAExD,EAAY,MAC/ByD,EAAgB,IAAI,CAAExD,EAAcC,GAAgB7kB,IAAI,CAAC,IAAI,CAC/D,EAAG4pB,GACL,EACA9E,EAA8B,IAAIlJ,QAClCmJ,EAAgC,SAASta,CAAO,EAC9C0d,EAAa,IAAI,CAAE1D,EAAU,IAC7B,GAAM,CAAEyE,SAAAA,CAAQ,CAAED,SAAAA,CAAQ,CAAED,WAAAA,CAAU,CAAE,CAAGve,EACrCgf,EAAY,IAAI,CAAChL,UAAU,EAAEiL,eAAeV,GAClD,GAAI,CAACS,EAEH,MADAtB,EAAa,IAAI,CAAE1D,EAAU,IACvB,MAAU,CAAC,oEAAoE,EAAEuE,EAAW,CAAC,CAAC,CAElGS,CAAAA,EAAU/Q,WAAW,GAAKwQ,EAC5BO,EAAU/Q,WAAW,CAAG,CAAC,EAAEwQ,EAAS,IAAI,CAAC,CAEzCO,EAAU/Q,WAAW,CAAGwQ,EAEa,OAAnCjB,EAAa,IAAI,CAAEtD,IACrBgF,aAAa1B,EAAa,IAAI,CAAEtD,IAElCsE,EAASjW,OAAO,GACZ,IAAI,CAAC2V,KAAK,CAAG,EACfR,EAAa,IAAI,CAAExD,EAAYra,OAAO4L,UAAU,CAAC,KAC/CiS,EAAa,IAAI,CAAExD,EAAY,MAC/BwD,EAAa,IAAI,CAAE1D,EAAU,IAC7B2D,EAAgB,IAAI,CAAExD,EAAcC,GAAgB7kB,IAAI,CAAC,IAAI,CAC/D,EAAG,IAAI,CAAC2oB,KAAK,IAEbR,EAAa,IAAI,CAAExD,EAAY,MAC/BwD,EAAa,IAAI,CAAE1D,EAAU,IAC7B2D,EAAgB,IAAI,CAAExD,EAAcC,GAAgB7kB,IAAI,CAAC,IAAI,EAEjE,EAYA,IAAIohB,EAAW,KACTqH,EAAkB,CAAC;;;;;;;;;;;;;AAazB,CAAC,CASD,SAASC,EAAgBlC,CAAC,CAAEC,CAAC,SAC3B,EAAMuC,UAAU,GAAKvC,EAAEuC,UAAU,CAC/B,EAAMG,SAAS,GAAK1C,EAAE0C,SAAS,CACtBxF,EAASE,KAAK,CAEnB2C,EAAE2C,SAAS,CAAG1C,EAAE0C,SAAS,CACpBxF,EAASC,IAAI,CAEfD,EAASG,OAAO,CAEzB,cAAI0C,EAAEwC,UAAU,EAAoBvC,cAAAA,EAAEuC,UAAU,CACvCrF,EAASC,IAAI,CAElB4C,cAAAA,EAAEwC,UAAU,EAAoBvC,cAAAA,EAAEuC,UAAU,CACvCrF,EAASG,OAAO,CAElBH,EAASE,KAAK,CAEvB,SAAS0F,IACT,CAMA,SAASV,EAASpe,CAAO,CAAEqe,EAAU,CAAC,CAAC,EACrC,IAAIe,EAAaC,EAAehB,EAAQiB,IAAI,EAC5C,GAAI,CAACF,EAAY,CACfA,EAAalQ,SAAS4O,aAAa,CAAC,eAChCO,EAAQkB,QAAQ,CAClBlB,EAAQkB,QAAQ,CAACnQ,WAAW,CAACgQ,GAG7BJ,EADyCX,EAAQiB,IAAI,EAC3ClQ,WAAW,CAACgQ,GAKxB,IAAII,EAAW,GACXb,EAAS,KACXa,EAAW,EACb,EAQA,MAAO,CADL,GANcC,EAAKC,GAAkB3G,IAAI,CAAC,KAC1C,GAAI,CAACyG,EAAU,CACb,IAAMpkB,EAASgkB,EAAWhB,QAAQ,CAACpe,EAASqe,GAE5C,OADAM,EAASvjB,EAAOujB,MAAM,CACfvjB,CACT,CACF,EAEE,CACAujB,OAAQ,KACNA,GACF,CACF,CACF,CACA,OAAOS,EAAWhB,QAAQ,CAACpe,EAASqe,EACtC,CACA,SAASO,EAAoBpV,CAAO,CAAE6U,EAAU,CAAC,CAAC,EAChD,IAAIe,EAAaC,EAAehB,EAAQiB,IAAI,EAC5C,GAAI,CAACF,EAAY,CACfA,EAAalQ,SAAS4O,aAAa,CAAC,eAChCO,EAAQkB,QAAQ,CAClBlB,EAAQkB,QAAQ,CAACnQ,WAAW,CAACgQ,GAG7BJ,EADyCX,EAAQiB,IAAI,EAC3ClQ,WAAW,CAACgQ,GAKxB,IAAII,EAAW,GACXb,EAAS,KACXa,EAAW,EACb,EAQA,MAAO,CADL,GANcC,EAAKC,GAAkB3G,IAAI,CAAC,KAC1C,GAAI,CAACyG,EAAU,CACb,IAAMpkB,EAASgkB,EAAWR,mBAAmB,CAACpV,EAAS6U,GAEvD,OADAM,EAASvjB,EAAOujB,MAAM,CACfvjB,CACT,CACF,EAEE,CACAujB,OAAQ,KACNA,GACF,CACF,CACF,CACA,OAAOS,EAAWR,mBAAmB,CAACpV,EAAS6U,EACjD,CACA,SAASgB,EAAeC,CAAI,EAC1B,IAAIF,EAAa,YAEjB,OADAA,CAAAA,EAAaE,EAAOK,SAWQL,CAAI,EAChC,IAAMM,EAASN,EAAKrV,OAAO,CAAC,UACxBhR,EAAUqmB,EACd,KACE,CADKrmB,EAAUA,EAAQ+W,aAAa,GAChC4P,CAAAA,CAAAA,GAAWA,EAAOC,QAAQ,CAAC5mB,EAAO,GAGtC,IAAK,IAAM0f,KAAS1f,EAAQ6mB,UAAU,CACpC,GAAInH,aAAiBiF,kBACnB,OAAOjF,EAIb,OAAO,IACT,EAzB2C2G,GAAQ,IAAG,GAMhDF,OADJA,CAAAA,EAAaJ,EAD4BM,GAClBrQ,aAAa,CAAC,cAAa,EAHzCmQ,EAOF,IACT,CAgBA,SAASW,EAAuBT,CAAI,EAClC,IAAIN,EAAY9P,SAAS9O,IAAI,CAC7B,GAAIkf,EAAM,CACR,IAAMM,EAASN,EAAKrV,OAAO,CAAC,UACxB2V,GACFZ,CAAAA,EAAYY,CAAK,CAErB,CACA,OAAOZ,CACT,CA3GKzI,eAAe/d,GAAG,CAAC,gBACtB+d,eAAeC,MAAM,CAAC,cAAeoH,mBA2GvC,IAAM8B,EAAmB,IACzB,SAASD,EAAKO,CAAE,EACd,OAAO,IAAIxX,QAAQ,IACjBiD,WAAWlD,EAASyX,EACtB,EACF,C","sources":["node_modules/@primer/react/lib-esm/FeatureFlags/FeatureFlags.js","node_modules/@primer/react/lib-esm/FeatureFlags/useFeatureFlag.js","node_modules/@primer/react/lib-esm/Heading/Heading.js","node_modules/@primer/react/lib-esm/Heading/Heading.module.css.js","node_modules/@primer/react/lib-esm/Spinner/Spinner.js","node_modules/@primer/react/lib-esm/constants.js","node_modules/@primer/react/lib-esm/hooks/useRefObjectAsForwardedRef.js","node_modules/@primer/react/lib-esm/internal/components/VisuallyHidden.js","node_modules/@styled-system/theme-get/dist/index.esm.js","node_modules/clsx/dist/clsx.m.js","ui/packages/copilot-auth-token/auth-token.ts","ui/packages/copilot-auth-token/copilot-auth-token.ts","ui/packages/copilot-chat/utils/api-cache.ts","ui/packages/copilot-chat/utils/copilot-chat-service.ts","ui/packages/copilot-chat/utils/experiments.ts","ui/packages/copilot-code-review/copilot-code-review-service.ts","ui/packages/copilot-code-review/CopilotCodeReviewAccess.tsx","ui/packages/copilot-code-review/CopilotCodeReviewButton.module.css","ui/packages/copilot-code-review/CopilotCodeReviewButton.tsx","ui/packages/copilot-code-review/CopilotCodeReview.tsx","ui/packages/copilot-code-review/copilot-code-review.ts","ui/packages/react-core/deferred-registry.ts","ui/packages/react-core/react-partial-anchor.ts","ui/packages/react-core/react-partial-registry.ts","ui/packages/react-core/ReactPartialElement.tsx","ui/packages/react-core/register-partial.ts","ui/packages/react-profiling-mode/src/index.ts","ui/packages/verified-fetch/verified-fetch.ts","ui/packages/react-core/ErrorBoundary.tsx","ui/packages/react-core/ErrorPage.tsx","ui/packages/react-core/PartialRouter.tsx","ui/packages/react-core/PartialEntry.tsx","ui/packages/react-core/ReactBaseElement.tsx","node_modules/@github/catalyst/lib/lazy-define.js","node_modules/@github/catalyst/lib/bind.js","node_modules/@github/catalyst/lib/findtarget.js","node_modules/@github/catalyst/lib/dasherize.js","node_modules/@github/catalyst/lib/attr.js","node_modules/@github/catalyst/lib/core.js","node_modules/@github/catalyst/lib/register.js","node_modules/@github/catalyst/lib/auto-shadow-root.js","node_modules/@github/catalyst/lib/target.js","node_modules/@github/catalyst/lib/controller.js","node_modules/@primer/live-region-element/dist/esm/index.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { FeatureFlagContext } from './FeatureFlagContext.js';\nimport { FeatureFlagScope } from './FeatureFlagScope.js';\nimport { DefaultFeatureFlags } from './DefaultFeatureFlags.js';\n\nfunction FeatureFlags({\n  children,\n  flags\n}) {\n  const value = useMemo(() => {\n    const scope = FeatureFlagScope.merge(DefaultFeatureFlags, FeatureFlagScope.create(flags));\n    return scope;\n  }, [flags]);\n  return /*#__PURE__*/React.createElement(FeatureFlagContext.Provider, {\n    value: value\n  }, children);\n}\nFeatureFlags.displayName = \"FeatureFlags\";\n\nexport { FeatureFlags };\n","import { useContext } from 'react';\nimport { FeatureFlagContext } from './FeatureFlagContext.js';\n\n/**\n * Check if the given feature flag is enabled\n */\nfunction useFeatureFlag(flag) {\n  const context = useContext(FeatureFlagContext);\n  return context.enabled(flag);\n}\n\nexport { useFeatureFlag };\n","import clsx from 'clsx';\nimport React, { forwardRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { get } from '../constants.js';\nimport '@primer/behaviors/utils';\nimport '@primer/behaviors';\nimport { useRefObjectAsForwardedRef } from '../hooks/useRefObjectAsForwardedRef.js';\nimport sx from '../sx.js';\nimport classes from './Heading.module.css.js';\nimport '../FeatureFlags/FeatureFlags.js';\nimport { useFeatureFlag } from '../FeatureFlags/useFeatureFlag.js';\nimport Box from '../Box/Box.js';\n\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nconst StyledHeading = styled.h2.withConfig({\n  displayName: \"Heading__StyledHeading\",\n  componentId: \"sc-1c1dgg0-0\"\n})([\"font-weight:\", \";font-size:\", \";margin:0;&:where([data-variant='large']){font:var(--text-title-shorthand-large,600 32px / 1.5 \", \");}&:where([data-variant='medium']){font:var(--text-title-shorthand-medium,600 20px / 1.6 \", \");}&:where([data-variant='small']){font:var(--text-title-shorthand-small,600 16px / 1.5 \", \");}\", \";\"], get('fontWeights.bold'), get('fontSizes.5'), get('fonts.normal'), get('fonts.normal'), get('fonts.normal'), sx);\nconst Heading = /*#__PURE__*/forwardRef(({\n  as: Component = 'h2',\n  className,\n  variant,\n  ...props\n}, forwardedRef) => {\n  const enabled = useFeatureFlag('primer_react_css_modules_team');\n  const innerRef = React.useRef(null);\n  useRefObjectAsForwardedRef(forwardedRef, innerRef);\n  if (process.env.NODE_ENV !== \"production\") {\n    /**\n     * The Linter yells because it thinks this conditionally calls an effect,\n     * but since this is a compile-time flag and not a runtime conditional\n     * this is safe, and ensures the entire effect is kept out of prod builds\n     * shaving precious bytes from the output, and avoiding mounting a noop effect\n     */\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (innerRef.current && !(innerRef.current instanceof HTMLHeadingElement)) {\n        // eslint-disable-next-line no-console\n        console.warn('This Heading component should be an instanceof of h1-h6');\n      }\n    }, [innerRef]);\n  }\n  if (enabled) {\n    if (props.sx) {\n      return /*#__PURE__*/React.createElement(Box, _extends({\n        as: Component,\n        className: clsx(className, classes.Heading),\n        \"data-variant\": variant\n      }, props, {\n        // @ts-ignore shh\n        ref: innerRef\n      }));\n    }\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(className, classes.Heading),\n      \"data-variant\": variant\n    }, props, {\n      ref: innerRef\n    }));\n  }\n  return /*#__PURE__*/React.createElement(StyledHeading, _extends({\n    as: Component,\n    className: className,\n    \"data-variant\": variant,\n    sx: sx\n  }, props, {\n    // @ts-ignore shh\n    ref: innerRef\n  }));\n});\nHeading.displayName = 'Heading';\n\nexport { Heading as default };\n","import './Heading-26b4879b.css';\n\nvar classes = {\"Heading\":\"prc-Heading-Heading-6CmGO\"};\n\nexport { classes as default };\n","import React from 'react';\nimport styled from 'styled-components';\nimport sx from '../sx.js';\nimport { VisuallyHidden } from '../internal/components/VisuallyHidden.js';\nimport Box from '../Box/Box.js';\nimport '@primer/behaviors/utils';\nimport '@primer/behaviors';\nimport { useId } from '../hooks/useId.js';\n\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nconst sizeMap = {\n  small: '16px',\n  medium: '32px',\n  large: '64px'\n};\nfunction Spinner({\n  size: sizeKey = 'medium',\n  srText = 'Loading',\n  'aria-label': ariaLabel,\n  ...props\n}) {\n  const size = sizeMap[sizeKey];\n  const hasHiddenLabel = srText !== null && ariaLabel === undefined;\n  const labelId = useId();\n  return (\n    /*#__PURE__*/\n    /* inline-flex removes the extra line height */\n    React.createElement(Box, {\n      as: \"span\",\n      sx: {\n        display: 'inline-flex'\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", _extends({\n      height: size,\n      width: size,\n      viewBox: \"0 0 16 16\",\n      fill: \"none\",\n      \"aria-hidden\": true,\n      \"aria-label\": ariaLabel !== null && ariaLabel !== void 0 ? ariaLabel : undefined,\n      \"aria-labelledby\": hasHiddenLabel ? labelId : undefined\n    }, props), /*#__PURE__*/React.createElement(\"circle\", {\n      cx: \"8\",\n      cy: \"8\",\n      r: \"7\",\n      stroke: \"currentColor\",\n      strokeOpacity: \"0.25\",\n      strokeWidth: \"2\",\n      vectorEffect: \"non-scaling-stroke\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M15 8a7.002 7.002 0 00-7-7\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      vectorEffect: \"non-scaling-stroke\"\n    })), hasHiddenLabel ? /*#__PURE__*/React.createElement(VisuallyHidden, {\n      id: labelId\n    }, srText) : null)\n  );\n}\nSpinner.displayName = \"Spinner\";\nconst StyledSpinner = styled(Spinner).withConfig({\n  displayName: \"Spinner__StyledSpinner\",\n  componentId: \"sc-1knt686-0\"\n})([\"@keyframes rotate-keyframes{100%{transform:rotate(360deg);}}animation:rotate-keyframes 1s linear infinite;\", \"\"], sx);\nStyledSpinner.displayName = 'Spinner';\n\nexport { StyledSpinner as default };\n","import { themeGet } from '@styled-system/theme-get';\nimport * as styledSystem from 'styled-system';\nimport theme from './theme.js';\n\nconst {\n  get: getKey,\n  compose,\n  system\n} = styledSystem;\nconst get = key => themeGet(key, getKey(theme, key));\n\n// Common props\n\nconst COMMON = compose(styledSystem.space, styledSystem.color, styledSystem.display);\n// Typography props\n\nconst whiteSpace = system({\n  whiteSpace: {\n    property: 'whiteSpace'\n    // cssProperty: 'whiteSpace',\n  }\n});\nconst TYPOGRAPHY = compose(styledSystem.typography, whiteSpace);\n// Border props\n\nconst BORDER = compose(styledSystem.border, styledSystem.shadow);\n// Layout props\n\nconst LAYOUT = styledSystem.layout;\n\nexport { BORDER, COMMON, LAYOUT, TYPOGRAPHY, get };\n","import { useImperativeHandle } from 'react';\n\n/**\n * Use a ref object as the imperative handle for a forwarded ref. This can be used to\n * synchronize the ref object with the forwarded ref and allow local access the reference\n * instance with `.current`.\n *\n * **NOTE**: The `refObject` should be passed to the underlying element, NOT the `forwardedRef`.\n */\nfunction useRefObjectAsForwardedRef(forwardedRef, refObject) {\n  useImperativeHandle(forwardedRef, () => refObject.current);\n}\n\nexport { useRefObjectAsForwardedRef };\n","import styled from 'styled-components';\nimport sx from '../../sx.js';\n\n/**\n * Provides a component that implements the \"visually hidden\" technique. This is\n * analagous to the common `sr-only` class. Children that are rendered inside\n * this component will not be visible but will be available to screen readers.\n *\n * Note: if this component, or a descendant, has focus then this component will\n * no longer be visually hidden.\n *\n * @see https://www.scottohara.me/blog/2023/03/21/visually-hidden-hack.html\n */\nconst VisuallyHidden = styled.span.withConfig({\n  displayName: \"VisuallyHidden\",\n  componentId: \"sc-1sffg7y-0\"\n})([\"&:not(:focus):not(:active):not(:focus-within){clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}\", \"\"], sx);\n\nexport { VisuallyHidden };\n","import { get } from '@styled-system/core';\nexport var themeGet = function themeGet(path, fallback) {\n  if (fallback === void 0) {\n    fallback = null;\n  }\n\n  return function (props) {\n    return get(props.theme, path, fallback);\n  };\n};\nexport default themeGet;\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","export type AuthTokenResult = {\n  token: string\n  expiration: string\n}\n\nexport type SerializedAuthToken = {\n  value: string\n  expiration: string\n  ssoOrgIDs: string[]\n}\n\n/**\n * AuthToken represents an authentication token that is passed to CAPI, which is used to pull resources\n * from the monolith.\n *\n * It is capable of determining which authorization scheme to use (Bearer for SSATs or our own\n * GitHub-Bearer for user tokens).\n *\n * It also can tell if it needs refreshing, i.e. if it is expired or if the SSO orgs have changed since\n * it was minted.\n *\n * AuthToken doesn't care where the list of SSO orgs comes from.  Typically they are hydrated into a React\n * partial/component via props sent from the server, which would require a page refresh to receive the\n * current list, but they could theoretically come from other places too, like API calls...\n *\n * Finally, it can convert itself to/from ordinary JS objects that can be stored/retrieved from\n * local storage.\n */\nexport class AuthToken {\n  value: string\n  expiration: string\n  ssoOrgIDs: string[]\n\n  constructor(value: string, expiration: string, ssoOrgIDs: string[]) {\n    this.value = value\n    this.expiration = expiration\n    this.ssoOrgIDs = ssoOrgIDs\n  }\n\n  /**\n   * Returns a formatted string to be used as the value of an `Authorization` header\n   * to be \"GitHub-Bearer <encrypted token>\"\n   */\n  get authorizationHeaderValue() {\n    return `GitHub-Bearer ${this.value}`\n  }\n\n  /**\n   * Returns true if this auth token needs to be refreshed.\n   */\n  needsRefreshing(ssoOrgIds: string[]) {\n    return this.isExpired || this.ssoChanged(ssoOrgIds)\n  }\n\n  /**\n   * Returns true if this auth token is expired.\n   */\n  get isExpired() {\n    const expirationDateString = new Date(this.expiration)\n\n    const expirationDate = new Date(\n      Date.UTC(\n        expirationDateString.getUTCFullYear(),\n        expirationDateString.getUTCMonth(),\n        expirationDateString.getUTCDate(),\n        expirationDateString.getUTCHours(),\n        expirationDateString.getUTCMinutes(),\n        expirationDateString.getUTCSeconds(),\n        expirationDateString.getUTCMilliseconds(),\n      ),\n    )\n\n    const padding = 15 * 1000 // seconds\n\n    return expirationDate < new Date(Date.now() + padding)\n  }\n\n  /**\n   * Returns true if the session's SSO'd organizations have changed since the token was originally issued.\n   *\n   * Technically the set of orgs is inverted, representing the orgs that are *not* SSO'd, but functionally\n   * it will operate the same.\n   */\n  ssoChanged(ssoOrgIDs: string[]) {\n    return !(\n      this.ssoOrgIDs.every(org => ssoOrgIDs.includes(org)) && ssoOrgIDs.every(org => this.ssoOrgIDs.includes(org))\n    )\n  }\n\n  /**\n   * Build a new AuthToken from the results of a call to the token API endpoint.\n   */\n  static fromResult(result: AuthTokenResult, orgIds: string[]) {\n    return new AuthToken(result.token, result.expiration, orgIds)\n  }\n\n  /**\n   * Convert this token into a plain JS object, which can be stringified and put into localStorage.\n   */\n  serialize(): SerializedAuthToken {\n    return {\n      value: this.value,\n      expiration: this.expiration,\n      ssoOrgIDs: this.ssoOrgIDs,\n    }\n  }\n\n  /**\n   * Build a new auth token from a plain JS object, i.e. one parsed from localStorage.\n   */\n  static deserialize(serialized: SerializedAuthToken): AuthToken {\n    return new AuthToken(serialized.value, serialized.expiration, serialized.ssoOrgIDs)\n  }\n}\n","import {AuthToken, type AuthTokenResult, type SerializedAuthToken} from './auth-token'\nimport safeStorage from '@github-ui/safe-storage'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\nconst COPILOT_AUTH_TOKEN_KEY = 'COPILOT_AUTH_TOKEN'\nexport class CopilotAuthTokenProvider {\n  ssoOrgIDs: string[]\n  currentAuthTokenRequest: Promise<AuthToken> | null\n  copilotLocalStorage: {\n    getItem: (key: string, now?: number) => string | null\n    setItem: (key: string, value: string, now?: number) => void\n  }\n\n  constructor(ssoOrgIDs: string[]) {\n    this.ssoOrgIDs = ssoOrgIDs\n    this.currentAuthTokenRequest = null\n    this.copilotLocalStorage = safeStorage('localStorage', {\n      throwQuotaErrorsOnSet: false,\n      ttl: 1000 * 60 * 60 * 24,\n    })\n  }\n\n  /**\n   * Get the current auth token, either from local storage or by minting a new one from dotcom.\n   */\n  async getAuthToken(): Promise<AuthToken> {\n    const token = this.getLocalStorageAuthToken()\n\n    return token ? this.validateAuthToken(token) : this.fetchAuthToken()\n  }\n\n  setLocalStorageAuthToken(token: AuthToken) {\n    this.copilotLocalStorage.setItem(COPILOT_AUTH_TOKEN_KEY, JSON.stringify(token.serialize()))\n  }\n\n  getLocalStorageAuthToken(): AuthToken | null {\n    const value = this.copilotLocalStorage.getItem(COPILOT_AUTH_TOKEN_KEY)\n\n    return value ? AuthToken.deserialize(JSON.parse(value) as SerializedAuthToken) : null\n  }\n\n  /**\n   * Validate the given auth token.  If it's all good, return it, otherwise, go mint a new one from\n   * dotcom and return it instead.\n   */\n  private async validateAuthToken(token: AuthToken): Promise<AuthToken> {\n    return token.needsRefreshing(this.ssoOrgIDs) ? this.fetchAuthToken() : token\n  }\n\n  /**\n   * Return the current auth token request, or start a new one.\n   *\n   * The inner workings of the chat app can cause multiple requests to CAPI in quick succession.  If we\n   * do not have an auth token available in local storage, each of those requests will trigger their own\n   * token fetch, hence the storing of the current request on `this`.\n   */\n  private fetchAuthToken(): Promise<AuthToken> {\n    if (!this.currentAuthTokenRequest) {\n      this.currentAuthTokenRequest = this._fetchAuthToken()\n    }\n\n    return this.currentAuthTokenRequest\n  }\n\n  /**\n   * Start a new auth token request, parsing the result, persisting it in local storage,\n   * and clearing the current request once finished.\n   */\n  private async _fetchAuthToken(): Promise<AuthToken> {\n    const response = await verifiedFetchJSON('/github-copilot/chat/token', {method: 'POST'})\n\n    if (response.ok) {\n      const result = (await response.json()) as AuthTokenResult\n      this.currentAuthTokenRequest = null\n\n      const token = AuthToken.fromResult(result, this.ssoOrgIDs)\n\n      this.setLocalStorageAuthToken(token)\n\n      return token\n    } else {\n      this.currentAuthTokenRequest = null\n\n      throw new Error('Failed to mint new auth token')\n    }\n  }\n}\n","import type {APIResult} from './copilot-chat-types'\n\n/**\n * Caches results of API calls based on the parameters. Ensures that only one request is dispatched for the same parameters.\n */\nexport class ApiCache<TResult, TParams extends string[]> {\n  private readonly separator = '-!-'\n  private cache = new Map<string, Promise<APIResult<TResult>>>()\n\n  public constructor(private fetchFn: (...params: TParams) => Promise<APIResult<TResult>>) {}\n\n  public async get(...params: TParams): Promise<APIResult<TResult>> {\n    const key = params.join(this.separator)\n    const cached = this.cache.get(key)\n    if (cached) {\n      return cached\n    } else {\n      const promise = this.fetchFn(...params)\n      this.cache.set(key, promise)\n      const result = await promise\n      if (!result.ok) {\n        this.cache.delete(key)\n      }\n      return promise\n    }\n  }\n}\n","import {CopilotAuthTokenProvider} from '@github-ui/copilot-auth-token'\nimport {blobDetectLanguage, treeListPath} from '@github-ui/paths'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\n\nimport {ApiCache} from './api-cache'\nimport type {\n  APIResult,\n  APIStreamingResult,\n  BlackbirdSuggestion,\n  CopilotChatAgent,\n  CopilotChatMessage,\n  CopilotChatOrg,\n  CopilotChatReference,\n  CopilotChatRepo,\n  CopilotChatSuggestions,\n  CopilotChatThread,\n  CopilotClientConfirmation,\n  Docset,\n  FailedAPIResult,\n  FileReference,\n  KnowledgeBasesResponse,\n  ReferenceDetails,\n  SuggestionsResponse,\n} from './copilot-chat-types'\nimport {getCopilotExperiments} from './experiments'\n\nconst BLACKBIRD_SUGGESTION_KIND = 'SUGGESTION_KIND_SYMBOL'\nconst HYDRATABLE_REFERENCE_TYPES = new Set(['snippet', 'file', 'symbol', 'docset', 'repository'])\n\ntype ListMessagesPayload = {\n  thread: CopilotChatThread\n  messages: CopilotChatMessage[]\n}\n\ntype FeedbackPayload = {\n  feedback?: string\n  textResponse?: string\n  feedbackChoice?: string[]\n  isContactedChecked?: string | null\n  messageId: string\n  threadId: string | undefined\n}\n\ntype APIPayload = CreateMessagePayload\n\ntype CreateMessagePayload = {\n  content: string\n  intent: string\n  references: CopilotChatReference[]\n  currentURL: string\n  streaming?: boolean\n  context: CopilotChatReference[]\n  confirmations: CopilotClientConfirmation[]\n  customInstructions?: string[]\n  knowledgeBases?: Docset[]\n}\n\nexport const ERRORS: {[key: number]: string} = {\n  400: 'This message could not be processed.',\n  401: 'You’re not authorized to use Copilot.',\n  403: 'This response could not be shown as it violates GitHub’s content policies.',\n  404: 'Resource not found. Please try again.',\n  408: 'Your network connection was interrupted. Please try again.',\n  413: 'Message too large. Please shorten it or remove some references and try again.',\n  429: 'GitHub API rate limit exceeded. Please wait and try again.',\n}\n\ninterface FetchThreadsParams {\n  /* Filter threads to just those with the specified name, case sensitive */\n  name?: string | undefined | null\n}\n\nexport class CopilotChatService {\n  apiURL: string\n  urlPathPrefix = '/github-copilot/chat'\n  ERROR_MSG = \"I'm sorry but there was an error. Please try again.\"\n  docsetsPromise: Promise<APIResult<KnowledgeBasesResponse>> | undefined = undefined\n  repoDetailsCache = new Map<number | string, CopilotChatRepo>()\n  listMessagesCache: ListMessagesPayload | undefined = undefined\n  copilotAuthTokenProvider: CopilotAuthTokenProvider\n\n  constructor(apiURL: string, ssoOrgs: CopilotChatOrg[]) {\n    this.apiURL = apiURL\n    this.copilotAuthTokenProvider = new CopilotAuthTokenProvider(ssoOrgs.map(org => org.id))\n  }\n\n  async fetchThreads(params: FetchThreadsParams = {}): Promise<APIResult<CopilotChatThread[]>> {\n    const queryParams = new URLSearchParams()\n    if (typeof params.name === 'string') queryParams.set('name', params.name)\n    const pathWithParams = `/threads?${queryParams.toString()}`\n    const res = await this.makeCAPIRequest(pathWithParams, 'GET')\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload: CopilotChatThread[] = (await res.json()).threads || []\n    return {status: res.status, ok: true, payload}\n  }\n\n  async createThread(): Promise<APIResult<CopilotChatThread>> {\n    const res = await this.makeCAPIRequest(`/threads`, 'POST')\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload: CopilotChatThread = (await res.json()).thread\n    return {status: res.status, ok: true, payload}\n  }\n\n  async deleteThread(threadID: string): Promise<APIResult<null>> {\n    const res = await this.makeCAPIRequest(`/threads/${threadID}`, 'DELETE')\n    if (!res.ok) return res as FailedAPIResult\n\n    return {status: res.status, ok: true, payload: null}\n  }\n\n  async renameThread(threadID: string, newName: string): Promise<APIResult<string>> {\n    const body = {generate: false, name: newName}\n\n    const res = await this.makeCAPIRequest(`/threads/${threadID}/name`, 'PATCH', body)\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload: string = (await res.json()).name || ''\n    return {status: res.status, ok: true, payload}\n  }\n\n  async clearThread(threadID: string): Promise<APIResult<null>> {\n    const res = await this.makeCAPIRequest(`/threads/${threadID}/clear`, 'PATCH')\n    if (!res.ok) return res as FailedAPIResult\n\n    return {status: res.status, ok: true, payload: null}\n  }\n\n  async generateThreadName(threadID: string): Promise<APIResult<string>> {\n    const body = {generate: true, name: ''}\n\n    const res = await this.makeCAPIRequest(`/threads/${threadID}/name`, 'PATCH', body)\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload: string = (await res.json()).name || ''\n    return {status: res.status, ok: true, payload}\n  }\n\n  async listMessages(threadID: string): Promise<APIResult<ListMessagesPayload>> {\n    if (this.listMessagesCache?.thread.id === threadID) {\n      return {status: 200, ok: true, payload: this.listMessagesCache}\n    }\n\n    const res = await this.makeCAPIRequest(`/threads/${threadID}/messages`, 'GET')\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload = await res.json()\n    this.listMessagesCache = payload\n    return {status: res.status, ok: true, payload}\n  }\n\n  async createMessage(\n    threadID: string,\n    content: string,\n    intent: string,\n    references: CopilotChatReference[],\n    customInstructions?: string[],\n  ): Promise<APIResult<CopilotChatMessage>> {\n    this.listMessagesCache = undefined\n    const res = await this.makeCAPIRequest(`/threads/${threadID}/messages`, 'POST', {\n      content,\n      intent,\n      references,\n      currentURL: window.location.href,\n      customInstructions,\n    })\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload: CopilotChatMessage = (await res.json()).message\n    return {status: res.status, ok: true, payload}\n  }\n\n  async createMessageStreaming(\n    threadID: string,\n    content: string,\n    intent: string,\n    references: CopilotChatReference[],\n    context: CopilotChatReference[],\n    confirmations: CopilotClientConfirmation[],\n    customInstructions?: string[],\n    knowledgeBases?: Docset[],\n  ): Promise<APIStreamingResult> {\n    this.listMessagesCache = undefined\n    const body: CreateMessagePayload = {\n      content,\n      intent,\n      references,\n      context,\n      currentURL: window.location.href,\n      streaming: true,\n      confirmations,\n      customInstructions,\n      knowledgeBases,\n    }\n\n    const res = await this.makeCAPIRequest(`/threads/${threadID}/messages`, 'POST', body, true)\n    if (!res.ok) return res as FailedAPIResult\n\n    return {status: res.status, ok: true, response: res}\n  }\n\n  async sendFeedback({feedback, feedbackChoice, messageId, threadId, textResponse}: FeedbackPayload) {\n    const body = {\n      feedback,\n      feedback_choice: feedbackChoice,\n      message_id: messageId,\n      thread_id: threadId,\n      text_response: textResponse,\n    }\n    const res = await this.makeDotcomRequest(`${this.urlPathPrefix}/feedback`, 'POST', body)\n    if (!res.ok) return res as FailedAPIResult\n\n    return {status: res.status, ok: true, payload: null}\n  }\n\n  async listDocsets(): Promise<APIResult<Docset[]>> {\n    const response = await this.fetchDocsetsResponse()\n    if (!response.ok) return response\n    return {status: 200, ok: true, payload: response.payload.knowledgeBases}\n  }\n\n  // The response from the server will be null if the user has access to one or more knowledge bases. That is because\n  // we only use the administratedCopilotEnterpriseOrganizations if there are no knowledge bases. So to save executing a bunch\n  // of queries to get administrated orgs and check if they have Copilot Enterprise we just return null in that case.\n  //\n  // We could have made a separate API endpoint to get a list of administratedCopilotEnterpriseOrganizations and only called it\n  // if there are no knowledge bases, but this would result in a layout shift when the response comes in and we render\n  // a different set of HTML if there are orgs.\n  //\n  // In the future we may need a separate endpoint if we need administratedCopilotEnterpriseOrganizations elsewhere but for now\n  // this is a much higher performance way to get this information without layout shifting.\n  //\n  // See the issue this fixes: https://github.com/github/copilot-core-productivity/issues/1443\n  async listAdministratedCopilotEnterpriseOrganizations(): Promise<APIResult<CopilotChatOrg[] | null>> {\n    const response = await this.fetchDocsetsResponse()\n    if (!response.ok) return response\n    return {status: 200, ok: true, payload: response.payload.administratedCopilotEnterpriseOrganizations}\n  }\n\n  fetchDocsetsResponse(): Promise<APIResult<KnowledgeBasesResponse>> {\n    if (!this.docsetsPromise) {\n      this.docsetsPromise = this.docsetRequestPromise()\n    }\n    return this.docsetsPromise\n  }\n\n  async docsetRequestPromise(): Promise<APIResult<KnowledgeBasesResponse>> {\n    const res = await this.makeDotcomRequest(`/github-copilot/docs/docsets`, 'GET')\n    if (!res.ok) return res as FailedAPIResult\n    const payload = (await res.json()) as KnowledgeBasesResponse\n    return {status: 200, ok: true, payload}\n  }\n\n  async deleteDocset(docset: Docset) {\n    const res = await this.makeDotcomRequest(`/copilot/docsets/${docset.id}`, 'DELETE')\n    if (!res.ok) return res as FailedAPIResult\n    return {status: res.status, ok: true, payload: null}\n  }\n\n  async listRepoFiles(repo: CopilotChatRepo): Promise<APIResult<string[]>> {\n    const path = treeListPath({repo, commitOid: repo.commitOID, includeDirectories: false})\n    return this.repoFilesCache.get(path)\n  }\n\n  private listRepoFilesImpl = async (path: string): Promise<APIResult<string[]>> => {\n    const res = await this.makeDotcomRequest(path, 'GET')\n    if (!res.ok) return res as FailedAPIResult\n\n    const payload = (await res.json()).paths || []\n\n    return {status: 200, ok: true, payload}\n  }\n  private repoFilesCache = new ApiCache(this.listRepoFilesImpl)\n\n  async querySymbols(repo: CopilotChatRepo, query: string): Promise<APIResult<BlackbirdSuggestion[]>> {\n    return this.querySymbolsCache.get(repo.ownerLogin, repo.name, query)\n  }\n\n  private querySymbolsImpl = async (\n    ownerLogin: string,\n    repo: string,\n    query: string,\n  ): Promise<APIResult<BlackbirdSuggestion[]>> => {\n    const response = await this.makeDotcomRequest(\n      `/search/suggestions?query=repo:${ownerLogin}/${repo} ${query}`,\n      'GET',\n    )\n\n    if (!response.ok) {\n      return response as FailedAPIResult\n    }\n\n    const payload = (await response.json()) as SuggestionsResponse\n\n    return {\n      status: 200,\n      ok: true,\n      payload: payload.suggestions.filter(suggestion => suggestion.kind === BLACKBIRD_SUGGESTION_KIND),\n    }\n  }\n  private querySymbolsCache = new ApiCache(this.querySymbolsImpl)\n\n  async fetchImplicitContext(\n    url: string,\n    owner: string,\n    repo: string,\n  ): Promise<APIResult<CopilotChatReference | CopilotChatReference[]>> {\n    const response = await this.makeDotcomRequest(\n      `${this.urlPathPrefix}/implicit-context/${owner}/${repo}/${encodeURIComponent(url)}`,\n      'GET',\n    )\n\n    if (!response.ok) return response as FailedAPIResult\n\n    return {\n      status: response.status,\n      ok: response.ok,\n      payload: await response.json(),\n    }\n  }\n\n  async fetchRepo(repoID: number | string): Promise<APIResult<CopilotChatRepo>> {\n    let payload: CopilotChatRepo\n    if (this.repoDetailsCache.has(repoID)) {\n      payload = this.repoDetailsCache.get(repoID)!\n    } else {\n      const res = await this.makeDotcomRequest(`${this.urlPathPrefix}/repositories/${repoID}`, 'GET')\n      if (!res.ok) return res as FailedAPIResult\n\n      payload = await res.json()\n      this.repoDetailsCache.set(repoID, payload)\n    }\n\n    return {status: 200, ok: true, payload}\n  }\n\n  async listAgents(agentsPath: string): Promise<APIResult<CopilotChatAgent[]>> {\n    const res = await verifiedFetchJSON(agentsPath)\n    if (!res.ok) return {status: res.status, ok: false, error: ERRORS[res.status] || this.ERROR_MSG}\n    const payload = await res.json()\n    return {status: res.status, ok: res.ok, payload}\n  }\n\n  async hydrateReference<T extends CopilotChatReference>(reference: T): Promise<APIResult<ReferenceDetails<T>>> {\n    if (!HYDRATABLE_REFERENCE_TYPES.has(reference.type)) {\n      return {\n        status: 204,\n        ok: true,\n        payload: reference as ReferenceDetails<T>,\n      }\n    }\n    const response = await this.makeDotcomRequest(`${this.urlPathPrefix}/reference_details`, 'POST', {reference})\n\n    if (!response.ok) return response as FailedAPIResult\n\n    return {\n      status: response.status,\n      ok: response.ok,\n      payload: await response.json(),\n    }\n  }\n\n  async fetchLanguageForFileReference(reference: FileReference) {\n    const {repoOwner: ownerLogin, repoName: name} = reference\n    const path = window.btoa(reference.path)\n    const repo = {ownerLogin, name}\n    const fetchPath = blobDetectLanguage(repo, path, true)\n\n    const response = await this.makeDotcomRequest(fetchPath, 'GET')\n\n    if (!response.ok) return response as FailedAPIResult\n\n    return {\n      status: response.status,\n      ok: response.ok,\n      payload: await response.json(),\n    }\n  }\n\n  async generateSuggestions(\n    context: CopilotChatReference | CopilotChatRepo | Docset,\n    threadID: string,\n  ): Promise<APIResult<CopilotChatSuggestions>> {\n    const body = {context: [context], currentUrl: `${window.location.href}`}\n\n    const response = await this.makeCAPIRequest(`/threads/${threadID}/suggestions`, 'POST', body)\n    if (!response.ok) return response as FailedAPIResult\n    const payload = await response.json()\n\n    return {\n      status: response.status,\n      ok: response.ok,\n      payload,\n    }\n  }\n\n  protected async makeDotcomRequest(\n    path: string,\n    method: 'GET' | 'POST' | 'DELETE' | 'PATCH' | 'PUT',\n    body?: object | APIPayload,\n  ): Promise<Response | FailedAPIResult> {\n    const headers: {[key: string]: string} = {}\n    for (const exp of getCopilotExperiments()) {\n      const components = exp.split('=')\n      const name = components[0]?.replaceAll('_', '-')\n      let value = '1'\n      if (components.length > 1) {\n        value = components[1]!\n      }\n      headers[`X-Experiment-${name}`] = value\n    }\n\n    const token = await this.copilotAuthTokenProvider.getAuthToken()\n    headers['X-Copilot-Api-Token'] = token.value\n\n    try {\n      const res = await verifiedFetchJSON(path, {method, body, headers})\n      if (res.ok) return res\n      return {status: res.status, ok: false, error: ERRORS[res.status] || this.ERROR_MSG}\n    } catch (error) {\n      return {status: 500, ok: false, error: this.ERROR_MSG}\n    }\n  }\n\n  private get directConnectConfiguration() {\n    return process.env.NODE_ENV === 'development'\n      ? {integrationID: 'copilot-chat-dev'}\n      : {integrationID: 'copilot-chat'}\n  }\n\n  private async makeCAPIRequest(\n    path: string,\n    method: 'GET' | 'POST' | 'DELETE' | 'PATCH',\n    body?: object | APIPayload,\n    streamingResponse = false,\n    basePath = '/github/chat',\n  ): Promise<Response | FailedAPIResult> {\n    try {\n      const baseURL = this.apiURL\n\n      const token = await this.copilotAuthTokenProvider.getAuthToken()\n\n      const headers: {[key: string]: string} = {\n        Authorization: token.authorizationHeaderValue,\n        'copilot-integration-id': this.directConnectConfiguration.integrationID,\n      }\n      for (const exp of getCopilotExperiments()) {\n        const components = exp.split('=')\n        const name = components[0]?.replaceAll('_', '-')\n        let value = '1'\n        if (components.length > 1) {\n          value = components[1]!\n        }\n        headers[`X-Experiment-${name}`] = value\n      }\n\n      if (streamingResponse) {\n        headers['Content-Type'] = 'text/event-stream'\n      }\n\n      const res = await fetch(baseURL + basePath + path, {\n        method,\n        mode: 'cors',\n        cache: 'no-cache',\n        headers,\n        body: JSON.stringify(body),\n      })\n\n      if (res.ok) return res\n      return {status: res.status, ok: false, error: ERRORS[res.status] || this.ERROR_MSG}\n    } catch (error) {\n      return {status: 500, ok: false, error: this.ERROR_MSG}\n    }\n  }\n}\n","import safeStorage from '@github-ui/safe-storage'\n\nconst experimentsLocalStorageKey = 'copilot_experiments'\n\nexport function getCopilotExperiments(): string[] {\n  const experiments = safeStorage('localStorage').getItem(experimentsLocalStorageKey)\n  if (!experiments) return []\n\n  return experiments.split(',')\n}\n\nexport function setCopilotExperiments(experiments: string[]): void {\n  safeStorage('localStorage').setItem(experimentsLocalStorageKey, experiments.join(','))\n}\n","import {CopilotChatService} from '@github-ui/copilot-chat/utils/copilot-chat-service'\nimport {createContext, useContext} from 'react'\n\nexport class CopilotCodeReviewService extends CopilotChatService {\n  async checkCodeReviewAccess(owner: string, repository: string) {\n    const response = await this.makeDotcomRequest(`/${owner}/${repository}/copilot/review/access`, 'GET')\n\n    if (!response.ok) {\n      throw new Error(`An error occurred: ${response.status}`)\n    }\n\n    return (await response.json()) as {copilot_enabled: boolean}\n  }\n\n  async createCodeReview(owner: string, repository: string, number: number) {\n    const response = await this.makeDotcomRequest(`/${owner}/${repository}/copilot/review/pull/${number}`, 'POST')\n\n    const isTimeout = response.status === 502\n    if (!response.ok && !isTimeout) {\n      throw new Error(`An error occurred: ${response.status}`)\n    }\n  }\n}\n\nconst CopilotCodeReviewServiceContext = createContext(new CopilotCodeReviewService('', []))\n\nexport const CopilotCodeReviewServiceProvider = CopilotCodeReviewServiceContext.Provider\n\nexport const useCopilotCodeReviewService = () => {\n  const context = useContext(CopilotCodeReviewServiceContext)\n  if (!context) {\n    throw new Error('useCopilotCodeReviewService must be used inside a CopilotCodeReviewServiceProvider')\n  }\n  return context\n}\n","import {useCallback, useEffect, useState, type PropsWithChildren} from 'react'\nimport type {PullRequestPathParams} from './types'\nimport {useCopilotCodeReviewService} from './copilot-code-review-service'\n\ntype CopilotCodeReviewAccessParams = Omit<PullRequestPathParams, 'number'>\n\nconst useCheckAccess = (params: CopilotCodeReviewAccessParams) => {\n  const service = useCopilotCodeReviewService()\n  const [hasAccess, setHasAccess] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<Error>()\n\n  const checkAccess = useCallback(\n    async (owner: string, repository: string) => {\n      setLoading(true)\n      setError(undefined)\n\n      try {\n        const {copilot_enabled} = await service.checkCodeReviewAccess(owner, repository)\n        setHasAccess(copilot_enabled)\n      } catch (err) {\n        setError(err as Error)\n        setHasAccess(false)\n      }\n\n      setLoading(false)\n    },\n    [service],\n  )\n\n  useEffect(() => {\n    checkAccess(params.owner, params.repository)\n  }, [service, checkAccess, params.owner, params.repository])\n\n  return {hasAccess, loading, error}\n}\n\nexport const CopilotCodeReviewAccess: React.FC<PropsWithChildren<CopilotCodeReviewAccessParams>> = ({\n  children,\n  ...params\n}) => {\n  const {hasAccess} = useCheckAccess(params)\n  return !hasAccess ? null : <>{children}</>\n}\n\ntry{ CopilotCodeReviewAccess.displayName ||= 'CopilotCodeReviewAccess' } catch {}","// extracted by mini-css-extract-plugin\nexport default {\"copilotCodeReviewButton\":\"CopilotCodeReviewButton-module__copilotCodeReviewButton--_gTnT\"};","import {CopilotErrorIcon, CopilotIcon} from '@primer/octicons-react'\nimport {Button} from '@primer/react'\nimport {useCallback, useState} from 'react'\nimport {useCopilotCodeReviewService} from './copilot-code-review-service'\nimport styles from './CopilotCodeReviewButton.module.css'\nimport type {PullRequestPathParams} from './types'\n\nconst useRequestReview = (params: PullRequestPathParams) => {\n  const service = useCopilotCodeReviewService()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<Error>()\n\n  const requestReview = useCallback(async () => {\n    setLoading(true)\n    try {\n      await service.createCodeReview(params.owner, params.repository, params.number)\n    } catch (err) {\n      setError(err as Error)\n      setLoading(false)\n    }\n  }, [service, params])\n\n  return {requestReview, loading, error}\n}\n\nexport const CopilotCodeReviewButton: React.FC<PullRequestPathParams> = props => {\n  const {requestReview, loading, error} = useRequestReview(props)\n\n  if (error !== undefined) {\n    return <CopilotCodeReviewButtonError />\n  }\n\n  return (\n    <Button\n      block\n      size=\"small\"\n      leadingVisual={CopilotIcon}\n      className={styles.copilotCodeReviewButton}\n      onClick={requestReview}\n      disabled={loading}\n    >\n      {loading ? 'Copilot is reviewing' : 'Ask Copilot to review'}\n    </Button>\n  )\n}\n\nexport const CopilotCodeReviewButtonError: React.FC = () => (\n  <Button block disabled size=\"small\" leadingVisual={CopilotErrorIcon} className={styles.copilotCodeReviewButton}>\n    Copilot failed to load\n  </Button>\n)\n\ntry{ CopilotCodeReviewButtonError.displayName ||= 'CopilotCodeReviewButtonError' } catch {}","import type {CopilotChatOrg} from '@github-ui/copilot-chat/utils/copilot-chat-types'\nimport {ErrorBoundary} from '@github-ui/react-core/error-boundary'\nimport {Suspense, useMemo} from 'react'\nimport {CopilotCodeReviewService, CopilotCodeReviewServiceProvider} from './copilot-code-review-service'\nimport {CopilotCodeReviewAccess} from './CopilotCodeReviewAccess'\nimport {CopilotCodeReviewButton, CopilotCodeReviewButtonError} from './CopilotCodeReviewButton'\nimport type {PullRequestPathParams} from './types'\n\ninterface CopilotCodeReviewProps extends PullRequestPathParams {\n  apiURL: string\n  ssoOrganizations: CopilotChatOrg[]\n}\n\nexport const CopilotCodeReview: React.FC<CopilotCodeReviewProps> = ({apiURL, ssoOrganizations, ...props}) => {\n  const service = useMemo(() => new CopilotCodeReviewService(apiURL, ssoOrganizations), [apiURL, ssoOrganizations])\n\n  return (\n    <ErrorBoundary fallback={<CopilotCodeReviewButtonError />}>\n      <Suspense fallback={null}>\n        <CopilotCodeReviewServiceProvider value={service}>\n          <CopilotCodeReviewAccess {...props}>\n            <CopilotCodeReviewButton {...props} />\n          </CopilotCodeReviewAccess>\n        </CopilotCodeReviewServiceProvider>\n      </Suspense>\n    </ErrorBoundary>\n  )\n}\n\ntry{ CopilotCodeReview.displayName ||= 'CopilotCodeReview' } catch {}","import {registerReactPartial} from '@github-ui/react-core/register-partial'\nimport {CopilotCodeReview} from './CopilotCodeReview'\n\nregisterReactPartial('copilot-code-review', {\n  Component: CopilotCodeReview,\n})\n","export class DeferredRegistry<T> {\n  private registrationEntries: Record<\n    string,\n    {\n      promise: Promise<T>\n      resolve?: (r: T) => void\n    }\n  > = {}\n\n  public register(name: string, registration: T) {\n    const entry = this.registrationEntries[name]\n    if (entry) {\n      entry.resolve?.(registration)\n    } else {\n      this.registrationEntries[name] = {\n        promise: Promise.resolve(registration),\n      }\n    }\n  }\n\n  public getRegistration(name: string): Promise<T> {\n    this.registrationEntries[name] ||= new Deferred()\n    return this.registrationEntries[name].promise\n  }\n}\n\nclass Deferred<T> {\n  declare promise\n  declare resolve: (r: T) => void\n\n  constructor() {\n    this.promise = new Promise<T>(resolve => {\n      this.resolve = resolve\n    })\n  }\n}\n","import type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\nimport {useCallback, useEffect, useRef, useState} from 'react'\n\ninterface ReactPartialAnchor {\n  /**\n   * DO NOT USE THIS PROPERTY DIRECTLY. It is meant to be used with useExternalAnchor and useOnAnchorClick\n   */\n  __wrapperElement: ReactPartialAnchorElement\n}\n\nexport interface ReactPartialAnchorProps {\n  reactPartialAnchor?: ReactPartialAnchor\n}\n\nexport function usePartialAnchorProps(\n  anchorElement: ReactPartialAnchorElement | undefined | null,\n): ReactPartialAnchorProps {\n  useEffect(() => {\n    const anchor = anchorElement?.anchor\n\n    if (!anchor) {\n      return\n    }\n\n    if ('disabled' in anchor) {\n      anchor.disabled = false\n    }\n    anchor.classList.remove('cursor-wait')\n  }, [anchorElement])\n\n  if (!anchorElement) {\n    return {}\n  }\n\n  return {\n    reactPartialAnchor: {\n      __wrapperElement: anchorElement,\n    },\n  }\n}\n\nexport function useExternalAnchor(reactPartialAnchor: ReactPartialAnchor) {\n  const ref = useRef(reactPartialAnchor.__wrapperElement.anchor || null)\n  const [open, setOpen] = useState(false)\n\n  const onClick = useCallback(() => {\n    // toggle the open state when clicked\n    setOpen(!open)\n  }, [open, setOpen])\n\n  useEffect(() => {\n    if (!ref.current) return\n\n    ref.current.setAttribute('aria-expanded', open.toString())\n    ref.current.setAttribute('aria-haspopup', 'true')\n  }, [ref, open])\n\n  useOnAnchorClick(reactPartialAnchor, onClick)\n\n  return {\n    ref,\n    open,\n    setOpen,\n  }\n}\n\nexport function useOnAnchorClick(reactPartialAnchor: ReactPartialAnchor, onClick: (event: MouseEvent) => void) {\n  const ref = useRef(reactPartialAnchor.__wrapperElement.anchor)\n\n  useEffect(() => {\n    const element = ref.current\n    if (!element) {\n      return\n    }\n\n    element.addEventListener('click', onClick)\n    return () => element.removeEventListener('click', onClick)\n  }, [ref, onClick])\n}\n\nexport type PropsWithPartialAnchor<T> = T & Required<ReactPartialAnchorProps>\n","import {DeferredRegistry} from './deferred-registry'\n\nexport interface PartialRegistration {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  Component: React.ComponentType<any>\n}\n\nexport const partialRegistry = new DeferredRegistry<PartialRegistration>()\n\nexport function getReactPartial(appName: string) {\n  return partialRegistry.getRegistration(appName)\n}\n","import {controller} from '@github/catalyst'\nimport {getReactPartial} from './react-partial-registry'\nimport type {EmbeddedPartialData} from './embedded-data-types'\nimport {ReactBaseElement} from './ReactBaseElement'\nimport {PartialEntry} from './PartialEntry'\nimport type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\n\n// What is this silliness? Is it react or a web component?!\n// It's a web component we use to bootstrap react partials within the monolith.\n@controller\nclass ReactPartialElement extends ReactBaseElement<EmbeddedPartialData> {\n  nameAttribute = 'partial-name'\n\n  async getReactNode(embeddedData: EmbeddedPartialData) {\n    const {Component} = await getReactPartial(this.name)\n\n    // Some React Partials will be wrapped in a react-partial-anchor, which is used to conditionally render the Partial\n    const anchorElement = this.closest<ReactPartialAnchorElement>('react-partial-anchor')\n\n    return (\n      <PartialEntry\n        partialName={this.name}\n        embeddedData={embeddedData}\n        Component={Component}\n        wasServerRendered={this.hasSSRContent}\n        ssrError={this.ssrError}\n        anchorElement={anchorElement}\n      />\n    )\n  }\n}\n","import {partialRegistry, type PartialRegistration} from './react-partial-registry'\n// Import the web component to get it registered on the window\nimport './ReactPartialElement'\n\n// NOTE: if the signature of this method changes, also update the react-partial-name ESLint rule\n// /workspaces/github/ui/packages/eslint-plugin-github-monorepo/rules/react-partial-name.js\nexport function registerReactPartial(name: string, registration: PartialRegistration) {\n  partialRegistry.register(name, registration)\n}\n","import safeStorage from '@github-ui/safe-storage'\n\nconst {getItem, setItem, removeItem} = safeStorage('localStorage')\nconst REACT_PROFILING_ENABLED = 'REACT_PROFILING_ENABLED'\n\ninterface ReactProfilingModeMethods {\n  enable: () => void\n  disable: () => void\n  isEnabled: () => boolean\n}\n\nconst ReactProfilingMode: ReactProfilingModeMethods = {\n  enable: () => setItem(REACT_PROFILING_ENABLED, 'true'),\n  disable: () => removeItem(REACT_PROFILING_ENABLED),\n  isEnabled: () => !!getItem(REACT_PROFILING_ENABLED),\n}\n\nexport default ReactProfilingMode\n","/**\n * A Fetch function which will automatically add the correct headers for\n * making requests to GitHub application servers as long as the associated controller methods allow it.\n * Track down the associated controller method and confirm the controller includes\n * ApplicationController::VerifiedFetchDependency as well as `allow_verified_fetch only:`\n * to the relevant controller methods.\n *\n * ## Example\n *\n *     const onClick = async () => {\n *       const resp = await verifiedFetch('/foo', {method: 'POST'})\n *       if (resp.ok) console.log('The response was', await resp.text())\ntest.\n *     }\n */\nexport function verifiedFetch(path: string, init: RequestInit = {}): Promise<Response> {\n  assertRelativePathOrSameOrigin(path)\n\n  const headers: HeadersInit = {\n    ...init.headers,\n    'GitHub-Verified-Fetch': 'true',\n    'X-Requested-With': 'XMLHttpRequest',\n  }\n\n  return fetch(path, {...init, headers})\n}\n\nexport interface JSONRequestInit extends Omit<RequestInit, 'body'> {\n  body?: unknown\n}\n\nfunction assertRelativePathOrSameOrigin(path: string) {\n  if (process.env.NODE_ENV === 'test' && !window.location.origin) return\n  const url = new URL(path, window.location.origin)\n  if (url.origin !== window.location.origin) {\n    throw new Error('Can not make cross-origin requests from verifiedFetch')\n  }\n}\n\n/**\n * A Fetch function which will automatically add the correct headers for\n * making JSON requests\n *\n * Will also `JSON.stringify` the request body if provided.\n\n * ## Example\n *\n *     const onClick = async () => {\n *       const resp = await verifiedFetchJSON('/foo', {body: {foo: 'bar'}, method: 'POST'})\n *       if (resp.ok) console.log('The response was', await resp.json())\n *     }\n */\nexport function verifiedFetchJSON(path: string, init?: JSONRequestInit): Promise<Response> {\n  const initHeaders: HeadersInit = init?.headers ?? {}\n\n  const headers: HeadersInit = {\n    ...initHeaders,\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  }\n\n  const body = init?.body ? JSON.stringify(init.body) : undefined\n\n  return verifiedFetch(path, {...init, body, headers})\n}\n\n/**\n * A Fetch function which will automatically add the GitHub-Is-React header for\n * making JSON requests. It will in turn call verifiedFetchJSON.\n *\n * Using this in React components to fetch data enables us to track these\n * requests in Datadog in the request.dist.referrer metric.\n */\nexport function reactFetch(path: string, init: RequestInit = {}): Promise<Response> {\n  const headers: HeadersInit = {\n    ...init.headers,\n    'GitHub-Is-React': 'true',\n  }\n\n  return verifiedFetch(path, {...init, headers})\n}\n\n/**\n * A Fetch function which will automatically add the GitHub-Is-React header for\n * making JSON requests. It will in turn call verifiedFetchJSON.\n *\n * Using this in React components to fetch data enables us to track these\n * requests in Datadog in the request.dist.referrer metric.\n */\nexport function reactFetchJSON(path: string, init?: JSONRequestInit): Promise<Response> {\n  const initHeaders: HeadersInit = init?.headers ?? {}\n\n  const headers: HeadersInit = {\n    ...initHeaders,\n    'GitHub-Is-React': 'true',\n  }\n\n  return verifiedFetchJSON(path, {...init, headers})\n}\n","import {ErrorPage} from './ErrorPage'\nimport React from 'react'\n\n// NOTE(jon, 2022-02-28): I copied 99% of this from memex's error-boundary\n\nexport interface ErrorBoundaryProps {\n  children: React.ReactNode\n  fallback?: React.ReactNode\n  /**\n   * Provide a callback to be invoked when an error is thrown (can be used for logging errors)\n   */\n  onError?: (error: Error) => void\n}\n\ninterface ErrorBoundaryState {\n  error: Error | null\n}\n\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props)\n\n    this.state = {\n      error: null,\n    }\n  }\n\n  /**\n   * Invoked when an error is thrown in the child component,\n   * and used to update state in a concurrent friendly manner\n   */\n  static getDerivedStateFromError(error: Error) {\n    return {error}\n  }\n\n  /**\n   * Called _after_ the re-render, used for performing side-effects such as logging\n   */\n  override componentDidCatch(error: Error) {\n    if (typeof this.props.onError === 'function') {\n      this.props.onError(error)\n    } else {\n      defaultOnError(error)\n    }\n  }\n\n  override render() {\n    if (!this.state.error) return this.props.children\n\n    return this.props.fallback === undefined ? <ErrorPage type=\"httpError\" /> : this.props.fallback\n  }\n}\n\n/**\n * Re-throws the error out of the rendering context to ensure that it propagates to failbot.\n * Also avoids react unmounting the entire tree from an uncaught error.\n */\nfunction defaultOnError(error: Error) {\n  setTimeout(() => {\n    throw error\n  })\n}\n","import {Box, Heading} from '@primer/react'\nimport type {PageError} from './app-routing-types'\n\nconst errorMessages: {[httpStatus: number]: string} = {\n  404: 'Didn’t find anything here!',\n  500: 'Looks like something went wrong!',\n}\n\nexport function ErrorPage({httpStatus, type}: PageError) {\n  const message = type === 'fetchError' ? 'Looks like network is down!' : errorMessages[httpStatus || 500]\n  return (\n    <Heading\n      as=\"h1\"\n      tabIndex={-1}\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        minWidth: '100%',\n        minHeight: '100%',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      Error\n      {httpStatus ? <Box sx={{fontSize: '144px', fontWeight: 'bold', lineHeight: 1}}>{httpStatus}</Box> : null}\n      <Box sx={{fontSize: 4, pt: 2}}>{message}</Box>\n    </Heading>\n  )\n}\n\ntry{ ErrorPage.displayName ||= 'ErrorPage' } catch {}","import {useState} from 'react'\nimport type {BrowserHistory, MemoryHistory} from '@remix-run/router'\nimport {Router} from 'react-router-dom'\n// eslint-disable-next-line no-restricted-imports\nimport {useHydratedEffect} from '@github-ui/use-hydrated-effect'\n\ntype Props = {\n  children: React.ReactNode\n  history: BrowserHistory | MemoryHistory\n}\n\nexport function PartialRouter({children, history}: Props) {\n  const [state, setState] = useState({\n    location: history.location,\n  })\n\n  useHydratedEffect(() => history.listen(setState), [history])\n\n  return (\n    <Router location={state.location} navigator={history}>\n      {children}\n    </Router>\n  )\n}\n\ntry{ PartialRouter.displayName ||= 'PartialRouter' } catch {}","// Think of this as the entry point into the framework\nimport React from 'react'\nimport type {EmbeddedPartialData} from './embedded-data-types'\nimport {BaseProviders} from './BaseProviders'\nimport type {BrowserHistory} from '@remix-run/router'\nimport {createMemoryHistory} from '@remix-run/router'\nimport {AppContextProvider} from './AppContextProvider'\nimport {PartialRouter} from './PartialRouter'\nimport {CommonElements} from './CommonElements'\nimport {createBrowserHistory} from './create-browser-history'\nimport type {ReactPartialAnchorElement} from '@github-ui/react-partial-anchor-element'\nimport {usePartialAnchorProps} from './react-partial-anchor'\n\ninterface Props {\n  partialName: string\n  embeddedData: EmbeddedPartialData\n  Component: React.ComponentType\n  wasServerRendered: boolean\n  ssrError?: HTMLScriptElement\n  anchorElement?: ReactPartialAnchorElement | null\n}\n\nexport function PartialEntry({\n  partialName,\n  embeddedData,\n  Component,\n  wasServerRendered,\n  ssrError,\n  anchorElement,\n}: Props) {\n  // Create a ref to track the browser history:\n  const historyRef = React.useRef<BrowserHistory>()\n  const window = globalThis.window as Window | undefined\n\n  // For linking to work, we can just pass a dummy pathname here. We may consider plumbing the actual path in\n  if (!historyRef.current) {\n    historyRef.current = !window\n      ? createMemoryHistory({initialEntries: [{pathname: '/'}]})\n      : createBrowserHistory({window})\n  }\n  const history = historyRef.current\n  const partialAnchorProps = usePartialAnchorProps(anchorElement)\n\n  // Wrap the partial in an AppContextProvider and static Router so that react-core links\n  // will be functional.\n  return (\n    <BaseProviders appName={partialName} wasServerRendered={wasServerRendered}>\n      <AppContextProvider history={history} routes={[]}>\n        <PartialRouter history={history}>\n          <Component {...embeddedData.props} {...(partialAnchorProps as object)} />\n          <CommonElements ssrError={ssrError} />\n        </PartialRouter>\n      </AppContextProvider>\n    </BaseProviders>\n  )\n}\n\ntry{ PartialEntry.displayName ||= 'PartialEntry' } catch {}","import {target} from '@github/catalyst'\nimport {createRoot, hydrateRoot} from 'react-dom/client'\nimport type {createRoot as createRootType, hydrateRoot as hydrateRootType, Root} from 'react-dom/client'\nimport React from 'react'\nimport ReactProfilingMode from '@github-ui/react-profiling-mode'\nimport {EXPECTED_ERRORS} from './expected-errors'\nimport {sendStats} from '@github-ui/stats'\n\ntype ReactDOM = {\n  createRoot: typeof createRootType\n  hydrateRoot: typeof hydrateRootType\n}\n\nconst REACT_INVARIANT_ERROR_REGEX = /Minified React error #(?<invariant>\\d+)/\n\nexport abstract class ReactBaseElement<T> extends HTMLElement {\n  @target embeddedData: HTMLScriptElement | undefined\n  @target ssrError: HTMLScriptElement | undefined\n  @target reactRoot: HTMLElement | undefined\n  private root: Root | undefined\n\n  abstract nameAttribute: string\n  abstract getReactNode(embeddedData: T): Promise<React.ReactNode>\n\n  protected get name() {\n    return this.getAttribute(this.nameAttribute) as string\n  }\n\n  private get embeddedDataText() {\n    const text = this.embeddedData?.textContent\n\n    if (!text) {\n      throw new Error(`No embedded data provided for react element ${this.name}`)\n    }\n\n    return text\n  }\n\n  get hasSSRContent() {\n    return this.getAttribute('data-ssr') === 'true'\n  }\n\n  connectedCallback() {\n    this.renderReact()\n  }\n\n  disconnectedCallback() {\n    this.root?.unmount()\n    this.root = undefined\n  }\n\n  private async renderReact() {\n    if (!this.reactRoot) throw new Error('No react root provided')\n    let reactDom: ReactDOM = {\n      createRoot,\n      hydrateRoot,\n    }\n\n    // Override the react-dom import if we're in profiling mode\n    if (ReactProfilingMode.isEnabled()) {\n      reactDom = await this.getReactDomWithProfiling()\n    }\n\n    const embeddedData = JSON.parse(this.embeddedDataText) as T\n    const ssrErrorText = this.ssrError?.textContent\n    const node = await this.getReactNode(embeddedData)\n    const baseNode = <React.StrictMode>{node}</React.StrictMode>\n\n    if (ssrErrorText) {\n      this.logSSRError(ssrErrorText)\n    }\n\n    if (this.hasSSRContent) {\n      /**\n       * Styled-components automatically looks for style tags to hydrate on first page load, but will not detect them\n       * if they are added after the initial page load. This causes a hydration error because React isn't expecting\n       * a style tag within the app. To work around this, we need to manually move the style tags to the head before\n       * hydrating the app.\n       *\n       * During hydration, styled-components will create a new style tag which matches the one we moved to the head.\n       * This means that after hydration, we can safely remove the style tag we manually moved to the head.\n       */\n      const styles = this.querySelector('style[data-styled=\"true\"]')\n      if (styles) document.head.appendChild(styles)\n\n      // Hydrate the react app\n      // onRecoverableError is disabled until we have a react version with this fix in:\n      // https://github.com/facebook/react/pull/25692\n      this.root = reactDom.hydrateRoot(this.reactRoot, baseNode, {\n        onRecoverableError: error => {\n          if (!(error instanceof Error)) return\n\n          const match = REACT_INVARIANT_ERROR_REGEX.exec(error.message)\n          const invariant = String(match?.groups?.invariant)\n\n          sendStats({\n            incrementKey: 'REACT_HYDRATION_ERROR',\n            incrementTags: {\n              appName: this.name,\n              invariant,\n            },\n          })\n        },\n      })\n\n      // Remove the manually moved style tag after hydration\n      if (styles) {\n        // Wait until things are idle to remove the style tag. If we do it immediately, we can cause a flash of unstyled content.\n        requestIdleCallback(() => {\n          // styles could have already been removed by Turbo if a navigation happens quickly. Only remove it from the DOM if it's still there.\n          styles.parentElement?.removeChild(styles)\n        })\n      }\n    } else {\n      this.root = reactDom.createRoot(this.reactRoot)\n      this.root.render(baseNode)\n    }\n\n    this.classList.add('loaded')\n  }\n\n  private getReactDomWithProfiling() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return import('react-dom/profiling') as any as Promise<ReactDOM>\n  }\n\n  private logSSRError(ssrErrorText: string) {\n    if (EXPECTED_ERRORS[ssrErrorText]) {\n      // eslint-disable-next-line no-console\n      return console.error('SSR failed with an expected error:', EXPECTED_ERRORS[ssrErrorText])\n    }\n\n    try {\n      const error = JSON.parse(ssrErrorText) as PlatformJavascriptError\n      const stacktrace = parseFailbotStacktrace(error)\n      // eslint-disable-next-line no-console\n      console.error('Error During Alloy SSR:', `${error.type}: ${error.value}\\n`, error, stacktrace)\n    } catch {\n      /**\n       * In the event we couldn't log the error, we should not break the application\n       */\n      // eslint-disable-next-line no-console\n      console.error('Error During Alloy SSR:', ssrErrorText, 'unable to parse as json')\n    }\n  }\n}\n\nfunction parseFailbotStacktrace(error: PlatformJavascriptError) {\n  if (!error.stacktrace) return ''\n  let prefix = '\\n '\n  const stack = error.stacktrace.map((frame: PlatformStackframe) => {\n    const {function: func, filename, lineno, colno} = frame\n    const line = `${prefix} at ${func} (${filename}:${lineno}:${colno})`\n    prefix = ' '\n    return line\n  })\n  return stack.join('\\n')\n}\n\ntry{ REACT_INVARIANT_ERROR_REGEX.displayName ||= 'REACT_INVARIANT_ERROR_REGEX' } catch {}","const dynamicElements = new Map();\nconst ready = new Promise(resolve => {\n    if (document.readyState !== 'loading') {\n        resolve();\n    }\n    else {\n        document.addEventListener('readystatechange', () => resolve(), { once: true });\n    }\n});\nconst firstInteraction = new Promise(resolve => {\n    const controller = new AbortController();\n    controller.signal.addEventListener('abort', () => resolve());\n    const listenerOptions = { once: true, passive: true, signal: controller.signal };\n    const handler = () => controller.abort();\n    document.addEventListener('mousedown', handler, listenerOptions);\n    // eslint-disable-next-line github/require-passive-events\n    document.addEventListener('touchstart', handler, listenerOptions);\n    document.addEventListener('keydown', handler, listenerOptions);\n    document.addEventListener('pointerdown', handler, listenerOptions);\n});\nconst visible = (tagName) => new Promise(resolve => {\n    const observer = new IntersectionObserver(entries => {\n        for (const entry of entries) {\n            if (entry.isIntersecting) {\n                resolve();\n                observer.disconnect();\n                return;\n            }\n        }\n    }, {\n        // Currently the threshold is set to 256px from the bottom of the viewport\n        // with a threshold of 0.1. This means the element will not load until about\n        // 2 keyboard-down-arrow presses away from being visible in the viewport,\n        // giving us some time to fetch it before the contents are made visible\n        rootMargin: '0px 0px 256px 0px',\n        threshold: 0.01\n    });\n    for (const el of document.querySelectorAll(tagName)) {\n        observer.observe(el);\n    }\n});\nconst strategies = {\n    ready: () => ready,\n    firstInteraction: () => firstInteraction,\n    visible\n};\nconst timers = new WeakMap();\nfunction scan(node) {\n    cancelAnimationFrame(timers.get(node) || 0);\n    timers.set(node, requestAnimationFrame(() => {\n        for (const tagName of dynamicElements.keys()) {\n            const child = node.matches(tagName) ? node : node.querySelector(tagName);\n            if (customElements.get(tagName) || child) {\n                const strategyName = (child?.getAttribute('data-load-on') || 'ready');\n                const strategy = strategyName in strategies ? strategies[strategyName] : strategies.ready;\n                // eslint-disable-next-line github/no-then\n                for (const cb of dynamicElements.get(tagName) || [])\n                    strategy(tagName).then(cb);\n                dynamicElements.delete(tagName);\n                timers.delete(node);\n            }\n        }\n    }));\n}\nlet elementLoader;\nexport function lazyDefine(tagName, callback) {\n    if (!dynamicElements.has(tagName))\n        dynamicElements.set(tagName, new Set());\n    dynamicElements.get(tagName).add(callback);\n    scan(document.body);\n    if (!elementLoader) {\n        elementLoader = new MutationObserver(mutations => {\n            if (!dynamicElements.size)\n                return;\n            for (const mutation of mutations) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element)\n                        scan(node);\n                }\n            }\n        });\n        elementLoader.observe(document, { subtree: true, childList: true });\n    }\n}\n//# sourceMappingURL=lazy-define.js.map","const controllers = new WeakSet();\n/*\n * Bind `[data-action]` elements from the DOM to their actions.\n *\n */\nexport function bind(controller) {\n    controllers.add(controller);\n    if (controller.shadowRoot)\n        bindShadow(controller.shadowRoot);\n    bindElements(controller);\n    listenForBind(controller.ownerDocument);\n}\nexport function bindShadow(root) {\n    bindElements(root);\n    listenForBind(root);\n}\nconst observers = new WeakMap();\n/**\n * Set up observer that will make sure any actions that are dynamically\n * injected into `el` will be bound to it's controller.\n *\n * This returns a Subscription object which you can call `unsubscribe()` on to\n * stop further live updates.\n */\nexport function listenForBind(el = document) {\n    if (observers.has(el))\n        return observers.get(el);\n    let closed = false;\n    const observer = new MutationObserver(mutations => {\n        for (const mutation of mutations) {\n            if (mutation.type === 'attributes' && mutation.target instanceof Element) {\n                bindActions(mutation.target);\n            }\n            else if (mutation.type === 'childList' && mutation.addedNodes.length) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element) {\n                        bindElements(node);\n                    }\n                }\n            }\n        }\n    });\n    observer.observe(el, { childList: true, subtree: true, attributeFilter: ['data-action'] });\n    const subscription = {\n        get closed() {\n            return closed;\n        },\n        unsubscribe() {\n            closed = true;\n            observers.delete(el);\n            observer.disconnect();\n        }\n    };\n    observers.set(el, subscription);\n    return subscription;\n}\nfunction bindElements(root) {\n    for (const el of root.querySelectorAll('[data-action]')) {\n        bindActions(el);\n    }\n    // Also bind the controller to itself\n    if (root instanceof Element && root.hasAttribute('data-action')) {\n        bindActions(root);\n    }\n}\n// Bind a single function to all events to avoid anonymous closure performance penalty.\nfunction handleEvent(event) {\n    const el = event.currentTarget;\n    for (const binding of bindings(el)) {\n        if (event.type === binding.type) {\n            const controller = el.closest(binding.tag);\n            if (controllers.has(controller) && typeof controller[binding.method] === 'function') {\n                controller[binding.method](event);\n            }\n            const root = el.getRootNode();\n            if (root instanceof ShadowRoot && controllers.has(root.host) && root.host.matches(binding.tag)) {\n                const shadowController = root.host;\n                if (typeof shadowController[binding.method] === 'function') {\n                    shadowController[binding.method](event);\n                }\n            }\n        }\n    }\n}\nfunction* bindings(el) {\n    for (const action of (el.getAttribute('data-action') || '').trim().split(/\\s+/)) {\n        const eventSep = action.lastIndexOf(':');\n        const methodSep = Math.max(0, action.lastIndexOf('#')) || action.length;\n        yield {\n            type: action.slice(0, eventSep),\n            tag: action.slice(eventSep + 1, methodSep),\n            method: action.slice(methodSep + 1) || 'handleEvent'\n        } || 'handleEvent';\n    }\n}\nfunction bindActions(el) {\n    for (const binding of bindings(el)) {\n        el.addEventListener(binding.type, handleEvent);\n    }\n}\n//# sourceMappingURL=bind.js.map","/**\n * findTarget will run `querySelectorAll` against the given controller, plus\n * its shadowRoot, returning any the first child that:\n *\n *  - Matches the selector of `[data-target~=\"tag.name\"]` where tag is the\n *  tagName of the given HTMLElement, and `name` is the given `name` argument.\n *\n *  - Closest ascendant of the element, that matches the tagname of the\n *  controller, is the specific instance of the controller itself - in other\n *  words it is not nested in other controllers of the same type.\n *\n */\nexport function findTarget(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                return el;\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            return el;\n    }\n}\nexport function findTargets(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    const targets = [];\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                targets.push(el);\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            targets.push(el);\n    }\n    return targets;\n}\n//# sourceMappingURL=findtarget.js.map","export const dasherize = (str) => String(typeof str === 'symbol' ? str.description : str)\n    .replace(/([A-Z]($|[a-z]))/g, '-$1')\n    .replace(/--/g, '-')\n    .replace(/^-|-$/, '')\n    .toLowerCase();\nexport const mustDasherize = (str, type = 'property') => {\n    const dashed = dasherize(str);\n    if (!dashed.includes('-')) {\n        throw new DOMException(`${type}: ${String(str)} is not a valid ${type} name`, 'SyntaxError');\n    }\n    return dashed;\n};\n//# sourceMappingURL=dasherize.js.map","import { mustDasherize } from './dasherize.js';\nimport { meta } from './core.js';\nconst attrKey = 'attr';\n/**\n * Attr is a decorator which tags a property as one to be initialized via\n * `initializeAttrs`.\n *\n * The signature is typed such that the property must be one of a String,\n * Number or Boolean. This matches the behavior of `initializeAttrs`.\n */\nexport function attr(proto, key) {\n    meta(proto, attrKey).add(key);\n}\n/**\n * initializeAttrs is called with a set of class property names (if omitted, it\n * will look for any properties tagged with the `@attr` decorator). With this\n * list it defines property descriptors for each property that map to `data-*`\n * attributes on the HTMLElement instance.\n *\n * It works around Native Class Property semantics - which are equivalent to\n * calling `Object.defineProperty` on the instance upon creation, but before\n * `constructor()` is called.\n *\n * If a class property is assigned to the class body, it will infer the type\n * (using `typeof`) and define an appropriate getter/setter combo that aligns\n * to that type. This means class properties assigned to Numbers can only ever\n * be Numbers, assigned to Booleans can only ever be Booleans, and assigned to\n * Strings can only ever be Strings.\n *\n * This is automatically called as part of `@controller`. If a class uses the\n * `@controller` decorator it should not call this manually.\n */\nconst initialized = new WeakSet();\nexport function initializeAttrs(instance, names) {\n    if (initialized.has(instance))\n        return;\n    initialized.add(instance);\n    const proto = Object.getPrototypeOf(instance);\n    const prefix = proto?.constructor?.attrPrefix ?? 'data-';\n    if (!names)\n        names = meta(proto, attrKey);\n    for (const key of names) {\n        const value = instance[key];\n        const name = mustDasherize(`${prefix}${key}`);\n        let descriptor = {\n            configurable: true,\n            get() {\n                return this.getAttribute(name) || '';\n            },\n            set(newValue) {\n                this.setAttribute(name, newValue || '');\n            }\n        };\n        if (typeof value === 'number') {\n            descriptor = {\n                configurable: true,\n                get() {\n                    return Number(this.getAttribute(name) || 0);\n                },\n                set(newValue) {\n                    this.setAttribute(name, newValue);\n                }\n            };\n        }\n        else if (typeof value === 'boolean') {\n            descriptor = {\n                configurable: true,\n                get() {\n                    return this.hasAttribute(name);\n                },\n                set(newValue) {\n                    this.toggleAttribute(name, newValue);\n                }\n            };\n        }\n        Object.defineProperty(instance, key, descriptor);\n        if (key in instance && !instance.hasAttribute(name)) {\n            descriptor.set.call(instance, value);\n        }\n    }\n}\nexport function defineObservedAttributes(classObject) {\n    let observed = classObject.observedAttributes || [];\n    const prefix = classObject.attrPrefix ?? 'data-';\n    const attrToAttributeName = (name) => mustDasherize(`${prefix}${name}`);\n    Object.defineProperty(classObject, 'observedAttributes', {\n        configurable: true,\n        get() {\n            return [...meta(classObject.prototype, attrKey)].map(attrToAttributeName).concat(observed);\n        },\n        set(attributes) {\n            observed = attributes;\n        }\n    });\n}\n//# sourceMappingURL=attr.js.map","import { register } from './register.js';\nimport { bind, bindShadow } from './bind.js';\nimport { autoShadowRoot } from './auto-shadow-root.js';\nimport { defineObservedAttributes, initializeAttrs } from './attr.js';\nconst symbol = Symbol.for('catalyst');\nexport class CatalystDelegate {\n    constructor(classObject) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const delegate = this;\n        const connectedCallback = classObject.prototype.connectedCallback;\n        classObject.prototype.connectedCallback = function () {\n            delegate.connectedCallback(this, connectedCallback);\n        };\n        const disconnectedCallback = classObject.prototype.disconnectedCallback;\n        classObject.prototype.disconnectedCallback = function () {\n            delegate.disconnectedCallback(this, disconnectedCallback);\n        };\n        const attributeChangedCallback = classObject.prototype.attributeChangedCallback;\n        classObject.prototype.attributeChangedCallback = function (name, oldValue, newValue) {\n            delegate.attributeChangedCallback(this, name, oldValue, newValue, attributeChangedCallback);\n        };\n        let observedAttributes = classObject.observedAttributes || [];\n        Object.defineProperty(classObject, 'observedAttributes', {\n            configurable: true,\n            get() {\n                return delegate.observedAttributes(this, observedAttributes);\n            },\n            set(attributes) {\n                observedAttributes = attributes;\n            }\n        });\n        defineObservedAttributes(classObject);\n        register(classObject);\n    }\n    observedAttributes(instance, observedAttributes) {\n        return observedAttributes;\n    }\n    connectedCallback(instance, connectedCallback) {\n        instance.toggleAttribute('data-catalyst', true);\n        customElements.upgrade(instance);\n        autoShadowRoot(instance);\n        initializeAttrs(instance);\n        bind(instance);\n        connectedCallback?.call(instance);\n        if (instance.shadowRoot)\n            bindShadow(instance.shadowRoot);\n    }\n    disconnectedCallback(element, disconnectedCallback) {\n        disconnectedCallback?.call(element);\n    }\n    attributeChangedCallback(instance, name, oldValue, newValue, attributeChangedCallback) {\n        initializeAttrs(instance);\n        if (name !== 'data-catalyst' && attributeChangedCallback) {\n            attributeChangedCallback.call(instance, name, oldValue, newValue);\n        }\n    }\n}\nexport function meta(proto, name) {\n    if (!Object.prototype.hasOwnProperty.call(proto, symbol)) {\n        const parent = proto[symbol];\n        const map = (proto[symbol] = new Map());\n        if (parent) {\n            for (const [key, value] of parent) {\n                map.set(key, new Set(value));\n            }\n        }\n    }\n    const map = proto[symbol];\n    if (!map.has(name))\n        map.set(name, new Set());\n    return map.get(name);\n}\n//# sourceMappingURL=core.js.map","import { dasherize } from './dasherize.js';\n/**\n * Register the controller as a custom element.\n *\n * The classname is converted to a approriate tag name.\n *\n * Example: HelloController => hello-controller\n */\nexport function register(classObject) {\n    const name = dasherize(classObject.name).replace(/-element$/, '');\n    try {\n        window.customElements.define(name, classObject);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        window[classObject.name] = customElements.get(name);\n    }\n    catch (e) {\n        // The only reason for window.customElements.define to throw a `NotSupportedError`\n        // is if the element has already been defined.\n        if (!(e instanceof DOMException && e.name === 'NotSupportedError'))\n            throw e;\n    }\n    return classObject;\n}\n//# sourceMappingURL=register.js.map","export function autoShadowRoot(element) {\n    for (const template of element.querySelectorAll('template[data-shadowroot]')) {\n        if (template.parentElement === element) {\n            element\n                .attachShadow({\n                mode: template.getAttribute('data-shadowroot') === 'closed' ? 'closed' : 'open'\n            })\n                .append(template.content.cloneNode(true));\n        }\n    }\n}\n//# sourceMappingURL=auto-shadow-root.js.map","import { findTarget, findTargets } from './findtarget.js';\nimport { meta } from './core.js';\n/**\n * Target is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTarget(this, key)` where `key` is the name of the\n * property field. In other words, `@target foo` becomes a getter for\n * `findTarget(this, 'foo')`.\n */\nexport function target(proto, key) {\n    meta(proto, 'target').add(key);\n    Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTarget(this, key);\n        }\n    });\n}\n/**\n * Targets is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTargets(this, key)` where `key` is the name of the\n * property field. In other words, `@targets foo` becomes a getter for\n * `findTargets(this, 'foo')`.\n */\nexport function targets(proto, key) {\n    meta(proto, 'targets').add(key);\n    Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTargets(this, key);\n        }\n    });\n}\n//# sourceMappingURL=target.js.map","import { CatalystDelegate } from './core.js';\n/**\n * Controller is a decorator to be used over a class that extends HTMLElement.\n * It will automatically `register()` the component in the customElement\n * registry, as well as ensuring `bind(this)` is called on `connectedCallback`,\n * wrapping the classes `connectedCallback` method if needed.\n */\nexport function controller(classObject) {\n    new CatalystDelegate(classObject);\n}\n//# sourceMappingURL=controller.js.map","const Ordering = {\n  Less: \"less\",\n  Equal: \"equal\",\n  Greater: \"greater\"\n};\n\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter) => {\n  __accessCheck$2(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter) => {\n  __accessCheck$2(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$1 = (obj, member, method) => {\n  __accessCheck$2(obj, member, \"access private method\");\n  return method;\n};\nvar _compareFn, _heap, _heapifyDown, heapifyDown_fn, _heapifyUp, heapifyUp_fn;\nclass MinHeap {\n  constructor({ compareFn }) {\n    __privateAdd$2(this, _heapifyDown);\n    __privateAdd$2(this, _heapifyUp);\n    __privateAdd$2(this, _compareFn, void 0);\n    __privateAdd$2(this, _heap, void 0);\n    __privateSet$2(this, _compareFn, compareFn);\n    __privateSet$2(this, _heap, []);\n  }\n  insert(value) {\n    __privateGet$2(this, _heap).push(value);\n    __privateMethod$1(this, _heapifyUp, heapifyUp_fn).call(this);\n  }\n  pop() {\n    const item = __privateGet$2(this, _heap)[0];\n    if (__privateGet$2(this, _heap)[__privateGet$2(this, _heap).length - 1]) {\n      __privateGet$2(this, _heap)[0] = __privateGet$2(this, _heap)[__privateGet$2(this, _heap).length - 1];\n      __privateGet$2(this, _heap).pop();\n    }\n    __privateMethod$1(this, _heapifyDown, heapifyDown_fn).call(this);\n    return item;\n  }\n  peek() {\n    return __privateGet$2(this, _heap)[0];\n  }\n  delete(value) {\n    const index = __privateGet$2(this, _heap).indexOf(value);\n    if (index === -1) {\n      return;\n    }\n    swap(__privateGet$2(this, _heap), index, __privateGet$2(this, _heap).length - 1);\n    __privateGet$2(this, _heap).pop();\n    __privateMethod$1(this, _heapifyDown, heapifyDown_fn).call(this);\n  }\n  clear() {\n    __privateSet$2(this, _heap, []);\n  }\n  get size() {\n    return __privateGet$2(this, _heap).length;\n  }\n}\n_compareFn = new WeakMap();\n_heap = new WeakMap();\n_heapifyDown = new WeakSet();\nheapifyDown_fn = function() {\n  let index = 0;\n  while (hasLeftChild(index, __privateGet$2(this, _heap).length)) {\n    let smallerChildIndex = getLeftChildIndex(index);\n    if (hasRightChild(index, __privateGet$2(this, _heap).length) && __privateGet$2(this, _compareFn).call(this, rightChild(__privateGet$2(this, _heap), index), leftChild(__privateGet$2(this, _heap), index)) === Ordering.Less) {\n      smallerChildIndex = getRightChildIndex(index);\n    }\n    if (__privateGet$2(this, _compareFn).call(this, __privateGet$2(this, _heap)[index], __privateGet$2(this, _heap)[smallerChildIndex]) === Ordering.Less) {\n      break;\n    } else {\n      swap(__privateGet$2(this, _heap), index, smallerChildIndex);\n    }\n    index = smallerChildIndex;\n  }\n};\n_heapifyUp = new WeakSet();\nheapifyUp_fn = function() {\n  let index = __privateGet$2(this, _heap).length - 1;\n  while (hasParent(index) && __privateGet$2(this, _compareFn).call(this, __privateGet$2(this, _heap)[index], parent(__privateGet$2(this, _heap), index)) === Ordering.Less) {\n    swap(__privateGet$2(this, _heap), index, getParentIndex(index));\n    index = getParentIndex(index);\n  }\n};\nfunction getLeftChildIndex(index) {\n  return 2 * index + 1;\n}\nfunction getRightChildIndex(index) {\n  return 2 * index + 2;\n}\nfunction getParentIndex(index) {\n  return Math.floor((index - 1) / 2);\n}\nfunction hasLeftChild(index, size) {\n  return getLeftChildIndex(index) < size;\n}\nfunction hasRightChild(index, size) {\n  return getRightChildIndex(index) < size;\n}\nfunction hasParent(index) {\n  return index > 0;\n}\nfunction leftChild(heap, index) {\n  return heap[getLeftChildIndex(index)];\n}\nfunction rightChild(heap, index) {\n  return heap[getRightChildIndex(index)];\n}\nfunction parent(heap, index) {\n  return heap[getParentIndex(index)];\n}\nfunction swap(heap, a, b) {\n  const tmp = heap[a];\n  heap[a] = heap[b];\n  heap[b] = tmp;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter) => {\n  __accessCheck$1(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter) => {\n  __accessCheck$1(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _a, _promise, _resolve, _reject;\nclass Deferred {\n  constructor() {\n    __publicField(this, _a, \"Deferred\");\n    __privateAdd$1(this, _promise, void 0);\n    __privateAdd$1(this, _resolve, void 0);\n    __privateAdd$1(this, _reject, void 0);\n    __privateSet$1(this, _promise, new Promise((resolve, reject) => {\n      __privateSet$1(this, _resolve, resolve);\n      __privateSet$1(this, _reject, reject);\n    }));\n  }\n  then(onfulfilled, onrejected) {\n    return Promise.prototype.then.apply(__privateGet$1(this, _promise), [onfulfilled, onrejected]);\n  }\n  catch(onrejected) {\n    return Promise.prototype.catch.apply(__privateGet$1(this, _promise), [onrejected]);\n  }\n  finally(onfinally) {\n    return Promise.prototype.finally.apply(__privateGet$1(this, _promise), [onfinally]);\n  }\n  resolve(value) {\n    __privateGet$1(this, _resolve).call(this, value);\n  }\n  reject(reason) {\n    __privateGet$1(this, _reject).call(this, reason);\n  }\n  getPromise() {\n    return __privateGet$1(this, _promise);\n  }\n}\n_a = Symbol.toStringTag;\n_promise = new WeakMap();\n_resolve = new WeakMap();\n_reject = new WeakMap();\n\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _pending, _queue, _timeoutId, _performWork, performWork_fn, _updateContainerWithMessage, updateContainerWithMessage_fn;\nconst DEFAULT_THROTTLE_DELAY_MS = 150;\nclass LiveRegionElement extends HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _performWork);\n    __privateAdd(this, _updateContainerWithMessage);\n    /**\n     * A flag to indicate if a message has been announced and we are currently\n     * waiting for the delay to pass before announcing the next message.\n     */\n    __privateAdd(this, _pending, void 0);\n    /**\n     * A priority queue to store messages to be announced by the live region.\n     */\n    __privateAdd(this, _queue, void 0);\n    /**\n     * The id for a timeout being used by the live region to either wait until the\n     * next message or wait until the delay has passed before announcing the next\n     * message\n     */\n    __privateAdd(this, _timeoutId, void 0);\n    if (!this.shadowRoot) {\n      const template2 = getTemplate();\n      const shadowRoot = this.attachShadow({ mode: \"open\" });\n      shadowRoot.appendChild(template2.content.cloneNode(true));\n    }\n    __privateSet(this, _pending, false);\n    __privateSet(this, _timeoutId, null);\n    __privateSet(this, _queue, new MinHeap({\n      compareFn: compareMessages\n    }));\n  }\n  /**\n   * The delay in milliseconds to wait between announcements. This helps to\n   * prevent announcements getting dropped if multiple are made at the same time.\n   */\n  get delay() {\n    const value = this.getAttribute(\"delay\");\n    if (value) {\n      return parseInt(value, 10);\n    }\n    return DEFAULT_THROTTLE_DELAY_MS;\n  }\n  set delay(value) {\n    this.setAttribute(\"delay\", `${value}`);\n  }\n  /**\n   * Announce a message using a live region with a corresponding politeness\n   * level.\n   */\n  announce(message, options = {}) {\n    const { delayMs, politeness = \"polite\" } = options;\n    const now = Date.now();\n    const deferred = new Deferred();\n    const item = {\n      deferred,\n      politeness,\n      contents: message,\n      scheduled: delayMs !== void 0 ? now + delayMs : now\n    };\n    __privateGet(this, _queue).insert(item);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n    return {\n      ...deferred.getPromise(),\n      cancel: () => {\n        __privateGet(this, _queue).delete(item);\n        deferred.resolve();\n      }\n    };\n  }\n  /**\n   * Announce a message using the text content of an element with a\n   * corresponding politeness level\n   */\n  announceFromElement(element, options) {\n    const textContent = getTextContent(element);\n    if (textContent !== \"\") {\n      return this.announce(textContent, options);\n    }\n    const promise = Promise.resolve();\n    return {\n      ...promise,\n      cancel: noop\n    };\n  }\n  getMessage(politeness = \"polite\") {\n    const container = this.shadowRoot?.getElementById(politeness);\n    if (!container) {\n      throw new Error(\"Unable to find container for message\");\n    }\n    return container.textContent;\n  }\n  /**\n   * Prevent pending messages from being announced by the live region.\n   */\n  clear() {\n    if (__privateGet(this, _timeoutId) !== null) {\n      clearTimeout(__privateGet(this, _timeoutId));\n      __privateSet(this, _timeoutId, null);\n    }\n    __privateGet(this, _queue).clear();\n  }\n}\n_pending = new WeakMap();\n_queue = new WeakMap();\n_timeoutId = new WeakMap();\n_performWork = new WeakSet();\nperformWork_fn = function() {\n  if (__privateGet(this, _pending)) {\n    return;\n  }\n  let message = __privateGet(this, _queue).peek();\n  if (!message) {\n    return;\n  }\n  if (__privateGet(this, _timeoutId) !== null) {\n    clearTimeout(__privateGet(this, _timeoutId));\n    __privateSet(this, _timeoutId, null);\n  }\n  const now = Date.now();\n  if (message.scheduled <= now) {\n    message = __privateGet(this, _queue).pop();\n    if (message) {\n      __privateMethod(this, _updateContainerWithMessage, updateContainerWithMessage_fn).call(this, message);\n    }\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n    return;\n  }\n  const timeout = message.scheduled - now;\n  __privateSet(this, _timeoutId, window.setTimeout(() => {\n    __privateSet(this, _timeoutId, null);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n  }, timeout));\n};\n_updateContainerWithMessage = new WeakSet();\nupdateContainerWithMessage_fn = function(message) {\n  __privateSet(this, _pending, true);\n  const { contents, deferred, politeness } = message;\n  const container = this.shadowRoot?.getElementById(politeness);\n  if (!container) {\n    __privateSet(this, _pending, false);\n    throw new Error(`Unable to find container for message. Expected a container with id=\"${politeness}\"`);\n  }\n  if (container.textContent === contents) {\n    container.textContent = `${contents}\\xA0`;\n  } else {\n    container.textContent = contents;\n  }\n  if (__privateGet(this, _timeoutId) !== null) {\n    clearTimeout(__privateGet(this, _timeoutId));\n  }\n  deferred.resolve();\n  if (this.delay > 0) {\n    __privateSet(this, _timeoutId, window.setTimeout(() => {\n      __privateSet(this, _timeoutId, null);\n      __privateSet(this, _pending, false);\n      __privateMethod(this, _performWork, performWork_fn).call(this);\n    }, this.delay));\n  } else {\n    __privateSet(this, _timeoutId, null);\n    __privateSet(this, _pending, false);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n  }\n};\nfunction getTextContent(element) {\n  let value = \"\";\n  if (element.hasAttribute(\"aria-label\")) {\n    value = element.getAttribute(\"aria-label\");\n  } else if (element.innerText) {\n    value = element.innerText;\n  } else if (element.textContent) {\n    value = element.textContent;\n  }\n  return value ? value.trim() : \"\";\n}\nlet template = null;\nconst templateContent = `\n<style>\n:host {\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n</style>\n<div id=\"polite\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n<div id=\"assertive\" aria-live=\"assertive\" aria-atomic=\"true\"></div>\n`;\nfunction getTemplate() {\n  if (template) {\n    return template;\n  }\n  template = document.createElement(\"template\");\n  template.innerHTML = templateContent;\n  return template;\n}\nfunction compareMessages(a, b) {\n  if (a.politeness === b.politeness) {\n    if (a.scheduled === b.scheduled) {\n      return Ordering.Equal;\n    }\n    if (a.scheduled < b.scheduled) {\n      return Ordering.Less;\n    }\n    return Ordering.Greater;\n  }\n  if (a.politeness === \"assertive\" && b.politeness !== \"assertive\") {\n    return Ordering.Less;\n  }\n  if (a.politeness !== \"assertive\" && b.politeness === \"assertive\") {\n    return Ordering.Greater;\n  }\n  return Ordering.Equal;\n}\nfunction noop() {\n}\n\nif (!customElements.get(\"live-region\")) {\n  customElements.define(\"live-region\", LiveRegionElement);\n}\n\nfunction announce(message, options = {}) {\n  let liveRegion = findLiveRegion(options.from);\n  if (!liveRegion) {\n    liveRegion = document.createElement(\"live-region\");\n    if (options.appendTo) {\n      options.appendTo.appendChild(liveRegion);\n    } else {\n      const container = getLiveRegionContainer(options.from);\n      container.appendChild(liveRegion);\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      return liveRegion.announce(message, options);\n    }\n    let canceled = false;\n    let cancel = () => {\n      canceled = true;\n    };\n    const promise = wait(REGISTER_WAIT_MS).then(() => {\n      if (!canceled) {\n        const result = liveRegion.announce(message, options);\n        cancel = result.cancel;\n        return result;\n      }\n    });\n    return {\n      ...promise,\n      cancel: () => {\n        cancel();\n      }\n    };\n  }\n  return liveRegion.announce(message, options);\n}\nfunction announceFromElement(element, options = {}) {\n  let liveRegion = findLiveRegion(options.from);\n  if (!liveRegion) {\n    liveRegion = document.createElement(\"live-region\");\n    if (options.appendTo) {\n      options.appendTo.appendChild(liveRegion);\n    } else {\n      const container = getLiveRegionContainer(options.from);\n      container.appendChild(liveRegion);\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      return liveRegion.announceFromElement(element, options);\n    }\n    let canceled = false;\n    let cancel = () => {\n      canceled = true;\n    };\n    const promise = wait(REGISTER_WAIT_MS).then(() => {\n      if (!canceled) {\n        const result = liveRegion.announceFromElement(element, options);\n        cancel = result.cancel;\n        return result;\n      }\n    });\n    return {\n      ...promise,\n      cancel: () => {\n        cancel();\n      }\n    };\n  }\n  return liveRegion.announceFromElement(element, options);\n}\nfunction findLiveRegion(from) {\n  let liveRegion = null;\n  liveRegion = from ? getClosestLiveRegion(from) : null;\n  if (liveRegion !== null) {\n    return liveRegion;\n  }\n  const container = getLiveRegionContainer(from);\n  liveRegion = container.querySelector(\"live-region\");\n  if (liveRegion !== null) {\n    return liveRegion;\n  }\n  return null;\n}\nfunction getClosestLiveRegion(from) {\n  const dialog = from.closest(\"dialog\");\n  let current = from;\n  while (current = current.parentElement) {\n    if (dialog && !dialog.contains(current)) {\n      break;\n    }\n    for (const child of current.childNodes) {\n      if (child instanceof LiveRegionElement) {\n        return child;\n      }\n    }\n  }\n  return null;\n}\nfunction getLiveRegionContainer(from) {\n  let container = document.body;\n  if (from) {\n    const dialog = from.closest(\"dialog\");\n    if (dialog) {\n      container = dialog;\n    }\n  }\n  return container;\n}\nconst REGISTER_WAIT_MS = 150;\nfunction wait(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport { LiveRegionElement, announce, announceFromElement, templateContent };\n"],"names":["FeatureFlags","children","flags","value","useMemo","merge","create","Provider","displayName","useFeatureFlag","flag","context","useContext","enabled","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","StyledHeading","h2","withConfig","componentId","Heading","forwardRef","as","Component","className","variant","props","forwardedRef","u","innerRef","sx","ref","classes","sizeMap","small","medium","large","Spinner","size","sizeKey","srText","ariaLabel","hasHiddenLabel","undefined","labelId","display","height","width","viewBox","fill","cx","cy","stroke","strokeOpacity","strokeWidth","vectorEffect","d","strokeLinecap","id","StyledSpinner","getKey","compose","system","get","key","COMMON","whiteSpace","property","TYPOGRAPHY","useRefObjectAsForwardedRef","refObject","useImperativeHandle","current","VisuallyHidden","span","themeGet","path","fallback","theme","clsx","f","Array","isArray","AuthToken","authorizationHeaderValue","needsRefreshing","ssoOrgIds","isExpired","ssoChanged","expirationDateString","Date","expiration","expirationDate","UTC","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","now","ssoOrgIDs","every","org","includes","fromResult","result","orgIds","token","serialize","deserialize","serialized","constructor","COPILOT_AUTH_TOKEN_KEY","CopilotAuthTokenProvider","getAuthToken","getLocalStorageAuthToken","validateAuthToken","fetchAuthToken","setLocalStorageAuthToken","copilotLocalStorage","setItem","JSON","stringify","getItem","parse","currentAuthTokenRequest","_fetchAuthToken","response","verifiedFetchJSON","method","ok","json","safeStorage","throwQuotaErrorsOnSet","ttl","ApiCache","params","join","separator","cached","cache","promise","fetchFn","set","delete","Map","HYDRATABLE_REFERENCE_TYPES","Set","ERRORS","CopilotChatService","fetchThreads","queryParams","URLSearchParams","name","pathWithParams","toString","res","makeCAPIRequest","payload","threads","status","createThread","thread","deleteThread","threadID","renameThread","newName","generate","clearThread","generateThreadName","listMessages","listMessagesCache","createMessage","content","intent","references","customInstructions","currentURL","window","location","href","message","createMessageStreaming","confirmations","knowledgeBases","body","streaming","sendFeedback","feedback","feedbackChoice","messageId","threadId","textResponse","makeDotcomRequest","urlPathPrefix","feedback_choice","message_id","thread_id","text_response","listDocsets","fetchDocsetsResponse","listAdministratedCopilotEnterpriseOrganizations","administratedCopilotEnterpriseOrganizations","docsetsPromise","docsetRequestPromise","deleteDocset","docset","listRepoFiles","repo","treeListPath","commitOid","commitOID","includeDirectories","repoFilesCache","querySymbols","query","querySymbolsCache","ownerLogin","fetchImplicitContext","url","owner","encodeURIComponent","fetchRepo","repoID","repoDetailsCache","has","listAgents","agentsPath","error","ERROR_MSG","hydrateReference","reference","type","fetchLanguageForFileReference","repoOwner","repoName","btoa","fetchPath","blobDetectLanguage","generateSuggestions","currentUrl","headers","exp","getCopilotExperiments","components","split","replaceAll","copilotAuthTokenProvider","directConnectConfiguration","integrationID","streamingResponse","basePath","baseURL","apiURL","Authorization","fetch","mode","ssoOrgs","listRepoFilesImpl","paths","querySymbolsImpl","suggestions","filter","suggestion","kind","map","experimentsLocalStorageKey","experiments","setCopilotExperiments","CopilotCodeReviewService","checkCodeReviewAccess","repository","createCodeReview","number","isTimeout","CopilotCodeReviewServiceContext","createContext","CopilotCodeReviewServiceProvider","useCopilotCodeReviewService","useCheckAccess","service","hasAccess","setHasAccess","useState","loading","setLoading","setError","checkAccess","useCallback","copilot_enabled","err","useEffect","CopilotCodeReviewAccess","useRequestReview","requestReview","CopilotCodeReviewButton","CopilotCodeReviewButtonError","Button","block","leadingVisual","CopilotIcon","styles","copilotCodeReviewButton","onClick","disabled","CopilotErrorIcon","CopilotCodeReview","ssoOrganizations","ErrorBoundary","Suspense","registerReactPartial","DeferredRegistry","register","registration","entry","registrationEntries","resolve","Promise","getRegistration","Deferred","usePartialAnchorProps","anchorElement","anchor","classList","remove","reactPartialAnchor","__wrapperElement","useExternalAnchor","useRef","open","setOpen","setAttribute","useOnAnchorClick","element","addEventListener","removeEventListener","partialRegistry","ReactPartialElement","ReactBaseElement","getReactNode","embeddedData","appName","closest","PartialEntry","partialName","wasServerRendered","hasSSRContent","ssrError","nameAttribute","controller","removeItem","REACT_PROFILING_ENABLED","enable","disable","isEnabled","verifiedFetch","init","assertRelativePathOrSameOrigin","URL","origin","Accept","reactFetch","reactFetchJSON","React","getDerivedStateFromError","onError","setTimeout","render","state","ErrorPage","errorMessages","httpStatus","tabIndex","flexDirection","minWidth","minHeight","alignItems","justifyContent","Box","fontSize","fontWeight","lineHeight","pt","PartialRouter","history","setState","useHydratedEffect","listen","Router","navigator","historyRef","globalThis","createBrowserHistory","createMemoryHistory","initialEntries","pathname","partialAnchorProps","BaseProviders","AppContextProvider","routes","CommonElements","REACT_INVARIANT_ERROR_REGEX","HTMLElement","getAttribute","embeddedDataText","text","textContent","connectedCallback","renderReact","disconnectedCallback","root","unmount","reactRoot","reactDom","createRoot","hydrateRoot","ReactProfilingMode","getReactDomWithProfiling","ssrErrorText","node","baseNode","logSSRError","querySelector","document","head","appendChild","onRecoverableError","Error","match","exec","invariant","String","groups","sendStats","incrementKey","incrementTags","requestIdleCallback","parentElement","removeChild","add","EXPECTED_ERRORS","console","stacktrace","parseFailbotStacktrace","prefix","stack","function","func","filename","lineno","colno","frame","line","target","elementLoader","controllers","WeakSet","observers","WeakMap","listenForBind","el","closed","observer","MutationObserver","mutations","mutation","Element","bindActions","addedNodes","bindElements","observe","childList","subtree","attributeFilter","subscription","unsubscribe","disconnect","querySelectorAll","hasAttribute","handleEvent","event","currentTarget","binding","bindings","tag","getRootNode","ShadowRoot","host","matches","shadowController","action","trim","eventSep","lastIndexOf","methodSep","Math","max","slice","findTarget","tagName","toLowerCase","shadowRoot","dasherize","str","description","replace","mustDasherize","dashed","DOMException","attrKey","attr","proto","meta","initialized","initializeAttrs","instance","names","getPrototypeOf","attrPrefix","descriptor","configurable","newValue","Number","toggleAttribute","defineProperty","symbol","Symbol","for","CatalystDelegate","classObject","delegate","prototype","attributeChangedCallback","oldValue","observedAttributes","attributes","defineObservedAttributes","observed","attrToAttributeName","concat","customElements","define","upgrade","autoShadowRoot","template","attachShadow","append","cloneNode","ownerDocument","parent","targets","findTargets","push","dynamicElements","ready","readyState","once","firstInteraction","AbortController","signal","listenerOptions","passive","handler","abort","strategies","visible","IntersectionObserver","entries","isIntersecting","rootMargin","threshold","timers","scan","cancelAnimationFrame","requestAnimationFrame","keys","child","strategyName","strategy","cb","then","lazyDefine","callback","Ordering","Less","Equal","Greater","_compareFn","_heap","_heapifyDown","heapifyDown_fn","_heapifyUp","heapifyUp_fn","_a","_promise","_resolve","_reject","_pending","_queue","_timeoutId","_performWork","performWork_fn","_updateContainerWithMessage","updateContainerWithMessage_fn","__accessCheck$2","obj","member","msg","TypeError","__privateGet$2","getter","__privateAdd$2","__privateSet$2","setter","__privateMethod$1","MinHeap","compareFn","insert","pop","item","peek","index","indexOf","swap","clear","getParentIndex","floor","heap","a","b","tmp","getLeftChildIndex","smallerChildIndex","hasParent","__defProp","__defNormalProp","enumerable","writable","__publicField","__accessCheck$1","__privateGet$1","__privateAdd$1","__privateSet$1","reject","onfulfilled","onrejected","catch","finally","onfinally","reason","getPromise","toStringTag","__accessCheck","__privateGet","__privateAdd","__privateSet","__privateMethod","LiveRegionElement","template2","createElement","innerHTML","templateContent","compareMessages","delay","parseInt","announce","options","delayMs","politeness","deferred","contents","scheduled","cancel","announceFromElement","innerText","noop","getMessage","container","getElementById","clearTimeout","timeout","liveRegion","findLiveRegion","from","appendTo","canceled","wait","REGISTER_WAIT_MS","getClosestLiveRegion","dialog","contains","childNodes","getLiveRegionContainer","ms"],"sourceRoot":""}