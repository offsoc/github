"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["stafftools"],{57765:(e,t,r)=>{r.d(t,{a:()=>o,n:()=>s});var n=r(97797);function s(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!1)}function o(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!0)}(0,n.on)("deprecatedAjaxError","[data-remote]",function(e){let{error:t,text:r}=e.detail;e.currentTarget===e.target&&"abort"!==t&&"canceled"!==t&&(/<html/.test(r)?(s(),e.stopImmediatePropagation()):setTimeout(function(){e.defaultPrevented||s()},0))}),(0,n.on)("deprecatedAjaxSend","[data-remote]",function(){o()}),(0,n.on)("click",".js-ajax-error-dismiss",function(){o()})},58655:(e,t,r)=>{var n=r(27193),s=r(97797),o=r(21403),a=r(79024);(0,s.on)("submit",".js-dormant-users-reports-form",async e=>{let t=e.currentTarget,r=t.querySelector(".js-dormant-users-reports-error");r.hidden=!0,e.preventDefault();try{let e=await (0,n.Ts)(document,t.action,{method:t.method,body:new FormData(t)});t.replaceWith(e)}catch(e){e.message.startsWith("HTTP 422")?r.textContent="Only one report can be in progress at a time.":r.textContent="Something went wrong when creating your new report.",r.hidden=!1}}),(0,o.lB)(".js-in-progress-report-status-container",{subscribe:e=>(0,a.Rt)(e,"socket:message",async function(e){let t=e.detail.data;e.currentTarget.querySelector(".js-progress-status").textContent=`in progress\u{2026} ${t.status} users`})})},47276:(e,t,r)=>{var n=r(13937),s=r(57765),o=r(79049);async function a(e,t,r,n){let a;let i=document.querySelector(e),l=document.querySelector(t),c=document.getElementById("truncate-warning");function u(e){l&&(l.hidden=e),i.hidden=!e}u(!0),null!=c&&(c.hidden=!0);try{a=await r.json()}catch(e){u(!1),(0,s.n)();return}let d=a.json;d.notify&&function(e,t="notice"){let r=new o.i4(document.querySelector(".js-flash-template"),{className:`flash-${t}`,message:e}),n=document.importNode(r,!0),s=document.querySelector("#js-flash-container");for(let e of s.children)e.classList.contains("js-flash-template")||s.removeChild(e);s.appendChild(n)}(d.notify);try{await function e(t,r){return new Promise((n,s)=>{setTimeout(async()=>{let o=new Request(t);o.headers.append("X-Requested-With","XMLHttpRequest");let a=await fetch(o);200===a.status?n(a):202===a.status?n(e(t,r)):s(a)},r)})}(d.job_url,n)}catch(e){u(!1),(0,s.n)();return}u(!1),window.location=d.export_url}(0,n.JW)(".js-license-usage-download-form",async function(e,t){await a(".js-license-usage-generating",".js-license-usage-download-btn",t,2e3)})},48314:(e,t,r)=>{var n=r(13937),s=r(57765),o=r(79049);function a(e,t="notice"){let r=new o.i4(document.querySelector(".js-flash-template"),{className:`flash-${t}`,message:e}),n=document.importNode(r,!0),s=document.querySelector("#js-flash-container");for(let e of s.children)e.classList.contains("js-flash-template")||s.removeChild(e);s.appendChild(n)}async function i(e,t,r,n){let o;let i=document.querySelector(e),l=document.querySelector(t);function c(e){l&&(l.hidden=e),i.hidden=!e}c(!0);try{o=await r.json()}catch(e){c(!1),e.message.startsWith("HTTP 422")?a("Only one report can be in progress at a time.","error"):a("Something went wrong when creating your new report.","error");return}let u=o.json;u.notify&&a(u.notify);try{await function e(t,r){return new Promise((n,s)=>{setTimeout(async()=>{let o=new Request(t);o.headers.append("X-Requested-With","XMLHttpRequest");let a=await fetch(o);200===a.status?n(a):202===a.status?n(e(t,r)):s(a)},r)})}(u.job_url,n)}catch(e){c(!1),(0,s.n)();return}c(!1),window.location=u.export_url}(0,n.JW)(".js-members-download-form",async function(e,t){await i(".js-members-generating",".js-members-download-btn",t,2e3)})},27698:(e,t,r)=>{var n=r(21232),s=r(97797);(0,n.eC)(".js-business-name",function(e){let t=e.target,r=document.querySelector('.js-business-slug[data-auto-update="true"]');r instanceof HTMLInputElement&&(r.value=t.value.trim().toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s/g,"-"),(0,s.h)(r,"input"))}),(0,n.eC)(".js-business-slug",function(e){let t=e.target,r=""===t.value.trim();t.setAttribute("data-auto-update",`${r}`);let n=document.querySelector(".js-name-slug-sync-icon");n&&(r?n.removeAttribute("hidden"):n.setAttribute("hidden","hidden"))})},915:(e,t,r)=>{var n=r(27193),s=r(13937),o=r(57765);async function a(e,t,r,s){let a;let i=document.querySelector(e),l=document.querySelector(t);function c(e){l&&(l.hidden=e,l.open=!1),i.hidden=!e}c(!0);try{a=await r.json()}catch(e){c(!1),(0,o.n)();return}let u=a.json;try{await (0,n.Ee)(u.job_url,{},s)}catch(e){c(!1),(0,o.n)();return}c(!1),window.location=u.export_url}(0,s.JW)(".js-organization-members-export-form",async function(e,t){await a(".js-organization-members-exporting",".js-organization-members-export-menu",t,2e3)})},86221:(e,t,r)=>{var n=r(21232),s=r(21403),o=r(97797);function a(){let e=Array.from(document.querySelectorAll("input[type=text].js-advanced-search-prefix")),t=Array.from(document.querySelectorAll("select.js-advanced-search-prefix")),r=Array.from(document.querySelectorAll(".js-advanced-search-prefix:checked")),n=[...l(e),...l(t),...l(r)],s=n.reduce((e,t)=>(t.value&&t.type&&e[t.type]++,e),{Repositories:0,Users:0,Code:0,Issues:0}),o=n.reduce((e,t)=>`${e} ${(function({prefix:e,value:t}){if(""===e)return"";if(Array.isArray(t)){let r=t.map(t=>`${e}${t}`).join(" OR ");return t.length>1?`(${r})`:r}return t?`${e}${t}`:""})(t)}`.trim(),""),a=document.querySelector(".js-advanced-search-input").value;document.querySelector(".js-type-value").value=function(e){let t=new URLSearchParams(window.location.search).get("type")||"Repositories",r=0;for(let n in e)e[n]>r&&(r=e[n],t=n);return t}(s),document.querySelector(".js-search-query").value=`${a} ${o}`.trim();let i=document.querySelector(".js-advanced-query");i.textContent="",i.textContent=o;let c=document.createElement("span");c.textContent=a.trim(),i.prepend(c," ")}function i(e,t,r){return -1!==(e=e.trim()).search(/\s/g)?r?(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r.replace("$0",e)):`"${e}"`:t&&e?t.replace("$0",e):e}function l(e){return e.map(e=>{let t=e.value.trim(),r=e.getAttribute("data-search-prefix"),n=e.getAttribute("data-search-type"),s=e.getAttribute("data-glob-pattern"),o=e.getAttribute("data-regex-pattern"),a=null!==e.getAttribute("data-use-or");return""===r?{prefix:r,value:t,type:n}:-1===t.search(/,/g)||"location"===r?{prefix:r,value:i(t,s,o),type:n}:a?{prefix:r,value:t.split(/,/).filter(e=>!!e).map(e=>i(e,s,o)),type:n}:t.split(/,/).map(e=>({prefix:r,value:i(e.trim(),s,o),type:n}))}).flatMap(e=>e)}(0,n.eC)(".js-advanced-search-prefix",function(){a()}),(0,o.on)("change",".js-advanced-search-prefix",a),(0,o.on)("change",".js-advanced-search-prefix",e=>{let t=e.currentTarget.getAttribute("data-search-prefix");"reason:"===t?function(){let e=document.querySelector("#search_state"),t=document.querySelector("#search_state_reason");if(e&&t){let r=e.value,n=t.value;("completed"===n||"not planned"===n)&&"closed"!==r?e.value="closed":"reopened"===n&&"open"!==r&&(e.value="open")}}():"state:"===t&&function(){let e=document.querySelector("#search_state"),t=document.querySelector("#search_state_reason");if(e&&t){let r=e.value,n=t.value;"closed"===r&&"reopened"===n?t.value="":"open"===r&&"reopened"!==n&&(t.value="")}}()}),(0,n.uE)(".js-advanced-search-input",function(e){let t=e.closest(".js-advanced-search-label");t.classList.add("focus"),e.addEventListener("blur",()=>t.classList.remove("focus"),{once:!0})}),(0,s.lB)(".js-advanced-search-input",function(){a()})},7245:(e,t,r)=>{r(27698),r(48314),r(58655),r(47276),r(915),r(18558);var n=r(97797);(0,n.on)("change","#js-ghas-state-select",function(e){let t=document.getElementById("js-ghas-seats-form-group"),r=document.getElementById("js-ghas-seats-input");if(t&&r){let n="seats"===e.currentTarget.value;t.style.display=n?"block":"none",r.min=n?"1":"0"}});var s=r(21232),o=r(78350);(0,n.on)("click",".js-minimize-target",function(e){let t=e.currentTarget;for(let e of(t.classList.toggle("btn"),t.classList.toggle("btn-link"),document.getElementsByClassName("js-minimize-toggle")))e.classList.toggle("d-none")}),(0,n.on)("click",".js-submit-checkbox",function(e){let t=e.currentTarget;(0,o.k_)(t.form)}),(0,n.on)("click",'input[type="radio"].js-require-selection',function(e){let t=e.currentTarget;if(t.form){let e=t.form.querySelector("[type=submit]");e&&(e.classList.remove("disabled"),e.disabled=!1)}}),(0,n.on)("change","#user_rename_reason",function(e){let t=e.currentTarget,r=document.querySelector("#original_login"),n="Dormant"===t.value&&!r.value.endsWith("-zz"),s="ATO remediation"===t.value||"Owner requested"===t.value||"Other"===t.value,o=document.querySelector("#user_rename_login");n?o.value=`${r.value}-zz`:o.value=r.value,document.querySelector("#user_rename_notes").toggleAttribute("required",s),document.querySelector("#user_rename_notes_container").classList.toggle("required",s)}),(0,n.on)("change","#access-request-reason",function(e){let t="Other"===e.currentTarget.value,r=document.querySelector("#impersonate-user-notes");r.toggleAttribute("required",t),t||r.removeAttribute("placeholder"),document.querySelector("#impersonate-user-notes-container").classList.toggle("required",t)}),(0,s.Ff)("keydown",".js-prevent-keyboard-submit",function(e){"Enter"===e.key&&e.preventDefault()});var a=r(39595),i=r(17688),l=r(27193);function c(e,t,r,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(a=(o<3?s(a):o>3?s(t,r,a):s(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}let u=class PollSynchronousPaymentElement extends HTMLElement{connectedCallback(){this.loadingStatus.style.display="none"}async collectPayment(e){this.buttonElement.disabled=!0,this.loadingStatus.style.display="",e.preventDefault();try{let e=await this.fetchPaymentCollectionJobUrl();if(!e)return this.refreshPage();let t=await this.pollPaymentCollectionJobStatus(e);if(this.loadingStatus.style.display="none","success"===t.state){let e=(0,i.qy)`<p style="text-align:center">
          Success! <a class="Link--inTextBlock" href="" id="refresh-page-anchor">Refresh the page to see changes</a>
        </p>`;(0,i.XX)(e,this.completionMessage),document.getElementById("refresh-page-anchor")?.addEventListener("click",()=>this.refreshPage())}else{let e=(0,i.qy)`<p style="text-align:center">Error: ${t.error_message}</p>`;(0,i.XX)(e,this.completionMessage)}}catch{let e=(0,i.qy)`<p style="text-align:center">
        An error occurred while waiting for a response. The change may or may not have been successful, please see the
        audit log for details.
      </p>`;(0,i.XX)(e,this.completionMessage)}}async pollPaymentCollectionJobStatus(e){let t=await (0,l.Ee)(e,{headers:{accept:"application/json"}},1e3,[200,500]);return(await t.json()).job}async fetchPaymentCollectionJobUrl(){let e=await fetch(this.form.action,{method:this.form.method,body:new FormData(this.form),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return(await e.json()).job_url}refreshPage(){window.location.reload()}};c([a.aC],u.prototype,"buttonCTA",void 0),c([a.aC],u.prototype,"loadingStatus",void 0),c([a.aC],u.prototype,"completionMessage",void 0),c([a.aC],u.prototype,"buttonElement",void 0),c([a.aC],u.prototype,"form",void 0),u=c([a.p_],u),(0,s.uE)(".js-business-tos-company-name",function(e){if(e instanceof HTMLInputElement&&""===e.value){let t=document.querySelector(".js-business-name");e.value=t.value}}),(0,n.on)("click","#staff-admin-complete-results .member-suggestion-info",function({currentTarget:e}){let t=e.closest("form"),r=t.querySelector(".js-add-btn"),n=t.querySelector(".js-invite-btn"),s=e.closest("li").classList.contains("email-suggestion");r.hidden=s,n.hidden=!s}),(0,n.on)("click",".js-submit-emubusinesstype",function(){let e=document.querySelector('input[name="business[seats_plan_type]"]:checked'),t=document.getElementsByName("copilot_max_seats")[0];e&&"basic"===e.value?t.removeAttribute("style"):t.setAttribute("style","display:none;")}),(0,n.on)("click",".js-submit-emucheckbox",function(e){let t=e.currentTarget,r=document.getElementsByName("shortcode")[0],n=document.getElementsByName("business[shortcode]")[0],s=document.getElementsByName("seats_plan_type")[0];null!==t&&null!==n&&null!==r&&t.checked?(r.removeAttribute("style"),s.removeAttribute("style"),n.removeAttribute("disabled"),n.focus()):null===t||null===n||null===r||t.checked||(r.setAttribute("style","display:none;"),s.hasAttribute("data-create-basic")||s.setAttribute("style","display:none;"),n.setAttribute("disabled","true"),n.value="")});var d=r(21403);(0,d.lB)("#js-repair-index",{initialize(e){setInterval(async function(){let t=e.getAttribute("data-index-name"),r=await (0,l.Ts)(document,`/stafftools/indexing/${t}/repair`);e.textContent="",e.append(r)},5e3)}});var m=r(13937);function p(e){for(let t of e.querySelectorAll("form>button"))t.disabled=!0;for(let t of e.querySelectorAll("summary"))t.classList.add("disabled");for(let t of e.querySelectorAll("details"))t.removeAttribute("open");e.querySelector("li > input[type='checkbox']").disabled=!0,document.querySelector(".js-purgatory-restore-bulk-button").setAttribute("aria-disabled","true")}function h(e,t){let r=e.querySelector(".js-repository-status");r.textContent="",r.append(t.html)}function f(e){e.querySelector("a.js-stafftools-repository-link").classList.remove("v-hidden")}function g(e){let t=e.currentTarget;t instanceof HTMLElement&&(y()&&"true"!==t.getAttribute("aria-disabled")?t.removeAttribute("tabindex"):(e.preventDefault(),t.setAttribute("tabindex","-1")))}function y(){return!!document.querySelector(".js-purgatory-repo-select-checkbox:checked")}(0,m.JW)(".js-action-ldap-create-form",async function(e,t){let r;e.querySelector(".btn-sm").classList.add("disabled");let n=!1;try{r=(await t.text()).text,n=!0}catch(e){r="Oops, something went wrong."}let s=e.closest(".js-action-ldap-create").querySelector(".js-message");s.style.display="block",s.innerHTML=` &ndash; ${r}`,n&&(e.querySelector(".btn").style.display="hidden")}),(0,n.on)("click",".js-report",async function(e){e.preventDefault();let t=e.target;if(!(t instanceof HTMLElement))return;let r=t.closest(".js-report-container").querySelector(".js-report-progress");try{t.classList.add("disabled"),r.classList.remove("d-none");let e=t.getAttribute("data-url"),n=await (0,l.Ee)(e);window.location.href=n.headers.get("Location")||""}finally{t.classList.remove("disabled"),r.classList.add("d-none")}}),(0,m.JW)(".js-purgatory-detach",async function(e,t){let r=e.closest(".js-repository-purgatory");p(r),h(r,await t.html())}),(0,m.JW)(".js-purgatory-restore",async function(e,t){let r=e.closest(".js-repository-purgatory");p(r);let n=await t.html();h(r,n),n.text.includes("errors")||f(r)}),(0,m.JW)(".js-purgatory-purge",async function(e,t){let r=e.closest(".js-repository-purgatory");p(r),h(r,await t.html())}),(0,n.on)("change",".js-private-fork > input[type='checkbox']",e=>{let t=e.target;t.closest(".js-repository-purgatory").classList.toggle("flash-warn",t.checked),document.querySelector(".js-purgatory-restore-bulk-private-fork-message").hidden=!document.querySelector(".js-private-fork > input:checked")}),(0,n.on)("change",".js-no-deleted-at > input[type='checkbox']",e=>{let t=e.target;t.closest(".js-repository-purgatory").classList.toggle("flash-warn",t.checked),document.querySelector(".js-purgatory-restore-bulk-deleted-at-message").hidden=!document.querySelector(".js-no-deleted-at > input:checked")}),(0,n.on)("change",".js-purgatory-repo-select-checkbox",()=>{let e=document.querySelector(".js-purgatory-restore-bulk-button");y()?e.setAttribute("aria-disabled","false"):e.setAttribute("aria-disabled","true")}),(0,n.on)("click",".js-purgatory-restore-bulk-button",e=>{g(e)}),(0,n.on)("mousedown",".js-purgatory-restore-bulk-button",e=>{g(e)}),(0,n.on)("click","button.js-purgatory-restore-bulk",async e=>{let t=e.currentTarget,r="purgatory-repository-",n=document.querySelector("#js-purgatory-restore-bulk-status"),s=document.querySelector("form.js-purgatory-restore-bulk");t.disabled=!0;let o=[],a=n.getAttribute("data-started-message");for(let e of(n.textContent=a,document.querySelectorAll(`[id^='${r}'] > input:checked`))){let t=e.value,n=document.createElement("input");n.type="hidden",n.name="ids[]",n.value=t,s.appendChild(n),p(document.querySelector(`#${r}${t}`)),o.push(t)}if(0===o.length){let e=n.getAttribute("data-nonselected-message");n.textContent=e;return}async function i(e){let t=document.querySelector(`#${r}${e}`),n=t.getAttribute("data-restore-partial");h(t,{html:(await (0,l.Ts)(document,n)).firstElementChild}),f(t)}let c=s.action,u=s.method;try{let e=await fetch(c,{method:u,body:new FormData(s),headers:{Accept:"application/json"}});if(!e.ok)throw Error();let t=await e.json();for(let e of o){let n=t.errors[e],s=document.querySelector(`#${r}${e}`);if(""!==n)!function(e,t){let r=e.querySelector(".js-repository-status");r.textContent="",r.append(t)}(s,n);else{await i(e);let t=s.getAttribute("data-bulk-job-status");await (0,l.Ee)(t,{headers:{accept:"application/json"}})}}}catch(t){let e=n.getAttribute("data-failure-message");n.textContent=e;return}t.closest(".js-purgatory-restore-bulk-details").removeAttribute("open")}),r(75487);var b=r(38147);async function v(e,t,r){let n=new URL(e,window.location.origin),s=new URLSearchParams(n.search.slice(1));s.append("seats",t.toString()),s.append("duration",r),n.search=s.toString();let o=await fetch(n.toString(),{headers:{Accept:"application/json"}});if(!o.ok)return;let a=await o.json(),i=a.selectors;for(let e in i){let t=i[e],r=document.querySelector(e);r&&(r.textContent=t)}for(let e of document.querySelectorAll(".js-altered-subscription"))e.classList.toggle("d-none",a.starting_new_subscription);for(let e of document.querySelectorAll(".js-replaced-subscription"))e.classList.toggle("d-none",!a.starting_new_subscription)}function j(e){let t=Math.max(0,parseInt(e.value)||0),r=e.getAttribute("data-url"),n=document.querySelector(".js-plan-duration:checked");n instanceof HTMLInputElement&&v(r,t,n.value)}(0,d.lB)(".js-total-seats-field",{constructor:HTMLInputElement,initialize(e){j(e),(0,b.Up)(e,()=>{j(e)})}}),(0,n.on)("change","input.js-plan-duration",function(e){let t=e.currentTarget,r=document.querySelector(".js-total-seats-field");v(r.getAttribute("data-url"),Math.max(0,parseInt(r.value)||0),t.value)});var k=r(79024);function q(e){let t=e.querySelectorAll("input[type=checkbox]:checked").length>0;!function(e){let t=document.querySelector("#two-factor-approval-warning"),r=document.querySelector("#two-factor-approval-email-warning");e?(t.hidden=!1,r.hidden=!0):(r.hidden=!1,t.hidden=!0)}(t),function(e){let t=document.querySelector("#two-factor-approve-btn");e?t.classList.remove("disabled"):t.classList.add("disabled")}(t)}(0,d.lB)(".js-bulk-takedown-status-channel",{subscribe:e=>(0,k.Rt)(e,"socket:message",function(e){let t=e.currentTarget,r=e.detail.data;for(let e in r){let n=t.querySelector(`.js-disable-repository-access-status[data-repo-id='${e}']`);n&&(n.textContent=r[e].user_display_status)}})}),(0,n.on)("click",".js-two-factor-recovery-review-btn",()=>{let e=document.querySelector("#js-2fa-recovery-emails-list");e&&(function(e){for(let t of e.querySelectorAll("input[type=checkbox]"))"true"===t.getAttribute("aria-checked")?t.checked=!0:t.checked=!1}(e),q(e))}),(0,n.on)("change","#js-2fa-recovery-emails-list input",()=>{q(document.querySelector("#js-2fa-recovery-emails-list"))}),(0,n.on)("click","#js-2fa-recovery-emails-list input",({currentTarget:e})=>{!function(e){"true"===e.getAttribute("aria-checked")?e.setAttribute("aria-checked","false"):e.setAttribute("aria-checked","true")}(e)}),r(86221),(0,n.on)("click",".js-bulk-privatizations-select-all-public",function(e){let t=e.currentTarget,r=t.closest("form");if(r){let e=r.querySelectorAll(".js-bulk-privatizations-public-repo");if(e)for(let r of e)t.checked?r.checked=!0:r.checked=!1}}),(0,n.on)("click",".js-bulk-privatizations-public-repo",function(e){let t=e.currentTarget,r=t.closest("form");if(r){let e=r.querySelector(".js-bulk-privatizations-select-all-public");e&&!t.checked&&(e.checked=!1)}});var S=r(96907);function _(e,t){let r=e.closest(".js-sponsors-bulk-manage-listings-container"),n=r.querySelector(t),s=r.querySelector(".js-sponsors-bulk-manage-listings-table"),o=Array.from(r.querySelectorAll(".js-sponsors-bulk-manage-listings-button")).filter(t=>t!==e);n.hidden=!n.hidden,e.classList.toggle("selected"),s.classList.toggle("on");let a=e.classList.contains("selected");for(let e of o)e.disabled=a}function w(e){return e.toLowerCase().trim()}function A(e){let t=document.getElementById("copilot-complimentary-access-textarea"),r=document.getElementById("complimentary_access_duration_unlimited"),n=document.getElementById("complimentary_access_duration_specified"),s=document.getElementById("complimentary_access_duration_month"),o=document.getElementById("complimentary_access_duration_day"),a=document.getElementById("complimentary_access_duration_year");e?(t.setAttribute("required","required"),r.setAttribute("required","required"),n.setAttribute("required","required"),s.setAttribute("required","required"),o.setAttribute("required","required"),a.setAttribute("required","required")):(t.removeAttribute("required"),r.removeAttribute("required"),n.removeAttribute("required"),s.removeAttribute("required"),o.removeAttribute("required"),a.removeAttribute("required"))}(0,n.on)("click",".js-sponsors-bulk-ban-listings-button",e=>{_(e.currentTarget,".js-sponsors-bulk-ban-listings-form")}),(0,n.on)("click",".js-sponsors-retry-one-time-subscription-items-button",e=>{!function(e,t){let r=document.querySelector(t);if(!r)return;e.hidden=!0;let n=r.querySelector(".js-sponsors-retry-one-time-subscription-items-table");n&&n.classList.toggle("on")}(e.currentTarget,".js-sponsors-retry-one-time-subscription-items-form")}),(0,n.on)("click",".js-sponsors-bulk-approve-listings-button",e=>{_(e.currentTarget,".js-sponsors-bulk-approve-listings-form")}),(0,n.on)("change",".js-sponsors-bulk-action-checkbox",e=>{let t=e.currentTarget,r=t.closest(".js-sponsors-bulk-manage-listings-container");if(!r)return;let s=r.querySelector(".js-sponsors-bulk-manage-listings-form:not([hidden])");if(!s)return;let o=s.querySelector(".js-sponsors-bulk-manage-listings-autocomplete"),a=w(t.value);if(t.checked)o.value=a;else{o.value="";let e=function(e){let t=e.name,r=w(e.value),n=e.closest(".js-sponsors-bulk-manage-listings-container").querySelector(".js-sponsors-bulk-manage-listings-form:not([hidden])").querySelector(".js-sponsors-bulk-manage-listings-tag-input"),s=`input[name='${t}'][value='${r}']`;return n.querySelector(s)}(t);e&&function(e){let t=e.closest(".js-tag-input-tag"),r=e.form;t.remove(),(0,n.h)(r,"tags:changed")}(e)}}),(0,n.on)("click",".js-sponsors-bulk-manage-listings-remove-tag",e=>{let t=function(e){let t=e.querySelector('input[type="hidden"]'),r=t.name,n=t.value,s=document.querySelector(".js-sponsors-bulk-manage-listings-container").querySelector(".js-sponsors-bulk-manage-listings-table"),o=`input.js-sponsors-bulk-action-checkbox[name='${r}'][value='${n}']`;return s.querySelector(o)}(e.currentTarget.closest(".js-tag-input-tag"));t&&(t.checked=!1)}),(0,d.lB)(".js-sponsors-bulk-manage-listings-autocomplete",{add(e){e instanceof S.Ay&&e.addEventListener("auto-complete-change",function(){let t=e.value;if(t.length<1)return;let r=function(e){let t=document.querySelector(".js-sponsors-bulk-manage-listings-table"),r=`input.js-sponsors-bulk-action-checkbox[name='sponsorable_logins[]'][value='${e}']`;return t.querySelector(r)}(t);r&&(r.checked=!0)})}}),(0,n.on)("change",".js-potential-sponsorship-form textarea",e=>{let t=e.currentTarget;!function(e,t){let r=document.querySelector(".js-potential-sponsorship-banner-preview-form");if(!r)return;let n=r.querySelector(`input[name='${e}']`);n&&(n.value=t,(0,o.k_)(r))}(t.name,t.value)}),(0,m.JW)(".js-potential-sponsorship-banner-preview-form",async function(e,t){try{let r=(await t.html()).html;e.textContent="",e.appendChild(r),e.hidden=!1}catch(t){e.hidden=!0}}),(0,n.on)("click",".js-sponsors-bulk-action-row",e=>{let t=e.target;t.closest("a")||"INPUT"===t.tagName||function(e,t){let r=e.closest(t);if(!r||!r.classList.contains("on"))return;let n=e.querySelector(".js-sponsors-bulk-action-checkbox");n&&(n.checked=!n.checked)}(t.closest(".js-sponsors-bulk-action-row"),".js-sponsors-retry-one-time-subscription-items-table")}),(0,n.on)("click",".js-free-access-reason",function(e){let t=e.currentTarget.value,r=document.getElementById("technical_preview_extension_details"),n=document.getElementById("y_combinator_details"),s=document.getElementById("complimentary_access_details");"complimentary_access"===t?(s.removeAttribute("hidden"),A(!0)):(s.setAttribute("hidden","true"),A(!1)),"y_combinator"===t?n.removeAttribute("hidden"):n.setAttribute("hidden","true"),"technical_preview_extension"===t?r.removeAttribute("hidden"):r.setAttribute("hidden","true")}),(0,n.on)("click",".js-complimentary-access-duration",function(e){let t=e.currentTarget.value,r=document.getElementById("complimentary_access_duration_month"),n=document.getElementById("complimentary_access_duration_day"),s=document.getElementById("complimentary_access_duration_year");"specified"===t?(r.setAttribute("required","required"),r.removeAttribute("disabled"),n.setAttribute("required","required"),n.removeAttribute("disabled"),s.setAttribute("required","required"),s.removeAttribute("disabled")):"unlimited"===t&&(r.setAttribute("disabled","disabled"),r.removeAttribute("required"),n.setAttribute("disabled","disabled"),n.removeAttribute("required"),s.setAttribute("disabled","disabled"),s.removeAttribute("required"))}),(0,n.on)("change","#js-select-all-retired-namespaces",function(e){let t=[],r=e.currentTarget.checked;for(let e of document.querySelectorAll("[data-check-all-item]"))e.checked=r,!0===r&&t.push(e.value);document.querySelector("#js-retired-namespaces-ids").value=`[${t.join(",")}]`}),(0,n.on)("change","[data-check-all-item]",function(e){let t=document.querySelector("#js-retired-namespaces-ids"),r=e.currentTarget,n=JSON.parse(t.value);r.checked?n.push(parseInt(e.currentTarget.value)):n=n.filter(e=>e!==parseInt(r.value)),t.value=`[${n.join(",")}]`})},18558:(e,t,r)=>{r.d(t,{JC:()=>n.JC,KK:()=>n.KK,SK:()=>o,Vy:()=>n.Vy,ai:()=>n.ai,oc:()=>n.oc,rd:()=>n.rd});var n=r(50515);let s=/(?:^|,)((?:[^,]|,(?=\+| |$))*(?:,(?=,))?)/g;function o(e){return Array.from(e.matchAll(s)).map(([,e])=>e)}},79024:(e,t,r)=>{r.d(t,{Rt:()=>n,Zz:()=>s,yU:()=>Subscription});let Subscription=class Subscription{constructor(e){this.closed=!1,this.unsubscribe=()=>{e(),this.closed=!0}}};function n(e,t,r,n={capture:!1}){return e.addEventListener(t,r,n),new Subscription(()=>{e.removeEventListener(t,r,n)})}function s(...e){return new Subscription(()=>{for(let t of e)t.unsubscribe()})}},50515:(e,t,r)=>{r.d(t,{JC:()=>b,KK:()=>SequenceTracker,Vy:()=>a,ai:()=>y,oc:()=>l,rd:()=>u});let Leaf=class Leaf{constructor(e){this.children=[],this.parent=e}delete(e){let t=this.children.indexOf(e);return -1!==t&&(this.children=this.children.slice(0,t).concat(this.children.slice(t+1)),0===this.children.length&&this.parent.delete(this),!0)}add(e){return this.children.push(e),this}};let RadixTrie=class RadixTrie{constructor(e){this.parent=null,this.children={},this.parent=e||null}get(e){return this.children[e]}insert(e){let t=this;for(let r=0;r<e.length;r+=1){let n=e[r],s=t.get(n);if(r===e.length-1)return s instanceof RadixTrie&&(t.delete(s),s=null),s||(s=new Leaf(t),t.children[n]=s),s;s instanceof Leaf&&(s=null),s||(s=new RadixTrie(t),t.children[n]=s),t=s}return t}delete(e){for(let t in this.children)if(this.children[t]===e){let e=delete this.children[t];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),e}return!1}};let n={"\xa1":"1","\u2122":"2","\xa3":"3","\xa2":"4","\u221E":"5","\xa7":"6","\xb6":"7","\u2022":"8","\xaa":"9","\xba":"0","\u2013":"-","\u2260":"=","\u2044":"!","\u20AC":"@","\u2039":"#","\u203A":"$",\uFB01:"%",\uFB02:"^","\u2021":"&","\xb0":"*","\xb7":"(","\u201A":")","\u2014":"_","\xb1":"+",\u0153:"q","\u2211":"w","\xae":"r","\u2020":"t","\xa5":"y","\xf8":"o",\u03C0:"p","\u201C":"[","\u2018":"]","\xab":"\\",\u0152:"Q","\u201E":"W","\xb4":"E","\u2030":"R",\u02C7:"T","\xc1":"Y","\xa8":"U",\u02C6:"I","\xd8":"O","\u220F":"P","\u201D":"{","\u2019":"}","\xbb":"|","\xe5":"a","\xdf":"s","\u2202":"d",\u0192:"f","\xa9":"g","\u02D9":"h","\u2206":"j","\u02DA":"k","\xac":"l","\u2026":";","\xe6":"'","\xc5":"A","\xcd":"S","\xce":"D","\xcf":"F","\u02DD":"G","\xd3":"H","\xd4":"J","\uF8FF":"K","\xd2":"L","\xda":":","\xc6":'"',\u03A9:"z","\u2248":"x","\xe7":"c","\u221A":"v","\u222B":"b","\xb5":"m","\u2264":",","\u2265":".","\xf7":"/","\xb8":"Z","\u02DB":"X","\xc7":"C","\u25CA":"V",\u0131:"B","\u02DC":"N","\xc2":"M","\xaf":"<","\u02D8":">","\xbf":"?"},s={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+","[":"{","]":"}","\\":"|",";":":","'":'"',",":"<",".":">","/":"?",q:"Q",w:"W",e:"E",r:"R",t:"T",y:"Y",u:"U",i:"I",o:"O",p:"P",a:"A",s:"S",d:"D",f:"F",g:"G",h:"H",j:"J",k:"K",l:"L",z:"Z",x:"X",c:"C",v:"V",b:"B",n:"N",m:"M"},o={" ":"Space","+":"Plus"};function a(e,t=navigator.platform){var r,a,l;let{ctrlKey:u,altKey:d,metaKey:m,shiftKey:p,key:h}=e,f=[];for(let[e,t]of[u,d,m,p].entries())t&&f.push(i[e]);if(!i.includes(h)){let e=f.includes("Alt")&&c.test(t)&&null!==(r=n[h])&&void 0!==r?r:h,i=f.includes("Shift")&&c.test(t)&&null!==(a=s[e])&&void 0!==a?a:e,u=null!==(l=o[i])&&void 0!==l?l:i;f.push(u)}return f.join("+")}let i=["Control","Alt","Meta","Shift"];function l(e,t){return function(e){let t=e.split("+").pop(),r=[];for(let t of["Control","Alt","Meta","Shift"])e.includes(t)&&r.push(t);return t&&r.push(t),r.join("+")}(function(e,t){var r;let n="undefined"==typeof window?void 0:window,s=c.test(null!==(r=null!=t?t:null==n?void 0:n.navigator.platform)&&void 0!==r?r:"")?"Meta":"Control";return e.replace("Mod",s)}(e,t))}let c=/Mac|iPod|iPhone|iPad/i;let SequenceTracker=class SequenceTracker{constructor({onReset:e}={}){this._path=[],this.timer=null,this.onReset=e}get path(){return this._path}get sequence(){return this._path.join(" ")}registerKeypress(e){this._path=[...this._path,a(e)],this.startTimer()}reset(){var e;this.killTimer(),this._path=[],null===(e=this.onReset)||void 0===e||e.call(this)}killTimer(){null!=this.timer&&window.clearTimeout(this.timer),this.timer=null}startTimer(){this.killTimer(),this.timer=window.setTimeout(()=>this.reset(),SequenceTracker.CHORD_TIMEOUT)}};function u(e){return e.split(" ").map(e=>l(e)).join(" ")}function d(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),r=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==r&&"reset"!==r&&"checkbox"!==r&&"radio"!==r&&"file"!==r||e.isContentEditable}SequenceTracker.CHORD_TIMEOUT=1500;let m=new RadixTrie,p=new WeakMap,h=m,f=new SequenceTracker({onReset(){h=m}});function g(e){if(e.defaultPrevented||!(e.target instanceof Node))return;if(d(e.target)){let t=e.target;if(!t.id||!t.ownerDocument.querySelector(`[data-hotkey-scope="${t.id}"]`))return}let t=h.get(a(e));if(!t){f.reset();return}if(f.registerKeypress(e),h=t,t instanceof Leaf){let r;let n=e.target,s=!1,o=d(n);for(let e=t.children.length-1;e>=0;e-=1){let a=(r=t.children[e]).getAttribute("data-hotkey-scope");if(!o&&!a||o&&n.id===a){s=!0;break}}r&&s&&(function(e,t){let r=new CustomEvent("hotkey-fire",{cancelable:!0,detail:{path:t}});e.dispatchEvent(r)&&(d(e)?e.focus():e.click())}(r,f.path),e.preventDefault()),f.reset()}}function y(e,t){0===Object.keys(m.children).length&&document.addEventListener("keydown",g);let r=(function(e){let t=[],r=[""],n=!1;for(let s=0;s<e.length;s++){if(n&&","===e[s]){t.push(r),r=[""],n=!1;continue}if(" "===e[s]){r.push(""),n=!1;continue}n="+"!==e[s],r[r.length-1]+=e[s]}return t.push(r),t.map(e=>e.map(e=>l(e)).filter(e=>""!==e)).filter(e=>e.length>0)})(t||e.getAttribute("data-hotkey")||"").map(t=>m.insert(t).add(e));p.set(e,r)}function b(e){let t=p.get(e);if(t&&t.length)for(let r of t)r&&r.delete(e);0===Object.keys(m.children).length&&document.removeEventListener("keydown",g)}}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_details-d-ed9a97","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_remote-form_dist_-7ef6f2","app_assets_modules_github_settings_runner-groups_ts-app_assets_modules_github_throttled-input-d4dbeb"],()=>t(7245)),e.O()}]);
//# sourceMappingURL=stafftools-2ac54faac0e3.js.map