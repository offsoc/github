{"version":3,"file":"chunk-app_components_tracking_blocks_tasklist-block-add-tasklist-element_ts-xxxxxxxxxxxx.js","mappings":"wSAMAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAG,8BAA+B,8BAA+BC,IAE/DA,EAAMC,cAAc,GAEpB,GAAM,CAACC,QAAAA,CAAO,CAAEC,OAAAA,CAAM,CAAC,CAAGH,EAAMI,MAAM,CAChCC,EAAUL,EAAMM,MAAM,CACtBC,EAAOF,EAAQG,aAAa,CAAkB,sBAC9CC,EAAe,IAAIC,EAAAA,CAAyBA,CAACL,GACnDI,EAAaE,IAAI,GAGjBC,EAAAA,oBAAoBA,CAACC,mBAAmB,CAAGR,EAAQS,gBAAgB,CAAC,kBAAkBC,MAAM,CAE5FN,EACGO,gBAAgB,CAAC,CAChBC,UAAW,qBACXC,OAAQX,GAAMY,IAAM,EACtB,GAECC,IAAI,CAAClB,EAASC,EACnB,GAGO,0CAAMkB,wCAAwCC,YAAa,EAArDD,gCAAAA,S,2TAAAA,CADZE,EAAAA,EAAUA,C,CACEF,gC","sources":["app/components/tracking_blocks/tasklist-block-add-tasklist-element.ts"],"sourcesContent":["// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport TrackingBlockAPIComponent from './tracking-block-api'\nimport {TrackingBlockElement} from './tracking-block-element'\nimport {controller} from '@github/catalyst'\n\non('tracking-block:add-tasklist', '.js-comment, .markdown-body', event => {\n  // Signal that this event was handled.\n  event.preventDefault()\n\n  const {resolve, reject} = event.detail\n  const comment = event.target as HTMLElement\n  const form = comment.querySelector<HTMLFormElement>('.js-comment-update')\n  const apiComponent = new TrackingBlockAPIComponent(comment)\n  apiComponent.init()\n\n  // Focus the omnibar for the newest tasklist block\n  TrackingBlockElement.refocusOmnibarIndex = comment.querySelectorAll('tracking-block').length\n\n  apiComponent\n    .addTasklistBlock({\n      operation: 'add_tasklist_block',\n      formId: form?.id || '',\n    })\n    // eslint-disable-next-line github/no-then\n    .then(resolve, reject)\n})\n\n@controller\nexport class TasklistBlockAddTasklistElement extends HTMLElement {}\n"],"names":["on","event","preventDefault","resolve","reject","detail","comment","target","form","querySelector","apiComponent","TrackingBlockAPIComponent","init","TrackingBlockElement","refocusOmnibarIndex","querySelectorAll","length","addTasklistBlock","operation","formId","id","then","TasklistBlockAddTasklistElement","HTMLElement","controller"],"sourceRoot":""}