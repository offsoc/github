(function(){$(document).ready(function(){var e,n;return $(document).on("change",".js-snmp-security-level",function(e){var n,s,t;return n=$(".js-snmp-auth"),s=$(".js-snmp-privacy"),"noAuthNoPriv"===(t=e.currentTarget.value)?(n.hide(),s.hide()):"authNoPriv"===t?(n.show(),s.hide()):(n.show(),s.show())}),$(document).on("click",".js-snmp-user-submit",function(n){var s,t,a;return n.preventDefault(),a=$("[name='snmp_sec_level']")[0],(s=[]).push($("[name='snmp_username']")[0]),s.push(a),"noAuthNoPriv"!==a.value&&s.push($("[name='snmp_auth_protocol']")[0]),"noAuthNoPriv"!==a.value&&s.push($("[name='snmp_auth_password']")[0]),"authPriv"===a.value&&s.push($("[name='snmp_priv_protocol']")[0]),"authPriv"===a.value&&s.push($("[name='snmp_priv_password']")[0]),t=$(".snmp-users").find(".list-group-multiple"),e(s,t)}),n=function(){var e,n;if(n=(e=$(this).closest(".list-group-item")).closest(".list-group-multiple"),e.remove(),0===n.children().length)return n.siblings(".empty-group-multiple").show(),n.hide()},e=function(e,s){var t,a,i,o,r,u,p,l,m,v,d,h,c,g,_,f,w,y,j,C,P;for(r=0,m=e.length;r<m;r++){if("snmp_username"===(a=e[r]).name){for(P=a.value.trim(),t=!1,u=0,v=(g=s.find(".list-group-text")).length;u<v;u++)0===g[u].textContent.split(" | ").indexOf(P)&&(t=!0);if(!P||t)return void $(a).addClass("invalid")}if($(a).removeClass("invalid"),"snmp_auth_password"===a.name&&a.value.trim().length<8)return void $(a).addClass("invalid");if($(a).removeClass("invalid"),"snmp_priv_password"===a.name&&a.value.trim()&&a.value.trim().length<8)return void $(a).addClass("invalid");$(a).removeClass("invalid")}for(C=[],y=[],l=0,d=e.length;l<d;l++)"snmp_auth_password"!==(a=e[l]).name&&"snmp_priv_password"!==a.name||(a.value=btoa(unescape(encodeURIComponent(a.value)))),C.push(a.value),"snmp_auth_password"!==a.name&&"snmp_priv_password"!==a.name&&y.push(a.value);for(j=C.join(":"),w=y.join(" | "),o=$("<div>",{"class":"list-group-item"}),f=$("<span>",{"class":"pull-right list-group-remove-item js-remove-snmp-group"}),i=$("<input>",{type:"hidden",name:"snmp[users][]",value:j}),(_=$("<a>",{"class":"octicon octicon-trashcan","data-confirm":"Are you sure you want to delete it?",key:w})).click(n),_.appendTo(f),f.appendTo(o),p=$("<span>",{"class":"list-group-text",text:w}),s.siblings(".empty-group-multiple").hide(),i.appendTo(o),p.appendTo(o),o.appendTo(s),s.show(),c=0,h=e.length;c<h;c++)"input"===(a=e[c]).localName&&(a.value="");return toggleSubmit()},$(document).on("click",".list-group-multiple .js-remove-snmp-group a",n)})}).call(this);