<%# erblint:counter DeprecatedInPrimerCounter 2 %>

<div class="position-relative pb-9 pb-md-10">
  <div class="pattern-container position-absolute z-n1 width-full top-n12 left-0 overflow-hidden events-none">
    <div class="container-xl position-relative height-full">
      <picture>
        <source srcset="<%= image_path "modules/site/packages/bg-bottom.webp" %>" type="image/webp">
        <img src="<%= image_path "modules/site/packages/bg-bottom.png" %>" alt="" class="top-0 position-absolute" width="1828" height="1315" style="left: -220px;" loading="lazy" decoding="async">
      </picture>
    </div>
  </div>

  <div class="container-xl mx-auto p-responsive js-build-in">
    <h2 id="pricing" class="h3-mktg mt-12 mb-9 text-center">Simple, pay‑as‑you‑go pricing</h2>

    <div id="pricing-details" class="d-flex flex-wrap flex-lg-nowrap box-shadow-card-border-mktg rounded-2 overflow-hidden">

      <div class="col-11 col-lg-4 mx-auto mx-lg-0 d-flex flex-column flex-items-center flex-justify-center flex-auto color-bg-emphasis text-center py-6 py-md-7 px-3">
        <img src="<%= image_path "modules/site/packages/packages.svg" %>" alt="GitHub Packages icon" loading="lazy" width="105" height="107" class="mb-2">
        <h3 class="h4-mktg color-text-white mb-3">GitHub Packages is free for public repositories</h3>
        <p class="f4 color-text-white mb-4 mb-md-8"><span class="animate-float d-inline-block position-relative top-1 mr-2"><%= image_tag "modules/site/features/actions-love.svg", alt: "", class: "animate-beat", loading: "lazy" %></span>We love open source</p>
      </div>

      <div class="col-12 col-lg-9">
        <div class="color-bg-default pt-5 pt-md-6 pr-4 pr-md-6 pl-4 pl-md-6 position-relative z-1">
          <h3 class="h5-mktg mb-5 mt-2 mt-md-0 text-center text-md-left">Private repositories</h3>
          <div class="d-flex gutter-spacious flex-wrap">
            <div class="col-12 mb-4 mb-md-0">

              <table class="mb-4 width-full">
                <tr class="d-none d-md-flex flex-justify-between flex-items-center pt-3 pb-2 border-bottom color-border-muted">
                  <th scope="col" class="f6 color-fg-muted text-normal text-left flex-1 mb-0">Plan</th>
                  <th scope="col" class="f6 color-fg-muted text-normal text-center flex-1 mb-0">Storage</th>
                  <th scope="col" class="f6 color-fg-muted text-normal text-center flex-1 mb-0">Data transfer out <br>within Actions</th>
                  <th scope="col" class="f6 color-fg-muted text-normal text-right flex-1 mb-0">Data transfer out <br>outside of Actions</th>
                  <th scope="col" class="packages-pricing-button-column ml-3"><span class="sr-only">How to get started</span></th>
                </tr>

                <tr class="d-flex flex-wrap flex-md-nowrap flex-justify-between flex-items-start flex-md-items-center py-3 border-bottom color-border-muted">
                  <th scope="row" class="h6-mktg mt-3 mt-md-0 text-center text-md-left flex-md-1 col-12 mb-3 mb-md-0">Free</th>
                  <td class="f4-mktg text-left text-md-center flex-1 mb-0">
                    500MB
                    <span class="f6 color-fg-muted m-0 d-block d-md-none">Storage</span>
                  </td>
                  <td class="f4-mktg text-center flex-1 mb-0">
                    Unlimited
                    <span class="f6 color-fg-muted m-0 d-block d-md-none">Data out within Actions</span>
                  </td>
                  <td class="text-right flex-1">
                    <p class="f4-mktg  mb-0">1GB</p>
                    <p class="f6 color-fg-muted m-0"><span class="d-md-none">Data out, outside of Actions</span> per month</p>
                  </td>
                  <td class="ml-md-3 d-flex col-12 mt-3 mt-md-0 text-center packages-pricing-button-column">
                    <% if logged_in? %>
                      <% if current_user.plan.pro? %>
                        <span class="flex-1 btn-mktg btn-muted-mktg px-2 f5-mktg disabled">Included in Pro</span>
                      <% else %>
                        <span class="flex-1 btn-mktg btn-muted-mktg px-2 f5-mktg disabled">Already signed up</span>
                      <% end %>
                    <% else %>
                      <%= link_to(
                        "Join for free",
                        signup_path(source: "packages-footer-free", plan: GitHub::Plan.free, "ref_page": request.fullpath, "ref_cta": url_encode("Join for free"), "ref_loc": url_encode("packages_pricing_footer")),
                        class: "flex-1 btn-mktg btn-muted-mktg px-2 f5-mktg",
                        data: {
                          **sign_up_link_data_attributes(location_in_page: "individuals choose free"),
                          **analytics_click_attributes(
                            category: "Sign up",
                            action: "click to sign up for account",
                            label: "ref_page:#{request.fullpath};ref_cta:packages_sign_up;ref_loc:packages_pricing_footer;text: Join for free",
                          )
                        }
                      ) %>
                    <% end %>
                  </td>
                </tr>

                <tr class="d-flex flex-wrap flex-md-nowrap flex-justify-between flex-items-start flex-md-items-center py-3 border-bottom color-border-muted">
                  <th scope="row" class="h6-mktg mt-3 mt-md-0 text-center text-md-left flex-md-1 col-12 mb-3 mb-md-0">Team</th>
                  <td class="f4-mktg flex-1 text-left text-md-center mb-0">
                    2GB
                    <span class="f6 color-fg-muted m-0 d-block d-md-none">Storage</span>
                  </td>
                  <td class="f4-mktg flex-1 text-center mb-0">
                    Unlimited
                    <span class="f6 color-fg-muted m-0 d-block d-md-none">Data out within Actions</span>
                  </td>
                  <td class="text-right flex-1">
                    <p class="f4-mktg mb-0">10GB</p>
                    <p class="f6 color-fg-muted m-0"><span class="d-md-none">Data out, outside of Actions</span> per month</p>
                  </td>
                  <td class="flex-column ml-md-3 d-flex px-2 py-1 rounded-3 col-12 mt-3 mt-md-0 text-center packages-pricing-button-column color-bg-accent-emphasis">
                    <p class="h6 text-center color-fg-default js-recommended-plan-caption mb-0 color-fg-on-emphasis">Most Popular</p>
                    <div class="d-flex flex-column flex-justify-between height-full rounded-3 my-1 color-shadow-extra-large color-bg-default">
                      <% if logged_in? && current_user.billing_manageable_per_repo_orgs.any? %>
                        <%= render Primer::Beta::Details.new(overlay: :default, reset: true, display: :inline_block, classes: 'js-dialog-close-on-focusout') do |component| %>
                          <% component.with_summary(
                            button: false,
                            classes: "btn-mktg btn-muted-mktg f5-mktg",
                            px: 2,
                            col: 12,
                            data: {
                              **analytics_click_attributes(
                                category: "Pricing packages_pricing_footer",
                                action: "click",
                                text: "Continue with Team",
                                card: "Team"
                              )
                            }
                          ) do %>
                            Continue with Team <%= render(Primer::Beta::Octicon.new(:"chevron-down", size: :small)) %>
                          <% end %>
                          <% component.with_body(
                            tag: :div,
                            classes: "SelectMenu",
                            role: "menu"
                          ) do %>
                            <div class="SelectMenu-modal py-2 z-2">
                              <%= render(Primer::Alpha::ActionList.new(
                                role: :menu,
                                scheme: :full,
                                show_dividers: true
                              )) do |component|
                                current_user.billing_manageable_per_repo_orgs.each do |org|
                                  component.with_item(
                                    label: org.safe_profile_name,
                                    href: upgrade_path(org: org, target: "organization", plan: GitHub::Plan.business, "ref_page": request.fullpath, "ref_cta": org.safe_profile_name, "ref_loc": "packages_pricing_footer"),
                                    mx: 2,
                                    content_arguments: {
                                      data: {
                                        **analytics_click_attributes(
                                          category: "Pricing packages_pricing_footer",
                                          action: "click",
                                          label: "upgrade organization",
                                          text: "org-name",
                                          card: "Team",
                                        )
                                      }
                                    }
                                  ) do |item|
                                    item.with_leading_visual_content do
                                      avatar_for(org, 20, classes: "SelectMenu-item-gravatar")
                                    end
                                  end
                                end
                                component.with_item(
                                  label: "Create organization",
                                  href: new_organization_path(plan: GitHub::Plan.business, "ref_page": request.fullpath, "ref_cta": url_encode("Create organization"), "ref_loc": "packages_pricing_footer"),
                                  mx: 2,
                                  content_arguments: {
                                    data: {
                                      **analytics_click_attributes(
                                        category: "Pricing packages_pricing_footer",
                                        action: "click",
                                        text: "Create organization",
                                        card: "Team",
                                      )
                                    }
                                  }
                                ) do |item|
                                  item.with_leading_visual_icon(icon: :plus)
                                end
                              end %>
                            </div>
                          <% end %>
                        <% end %>
                      <% elsif logged_in? %>
                        <%= link_to "Continue with Team", new_organization_path(plan: GitHub::Plan.business, "ref_page": request.fullpath, "ref_cta": url_encode("Continue with Team"), "ref_loc": url_encode("packages_pricing_footer")),
                          class: "flex-1 btn-mktg btn-muted-mktg px-2 f5-mktg",
                          data: analytics_click_attributes(
                            category: "Organization creation",
                            action: "click to set up organization",
                            label: "ref_page:#{request.fullpath};ref_cta:Continue with Team;ref_loc:packages_pricing_footer"
                          )
                        %>
                      <% else %>
                        <%= link_to(
                          "Continue with Team",
                          signup_path(source: "pricing-card-team", plan: GitHub::Plan.business, setup_organization: true, "ref_page": request.fullpath, "ref_cta": url_encode("Continue with Team"), "ref_loc": url_encode("packages_pricing_footer")),
                          class: "flex-1 btn-mktg btn-muted-mktg px-2 f5-mktg",
                          data: {
                            **sign_up_link_data_attributes(location_in_page: "pricing teams choose team"),
                            **analytics_click_attributes(
                              category: "Sign up",
                              action: "click to sign up for account",
                              label: "ref_page:#{request.fullpath};ref_cta:Continue with Team;ref_loc:packages_pricing_footer"
                            )
                          }
                        ) %>
                      <% end %>
                    </div>
                  </td>
                </tr>
                <tr class="d-flex flex-wrap flex-md-nowrap flex-justify-between flex-items-start flex-md-items-center py-3">
                  <th scope="row" class="h6-mktg mt-3 mt-md-0 text-center text-md-left flex-md-1 col-12 mb-3 mb-md-0">Enterprise</th>
                  <td class="f4-mktg flex-1 text-left text-md-center mb-0">
                    50GB
                    <span class="f6 color-fg-muted m-0 d-block d-md-none">Storage</span>
                  </td>
                  <td class="f4-mktg flex-1 text-center mb-0">
                    Unlimited
                    <span class="f6 color-fg-muted m-0 d-block d-md-none">Data out within Actions</span>
                  </td>
                  <td class="text-right flex-1 mb-0">
                    <p class="f4-mktg mb-0">100GB</p>
                    <p class="f6 color-fg-muted m-0"><span class="d-md-none">Data out, outside of Actions</span> per month</p>
                  </td>
                  <td class="d-flex flex-column flex-justify-around ml-md-3 d-flex col-12 mt-3 mt-md-0 text-center packages-pricing-button-column">
                    <%= render Site::ButtonComponent.new(
                      text: "Start a Free Trial",
                      url: org_enterprise_plan_path,
                      classes: "width-full mb-1",
                      analytics: {
                        category: "enterprise_trial_account",
                        action: "click.start_a_free_trial",
                        ref_loc: "packages_pricing"
                      }
                    ) %>
                    <a
                      href="<%= "#{ent_contact_url}?ref_page=#{request.fullpath}&ref_cta=#{url_encode("Contact Sales")}&ref_loc=packages_pricing_footer" %>"
                      class="flex-1 btn-mktg btn-muted-mktg px-2 f5-mktg mt-1"
                      <%= safe_analytics_click_attributes(
                        category: "Contact Sales",
                        action: "click to Contact Sales",
                        label: "text: Contact Sales; location: Packages pricing section; ref_cta: packages_pricing_cta; ref_loc: packages_pricing_section"
                      ) %>
                    >
                      Contact Sales
                    </a>
                  </td>
                </tr>
              </table>
            </div>
          </div>

          <span class="d-block text-center text-md-left color-fg-muted my-3 f5">GitHub Packages is not available for private repos in legacy per-repository plans.</span>

          <div class="mr-n6 ml-n6 color-bg-subtle border-top rounded-bottom-2 px-6 pt-4 pb-5 pb-md-6">
            <div class="d-flex gutter-spacious flex-wrap">
              <div class="col-12 mb-4 mb-md-0">

                <ul class="list-style-none mb-4">
                  <li class="d-flex flex-justify-between flex-items-center py-3 border-bottom color-border-muted">
                    <div class="flex-1">
                      <p class="f4-mktg mb-0">Additional storage</p>
                    </div>
                    <div class="text-right flex-1">
                      <p class="f4-mktg mb-0">$0.25 USD</p>
                      <p class="f6 color-fg-muted m-0">per gigabyte</p>
                    </div>
                  </li>
                  <li class="d-flex flex-justify-between flex-items-center py-3">
                    <div class="flex-1">
                      <p class="f4-mktg mb-0">Additional data transfer&nbsp;out</p>
                      <p class="f6 packages-pricing-fg-muted-strong m-0">outside of Actions</p>
                    </div>
                    <div class="text-right flex-1">
                      <p class="f4-mktg mb-0">$0.50 USD</p>
                      <p class="f6 packages-pricing-fg-muted-strong m-0">per gigabyte</p>
                    </div>
                  </li>
                </ul>

                <div class="d-flex">
                  <%= image_tag "modules/site/icons/download.svg", alt: "download", class: "mr-2", loading: "lazy" %>
                  <p class="f6 packages-pricing-fg-muted-strong mb-0">All data transfer is unlimited within the GitHub Actions experience.<br class="d-none d-md-inline"> Data transfers from local or third-party clients may require payment.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>
