{"version":3,"file":"chunk-app_assets_modules_react-code-view_components_blob-edit_BlobEditor_tsx-ui_packages_web-commit-fb78e1-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/@github/file-attachment-element/dist/index.js","node_modules/@primer/react/lib-esm/SelectPanel/SelectPanel.js","node_modules/@primer/react/lib-esm/internal/components/LiveRegion.js","app/assets/modules/github/editor/json-editors/devcontainer/devcontainer-rules.ts","app/assets/modules/github/editor/json-editors/json-codemirror-linter-util.ts","app/assets/modules/github/secret-scanning/elements/bypass-reason-selector.ts","app/assets/modules/github/secret-scanning/push-protection.ts","app/assets/modules/secret-scanning/paths.ts","ui/packages/code-mirror/autocomplete/theme.ts","ui/packages/code-mirror/emit-to-codemirror.ts","ui/packages/code-mirror/extensions/help-panels.ts","ui/packages/code-mirror/utils.ts","ui/packages/file-renderer-blob/use-file-renderer.ts","ui/packages/get-os/get-os.ts","ui/packages/secret-scanning/types/push-protection.ts","ui/packages/text/text.ts","app/assets/modules/secret-scanning/components/allow-secret/SecretDetectedDialogBlob.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/CitationFileBanner.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/CustomSlashCommandsBanner.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/FundingBanner.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/IssueTemplateBanners.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/LeadingOrTrailingWhitespaceBanner.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/MixedLineEndingsBanner.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/ReadmeCalloutBanners.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/TranscodingBanner.tsx","app/assets/modules/react-code-view/components/blob-edit/banners/BlobEditorBanners.tsx","app/assets/modules/react-code-view/components/blob-edit/CodeMirror/CodeMirrorSpacingControls.tsx","app/assets/modules/react-code-view/components/blob-edit/Panels/ExpandPanelButton.tsx","app/assets/modules/react-code-view/components/blob-edit/templates/CodeOfConductSelector.tsx","app/assets/modules/react-code-view/components/blob-edit/templates/GitIgnoreTemplateSelector.tsx","app/assets/modules/react-code-view/components/blob-edit/templates/LicenseSelector.tsx","app/assets/modules/react-code-view/components/blob-edit/BlobEditHeader.tsx","app/assets/modules/react-code-view/components/blob-edit/FileUpload.tsx","app/assets/modules/react-code-view/utilities/file-extensions.ts","app/assets/modules/react-code-view/components/blob-edit/CodeMirror/CodeMirror.tsx","app/assets/modules/react-code-view/components/blob-edit/DiffPreview.tsx","app/assets/modules/react-code-view/components/blob-edit/FundingDialog.tsx","app/assets/modules/react-code-view/components/blob-edit/EditorPreview.tsx","app/assets/modules/react-code-view/components/blob-edit/Editors/WorkflowEditor.tsx","node_modules/@codemirror/lint/dist/index.js","ui/packages/code-mirror/linter/custom-linter.ts","app/assets/modules/github/editor/codemirror-next-linter-util.ts","app/assets/modules/github/editor/json-editors/json-codemirror-next-linter-util.ts","app/assets/modules/github/editor/json-editors/devcontainer/devcontainer-editor-next.ts","ui/packages/code-mirror/autocomplete/custom-autocomplete.ts","app/assets/modules/github/editor/yaml-editors/codemirror-next-autocomplete-util.ts","app/assets/modules/github/editor/yaml-editors/dependabot/dependabot-editor-next.ts","app/assets/modules/github/editor/yaml-editors/workflow/workflow-editor-next.ts","app/assets/modules/react-code-view/components/blob-edit/hooks/use-editors.ts","app/assets/modules/react-code-view/components/blob-edit/hooks/use-side-panel-metadata.ts","app/assets/modules/react-code-view/components/blob-edit/Panels/DevContainer/Documentation.tsx","app/assets/modules/react-code-view/components/blob-edit/Panels/DevContainer/Marketplace.tsx","app/assets/modules/react-code-view/components/blob-edit/Panels/ServerSideDocumentation.tsx","app/assets/modules/react-code-view/components/blob-edit/Panels/Workflows/Marketplace.tsx","app/assets/modules/react-code-view/components/blob-edit/Panels/BlobEditSidePanel.tsx","app/assets/modules/react-code-view/components/blob-edit/BlobEditor.tsx","app/assets/modules/react-code-view/hooks/UsePrompt.tsx","app/assets/modules/react-code-view/components/blob-edit/utilities/relative-path-helper.ts","app/assets/modules/secret-scanning/components/allow-secret/AllowSecretBody.tsx","ui/packages/file-renderer-blob/FileRendererBlob.tsx","ui/packages/git-ignore-dropdown/GitIgnoreDropdown.tsx","ui/packages/search-dropdown/SearchDropdown.tsx","node_modules/@tanstack/react-query/build/modern/useBaseQuery.js","node_modules/@tanstack/react-query/build/modern/useQuery.js"],"sourcesContent":["class Attachment {\n    constructor(file, directory) {\n        this.file = file;\n        this.directory = directory;\n        this.state = 'pending';\n        this.id = null;\n        this.href = null;\n        this.name = null;\n        this.percent = 0;\n    }\n    static traverse(transfer, directory) {\n        return transferredFiles(transfer, directory);\n    }\n    static from(files) {\n        const result = [];\n        for (const file of files) {\n            if (file instanceof File) {\n                result.push(new Attachment(file));\n            }\n            else if (file instanceof Attachment) {\n                result.push(file);\n            }\n            else {\n                throw new Error('Unexpected type');\n            }\n        }\n        return result;\n    }\n    get fullPath() {\n        return this.directory ? `${this.directory}/${this.file.name}` : this.file.name;\n    }\n    isImage() {\n        return ['image/gif', 'image/png', 'image/jpg', 'image/jpeg', 'image/svg+xml'].indexOf(this.file.type) > -1;\n    }\n    isVideo() {\n        return ['video/mp4', 'video/quicktime'].indexOf(this.file.type) > -1;\n    }\n    saving(percent) {\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saving`);\n        }\n        this.state = 'saving';\n        this.percent = percent;\n    }\n    saved(attributes) {\n        var _a, _b, _c;\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saved`);\n        }\n        this.state = 'saved';\n        this.id = (_a = attributes === null || attributes === void 0 ? void 0 : attributes.id) !== null && _a !== void 0 ? _a : null;\n        this.href = (_b = attributes === null || attributes === void 0 ? void 0 : attributes.href) !== null && _b !== void 0 ? _b : null;\n        this.name = (_c = attributes === null || attributes === void 0 ? void 0 : attributes.name) !== null && _c !== void 0 ? _c : null;\n    }\n    isPending() {\n        return this.state === 'pending';\n    }\n    isSaving() {\n        return this.state === 'saving';\n    }\n    isSaved() {\n        return this.state === 'saved';\n    }\n}\nfunction transferredFiles(transfer, directory) {\n    if (directory && isDirectory(transfer)) {\n        return traverse('', roots(transfer));\n    }\n    return Promise.resolve(visible(Array.from(transfer.files || [])).map(f => new Attachment(f)));\n}\nfunction hidden(file) {\n    return file.name.startsWith('.');\n}\nfunction visible(files) {\n    return Array.from(files).filter(file => !hidden(file));\n}\nfunction getFile(entry) {\n    return new Promise(function (resolve, reject) {\n        entry.file(resolve, reject);\n    });\n}\nfunction getEntries(entry) {\n    return new Promise(function (resolve, reject) {\n        const result = [];\n        const reader = entry.createReader();\n        const read = () => {\n            reader.readEntries(entries => {\n                if (entries.length > 0) {\n                    result.push(...entries);\n                    read();\n                }\n                else {\n                    resolve(result);\n                }\n            }, reject);\n        };\n        read();\n    });\n}\nasync function traverse(path, entries) {\n    const results = [];\n    for (const entry of visible(entries)) {\n        if (entry.isDirectory) {\n            results.push(...(await traverse(entry.fullPath, await getEntries(entry))));\n        }\n        else {\n            const file = await getFile(entry);\n            results.push(new Attachment(file, path));\n        }\n    }\n    return results;\n}\nfunction isDirectory(transfer) {\n    return (transfer.items &&\n        Array.from(transfer.items).some((item) => {\n            const entry = item.webkitGetAsEntry && item.webkitGetAsEntry();\n            return entry && entry.isDirectory;\n        }));\n}\nfunction roots(transfer) {\n    return Array.from(transfer.items)\n        .map((item) => item.webkitGetAsEntry())\n        .filter(entry => entry != null);\n}\n\nclass FileAttachmentElement extends HTMLElement {\n    connectedCallback() {\n        this.addEventListener('dragenter', onDragenter);\n        this.addEventListener('dragover', onDragenter);\n        this.addEventListener('dragleave', onDragleave);\n        this.addEventListener('drop', onDrop);\n        this.addEventListener('paste', onPaste);\n        this.addEventListener('change', onChange);\n    }\n    disconnectedCallback() {\n        this.removeEventListener('dragenter', onDragenter);\n        this.removeEventListener('dragover', onDragenter);\n        this.removeEventListener('dragleave', onDragleave);\n        this.removeEventListener('drop', onDrop);\n        this.removeEventListener('paste', onPaste);\n        this.removeEventListener('change', onChange);\n    }\n    get directory() {\n        return this.hasAttribute('directory');\n    }\n    set directory(value) {\n        if (value) {\n            this.setAttribute('directory', '');\n        }\n        else {\n            this.removeAttribute('directory');\n        }\n    }\n    async attach(transferred) {\n        const attachments = transferred instanceof DataTransfer\n            ? await Attachment.traverse(transferred, this.directory)\n            : Attachment.from(transferred);\n        const accepted = this.dispatchEvent(new CustomEvent('file-attachment-accept', {\n            bubbles: true,\n            cancelable: true,\n            detail: { attachments }\n        }));\n        if (accepted && attachments.length) {\n            this.dispatchEvent(new CustomEvent('file-attachment-accepted', {\n                bubbles: true,\n                detail: { attachments }\n            }));\n        }\n    }\n}\nfunction hasFile(transfer) {\n    return Array.from(transfer.types).indexOf('Files') >= 0;\n}\nlet dragging = null;\nfunction onDragenter(event) {\n    const target = event.currentTarget;\n    if (dragging) {\n        clearTimeout(dragging);\n    }\n    dragging = window.setTimeout(() => target.removeAttribute('hover'), 200);\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    transfer.dropEffect = 'copy';\n    target.setAttribute('hover', '');\n    event.preventDefault();\n}\nfunction onDragleave(event) {\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'none';\n    }\n    const target = event.currentTarget;\n    target.removeAttribute('hover');\n    event.stopPropagation();\n    event.preventDefault();\n}\nfunction onDrop(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    container.removeAttribute('hover');\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    container.attach(transfer);\n    event.stopPropagation();\n    event.preventDefault();\n}\nconst images = /^image\\/(gif|png|jpeg)$/;\nfunction pastedFile(items) {\n    for (const item of items) {\n        if (item.kind === 'file' && images.test(item.type)) {\n            return item.getAsFile();\n        }\n    }\n    return null;\n}\nfunction onPaste(event) {\n    if (!event.clipboardData)\n        return;\n    if (!event.clipboardData.items)\n        return;\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const file = pastedFile(event.clipboardData.items);\n    if (!file)\n        return;\n    const files = [file];\n    container.attach(files);\n    event.preventDefault();\n}\nfunction onChange(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const input = event.target;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const id = container.getAttribute('input');\n    if (id && input.id !== id)\n        return;\n    const files = input.files;\n    if (!files || files.length === 0)\n        return;\n    container.attach(files);\n    input.value = '';\n}\nif (!window.customElements.get('file-attachment')) {\n    window.FileAttachmentElement = FileAttachmentElement;\n    window.customElements.define('file-attachment', FileAttachmentElement);\n}\n\nexport default FileAttachmentElement;\nexport { Attachment };\n","import { SearchIcon, TriangleDownIcon } from '@primer/octicons-react';\nimport React, { useCallback, useMemo } from 'react';\nimport { AnchoredOverlay } from '../AnchoredOverlay/AnchoredOverlay.js';\nimport Box from '../Box/Box.js';\nimport { FilteredActionList } from '../FilteredActionList/FilteredActionList.js';\nimport Heading from '../Heading/Heading.js';\nimport '../Button/ButtonBase.js';\nimport '../utils/defaultSxProp.js';\nimport { ButtonComponent } from '../Button/Button.js';\nimport '../TooltipV2/Tooltip.js';\nimport '../Tooltip/Tooltip.js';\nimport { useProvidedRefOrCreate } from '../hooks/useProvidedRefOrCreate.js';\nimport '@primer/behaviors/utils';\nimport '@primer/behaviors';\nimport { useProvidedStateOrCreate } from '../hooks/useProvidedStateOrCreate.js';\nimport { useId } from '../hooks/useId.js';\nimport { LiveRegion, LiveRegionOutlet, Message } from '../internal/components/LiveRegion.js';\n\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction isMultiSelectVariant(selected) {\n  return Array.isArray(selected);\n}\nconst focusZoneSettings = {\n  // Let FilteredActionList handle focus zone\n  disabled: true\n};\nfunction SelectPanel({\n  open,\n  onOpenChange,\n  renderAnchor = props => {\n    const {\n      children,\n      ...rest\n    } = props;\n    return /*#__PURE__*/React.createElement(ButtonComponent, _extends({\n      trailingAction: TriangleDownIcon\n    }, rest), children);\n  },\n  anchorRef: externalAnchorRef,\n  placeholder,\n  placeholderText = 'Filter items',\n  inputLabel = placeholderText,\n  selected,\n  title = isMultiSelectVariant(selected) ? 'Select items' : 'Select an item',\n  subtitle,\n  onSelectedChange,\n  filterValue: externalFilterValue,\n  onFilterChange: externalOnFilterChange,\n  items,\n  footer,\n  textInputProps,\n  overlayProps,\n  sx,\n  ...listProps\n}) {\n  const titleId = useId();\n  const subtitleId = useId();\n  const [filterValue, setInternalFilterValue] = useProvidedStateOrCreate(externalFilterValue, undefined, '');\n  const onFilterChange = useCallback((value, e) => {\n    externalOnFilterChange(value, e);\n    setInternalFilterValue(value);\n  }, [externalOnFilterChange, setInternalFilterValue]);\n  const anchorRef = useProvidedRefOrCreate(externalAnchorRef);\n  const onOpen = useCallback(gesture => onOpenChange(true, gesture), [onOpenChange]);\n  const onClose = useCallback(gesture => {\n    onOpenChange(false, gesture);\n  }, [onOpenChange]);\n  const renderMenuAnchor = useMemo(() => {\n    if (renderAnchor === null) {\n      return null;\n    }\n    const selectedItems = Array.isArray(selected) ? selected : [...(selected ? [selected] : [])];\n    return props => {\n      return renderAnchor({\n        ...props,\n        children: selectedItems.length ? selectedItems.map(item => item.text).join(', ') : placeholder\n      });\n    };\n  }, [placeholder, renderAnchor, selected]);\n  const itemsToRender = useMemo(() => {\n    return items.map(item => {\n      const isItemSelected = isMultiSelectVariant(selected) ? selected.includes(item) : selected === item;\n      return {\n        ...item,\n        role: 'option',\n        selected: 'selected' in item && item.selected === undefined ? undefined : isItemSelected,\n        onAction: (itemFromAction, event) => {\n          var _item$onAction;\n          (_item$onAction = item.onAction) === null || _item$onAction === void 0 ? void 0 : _item$onAction.call(item, itemFromAction, event);\n          if (event.defaultPrevented) {\n            return;\n          }\n          if (isMultiSelectVariant(selected)) {\n            const otherSelectedItems = selected.filter(selectedItem => selectedItem !== item);\n            const newSelectedItems = selected.includes(item) ? otherSelectedItems : [...otherSelectedItems, item];\n            const multiSelectOnChange = onSelectedChange;\n            multiSelectOnChange(newSelectedItems);\n            return;\n          }\n\n          // single select\n          const singleSelectOnChange = onSelectedChange;\n          singleSelectOnChange(item === selected ? undefined : item);\n          onClose('selection');\n        }\n      };\n    });\n  }, [onClose, onSelectedChange, items, selected]);\n  const inputRef = React.useRef(null);\n  const focusTrapSettings = {\n    initialFocusRef: inputRef\n  };\n  const extendedTextInputProps = useMemo(() => {\n    return {\n      sx: {\n        m: 2\n      },\n      contrast: true,\n      leadingVisual: SearchIcon,\n      'aria-label': inputLabel,\n      ...textInputProps\n    };\n  }, [inputLabel, textInputProps]);\n  return /*#__PURE__*/React.createElement(LiveRegion, null, /*#__PURE__*/React.createElement(AnchoredOverlay, {\n    renderAnchor: renderMenuAnchor,\n    anchorRef: anchorRef,\n    open: open,\n    onOpen: onOpen,\n    onClose: onClose,\n    overlayProps: {\n      role: 'dialog',\n      'aria-labelledby': titleId,\n      'aria-describedby': subtitle ? subtitleId : undefined,\n      ...overlayProps\n    },\n    focusTrapSettings: focusTrapSettings,\n    focusZoneSettings: focusZoneSettings\n  }, /*#__PURE__*/React.createElement(LiveRegionOutlet, null), /*#__PURE__*/React.createElement(Message, {\n    value: filterValue === '' ? 'Showing all items' : items.length <= 0 ? 'No matching items' : `${items.length} matching ${items.length === 1 ? 'item' : 'items'}`\n  }), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: 'inherit',\n      maxHeight: 'inherit'\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      pt: 2,\n      px: 3\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h1\",\n    id: titleId,\n    sx: {\n      fontSize: 1\n    }\n  }, title), subtitle ? /*#__PURE__*/React.createElement(Box, {\n    id: subtitleId,\n    sx: {\n      fontSize: 0,\n      color: 'fg.muted'\n    }\n  }, subtitle) : null), /*#__PURE__*/React.createElement(FilteredActionList, _extends({\n    filterValue: filterValue,\n    onFilterChange: onFilterChange,\n    placeholderText: placeholderText\n  }, listProps, {\n    role: \"listbox\",\n    \"aria-multiselectable\": isMultiSelectVariant(selected) ? 'true' : 'false',\n    selectionVariant: isMultiSelectVariant(selected) ? 'multiple' : 'single',\n    items: itemsToRender,\n    textInputProps: extendedTextInputProps,\n    inputRef: inputRef\n    // inheriting height and maxHeight ensures that the FilteredActionList is never taller\n    // than the Overlay (which would break scrolling the items)\n    ,\n    sx: {\n      ...sx,\n      height: 'inherit',\n      maxHeight: 'inherit'\n    }\n  })), footer && /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      borderTop: '1px solid',\n      borderColor: 'border.default',\n      padding: 2\n    }\n  }, footer))));\n}\nSelectPanel.displayName = \"SelectPanel\";\nSelectPanel.displayName = 'SelectPanel';\n\nexport { SelectPanel };\n","import React from 'react';\nimport { VisuallyHidden } from './VisuallyHidden.js';\n\nconst LiveRegionContext = /*#__PURE__*/React.createContext(null);\nfunction useLiveRegion() {\n  const context = React.useContext(LiveRegionContext);\n  if (!context) {\n    throw new Error('useLiveRegion() must be used within a <LiveRegion>');\n  }\n  return context;\n}\nfunction LiveRegion({\n  children\n}) {\n  const [message, setMessage] = React.useState('');\n  const value = React.useMemo(() => {\n    return {\n      announce: setMessage,\n      message\n    };\n  }, [message]);\n  return /*#__PURE__*/React.createElement(LiveRegionContext.Provider, {\n    value: value\n  }, children);\n}\nLiveRegion.displayName = \"LiveRegion\";\nfunction LiveRegionOutlet() {\n  const liveRegion = useLiveRegion();\n  return /*#__PURE__*/React.createElement(VisuallyHidden, {\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": true\n  }, liveRegion.message);\n}\nLiveRegionOutlet.displayName = \"LiveRegionOutlet\";\nfunction Message({\n  value\n}) {\n  const liveRegion = useLiveRegion();\n  const savedLiveRegion = React.useRef(liveRegion);\n  const committedRef = React.useRef(false);\n  React.useEffect(() => {\n    savedLiveRegion.current = liveRegion;\n  }, [liveRegion]);\n  React.useEffect(() => {\n    if (committedRef.current !== true) {\n      return;\n    }\n    const timeoutId = setTimeout(() => {\n      savedLiveRegion.current.announce(value);\n    }, 750);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [value]);\n  React.useEffect(() => {\n    committedRef.current = true;\n    return () => {\n      committedRef.current = false;\n    };\n  }, []);\n  return null;\n}\n\nexport { LiveRegion, LiveRegionOutlet, Message, useLiveRegion };\n","import type {RootRule} from '../json-rule-util-types'\n\n// Removes any excluded rules\nexport function getRootRule(): RootRule {\n  return fullRootRule()\n}\n\nfunction fullRootRule(): RootRule {\n  // Placeholder for now.\n  // Eventually, this will implement the ruleset for the devcontainer.json file format.\n  return {id: ''}\n}\n","import CodeMirror from 'codemirror'\n// eslint-disable-next-line import/no-namespace\nimport * as jsonc from 'jsonc-parser'\nimport type {Editor} from 'codemirror'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {\n  type CodeMirrorElement,\n  CodeMirrorLintingHelper,\n  fileOffsetToLineAndColumn,\n  type LintMessage,\n} from '../codemirror-linter-util'\nimport type {getJsonRootRuleSignature} from './json-rule-util-types'\n\nimport type {TemplateResult} from 'lit-html'\nimport {html} from 'lit-html'\n\nclass JsonCodeMirrorLintingHelper extends CodeMirrorLintingHelper {\n  getRootRule: getJsonRootRuleSignature\n  constructor(_getRootRule: getJsonRootRuleSignature) {\n    super()\n    this.getRootRule = _getRootRule\n  }\n\n  async updateLinting(cm: Editor) {\n    const annotations = lint(cm.getValue(), this.getRootRule)\n    cm.operation(() => {\n      this.clearState()\n      this.createMarks(cm, annotations)\n    })\n  }\n}\n\nexport function lint(text: string, _getRootRule: getJsonRootRuleSignature): LintMessage[] {\n  const jsonErrors = getJsoncErrors(text)\n  const messages: LintMessage[] = []\n\n  for (const error of jsonErrors) {\n    const {startLine, startColumn} = fileOffsetToLineAndColumn(text, error.offset)\n    const from = {line: startLine, ch: startColumn}\n    const to = {line: startLine, ch: startColumn + error.length}\n    messages.push({\n      from,\n      to,\n      message: tooltipMessage(`JSONC Parser: ${jsonc.printParseErrorCode(error.error)}`),\n      severity: 'error',\n    })\n  }\n  return messages\n}\n\nfunction tooltipMessage(value: string): TemplateResult {\n  return html` <p>${value}</p> `\n}\n\nexport function registerLinterEvents(getRootRule: getJsonRootRuleSignature) {\n  const codeMirrorLintingHelper = new JsonCodeMirrorLintingHelper(getRootRule)\n  observe('.CodeMirror', {\n    add(codeMirror: Element) {\n      const anyEditor = codeMirror as CodeMirrorElement\n      const editor = anyEditor.CodeMirror\n\n      editor?.on('change', () => {\n        clearTimeout(codeMirrorLintingHelper.lintTimeout)\n        codeMirrorLintingHelper.lintTimeout = setTimeout(() => codeMirrorLintingHelper.updateLinting(editor), 500)\n      })\n      CodeMirror?.on(editor.getWrapperElement(), 'mouseover', (event: Event) =>\n        codeMirrorLintingHelper.showTooltip(editor, event),\n      )\n      codeMirrorLintingHelper.updateLinting(editor)\n    },\n  })\n}\n\nfunction getJsoncErrors(doc: string) {\n  // JSONC parsing\n  const errors: jsonc.ParseError[] = []\n  jsonc.parse(doc, errors)\n  return errors\n}\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass BypassReasonSelectorElement extends HTMLElement {\n  @target submitBtn: HTMLButtonElement\n\n  // Used by Secret Scanning Push Protection to ensure a bypass reason is selected and checkmarks are hidden\n  reasonSelected() {\n    this.submitBtn.disabled = false\n  }\n\n  // Used by Secret Scanning Push Protection to copy blob editor fields to bypass form to pass onto edit form after\n  copyBlobFields() {\n    const blobEditorForm = document.querySelector<HTMLFormElement>('.js-blob-form')!\n    const bypassForm = document.querySelector<HTMLFormElement>('.js-bypass-form')!\n    if (!(blobEditorForm instanceof HTMLFormElement) || !(bypassForm instanceof HTMLFormElement)) return\n\n    this.createHiddenInputField(\n      bypassForm,\n      'value',\n      document.querySelector<HTMLTextAreaElement>('.js-blob-contents')!.value,\n    )\n    this.createHiddenInputField(\n      bypassForm,\n      'description',\n      document.querySelector<HTMLTextAreaElement>('#commit-description-textarea')!.value,\n    )\n    for (const element of blobEditorForm.elements) {\n      if (element instanceof HTMLInputElement && element.name) {\n        // eslint-disable-next-line github/authenticity-token\n        if (!element.name.includes('gitignore') && element.name !== 'authenticity_token') {\n          this.createHiddenInputField(bypassForm, element.name, element.value)\n        }\n      }\n    }\n  }\n\n  private createHiddenInputField(form: HTMLFormElement, name: string, value: string) {\n    const copyInput = document.createElement('input')\n    copyInput.type = 'hidden'\n    copyInput.name = name\n    copyInput.id = `${name}_hidden`\n    copyInput.value = value\n\n    form.appendChild(copyInput)\n    copyInput.required = true\n  }\n}\n","import './elements/bypass-reason-selector'\nimport {GetCharIndexFromBytePosition} from '@github-ui/text'\n\nimport {emitToCodeMirror} from '@github-ui/code-mirror/emit-to-codemirror'\nimport type {SecretDetectedLintEventDetail} from '@github-ui/code-mirror/types/custom-events'\n\nexport class CodeEditorExtensions {\n  private static parseDiscoveredSecrets(fileContents: string, discoveredSecrets: string) {\n    const secrets = JSON.parse(discoveredSecrets)\n\n    if (secrets.length === 0 || secrets[0].locations?.length === 0) {\n      return null\n    }\n\n    // for now only annotate the first secret. We will support multiple secrets later\n    const location = secrets[0].locations[0]\n    const lines = fileContents.split(/\\r?\\n/)\n\n    // rails and react use different keys for the same thing - normalize them\n    const normalizedStartLine = location.start_line || location.startLine\n    const normalizedEndLine = location.end_line || location.endLine\n    const normalizedStartBytePosition = location.start_line_byte_position || location.startLineBytePosition || 0\n    const normalizedEndBytePosition = location.end_line_byte_position || location.endLineBytePosition\n\n    const startLine = normalizedStartLine - 1 // lines in a location are 1-indexed\n    const endLine = normalizedEndLine - 1\n\n    if (startLine > endLine || startLine < 0 || endLine > lines.length) {\n      return\n    }\n\n    // lines may have changed during client side editing, don't let it blow the page up\n    if (!lines[startLine] || !lines[endLine]) {\n      return\n    }\n\n    return {\n      startLine,\n      endLine,\n      startLineCharacter: GetCharIndexFromBytePosition(lines[startLine], normalizedStartBytePosition),\n      endLineCharacter: GetCharIndexFromBytePosition(lines[endLine], normalizedEndBytePosition),\n    }\n  }\n\n  private static parseSingleSecret(\n    fileContents: string,\n    startLine: number,\n    endLine: number,\n    startLineBytePosition: number,\n    endLineBytePosition: number,\n  ) {\n    const lines = fileContents.split(/\\r?\\n/)\n\n    // lines in a location are 1-indexed\n    startLine--\n    endLine--\n\n    if (startLine > endLine || startLine < 0 || endLine > lines.length) {\n      return\n    }\n\n    // lines may have changed during client side editing, don't let it blow the page up\n    if (!lines[startLine] || !lines[endLine]) {\n      return\n    }\n\n    return {\n      parsedStartLine: startLine,\n      parsedEndLine: endLine,\n      startLineCharacter: GetCharIndexFromBytePosition(lines[startLine]!, startLineBytePosition),\n      endLineCharacter: GetCharIndexFromBytePosition(lines[endLine]!, endLineBytePosition),\n    }\n  }\n\n  public static annotateDiscoveredSecrets(codeEditor: CodeMirror.Editor, discoveredSecrets: string) {\n    if (!codeEditor) {\n      return\n    }\n\n    const secrets = CodeEditorExtensions.parseDiscoveredSecrets(codeEditor.getValue(), discoveredSecrets)\n\n    if (!secrets) {\n      return\n    }\n\n    const {startLine, endLine, startLineCharacter, endLineCharacter} = secrets\n\n    codeEditor.markText(\n      {line: startLine, ch: startLineCharacter},\n      {line: endLine, ch: endLineCharacter},\n      {className: 'CodeMirror-lint-mark-error'},\n    )\n  }\n\n  public static emitAnnotateDiscoveredSecrets(fileContents: string, discoveredSecrets: string, target: Element) {\n    const secrets = CodeEditorExtensions.parseDiscoveredSecrets(fileContents, discoveredSecrets)\n\n    if (!secrets) {\n      return\n    }\n\n    const {startLine, endLine, startLineCharacter, endLineCharacter} = secrets\n\n    const detail: SecretDetectedLintEventDetail = {\n      from: {\n        lineNumber: startLine,\n        character: startLineCharacter,\n      },\n      to: {lineNumber: endLine, character: endLineCharacter},\n      severity: 'error',\n    }\n\n    emitToCodeMirror('secret-detected:lint', target, detail)\n  }\n\n  public static emitAnnotateDiscoveredSecretsWithLocation(\n    fileContents: string,\n    startLine: number,\n    endLine: number,\n    startLineBytePosition: number,\n    endLineBytePosition: number,\n    target: Element,\n  ) {\n    const parsed = CodeEditorExtensions.parseSingleSecret(\n      fileContents,\n      startLine,\n      endLine,\n      startLineBytePosition,\n      endLineBytePosition,\n    )\n\n    if (!parsed) {\n      return\n    }\n\n    const {parsedStartLine, parsedEndLine, startLineCharacter, endLineCharacter} = parsed\n\n    const detail: SecretDetectedLintEventDetail = {\n      from: {\n        lineNumber: parsedStartLine,\n        character: startLineCharacter,\n      },\n      to: {lineNumber: parsedEndLine, character: endLineCharacter},\n      severity: 'error',\n    }\n\n    emitToCodeMirror('secret-detected:lint', target, detail)\n  }\n}\n","import {type PathFunction, encodePart} from '@github-ui/paths'\n// eslint-disable-next-line import/no-nodejs-modules\nimport {Buffer} from 'buffer'\n\nexport function secretScanningIndexPath(owner: string, repo: string, details?: {page?: number; query?: string}) {\n  const params = []\n  if (details?.page) {\n    params.push(`page=${details.page}`)\n  }\n  if (details?.query) {\n    params.push(`query=${encodePart(details.query).replace(/%20/g, '+')}`)\n  }\n\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning${\n    params.length > 0 ? `?${params.join('&')}` : ''\n  }`\n}\n\nexport function secretScanningSecretTypeOptionsPath(owner: string, repo: string, query: string | null) {\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/secret-type-options${\n    query !== null ? `?${query}` : ''\n  }`\n}\n\nexport function secretScanningProviderOptionsPath(owner: string, repo: string, query: string | null) {\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/provider-options${\n    query !== null ? `?${query}` : ''\n  }`\n}\n\nexport function secretScanningAlertPath(owner: string, repo: string, number: number) {\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${number}`\n}\n\nexport const secretScanningAlertTimelinePath: PathFunction<{owner: string; repo: string; id: number}> = ({\n  owner,\n  repo,\n  id,\n}) => `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${id}/timeline`\n\nexport const secretScanningAlertAutofixPath: PathFunction<{owner: string; repo: string; id: number}> = ({\n  owner,\n  repo,\n  id,\n}) => `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${id}/alert-autofix`\n\nexport const secretScanningSecureStoragePath: PathFunction<{owner: string; repo: string; id: number}> = ({\n  owner,\n  repo,\n  id,\n}) => `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${id}/secure-storage`\n\nexport const secretScanningAlertAiAuditPath: PathFunction<{owner: string; repo: string; id: number}> = ({\n  owner,\n  repo,\n  id,\n}) => `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${id}/ai-audit`\n\nexport const secretScanningAlertLocationsPath: PathFunction<{\n  owner: string\n  repo: string\n  id: number\n  page: number\n}> = ({owner, repo, id, page}) =>\n  `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${id}/locations?page=${page}`\n\nexport function secretScanningTokenResolvePath(owner: string, repo: string) {\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/resolve-react`\n}\n\nexport function secretScanningTokenReportPath(owner: string, repo: string, id: number) {\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${id}/report`\n}\n\nexport function secretScanningCustomPatternPath(id: number, owner: string, repo: string | null = null) {\n  if (repo === null) {\n    return `/organizations/${encodePart(owner)}/settings/security_analysis/custom_patterns/${id}`\n  }\n  return `/${encodePart(owner)}/${encodePart(repo)}/settings/security_analysis/custom_patterns/${id}`\n}\n\nexport function secretScanningFeedbackPath() {\n  return `https://github.com/community/community/discussions/categories/code-security`\n}\n\nexport const secretScanningTokenMetadataOrgAccessPath: PathFunction<{\n  owner: string\n  repo: string\n  accessId: number\n  tokenType: string\n  tokenNumber: number\n}> = ({owner, repo, accessId, tokenType, tokenNumber}) =>\n  `/${encodePart(owner)}/${encodePart(\n    repo,\n  )}/security/secret-scanning/${tokenNumber}/org-access?access_id=${accessId}&token_type=${tokenType}`\n\nexport function secretScanningTokenValidationStatus({\n  owner,\n  repo,\n  tokenNumber,\n}: {\n  owner: string\n  repo: string\n  tokenNumber: number\n}) {\n  return `/${encodePart(owner)}/${encodePart(repo)}/security/secret-scanning/${tokenNumber}/validate-token`\n}\n\nexport function aboutTokenScanningPath(helpUrl: string) {\n  return `${helpUrl}/github/administering-a-repository/about-token-scanning`\n}\n\nexport function securityAnalysisSettingsPath(owner: string, repo: string | null = null) {\n  if (!repo) {\n    return `/organizations/${encodePart(owner)}/settings/security_analysis`\n  }\n  return `/${encodePart(owner)}/${encodePart(repo)}/settings/security_analysis`\n}\n\nexport const dismissNoticePath: PathFunction<{notice: string}> = ({notice}) => `/settings/dismiss-notice/${notice}`\n\nexport const secretScanningIndexViewGenericQuery: PathFunction<{\n  encodedBase: string\n  query: string\n}> = ({encodedBase, query}) => `${encodedBase}+${encodePart(query)}`\n\nexport const secretScanningIndexViewSecretTypeQuery: PathFunction<{\n  org_display_login: string\n  secret_type: string\n}> = ({org_display_login, secret_type}) =>\n  `/orgs/${encodePart(org_display_login)}/security/alerts/secret-scanning?query=secret-type%3A${encodePart(\n    secret_type,\n  )}`\n\nexport const secretScanningIndexViewRepoQuery: PathFunction<{\n  org_display_login: string\n  repo: string\n}> = ({org_display_login, repo}) =>\n  `/orgs/${encodePart(org_display_login)}/security/alerts/secret-scanning?query=repo%3A${encodePart(repo)}`\n\nexport const promotePushProtectionBypassPath: PathFunction<{\n  ownerDisplayLogin: string\n  repoName: string\n  ksuid: string\n}> = ({ownerDisplayLogin, repoName, ksuid}) =>\n  `/${encodePart(ownerDisplayLogin)}/${encodePart(repoName)}/security/secret-scanning/unblock-secret/${ksuid}`\n\nexport const requestPushProtectionBypassPath: PathFunction<{\n  ownerDisplayLogin: string\n  repoName: string\n  ksuid: string\n  ruleSuiteId: number\n}> = ({ownerDisplayLogin, repoName, ksuid, ruleSuiteId}) => {\n  const hashId = Buffer.from(encodeURI(`secret_scanning-${ruleSuiteId}-${ksuid}`)).toString('base64')\n  return `/${encodePart(ownerDisplayLogin)}/${encodePart(repoName)}/secret_scanning/exemptions/new/${hashId}`\n}\n","import {EditorView} from '@codemirror/view'\n\nexport const autocompleteTheme = EditorView.baseTheme({\n  '.cm-tooltip.cm-tooltip-autocomplete': {\n    border: 0,\n    backgroundColor: 'transparent',\n  },\n\n  '.cm-tooltip.cm-tooltip-autocomplete > ul': {\n    fontFamily: \"SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace\",\n    fontSize: '12px',\n    backgroundColor: 'var(--bgColor-default, var(--color-canvas-default))',\n    border: '1px solid var(--borderColor-default, var(--color-border-default))',\n    borderRadius: 'var(--borderRadius-medium)',\n    boxShadow: 'var(--shadow-resting-medium, var(--color-shadow-medium))',\n    minWidth: 'auto',\n  },\n  '.cm-tooltip.cm-tooltip-autocomplete li[role=\"option\"]': {\n    padding: '2px 8px',\n    margin: 0,\n    color: 'var(--fgColor-default, var(--color-fg-default))',\n    whiteSpace: 'pre',\n  },\n  '.cm-tooltip.cm-tooltip-autocomplete li[role=\"option\"]:first-child': {\n    borderTopLeftRadius: 'var(--borderRadius-medium)',\n    borderTopRightRadius: 'var(--borderRadius-medium)',\n  },\n  '.cm-tooltip.cm-tooltip-autocomplete li[role=\"option\"]:last-child': {\n    borderBottomLeftRadius: 'var(--borderRadius-medium)',\n    borderBottomRightRadius: 'var(--borderRadius-medium)',\n  },\n  '.cm-tooltip.cm-tooltip-autocomplete ul li[aria-selected], .cm-tooltip.cm-tooltip-autocomplete ul li[aria-selected] .cm-completionDetail':\n    {\n      color: 'var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))',\n      background: 'var(--bgColor-accent-emphasis, var(--color-accent-emphasis))',\n    },\n  '.cm-completionDetail': {\n    paddingLeft: '8px',\n    color: 'var(--fgColor-muted, var(--color-fg-muted))',\n    fontSize: 'var(--fontSize-small)',\n    fontStyle: 'normal',\n  },\n})\n","import type {CustomEventName, CustomEventDetail} from './types/custom-events'\n\nexport function emitToCodeMirror(event: CustomEventName, editorTarget: Element, detail: CustomEventDetail) {\n  if (!editorTarget) return\n\n  // codemirror 6 watches for events on its content element, not the root editor element\n  const innerEditorTarget = editorTarget.className.includes('cm-content')\n    ? editorTarget\n    : editorTarget.querySelector<HTMLDivElement>('.cm-content')\n\n  if (!innerEditorTarget) return\n\n  innerEditorTarget.dispatchEvent(new CustomEvent(event, {detail}))\n}\n","import type {Extension} from '@codemirror/state'\nimport {type Panel, showPanel} from '@codemirror/view'\n\n/**\n * Creates a help panel extension from an HTMLElement\n * @param panelDom help panel HTMLElement\n * @param position position of the help panel, either 'top' or 'bottom'\n * @returns help panel extension\n */\nexport function helpPanelConstructor(\n  panelDom: HTMLElement | null = null,\n  position: 'top' | 'bottom' = 'bottom',\n): Extension {\n  const panelConstructor = () => {\n    return {\n      dom: panelDom,\n      top: position === 'top',\n    } as Panel\n  }\n\n  return [showPanel.of(panelConstructor)]\n}\n","import {indentUnit} from '@codemirror/language'\nimport {SearchCursor} from '@codemirror/search'\nimport {EditorSelection, type EditorState} from '@codemirror/state'\nimport {EditorView} from '@codemirror/view'\n\nexport const getCursor = (view: EditorView) => {\n  return view.state.selection.main\n}\n\nexport const setCursor = (view: EditorView, newPosition: number) => {\n  view.dispatch({\n    selection: {\n      anchor: newPosition,\n    },\n  })\n}\n\nexport const somethingSelected = (view: EditorView) => {\n  return view.state.selection.ranges.some(r => !r.empty)\n}\n\nexport const getSelection = (state: EditorState) => {\n  return state.sliceDoc(state.selection.main.from, state.selection.main.to)\n}\n\nexport const setSelection = (view: EditorView, startPosition: number, endPosition: number) => {\n  view.dispatch({\n    selection: {\n      anchor: startPosition,\n      head: endPosition,\n    },\n  })\n}\n\n// https://codemirror.net/docs/migration/#positions\nexport function posToOffset(view: EditorView, pos: {line: number; ch: number}) {\n  return view.state.doc.line(pos.line + 1).from + pos.ch\n}\n\n// https://codemirror.net/docs/migration/#positions\nexport function offsetToPos(view: EditorView, offset: number) {\n  const line = view.state.doc.lineAt(offset)\n  return {line: line.number - 1, ch: offset - line.from}\n}\n\nexport const getLine = (view: EditorView, lineNumber: number) => {\n  return view.state.doc.line(lineNumber) // CM6 is 1-indexed for lines\n}\n\nexport const insertAtStartOfLine = (view: EditorView, lineNumber: number, text: string) => {\n  const line = getLine(view, lineNumber)\n\n  replaceRange(view, line.from, line.from, text)\n}\n\nexport const removeFromStartOfLine = (view: EditorView, lineNumber: number, text: string) => {\n  const line = getLine(view, lineNumber)\n  replaceRange(view, line.from, line.from + text.length, '')\n}\n\nexport const replaceSelection = (view: EditorView, text: string) => {\n  view.dispatch(view.state.replaceSelection(text))\n}\n\nexport const getRange = (state: EditorState, from: number, to: number) => {\n  return state.sliceDoc(from, to)\n}\n\nexport const replaceRange = (view: EditorView, from: number, to: number, text: string) => {\n  view.dispatch({changes: {from, to, insert: text}})\n}\n\nexport const insertAtCursor = (view: EditorView, text: string) => {\n  const cursor = getCursor(view)\n  replaceRange(view, cursor.from, cursor.to, text)\n}\n\n/**\n * Find the first occurrence of search in the document\n */\nexport const find = (view: EditorView, search: string) => {\n  const searchCursor = new SearchCursor(view.state.doc, search)\n  return searchCursor.next()\n}\n\n/**\n * Find and replace the first occurrence of search in the document\n */\nexport const findAndReplace = (view: EditorView, search: string, replace: string) => {\n  const searchCursor = new SearchCursor(view.state.doc, search)\n  const match = searchCursor.next()\n  view.dispatch({changes: {from: match.value.from, to: match.value.to, insert: replace}})\n}\n\nexport const moveCursorToPositionAndScroll = (\n  view: EditorView,\n  startLine: number,\n  endLine?: number,\n  startColumn?: number,\n  endColumn?: number,\n) => {\n  if (endLine !== undefined) {\n    try {\n      const startLineElement = getLine(view, startLine)\n      const endLineElement = getLine(view, endLine)\n      if (startLineElement && endLineElement) {\n        view.focus()\n\n        const selectionEnd = endColumn ? endLineElement.from + endColumn : endLineElement.to\n\n        setSelection(view, startLineElement.from + (startColumn ?? 0), selectionEnd)\n        view.dispatch({\n          effects: [\n            EditorView.scrollIntoView(EditorSelection.range(startLineElement.from, endLineElement.to), {y: 'center'}),\n          ],\n        })\n      }\n    } catch (RangeError) {\n      // Invalid line number, ignore\n    }\n  } else {\n    try {\n      const lineElement = getLine(view, startLine)\n      if (lineElement) {\n        view.focus()\n        setCursor(view, lineElement.from + (startColumn ?? 0))\n        view.dispatch({effects: [EditorView.scrollIntoView(lineElement.from, {y: 'center'})]})\n      }\n    } catch (RangeError) {\n      // Invalid line number, ignore\n    }\n  }\n}\n\nexport function getIndentationUnit(view: EditorView) {\n  // returns '\\t' or ' '.repeat(indentUnit)\n  return view.state.facet(indentUnit)\n}\n","import {useCallback, useEffect, useRef, useState} from 'react'\n\nconst HELLO_TIMEOUT = 10_000\nconst LOAD_TIMEOUT = 45_000\n\nexport const DEFAULT_RENDERER_HEIGHT = '500px'\n\ninterface RenderTiming {\n  load?: number | null\n  helloTimer?: number | null\n  hello?: number | null\n  loadTimer?: number | null\n  untimed?: boolean\n}\n\ninterface RenderCommand {\n  type: 'render:cmd'\n  body?: unknown\n}\n\nexport interface RenderMessage {\n  type: 'render'\n  body: string\n  payload:\n    | null\n    | undefined\n    | {\n        height?: number\n        error?: string | null\n      }\n}\n\nexport enum RenderState {\n  ERROR = 'ERROR',\n  LOADING = 'LOADING',\n  LOADED = 'LOADED',\n  READY = 'READY',\n}\n\ninterface FileRendererHandle {\n  renderState: RenderState\n  errorMsg: string | null\n  iFrameRef: React.RefObject<HTMLIFrameElement>\n  containerRef: React.RefObject<HTMLDivElement>\n}\n\nexport function useFileRenderer(origin: string): FileRendererHandle {\n  const [renderStateRef, setRenderState] = useStatefulRef(RenderState.LOADING)\n  const errorMsg = useRef<string | null>(null)\n\n  const iFrameRef = useRef<HTMLIFrameElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const renderTiming = useRef<RenderTiming>({untimed: true})\n\n  const messageListener = useCallback(\n    (event: MessageEvent) =>\n      onMessage(\n        event,\n        origin,\n        iFrameRef,\n        containerRef,\n        renderTiming,\n        setRenderState,\n        error => (errorMsg.current = error),\n      ),\n    [origin, setRenderState],\n  )\n\n  useEffect(() => {\n    // Clear the timeouts\n    resetTiming(renderTiming.current)\n\n    const timeoutWatchdog = (checkHello: boolean) => {\n      if (\n        (renderStateRef.current !== RenderState.LOADING && renderStateRef.current !== RenderState.LOADED) ||\n        (checkHello && !renderTiming.current.hello)\n      ) {\n        return\n      }\n\n      setRenderState(RenderState.ERROR)\n    }\n\n    renderTiming.current = {\n      load: Date.now(),\n      hello: null,\n      helloTimer: window.setTimeout(timeoutWatchdog, HELLO_TIMEOUT, true),\n      loadTimer: window.setTimeout(timeoutWatchdog, LOAD_TIMEOUT),\n    }\n\n    return () => {\n      resetTiming(renderTiming.current)\n    }\n  }, [renderStateRef, setRenderState])\n\n  useEffect(() => {\n    window.addEventListener('message', messageListener)\n    return () => window.removeEventListener('message', messageListener)\n  }, [messageListener])\n\n  return {renderState: renderStateRef.current, errorMsg: errorMsg.current, iFrameRef, containerRef}\n}\n\nfunction onMessage(\n  event: MessageEvent,\n  origin: string,\n  iFrameRef: React.RefObject<HTMLIFrameElement>,\n  containerRef: React.RefObject<HTMLDivElement>,\n  renderTiming: React.RefObject<RenderTiming>,\n  setRenderState: (state: RenderState) => void,\n  setError: (error: string | null) => void,\n) {\n  if (event.origin !== origin) return\n\n  const renderMessage = getRenderMessage(event)\n  if (!renderMessage) {\n    setRenderState(RenderState.ERROR)\n    return\n  }\n\n  const body = renderMessage.body\n  const payload = renderMessage.payload != null ? renderMessage.payload : undefined\n\n  const renderWindow = iFrameRef.current?.contentWindow\n\n  switch (body) {\n    case 'hello':\n      {\n        const timingData = renderTiming.current ?? {\n          untimed: true,\n        }\n\n        timingData.hello = Date.now()\n\n        const ackmsg = {\n          type: 'render:cmd',\n          body: {\n            cmd: 'ack',\n            ack: true,\n          },\n        } as const\n\n        const msg = {\n          type: 'render:cmd',\n          body: {\n            cmd: 'branding',\n            branding: false,\n          },\n        } as const\n\n        sendRenderCommand(renderWindow, ackmsg)\n        sendRenderCommand(renderWindow, msg)\n      }\n      break\n    case 'error':\n    case 'error:fatal':\n    case 'error:invalid':\n      if (payload) {\n        setError(payload.error ?? null)\n        setRenderState(RenderState.ERROR)\n      } else {\n        setRenderState(RenderState.ERROR)\n      }\n      break\n    case 'loading':\n      setRenderState(RenderState.LOADING)\n      break\n    case 'loaded':\n      setRenderState(RenderState.LOADED)\n      break\n    case 'ready':\n      // TODO: markdown success\n      //markdownEnrichmentSuccess(container)\n\n      if (payload && typeof payload.height === 'number' && containerRef.current) {\n        containerRef.current.style.height = `${payload.height}px`\n      }\n\n      setRenderState(RenderState.READY)\n\n      break\n    case 'resize':\n      if (payload && typeof payload.height === 'number' && containerRef.current) {\n        containerRef.current.style.height = `${payload.height}px`\n      }\n\n      break\n    case 'code_rendering_service:container:get_size':\n      sendRenderCommand(renderWindow, {\n        type: 'render:cmd',\n        body: {\n          cmd: 'code_rendering_service:container:size',\n          'code_rendering_service:container:size': {\n            width: containerRef.current?.getBoundingClientRect().width,\n          },\n        },\n      })\n      break\n    case 'code_rendering_service:markdown:get_data':\n      if (!iFrameRef.current || !containerRef.current) return\n      sendIFrameDataToIFrame(iFrameRef.current, containerRef.current)\n      break\n    default:\n      break\n  }\n}\n\nfunction useStatefulRef<T>(initialState: T) {\n  // Workaround because window listeners only have access to the initial state. So use refs\n  const [renderStateInt, setRenderStateInt] = useState<T>(initialState)\n  const renderStateRef = useRef<T>(renderStateInt)\n\n  const setRenderState = (state: T) => {\n    renderStateRef.current = state\n    setRenderStateInt(state)\n  }\n\n  return [renderStateRef, setRenderState] as const\n}\n\nfunction resetTiming(renderTiming: RenderTiming) {\n  if (!renderTiming) {\n    return\n  }\n  renderTiming.load = renderTiming.hello = null\n  if (renderTiming.helloTimer) {\n    clearTimeout(renderTiming.helloTimer)\n    renderTiming.helloTimer = null\n  }\n  if (renderTiming.loadTimer) {\n    clearTimeout(renderTiming.loadTimer)\n    renderTiming.loadTimer = null\n  }\n}\n\nfunction sendIFrameDataToIFrame(iframe: HTMLIFrameElement, container: HTMLDivElement) {\n  const data = iframe.getAttribute('data-content')\n  if (!data) {\n    return\n  }\n\n  const msg = {\n    type: 'render:cmd',\n    body: {\n      cmd: 'code_rendering_service:data:ready',\n      'code_rendering_service:data:ready': {\n        data: JSON.parse(data).data,\n        width: container.getBoundingClientRect().width,\n      },\n    },\n  } as const\n\n  sendRenderCommand(iframe.contentWindow, msg)\n}\n\nfunction sendRenderCommand(renderWindow: Window | null | undefined, message: RenderCommand) {\n  if (renderWindow && renderWindow.postMessage) {\n    renderWindow.postMessage(JSON.stringify(message), '*')\n  }\n}\n\nfunction getRenderMessage(event: MessageEvent): RenderMessage | null {\n  let data = event.data as unknown\n\n  if (!data) return null\n\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data) as unknown\n    } catch {\n      // Ignore parse errors\n      return null\n    }\n  }\n\n  if (!isRenderMessage(data)) return null\n\n  return data\n}\n\nfunction isRenderMessage(data: unknown): data is RenderMessage {\n  if (typeof data !== 'object' || !data) {\n    return false\n  }\n\n  const messageData = data as RenderMessage\n  return (\n    messageData.type === 'render' && typeof messageData.body === 'string' && typeof messageData.payload === 'object'\n  )\n}\n","import type {NavigatorUA} from './@types/user-agent-data'\nimport {ssrSafeWindow} from '@github-ui/ssr-utils'\n\nexport type NavigatorUserAgent = NavigatorUA\n\nexport const OS = {\n  Android: 'Android',\n  iOS: 'iOS',\n  macOS: 'macOS',\n  Windows: 'Windows',\n  Linux: 'Linux',\n  Unknown: 'Unknown',\n}\nexport type OS = (typeof OS)[keyof typeof OS]\n\nexport type OSInformation = {\n  os: OS\n  isAndroid: boolean\n  isIOS: boolean\n  isLinux: boolean\n  isMacOS: boolean\n  isWindows: boolean\n  isDesktop: boolean\n  isMobile: boolean\n}\n\nexport function getOS(): OSInformation {\n  let os: OS = OS.Unknown\n  let isMobileOS = false\n  if (ssrSafeWindow) {\n    // TypeScript doesn't 'know' about userAgentData yet\n    const navigator = ssrSafeWindow.navigator as Navigator & NavigatorUA\n    const userAgent = navigator.userAgent\n    const platform = navigator?.userAgentData?.platform || navigator.platform\n    const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K', 'macOS']\n    const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE']\n    const iosPlatforms = ['iPhone', 'iPad', 'iPod']\n\n    if (macosPlatforms.indexOf(platform) !== -1) {\n      os = OS.macOS\n    } else if (iosPlatforms.indexOf(platform) !== -1) {\n      os = OS.iOS\n    } else if (windowsPlatforms.indexOf(platform) !== -1) {\n      os = OS.Windows\n    } else if (/Android/.test(userAgent)) {\n      os = OS.Android\n    } else if (/Linux/.test(platform)) {\n      os = OS.Linux\n    }\n    isMobileOS = navigator?.userAgentData?.mobile ?? (os === OS.Android || os === OS.iOS)\n  }\n\n  return {\n    os,\n    isAndroid: os === OS.Android,\n    isIOS: os === OS.iOS,\n    isMacOS: os === OS.macOS,\n    isWindows: os === OS.Windows,\n    isLinux: os === OS.Linux,\n    isDesktop: os === OS.macOS || os === OS.Windows || os === OS.Linux,\n    isMobile: isMobileOS,\n  }\n}\n\nexport function isMobile(): boolean {\n  return getOS().isMobile\n}\n\nexport function isDesktop(): boolean {\n  return getOS().isDesktop\n}\n\nexport function isAndroid(): boolean {\n  return getOS().isAndroid\n}\n\nexport function isIOS(): boolean {\n  return getOS().isIOS\n}\n\nexport function isMacOS(): boolean {\n  return getOS().isMacOS\n}\n\nexport function isWindows(): boolean {\n  return getOS().isWindows\n}\n\nexport function isLinux(): boolean {\n  return getOS().isLinux\n}\n","export interface BypassMetadata {\n  token_label: string\n  owner_display_login: string\n  repo_name: string\n  placeholder_ksuid: string\n  is_custom_pattern: boolean\n  limited_user_bypass_experience_only: boolean\n  push_protection_custom_message?: PushProtectionCustomMessage\n  repo_has_secret_scanning_experience: boolean\n  first_secret_location?: SecretLocation\n  use_delegated_bypass_flow: boolean\n  rule_suite_id?: number\n}\n\nexport type PushProtectionOwnerType = 'organization' | 'enterprise'\n\nexport interface PushProtectionCustomMessage {\n  message: string\n  owner_name: string\n  owner_type: PushProtectionOwnerType\n}\n\nexport interface SecretLocation {\n  start_line: number\n  end_line: number\n  start_line_byte_position: number\n  end_line_byte_position: number\n}\n\nexport const enum BypassReason {\n  FalsePositive = 'false_positive',\n  UsedInTests = 'used_in_tests',\n  WillFixLater = 'will_fix_later',\n}\n","// Gets the length of code-points from a String.\n//\n// This is different to `string.length` which returns the amount of utf-8\n// bytes, which is a different metric as - for example - the poo emoji is 2\n// utf-8 bytes, but 1 unicode code point.\n//\n// See http://blog.jonnew.com/posts/poo-dot-length-equals-two for more.\nexport function getUtf8StringLength(str: string): number {\n  const joiner = '\\u200D'\n  const split = str.split(joiner)\n  let count = 0\n\n  for (const s of split) {\n    // removing the variation selectors\n    const num = Array.from(s.split(/[\\ufe00-\\ufe0f]/).join('')).length\n    count += num\n  }\n\n  // assuming the joiners are used appropriately\n  return count / split.length\n}\n/**\n * Replace text in a textarea with a new string and\n * place the cursor at the selectionEnd position.\n * @param textarea an `<input>` or `<textarea>` element\n * @param oldText The text to replace\n * @param newText The new text to replace with\n * @param isFocused whether the textarea is currently in focus\n * @returns The new text\n */\nexport function replaceText(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  oldText: string,\n  newText: string,\n  isFocused = true,\n): string {\n  let beginning = textarea.value.substring(0, textarea.selectionEnd || 0)\n  let remaining = textarea.value.substring(textarea.selectionEnd || 0)\n  beginning = beginning.replace(oldText, newText)\n  remaining = remaining.replace(oldText, newText)\n\n  setTextareaValueAndCursor(textarea, beginning + remaining, beginning.length, isFocused)\n\n  return newText\n}\n\n/**\n * Replace selected text in a textarea with a new string.\n * If the selection is empty, the old text is replaced by the\n * new text in the whole textarea.\n * @param textarea an `<input>` or `<textarea>` element\n * @param oldText The text to replace\n * @param newText The new text to replace with\n * @returns The new text\n */\nexport function replaceSelection(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  oldText: string,\n  newText: string,\n): string {\n  if (textarea.selectionStart === null || textarea.selectionEnd === null) {\n    return replaceText(textarea, oldText, newText)\n  }\n  const beginning = textarea.value.substring(0, textarea.selectionStart)\n  const remaining = textarea.value.substring(textarea.selectionEnd)\n\n  setTextareaValueAndCursor(textarea, beginning + newText + remaining, beginning.length)\n\n  return newText\n}\n\ntype InsertOptions = {\n  appendNewline?: boolean\n}\n/**\n * Inserts text into a text input and moves the cursor appropriately.\n * If the cursor happens to be in the middle of a line, or the textarea isn't empty,\n * we add a newline character before the inserted text. We also advance the cursor\n * appropriately\n * @param textarea an `<input>` or `<textarea>` element\n * @param text The text to add\n * @param appendNewline optionally adds a `\\n` character after `text`\n */\nexport function insertText(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  text: string,\n  options: InsertOptions = {},\n): string {\n  const point = textarea.selectionEnd || 0\n  const beginning = textarea.value.substring(0, point)\n  const remaining = textarea.value.substring(point)\n  const newline = textarea.value === '' || beginning.match(/\\n$/) ? '' : '\\n'\n  const trailingNewline = options.appendNewline ? '\\n' : ''\n  const insertedText = newline + text + trailingNewline\n\n  textarea.value = beginning + insertedText + remaining\n  const newPoint = point + insertedText.length\n  textarea.selectionStart = newPoint\n  textarea.selectionEnd = newPoint\n  textarea.dispatchEvent(new CustomEvent('change', {bubbles: true, cancelable: false}))\n  textarea.focus()\n  return insertedText\n}\n\n/**\n * Helper function to set the value of a textarea and move the cursor to a given position.\n * Emits a `change` event.\n * @param textarea an `<input>` or `<textarea>` element\n * @param value The new value\n * @param cursor The position to move the cursor to\n * @param isFocused whether the textarea is currently in focus\n */\nfunction setTextareaValueAndCursor(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  value: string,\n  cursor: number,\n  isFocused = true,\n) {\n  textarea.value = value\n\n  if (isFocused) {\n    textarea.selectionStart = cursor\n    textarea.selectionEnd = cursor\n  }\n\n  textarea.dispatchEvent(new CustomEvent('change', {bubbles: true, cancelable: false}))\n}\n\n// Returns the character index for a given byte position, taking character encoding into account\n// Example usage for this method: highlighing text in a textarea that may contain non-UTF8 characters\n//\n// For context, in Javascript, strings are UTF16. However, Codemirror uses simple Javascript\n// indexing, that isn't Unicode aware. This leads to incorrect highlighting.\n//\n// For example, '' is represented as 4 bytes. In Javascript, it has length 2\n// and is composed of a surrogate pair (2 code points). ''.length is 2.\n// Given text string such as 'hello  world', this would be represented in hex as:\n// \n// 00000000 68 65 6c 6c 6f 20 f0 9f  92 a9 20 77 6f 72 6c 64 hello  world\n// \n// The string 'world' appears at byte positions (11, 16), but in Javascript `str.slice(11, 16)` returns 'rld'.\n// The correct position in Javascript, and codemirror, would be: (9, 14).\n//\n// When encoded using `TextEncoder#encodeInto` with '', we'd get an object with\n// the following properties: {written: 4, read: 2}. This discrepancy informs us\n// that we need to offset the start and end positions by 2.\nexport function GetCharIndexFromBytePosition(str: string, pos: number): number {\n  // The string iterator [...str] is unicode aware, and allows us to correctly\n  // iterate over each grapheme in the string. Iterating over `str[i]` would\n  // not work, as it separates the astral symbol into each of its surrogates.\n  const contents = [...str]\n  const encoder = new TextEncoder()\n\n  // Astral code points in Javascript are a surrogate pair of 2 UTF16 code units, or 4 bytes\n  const u8array = new Uint8Array(4)\n\n  for (let i = 0; i < contents.length; i++) {\n    const char = contents[i]!\n    const {written, read} = encoder.encodeInto(char, u8array)\n    if (!written || !read) {\n      return -1\n    }\n    const diff = written - read\n    if (diff === 0) {\n      continue\n    }\n\n    if (i < pos) {\n      pos -= diff\n    }\n\n    if (i >= pos) {\n      break\n    }\n  }\n\n  return pos\n}\n","import {verifiedFetch} from '@github-ui/verified-fetch'\nimport {CheckIcon} from '@primer/octicons-react'\nimport {Box, Button, Dialog, Flash, Octicon} from '@primer/react'\nimport React, {useEffect, useState} from 'react'\nimport {useQuery} from '@tanstack/react-query'\n\n// eslint-disable-next-line no-restricted-imports\nimport {CodeEditorExtensions as SecretScanningPushProtection} from '../../../github/secret-scanning/push-protection'\nimport {AllowSecretBody} from './AllowSecretBody'\nimport {type BypassMetadata, BypassReason} from '@github-ui/secret-scanning'\nimport {promotePushProtectionBypassPath, requestPushProtectionBypassPath} from '../../paths'\n\ninterface IBypassSecretData {\n  value: string\n  reason: string\n  parent_action: string\n  bypass_placeholder_ksuid: string\n}\n\nexport function SecretDetectedDialogBlob({\n  bypassMetadata,\n  content,\n  helpUrl,\n}: {\n  bypassMetadata: BypassMetadata\n  content: string\n  helpUrl: string\n}) {\n  const [isOpen, setIsOpen] = useState(true)\n  const closeOverlay = () => setIsOpen(false)\n\n  const [selectedRadioValue, setSelectedRadioValue] = React.useState('')\n  const handleRadioGroupChange = (selected: string | null) => {\n    setSelectedRadioValue(selected ?? '')\n  }\n\n  const promoteBypassPath = promotePushProtectionBypassPath({\n    ownerDisplayLogin: bypassMetadata.owner_display_login,\n    repoName: bypassMetadata.repo_name,\n    ksuid: bypassMetadata.placeholder_ksuid,\n  })\n\n  const requestBypassPath = requestPushProtectionBypassPath({\n    ownerDisplayLogin: bypassMetadata.owner_display_login,\n    repoName: bypassMetadata.repo_name,\n    ksuid: bypassMetadata.placeholder_ksuid,\n    ruleSuiteId: bypassMetadata.rule_suite_id || 0,\n  })\n\n  const {\n    isSuccess: unblockSecretSuccess,\n    isError: unblockSecretFailed,\n    refetch: bypassSecret,\n  } = useQuery({\n    // eslint-disable-next-line @tanstack/query/exhaustive-deps\n    queryKey: [bypassMetadata, selectedRadioValue],\n    queryFn: async () => {\n      const data: IBypassSecretData = {\n        value: content,\n        reason: bypassMetadata.limited_user_bypass_experience_only ? BypassReason.WillFixLater : selectedRadioValue,\n        bypass_placeholder_ksuid: bypassMetadata.placeholder_ksuid,\n        parent_action: 'edit',\n      }\n\n      const formData = new FormData()\n      for (const [key, dataValue] of Object.entries(data)) {\n        if (dataValue !== undefined) {\n          formData.set(key, dataValue)\n        }\n      }\n\n      const result = await verifiedFetch(promoteBypassPath, {\n        method: 'post',\n        body: formData,\n        headers: {\n          Accept: 'application/json',\n        },\n      })\n\n      closeOverlay()\n\n      if (!result.ok) throw new Error('Failed to promote bypass: request failed')\n\n      return result\n    },\n    enabled: false,\n    retry: false,\n  })\n\n  useEffect(() => {\n    setIsOpen(true)\n    setSelectedRadioValue('')\n  }, [bypassMetadata])\n\n  if (bypassMetadata.first_secret_location) {\n    const codeMirrorEditorElement = document.querySelector<HTMLElement>('.js-codemirror-editor')\n    SecretScanningPushProtection.emitAnnotateDiscoveredSecretsWithLocation(\n      content,\n      bypassMetadata.first_secret_location?.start_line,\n      bypassMetadata.first_secret_location?.end_line,\n      bypassMetadata.first_secret_location?.start_line_byte_position,\n      bypassMetadata.first_secret_location?.end_line_byte_position,\n      codeMirrorEditorElement!,\n    )\n  }\n\n  return (\n    <>\n      {!unblockSecretSuccess && (\n        <Dialog\n          isOpen={isOpen}\n          onDismiss={() => setIsOpen(false)}\n          sx={{width: '546px'}}\n          aria-labelledby=\"secret-detected-header\"\n        >\n          <Box sx={{overflowY: 'auto', mt: 4}}>\n            <AllowSecretBody\n              onRadioGroupChange={handleRadioGroupChange}\n              bypassMetadata={bypassMetadata}\n              helpUrl={helpUrl}\n              onClickSecretLocationLink={closeOverlay}\n            />\n            <Box sx={{display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', m: 3}}>\n              {bypassMetadata.use_delegated_bypass_flow ? (\n                <Button variant=\"default\" as=\"a\" href={requestBypassPath} target=\"_blank\">\n                  Start request\n                </Button>\n              ) : (\n                <>\n                  <Button sx={{mr: 2}} onClick={closeOverlay}>\n                    Cancel\n                  </Button>\n                  <Button\n                    variant=\"primary\"\n                    disabled={\n                      bypassMetadata.limited_user_bypass_experience_only\n                        ? false\n                        : !selectedRadioValue || selectedRadioValue.length === 0\n                    }\n                    onClick={() => {\n                      bypassSecret()\n                    }}\n                  >\n                    Allow Secret\n                  </Button>\n                </>\n              )}\n            </Box>\n          </Box>\n        </Dialog>\n      )}\n      {unblockSecretSuccess && (\n        <Flash variant=\"success\" sx={{mb: 3}}>\n          <Octicon icon={CheckIcon} />\n          Secret allowed. You can now commit these changes.\n        </Flash>\n      )}\n      {unblockSecretFailed && (\n        <Flash variant=\"danger\" sx={{mb: 3}}>\n          An error occurred when allowing your secret. Please try again.\n        </Flash>\n      )}\n    </>\n  )\n}\n\ntry{ SecretDetectedDialogBlob.displayName ||= 'SecretDetectedDialogBlob' } catch {}","import {Button, Flash, Link} from '@primer/react'\n\nexport function CitationFileBanner({\n  citationHelpUrl,\n  repositoryCitationTemplateUrl,\n  setContent,\n}: {\n  citationHelpUrl: string\n  repositoryCitationTemplateUrl: string\n  setContent: (content: string) => void\n}) {\n  const getTemplate = async () => {\n    const result = await fetch(repositoryCitationTemplateUrl, {headers: {'X-Requested-With': 'XMLHttpRequest'}})\n\n    setContent(await result.text())\n  }\n\n  return (\n    <Flash sx={{alignItems: 'center', display: 'flex', justifyContent: 'space-between', mb: 3}}>\n      <div>\n        Adding a <strong>CITATION.cff</strong> file helps users to easily cite your software from the repository\n        overview. &nbsp;\n        <Link inline href={citationHelpUrl}>\n          Learn more about CITATION files.\n        </Link>\n      </div>\n      <Button onClick={getTemplate} sx={{mr: 2}}>\n        Insert example\n      </Button>\n    </Flash>\n  )\n}\n\ntry{ CitationFileBanner.displayName ||= 'CitationFileBanner' } catch {}","import {Flash, Label, Link} from '@primer/react'\n\nexport function CustomSlashCommandsBanner({customSlashCommandsDocsUrl}: {customSlashCommandsDocsUrl: string}) {\n  return (\n    <Flash sx={{mb: 3}}>\n      <Label variant=\"success\" sx={{mr: 2}}>\n        Alpha\n      </Label>\n      Looks like this file is a custom slash command. Need help? Check out the{' '}\n      <Link inline href={customSlashCommandsDocsUrl}>\n        documentation\n      </Link>\n      .\n    </Flash>\n  )\n}\n\ntry{ CustomSlashCommandsBanner.displayName ||= 'CustomSlashCommandsBanner' } catch {}","import {Flash, Link} from '@primer/react'\n\nexport function FundingBanner({\n  repositoryFundingLinksEnabled,\n  editRepoPath,\n  helpPath,\n}: {\n  repositoryFundingLinksEnabled: boolean\n  editRepoPath: string\n  helpPath: string\n}) {\n  return (\n    <Flash sx={{mb: 3}}>\n      <p>\n        <code>.github/FUNDING.yml</code> shows the community how to support this project. Please see our{' '}\n        <Link inline href={`${helpPath}/articles/displaying-a-sponsor-button-in-your-repository`}>\n          repository funding links documentation\n        </Link>\n        {\" for more information on formatting and what is and isn't allowed in this file.\"}\n      </p>\n\n      {!repositoryFundingLinksEnabled && (\n        <p>\n          Please note that funding links are currently <em>disabled</em> on this repository. Visit{' '}\n          <Link inline href={editRepoPath}>\n            repository settings\n          </Link>\n          {' to enable display of your funding links.'}\n        </p>\n      )}\n    </Flash>\n  )\n}\n\ntry{ FundingBanner.displayName ||= 'FundingBanner' } catch {}","import {Flash, Label, Link} from '@primer/react'\n\nconst ISSUE_FORM_HELP_URL =\n  '/communities/using-templates-to-encourage-useful-issues-and-pull-requests/configuring-issue-templates-for-your-repository#creating-issue-forms'\nconst ISSUE_TEMPLATE_CONFIG_URL =\n  '/articles/configuring-issue-templates-for-your-repository#configuring-the-template-chooser'\nconst ISSUE_TEMPLATE_HELP_URL = '/articles/about-issue-and-pull-request-templates'\n\nexport function IssueTemplateConfigBanner({helpUrl}: {helpUrl: string}) {\n  return (\n    <Flash sx={{mb: 3}}>\n      Looks like this file is an <strong>issue template config</strong>. Need help? Check out the{' '}\n      <Link inline href={`${helpUrl}${ISSUE_TEMPLATE_CONFIG_URL}`}>\n        documentation.\n      </Link>\n    </Flash>\n  )\n}\n\nexport function IssueTemplateLegacyBanner({helpUrl}: {helpUrl: string}) {\n  return (\n    <Flash sx={{mb: 3}} variant=\"warning\">\n      You are using an old version of issue templates. Please update to the new issue template workflow.{' '}\n      <Link inline href={`${helpUrl}${ISSUE_TEMPLATE_HELP_URL}`}>\n        Learn more about issue templates.\n      </Link>\n    </Flash>\n  )\n}\n\nexport function IssueTemplateValidBanner({helpUrl, filePath}: {helpUrl: string; filePath: string}) {\n  const isIssueForm = filePath.endsWith('.yml') || filePath.endsWith('.yaml')\n\n  const issueHelpUrl = `${helpUrl}${isIssueForm ? ISSUE_FORM_HELP_URL : ISSUE_TEMPLATE_HELP_URL}`\n\n  return (\n    <Flash sx={{mb: 3}}>\n      {isIssueForm && (\n        <Label sx={{mr: 2}} variant=\"success\">\n          Beta\n        </Label>\n      )}\n      Looks like this file is an issue template. Need help?{' '}\n      <Link inline href={issueHelpUrl}>\n        Learn more about issue templates.\n      </Link>{' '}\n      {isIssueForm && (\n        <Link href=\"https://github.com/github/feedback/discussions/categories/issues-feedback\">Give feedback.</Link>\n      )}\n    </Flash>\n  )\n}\n\ntry{ IssueTemplateConfigBanner.displayName ||= 'IssueTemplateConfigBanner' } catch {}\ntry{ IssueTemplateLegacyBanner.displayName ||= 'IssueTemplateLegacyBanner' } catch {}\ntry{ IssueTemplateValidBanner.displayName ||= 'IssueTemplateValidBanner' } catch {}","import {Flash} from '@primer/react'\n\nexport function LeadingOrTrailingWhitespaceBanner() {\n  return (\n    <Flash variant=\"warning\" className=\"mb-3\">\n      Parent directory contains leading or trailing whitespace.\n    </Flash>\n  )\n}\n\ntry{ LeadingOrTrailingWhitespaceBanner.displayName ||= 'LeadingOrTrailingWhitespaceBanner' } catch {}","import {AlertIcon} from '@primer/octicons-react'\nimport {Flash, Octicon} from '@primer/react'\n\nexport function MixedLineEndingsBanner() {\n  return (\n    <Flash variant=\"warning\" sx={{mb: 3}}>\n      <Octicon icon={AlertIcon} />\n      Weve detected the file has mixed line endings. When you commit changes we will normalize them to{' '}\n      <strong>Windows-style</strong> (<kbd>CR</kbd>\n      <kbd>LF</kbd>).\n    </Flash>\n  )\n}\n\ntry{ MixedLineEndingsBanner.displayName ||= 'MixedLineEndingsBanner' } catch {}","import {Flash} from '@primer/react'\n\ninterface ReadmeCalloutBannerProps {\n  name: string\n  owner: string\n}\n\nexport function ProfileReadmeBanner({name, owner}: ReadmeCalloutBannerProps) {\n  return (\n    <Flash variant=\"success\" sx={{mb: 3}}>\n      <strong>{`${owner}/${name}`}</strong> is a special repository: its <code>README.md</code> will appear on your\n      profile!\n    </Flash>\n  )\n}\n\nexport function OrgProfileReadmeBanner({name, owner}: ReadmeCalloutBannerProps) {\n  return (\n    <Flash variant=\"success\" sx={{mb: 3}}>\n      <strong>{`${owner}/${name}`}</strong> is a special repository: this <code>README.md</code> will appear on your\n      public organization profile, visible to anyone.\n    </Flash>\n  )\n}\n\nexport function OrgMemberProfileReadmeBanner({name, owner}: ReadmeCalloutBannerProps) {\n  return (\n    <Flash variant=\"success\" sx={{mb: 3}}>\n      <strong>{`${owner}/${name}`}</strong> is a special repository: this <code>README.md</code> will appear on your\n      organization member profile, visible only to organization members.\n    </Flash>\n  )\n}\n\ntry{ ProfileReadmeBanner.displayName ||= 'ProfileReadmeBanner' } catch {}\ntry{ OrgProfileReadmeBanner.displayName ||= 'OrgProfileReadmeBanner' } catch {}\ntry{ OrgMemberProfileReadmeBanner.displayName ||= 'OrgMemberProfileReadmeBanner' } catch {}","import {AlertIcon} from '@primer/octicons-react'\nimport {Flash, Octicon} from '@primer/react'\n\nexport function TranscodingBanner({detectedEncoding}: {detectedEncoding: string}) {\n  return (\n    <Flash variant=\"warning\" sx={{mb: 3}}>\n      <Octicon icon={AlertIcon} />\n      Weve detected the file encoding as <strong>{detectedEncoding}</strong>. When you commit changes we will transcode\n      it to <strong>UTF-8</strong>.\n    </Flash>\n  )\n}\n\ntry{ TranscodingBanner.displayName ||= 'TranscodingBanner' } catch {}","import {useReposAppPayload} from '@github-ui/code-view-shared/contexts/FilesPageInfoContext'\nimport type {EditInfo, WebCommitInfo} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport type {BypassMetadata} from '@github-ui/secret-scanning'\nimport {QueryClient, QueryClientProvider} from '@tanstack/react-query'\n\nimport {SecretDetectedDialogBlob} from '../../../../secret-scanning/components/allow-secret/SecretDetectedDialogBlob'\nimport {CitationFileBanner} from './CitationFileBanner'\nimport {CustomSlashCommandsBanner} from './CustomSlashCommandsBanner'\nimport {EditingForkBanner} from './EditingForkBanner'\nimport {FundingBanner} from './FundingBanner'\nimport {IssueTemplateConfigBanner, IssueTemplateLegacyBanner, IssueTemplateValidBanner} from './IssueTemplateBanners'\nimport {LeadingOrTrailingWhitespaceBanner} from './LeadingOrTrailingWhitespaceBanner'\nimport {MixedLineEndingsBanner} from './MixedLineEndingsBanner'\nimport {OrgMemberProfileReadmeBanner, OrgProfileReadmeBanner, ProfileReadmeBanner} from './ReadmeCalloutBanners'\nimport {TranscodingBanner} from './TranscodingBanner'\n\nconst queryClient = new QueryClient()\n\nexport function BlobEditorBanners({\n  content,\n  editInfo,\n  webCommitInfo,\n  filePath,\n  fileName,\n  hasLeadingOrTrailingWhitespaceInPath,\n  isIssueTemplate,\n  isLegacyIssueTemplate,\n  secretDetected,\n  secretBypassMetadata,\n  onSetContent,\n}: {\n  content: string\n  editInfo: EditInfo\n  webCommitInfo: WebCommitInfo\n  fileName: string\n  filePath: string\n  hasLeadingOrTrailingWhitespaceInPath: boolean\n  isIssueTemplate: boolean\n  isLegacyIssueTemplate: boolean\n  secretDetected: boolean\n  secretBypassMetadata?: BypassMetadata\n  onSetContent: (content: string) => void\n}) {\n  const repo = useCurrentRepository()\n  const {helpUrl} = useReposAppPayload()\n\n  const banners = editInfo.banners\n\n  const showFundingBanner = banners.sponsorsEnabled && fileName.match(/^funding\\.yml$/i)\n\n  const showIssueTemplateConfigBanner = filePath.match(/^(\\.github\\/ISSUE_TEMPLATE\\/config($|\\.(yml|yaml)$))/)\n\n  const citationRegex = new RegExp('^CITATION.cff$', 'i')\n  const showCitationBanner = citationRegex.test(filePath)\n\n  const readmeRegex = new RegExp('^README.md$', 'i')\n  const profileReadmeRegex = new RegExp('^profile/README.md$', 'i')\n\n  const showCustomSlashCommandsBanner =\n    editInfo.customSlashCommandsEnabled && filePath.match(/^(\\.github\\/commands\\/.+\\.(yaml|yml))/i)\n\n  const showProfileReadmeCallout = banners.profileReadmeCalloutEnabled && readmeRegex.test(fileName)\n  const showOrgProfileReadmeCallout = banners.orgProfileReadmeCalloutEnabled && profileReadmeRegex.test(filePath)\n  const showOrgMemberProfileReadmeCallout =\n    banners.orgMemberProfileReadmeCalloutEnabled && profileReadmeRegex.test(filePath)\n\n  return (\n    <>\n      {webCommitInfo.forkedRepo && (\n        <EditingForkBanner forkName={webCommitInfo.forkedRepo.name} forkOwner={webCommitInfo.forkedRepo.owner} />\n      )}\n\n      {banners.replacedDetectedEncoding && <TranscodingBanner detectedEncoding={banners.replacedDetectedEncoding} />}\n      {banners.hasMixedLineEndings && <MixedLineEndingsBanner />}\n\n      {showCitationBanner && (\n        <CitationFileBanner\n          citationHelpUrl={banners.citationHelpUrl}\n          repositoryCitationTemplateUrl={banners.repositoryCitationTemplateUrl}\n          setContent={onSetContent}\n        />\n      )}\n\n      {showFundingBanner && (\n        <FundingBanner\n          editRepoPath={banners.editRepoPath}\n          helpPath={helpUrl}\n          repositoryFundingLinksEnabled={banners.repositoryFundingLinksEnabled}\n        />\n      )}\n\n      {showCustomSlashCommandsBanner && (\n        <CustomSlashCommandsBanner customSlashCommandsDocsUrl={editInfo.customSlashCommandsDocsUrl} />\n      )}\n\n      {showIssueTemplateConfigBanner && <IssueTemplateConfigBanner helpUrl={editInfo.helpUrl} />}\n      {isIssueTemplate ? (\n        <IssueTemplateValidBanner helpUrl={editInfo.helpUrl} filePath={filePath} />\n      ) : isLegacyIssueTemplate ? (\n        <IssueTemplateLegacyBanner helpUrl={editInfo.helpUrl} />\n      ) : null}\n\n      {showProfileReadmeCallout && <ProfileReadmeBanner name={repo.name} owner={repo.ownerLogin} />}\n      {showOrgProfileReadmeCallout && <OrgProfileReadmeBanner name={repo.name} owner={repo.ownerLogin} />}\n      {showOrgMemberProfileReadmeCallout && <OrgMemberProfileReadmeBanner name={repo.name} owner={repo.ownerLogin} />}\n      {secretDetected && secretBypassMetadata && (\n        <QueryClientProvider client={queryClient}>\n          <SecretDetectedDialogBlob content={content} bypassMetadata={secretBypassMetadata} helpUrl={helpUrl} />\n        </QueryClientProvider>\n      )}\n      {hasLeadingOrTrailingWhitespaceInPath && <LeadingOrTrailingWhitespaceBanner />}\n    </>\n  )\n}\n\ntry{ BlobEditorBanners.displayName ||= 'BlobEditorBanners' } catch {}","import type {CodeMirrorSpacingOptions} from '@github-ui/code-view-types'\nimport {Box, FormControl, Select} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport type React from 'react'\nimport {useState} from 'react'\n\nexport const defaultCodeMirrorSpacingOptions: CodeMirrorSpacingOptions = {\n  indentSize: '2',\n  indentMode: 'space',\n  lineWrapping: 'off',\n}\n\ninterface CodeMirrorSpacingControlsProps {\n  options: CodeMirrorSpacingOptions\n  onChange: (options: CodeMirrorSpacingOptions) => void\n  sx?: Record<string, unknown>\n  formControlSx?: CodeMirrorIndentModeControlProps['sx']\n}\n\nexport function CodeMirrorSpacingControls({options, onChange, sx, formControlSx}: CodeMirrorSpacingControlsProps) {\n  const [indentMode, setIndentMode] = useState(options.indentMode)\n  const [indentSize, setIndentSize] = useState(options.indentSize)\n  const [lineWrapping, setLineWrapping] = useState(options.lineWrapping)\n\n  const onIndentModeChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const updatedIndentMode = event.target.value as CodeMirrorSpacingOptions['indentMode']\n    setIndentMode(updatedIndentMode)\n    onChange({indentMode: updatedIndentMode, indentSize, lineWrapping})\n  }\n\n  const onIndentSizeChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const updatedIndentSize = event.target.value as CodeMirrorSpacingOptions['indentSize']\n    setIndentSize(updatedIndentSize)\n    onChange({indentMode, indentSize: updatedIndentSize, lineWrapping})\n  }\n\n  const onLineWrappingChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const updatedLineWrapping = event.target.value as CodeMirrorSpacingOptions['lineWrapping']\n    setLineWrapping(updatedLineWrapping)\n    onChange({indentMode, indentSize, lineWrapping: updatedLineWrapping})\n  }\n\n  return (\n    <Box sx={{justifySelf: 'flex-end', display: 'flex', gap: 2, ...sx}}>\n      <CodeMirrorSpacingControl\n        onChange={onIndentModeChange}\n        value={indentMode}\n        label=\"Indent mode\"\n        options={[\n          {value: 'spaces', label: 'Spaces'},\n          {value: 'tab', label: 'Tabs'},\n        ]}\n        sx={formControlSx}\n      />\n      <CodeMirrorSpacingControl\n        onChange={onIndentSizeChange}\n        value={indentSize}\n        label=\"Indent size\"\n        options={[\n          {value: '2', label: '2'},\n          {value: '4', label: '4'},\n          {value: '8', label: '8'},\n        ]}\n        sx={formControlSx}\n      />\n      <CodeMirrorSpacingControl\n        onChange={onLineWrappingChange}\n        value={lineWrapping}\n        label=\"Line wrap mode\"\n        options={[\n          {value: 'off', label: 'No wrap'},\n          {value: 'on', label: 'Soft wrap'},\n        ]}\n        sx={formControlSx}\n      />\n    </Box>\n  )\n}\n\ninterface CodeMirrorIndentModeControlProps {\n  onChange: React.ChangeEventHandler<HTMLSelectElement>\n  value: string | undefined\n  label: string\n  options: Array<{value: string; label: string}>\n  sx?: BetterSystemStyleObject\n}\n\nfunction CodeMirrorSpacingControl({onChange, value, label, options, sx}: CodeMirrorIndentModeControlProps) {\n  return (\n    <FormControl sx={sx}>\n      <FormControl.Label visuallyHidden>{label}</FormControl.Label>\n      <Select size=\"small\" onChange={onChange} value={value} aria-label={label}>\n        <Select.OptGroup label={label}>\n          {options.map(option => (\n            <Select.Option key={option.value} value={option.value}>\n              {option.label}\n            </Select.Option>\n          ))}\n        </Select.OptGroup>\n      </Select>\n    </FormControl>\n  )\n}\n\ntry{ CodeMirrorSpacingControls.displayName ||= 'CodeMirrorSpacingControls' } catch {}\ntry{ CodeMirrorSpacingControl.displayName ||= 'CodeMirrorSpacingControl' } catch {}","import {ExpandButton} from '@github-ui/code-view-shared/components/ExpandButton'\nimport React from 'react'\n\ninterface ExpandPanelButtonProps {\n  expanded?: boolean\n  onToggleExpanded: () => void\n  sx?: Record<string, unknown>\n  ariaControls: string\n}\n\nexport const ExpandPanelButton = React.forwardRef(\n  (\n    {expanded, onToggleExpanded, sx, ariaControls}: ExpandPanelButtonProps,\n    ref: React.ForwardedRef<HTMLButtonElement>,\n  ) => (\n    <ExpandButton\n      expanded={expanded}\n      alignment=\"right\"\n      ariaLabel={expanded ? 'Collapse help panel' : 'Expand help panel'}\n      ariaControls={ariaControls}\n      tooltipDirection=\"nw\"\n      testid=\"help-panel-button\"\n      ref={ref}\n      onToggleExpanded={onToggleExpanded}\n      sx={sx}\n    />\n  ),\n)\n\nExpandPanelButton.displayName = 'ExpandPanelButton'\n","import {linkButtonSx} from '@github-ui/code-view-shared/utilities/styles'\nimport {Link} from '@github-ui/react-core/link'\nimport {CodeOfConductIcon} from '@primer/octicons-react'\nimport {Button, type ButtonProps} from '@primer/react'\n\nexport default function CodeOfConductSelector({url, sx}: {url: string; sx?: ButtonProps['sx']}) {\n  return (\n    <Button\n      variant=\"invisible\"\n      as={Link}\n      sx={{\n        color: 'fg.default',\n        '> span[data-component=buttonContent]': {justifyContent: 'start'},\n        ...linkButtonSx,\n        ...sx,\n      }}\n      to={url}\n      leadingVisual={CodeOfConductIcon}\n    >\n      Choose a code of conduct template\n    </Button>\n  )\n}\n\ntry{ CodeOfConductSelector.displayName ||= 'CodeOfConductSelector' } catch {}","import {GitIgnoreDropdown, type GitIgnoreDropdownProps} from '@github-ui/git-ignore-dropdown'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\ninterface Props {\n  onTemplateSelect(templateContent: string): void\n  sx?: GitIgnoreDropdownProps['buttonSx']\n}\n\nexport function GitIgnoreTemplateSelector({onTemplateSelect, sx}: Props) {\n  const [selectedTemplate, setSelectedTemplate] = useState<string>()\n\n  async function onSelect(template: string) {\n    setSelectedTemplate(template)\n    const content = await fetchTemplateContent(template)\n    content && onTemplateSelect(content)\n  }\n\n  // Reset cache on component unmount\n  useEffect(() => clearGitignoreTemplateCache, [])\n\n  return (\n    <GitIgnoreDropdown\n      selectedTemplate={selectedTemplate}\n      onSelect={onSelect}\n      buttonLabel=\"Choose .gitignore template\"\n      buttonSx={{...sx}}\n    />\n  )\n}\n\nconst templatesMap = new Map<string, string>()\n\nexport function clearGitignoreTemplateCache() {\n  templatesMap.clear()\n}\nasync function fetchTemplateContent(templateName: string): Promise<string | null> {\n  const template = templatesMap.get(templateName)\n  if (template) {\n    return template\n  }\n\n  const response = await verifiedFetchJSON(`/site/gitignore/${encodeURI(templateName)}`)\n  if (!response.ok) {\n    return null\n  }\n  try {\n    const content = await response.text()\n    templatesMap.set(templateName, content)\n    return content\n  } catch {\n    return null\n  }\n}\n\ntry{ GitIgnoreTemplateSelector.displayName ||= 'GitIgnoreTemplateSelector' } catch {}","import {linkButtonSx} from '@github-ui/code-view-shared/utilities/styles'\nimport {Link} from '@github-ui/react-core/link'\nimport {LawIcon} from '@primer/octicons-react'\nimport {Button, type ButtonProps} from '@primer/react'\n\nexport default function LicenseSelector({url, sx}: {url: string; sx?: ButtonProps['sx']}) {\n  return (\n    <Button\n      variant=\"invisible\"\n      as={Link}\n      sx={{\n        color: 'fg.default',\n        '> span[data-component=buttonContent]': {justifyContent: 'start'},\n        ...linkButtonSx,\n        ...sx,\n      }}\n      to={url}\n      leadingVisual={LawIcon}\n    >\n      Choose a license template\n    </Button>\n  )\n}\n\ntry{ LicenseSelector.displayName ||= 'LicenseSelector' } catch {}","import type {CodeMirrorSpacingOptions, EditInfo, PanelType} from '@github-ui/code-view-types'\nimport type {CopilotInfo} from '@github-ui/copilot-common-types'\nimport {CopilotPopover} from '@github-ui/copilot-popover'\nimport {Box, Checkbox, FormControl, SegmentedControl} from '@primer/react'\nimport {useMemo} from 'react'\n\nimport {blobEditSidePanelId} from './BlobEditor'\nimport {CodeMirrorSpacingControls} from './CodeMirror/CodeMirrorSpacingControls'\nimport {ExpandPanelButton} from './Panels/ExpandPanelButton'\nimport CodeOfConductSelector from './templates/CodeOfConductSelector'\nimport {GitIgnoreTemplateSelector} from './templates/GitIgnoreTemplateSelector'\nimport LicenseSelector from './templates/LicenseSelector'\n\nexport enum BlobEditorTab {\n  Edit = 0,\n  Preview = 1,\n}\n\nexport interface BlobEditHeaderProps {\n  codeMirrorSpacingOptions: CodeMirrorSpacingOptions\n  editInfo: EditInfo\n  fileName: string\n  isRichtextRenderable: boolean\n  onTabChange: (index: number) => void\n  panelIsEnabled: boolean\n  panelIsOpen: boolean\n  selectedTab: BlobEditorTab\n  setCodeMirrorSpacingOptions: (options: CodeMirrorSpacingOptions) => void\n  setOpenPanel: (panelType: PanelType | undefined) => void\n  setShowMarkdownDiff: (show: boolean) => void\n  setUpdatedFileContent: (content: string) => void\n  showMarkdownDiff: boolean\n  codeMirrorSpacingControls?: JSX.Element\n  copilotInfo?: CopilotInfo\n}\n\nexport function BlobEditHeader({\n  codeMirrorSpacingOptions,\n  editInfo,\n  fileName,\n  isRichtextRenderable,\n  onTabChange,\n  panelIsEnabled,\n  panelIsOpen,\n  selectedTab,\n  setCodeMirrorSpacingOptions,\n  setOpenPanel,\n  setShowMarkdownDiff,\n  setUpdatedFileContent,\n  showMarkdownDiff,\n  copilotInfo,\n}: BlobEditHeaderProps) {\n  const isNewFile = editInfo.isNewFile\n  const isEditing = selectedTab === BlobEditorTab.Edit\n  const isPreviewing = selectedTab === BlobEditorTab.Preview\n\n  const showLicensePicker =\n    editInfo.pickers.licensePickerAvailable && /^(licen[sc]e|copying)(-)?(-\\D+)?($|\\..)/i.test(fileName)\n\n  const showCodeOfConductPicker =\n    editInfo.pickers.codeOfConductPickerAvailable && /^(code.?of.?conduct|coc)($|\\..)/i.test(fileName)\n\n  const showGitIgnoreTemplateSelector = fileName === '.gitignore'\n  const showSpacingControls = editInfo.codeMirror?.showFileActions && isEditing\n  const showMarkdownDiffPreview = isRichtextRenderable && isPreviewing && !isNewFile\n\n  let marginRightOffset = 8 // right padding\n\n  if (panelIsEnabled) {\n    marginRightOffset = marginRightOffset + 37 // icon (32px) + flex gap (4px) + border (1px)\n  }\n\n  const panelToggleElement = useMemo(() => {\n    if (!panelIsEnabled) {\n      return undefined\n    }\n\n    return (\n      <ExpandPanelButton\n        ariaControls={blobEditSidePanelId}\n        expanded={panelIsOpen}\n        onToggleExpanded={() => setOpenPanel(panelIsOpen ? undefined : 'edit')}\n      />\n    )\n  }, [panelIsEnabled, panelIsOpen, setOpenPanel])\n\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'canvas.subtle',\n        borderBottom: '1px solid',\n        borderColor: 'border.default',\n        padding: 2,\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'nowrap',\n        justifyContent: 'space-between',\n        gap: 2,\n        borderTopLeftRadius: '6px',\n        borderTopRightRadius: '6px',\n      }}\n    >\n      <Box\n        sx={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          justifyContent: 'space-between',\n          gap: 2,\n        }}\n      >\n        <SegmentedControl\n          sx={{fontSize: 1, minHeight: '30px'}}\n          size=\"small\"\n          aria-label=\"Edit mode\"\n          onChange={onTabChange}\n        >\n          <SegmentedControl.Button selected={isEditing}>Edit</SegmentedControl.Button>\n          <SegmentedControl.Button selected={isPreviewing}>Preview</SegmentedControl.Button>\n        </SegmentedControl>\n\n        <Box\n          sx={{\n            display: ['flex', 'none'],\n            justifyContent: 'stretch',\n            flexGrow: 1,\n            borderTop: '1px solid',\n            borderColor: 'border.default',\n            width: '100%',\n            ml: -2,\n            mr: `-${marginRightOffset}px`,\n          }}\n        />\n\n        {isEditing && (\n          <>\n            {showGitIgnoreTemplateSelector && (\n              <GitIgnoreTemplateSelector\n                onTemplateSelect={setUpdatedFileContent}\n                sx={{\n                  minHeight: '30px',\n                  width: ['100%', 'auto'],\n                  '> span[data-component=buttonContent]': {justifyContent: ['start', 'center']},\n                }}\n              />\n            )}\n\n            {showLicensePicker && (\n              <LicenseSelector url={editInfo.pickers.licenseToolPath} sx={{width: ['100%', 'auto']}} />\n            )}\n\n            {showCodeOfConductPicker && (\n              <CodeOfConductSelector url={editInfo.pickers.codeOfConductToolPath} sx={{width: ['100%', 'auto']}} />\n            )}\n          </>\n        )}\n\n        <CopilotPopover copilotInfo={copilotInfo} view={'edit'} />\n\n        <Box sx={{display: ['none', 'flex'], flexGrow: 1}} />\n\n        <Box sx={{justifySelf: 'flex-end', display: 'flex', alignItems: 'center', gap: 2, width: ['100%', 'auto']}}>\n          {showMarkdownDiffPreview && (\n            <Box sx={{alignSelf: 'center', justifySelf: 'flex-end', display: 'flex'}}>\n              <FormControl>\n                <Checkbox checked={showMarkdownDiff} onChange={() => setShowMarkdownDiff(!showMarkdownDiff)} />\n                <FormControl.Label sx={{fontWeight: 'normal'}}>Show Diff</FormControl.Label>\n              </FormControl>\n            </Box>\n          )}\n\n          {showSpacingControls && (\n            <CodeMirrorSpacingControls\n              options={codeMirrorSpacingOptions}\n              onChange={setCodeMirrorSpacingOptions}\n              sx={{display: 'flex', width: ['100%', 'auto']}}\n              formControlSx={{display: ['grid', 'flex'], width: ['100%', 'auto']}}\n            />\n          )}\n        </Box>\n      </Box>\n\n      {panelToggleElement}\n    </Box>\n  )\n}\n\ntry{ BlobEditHeader.displayName ||= 'BlobEditHeader' } catch {}","import '@github/file-attachment-element'\n\nimport {useCSRFToken} from '@github-ui/use-csrf-token'\nimport {MarkdownIcon} from '@primer/octicons-react'\nimport {Octicon, Spinner, Tooltip} from '@primer/react'\nimport React from 'react'\n\nimport {buildExtensionsSentence} from '../../utilities/file-extensions'\n\ninterface FileUploadProps {\n  allowedExtensions: string[]\n  allowDragAndDrop: boolean\n  markdownDocsUrl?: string\n  repositoryId?: string | number\n  uploadPath: string\n  stickyFooter?: boolean\n  disabled?: boolean\n}\n\nexport function FileUpload({\n  allowedExtensions,\n  allowDragAndDrop,\n  children,\n  markdownDocsUrl,\n  repositoryId,\n  uploadPath,\n  stickyFooter = false,\n  disabled = false,\n}: React.PropsWithChildren<FileUploadProps>) {\n  const friendlyExtensionSentence = buildExtensionsSentence(allowedExtensions)\n  const uploadToken = useCSRFToken(uploadPath, 'post')\n  const [isFocused, setIsFocused] = React.useState(false)\n\n  return (\n    <file-attachment\n      class={!disabled ? 'js-upload-markdown-image is-default file-editor-upload react-file-upload' : undefined}\n      input={!disabled ? 'blob-dragged-file-input' : undefined}\n      data-upload-repository-id={!disabled ? repositoryId : undefined}\n      data-upload-policy-url={!disabled ? uploadPath : undefined}\n      data-upload-container-type={!disabled ? 'blob' : undefined}\n      data-upload-container-id={!disabled ? repositoryId : undefined}\n    >\n      {children}\n      <input type=\"hidden\" data-csrf=\"true\" className=\"js-data-upload-policy-url-csrf\" value={uploadToken} />\n      <label\n        hidden={disabled}\n        className={`text-normal drag-and-drop hx_drag-and-drop d-flex flex-justify-between border-0 border-top border-dashed ${\n          stickyFooter ? 'position-sticky bottom-0' : 'position-relative'\n        }  ${isFocused ? 'file-input-focused' : ''}`}\n      >\n        <input\n          id=\"blob-dragged-file-input\"\n          type={'file'}\n          accept={allowedExtensions.join(',')}\n          multiple={true}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n          className=\"manual-file-chooser manual-file-chooser-transparent top-0 right-0 bottom-0 left-0 width-full ml-0 form-control rounded-top-0\"\n        />\n        <span\n          className=\"color-bg-subtle position-absolute top-0 left-0 rounded-bottom-2 width-full height-full\"\n          style={{pointerEvents: 'none'}}\n        />\n        <span className=\"position-relative pr-2\" style={{pointerEvents: 'none'}}>\n          <span className=\"default\">\n            Attach files by {allowDragAndDrop ? 'dragging & dropping, ' : ''}selecting or pasting them.\n          </span>\n          <span className=\"loading\">\n            <Spinner size={'small'} sx={{verticalAlign: 'text-bottom', marginRight: 1}} />\n            <span className=\"js-file-upload-loading-text\" data-file-upload-message=\"Uploading your files\">\n              Uploading your files\n            </span>\n          </span>\n          <span className=\"error bad-file\">\n            We dont support that file type.\n            <span className=\"drag-and-drop-error-info\">\n              <span className=\"btn-link\">Try again</span> with a {friendlyExtensionSentence}.\n            </span>\n          </span>\n          <span className=\"error bad-permissions\">\n            Attaching documents requires write permission to this repository.\n            <span className=\"drag-and-drop-error-info\">\n              <span className=\"btn-link\">Try again</span> with a {friendlyExtensionSentence}.\n            </span>\n          </span>\n          <span className=\"error repository-required\">\n            We dont support that file type.\n            <span className=\"drag-and-drop-error-info\">\n              <span className=\"btn-link\">Try again</span> with a {friendlyExtensionSentence}.\n            </span>\n          </span>\n          <span className=\"error too-big js-upload-too-big\">\n            {/* This HTML has been moved off the render thread.\n              The error message will come from the server response\n            and be inserted in the DOM by JavaScript */}\n          </span>\n          <span className=\"error empty\">\n            This file is empty.\n            <span className=\"drag-and-drop-error-info\">\n              <span className=\"btn-link\">Try again</span> with a file thats not empty.\n            </span>\n          </span>\n          <span className=\"error hidden-file\">\n            This file is hidden.\n            <span className=\"drag-and-drop-error-info\">\n              <span className=\"btn-link\">Try again</span> with another file.\n            </span>\n          </span>\n          <span className=\"error failed-request\">\n            Something went really wrong, and we cant process that file.\n            <span className=\"drag-and-drop-error-info\">\n              <span className=\"btn-link\">Try again.</span>\n            </span>\n          </span>\n        </span>\n        <a\n          className=\"Link--muted position-relative d-inline\"\n          href={markdownDocsUrl}\n          target=\"_blank\"\n          data-ga-click=\"Markdown Toolbar, click, help\"\n          rel=\"noreferrer\"\n        >\n          <Tooltip aria-label=\"Styling with Markdown is supported\" direction=\"nw\">\n            <Octicon icon={MarkdownIcon} sx={{verticalAlign: 'text-bottom'}} />\n          </Tooltip>\n        </a>\n      </label>\n    </file-attachment>\n  )\n}\n\ntry{ FileUpload.displayName ||= 'FileUpload' } catch {}","export function buildExtensionsSentence(extensions: string[]) {\n  const friendlyExtensionNames = extensions.map((ext, index) => {\n    const friendlyName = ext.replace('.', '').toUpperCase()\n\n    if (index === extensions.length - 1 && extensions.length > 1) {\n      return `or ${friendlyName}`\n    } else {\n      return friendlyName\n    }\n  })\n\n  return friendlyExtensionNames.join(', ')\n}\n","import type {Extension} from '@codemirror/state'\nimport type {EditorView} from '@codemirror/view'\nimport {moveCursorToPositionAndScroll} from '@github-ui/code-mirror/utils'\nimport type {CodeMirrorSpacingOptions} from '@github-ui/code-view-types'\nimport {lazy, Suspense, useCallback, useMemo} from 'react'\n\nimport {LoadingFallback} from '../../SuspenseFallback'\nimport {FileUpload} from '../FileUpload'\nimport {defaultCodeMirrorSpacingOptions} from './CodeMirrorSpacingControls'\n\nconst CodeMirrorNext = lazy(() => import('@github-ui/code-mirror'))\n\nexport interface CodeMirrorOptions {\n  dragDrop?: boolean\n  indentUnit?: number\n  indentWithTabs?: boolean\n  lineWrapping?: boolean\n}\n\ninterface ReactCodeMirrorProps extends CodeMirrorOptions {\n  fileName: string\n  spacingOptions?: CodeMirrorSpacingOptions\n  value?: string\n  onChange?: (value: string) => void\n  onPreview?: () => void\n  onSave?: () => void\n  focusOnNextRender?: React.MutableRefObject<boolean>\n\n  // upload specific props\n  repositoryId?: string | number\n  markdownDocsUrl?: string\n  uploadPolicyPath: string\n  uploadExtensions: string[]\n\n  extensions?: Extension[]\n}\n\nexport const ReactCodeMirror = ({\n  value = '',\n  fileName,\n  focusOnNextRender,\n  onChange,\n  onPreview,\n  onSave,\n  repositoryId,\n  spacingOptions,\n  uploadPolicyPath,\n  uploadExtensions,\n  markdownDocsUrl,\n  extensions = [],\n}: ReactCodeMirrorProps) => {\n  const onCodeMirrorNextUpdate = useCallback(\n    (newValue: string) => {\n      if (onChange) {\n        onChange(newValue)\n      }\n    },\n    [onChange],\n  )\n\n  const onHashChange = (editor: EditorView, hash: string) => {\n    const result = /#?(?:L)(\\d+)(?:C(\\d+))?(-L(\\d+)(?:C(\\d+))?)?/gi.exec(hash)\n\n    if (!result) return\n\n    const startLine = result[1] ? parseInt(result[1]) : undefined\n    const startColumn = result[2] ? parseInt(result[2]) : undefined\n    const endLine = result[4] ? parseInt(result[4]) : undefined\n    const endColumn = result[5] ? parseInt(result[5]) : undefined\n\n    if (startLine === undefined) {\n      return\n    }\n\n    moveCursorToPositionAndScroll(editor, startLine, endLine, startColumn, endColumn)\n  }\n\n  // drag and drop and file upload are kept in sync for now\n  const fileExtension = fileName.includes('.') ? fileName.split('.').pop() ?? '' : ''\n  const fileUploadEnabled = ['md', 'markdown', 'mkd'].includes(fileExtension)\n\n  const codeMirrorSpacingOptions = {\n    indentMode: spacingOptions?.indentMode || defaultCodeMirrorSpacingOptions.indentMode!,\n    indentSize: spacingOptions?.indentSize || defaultCodeMirrorSpacingOptions.indentSize!,\n    lineWrapping: spacingOptions?.lineWrapping || defaultCodeMirrorSpacingOptions.lineWrapping!,\n  }\n\n  const codeMirrorOptions = useMemo(() => {\n    return {\n      indentUnit: parseInt(codeMirrorSpacingOptions.indentSize),\n      indentWithTabs: codeMirrorSpacingOptions.indentMode === 'tab',\n      lineWrapping: codeMirrorSpacingOptions.lineWrapping === 'on',\n      dragDrop: !fileUploadEnabled, // drag and drop is disabled when file upload is enabled\n    }\n  }, [\n    codeMirrorSpacingOptions.indentSize,\n    codeMirrorSpacingOptions.indentMode,\n    codeMirrorSpacingOptions.lineWrapping,\n    fileUploadEnabled,\n  ])\n\n  const keybindings = [\n    {\n      key: 'Shift-Mod-p',\n      run: () => {\n        onPreview?.()\n        return true\n      },\n    },\n    {\n      key: 'Mod-s',\n      run: () => {\n        onSave?.()\n        return true\n      },\n    },\n  ]\n\n  let hashChangeListener: () => void\n\n  return (\n    <FileUpload\n      allowDragAndDrop={true}\n      allowedExtensions={uploadExtensions}\n      markdownDocsUrl={markdownDocsUrl}\n      repositoryId={repositoryId}\n      uploadPath={uploadPolicyPath}\n      stickyFooter={true}\n      disabled={!fileUploadEnabled}\n    >\n      <Suspense fallback={<LoadingFallback />}>\n        <span id=\"codemirror-label\" className=\"sr-only\">{`Editing ${fileName} file contents`}</span>\n        <CodeMirrorNext\n          value={value}\n          fileName={fileName}\n          onChange={onCodeMirrorNextUpdate}\n          ariaLabelledBy=\"codemirror-label\"\n          spacing={codeMirrorOptions}\n          enableFileUpload={fileUploadEnabled}\n          extensions={extensions}\n          isHpc={true}\n          keyBindings={keybindings}\n          focusNextRenderRef={focusOnNextRender}\n          onCreateEditor={editor => {\n            if (!editor.hasFocus) {\n              editor.focus()\n            }\n\n            hashChangeListener = () => {\n              onHashChange(editor, window.location.hash)\n            }\n\n            window.addEventListener('hashchange', hashChangeListener)\n            onHashChange(editor, window.location.hash)\n          }}\n          onDestroyEditor={() => {\n            window.removeEventListener('hashchange', hashChangeListener)\n          }}\n        />\n      </Suspense>\n    </FileUpload>\n  )\n}\n\ntry{ CodeMirrorNext.displayName ||= 'CodeMirrorNext' } catch {}\ntry{ ReactCodeMirror.displayName ||= 'ReactCodeMirror' } catch {}","import type {DiffLine, DiffLines} from '@github-ui/code-view-types'\nimport {lineAnchorFrom, lineOrientationFrom} from '@github-ui/diffs/diff-line-helpers'\nimport {DiffLinePart, EmptyDiffLine, HunkHeaderDiffLine} from '@github-ui/diffs/DiffParts'\nimport type {DiffAnchor} from '@github-ui/diffs/types'\n\nexport function DiffPreview({diffData, fileName}: {diffData: DiffLines[]; fileName: string}) {\n  const fileAnchor: DiffAnchor = `diff-${fileName}`\n\n  return (\n    <table>\n      <tbody>\n        {diffData[0]!.leftLine.left === 0 && diffData[0]!.rightLine.right === 0 && <tr />}\n        {diffData.map((line, index) => {\n          return (\n            <tr key={index}>\n              {renderLine(fileAnchor, true, true, line.leftLine)}\n              {renderLine(fileAnchor, false, true, line.rightLine)}\n            </tr>\n          )\n        })}\n        {!diffData[diffData.length - 1]!.leftLine.noNewLine && !diffData[diffData.length - 1]!.rightLine.noNewLine && (\n          <tr>\n            <HunkHeaderDiffLine\n              currentLine={{\n                left: null,\n                right: null,\n                type: 'HUNK',\n                html: '',\n              }}\n              isLeftColumn={true}\n              isSplit={true}\n            />\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nfunction renderLine(fileAnchor: DiffAnchor, isLeftColumn: boolean, isSplit: boolean, line: DiffLine) {\n  const lineOrientation = isSplit && isLeftColumn ? 'left' : lineOrientationFrom(line.type)\n  const lineNumber = lineOrientation === 'left' ? line.left : line.right\n  const lineAnchor = lineAnchorFrom(fileAnchor, lineOrientation, lineNumber ?? 0)\n\n  switch (line.type) {\n    case 'EMPTY':\n      return <EmptyDiffLine isLeftColumn={isLeftColumn} />\n    case 'HUNK':\n      return <HunkHeaderDiffLine currentLine={line} isLeftColumn={isLeftColumn} isSplit={isSplit} />\n    case 'ADDITION':\n    case 'DELETION':\n    case 'CONTEXT':\n    case 'INJECTED_CONTEXT':\n      return <DiffLinePart isLeftColumn={isLeftColumn} isSplit={isSplit} line={line} lineAnchor={lineAnchor} />\n    default:\n      throw new Error(`cannot handle type ${line.type}`)\n  }\n}\n\ntry{ DiffPreview.displayName ||= 'DiffPreview' } catch {}","import {useReposAppPayload} from '@github-ui/code-view-shared/contexts/FilesPageInfoContext'\nimport type {FundingData} from '@github-ui/code-view-types'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\nimport {ownerAvatarPath, ownerPath} from '@github-ui/paths'\nimport {HeartIcon, LinkIcon} from '@primer/octicons-react'\nimport {Box, Button, Flash, Link, Octicon, Text} from '@primer/react'\n\nconst NON_SPONSORABLE_ERROR = 'Some users provided are not enrolled in GitHub Sponsors.'\n\nexport interface FundingDialogProps {\n  fileName: string\n  fundingData: FundingData\n}\n\nexport function FundingDialog({fileName, fundingData}: FundingDialogProps) {\n  const {helpUrl} = useReposAppPayload()\n\n  const useCondensedLayout = fundingData.sponsorableUsers.length > 1\n\n  return (\n    <Box\n      sx={{\n        width: '448px',\n        marginRight: 'auto',\n        marginLeft: 'auto',\n\n        borderLeft: '1px solid',\n        borderRight: '1px solid',\n        borderColor: 'border.default',\n      }}\n    >\n      <Box sx={{px: 3, pt: 3}}>\n        {fundingData.errors.length ? (\n          <Flash variant=\"danger\" sx={{mb: 3, py: 4}}>\n            <p>Some errors were encountered when parsing the {fileName} file:</p>\n            <Box as=\"ul\" sx={{listStyleType: 'circle', ml: 4}}>\n              {fundingData.errors.map((error, index) => (\n                <li key={index}>\n                  <span>{error}</span>\n                  {error === NON_SPONSORABLE_ERROR && (\n                    <>\n                      {' '}\n                      <Link href=\"/sponsors/accounts\">Apply to Sponsors.</Link>\n                    </>\n                  )}\n                </li>\n              ))}\n            </Box>\n            <Box as=\"p\" sx={{mt: 2}}>\n              <Link inline href={`${helpUrl}/articles/displaying-a-sponsor-button-in-your-repository`}>\n                Learn more about formatting {fileName}\n              </Link>\n              .\n            </Box>\n          </Flash>\n        ) : (\n          !fundingData.hasValidPlatform && (\n            <Flash variant=\"danger\" sx={{mb: 3}}>\n              <p>The {fileName} file does not currently contain valid funding links.</p>\n              <Box as=\"p\" sx={{mt: 2}}>\n                <Link inline href={`${helpUrl}/articles/displaying-a-sponsor-button-in-your-repository`}>\n                  Learn more about formatting {fileName}\n                </Link>\n                .\n              </Box>\n            </Flash>\n          )\n        )}\n        <Box sx={{display: 'flex', flexDirection: 'column'}}>\n          {(fundingData.sponsorableOrg || fundingData.sponsorableUsers.length !== 0) && (\n            <Box sx={{display: 'flex', flexDirection: 'column'}}>\n              <Box sx={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between', mb: 3}}>\n                <h5>GitHub Sponsors</h5>\n                <Link href=\"/sponsors\">Learn more</Link>\n              </Box>\n              {fundingData.sponsorableOrg && <GiHubFundingComponent name={fundingData.sponsorableOrg} isOrg />}\n              <Box sx={useCondensedLayout ? {display: 'flex', flexWrap: 'wrap', mx: -2} : undefined}>\n                {fundingData.sponsorableUsers.map((user, index) => (\n                  <GiHubFundingComponent key={index} name={user} condensed={useCondensedLayout} />\n                ))}\n              </Box>\n            </Box>\n          )}\n          {fundingData.externalAccounts.length !== 0 && (\n            <>\n              <Text as=\"h5\" sx={{mb: 3}}>\n                External links\n              </Text>\n              {fundingData.externalAccounts.map((link, index) => (\n                <Box key={index} sx={{display: 'flex', mb: 3}}>\n                  <Box\n                    sx={{\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      boxSizing: 'border-box',\n                      border: '1px solid',\n                      borderColor: 'border.default',\n                      borderRadius: 3,\n                      display: 'flex',\n                      mr: 2,\n                      width: '24px',\n                      height: '24px',\n                    }}\n                  >\n                    {link.platform !== 'Custom' ? (\n                      <Box\n                        as=\"img\"\n                        src={`/images/modules/site/icons/funding_platforms/${link.platform.toLocaleLowerCase()}.svg`}\n                        alt={link.platform}\n                        sx={{width: '16px', height: '16px', display: 'block'}}\n                      />\n                    ) : (\n                      <Octicon size={16} icon={LinkIcon} sx={{color: 'fg.muted'}} />\n                    )}\n                  </Box>\n                  <Link href={link.link}>{link.link}</Link>\n                </Box>\n              ))}\n            </>\n          )}\n        </Box>\n      </Box>\n      <Box sx={{p: 3, fontSize: 0, borderTop: '1px solid', borderColor: 'border.default', boxSizing: 'border-box'}}>\n        <>\n          <Link inline href={`${helpUrl}/articles/displaying-a-sponsor-button-in-your-repository`}>\n            Learn more about funding links in repositories\n          </Link>\n          .\n        </>\n        {fundingData.reportAbuseLink && (\n          <Link muted href={fundingData.reportAbuseLink}>\n            Report abuse\n          </Link>\n        )}\n      </Box>\n    </Box>\n  )\n}\n\nexport interface GiHubFundingComponentProps {\n  name: string\n  condensed?: boolean\n  isOrg?: boolean\n}\n\nexport function GiHubFundingComponent({name, condensed, isOrg}: GiHubFundingComponentProps) {\n  let containerSx = {}\n\n  if (condensed) {\n    containerSx = {\n      // Slighly less than 50% to allow for both cards with a border\n      width: '49.99%',\n      px: 2,\n      float: 'left',\n    }\n  }\n\n  return (\n    <Box sx={{mb: 3, ...containerSx}}>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: condensed ? 'column' : 'row',\n          justifyContent: 'space-between',\n          alignItems: condensed ? undefined : 'center',\n          border: '1px solid',\n          borderColor: 'border.default',\n          borderRadius: '6px',\n          padding: 3,\n          height: '100%',\n        }}\n      >\n        <Box sx={{display: 'flex', flexDirection: 'row'}}>\n          <GitHubAvatar square={isOrg} size={40} src={ownerAvatarPath({owner: name})} sx={{mr: 2, flexShrink: 0}} />\n\n          <Box sx={{display: 'flex', flexDirection: 'column', minWidth: 0}}>\n            <Box as=\"p\" sx={{fontWeight: 'bold', m: 0}}>\n              <Link href={ownerPath({owner: name})} sx={{color: 'fg.default'}}>\n                {name}\n              </Link>\n            </Box>\n            <Box as=\"p\" sx={{m: 0, fontSize: 0}}>\n              <Link href={ownerPath({owner: name})} sx={{color: 'fg.default'}}>\n                {name}\n              </Link>\n            </Box>\n          </Box>\n        </Box>\n        <Button\n          leadingVisual={HeartIcon}\n          size=\"small\"\n          sx={{\n            mt: condensed ? 3 : 0,\n            '.octicon-heart': {\n              color: 'sponsors.fg',\n              transition: 'transform .15s cubic-bezier(0.2, 0, 0.13, 2)',\n              transform: 'scale(1)',\n              animationName: 'pulse-in',\n              animationDuration: '.5s',\n            },\n            ':hover .octicon-heart': {\n              transform: 'scale(1.1)',\n            },\n          }}\n        >\n          Sponsor\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ FundingDialog.displayName ||= 'FundingDialog' } catch {}\ntry{ GiHubFundingComponent.displayName ||= 'GiHubFundingComponent' } catch {}","import type {DiffDislayInfo, DiffLines, DiffResponse, EditInfo, FundingData} from '@github-ui/code-view-types'\nimport FileRendererBlob from '@github-ui/file-renderer-blob'\nimport type {RefInfo} from '@github-ui/repos-types'\nimport {SafeHTMLBox, type SafeHTMLString} from '@github-ui/safe-html'\nimport {useCSRFToken} from '@github-ui/use-csrf-token'\nimport {verifiedFetch} from '@github-ui/verified-fetch'\nimport {Box, Spinner, Text} from '@primer/react'\nimport React from 'react'\n\nimport {CodeLine} from '../blob/BlobContent/Code/CodeLine'\nimport type {CodeLineData} from '../blob/BlobContent/Code/hooks/use-code-lines'\nimport {LineNumber} from '../blob/BlobContent/Code/LineNumber'\nimport {DiffPreview} from './DiffPreview'\nimport {FundingDialog} from './FundingDialog'\n\nlet previousController: AbortController | null = null\n\nexport enum PreviewMessages {\n  DELETED = 'preview_deleted',\n  RENAMED = 'preview_renamed',\n  UNCHANGED = 'preview_unchanged',\n  ERROR = 'preview_error',\n  BLANK = 'preview_blank',\n}\n\nexport function EditorPreview({\n  editInfo,\n  fileContent,\n  fileName,\n  refInfo,\n  showMarkdownDiff,\n  isRichtextRenderable,\n}: {\n  editInfo: EditInfo\n  fileContent: string\n  fileName: string\n  refInfo: RefInfo\n  showMarkdownDiff: boolean\n  isRichtextRenderable: boolean\n}) {\n  const [previewHTML, setPreviewHTML] = React.useState<SafeHTMLString | undefined>(undefined)\n\n  const [diffData, setDiffData] = React.useState<DiffLines[] | undefined>(undefined)\n\n  const [blobData, setBlobData] = React.useState<CodeLineData[] | undefined>(undefined)\n\n  const [message, setMessage] = React.useState<{message: string; messageHTML: string} | undefined>(undefined)\n\n  const [displayData, setDisplayData] = React.useState<DiffDislayInfo | undefined>(undefined)\n\n  const previewToken = useCSRFToken(editInfo.previewEditPath, 'post')\n  const [fundingData, setFundingData] = React.useState<FundingData | undefined>(undefined)\n\n  React.useEffect(() => {\n    const fetchPreview = async () => {\n      previousController?.abort()\n      const {signal} = (previousController = new AbortController())\n\n      const formData = new FormData()\n      formData.append('code', fileContent)\n      formData.append('commit', refInfo.currentOid)\n      formData.append('blobname', fileName)\n      // This doesn't actually do anything in preview, based on the \"quick pull\" option in web commit dialog\n      formData.append('willcreatebranch', 'false')\n      // Only false for Gists\n      formData.append('checkConflict', 'true')\n      // eslint-disable-next-line github/authenticity-token\n      formData.append('authenticity_token', previewToken || '')\n\n      setDiffData(undefined)\n      setMessage(undefined)\n      setPreviewHTML(undefined)\n      setDisplayData(undefined)\n      setFundingData(undefined)\n\n      if (isRichtextRenderable) {\n        const response = await verifiedFetch(\n          !showMarkdownDiff ? `${editInfo.previewEditPath}?avoiddiff=true` : editInfo.previewEditPath,\n          {\n            method: 'POST',\n            body: formData,\n            signal,\n            headers: {\n              Accept: 'application/json',\n            },\n          },\n        )\n\n        const json: DiffResponse = await response.json()\n\n        const html = json.data.html || ''\n        // For avoiddiff=true, we don't get the message in the message but in the html\n        const markdownMessage = getPreviewMessage(html)\n\n        if (json.data.message) {\n          setMessage({message: json.data.message, messageHTML: json.data.messageHtml ?? ''})\n        } else if (markdownMessage !== html) {\n          setMessage({message: markdownMessage, messageHTML: ''})\n        } else {\n          setPreviewHTML(html || ('Error getting preview' as SafeHTMLString))\n        }\n      } else {\n        const response = await fetch(editInfo.previewEditPath, {\n          method: 'POST',\n          body: formData,\n          signal,\n          headers: {\n            Accept: 'application/json',\n          },\n        })\n\n        const json: DiffResponse = await response.json()\n\n        if (json.data.message) {\n          setMessage({message: json.data.message, messageHTML: json.data.messageHtml ?? ''})\n        } else if (json.data.diffLines && json.data.diffLines.length > 0) {\n          const lines = json.data.diffLines\n          for (const line of lines) {\n            if (line.rightLine.type === 'ADDITION') {\n              line.rightLine.html = `+${line.rightLine.html}`\n            } else {\n              line.rightLine.html = ` ${line.rightLine.html}`\n            }\n            if (line.leftLine.type === 'DELETION') {\n              line.leftLine.html = `-${line.leftLine.html}`\n            } else {\n              line.leftLine.html = ` ${line.leftLine.html}`\n            }\n          }\n          setDiffData(lines)\n        } else if (json.data.rawLines && json.data.rawLines.length > 0) {\n          setBlobData(\n            json.data.rawLines.map((line, i) => ({\n              lineNumber: i + 1,\n              rawText: line,\n              stylingDirectivesLine: json.data.stylingDirectives?.[i],\n            })),\n          )\n        } else if (json.data.displayData) {\n          setDisplayData(json.data.displayData)\n        } else if (json.data.fundingLinks) {\n          setFundingData(json.data.fundingLinks)\n        } else {\n          setMessage({message: 'There has been an error generating the preview.', messageHTML: ''})\n        }\n      }\n    }\n\n    fetchPreview()\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showMarkdownDiff])\n\n  return (\n    <>\n      {previewHTML ? (\n        <div className={`readme html-blob blob ${showMarkdownDiff ? 'prose-diff' : 'p-5'}`}>\n          <SafeHTMLBox className=\"markdown-body container-lg\" html={previewHTML} />\n        </div>\n      ) : message ? (\n        <Box sx={{p: 5, position: 'relative'}}>\n          <Text sx={{fontSize: 4, lineHeight: '1.5', wordWrap: 'break-word'}}>\n            {getPreviewMessage(message.message)}\n            {message.messageHTML && ' But you can preview the whole file.'}\n          </Text>\n          <SafeHTMLBox\n            className={isRichtextRenderable ? 'markdown-body' : undefined}\n            unverifiedHTML={message.messageHTML || ''}\n            sx={{mt: 4}}\n          />\n        </Box>\n      ) : diffData && diffData.length ? (\n        <DiffPreview diffData={diffData} fileName={fileName} />\n      ) : blobData && blobData.length ? (\n        <Box className=\"react-code-file-contents\" sx={{p: 3, overflowX: 'auto'}}>\n          <div className=\"react-line-numbers\">\n            {blobData.map((lineData, index) => (\n              <LineNumber key={index} codeLineData={lineData} preventClick />\n            ))}\n          </div>\n          <div className=\"react-code-lines\">\n            {blobData.map((lineData, index) => (\n              <CodeLine\n                stylingDirectivesLine={lineData.stylingDirectivesLine}\n                key={index}\n                codeLineData={lineData}\n                forceVisible\n                copilotAccessAllowed={false}\n                shouldUseInert={false}\n              /> // deliberately don't show copilot button\n            ))}\n          </div>\n        </Box>\n      ) : displayData ? (\n        <FileRendererBlob\n          url={displayData.displayUrl}\n          identityUuid={displayData.identityUuid}\n          type={displayData.renderFileType}\n          size={displayData.size}\n        />\n      ) : fundingData ? (\n        <FundingDialog fileName={fileName} fundingData={fundingData} />\n      ) : (\n        <Box sx={{display: 'flex', flexDirection: 'column', alignItems: 'center', py: 3}}>\n          <Spinner />\n          Loading preview\n        </Box>\n      )}\n    </>\n  )\n}\n\nfunction getPreviewMessage(message: string) {\n  switch (message) {\n    case PreviewMessages.DELETED:\n      return 'The document has been deleted.'\n    case PreviewMessages.RENAMED:\n      return 'The document was renamed without changes.'\n    case PreviewMessages.UNCHANGED:\n      return 'There are no changes to show.'\n    case PreviewMessages.BLANK:\n      return 'There is no content to preview.'\n    case PreviewMessages.ERROR:\n      return 'There has been an error generating the preview.'\n    default:\n      return message\n  }\n}\n\ntry{ EditorPreview.displayName ||= 'EditorPreview' } catch {}","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {AlertIcon} from '@primer/octicons-react'\nimport {Flash, Octicon} from '@primer/react'\nimport {useEffect, useState} from 'react'\n\ntype CheckReadinessResponse = {\n  anyRunnersConfigured: boolean\n}\n\nexport function WorkflowEditor({\n  helpUrl,\n  isEnterprise,\n  repositoryActionsEnabled,\n  repositoryActionsReadinessPath,\n}: {\n  helpUrl: string\n  isEnterprise: boolean\n  repositoryActionsEnabled: boolean\n  repositoryActionsReadinessPath: string\n}) {\n  const [needsRunnersConfigured, setNeedsRunnersConfigured] = useState<boolean>(false)\n\n  useEffect(() => {\n    const getRunnerConfigurationRequired = async () => {\n      try {\n        const response = await verifiedFetchJSON(repositoryActionsReadinessPath)\n\n        if (!response.ok) {\n          setNeedsRunnersConfigured(false)\n          return\n        }\n\n        const data = (await response.json()) as CheckReadinessResponse\n        setNeedsRunnersConfigured(!data.anyRunnersConfigured)\n      } catch (error) {\n        setNeedsRunnersConfigured(false)\n      }\n    }\n\n    if (isEnterprise && repositoryActionsEnabled) {\n      getRunnerConfigurationRequired()\n    }\n  }, [isEnterprise, repositoryActionsEnabled, repositoryActionsReadinessPath])\n\n  return (\n    <>\n      <span\n        id=\"workflow-short-sha-warning-url\"\n        className=\"d-none\"\n        data-help-url={`${helpUrl}/actions/learn-github-actions/security-hardening-for-github-actions#using-third-party-actions`}\n      />\n      <span\n        id=\"workflow-on-schedule-url\"\n        className=\"d-none\"\n        data-on-schedule-url={`${helpUrl}/actions/reference/workflow-syntax-for-github-actions#onschedule`}\n      />\n      <span\n        id=\"workflow-dispatch-help-url\"\n        className=\"d-none\"\n        data-help-url={`${helpUrl}/actions/reference/events-that-trigger-workflows#workflow_dispatch`}\n      />\n      <span\n        id=\"workflow-shell-help-url\"\n        className=\"d-none\"\n        data-help-url={`${helpUrl}/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsshell`}\n      />\n\n      {needsRunnersConfigured && (\n        <Flash variant=\"warning\" sx={{mb: 2}} data-testid=\"needs-runner-warning\">\n          <Octicon icon={AlertIcon} />\n          This workflow will fail until runners are configured for the repository. Finish setting up GitHub Actions by{' '}\n          <a\n            className=\"Link--inTextBlock\"\n            href={`${helpUrl}/actions/hosting-your-own-runners/adding-self-hosted-runners`}\n          >\n            adding runners\n          </a>\n          .\n        </Flash>\n      )}\n    </>\n  )\n}\n\ntry{ WorkflowEditor.displayName ||= 'WorkflowEditor' } catch {}","import { Decoration, showPanel, EditorView, ViewPlugin, logException, gutter, showTooltip, getPanel, WidgetType, hoverTooltip, GutterMarker } from '@codemirror/view';\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        // Filter the list of diagnostics for which to create markers\n        let markedDiagnostics = diagnostics;\n        let diagnosticFilter = state.facet(lintConfig).markerFilter;\n        if (diagnosticFilter)\n            markedDiagnostics = diagnosticFilter(markedDiagnostics);\n        let ranges = Decoration.set(markedDiagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction hideTooltip(tr, tooltip) {\n    return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(tooltip.pos));\n}\nfunction maybeEnableLint(state, effects) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        lintState,\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics, and enables the lint extension if if wasn't already\nactive.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\n    };\n}\n/**\nThe state effect that updates the set of active diagnostics. Can\nbe useful when writing an extension that needs to track these.\n*/\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n    if (diagnosticFilter)\n        found = diagnosticFilter(found);\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: diagnosticsTooltip(view, found) };\n        }\n    };\n}\nfunction diagnosticsTooltip(view, diagnostics) {\n    return elt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintConfig);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintConfig);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc)\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let config = update.state.facet(lintConfig);\n        if (update.docChanged || config != update.startState.facet(lintConfig) ||\n            config.needsRefresh && config.needsRefresh(update)) {\n            this.lintTime = Date.now() + config.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, config.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintConfig = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return Object.assign({ sources: input.map(i => i.source) }, combineConfig(input.map(i => i.config), {\n            delay: 750,\n            markerFilter: null,\n            tooltipFilter: null,\n            needsRefresh: null\n        }, {\n            needsRefresh: (a, b) => !a ? b : !b ? a : u => a(u) || b(u)\n        }));\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    return lintConfig.of({ source, config });\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage() : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let fired = false, click = (e) => {\n            e.preventDefault();\n            if (fired)\n                return;\n            fired = true;\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n    return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\n}\nfunction underline(color) {\n    return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\",\n        cursor: \"pointer\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\",\n        paddingBottom: \"0.7px\",\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\nclass LintGutterMarker extends GutterMarker {\n    constructor(diagnostics) {\n        super();\n        this.diagnostics = diagnostics;\n        this.severity = diagnostics.reduce((max, d) => {\n            let s = d.severity;\n            return s == \"error\" || s == \"warning\" && max == \"info\" ? s : max;\n        }, \"info\");\n    }\n    toDOM(view) {\n        let elt = document.createElement(\"div\");\n        elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\n        let diagnostics = this.diagnostics;\n        let diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\n        if (diagnosticsFilter)\n            diagnostics = diagnosticsFilter(diagnostics);\n        if (diagnostics.length)\n            elt.onmouseover = () => gutterMarkerMouseOver(view, elt, diagnostics);\n        return elt;\n    }\n}\nfunction trackHoverOn(view, marker) {\n    let mousemove = (event) => {\n        let rect = marker.getBoundingClientRect();\n        if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ &&\n            event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */)\n            return;\n        for (let target = event.target; target; target = target.parentNode) {\n            if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\"))\n                return;\n        }\n        window.removeEventListener(\"mousemove\", mousemove);\n        if (view.state.field(lintGutterTooltip))\n            view.dispatch({ effects: setLintGutterTooltip.of(null) });\n    };\n    window.addEventListener(\"mousemove\", mousemove);\n}\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\n    function hovered() {\n        let line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\n        const linePos = view.coordsAtPos(line.from);\n        if (linePos) {\n            view.dispatch({ effects: setLintGutterTooltip.of({\n                    pos: line.from,\n                    above: false,\n                    create() {\n                        return {\n                            dom: diagnosticsTooltip(view, diagnostics),\n                            getCoords: () => marker.getBoundingClientRect()\n                        };\n                    }\n                }) });\n        }\n        marker.onmouseout = marker.onmousemove = null;\n        trackHoverOn(view, marker);\n    }\n    let { hoverTime } = view.state.facet(lintGutterConfig);\n    let hoverTimeout = setTimeout(hovered, hoverTime);\n    marker.onmouseout = () => {\n        clearTimeout(hoverTimeout);\n        marker.onmouseout = marker.onmousemove = null;\n    };\n    marker.onmousemove = () => {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(hovered, hoverTime);\n    };\n}\nfunction markersForDiagnostics(doc, diagnostics) {\n    let byLine = Object.create(null);\n    for (let diagnostic of diagnostics) {\n        let line = doc.lineAt(diagnostic.from);\n        (byLine[line.from] || (byLine[line.from] = [])).push(diagnostic);\n    }\n    let markers = [];\n    for (let line in byLine) {\n        markers.push(new LintGutterMarker(byLine[line]).range(+line));\n    }\n    return RangeSet.of(markers, true);\n}\nconst lintGutterExtension = /*@__PURE__*/gutter({\n    class: \"cm-gutter-lint\",\n    markers: view => view.state.field(lintGutterMarkers),\n});\nconst lintGutterMarkers = /*@__PURE__*/StateField.define({\n    create() {\n        return RangeSet.empty;\n    },\n    update(markers, tr) {\n        markers = markers.map(tr.changes);\n        let diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                let diagnostics = effect.value;\n                if (diagnosticFilter)\n                    diagnostics = diagnosticFilter(diagnostics || []);\n                markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\n            }\n        }\n        return markers;\n    }\n});\nconst setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\nconst lintGutterTooltip = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(tooltip, tr) {\n        if (tooltip && tr.docChanged)\n            tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), { pos: tr.changes.mapPos(tooltip.pos) });\n        return tr.effects.reduce((t, e) => e.is(setLintGutterTooltip) ? e.value : t, tooltip);\n    },\n    provide: field => showTooltip.from(field)\n});\nconst lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutter-lint\": {\n        width: \"1.4em\",\n        \"& .cm-gutterElement\": {\n            padding: \".2em\"\n        }\n    },\n    \".cm-lint-marker\": {\n        width: \"1em\",\n        height: \"1em\"\n    },\n    \".cm-lint-marker-info\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>`)\n    },\n    \".cm-lint-marker-warning\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>`),\n    },\n    \".cm-lint-marker-error\": {\n        content: /*@__PURE__*/svg(`<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>`)\n    },\n});\nconst lintGutterConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            hoverTime: 300 /* Hover.Time */,\n            markerFilter: null,\n            tooltipFilter: null\n        });\n    }\n});\n/**\nReturns an extension that installs a gutter showing markers for\neach line that has diagnostics, which can be hovered over to see\nthe diagnostics.\n*/\nfunction lintGutter(config = {}) {\n    return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\n}\n/**\nIterate over the marked diagnostics for the given editor state,\ncalling `f` for each of them. Note that, if the document changed\nsince the diagnostics were created, the `Diagnostic` object will\nhold the original outdated position, whereas the `to` and `from`\narguments hold the diagnostic's current position.\n*/\nfunction forEachDiagnostic(state, f) {\n    let lState = state.field(lintState, false);\n    if (lState && lState.diagnostics.size)\n        for (let iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next())\n            f(iter.value.spec.diagnostic, iter.from, iter.to);\n}\n\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics, setDiagnosticsEffect };\n","import {linter, type LintSource} from '@codemirror/lint'\nimport type {Extension} from '@codemirror/state'\nimport {EditorView} from '@codemirror/view'\n\n/**\n * Thin wrapper around CodeMirror's linter extension that styles the lint marks\n * @param Linter LintSource that returns array of Diagnostic\n * @link https://codemirror.net/docs/ref/#lint.LintSource\n * @returns linter extension\n */\nfunction customLinter(lintSource: LintSource): Extension[] {\n  return [\n    linter(lintSource),\n    EditorView.editorAttributes.of({\n      class: 'custom-tooltips',\n    }),\n  ]\n}\n\nexport {customLinter as linter}\n","import type {Diagnostic} from '@codemirror/lint'\nimport type {EditorView} from '@codemirror/view'\nimport {posToOffset, replaceRange} from '@github-ui/code-mirror/utils'\nimport {html, render} from 'lit-html'\nimport type {LintMessage} from './codemirror-linter-util'\n\nexport function buildLintMarks(view: EditorView, annotations: LintMessage[]): Diagnostic[] {\n  const diagnostics: Diagnostic[] = annotations.map(annotation => {\n    const fromOffset = posToOffset(view, annotation.from)\n    const toOffset = posToOffset(view, annotation.to)\n\n    // helper if the annotation has fixes available\n    const replaceValue = (value: string) => {\n      return replaceRange(view, fromOffset, toOffset, value)\n    }\n\n    return {\n      from: fromOffset,\n      to: toOffset,\n      message: '', // handled by renderMessage\n      severity: annotation.severity as 'info' | 'warning' | 'error',\n      renderMessage: () => {\n        const tooltip = createTooltip(annotation)\n        const select = tooltip.querySelector<HTMLSelectElement>('select')!\n        const button = tooltip.querySelector<HTMLElement>('button')!\n\n        button.addEventListener('click', () => replaceValue(button.textContent!))\n        select.addEventListener('change', () => replaceValue(select.value))\n\n        return tooltip\n      },\n    }\n  })\n\n  return diagnostics\n}\n\nexport function createTooltip(lintMessage: LintMessage): HTMLElement {\n  const {message, fixes} = lintMessage\n  const tooltipTemplate = html`<div class=\"Box Box--condensed text-small color-shadow-large js-yaml-lint\">\n    <div class=\"js-yaml-lint-header Box-row markdown-body f6\">\n      <p class=\"mb-0 text-bold js-yaml-lint-title\" />\n      <p class=\"color-fg-muted js-yaml-lint-subtitle\">\n        Did you mean <button class=\"btn-link btn-sm\">todo-here</button>?\n      </p>\n    </div>\n    <div class=\"Box-footer color-bg-subtle markdown-body f6 js-yaml-lint-message\"></div>\n    <div class=\"Box-footer color-bg-subtle js-yaml-lint-fixes\">\n      <select class=\"form-select select-sm\" aria-label=\"Suggested fixes\">\n        <option>Other suggestions</option>\n      </select>\n    </div>\n  </div>`\n\n  const tooltip = document.createElement('div')\n  render(tooltipTemplate, tooltip)\n\n  const tooltipHeader = tooltip.querySelector<HTMLElement>('.js-yaml-lint-header')!\n  const tooltipTitle = tooltip.querySelector<HTMLElement>('.js-yaml-lint-title')!\n  const tooltipSubtitle = tooltip.querySelector<HTMLElement>('.js-yaml-lint-subtitle')!\n  const tooltipMessage = tooltip.querySelector<HTMLElement>('.js-yaml-lint-message')!\n  const tooltipFixes = tooltip.querySelector<HTMLElement>('.js-yaml-lint-fixes')!\n  const fixButton = tooltipSubtitle.querySelector<HTMLElement>('button')!\n\n  tooltipHeader.hidden = !fixes\n  tooltipMessage.hidden = !!fixes\n  tooltipSubtitle.hidden = !fixes\n  tooltipFixes.hidden = !fixes || fixes.length < 2\n\n  if (fixes) {\n    render(message, tooltipTitle)\n    const firstFix = fixes[0]!\n    fixButton.textContent = firstFix\n    const select = tooltipFixes.querySelector<HTMLElement>('select')!\n    for (const fix of fixes.slice(1)) {\n      const option = document.createElement('option')\n      option.textContent = fix\n      select.appendChild(option)\n    }\n  } else {\n    render(message, tooltipMessage)\n  }\n\n  return tooltip\n}\n","import type {EditorView} from '@codemirror/view'\n\nimport {getRootRule as devContainerRootRule} from './devcontainer/devcontainer-rules'\nimport {lint} from './json-codemirror-linter-util'\nimport {buildLintMarks} from '../codemirror-next-linter-util'\n\nexport async function jsonLintSource(view: EditorView) {\n  // devContainerRootRule isnt actually used, we just need to pass something to lint\n  const annotations = await lint(view.state.doc.toString(), devContainerRootRule)\n\n  return buildLintMarks(view, annotations)\n}\n","import {helpPanelConstructor} from '@github-ui/code-mirror/help-panel'\nimport {linter} from '@github-ui/code-mirror/linter'\n\nimport {html, render} from 'lit-html'\nimport {jsonLintSource} from '../json-codemirror-next-linter-util'\n\nexport function devContainerEditor() {\n  const helpPanelContainer = document.createElement('div')\n  render(helpPanel, helpPanelContainer)\n\n  return [linter(jsonLintSource), helpPanelConstructor(helpPanelContainer)]\n}\n\nexport const helpPanel = html`\n  <div class=\"color-bg-subtle color-fg-muted px-2 py-1 m-0 border-top\">\n    <code id=\"dev-container-editor-help-default\">\n      See the\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://containers.dev/implementors/json_reference/\"\n        >devcontainer.json</a\n      >\n      reference for more information\n    </code>\n  </div>\n`\n","import {\n  type CompletionContext,\n  type CompletionResult,\n  acceptCompletion,\n  autocompletion,\n  closeCompletion,\n  moveCompletionSelection,\n  startCompletion,\n} from '@codemirror/autocomplete'\nimport {Prec} from '@codemirror/state'\nimport {type KeyBinding, keymap} from '@codemirror/view'\nimport {autocompleteTheme} from './theme'\n\n/**\n * Thin wrapper to create a custom, themed autocomplete extension\n * @param completionSource function that returns a promise of a CompletionResult\n * @param keymaps optional keybindings to override the default Tab keybinding\n * @param overrideEnterKey optional boolean to override the default Enter keybinding\n * @returns autocomplete extension\n * @link https://codemirror.net/docs/ref/#autocomplete\n */\nfunction customAutocomplete(\n  completionSource: (context: CompletionContext) => Promise<CompletionResult | null>,\n  keymaps: KeyBinding[] = [{key: 'Tab', run: acceptCompletion}],\n  overrideEnterKey = false,\n) {\n  return [\n    autocompleteTheme,\n    autocompletion({\n      override: [completionSource],\n      icons: false,\n      defaultKeymap: !overrideEnterKey,\n    }),\n    Prec.highest(keymap.of(overrideEnterKey ? defaultKeymapWithoutEnter : [])),\n    Prec.highest(keymap.of(keymaps)),\n  ]\n}\n\nconst defaultKeymapWithoutEnter: readonly KeyBinding[] = [\n  {key: 'Ctrl-Space', run: startCompletion},\n  {key: 'Escape', run: closeCompletion},\n  {key: 'ArrowDown', run: moveCompletionSelection(true)},\n  {key: 'ArrowUp', run: moveCompletionSelection(false)},\n  {key: 'PageDown', run: moveCompletionSelection(true, 'page')},\n  {key: 'PageUp', run: moveCompletionSelection(false, 'page')},\n]\n\nexport {customAutocomplete as autocomplete}\n","import {\n  acceptCompletion,\n  type Completion,\n  type CompletionContext,\n  type CompletionResult,\n  insertCompletionText,\n  pickedCompletion,\n  selectedCompletion,\n  startCompletion,\n} from '@codemirror/autocomplete'\nimport type {Command, EditorView} from '@codemirror/view'\nimport {autocomplete} from '@github-ui/code-mirror/autocomplete'\nimport {helpPanelConstructor} from '@github-ui/code-mirror/help-panel'\nimport {getCursor, getIndentationUnit, getLine, offsetToPos} from '@github-ui/code-mirror/utils'\n\nimport type {Snippet, Suggestion} from './autocomplete-util'\nimport {getIndentation, replaceWhitespaces} from './utils'\nimport {isMacOS} from '@github-ui/get-os'\nimport {html, render} from 'lit-html'\n\ninterface CustomCompletion extends Completion {\n  snippet: Snippet\n  from: number\n  to: number\n}\n\nexport function yamlAutocomplete(completionContext: (context: CompletionContext) => Promise<CompletionResult | null>) {\n  return autocomplete(\n    completionContext,\n    [\n      {key: 'Tab', run: acceptCompletionAndStartNext},\n      {key: 'Enter', run: acceptCompletionAndStartNext},\n    ],\n    true, // override enter key for custom behavior\n  )\n}\n\nexport function yamlHelpPanel() {\n  return helpPanelConstructor(autocompleteHelpPanel())\n}\n\nexport function buildCompletions(suggestions: Suggestion[], cursor: number) {\n  const completions: CustomCompletion[] = suggestions.map(suggestion => {\n    return {\n      label: suggestion.displayText,\n      detail: suggestion.description,\n      from: suggestion.replace ? cursor - suggestion.replace.length : cursor,\n      to: cursor,\n      apply: applySnippet,\n      snippet: suggestion.snippet,\n    }\n  })\n\n  const from = completions.length > 0 ? completions[0]!.from : cursor\n\n  return {\n    from,\n    options: completions,\n    filter: false,\n  }\n}\n\nfunction applySnippet(view: EditorView, completion: Completion) {\n  const {snippet} = completion as CustomCompletion\n  return insertSnippet(view, completion, snippet, true)\n}\n\nfunction insertSnippet(view: EditorView, completion: Completion, snippet: Snippet, indent: boolean) {\n  const {tokens} = snippet\n\n  const tab = getIndentationUnit(view)\n\n  for (let i = 0; i < tokens.length; i += 2) {\n    const cursor = getCursor(view)\n    const offset = offsetToPos(view, cursor.from)\n    const ind = indent ? getIndentation(getLine(view, offset.line + 1).text) : ''\n\n    const token = replaceWhitespaces(tokens[i]!, tab, ind)\n\n    view.dispatch({\n      ...insertCompletionText(view.state, token, view.state.selection.main.from, view.state.selection.main.to),\n    })\n  }\n\n  // let codemirror know that we're done with the completion\n  view.dispatch({\n    annotations: pickedCompletion.of(completion),\n  })\n}\n\nconst acceptCompletionAndStartNext: Command = (view: EditorView) => {\n  const selected = selectedCompletion(view.state) // the completion is active\n\n  if (selected) {\n    // if there is a selected completion, accept it and try to start the next one\n    acceptCompletion(view)\n    startCompletion(view)\n\n    return true\n  }\n\n  // let this pass through to the default keymap\n  return false\n}\n\nfunction autocompleteHelpPanel() {\n  const dom = document.createElement('div')\n  dom.className = 'cm-help-panel border-top'\n  dom.setAttribute('data-testid', 'yaml-editor-help-footer')\n\n  const appleShortcuts = isMacOS() ? html`or <kbd>Option + Space</kbd>` : html``\n\n  const helpContent = html`\n    <div id=\"yaml-editor-help-default\">\n      Use <kbd>Control + Space</kbd>\n      ${appleShortcuts} to trigger autocomplete in most situations.\n    </div>\n    <div id=\"yaml-editor-help\" hidden>\n      <span className=\"js-yaml-editor-help-placeholder pr-1\" />\n      <span className=\"js-yaml-editor-help-tab\"> Use <kbd>Tab</kbd> to navigate to the next placeholder. </span>\n    </div>\n  `\n\n  render(helpContent, dom)\n\n  return dom\n}\n","import type {CompletionContext, CompletionResult} from '@codemirror/autocomplete'\nimport type {EditorView} from '@codemirror/view'\nimport {linter} from '@github-ui/code-mirror/linter'\nimport {getRange} from '@github-ui/code-mirror/utils'\n\nimport {autocomplete} from '../autocomplete-util'\nimport {buildCompletions, yamlAutocomplete, yamlHelpPanel} from '../codemirror-next-autocomplete-util'\nimport {getRootRule as getDependabotRootRule} from './dependabot-rules'\nimport lint from '../yaml-linters'\nimport {buildLintMarks} from '../../codemirror-next-linter-util'\n\nexport function dependabotEditor() {\n  return [yamlAutocomplete(dependabotAutocompleteContext), yamlHelpPanel(), linter(dependabotLintSource)]\n}\n\nasync function dependabotAutocompleteContext(context: CompletionContext): Promise<CompletionResult | null> {\n  if (!context.explicit) return null\n\n  const cursor = context.pos\n  const textBeforeCursor = getRange(context.state, 0, cursor)\n\n  const suggestions = await autocomplete(\n    context.state.doc.toString(),\n    textBeforeCursor,\n    getDependabotRootRule,\n    getDependabotRootRule().suggestionsForExpression!,\n  )\n\n  if (!suggestions) {\n    return null\n  }\n\n  return buildCompletions(suggestions, cursor)\n}\n\nasync function dependabotLintSource(view: EditorView) {\n  const annotations = await lint(view.state.doc.toString(), getDependabotRootRule)\n\n  return buildLintMarks(view, annotations)\n}\n","import type {CompletionContext, CompletionResult} from '@codemirror/autocomplete'\nimport type {EditorView} from '@codemirror/view'\nimport {linter} from '@github-ui/code-mirror/linter'\nimport {getRange} from '@github-ui/code-mirror/utils'\n\nimport {autocomplete} from '../autocomplete-util'\nimport {buildCompletions, yamlAutocomplete, yamlHelpPanel} from '../codemirror-next-autocomplete-util'\nimport {getRootRule as getWorkflowRootRule} from './workflow-rules'\nimport {buildLintMarks} from '../../codemirror-next-linter-util'\nimport lint from '../yaml-linters'\n\nexport function workflowEditor() {\n  return [yamlAutocomplete(workflowAutocompleteContext), yamlHelpPanel(), linter(workflowYamlLintSource)]\n}\n\nasync function workflowAutocompleteContext(context: CompletionContext): Promise<CompletionResult | null> {\n  if (!context.explicit) return null\n\n  const cursor = context.pos\n  const textBeforeCursor = getRange(context.state, 0, cursor)\n\n  const suggestions = await autocomplete(\n    context.state.doc.toString(),\n    textBeforeCursor,\n    getWorkflowRootRule,\n    getWorkflowRootRule({}).suggestionsForExpression!,\n  )\n\n  if (!suggestions) {\n    return null\n  }\n\n  return buildCompletions(suggestions, cursor)\n}\n\nasync function workflowYamlLintSource(view: EditorView) {\n  const annotations = await lint(view.state.doc.toString(), getWorkflowRootRule)\n\n  return buildLintMarks(view, annotations)\n}\n","import type {EditorInfo} from '@github-ui/code-view-types'\n\n// eslint-disable-next-line no-restricted-imports\nimport {devContainerEditor} from '../../../../github/editor/json-editors/devcontainer/devcontainer-editor-next'\n// eslint-disable-next-line no-restricted-imports\nimport {dependabotEditor} from '../../../../github/editor/yaml-editors/dependabot/dependabot-editor-next'\n// eslint-disable-next-line no-restricted-imports\nimport {workflowEditor} from '../../../../github/editor/yaml-editors/workflow/workflow-editor-next'\n\nconst VALID_DEVCONTAINER_PATH_GLOB =\n  /\\.devcontainer(?:(?:\\/(?:[\\w\\-.'\"][\\w\\-.'\"\\s]{0,62}[\\w\\-.'\"]|[\\w\\-.'\"]))?\\/devcontainer)?\\.json/\n\nconst isDevContainerEditorEnabled = (devContainerEditorEnabled: boolean, filePath: string) => {\n  return devContainerEditorEnabled && VALID_DEVCONTAINER_PATH_GLOB.test(filePath)\n}\n\nexport const isDependabotEditorEnabled = (dependabotEditorEnabled: boolean, filePath: string) => {\n  return dependabotEditorEnabled && /^(\\.github\\/dependabot\\.(yaml|yml))/i.test(filePath)\n}\n\nexport const isStackEditorEnabled = (stacksEnabled: boolean, filePath: string) => {\n  return stacksEnabled && /^(\\.github\\/stacks\\/stack\\.(yaml|yml))/i.test(filePath)\n}\n\nexport const isWorkflowEditorEnabled = (actionsEnabled: boolean, filePath: string) => {\n  return actionsEnabled && /^(\\.github\\/(workflows|workflows-lab)\\/.+\\.(yaml|yml))/i.test(filePath)\n}\n\nexport function useEditors(editorInfo: EditorInfo, completeFilePath: string) {\n  const workflowEditorEnabled = isWorkflowEditorEnabled(editorInfo.actionsEnabled, completeFilePath)\n  const dependabotEditorEnabled = isDependabotEditorEnabled(editorInfo.dependabotEditorEnabled, completeFilePath)\n  const devContainerEditorEnabled = isDevContainerEditorEnabled(editorInfo.devcontainerEditorEnabled, completeFilePath)\n\n  return {\n    workflowEditorEnabled,\n    dependabotEditorEnabled,\n    devContainerEditorEnabled,\n  }\n}\n\nexport function useEditorExtensions(editorInfo: EditorInfo, completeFilePath: string) {\n  const enabledEditors = useEditors(editorInfo, completeFilePath)\n  const {workflowEditorEnabled, dependabotEditorEnabled, devContainerEditorEnabled} = enabledEditors\n\n  let editorExtensions = undefined\n\n  if (workflowEditorEnabled) {\n    editorExtensions = workflowEditor()\n  } else if (dependabotEditorEnabled) {\n    editorExtensions = dependabotEditor()\n  } else if (devContainerEditorEnabled) {\n    editorExtensions = devContainerEditor()\n  }\n\n  return editorExtensions\n}\n","import memoize from '@github/memoize'\nimport type {SidepanelDocsHtml, SidepanelMarketplaceUrls} from '@github-ui/code-view-types'\nimport {useCurrentRepository} from '@github-ui/current-repository'\nimport {blobSidePanelMetadataPath} from '@github-ui/paths'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\ninterface SidepanelMetadata {\n  docsHtml: SidepanelDocsHtml\n  marketplaceUrls: SidepanelMarketplaceUrls\n}\n\nasync function fetchJSON(url: string): Promise<SidepanelMetadata | undefined> {\n  const response = await verifiedFetchJSON(url)\n  if (response?.ok) {\n    return await response.json()\n  } else {\n    return undefined\n  }\n}\n\nconst memoizeCache = new Map()\nconst memoizeFetchJSON = memoize(fetchJSON, {cache: memoizeCache})\n\nexport function useSidePanelMetadata(): [SidepanelMetadata | undefined, boolean, boolean] {\n  const repo = useCurrentRepository()\n  const [metadata, setMetadata] = useState<SidepanelMetadata>()\n  const [error, setError] = useState(false)\n  const [loading, setLoading] = useState(true)\n\n  const metadataPath = blobSidePanelMetadataPath({owner: repo.ownerLogin, repo: repo.name})\n\n  useEffect(() => {\n    let cancelled = false\n    const update = async () => {\n      setLoading(true)\n      setMetadata(undefined)\n      const metadataResponse = await memoizeFetchJSON(metadataPath)\n\n      if (cancelled) {\n        return\n      }\n\n      try {\n        if (metadataResponse) {\n          setMetadata(metadataResponse)\n        } else {\n          setError(true)\n        }\n      } catch (e) {\n        setError(true)\n      }\n      setLoading(false)\n    }\n\n    update()\n\n    return function cancel() {\n      cancelled = true\n    }\n  }, [metadataPath])\n\n  return [metadata, loading, error]\n}\n","import {Box} from '@primer/react'\n\nexport function DevContainerDocumentation() {\n  return (\n    <Box sx={{overflow: 'auto', p: 3}} className=\"f5 markdown-body\">\n      <p>\n        <a href=\"https://containers.dev\">Development Containers</a> are configuration files used by Codespaces and tools\n        implementing the dev container specification.\n      </p>\n\n      <p>These files allow you to create a consistent, sharable development environment.</p>\n\n      <h2>Features</h2>\n\n      <p>\n        Dev Container Features are self-contained units of installation code and development container configuration.\n        Features are designed to install atop a wide-range of base container images. Be sure to check a Feature&apos;s\n        documentation to see which base images are supported.\n      </p>\n\n      <h3>Usage</h3>\n\n      <p>\n        To reference a Feature, add the desired Feature(s) to a <code>devcontainer.json</code>. See a Feature&apos;s\n        README for available options, or leave the options empty to use the default value.\n      </p>\n\n      <h4>Example devcontainer.json</h4>\n\n      <pre>\n        {`{\n    \"name\": \"my-project-devcontainer\",\n    \"image\": \"mcr.microsoft.com/devcontainers/base:ubuntu\",  // Any generic, debian-based image.\n    \"features\": {\n        \"ghcr.io/devcontainers/features/go:1\": {\n            \"version\": \"1.18\"\n        },\n        \"ghcr.io/devcontainers/features/docker-in-docker:1\": {\n            \"version\": \"latest\",\n            \"moby\": true\n        }\n    }\n}`}\n      </pre>\n    </Box>\n  )\n}\n\ntry{ DevContainerDocumentation.displayName ||= 'DevContainerDocumentation' } catch {}","import {Box, Spinner} from '@primer/react'\n\ninterface DevContainerMarketplaceProps {\n  src?: string\n}\n\nexport function DevContainerMarketplace({src}: DevContainerMarketplaceProps) {\n  import('../../../../../github/editor/devcontainer-sidebar')\n\n  return (\n    <Box sx={{px: 3, pt: 3, pb: 0}}>\n      <input\n        type=\"text\"\n        form=\"marketplace-search\"\n        className=\"form-control input-block input-contrast\"\n        placeholder=\"Search for Features\"\n        id=\"dev-container-search-input\"\n      />\n      <div>\n        <span id=\"js-devcontainer-editor-sidebar-content-complete\">\n          <include-fragment src={src}>\n            <Spinner sx={{my: 3, mx: 'auto', display: 'block'}} />\n          </include-fragment>\n        </span>\n\n        <span id=\"js-devcontainer-editor-sidebar-details\" />\n      </div>\n    </Box>\n  )\n}\n\ntry{ DevContainerMarketplace.displayName ||= 'DevContainerMarketplace' } catch {}","import {SafeHTMLBox, type SafeHTMLString} from '@github-ui/safe-html'\n\nexport function ServerSideDocumentation({documentation}: {documentation?: string}) {\n  return <SafeHTMLBox html={documentation as SafeHTMLString} className=\"f5 markdown-body\" sx={{p: 3}} />\n}\n\ntry{ ServerSideDocumentation.displayName ||= 'ServerSideDocumentation' } catch {}","import {Box, Spinner} from '@primer/react'\n\ninterface WorkflowMarketplaceProps {\n  src?: string\n}\n\nexport function WorkflowMarketplace({src}: WorkflowMarketplaceProps) {\n  import('../../../../../github/editor/actions-sidebar')\n\n  return (\n    <Box sx={{px: 3, pt: 3, pb: 0}}>\n      <remote-input\n        param=\"query\"\n        src={src}\n        aria-owns=\"js-workflow-editor-sidebar-content\"\n        class=\"mb-3 position-relative js-remoteinput\"\n      >\n        <input\n          type=\"text\"\n          form=\"marketplace-search\"\n          className=\"form-control input-block input-contrast\"\n          placeholder=\"Search Marketplace for Actions\"\n          aria-label=\"Search Marketplace for Actions\"\n        />\n      </remote-input>\n      <div id=\"js-workflow-editor-sidebar-content\">\n        <include-fragment src={src}>\n          <Spinner sx={{my: 3, mx: 'auto', display: 'block'}} />\n        </include-fragment>\n      </div>\n    </Box>\n  )\n}\n\ntry{ WorkflowMarketplace.displayName ||= 'WorkflowMarketplace' } catch {}","import {AlertFillIcon, XIcon} from '@primer/octicons-react'\nimport {Box, IconButton, Octicon, Spinner, Text, UnderlineNav} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport {useState} from 'react'\n\nimport {useStickyHeaderSx} from '../../../hooks/use-sticky-observer'\nimport {Panel} from '../../Panel'\nimport {useSidePanelMetadata} from '../hooks/use-side-panel-metadata'\nimport {DevContainerDocumentation} from './DevContainer/Documentation'\nimport {DevContainerMarketplace} from './DevContainer/Marketplace'\nimport {ServerSideDocumentation} from './ServerSideDocumentation'\nimport {WorkflowMarketplace} from './Workflows/Marketplace'\n\nexport interface BlobEditSidePanelEnabledProps {\n  workflowEditorEnabled: boolean\n  devContainerEditorEnabled: boolean\n  isIssueTemplate: boolean\n  isIssueForm: boolean\n  isDiscussionTemplate: boolean\n}\n\ninterface BlobEditSidePanelProps {\n  enabledProps: BlobEditSidePanelEnabledProps\n  isEnterprise: boolean\n  isProxima: boolean\n  isNarrow: boolean\n  onClosePanel: () => void\n  id: string\n}\n\nexport function blobEditSidePanelEnabled(enabledProps: BlobEditSidePanelEnabledProps) {\n  return (\n    enabledProps.workflowEditorEnabled ||\n    enabledProps.devContainerEditorEnabled ||\n    enabledProps.isIssueTemplate ||\n    enabledProps.isIssueForm ||\n    enabledProps.isDiscussionTemplate\n  )\n}\n\nfunction SidePanelErrorMessage() {\n  return (\n    <Text sx={{color: 'attention.fg', p: 3}} data-testid=\"side-panel-error-message\">\n      <Octicon icon={AlertFillIcon} />\n      &nbsp;Cannot retrieve help documentation at this time.\n    </Text>\n  )\n}\n\nfunction SidePanelLoading() {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        p: 3,\n        justifyContent: 'center',\n      }}\n    >\n      <Spinner size=\"small\" />\n    </Box>\n  )\n}\n\nexport function BlobEditSidePanel(props: BlobEditSidePanelProps) {\n  const {isProxima, isNarrow, ...innerProps} = props\n\n  return (\n    <>\n      {!isNarrow && <BlobEditSidePanelContent isProxima={isProxima} isNarrow={isNarrow} {...innerProps} />}\n      {isNarrow && (\n        <Dialog\n          onClose={() => innerProps.onClosePanel()}\n          renderHeader={() => null}\n          renderBody={() => BlobEditSidePanelContent({isProxima, isNarrow, ...innerProps})}\n        />\n      )}\n    </>\n  )\n}\n\nfunction BlobEditSidePanelContent({\n  enabledProps,\n  isEnterprise,\n  isNarrow,\n  isProxima,\n  onClosePanel,\n  id,\n}: BlobEditSidePanelProps) {\n  let marketplaceComponent = null\n  let documentationComponent = null\n\n  const [metadata, loading, error] = useSidePanelMetadata()\n\n  switch (true) {\n    case enabledProps.workflowEditorEnabled:\n      marketplaceComponent = <WorkflowMarketplace src={metadata?.marketplaceUrls?.workflow} />\n      documentationComponent = <ServerSideDocumentation documentation={metadata?.docsHtml?.workflow} />\n      break\n    case enabledProps.devContainerEditorEnabled:\n      marketplaceComponent = <DevContainerMarketplace src={metadata?.marketplaceUrls?.devcontainers} />\n      documentationComponent = <DevContainerDocumentation />\n      break\n    case enabledProps.isIssueForm:\n      documentationComponent = <ServerSideDocumentation documentation={metadata?.docsHtml?.issueForm} />\n      break\n    case enabledProps.isIssueTemplate:\n      documentationComponent = <ServerSideDocumentation documentation={metadata?.docsHtml?.issueTemplate} />\n      break\n    case enabledProps.isDiscussionTemplate:\n      documentationComponent = <ServerSideDocumentation documentation={metadata?.docsHtml?.discussionTemplate} />\n      break\n  }\n\n  const widthSx = isNarrow ? {} : {width: '33%', maxHeight: '77vh', maxWidth: 460, minWidth: 320}\n  const stickySx = useStickyHeaderSx()\n  const showMarketplace = !!marketplaceComponent && !isEnterprise && !isProxima\n  const [selectedTab, setSelectedTab] = useState<'marketplace' | 'documentation'>(\n    showMarketplace ? 'marketplace' : 'documentation',\n  )\n\n  return (\n    <Panel\n      sx={{height: 'fit-content', overflow: 'auto', ...widthSx, ...stickySx}}\n      data-testid=\"editor-side-panel\"\n      id={id}\n    >\n      {isNarrow && (\n        // eslint-disable-next-line primer-react/a11y-remove-disable-tooltip\n        <IconButton\n          unsafeDisableTooltip={true}\n          aria-label=\"Close help panel\"\n          data-hotkey=\"Escape\"\n          icon={XIcon}\n          sx={{\n            position: 'absolute',\n            order: 3,\n            top: 2,\n            right: 2,\n            color: 'fg.default',\n          }}\n          onClick={() => onClosePanel()}\n          variant=\"invisible\"\n        />\n      )}\n\n      {error ? (\n        <SidePanelErrorMessage />\n      ) : loading ? (\n        <SidePanelLoading />\n      ) : metadata ? (\n        <>\n          {showMarketplace && (\n            <UnderlineNav aria-label=\"Help Panel\">\n              <UnderlineNav.Item\n                sx={{paddingY: '10px', '&:hover': {textDecoration: 'none'}}}\n                {...(selectedTab === 'marketplace' && {'aria-current': true})}\n                onSelect={e => {\n                  setSelectedTab('marketplace')\n                  e.preventDefault()\n                }}\n              >\n                Marketplace\n              </UnderlineNav.Item>\n              <UnderlineNav.Item\n                sx={{paddingY: '10px', '&:hover': {textDecoration: 'none'}}}\n                {...(selectedTab === 'documentation' && {'aria-current': true})}\n                onSelect={e => {\n                  setSelectedTab('documentation')\n                  e.preventDefault()\n                }}\n              >\n                Documentation\n              </UnderlineNav.Item>\n            </UnderlineNav>\n          )}\n\n          {selectedTab === 'marketplace' && marketplaceComponent}\n          {selectedTab === 'documentation' && documentationComponent}\n        </>\n      ) : null}\n    </Panel>\n  )\n}\n\ntry{ SidePanelErrorMessage.displayName ||= 'SidePanelErrorMessage' } catch {}\ntry{ SidePanelLoading.displayName ||= 'SidePanelLoading' } catch {}\ntry{ BlobEditSidePanel.displayName ||= 'BlobEditSidePanel' } catch {}\ntry{ BlobEditSidePanelContent.displayName ||= 'BlobEditSidePanelContent' } catch {}","import {useFilesPageInfo, useReposAppPayload} from '@github-ui/code-view-shared/contexts/FilesPageInfoContext'\nimport {useOpenPanel} from '@github-ui/code-view-shared/contexts/OpenPanelContext'\nimport {useShortcut} from '@github-ui/code-view-shared/hooks/shortcuts'\nimport {useUrlCreator} from '@github-ui/code-view-shared/hooks/use-url-creator'\nimport {linkButtonSx} from '@github-ui/code-view-shared/utilities/styles'\nimport type {CodeMirrorSpacingOptions, CollapseTreeFunction, EditInfo, WebCommitInfo} from '@github-ui/code-view-types'\nimport type {CopilotInfo} from '@github-ui/copilot-common-types'\nimport type {Repository} from '@github-ui/current-repository'\nimport {branchPath} from '@github-ui/paths'\nimport {Link} from '@github-ui/react-core/link'\nimport type {RefInfo} from '@github-ui/repos-types'\nimport {ScreenReaderHeading} from '@github-ui/screen-reader-heading'\nimport {ScreenSize, useScreenSize} from '@github-ui/screen-size'\nimport type {BypassMetadata} from '@github-ui/secret-scanning'\nimport {useCodeViewOptions} from '@github-ui/use-code-view-options'\nimport type {WebCommitDialogState} from '@github-ui/web-commit-dialog'\nimport {Box, BranchName, Button, TextInput} from '@primer/react'\nimport type React from 'react'\nimport {useCallback, useEffect, useRef, useState} from 'react'\n\nimport {Breadcrumb, Separator} from '../../../react-shared/Breadcrumb'\nimport {usePrompt} from '../../hooks/UsePrompt'\nimport {Panel} from '../Panel'\nimport {BlobEditorBanners} from './banners/BlobEditorBanners'\nimport {BlobEditHeader, BlobEditorTab} from './BlobEditHeader'\nimport {ReactCodeMirror as CodeMirror} from './CodeMirror/CodeMirror'\nimport {EditIssues} from './EditIssues'\nimport {EditorPreview} from './EditorPreview'\nimport {WorkflowEditor} from './Editors/WorkflowEditor'\nimport {useEditorExtensions, useEditors} from './hooks/use-editors'\nimport {\n  BlobEditSidePanel,\n  blobEditSidePanelEnabled,\n  type BlobEditSidePanelEnabledProps,\n} from './Panels/BlobEditSidePanel'\nimport {normalizeRelativePathChange} from './utilities/relative-path-helper'\nimport WebCommitDialog from './WebCommitDialog'\n\nexport const blobEditSidePanelId = 'blob-edit-side-panel-id'\n\nexport default function BlobEditor({\n  collapseTree,\n  editInfo,\n  repo,\n  showTree,\n  treeToggleElement,\n  webCommitInfo,\n  copilotInfo,\n}: {\n  collapseTree: CollapseTreeFunction\n  editInfo: EditInfo\n  repo: Repository\n  showTree: boolean\n  treeToggleElement: JSX.Element\n  webCommitInfo: WebCommitInfo\n  copilotInfo?: CopilotInfo\n}) {\n  const {helpUrl} = useReposAppPayload()\n  const {getUrl} = useUrlCreator()\n  const {refInfo, path} = useFilesPageInfo()\n  const payloadFileContents = editInfo.content ?? ''\n  const [initialFileContent, setInitialFileContent] = useState<string>(payloadFileContents)\n  const [fileName, setFileName] = useState(editInfo.fileName.split('/').pop() ?? '')\n\n  // we're using a ref to track the contents without triggering re-renders\n  const fileContentsRef = useRef<string>(initialFileContent)\n  const updatedFileContent = fileContentsRef.current\n\n  useEffect(() => {\n    // keep the ref in sync if a user sets content from a banner or template\n    fileContentsRef.current = initialFileContent\n  }, [initialFileContent])\n\n  const [fileContentChanged, setFileContentChanged] = useState(false)\n\n  const onCodeMirrorChange = useCallback(\n    (value: string) => {\n      fileContentsRef.current = value\n      if (payloadFileContents !== value) {\n        setFileContentChanged(true)\n      }\n    },\n    [payloadFileContents],\n  )\n\n  const isNewFile = editInfo.isNewFile\n\n  let initialPath = path\n\n  if (isNewFile && editInfo.fileName) {\n    if (initialPath) {\n      initialPath += `/${editInfo.fileName}`\n    } else {\n      initialPath = editInfo.fileName\n    }\n  }\n\n  const [folderPath, setFolderPath] = useState(() => {\n    const initialFolders = initialPath\n      .split('/')\n      .slice(0, !fileName ? undefined : -1)\n      .join('/')\n    return initialFolders ? `${initialFolders}/` : ''\n  })\n\n  const initialFolderPath = useRef(folderPath)\n\n  const [hasLeadingOrTrailingWhitespaceInPath, setHasLeadingOrTrailingWhitespaceInPath] = useState(false)\n  useEffect(() => {\n    if (folderPath !== initialFolderPath.current) {\n      setHasLeadingOrTrailingWhitespaceInPath(folderPath.split('/').some(folder => folder.trim() !== folder))\n    }\n  }, [folderPath])\n\n  const {screenSize} = useScreenSize()\n\n  const isNarrow = screenSize <= ScreenSize.medium\n\n  const [selectedTab, setSelectedTab] = useState<BlobEditorTab>(BlobEditorTab.Edit)\n  const isEdit = selectedTab === BlobEditorTab.Edit\n  const isPreview = selectedTab === BlobEditorTab.Preview\n  const {selectEditTabShortcut} = useShortcut()\n\n  const [codeMirrorSpacingOptions, setCodeMirrorSpacingOptions] = useState<CodeMirrorSpacingOptions>({\n    lineWrapping: editInfo.codeMirror?.lineWrapping,\n    indentMode: editInfo.codeMirror?.indentMode,\n    indentSize: editInfo.codeMirror?.indentSize,\n  })\n\n  const [secretDetected, setSecretDetected] = useState(false)\n  const [secretBypassMetadata, setSecretBypassMetadata] = useState<BypassMetadata>()\n\n  const completeFilePath = `${folderPath}${fileName}`\n\n  const nameInputRef = useRef<HTMLInputElement>(null)\n  const commitChangesRef = useRef<HTMLButtonElement>(null)\n  const previewContainerRef = useRef<HTMLDivElement>(null)\n\n  const focusCodeMirrorOnNextRender = useRef<boolean>(false)\n\n  const [webCommitDialogState, setWebCommitDialogState] = useState<WebCommitDialogState>('closed')\n\n  const onFileNameChange = useCallback((newFileName: string, newFolderPath: string) => {\n    // changing file name to/from markdown can cause the editor to re-render\n    // copy the ref value into the react state so folks dont lose their work\n    setInitialFileContent(fileContentsRef.current)\n\n    setFileName(newFileName)\n    setFolderPath(newFolderPath)\n  }, [])\n\n  const contentChanged = fileContentChanged || editInfo.enableCommitButton\n\n  const fileNameChanged = completeFilePath !== initialPath\n\n  // This value has to live in a ref because it is used in a callback that is\n  // passed to the code mirror editor. That callback will only be bound once,\n  // so we need a constant reference to the value.\n  const commitDisabledRef = useRef(false)\n  commitDisabledRef.current = !(contentChanged || fileNameChanged) || fileName.length === 0\n\n  let placeholderMessage = `Update ${fileName}`\n\n  if (isNewFile) {\n    placeholderMessage = `Create ${fileName}`\n  } else if (fileNameChanged) {\n    let messageAction\n    if (contentChanged) {\n      messageAction = 'Update and rename'\n    } else {\n      messageAction = 'Rename'\n    }\n\n    if (folderPath.split('/').length !== initialPath.split('/').length) {\n      placeholderMessage = `${messageAction} ${initialPath} to ${folderPath}${fileName}`\n    } else {\n      placeholderMessage = `${messageAction} ${editInfo.fileName} to ${fileName}`\n    }\n  }\n\n  usePrompt(\n    'You have unsaved changes. Do you want to discard them?',\n    (contentChanged || fileNameChanged) && webCommitDialogState !== 'saved',\n  )\n\n  const fileExtension = fileName.includes('.') ? `.${fileName.split('.').pop()}` : undefined\n\n  const isRichtextRenderable = !!fileExtension && editInfo.renderableExtensions.includes(fileExtension)\n\n  const [showMarkdownDiff, setShowMarkdownDiff] = useState(isNewFile)\n\n  const enabledEditors = useEditors(editInfo.editors, completeFilePath)\n  const {workflowEditorEnabled, devContainerEditorEnabled, dependabotEditorEnabled} = enabledEditors\n\n  const editorExtensions = useEditorExtensions(editInfo.editors, completeFilePath)\n\n  const isDiscussionTemplate =\n    completeFilePath.startsWith('.github/DISCUSSION_TEMPLATE/') && /\\.(yml|yaml)$/i.test(fileName)\n\n  const isIssueTemplate =\n    completeFilePath.startsWith('.github/ISSUE_TEMPLATE/') && /^((?!config).+\\.(md|yml|yaml))$/i.test(fileName)\n\n  const isIssueForm =\n    completeFilePath.startsWith('.github/ISSUE_TEMPLATE/') && /^((?!config).+\\.(yml|yaml))$/i.test(fileName)\n\n  const isLegacyIssueTemplate = /^(\\.github\\/)?issue(_|-)template\\.md$/i.test(completeFilePath)\n\n  // a lot of these are being reused between here and banners - need to look into cleaning this up soon\n  const sidePanelEnabledProps: BlobEditSidePanelEnabledProps = {\n    workflowEditorEnabled,\n    devContainerEditorEnabled,\n    isIssueForm,\n    isIssueTemplate: isIssueTemplate || isLegacyIssueTemplate,\n    isDiscussionTemplate,\n  }\n\n  const panelIsEnabled = blobEditSidePanelEnabled(sidePanelEnabledProps) && !editInfo.isOnboardingGuidance\n  const {openPanel, setOpenPanel} = useOpenPanel()\n\n  const panelIsOpen = openPanel === 'edit'\n\n  useEffect(() => {\n    if (panelIsEnabled && !isNarrow) {\n      setOpenPanel('edit')\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [panelIsEnabled, setOpenPanel])\n\n  // If we lose the proper path, we need to close the panel or else it will just be blank\n  // But don't open the panel automatically if they gain the proper path\n  useEffect(() => {\n    if (panelIsOpen && !panelIsEnabled) {\n      setOpenPanel(undefined)\n    }\n  }, [panelIsEnabled, panelIsOpen, setOpenPanel])\n\n  // set focus to name input box on page load if it is a new file\n  useEffect(() => {\n    if (isNewFile) {\n      nameInputRef?.current?.focus()\n    }\n  }, [isNewFile])\n\n  // hide the tree if we're on an empty repo\n  useEffect(() => {\n    if (repo.isEmpty) {\n      collapseTree()\n    }\n  }, [collapseTree, repo.isEmpty])\n\n  if (webCommitInfo.shouldFork || webCommitInfo.shouldUpdate || webCommitInfo.lockedOnMigration) {\n    return (\n      <>\n        {!isNewFile && (\n          <EditBreadcrumb\n            showTree={showTree}\n            treeToggleElement={treeToggleElement}\n            folderPath={folderPath}\n            repo={repo}\n            refInfo={refInfo}\n            onChange={onFileNameChange}\n            fileName={fileName}\n            nameInputRef={nameInputRef}\n            inputDisabled={true}\n          />\n        )}\n        <EditIssues binary={false} helpUrl={helpUrl} webCommitInfo={webCommitInfo} />\n      </>\n    )\n  }\n\n  let screenReaderHeading\n\n  if (isNewFile) {\n    screenReaderHeading = 'Creating a new'\n  } else {\n    screenReaderHeading = 'Editing'\n  }\n\n  let generic = false\n\n  if (workflowEditorEnabled) {\n    screenReaderHeading += ' workflow file'\n  } else if (dependabotEditorEnabled) {\n    screenReaderHeading += ' dependabot file'\n  } else if (devContainerEditorEnabled) {\n    screenReaderHeading += ' devcontainer file'\n  } else if (isIssueTemplate) {\n    screenReaderHeading += ' issue template file'\n  } else if (isDiscussionTemplate) {\n    screenReaderHeading += ' discussion template file'\n  } else {\n    generic = true\n  }\n\n  screenReaderHeading += ` ${isNewFile ? (generic ? 'file' : '') : ` ${fileName}`} in ${repo.name}`\n\n  return (\n    <>\n      <ScreenReaderHeading as=\"h1\" text={screenReaderHeading} />\n\n      {workflowEditorEnabled && (\n        <WorkflowEditor\n          helpUrl={helpUrl}\n          isEnterprise={editInfo.editors.isEnterprise}\n          repositoryActionsEnabled={editInfo.editors.repositoryActionsEnabled}\n          repositoryActionsReadinessPath={editInfo.editors.repositoryActionsReadinessPath}\n        />\n      )}\n\n      <BlobEditorBanners\n        content={updatedFileContent}\n        editInfo={editInfo}\n        webCommitInfo={webCommitInfo}\n        fileName={fileName}\n        filePath={completeFilePath}\n        hasLeadingOrTrailingWhitespaceInPath={hasLeadingOrTrailingWhitespaceInPath}\n        isIssueTemplate={isIssueTemplate}\n        isLegacyIssueTemplate={isLegacyIssueTemplate}\n        secretDetected={secretDetected}\n        secretBypassMetadata={secretBypassMetadata}\n        onSetContent={setInitialFileContent}\n      />\n\n      <Box\n        sx={{display: 'flex', justifyContent: 'space-between', mb: 3, flexWrap: 'wrap', rowGap: 3, maxWidth: '100%'}}\n      >\n        <EditBreadcrumb\n          showTree={showTree}\n          treeToggleElement={treeToggleElement}\n          folderPath={folderPath}\n          repo={repo}\n          refInfo={refInfo}\n          onChange={onFileNameChange}\n          fileName={fileName}\n          nameInputRef={nameInputRef}\n          inputDisabled={isPreview}\n        />\n        <Box sx={{alignItems: 'center', display: 'flex', flexDirection: 'row'}}>\n          <Button as={Link} to={getUrl({action: isNewFile ? 'tree' : 'blob'})} sx={{linkButtonSx}}>\n            Cancel changes\n          </Button>\n\n          <Button\n            data-hotkey=\"Mod+s\"\n            disabled={commitDisabledRef.current}\n            onClick={() => commitDisabledRef.current || setWebCommitDialogState('pending')}\n            variant=\"primary\"\n            sx={{ml: 2}}\n            ref={commitChangesRef}\n          >\n            Commit changes...\n          </Button>\n        </Box>\n      </Box>\n      {!editInfo.binary ? (\n        <Box sx={{display: 'flex', flexDirection: 'row', gap: 3, marginTop: 3}}>\n          <Panel\n            sx={{\n              display: 'flex',\n              isolation: 'isolate',\n              maxWidth: panelIsOpen && !isNarrow ? '70%' : '100%',\n              overflowY: 'none',\n              contain: 'none',\n              zIndex: 1,\n              flex: 1,\n            }}\n          >\n            <BlobEditHeader\n              codeMirrorSpacingOptions={codeMirrorSpacingOptions}\n              editInfo={editInfo}\n              fileName={fileName}\n              isRichtextRenderable={isRichtextRenderable}\n              onTabChange={setSelectedTab}\n              panelIsEnabled={panelIsEnabled}\n              panelIsOpen={panelIsOpen}\n              selectedTab={selectedTab}\n              setCodeMirrorSpacingOptions={setCodeMirrorSpacingOptions}\n              setOpenPanel={setOpenPanel}\n              setShowMarkdownDiff={setShowMarkdownDiff}\n              setUpdatedFileContent={setInitialFileContent}\n              showMarkdownDiff={showMarkdownDiff}\n              copilotInfo={copilotInfo}\n            />\n            <>\n              <Box\n                sx={{display: isEdit ? 'flex' : 'none', isolation: 'isolate', minHeight: 0, flexDirection: 'column'}}\n                className=\"react-code-view-edit\"\n              >\n                <CodeMirror\n                  fileName={fileName}\n                  value={initialFileContent}\n                  spacingOptions={codeMirrorSpacingOptions}\n                  onChange={onCodeMirrorChange}\n                  extensions={editorExtensions}\n                  onPreview={() => {\n                    setSelectedTab(BlobEditorTab.Preview)\n                    // Safari keeps codemirror focused even when display is set to none\n                    window.requestAnimationFrame(() => {\n                      previewContainerRef.current?.focus()\n                    })\n                  }}\n                  focusOnNextRender={focusCodeMirrorOnNextRender}\n                  // We need this in addition to the data-hotkey on the commit button because the editor\n                  // swallows the Ctrl+S events for some reason. So in order to handle hotkeys both\n                  // inside and outside the editor, we need both triggers.\n                  onSave={() => commitDisabledRef.current || setWebCommitDialogState('pending')}\n                  repositoryId={repo.id}\n                  uploadPolicyPath={editInfo.uploadPolicyPath}\n                  uploadExtensions={editInfo.uploadExtensions}\n                  markdownDocsUrl={editInfo.markdownDocsUrl}\n                />\n              </Box>\n              {isPreview && (\n                <Box\n                  ref={previewContainerRef}\n                  tabIndex={-1}\n                  sx={{outline: 'none', isolation: 'isolate', minHeight: 0, overflowY: 'auto'}}\n                >\n                  <button\n                    hidden={true}\n                    data-hotkey={selectEditTabShortcut.hotkey}\n                    onClick={() => {\n                      // Set focus to codemirror\n                      focusCodeMirrorOnNextRender.current = true\n                      setSelectedTab(BlobEditorTab.Edit)\n                    }}\n                  />\n                  <EditorPreview\n                    editInfo={editInfo}\n                    fileContent={updatedFileContent}\n                    fileName={fileName}\n                    refInfo={refInfo}\n                    showMarkdownDiff={showMarkdownDiff}\n                    isRichtextRenderable={isRichtextRenderable}\n                  />\n                </Box>\n              )}\n            </>\n          </Panel>\n          {panelIsOpen && (\n            <BlobEditSidePanel\n              id={blobEditSidePanelId}\n              isEnterprise={editInfo.editors.isEnterprise}\n              isProxima={editInfo.editors.isProxima}\n              enabledProps={sidePanelEnabledProps}\n              isNarrow={isNarrow}\n              onClosePanel={() => setOpenPanel(undefined)}\n            />\n          )}\n        </Box>\n      ) : (\n        <EditIssues binary={true} helpUrl={helpUrl} webCommitInfo={webCommitInfo} />\n      )}\n      {webCommitDialogState === 'pending' || webCommitDialogState === 'saving' ? (\n        <WebCommitDialog\n          content={updatedFileContent}\n          contentChanged={contentChanged}\n          fileName={completeFilePath}\n          isDelete={false}\n          isNewFile={isNewFile}\n          helpUrl={helpUrl}\n          oldPath={initialPath}\n          ownerName={repo.ownerLogin}\n          placeholderMessage={placeholderMessage}\n          refName={refInfo.name}\n          returnFocusRef={commitChangesRef}\n          dialogState={webCommitDialogState}\n          setDialogState={(state: WebCommitDialogState) => {\n            setWebCommitDialogState(state)\n\n            if (state === 'closed' || state === 'saved') {\n              window.requestAnimationFrame(() => {\n                if (commitChangesRef.current) {\n                  commitChangesRef.current.focus()\n                }\n              })\n            }\n          }}\n          webCommitInfo={webCommitInfo}\n          setSecretDetected={setSecretDetected}\n          setSecretBypassMetadata={setSecretBypassMetadata}\n        />\n      ) : null}\n    </>\n  )\n}\n\nfunction EditBreadcrumb({\n  showTree,\n  treeToggleElement,\n  folderPath: initialFolderPath,\n  repo,\n  refInfo,\n  onChange,\n  fileName: initialFileName,\n  nameInputRef,\n  inputDisabled,\n}: {\n  showTree: boolean\n  treeToggleElement: React.ReactNode\n  folderPath: string\n  repo: Repository\n  refInfo: RefInfo\n  onChange: (fileName: string, folderPath: string) => void\n  fileName: string\n  nameInputRef: React.RefObject<HTMLInputElement>\n  inputDisabled: boolean\n}) {\n  const {codeCenterOption} = useCodeViewOptions()\n  const showTreeToggle = !showTree && !repo.isEmpty && !codeCenterOption.enabled\n\n  const [fileName, setFileName] = useState(initialFileName)\n  const [folderPath, setFolderPath] = useState(initialFolderPath)\n\n  const onFileNameInputKeyPress = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (\n        // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n        event.key === 'Backspace' &&\n        folderPath.length > 0 &&\n        nameInputRef.current?.selectionStart === 0 &&\n        nameInputRef.current?.selectionEnd === 0\n      ) {\n        const pathParts = folderPath.split('/')\n        const unchangedPathParts = pathParts.slice(0, -2)\n\n        const newFolderPath = unchangedPathParts.length ? `${unchangedPathParts.join('/')}/` : ''\n        const newFileName = pathParts[pathParts.length - 2] + fileName\n\n        const partLength = pathParts[pathParts.length - 2]!.length\n        event.preventDefault()\n        window.requestAnimationFrame(() => {\n          nameInputRef.current?.setSelectionRange(partLength, partLength)\n        })\n\n        setFileName(newFileName)\n        setFolderPath(newFolderPath)\n        // we dont need to call onChange\n        // onFileNameInputKeyPress triggers first and then onFileNameChange\n        // onFileNameChange always fires the onChange when needed\n      }\n    },\n    [fileName, folderPath, nameInputRef],\n  )\n\n  const onFileNameChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const value = event.target.value\n      let newFileName = fileName\n      let newFolderPath = folderPath\n\n      if (value.includes('/')) {\n        const pathParts = value.split('/')\n\n        if (value.endsWith('/')) {\n          newFileName = ''\n          newFolderPath = `${folderPath}${value}`\n        } else {\n          newFileName = pathParts[pathParts.length - 1] ?? ''\n          newFolderPath = `${folderPath}${pathParts.slice(0, -1).join('/')}/`\n\n          if (pathParts.length > 1) {\n            window.requestAnimationFrame(() => {\n              nameInputRef.current?.setSelectionRange(0, 0)\n            })\n          }\n        }\n      } else {\n        newFileName = value\n      }\n\n      newFolderPath = normalizeRelativePathChange(newFolderPath)\n\n      if (newFolderPath !== initialFolderPath || newFileName !== initialFileName) {\n        setFolderPath(newFolderPath)\n        setFileName(newFileName)\n        onChange(newFileName, newFolderPath)\n      }\n    },\n    [onChange, fileName, folderPath, initialFileName, initialFolderPath, nameInputRef],\n  )\n\n  return (\n    <Box sx={{display: 'flex', alignSelf: 'self-start', alignItems: 'center', flex: 1, pr: 3, maxWidth: '100%'}}>\n      {showTreeToggle && <Box sx={{mr: 2}}>{treeToggleElement}</Box>}\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          flex: 1,\n          flexWrap: 'wrap',\n          maxWidth: showTreeToggle ? 'calc(100% - 75px)' : '100%',\n        }}\n      >\n        <Breadcrumb\n          id=\"file-name-editor-breadcrumb\"\n          path={folderPath}\n          repo={repo}\n          commitish={refInfo.name}\n          isFolder={false}\n        />\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          <Separator />\n          <TextInput\n            aria-label=\"File name\"\n            aria-describedby=\"file-name-editor-breadcrumb\"\n            disabled={inputDisabled}\n            onChange={onFileNameChange}\n            onKeyDown={onFileNameInputKeyPress}\n            value={fileName}\n            ref={nameInputRef}\n            placeholder=\"Name your file...\"\n            sx={{minWidth: '100px'}}\n          />\n          <Box sx={{flexShrink: 0, px: 1}}>in</Box>\n          <BranchName href={branchPath({owner: repo.ownerLogin, repo: repo.name, branch: refInfo.name})}>\n            {refInfo.name}\n          </BranchName>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ BlobEditor.displayName ||= 'BlobEditor' } catch {}\ntry{ EditBreadcrumb.displayName ||= 'EditBreadcrumb' } catch {}","// react-router-dom v6 removed useBlocker() due to edge case downsides\n// https://github.com/remix-run/react-router/releases/tag/v6.0.0-beta.7\n// more deets about why: https://github.com/remix-run/history/issues/690\n// this restores that feature since we don't care about the edge cases\n\nimport type {Blocker, GitHubBrowserHistory, Transition} from '@github-ui/react-core/create-browser-history'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav/states'\nimport {type ContextType, useCallback, useContext, useEffect, useRef} from 'react'\nimport {type Navigator as BaseNavigator, UNSAFE_NavigationContext as NavigationContext} from 'react-router-dom'\n\ninterface Navigator extends BaseNavigator {\n  block: GitHubBrowserHistory['block']\n}\n\ntype NavigationContextWithBlock = ContextType<typeof NavigationContext> & {navigator: Navigator}\n\n// rmorse gist: https://gist.github.com/rmorse/426ffcc579922a82749934826fa9f743\n// lower level history library example, helpful for seeing use of confirmation flow inside useBlocker:https://github.com/remix-run/history/blob/main/docs/blocking-transitions.md\n\n// approach below copied and tweaked from github issue:\n// https://github.com/remix-run/react-router/issues/8139#issuecomment-1023105785\nfunction useBlocker(blocker: Blocker, message: string, when = true) {\n  const {navigator} = useContext(NavigationContext) as NavigationContextWithBlock\n\n  //main tweak required to OP was wrapping unblock in ref so we're only pushing one blocker on the stack for this when expression (i.e. not for every render)\n  const refUnBlock = useRef<() => void>()\n\n  // navigator.block uses addEventListener(\"beforeunload\") but this is not checkable by Turbo,\n  // so we also set window.onbeforeunload to make Turbo aware of the block\n  const previousBeforeUnloadHandlerRef = useRef<(() => void) | null>(null)\n\n  useEffect(() => {\n    function cleanup() {\n      refUnBlock.current?.()\n      refUnBlock.current = undefined\n\n      window.onbeforeunload = previousBeforeUnloadHandlerRef.current\n      previousBeforeUnloadHandlerRef.current = null\n    }\n\n    if (!when) {\n      cleanup()\n      return\n    }\n\n    if (!refUnBlock.current) {\n      // This shouldn't happen:\n      if (!navigator.hasOwnProperty('block')) {\n        return\n      }\n\n      refUnBlock.current = navigator.block((tx: Transition) => {\n        const autoUnblockingTx = {\n          ...tx,\n          retry() {\n            refUnBlock.current?.() //need to unblock so retry succeeds\n            tx.retry()\n          },\n        }\n\n        blocker(autoUnblockingTx)\n      })\n\n      previousBeforeUnloadHandlerRef.current = window.onbeforeunload as () => void\n      window.onbeforeunload = () => message\n    }\n\n    return cleanup\n  }, [navigator, blocker, message, when])\n}\n\n/**\n * @source https://github.com/remix-run/react-router/issues/8139#issuecomment-1021457943\n */\nexport function usePrompt(message: string, when = true) {\n  const blocker = useCallback(\n    (tx: Transition) => {\n      const response = window.confirm(message)\n      if (response) {\n        tx.retry()\n      } else {\n        document.dispatchEvent(new Event(SOFT_NAV_STATE.END))\n        document.dispatchEvent(new Event(SOFT_NAV_STATE.PROGRESS_BAR.END))\n      }\n    },\n    [message],\n  )\n  return useBlocker(blocker, message, when)\n}\n","/**\n * Normalize relative changes (../) in the folder path\n * @param folderPath the folder path to normalize\n * @returns {string} the normalized folder path with relative changes applied\n */\nexport function normalizeRelativePathChange(folderPath: string) {\n  let newFolderPath = folderPath\n\n  // dont try to relative path out of the repo\n  if (newFolderPath === '../') {\n    newFolderPath = ''\n  }\n\n  const parts = newFolderPath.split('/')\n\n  // if the second to last part is '..', remove the last two parts to go up a folder\n  // last part is the / at the end of the folder path\n  if (parts.length > 2 && parts[parts.length - 2] === '..') {\n    parts.pop() // remove the trailing /\n    parts.pop() // remove the ..\n    parts.pop() // remove the preceding folder\n\n    if (parts.length === 0) {\n      newFolderPath = ''\n    } else {\n      newFolderPath = `${parts.join('/')}/`\n    }\n  }\n\n  return newFolderPath\n}\n","import {StopIcon} from '@primer/octicons-react'\nimport {Box, Flash, FormControl, Link, Octicon, Radio, RadioGroup, Text} from '@primer/react'\nimport {type BypassMetadata, BypassReason} from '@github-ui/secret-scanning'\n\nexport function AllowSecretBody({\n  onRadioGroupChange,\n  bypassMetadata,\n  helpUrl,\n  isCliExperience,\n  onClickSecretLocationLink,\n}: {\n  onRadioGroupChange: (selected: string | null) => void\n  bypassMetadata: BypassMetadata\n  helpUrl: string\n  isCliExperience?: boolean\n  onClickSecretLocationLink?: () => void\n}) {\n  const resolvingBlockedCommitHelpUrl = isCliExperience\n    ? `${helpUrl}/code-security/secret-scanning/working-with-secret-scanning-and-push-protection/working-with-push-protection-from-the-command-line#resolving-a-blocked-push`\n    : `${helpUrl}/code-security/secret-scanning/working-with-secret-scanning-and-push-protection/working-with-push-protection-in-the-github-ui#resolving-a-blocked-commit`\n  const repoPushProtectionUrl = `${helpUrl}/code-security/secret-scanning/protecting-pushes-with-secret-scanning`\n  const userPushProtectionUrl = `${helpUrl}/code-security/secret-scanning/working-with-secret-scanning-and-push-protection/push-protection-for-users`\n\n  return (\n    <>\n      <Flash variant=\"danger\" sx={{m: 4, mb: 3, p: 2}}>\n        <Box sx={{display: 'flex'}}>\n          <Octicon icon={StopIcon} sx={{mt: 1, mx: 2}} />\n          <div>\n            <Link\n              href={bypassMetadata.limited_user_bypass_experience_only ? userPushProtectionUrl : repoPushProtectionUrl}\n              target=\"_blank\"\n              inline\n            >\n              Secret scanning\n            </Link>\n            &nbsp;found a {bypassMetadata.is_custom_pattern && ' custom pattern named '}\n            <b>{bypassMetadata.token_label}</b>\n            {bypassMetadata.is_custom_pattern ? ', defined by your admins,' : ' secret'}\n            {isCliExperience && ' in your attempted push'}\n            {bypassMetadata.first_secret_location && (\n              <>\n                &nbsp;on{' '}\n                <Link inline onClick={onClickSecretLocationLink} sx={{cursor: 'pointer'}}>\n                  line {bypassMetadata.first_secret_location.start_line}\n                </Link>\n              </>\n            )}\n            .&nbsp;\n          </div>\n        </Box>\n      </Flash>\n      {bypassMetadata.use_delegated_bypass_flow ? (\n        <>\n          <Box\n            sx={{\n              mx: 4,\n              pb: 3,\n              display: 'flex',\n              flexDirection: 'column',\n              borderBottomWidth: 2,\n              borderBottomStyle: 'solid',\n              borderColor: 'border.default',\n            }}\n          >\n            <Text sx={{fontSize: 2, fontWeight: 'bold', mb: 1}}>Remove detected secrets</Text>\n            {bypassMetadata.push_protection_custom_message ? (\n              <div>\n                <Link href={bypassMetadata.push_protection_custom_message?.message} target=\"_blank\" inline>\n                  Review guidance\n                </Link>{' '}\n                from <b>{bypassMetadata.push_protection_custom_message?.owner_name}</b> and{' '}\n                <Link href={resolvingBlockedCommitHelpUrl} inline>\n                  remove any detected secrets\n                </Link>{' '}\n                <span>from your commit and commit history.</span>\n              </div>\n            ) : (\n              <div>\n                <Link href={resolvingBlockedCommitHelpUrl} inline>\n                  Remove any detected secrets\n                </Link>{' '}\n                <span>from your commit and commit history.</span>\n              </div>\n            )}\n          </Box>\n          <Box sx={{mx: 4, mt: 3, display: 'flex', flexDirection: 'column'}}>\n            <Text sx={{fontSize: 2, fontWeight: 'bold', mb: 1}}>Or request bypass privileges</Text>\n            <span>Submit a request to bypass these push protections. If granted, you may attempt this push again.</span>\n          </Box>\n        </>\n      ) : (\n        <>\n          <Box sx={{mx: 4}}>\n            <span> Allowing this secret risks exposure. Instead, </span>\n            {bypassMetadata.push_protection_custom_message && (\n              <span>\n                <Link href={bypassMetadata.push_protection_custom_message?.message} target=\"_blank\" inline>\n                  review guidance\n                </Link>{' '}\n                from <b>{bypassMetadata.push_protection_custom_message?.owner_name}</b> and{' '}\n              </span>\n            )}\n            <span>\n              consider{' '}\n              <Link href={resolvingBlockedCommitHelpUrl} target=\"_blank\" inline>\n                removing the secret from your commit and commit history\n              </Link>\n              .\n            </span>\n          </Box>\n          <Box sx={{mt: 3, mx: 4}}>\n            <span> Exposing this secret can allow someone to: </span>\n            <ul className=\"mx-4\">\n              {!bypassMetadata.is_custom_pattern && (\n                <li>\n                  Verify the identity of this <b>{bypassMetadata.token_label}</b> secret.\n                </li>\n              )}\n              <li>Know which resources this secret can access</li>\n              <li>Act on behalf of the secret&apos;s owner</li>\n              {bypassMetadata.repo_has_secret_scanning_experience && (\n                <li>Push this secret to this repository without being blocked</li>\n              )}\n            </ul>\n          </Box>\n          <Box sx={{mt: 3, mx: 4, fontSize: 0}}>\n            {bypassMetadata.limited_user_bypass_experience_only && (\n              <span>\n                {' '}\n                Push protection is enabled for your account. To disable, visit your{' '}\n                <Link href={'/settings/security_analysis'} target=\"_blank\" inline>\n                  code security and analysis settings\n                </Link>\n                .\n              </span>\n            )}\n          </Box>\n          <hr className=\"my-4\" />\n          {!bypassMetadata.limited_user_bypass_experience_only && (\n            <Box sx={{mx: 4}}>\n              <RadioGroup name=\"bypass-reason\" onChange={onRadioGroupChange}>\n                <RadioGroup.Label visuallyHidden>Bypass reason</RadioGroup.Label>\n                <FormControl>\n                  <Radio value={BypassReason.UsedInTests} />\n                  <FormControl.Label>It&apos;s used in tests</FormControl.Label>\n                  <FormControl.Caption>\n                    The secret poses no risk. If anyone finds it, they cannot do any damage or gain access to sensitive\n                    information.\n                  </FormControl.Caption>\n                </FormControl>\n                <FormControl>\n                  <Radio value={BypassReason.FalsePositive} />\n                  <FormControl.Label>It&apos;s a false positive</FormControl.Label>\n                  <FormControl.Caption>The detected string is not a secret.</FormControl.Caption>\n                </FormControl>\n                <FormControl>\n                  <Radio value={BypassReason.WillFixLater} />\n                  <FormControl.Label>I&apos;ll fix it later</FormControl.Label>\n                  <FormControl.Caption>\n                    The secret is real, <b>I understand the risk</b>, and I will need to revoke it. This will open a\n                    security alert and notify admins of this repository.\n                  </FormControl.Caption>\n                </FormControl>\n              </RadioGroup>\n            </Box>\n          )}\n        </>\n      )}\n    </>\n  )\n}\n\ntry{ AllowSecretBody.displayName ||= 'AllowSecretBody' } catch {}","import {useClientValue} from '@github-ui/use-client-value'\nimport {Box, Flash, Spinner, Text} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport React from 'react'\n\nimport {DEFAULT_RENDERER_HEIGHT, RenderState, useFileRenderer} from './use-file-renderer'\n\nconst MAX_BLOB_SIZE = 200_000_000 // 200MB\nconst MAX_NOTEBOOK_SIZE = 30_000_000 // 30MB\n\nexport interface FileRendererBlobData {\n  identityUuid: string\n  size: number\n  type: string\n  url: string\n}\n\nexport default function FileRendererBlob({identityUuid, size, type, url}: FileRendererBlobData) {\n  const [tempOrigin] = useClientValue(() => window.location.origin, 'https://www.github.com', [])\n  const origin = new URL(url, tempOrigin).origin\n  const {renderState, errorMsg, iFrameRef, containerRef} = useFileRenderer(origin)\n\n  const isNotebook = type === 'ipynb'\n  if ((isNotebook && size > MAX_NOTEBOOK_SIZE) || size > MAX_BLOB_SIZE) {\n    return <Flash variant=\"danger\">Sorry, this is too big to display.</Flash>\n  }\n\n  // Setting display: none or visibility: hidden on the iframe prevents it from loading.\n  // Instead, while the content is not ready, make it tiny and hide it in the lower right corner.\n  const iframeStateSX: BetterSystemStyleObject =\n    renderState !== RenderState.READY\n      ? {height: '1px', width: '1px', position: 'fixed', bottom: 0, right: 0}\n      : {height: '100%', width: '100%'}\n\n  const rendererReadySx = {height: DEFAULT_RENDERER_HEIGHT, padding: 0, background: 'none'} as const\n  const nonErrorSx = {\n    borderBottomLeftRadius: '6px',\n    borderBottomRightRadius: '6px',\n    lineHeight: '0',\n    padding: 5,\n    textAlign: 'center',\n  } as const\n\n  return (\n    <Box sx={{width: '100%', display: 'flex', justifyContent: 'center'}}>\n      <Box\n        data-hpc\n        data-host={origin}\n        data-type={type}\n        ref={containerRef}\n        sx={{\n          width: 1024,\n          ...(renderState !== RenderState.ERROR ? nonErrorSx : {}),\n          ...(renderState === RenderState.READY ? rendererReadySx : {}),\n        }}\n      >\n        {renderState === RenderState.ERROR ? (\n          <FileRendererErrorMessage error={errorMsg} />\n        ) : renderState !== RenderState.READY ? (\n          <Spinner size=\"large\" sx={{mx: 'auto'}} />\n        ) : null}\n\n        {renderState !== RenderState.ERROR && (\n          <Box\n            as=\"iframe\"\n            ref={iFrameRef}\n            src={`${url}#${identityUuid}`}\n            sandbox=\"allow-scripts allow-same-origin allow-top-navigation\"\n            sx={{\n              border: 0,\n              display: 'block',\n              ...iframeStateSX,\n            }}\n            name={identityUuid}\n            title=\"File display\"\n          >\n            Viewer requires iframe.\n          </Box>\n        )}\n      </Box>\n    </Box>\n  )\n}\n\nfunction FileRendererErrorMessage({error}: {error: string | null}) {\n  if (!error) {\n    return <Flash variant=\"danger\">Unable to render code block</Flash>\n  }\n\n  const msgLines = error.split('\\n')\n  return (\n    <Flash variant=\"danger\">\n      <Text as=\"p\" sx={{fontWeight: 'bold'}}>\n        Error rendering embedded code\n      </Text>\n      <p>\n        {msgLines.map((line, index) => (\n          <React.Fragment key={`error-line-${index}`}>\n            {line}\n            <br />\n          </React.Fragment>\n        ))}\n      </p>\n    </Flash>\n  )\n}\n\ntry{ FileRendererBlob.displayName ||= 'FileRendererBlob' } catch {}\ntry{ FileRendererErrorMessage.displayName ||= 'FileRendererErrorMessage' } catch {}","import {SearchDropdown, type SearchDropdownItem, type SearchDropdownProps} from '@github-ui/search-dropdown'\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport {useEffect, useState} from 'react'\n\nexport interface GitIgnoreDropdownProps\n  extends Pick<SearchDropdownProps, 'buttonLabel' | 'buttonSx' | 'allowNoneOption' | 'textInputProps'> {\n  selectedTemplate?: string\n  onSelect: (templateName: string) => void\n  onOpen?: () => void\n}\n\nexport function GitIgnoreDropdown({\n  selectedTemplate,\n  buttonLabel,\n  buttonSx,\n  onSelect,\n  allowNoneOption = false,\n  onOpen,\n}: GitIgnoreDropdownProps) {\n  const [templates, setTemplates] = useState<string[] | null>([])\n\n  useEffect(() => {\n    const getItems = async () => {\n      const response = await verifiedFetchJSON('/site/gitignore/templates')\n      if (!response.ok) {\n        setTemplates(null)\n        return\n      }\n      try {\n        setTemplates(await response.json())\n      } catch {\n        setTemplates(null)\n      }\n    }\n    getItems()\n  }, [])\n\n  const selectableItems: SearchDropdownItem[] = templates?.map(template => ({text: template, id: template})) || []\n\n  return (\n    <SearchDropdown\n      title=\".gitignore template\"\n      inputLabel=\"Template filter\"\n      buttonLabel={buttonLabel}\n      buttonSx={buttonSx}\n      selectedItem={selectableItems.find(item => item.id === selectedTemplate)}\n      onSelect={item => onSelect(item.id)}\n      items={selectableItems}\n      allowNoneOption={allowNoneOption}\n      onOpen={onOpen}\n    />\n  )\n}\n\ntry{ GitIgnoreDropdown.displayName ||= 'GitIgnoreDropdown' } catch {}","import {TriangleDownIcon} from '@primer/octicons-react'\nimport {Button, type ButtonProps, SelectPanel, Text} from '@primer/react'\nimport type {ItemInput} from '@primer/react/lib-esm/deprecated/ActionList/List'\nimport {useState} from 'react'\n\nexport interface SearchDropdownItem {\n  id: string\n  text: string\n}\n\nexport interface SearchDropdownProps {\n  title: string\n  buttonLabel?: string\n  buttonSx?: ButtonProps['sx']\n  items: SearchDropdownItem[]\n  selectedItem?: SearchDropdownItem\n  allowNoneOption?: boolean\n  onSelect: (item: SearchDropdownItem) => void\n  onOpen?: () => void\n  textInputProps?: React.ComponentProps<typeof SelectPanel>['textInputProps']\n  anchorButtonProps?: React.ComponentProps<typeof Button>\n  inputLabel: string\n}\n\nexport function SearchDropdown({\n  allowNoneOption = false,\n  buttonLabel,\n  buttonSx,\n  inputLabel,\n  items,\n  onOpen,\n  onSelect,\n  selectedItem,\n  textInputProps,\n  title,\n  anchorButtonProps = {},\n}: SearchDropdownProps) {\n  const [open, setOpen] = useState(false)\n\n  const [searchTerm, setSearchTerm] = useState('')\n  const selectableItems: SearchDropdownItem[] = allowNoneOption ? [{text: 'None', id: ''}, ...items] : items\n  const filteredItems = selectableItems.filter(item => item.text.toLowerCase().includes(searchTerm.toLowerCase()))\n\n  const buttonTitle = buttonLabel || title\n  const selectedItemDisplay = selectedItem?.text || 'None'\n\n  return (\n    <SelectPanel\n      title={title}\n      showItemDividers\n      open={open}\n      inputLabel={inputLabel}\n      onFilterChange={setSearchTerm}\n      placeholderText=\"Filter\"\n      onOpenChange={isOpen => {\n        setOpen(isOpen)\n        isOpen && onOpen?.()\n      }}\n      onSelectedChange={(item?: ItemInput) => item && onSelect(item as SearchDropdownItem)}\n      items={filteredItems}\n      selected={selectedItem}\n      renderAnchor={({'aria-labelledby': ariaLabelledBy, ...anchorProps}) => (\n        <Button\n          trailingAction={TriangleDownIcon}\n          aria-labelledby={ariaLabelledBy}\n          {...anchorProps}\n          sx={buttonSx}\n          size=\"small\"\n          {...anchorButtonProps}\n          aria-describedby=\"license-picker-label\"\n        >\n          <Text sx={{color: 'fg.muted'}}>{buttonTitle}:</Text> {selectedItemDisplay}\n        </Button>\n      )}\n      overlayProps={{width: 'small', maxHeight: 'large'}}\n      textInputProps={textInputProps}\n    />\n  )\n}\n\ntry{ SearchDropdown.displayName ||= 'SearchDropdown' } catch {}","\"use client\";\n\n// src/useBaseQuery.ts\nimport * as React from \"react\";\nimport { notifyManager } from \"@tanstack/query-core\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary.js\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { useIsRestoring } from \"./isRestoring.js\";\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n} from \"./errorBoundaryUtils.js\";\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from \"./suspense.js\";\nfunction useBaseQuery(options, Observer, queryClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof options !== \"object\" || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object'\n      );\n    }\n  }\n  const client = useQueryClient(queryClient);\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const defaultedOptions = client.defaultQueryOptions(options);\n  client.getDefaultOptions().queries?._experimental_beforeQuery?.(\n    defaultedOptions\n  );\n  defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n  ensureStaleTime(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const [observer] = React.useState(\n    () => new Observer(\n      client,\n      defaultedOptions\n    )\n  );\n  const result = observer.getOptimisticResult(defaultedOptions);\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = isRestoring ? () => void 0 : observer.subscribe(notifyManager.batchCalls(onStoreChange));\n        observer.updateResult();\n        return unsubscribe;\n      },\n      [observer, isRestoring]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  React.useEffect(() => {\n    observer.setOptions(defaultedOptions, { listeners: false });\n  }, [defaultedOptions, observer]);\n  if (shouldSuspend(defaultedOptions, result)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  }\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    throwOnError: defaultedOptions.throwOnError,\n    query: client.getQueryCache().get(defaultedOptions.queryHash)\n  })) {\n    throw result.error;\n  }\n  ;\n  client.getDefaultOptions().queries?._experimental_afterQuery?.(\n    defaultedOptions,\n    result\n  );\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\nexport {\n  useBaseQuery\n};\n//# sourceMappingURL=useBaseQuery.js.map","\"use client\";\n\n// src/useQuery.ts\nimport { QueryObserver } from \"@tanstack/query-core\";\nimport { useBaseQuery } from \"./useBaseQuery.js\";\nfunction useQuery(options, queryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient);\n}\nexport {\n  useQuery\n};\n//# sourceMappingURL=useQuery.js.map"],"names":["Attachment","constructor","file","directory","state","id","href","name","percent","traverse","transfer","items","Array","from","some","entry","item","webkitGetAsEntry","isDirectory","map","filter","Promise","resolve","visible","files","f","result","File","push","fullPath","isImage","indexOf","type","isVideo","saving","saved","attributes","_a","_b","_c","isPending","isSaving","isSaved","startsWith","path","entries","results","getEntries","reject","reader","createReader","read","readEntries","length","getFile","FileAttachmentElement","HTMLElement","connectedCallback","addEventListener","onDragenter","onDragleave","onDrop","onPaste","onChange","disconnectedCallback","removeEventListener","hasAttribute","value","setAttribute","removeAttribute","attach","transferred","attachments","DataTransfer","dispatchEvent","CustomEvent","bubbles","cancelable","detail","hasFile","types","dragging","event","target","currentTarget","clearTimeout","window","setTimeout","dataTransfer","dropEffect","preventDefault","stopPropagation","container","images","clipboardData","pastedFile","kind","test","getAsFile","input","HTMLInputElement","getAttribute","customElements","get","define","_extends","Object","assign","bind","n","e","arguments","t","r","hasOwnProperty","call","apply","isMultiSelectVariant","selected","isArray","focusZoneSettings","disabled","SelectPanel","open","onOpenChange","renderAnchor","props","children","rest","trailingAction","anchorRef","externalAnchorRef","placeholder","placeholderText","inputLabel","title","subtitle","onSelectedChange","filterValue","externalFilterValue","onFilterChange","externalOnFilterChange","footer","textInputProps","overlayProps","sx","listProps","titleId","subtitleId","setInternalFilterValue","undefined","useCallback","onOpen","gesture","onClose","renderMenuAnchor","useMemo","selectedItems","text","join","itemsToRender","isItemSelected","includes","role","onAction","itemFromAction","_item$onAction","defaultPrevented","otherSelectedItems","selectedItem","multiSelectOnChange","singleSelectOnChange","inputRef","extendedTextInputProps","m","contrast","leadingVisual","focusTrapSettings","initialFocusRef","display","flexDirection","height","maxHeight","pt","px","as","fontSize","color","selectionVariant","borderTop","borderColor","padding","displayName","LiveRegionContext","useLiveRegion","context","LiveRegion","message","setMessage","announce","Provider","LiveRegionOutlet","liveRegion","Message","savedLiveRegion","committedRef","current","timeoutId","getRootRule","JsonCodeMirrorLintingHelper","CodeMirrorLintingHelper","updateLinting","cm","annotations","lint","getValue","operation","clearState","createMarks","_getRootRule","jsonErrors","getJsoncErrors","doc","errors","jsonc","messages","error","startLine","startColumn","fileOffsetToLineAndColumn","offset","line","ch","to","html","severity","registerLinterEvents","codeMirrorLintingHelper","observe","add","codeMirror","editor","anyEditor","CodeMirror","on","lintTimeout","getWrapperElement","showTooltip","BypassReasonSelectorElement","reasonSelected","submitBtn","copyBlobFields","blobEditorForm","document","querySelector","bypassForm","HTMLFormElement","element","createHiddenInputField","elements","form","copyInput","createElement","appendChild","required","controller","CodeEditorExtensions","parseDiscoveredSecrets","fileContents","discoveredSecrets","secrets","JSON","parse","locations","location","lines","split","normalizedStartLine","start_line","normalizedEndLine","end_line","endLine","normalizedStartBytePosition","start_line_byte_position","startLineBytePosition","normalizedEndBytePosition","end_line_byte_position","endLineBytePosition","startLineCharacter","GetCharIndexFromBytePosition","endLineCharacter","parseSingleSecret","parsedStartLine","parsedEndLine","annotateDiscoveredSecrets","codeEditor","markText","className","emitAnnotateDiscoveredSecrets","emitToCodeMirror","lineNumber","character","emitAnnotateDiscoveredSecretsWithLocation","parsed","secretScanningIndexPath","owner","repo","details","params","page","query","encodePart","replace","secretScanningSecretTypeOptionsPath","secretScanningProviderOptionsPath","secretScanningAlertPath","number","secretScanningAlertTimelinePath","secretScanningAlertAutofixPath","secretScanningSecureStoragePath","secretScanningAlertAiAuditPath","secretScanningAlertLocationsPath","secretScanningTokenResolvePath","secretScanningTokenReportPath","secretScanningCustomPatternPath","secretScanningFeedbackPath","secretScanningTokenMetadataOrgAccessPath","accessId","tokenType","tokenNumber","secretScanningTokenValidationStatus","aboutTokenScanningPath","helpUrl","securityAnalysisSettingsPath","dismissNoticePath","notice","promotePushProtectionBypassPath","ownerDisplayLogin","repoName","ksuid","requestPushProtectionBypassPath","ruleSuiteId","hashId","Buffer","encodeURI","toString","autocompleteTheme","EditorView","baseTheme","border","backgroundColor","fontFamily","borderRadius","boxShadow","minWidth","margin","whiteSpace","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","background","paddingLeft","fontStyle","editorTarget","innerEditorTarget","helpPanelConstructor","panelDom","position","showPanel","of","dom","top","getCursor","view","selection","main","setCursor","newPosition","dispatch","anchor","somethingSelected","ranges","empty","getSelection","sliceDoc","setSelection","startPosition","endPosition","head","posToOffset","pos","offsetToPos","lineAt","getLine","insertAtStartOfLine","replaceRange","removeFromStartOfLine","replaceSelection","getRange","changes","insert","insertAtCursor","cursor","find","search","searchCursor","SearchCursor","next","findAndReplace","match","moveCursorToPositionAndScroll","endColumn","startLineElement","endLineElement","focus","selectionEnd","effects","scrollIntoView","EditorSelection","range","y","RangeError","lineElement","getIndentationUnit","facet","indentUnit","DEFAULT_RENDERER_HEIGHT","useFileRenderer","origin","renderStateRef","setRenderState","useStatefulRef","initialState","renderStateInt","setRenderStateInt","useState","useRef","errorMsg","iFrameRef","containerRef","renderTiming","untimed","messageListener","onMessage","setError","renderMessage","getRenderMessage","data","messageData","body","payload","renderWindow","contentWindow","timingData","hello","Date","now","sendRenderCommand","cmd","ack","branding","style","width","getBoundingClientRect","sendIFrameDataToIFrame","iframe","msg","useEffect","resetTiming","timeoutWatchdog","checkHello","load","helloTimer","loadTimer","renderState","postMessage","stringify","RenderState","OS","Android","iOS","macOS","Windows","Linux","Unknown","isMacOS","getOS","os","isMobileOS","ssrSafeWindow","navigator","userAgent","platform","userAgentData","macosPlatforms","iosPlatforms","windowsPlatforms","mobile","isAndroid","isIOS","isWindows","isLinux","isDesktop","isMobile","BypassReason","getUtf8StringLength","str","count","s","replaceText","textarea","oldText","newText","isFocused","beginning","substring","remaining","setTextareaValueAndCursor","selectionStart","insertText","options","point","insertedText","newline","appendNewline","newPoint","contents","encoder","TextEncoder","u8array","Uint8Array","i","char","written","encodeInto","diff","SecretDetectedDialogBlob","bypassMetadata","content","isOpen","setIsOpen","closeOverlay","selectedRadioValue","setSelectedRadioValue","React","promoteBypassPath","owner_display_login","repo_name","placeholder_ksuid","requestBypassPath","rule_suite_id","isSuccess","unblockSecretSuccess","isError","unblockSecretFailed","refetch","bypassSecret","useQuery","queryKey","queryFn","reason","limited_user_bypass_experience_only","WillFixLater","bypass_placeholder_ksuid","parent_action","formData","FormData","key","dataValue","set","verifiedFetch","method","headers","Accept","ok","enabled","retry","first_secret_location","codeMirrorEditorElement","SecretScanningPushProtection","Dialog","onDismiss","aria-labelledby","Box","overflowY","mt","AllowSecretBody","onRadioGroupChange","onClickSecretLocationLink","justifyContent","use_delegated_bypass_flow","Button","variant","mr","onClick","Flash","mb","Octicon","icon","CheckIcon","CitationFileBanner","citationHelpUrl","repositoryCitationTemplateUrl","setContent","getTemplate","fetch","alignItems","div","strong","Link","inline","CustomSlashCommandsBanner","customSlashCommandsDocsUrl","Label","FundingBanner","repositoryFundingLinksEnabled","editRepoPath","helpPath","p","code","em","ISSUE_TEMPLATE_HELP_URL","IssueTemplateConfigBanner","IssueTemplateLegacyBanner","IssueTemplateValidBanner","filePath","isIssueForm","endsWith","issueHelpUrl","LeadingOrTrailingWhitespaceBanner","MixedLineEndingsBanner","AlertIcon","kbd","ProfileReadmeBanner","OrgProfileReadmeBanner","OrgMemberProfileReadmeBanner","TranscodingBanner","detectedEncoding","queryClient","QueryClient","BlobEditorBanners","editInfo","webCommitInfo","fileName","hasLeadingOrTrailingWhitespaceInPath","isIssueTemplate","isLegacyIssueTemplate","secretDetected","secretBypassMetadata","onSetContent","useCurrentRepository","useReposAppPayload","banners","showFundingBanner","sponsorsEnabled","showIssueTemplateConfigBanner","showCitationBanner","citationRegex","readmeRegex","profileReadmeRegex","showCustomSlashCommandsBanner","customSlashCommandsEnabled","showProfileReadmeCallout","profileReadmeCalloutEnabled","showOrgProfileReadmeCallout","orgProfileReadmeCalloutEnabled","showOrgMemberProfileReadmeCallout","orgMemberProfileReadmeCalloutEnabled","forkedRepo","EditingForkBanner","forkName","forkOwner","replacedDetectedEncoding","hasMixedLineEndings","ownerLogin","QueryClientProvider","client","defaultCodeMirrorSpacingOptions","indentSize","indentMode","lineWrapping","CodeMirrorSpacingControls","formControlSx","setIndentMode","setIndentSize","setLineWrapping","justifySelf","gap","CodeMirrorSpacingControl","updatedIndentMode","label","updatedIndentSize","updatedLineWrapping","FormControl","visuallyHidden","Select","size","aria-label","OptGroup","option","Option","ExpandPanelButton","expanded","onToggleExpanded","ariaControls","ref","ExpandButton","alignment","ariaLabel","tooltipDirection","testid","CodeOfConductSelector","url","linkButtonSx","CodeOfConductIcon","GitIgnoreTemplateSelector","onTemplateSelect","selectedTemplate","setSelectedTemplate","onSelect","template","fetchTemplateContent","clearGitignoreTemplateCache","GitIgnoreDropdown","buttonLabel","buttonSx","templatesMap","Map","clear","templateName","response","verifiedFetchJSON","LicenseSelector","LawIcon","BlobEditHeader","codeMirrorSpacingOptions","isRichtextRenderable","onTabChange","panelIsEnabled","panelIsOpen","selectedTab","setCodeMirrorSpacingOptions","setOpenPanel","setShowMarkdownDiff","setUpdatedFileContent","showMarkdownDiff","copilotInfo","isNewFile","isEditing","isPreviewing","showLicensePicker","pickers","licensePickerAvailable","showCodeOfConductPicker","codeOfConductPickerAvailable","showGitIgnoreTemplateSelector","showSpacingControls","showFileActions","showMarkdownDiffPreview","marginRightOffset","panelToggleElement","blobEditSidePanelId","borderBottom","flexWrap","SegmentedControl","minHeight","flexGrow","ml","licenseToolPath","codeOfConductToolPath","CopilotPopover","alignSelf","Checkbox","checked","fontWeight","BlobEditorTab","FileUpload","allowedExtensions","allowDragAndDrop","markdownDocsUrl","repositoryId","uploadPath","stickyFooter","friendlyExtensionSentence","friendlyExtensionNames","ext","index","friendlyName","toUpperCase","extensions","uploadToken","useCSRFToken","setIsFocused","file-attachment","class","data-upload-repository-id","data-upload-policy-url","data-upload-container-type","data-upload-container-id","data-csrf","hidden","accept","multiple","onFocus","onBlur","span","pointerEvents","Spinner","verticalAlign","marginRight","data-file-upload-message","a","data-ga-click","rel","Tooltip","direction","MarkdownIcon","CodeMirrorNext","lazy","ReactCodeMirror","focusOnNextRender","onPreview","onSave","spacingOptions","uploadPolicyPath","uploadExtensions","hashChangeListener","onCodeMirrorNextUpdate","newValue","onHashChange","hash","exec","parseInt","fileUploadEnabled","pop","codeMirrorOptions","indentWithTabs","dragDrop","Suspense","fallback","LoadingFallback","ariaLabelledBy","spacing","enableFileUpload","isHpc","keyBindings","run","focusNextRenderRef","onCreateEditor","hasFocus","onDestroyEditor","DiffPreview","diffData","fileAnchor","table","tbody","leftLine","left","rightLine","right","tr","renderLine","noNewLine","HunkHeaderDiffLine","currentLine","isLeftColumn","isSplit","lineOrientation","lineOrientationFrom","lineAnchor","lineAnchorFrom","EmptyDiffLine","DiffLinePart","FundingDialog","fundingData","useCondensedLayout","sponsorableUsers","marginLeft","borderLeft","borderRight","py","listStyleType","li","hasValidPlatform","sponsorableOrg","h5","GiHubFundingComponent","isOrg","mx","user","condensed","externalAccounts","Text","link","boxSizing","src","toLocaleLowerCase","alt","LinkIcon","reportAbuseLink","muted","containerSx","float","GitHubAvatar","square","ownerAvatarPath","flexShrink","ownerPath","HeartIcon","transition","transform","animationName","animationDuration","previousController","EditorPreview","fileContent","refInfo","previewHTML","setPreviewHTML","setDiffData","blobData","setBlobData","displayData","setDisplayData","previewToken","previewEditPath","setFundingData","fetchPreview","abort","signal","AbortController","append","currentOid","json","markdownMessage","getPreviewMessage","messageHTML","messageHtml","diffLines","rawLines","rawText","stylingDirectivesLine","stylingDirectives","fundingLinks","SafeHTMLBox","lineHeight","wordWrap","unverifiedHTML","overflowX","lineData","LineNumber","codeLineData","preventClick","CodeLine","forceVisible","copilotAccessAllowed","shouldUseInert","FileRendererBlob","displayUrl","identityUuid","renderFileType","PreviewMessages","WorkflowEditor","isEnterprise","repositoryActionsEnabled","repositoryActionsReadinessPath","needsRunnersConfigured","setNeedsRunnersConfigured","getRunnerConfigurationRequired","anyRunnersConfigured","data-help-url","data-on-schedule-url","data-testid","SelectedDiagnostic","diagnostic","LintState","diagnostics","panel","init","markedDiagnostics","diagnosticFilter","lintConfig","markerFilter","d","widget","DiagnosticWidget","mark","findDiagnostic","after","found","between","spec","hideTooltip","tooltip","is","setDiagnosticsEffect","touchesRange","togglePanel","movePanelSelection","lintState","create","none","update","docChanged","mapped","selPos","mapPos","effect","LintPanel","provide","val","decorations","activeMark","lintTooltip","side","field","stackStart","stackEnd","Math","min","max","tooltipFilter","end","above","diagnosticsTooltip","renderDiagnostic","closeLintPanel","lintPlugin","fromClass","timeout","delay","lintTime","sources","all","source","then","reduce","b","concat","appendConfig","compute","hideOn","config","startState","needsRefresh","force","destroy","combine","u","enables","assignKeys","actions","assigned","c","toLowerCase","inPanel","keys","action","fired","click","keyIndex","nameElt","slice","onclick","onmousedown","eq","other","toDOM","PanelItem","floor","random","list","tabIndex","phrase","onkeydown","keyCode","moveSelection","selectedIndex","charCodeAt","contains","needsSync","newSelectedItem","_start","_end","j","splice","requestMeasure","sel","write","scrollTop","bottom","sync","domPos","firstChild","rm","prev","nextSibling","remove","parentNode","insertBefore","underline","svg","attrs","encodeURIComponent","font","opacity","backgroundPosition","backgroundRepeat","paddingBottom","backgroundImage","borderBottomColor","textDecoration","background_fallback","color_fallback","LintGutterMarker","elt","diagnosticsFilter","lintGutterConfig","onmouseover","gutterMarkerMouseOver","marker","hovered","mousemove","elementAtHeight","documentTop","coordsAtPos","setLintGutterTooltip","getCoords","onmouseout","onmousemove","rect","clientX","clientY","nodeType","classList","lintGutterTooltip","hoverTime","hoverTimeout","configs","customLinter","lintSource","linter","editorAttributes","buildLintMarks","annotation","fromOffset","toOffset","replaceValue","createTooltip","lintMessage","fixes","tooltipTemplate","render","tooltipHeader","tooltipTitle","tooltipSubtitle","tooltipMessage","tooltipFixes","fixButton","firstFix","textContent","select","fix","button","jsonLintSource","devContainerRootRule","helpPanel","defaultKeymapWithoutEnter","startCompletion","closeCompletion","moveCompletionSelection","yamlAutocomplete","completionContext","autocomplete","completionSource","keymaps","acceptCompletion","overrideEnterKey","autocompletion","override","icons","defaultKeymap","Prec","highest","keymap","acceptCompletionAndStartNext","yamlHelpPanel","autocompleteHelpPanel","appleShortcuts","helpContent","buildCompletions","suggestions","completions","suggestion","displayText","description","applySnippet","snippet","completion","insertSnippet","indent","tokens","tab","ind","getIndentation","token","replaceWhitespaces","insertCompletionText","pickedCompletion","selectedCompletion","dependabotAutocompleteContext","explicit","textBeforeCursor","getDependabotRootRule","suggestionsForExpression","dependabotLintSource","workflowAutocompleteContext","getWorkflowRootRule","workflowYamlLintSource","VALID_DEVCONTAINER_PATH_GLOB","isDevContainerEditorEnabled","devContainerEditorEnabled","isDependabotEditorEnabled","dependabotEditorEnabled","isWorkflowEditorEnabled","actionsEnabled","useEditors","editorInfo","completeFilePath","workflowEditorEnabled","devcontainerEditorEnabled","fetchJSON","memoizeCache","memoizeFetchJSON","memoize","cache","DevContainerDocumentation","overflow","h2","h3","h4","pre","DevContainerMarketplace","pb","include-fragment","my","ServerSideDocumentation","documentation","WorkflowMarketplace","remote-input","param","aria-owns","SidePanelErrorMessage","AlertFillIcon","SidePanelLoading","BlobEditSidePanel","isProxima","isNarrow","innerProps","BlobEditSidePanelContent","onClosePanel","renderHeader","renderBody","enabledProps","marketplaceComponent","documentationComponent","metadata","loading","useSidePanelMetadata","setMetadata","setLoading","metadataPath","blobSidePanelMetadataPath","cancelled","metadataResponse","marketplaceUrls","workflow","docsHtml","devcontainers","issueForm","issueTemplate","isDiscussionTemplate","discussionTemplate","stickySx","useStickyHeaderSx","showMarketplace","setSelectedTab","Panel","maxWidth","IconButton","unsafeDisableTooltip","data-hotkey","XIcon","order","UnderlineNav","Item","paddingY","BlobEditor","collapseTree","showTree","treeToggleElement","screenReaderHeading","getUrl","useUrlCreator","useFilesPageInfo","payloadFileContents","initialFileContent","setInitialFileContent","setFileName","fileContentsRef","updatedFileContent","fileContentChanged","setFileContentChanged","onCodeMirrorChange","initialPath","folderPath","setFolderPath","initialFolders","initialFolderPath","setHasLeadingOrTrailingWhitespaceInPath","folder","trim","screenSize","useScreenSize","ScreenSize","medium","Edit","isEdit","isPreview","Preview","selectEditTabShortcut","useShortcut","setSecretDetected","setSecretBypassMetadata","nameInputRef","commitChangesRef","previewContainerRef","focusCodeMirrorOnNextRender","webCommitDialogState","setWebCommitDialogState","onFileNameChange","newFileName","newFolderPath","contentChanged","enableCommitButton","fileNameChanged","commitDisabledRef","placeholderMessage","messageAction","usePrompt","when","useBlocker","blocker","useContext","NavigationContext","refUnBlock","previousBeforeUnloadHandlerRef","cleanup","onbeforeunload","block","tx","confirm","Event","SOFT_NAV_STATE","END","PROGRESS_BAR","fileExtension","renderableExtensions","editors","editorExtensions","useEditorExtensions","devContainerEditor","helpPanelContainer","sidePanelEnabledProps","blobEditSidePanelEnabled","isOnboardingGuidance","openPanel","useOpenPanel","isEmpty","shouldFork","shouldUpdate","lockedOnMigration","EditBreadcrumb","inputDisabled","EditIssues","binary","generic","ScreenReaderHeading","rowGap","marginTop","isolation","contain","zIndex","flex","requestAnimationFrame","outline","hotkey","WebCommitDialog","isDelete","oldPath","ownerName","refName","returnFocusRef","dialogState","setDialogState","initialFileName","codeCenterOption","useCodeViewOptions","showTreeToggle","onFileNameInputKeyPress","pathParts","unchangedPathParts","partLength","setSelectionRange","normalizeRelativePathChange","parts","pr","Breadcrumb","commitish","isFolder","Separator","TextInput","aria-describedby","onKeyDown","BranchName","branchPath","branch","isCliExperience","resolvingBlockedCommitHelpUrl","repoPushProtectionUrl","userPushProtectionUrl","StopIcon","is_custom_pattern","token_label","borderBottomWidth","borderBottomStyle","push_protection_custom_message","owner_name","ul","repo_has_secret_scanning_experience","hr","RadioGroup","Radio","UsedInTests","Caption","FalsePositive","tempOrigin","useClientValue","URL","iframeStateSX","READY","rendererReadySx","data-hpc","data-host","data-type","ERROR","textAlign","FileRendererErrorMessage","sandbox","msgLines","br","allowNoneOption","templates","setTemplates","getItems","selectableItems","SearchDropdown","anchorButtonProps","setOpen","searchTerm","setSearchTerm","filteredItems","buttonTitle","selectedItemDisplay","showItemDividers","anchorProps","TriangleDownIcon","useBaseQuery","Observer","isRestoring","errorResetBoundary","defaultedOptions","defaultQueryOptions","getDefaultOptions","queries","_experimental_beforeQuery","_optimisticResults","observer","getOptimisticResult","unsubscribe","subscribe","batchCalls","onStoreChange","updateResult","getCurrentResult","setOptions","listeners","throwOnError","getQueryCache","queryHash","_experimental_afterQuery","notifyOnChangeProps","trackResult"],"sourceRoot":""}