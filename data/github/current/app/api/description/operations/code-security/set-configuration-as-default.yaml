---
summary: 'Set a code security configuration as a default for an organization'
description: |-
  Sets a code security configuration as a default to be applied to new repositories in your organization.

  This configuration will be applied to the matching repository type (all, none, public, private and internal) by default when they are created.

  The authenticated user must be an administrator or security manager for the organization to use this endpoint.

  OAuth app tokens and personal access tokens (classic) need the `write:org` scope to use this endpoint.
tags:
  - code-security
operationId: code-security/set-configuration-as-default

externalDocs:
  description: API method documentation
  url: '${externalDocsUrl}/rest/code-security/configurations#set-a-code-security-configuration-as-a-default-for-an-organization'

x-github-internal:
  path: /orgs/{org}/code-security/configurations/{configuration_id}/defaults
  http-method: put
  published: true
  owner: '@github/security-products-growth-reviewers'

x-github-releases:
  - api.github.com
  - ghec
  - ghes: '>= 3.15'

parameters:
  - $ref: '../../components/parameters/org.yaml'
  - $ref: '../../components/parameters/configuration-id.yaml'

requestBody:
  required: true
  content:
    application/json:
      schema:
        type: object
        properties:
          default_for_new_repos:
            type: string
            description: Specify which types of repository this security configuration should be applied to by default.
            enum:
              - all
              - none
              - private_and_internal
              - public
      examples:
        default:
          summary: Set this configuration to be enabled by default on all new repositories.
          value:
            default_for_new_repos: all

responses:
  '200':
    description: Default successfully changed.
    content:
      application/json:
        schema:
          type: object
          properties:
            default_for_new_repos:
              type: string
              description: Specifies which types of repository this security configuration is applied to by default.
              enum:
                - all
                - none
                - private_and_internal
                - public
            configuration:
              $ref: '../../components/schemas/code-security-configuration.yaml'
        examples:
          default:
            value:
              default_for_new_repos: all
              configuration:
                $ref: '../../components/examples/code-security-configuration.yaml'
  '403':
    $ref: '../../components/responses/forbidden.yaml'
  '404':
    $ref: '../../components/responses/not_found.yaml'

x-github:
  githubCloudOnly: false
  enabledForGitHubApps: true
  category: code-security
  subcategory: configurations

x-githubEnterpriseOverlays:
  '>= 3.15':
    description: |-
      Sets a code security configuration as a default to be applied to new repositories in your organization.

      This configuration will be applied to the matching repository type (all, none, public, private and internal) by default when they are created.

      The authenticated user must be an administrator or security manager for the organization to use this endpoint.

      OAuth app tokens and personal access tokens (classic) need the `write:org` scope to use this endpoint.

      > [!NOTE]
      > The enablement status will only be returned for installed security products.
