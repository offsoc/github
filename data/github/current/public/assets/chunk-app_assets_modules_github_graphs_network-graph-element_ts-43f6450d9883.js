"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_graphs_network-graph-element_ts","ui_packages_fetch-utils_fetch-utils_ts"],{97500:(t,e,i)=>{i.r(e);var s=i(39595),n=i(27193),r=i(98164),h=i(69248),a=i(70170);function o(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function l(t,e){var i=o(t,e,"get");return i.get?i.get.call(t):i.value}function c(t,e,i,s){var n,r=arguments.length,h=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(h=(r<3?n(h):r>3?n(e,i,h):n(e,i))||h);return r>3&&h&&Object.defineProperty(e,i,h),h}function m(t){return getComputedStyle(document.documentElement).getPropertyValue(t)}let u=class Network{redraw(){this.ctx=this.initCanvas(this.container),null!=this.graph&&this.graph.draw(),null!=this.chrome&&this.chrome.draw()}initCanvas(t){let e=t.getElementsByTagName("canvas")[0];this.width=t.offsetWidth,this.height=Math.max(this.minimalHeight,this.height+window.innerHeight-document.body.scrollHeight),e.style.zIndex="0";let i=e.getContext("2d"),s=window.devicePixelRatio||1;return e.width=this.width*s,e.height=this.height*s,e.style.width=`${this.width}px`,e.style.height=`${this.height}px`,i.scale(s,s),i}startLoader(t){this.ctx.save(),this.ctx.font="14px 'Helvetica Neue', Arial, sans-serif",this.ctx.fillStyle="#cacaca",this.ctx.textAlign="center",this.ctx.fillText(t,this.width/2,155),this.ctx.restore(),this.displayLoader()}get loader(){return this.container.querySelector(".js-network-graph-loading-area")}stopLoader(){this.loader.hidden=!0}displayLoader(){this.loader.hidden=!1}async loadMeta(){try{let t=this.container.getAttribute("data-network-graph-meta-url"),e=await (0,n.Ee)(t,{headers:{accept:"application/json"}}),i=await e.json();this.init(i)}catch(t){this.initError()}}init(t){let e,i,s;if(!v)return;this.focus=t.focus;let n=this.nethash=t.nethash,r=this.spaceMap=t.spacemap,h=this.userBlocks=t.blocks,a=this.commits=function(){let i=t.dates,s=[];for(let t=0;t<i.length;++t)e=i[t],s.push(new d(t,e));return s}(),o=this.users={},l=t.users;for(i=0,s=l.length;i<s;i++){let t=l[i];this.users[t.name]=t}let c=this.chrome=new f(this,this.ctx,a,h,o),m=this.graph=new g(this,this.ctx,a,o,r,h,n);this.mouseDriver=new p(this.container,c,m),this.keyDriver=new w(c,m),this.stopLoader(),m.drawBackground(),c.draw(),m.requestInitialChunk()}initError(){this.stopLoader(),this.ctx.clearRect(0,0,this.width,this.height),this.startLoader("Graph could not be drawn due to a network problem.")}constructor(t){this.focus=null,this.container=t,this.minimalHeight=480,this.width=0,this.height=this.minimalHeight,this.ctx=this.initCanvas(this.container),this.startLoader("Loading graph data"),this.loadMeta()}},d=class Commit{populate(t,e,i){this.user=e,this.author=t.author,this.date=new Date(t.date.replace(" ","T")),this.gravatar=t.gravatar,this.id=t.id,this.login=t.login,this.message=t.message,this.space=t.space,this.time=t.time,this.parents=this.populateParents(t.parents,i),this.requested=!0,this.populated=new Date}populateParents(t,e){return t.map(([t,i,s])=>{let n=e[i];return n.id=t,n.space=s,n})}constructor(t,e){this.user=null,this.author=null,this.gravatar=null,this.id=null,this.time=t,this.date=new Date(e),this.requested=!1,this.populated=null,this.message=null,this.space=0,this.parents=[]}},f=class NetworkChrome{moveX(t){this.offsetX+=t,this.offsetX>this.graphMidpoint?this.offsetX=this.graphMidpoint:this.offsetX<this.graphMidpoint-this.commits.length*this.nameLineHeight&&(this.offsetX=this.graphMidpoint-this.commits.length*this.nameLineHeight)}moveY(t){this.offsetY+=t,this.offsetY>0||this.contentHeight<this.network.height-this.graphTopOffset?this.offsetY=0:this.offsetY<-this.contentHeight+this.network.height/2&&(this.offsetY=-this.contentHeight+this.network.height/2)}calcContentHeight(){let t,e;let i=0,s=this.userBlocks;for(t=0,e=s.length;t<e;t++)i+=s[t].count;return i*this.nameLineHeight}hover(t,e){let i,s;let n=this.userBlocks;for(i=0,s=n.length;i<s;i++){let s=n[i];if(t>0&&t<this.namesWidth&&e>this.graphTopOffset+this.offsetY+s.start*this.nameLineHeight&&e<this.graphTopOffset+this.offsetY+(s.start+s.count)*this.nameLineHeight)return this.users[s.name]}return null}draw(){this.drawTimeline(this.ctx),this.drawUsers(this.ctx)}drawTimeline(t){let e,i,s,n,r,h,a,o;for(t.fillStyle=this.headerColor,t.fillRect(0,0,this.network.width,this.headerHeight),t.fillStyle=this.dividerColor,t.fillRect(0,this.headerHeight-1,this.network.width,1),(h=Math.floor((0-this.offsetX)/this.nameLineHeight))<0&&(h=0),(r=Math.floor(h+this.network.width/(this.nameLineHeight-1)))>this.commits.length&&(r=this.commits.length),t.save(),t.translate(this.offsetX,0),n=null,s=null,i=e=a=h,o=r;a<=o?e<o:e>o;i=a<=o?++e:--e){let e=this.commits[i],r=this.months[e.date.getMonth()];if(r!==n){t.font="bold 12px 'Helvetica Neue', Arial, sans-serif",t.fillStyle=m("--color-fg-default")||m("--fgColor-default");let e=this.ctx.measureText(r).width;t.fillText(r,i*this.nameLineHeight-e/2,this.headerHeight/2+4),n=r}let h=e.date.getDate();if(h!==s){t.font="12px 'Helvetica Neue', Arial, sans-serif",t.fillStyle=m("--color-fg-default")||m("--fgColor-default");let e=this.ctx.measureText(h.toString()).width;t.fillText(h.toString(),i*this.nameLineHeight-e/2,this.headerHeight+this.dateRowHeight/2+3),s=h,t.fillStyle=m("--color-border-default")||m("--borderColor-default"),t.fillRect(i*this.nameLineHeight,this.headerHeight,1,6)}}t.restore()}drawUsers(t){let e,i,s;t.fillStyle=m("--color-canvas-default")||m("--bgColor-default"),t.fillRect(0,0,this.namesWidth,this.network.height),t.save(),t.translate(0,this.headerHeight+this.dateRowHeight+this.offsetY);let n=this.userBlocks;for(i=e=0,s=n.length;e<s;i=++e){let e=n[i];t.fillStyle=this.userBgColors[i%2],t.fillRect(0,e.start*this.nameLineHeight,this.namesWidth,e.count*this.nameLineHeight),this.activeUser&&this.activeUser.name===e.name&&(t.fillStyle=m("--color-border-default")||m("--borderColor-default"),t.fillRect(0,e.start*this.nameLineHeight,this.namesWidth,e.count*this.nameLineHeight));let s=(e.start+e.count/2)*this.nameLineHeight+3;t.fillStyle=m("--color-border-default")||m("--borderColor-default"),t.fillRect(0,e.start*this.nameLineHeight+e.count*this.nameLineHeight-1,this.namesWidth,1),t.fillStyle=m("--color-fg-default")||m("--fgColor-default"),t.font="13px 'Helvetica Neue', Arial, sans-serif",t.textAlign="center",t.fillText(e.name,this.namesWidth/2,s,96)}t.restore(),t.fillStyle=this.headerColor,t.fillRect(0,0,this.namesWidth,this.headerHeight),t.fillStyle=m("--color-fg-default")||m("--fgColor-default"),t.font="12px 'Helvetica Neue', Arial, sans-serif",t.fillText("Owners",40,this.headerHeight/2+3),t.fillStyle=this.dividerColor,t.fillRect(this.namesWidth-1,10,1,this.headerHeight-20),t.fillStyle=this.dividerColor,t.fillRect(0,this.headerHeight-1,this.namesWidth,1),t.fillStyle=this.dividerColor,t.fillRect(this.namesWidth-1,this.headerHeight,1,this.network.height-this.headerHeight)}constructor(t,e,i,s,n){this.network=t,this.ctx=e,this.commits=i,this.userBlocks=s,this.users=n,this.namesWidth=120,this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.userBgColors=[m("--color-canvas-default")||m("--bgColor-default"),m("--color-canvas-subtle")||m("--bgColor-muted")],this.headerColor=m("--color-canvas-subtle")||m("--bgColor-muted"),this.dividerColor=m("--color-border-default")||m("--borderColor-default"),this.headerHeight=40,this.dateRowHeight=30,this.graphTopOffset=10+this.headerHeight+this.dateRowHeight,this.nameLineHeight=24,this.offsetX=this.namesWidth+(t.width-this.namesWidth)/2-t.focus*this.nameLineHeight,this.offsetY=0,this.contentHeight=this.calcContentHeight(),this.graphMidpoint=this.namesWidth+(t.width-this.namesWidth)/2,this.activeUser=null}},g=class NetworkGraph{moveX(t){this.offsetX+=t,this.offsetX>this.graphMidpoint?this.offsetX=this.graphMidpoint:this.offsetX<this.graphMidpoint-this.commits.length*this.nameLineHeight&&(this.offsetX=this.graphMidpoint-this.commits.length*this.nameLineHeight),this.hotLoadCommits()}moveY(t){this.offsetY+=t,this.offsetY>0||this.contentHeight<this.network.height-this.graphTopOffset?this.offsetY=0:this.offsetY<-this.contentHeight+this.network.height/2&&(this.offsetY=-this.contentHeight+this.network.height/2)}toggleRefs(){this.showRefs=!this.showRefs}calcContentHeight(){let t,e;let i=0,s=this.userBlocks;for(t=0,e=s.length;t<e;t++)i+=s[t].count;return i*this.nameLineHeight}hover(t,e){let i,s,n,r;let h=this.timeWindow();for(s=i=n=h.min,r=h.max;n<=r?i<=r:i>=r;s=n<=r?++i:--i){let i=this.commits[s],n=this.offsetX+i.time*this.nameLineHeight,r=this.offsetY+this.graphTopOffset+i.space*this.nameLineHeight;if(t>n-5&&t<n+5&&e>r-5&&e<r+5)return i}return null}hotLoadCommits(){let t;if((t=Math.floor((-this.offsetX+this.graphMidpoint)/this.nameLineHeight))<0&&(t=0),t>this.commits.length-1&&(t=this.commits.length-1),null!=this.lastHotLoadCenterIndex&&10>Math.abs(this.lastHotLoadCenterIndex-t))return;this.lastHotLoadCenterIndex=t;let e=this.backSpan(t,200),i=this.frontSpan(t,200);return e&&i?this.requestChunk(e[0],i[1]):i?this.requestChunk(i[0],i[1]):e?this.requestChunk(e[0],e[1]):void 0}backSpan(t,e){let i,s,n,r,h,a,o;for(r=null,s=i=t;(t<=0?i<=0:i>=0)&&s>t-e;s=t<=0?++i:--i)if(!this.commits[s].requested){r=s;break}if(null===r)return null;for(h=null,a=null,s=n=o=r;(o<=0?n<=0:n>=0)&&s>r-e;s=o<=0?++n:--n)if(this.commits[s].requested){h=s;break}return null!=h?a=h+1:(a=r-e)<0&&(a=0),[a,r]}frontSpan(t,e){let i,s,n,r,h,a,o,l,c;for(o=null,s=i=t,r=this.commits.length;(t<=r?i<r:i>r)&&s<t+e;s=t<=r?++i:--i)if(!this.commits[s].requested){o=s;break}if(null===o)return null;for(l=null,c=null,s=n=h=o,a=this.commits.length;(h<=a?n<a:n>a)&&s<o+e;s=h<=a?++n:--n)if(this.commits[s].requested){l=s;break}return c=null!=l?l-1:o+e>=this.commits.length?this.commits.length-1:o+e,[o,c]}chunkUrl(t){let e=new URL(document.querySelector(".js-network-graph-container").getAttribute("data-network-graph-chunk-url"),window.location.origin),i=new URLSearchParams(e.search.slice(1));for(let e in t)i.append(e,t[e]);return e.search=i.toString(),e.toString()}async requestInitialChunk(){if(!v)return;let t=this.chunkUrl({nethash:this.nethash}),e=await fetch(t,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!e.ok){let t=Error(),i=e.statusText?` ${e.statusText}`:"";throw t.message=`HTTP ${e.status}${i}`,t}let i=await e.json();this.importChunk(i),this.draw(),this.network.chrome.draw()}async requestChunk(t,e){let i,s;if(!v)return;for(s=i=t;t<=e?i<=e:i>=e;s=t<=e?++i:--i)this.commits[s].requested=!0;let n=this.chunkUrl({nethash:this.nethash,start:t.toString(),end:e.toString()}),r=await fetch(n,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!r.ok){let t=Error(),e=r.statusText?` ${r.statusText}`:"";throw t.message=`HTTP ${r.status}${e}`,t}let h=await r.json();this.importChunk(h),this.draw(),this.network.chrome.draw(),this.lastHotLoadCenterIndex=this.network.focus}importChunk(t){let e,i,s;if(!t.commits)return;let n=t.commits,r=[];for(e=0,s=n.length;e<s;e++){let t,s;let h=n[e],a=this.spaceUserMap[h.space],o=this.commits[h.time];o.populate(h,a,this.commits);let l=o.parents,c=[];for(t=0,s=l.length;t<s;t++){let e,s,n;let r=l[t],h=[];for(i=e=s=r.time+1,n=o.time;s<=n?e<n:e>n;i=s<=n?++e:--e)this.connectionMap[i]=this.connectionMap[i]||[],h.push(this.connectionMap[i].push(o));c.push(h)}r.push(c)}return r}timeWindow(){let t,e;return(e=Math.floor((this.namesWidth-this.offsetX+this.nameLineHeight)/this.nameLineHeight))<0&&(e=0),(t=e+Math.floor((this.network.width-this.namesWidth)/this.nameLineHeight))>this.commits.length-1&&(t=this.commits.length-1),{min:e,max:t}}draw(){let t,e,i,s,n,r,h,a,o,l,c,m,u,d,f,g;this.drawBackground();let p=this.timeWindow(),w=p.min,v=p.max;this.ctx.save(),this.ctx.translate(this.offsetX,this.offsetY+this.graphTopOffset);let x={},y=this.spaceMap;for(i=e=0,r=y.length;e<r;i=++e)for(f=this.spaceMap.length-i-1,s=n=w;w<=v?n<=v:n>=v;s=w<=v?++n:--n)(t=this.commits[s]).populated&&t.space===f&&(this.drawConnection(t),x[t.id]=!0);for(i=l=w;w<=v?l<=v:l>=v;i=w<=v?++l:--l){let e=this.connectionMap[i];if(e)for(c=0,h=e.length;c<h;c++)x[(t=e[c]).id]||(this.drawConnection(t),x[t.id]=!0)}let H=this.spaceMap;for(i=m=0,a=H.length;m<a;i=++m)for(f=this.spaceMap.length-i-1,s=u=w;w<=v?u<=v:u>=v;s=w<=v?++u:--u)(t=this.commits[s]).populated&&t.space===f&&(t===this.activeCommit?this.drawActiveCommit(t):this.drawCommit(t));if(this.showRefs)for(s=d=w;w<=v?d<=v:d>=v;s=w<=v?++d:--d){if(!(t=this.commits[s]).populated)continue;let e=this.headsMap[t.id];if(!e)continue;let i=0;for(g=0,o=e.length;g<o;g++){let s=e[g];if(this.spaceUserMap[t.space].name===s.name){let e=this.drawHead(t,s.head,i);i+=e}}}if(this.ctx.restore(),this.activeCommit)return this.drawCommitInfo(this.activeCommit)}drawBackground(){let t,e,i;this.ctx.clearRect(0,0,this.network.width,this.network.height),this.ctx.save(),this.ctx.translate(0,this.offsetY+this.graphTopOffset),this.ctx.clearRect(0,-10,this.network.width,this.network.height);let s=this.userBlocks;for(e=t=0,i=s.length;t<i;e=++t){let t=s[e];this.ctx.fillStyle=this.bgColors[e%2],this.ctx.fillRect(0,t.start*this.nameLineHeight-10,this.network.width,t.count*this.nameLineHeight),this.ctx.fillStyle=m("--color-border-default")||m("--borderColor-default"),this.ctx.fillRect(0,(t.start+t.count)*this.nameLineHeight-11,this.network.width,1)}return this.ctx.restore()}drawCommit(t){let e=t.time*this.nameLineHeight,i=t.space*this.nameLineHeight;return this.ctx.beginPath(),this.ctx.arc(e,i,3,0,2*Math.PI,!1),this.ctx.fillStyle=this.spaceColor(t.space),this.ctx.fill()}drawActiveCommit(t){let e=t.time*this.nameLineHeight,i=t.space*this.nameLineHeight;return this.ctx.beginPath(),this.ctx.arc(e,i,6,0,2*Math.PI,!1),this.ctx.fillStyle=this.spaceColor(t.space),this.ctx.fill()}drawCommitInfo(t){let e=t.message?this.splitLines(t.message,48):[],i=Math.max(56,38+16*e.length),s=this.offsetX+t.time*this.nameLineHeight,n=this.graphTopOffset+this.offsetY+t.space*this.nameLineHeight,r=0,h=0;r=s<this.graphMidpoint?s+10:s-350,h=n<40+(this.network.height-40)/2?n+10:n-i-10,this.ctx.save(),this.ctx.translate(r,h),this.ctx.fillStyle=m("--color-canvas-overlay")||m("--overlay-bgColor"),this.ctx.strokeStyle=m("--color-border-default")||m("--borderColor-default"),this.ctx.lineWidth=1,this.roundRect(0,0,340,i,3);let a=this.gravatars[t.gravatar];if(a)this.drawGravatar(a,10,10);else{var o;(a=new Image).src=t.gravatar,a.onload=(o=this,function(){o.activeCommit===t&&(o.drawGravatar(a,r+10,h+10),o.gravatars[t.gravatar]=a)})}return this.ctx.fillStyle=m("--color-fg-default")||m("--fgColor-default"),this.ctx.font="bold 12px 'Helvetica Neue', Arial, sans-serif",this.ctx.fillText(t.author,55,24),this.ctx.fillStyle=m("--color-fg-muted")||m("--fgColor-muted"),this.ctx.font="11px Consolas, Menlo, Courier, monospace",t.id&&this.ctx.fillText(t.id.slice(0,7),280,24),this.drawMessage(e,55,41),this.ctx.restore()}drawGravatar(t,e,i){return this.ctx.save(),this.ctx.fillStyle="#fff",this.ctx.strokeStyle="rgba(0, 0, 0, 0.0)",this.ctx.lineWidth=.1,this.roundRect(e+2,i+2,32,32,4),this.ctx.clip(),this.ctx.drawImage(t,e+2,i+2,32,32),this.ctx.restore()}roundRect(t,e,i,s,n){return this.ctx.beginPath(),this.ctx.moveTo(t,e+n),this.ctx.lineTo(t,e+s-n),this.ctx.quadraticCurveTo(t,e+s,t+n,e+s),this.ctx.lineTo(t+i-n,e+s),this.ctx.quadraticCurveTo(t+i,e+s,t+i,e+s-n),this.ctx.lineTo(t+i,e+n),this.ctx.quadraticCurveTo(t+i,e,t+i-n,e),this.ctx.lineTo(t+n,e),this.ctx.quadraticCurveTo(t,e,t,e+n),this.ctx.fill(),this.ctx.stroke()}drawMessage(t,e,i){let s,n,r;this.ctx.font="12px 'Helvetica Neue', Arial, sans-serif",this.ctx.fillStyle=m("--color-fg-default")||m("--fgColor-default");let h=[];for(n=s=0,r=t.length;s<r;n=++s){let s=t[n];h.push(this.ctx.fillText(s,e,i+16*n))}return h}splitLines(t,e){let i,s,n;let r=t.split(" "),h=[];for(i=0,n="",s=r.length;i<s;i++){let t=r[i];n.length+1+t.length<e?n=""===n?t:`${n} ${t}`:(h.push(n),n=t)}return h.push(n),h}drawHead(t,e,i){this.ctx.font="11px 'Helvetica Neue', Arial, sans-serif",this.ctx.save();let s=this.ctx.measureText(e.name).width;this.ctx.restore();let n=t.time*this.nameLineHeight,r=t.space*this.nameLineHeight+5+i;return this.ctx.save(),this.ctx.translate(n,r-2.5),this.ctx.fillStyle=m("--color-neutral-emphasis-plus")||m("--bgColor-emphasis"),this.ctx.beginPath(),this.ctx.moveTo(0,2.5),this.ctx.lineTo(-4,10),this.ctx.quadraticCurveTo(-9,10,-9,15),this.ctx.lineTo(-9,15+s),this.ctx.quadraticCurveTo(-9,15+s+5,-4,15+s+5),this.ctx.lineTo(4,15+s+5),this.ctx.quadraticCurveTo(9,15+s+5,9,15+s),this.ctx.lineTo(9,15),this.ctx.quadraticCurveTo(9,10,4,10),this.ctx.lineTo(0,2.5),this.ctx.fill(),this.ctx.fillStyle=m("--color-fg-on-emphasis")||m("--fgColor-onEmphasis"),this.ctx.font="12px 'Helvetica Neue', Arial, sans-serif",this.ctx.textBaseline="middle",this.ctx.scale(.85,.85),this.ctx.rotate(Math.PI/2),this.ctx.fillText(e.name,19,-.5),this.ctx.restore(),s+this.nameLineHeight}drawConnection(t){let e,i,s;let n=t.parents,r=[];for(i=e=0,s=n.length;e<s;i=++e){let e=n[i];0===i?e.space===t.space?r.push(this.drawBasicConnection(e,t)):r.push(this.drawBranchConnection(e,t)):r.push(this.drawMergeConnection(e,t))}return r}drawBasicConnection(t,e){let i=this.spaceColor(e.space);return this.ctx.strokeStyle=i,this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(t.time*this.nameLineHeight,e.space*this.nameLineHeight),this.ctx.lineTo(e.time*this.nameLineHeight,e.space*this.nameLineHeight),this.ctx.stroke()}drawBranchConnection(t,e){let i=this.spaceColor(e.space);return this.ctx.strokeStyle=i,this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(t.time*this.nameLineHeight,t.space*this.nameLineHeight),this.ctx.lineTo(t.time*this.nameLineHeight,e.space*this.nameLineHeight),this.ctx.lineTo(e.time*this.nameLineHeight-10,e.space*this.nameLineHeight),this.ctx.stroke(),this.threeClockArrow(i,e.time*this.nameLineHeight,e.space*this.nameLineHeight)}drawMergeConnection(t,e){let i;let s=this.spaceColor(t.space);return(this.ctx.strokeStyle=s,this.ctx.lineWidth=2,this.ctx.beginPath(),t.space>e.space)?(this.ctx.moveTo(t.time*this.nameLineHeight,t.space*this.nameLineHeight),this.safePath(t.time,e.time,t.space))?(this.ctx.lineTo(e.time*this.nameLineHeight-10,t.space*this.nameLineHeight),this.ctx.lineTo(e.time*this.nameLineHeight-10,e.space*this.nameLineHeight+15),this.ctx.lineTo(e.time*this.nameLineHeight-5.7,e.space*this.nameLineHeight+7.5),this.ctx.stroke(),this.oneClockArrow(s,e.time*this.nameLineHeight,e.space*this.nameLineHeight)):((i=this.closestMargin(t.time,e.time,t.space,-1),t.space===e.space+1&&t.space===i+1)?(this.ctx.lineTo(t.time*this.nameLineHeight,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-15,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-9.5,i*this.nameLineHeight+7.7),this.ctx.stroke(),this.twoClockArrow(s,e.time*this.nameLineHeight,i*this.nameLineHeight)):t.time+1===e.time?(i=this.closestMargin(t.time,e.time,e.space,0),this.ctx.lineTo(t.time*this.nameLineHeight,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-15,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-15,e.space*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-9.5,e.space*this.nameLineHeight+7.7),this.ctx.stroke(),this.twoClockArrow(s,e.time*this.nameLineHeight,e.space*this.nameLineHeight)):(this.ctx.lineTo(t.time*this.nameLineHeight+10,t.space*this.nameLineHeight-10),this.ctx.lineTo(t.time*this.nameLineHeight+10,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-10,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-10,e.space*this.nameLineHeight+15),this.ctx.lineTo(e.time*this.nameLineHeight-5.7,e.space*this.nameLineHeight+7.5),this.ctx.stroke(),this.oneClockArrow(s,e.time*this.nameLineHeight,e.space*this.nameLineHeight)),this.addMargin(t.time,e.time,i)):((i=this.closestMargin(t.time,e.time,e.space,-1))<e.space?(this.ctx.moveTo(t.time*this.nameLineHeight,t.space*this.nameLineHeight),this.ctx.lineTo(t.time*this.nameLineHeight,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-12.7,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-12.7,e.space*this.nameLineHeight-10),this.ctx.lineTo(e.time*this.nameLineHeight-9.4,e.space*this.nameLineHeight-7.7),this.ctx.stroke(),this.fourClockArrow(s,e.time*this.nameLineHeight,e.space*this.nameLineHeight)):(this.ctx.moveTo(t.time*this.nameLineHeight,t.space*this.nameLineHeight),this.ctx.lineTo(t.time*this.nameLineHeight,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-12.7,i*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-12.7,e.space*this.nameLineHeight+10),this.ctx.lineTo(e.time*this.nameLineHeight-9.4,e.space*this.nameLineHeight+7.7),this.ctx.stroke(),this.twoClockArrow(s,e.time*this.nameLineHeight,e.space*this.nameLineHeight)),this.addMargin(t.time,e.time,i))}addMargin(t,e,i){return this.marginMap[i]||(this.marginMap[i]=[]),this.marginMap[i].push([t,e])}oneClockArrow(t,e,i){return this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.moveTo(e-3,i+10.5),this.ctx.lineTo(e-9,i+5.5),this.ctx.lineTo(e-2.6,i+3.5),this.ctx.fill()}twoClockArrow(t,e,i){return this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.moveTo(e-12.4,i+6.6),this.ctx.lineTo(e-9.3,i+10.6),this.ctx.lineTo(e-3.2,i+2.4),this.ctx.fill()}threeClockArrow(t,e,i){return this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.moveTo(e-10,i-3.5),this.ctx.lineTo(e-10,i+3.5),this.ctx.lineTo(e-4,i),this.ctx.fill()}fourClockArrow(t,e,i){return this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.moveTo(e-12.4,i-6.6),this.ctx.lineTo(e-9.3,i-10.6),this.ctx.lineTo(e-3.2,i-2.4),this.ctx.fill()}safePath(t,e,i){let s,n;let r=this.spaceMap[i];for(s=0,n=r.length;s<n;s++){let i=r[s];if(this.timeInPath(t,i))return i[1]===e}return!1}closestMargin(t,e,i,s){let n,r,h,a;let o=this.spaceMap.length;for(h=s,r=!1,n=!1,a=!1;!(n&&r);){if(i+h>=0&&this.safeMargin(t,e,i+h))return i+h;i+h<0&&(r=!0),i+h>o&&(n=!0),!1===a&&0===h?(h=-1,a=!0):h=h<0?-h-1:-h-2}return i>0?i-1:0}safeMargin(t,e,i){let s,n;if(!this.marginMap[i])return!0;let r=this.marginMap[i];for(s=0,n=r.length;s<n;s++){let i=r[s];if(this.pathsCollide([t,e],i))return!1}return!0}pathsCollide(t,e){return this.timeWithinPath(t[0],e)||this.timeWithinPath(t[1],e)||this.timeWithinPath(e[0],t)||this.timeWithinPath(e[1],t)}timeInPath(t,e){return t>=e[0]&&t<=e[1]}timeWithinPath(t,e){return t>e[0]&&t<e[1]}spaceColor(t){return 0===t?m("--color-fg-default")||m("--fgColor-default"):this.spaceColors[t%this.spaceColors.length]}constructor(t,e,i,s,n,r,h){let a,o,l,c,u,d,f,g,p,w,v;this.network=t,this.ctx=e,this.commits=i,this.users=s,this.spaceMap=n,this.userBlocks=r,this.nethash=h,this.namesWidth=120,this.headerHeight=40,this.dateRowHeight=30,this.graphTopOffset=10+this.headerHeight+this.dateRowHeight,this.bgColors=[m("--color-canvas-default")||m("--bgColor-default"),m("--color-canvas-subtle")||m("--bgColor-muted")],this.nameLineHeight=24,this.spaceColors=["#c0392b","#3498db","#2ecc71","#8e44ad","#f1c40f","#e67e22","#34495e","#e74c3c","#2980b9","#1abc9c","#9b59b6","#f39c12","#7f8c8d","#2c3e50","#d35400","#e74c3c","#95a5a6","#bdc3c7","#16a085","#27ae60"],this.offsetX=this.namesWidth+(t.width-this.namesWidth)/2-t.focus*this.nameLineHeight,this.offsetY=0,this.bgCycle=0,this.marginMap={},this.gravatars={},this.activeCommit=null,this.contentHeight=this.calcContentHeight(),this.graphMidpoint=this.namesWidth+(t.width-this.namesWidth)/2,this.showRefs=!0,this.lastHotLoadCenterIndex=null,this.connectionMap={},this.spaceUserMap={};let x=this.userBlocks;for(o=0,u=x.length;o<u;o++)for(l=c=w=(a=x[o]).start,v=a.start+a.count;w<=v?c<v:c>v;l=w<=v?++c:--c)this.spaceUserMap[l]=this.users[a.name];this.headsMap={};let y=this.userBlocks;for(g=0,d=y.length;g<d;g++){a=y[g];let t=this.users[a.name],e=t.heads;for(p=0,f=e.length;p<f;p++){let i=e[p];this.headsMap[i.id]||(this.headsMap[i.id]=[]);let s={name:t.name,head:i};this.headsMap[i.id].push(s)}}}},p=class MouseDriver{up(){this.dragging=!1,this.pressedCommit&&this.graph.activeCommit&&this.graph.activeCommit===this.pressedCommit?window.open(`/${this.graph.activeCommit.user.name}/${this.graph.activeCommit.user.repo}/commit/${this.graph.activeCommit.id}`):this.pressedUser&&this.chrome.activeUser&&this.chrome.activeUser===this.pressedUser&&(window.location.href=`/${this.chrome.activeUser.name}/${this.chrome.activeUser.repo}/network`),this.pressedCommit=null,this.pressedUser=null}down(){this.graph.activeCommit?this.pressedCommit=this.graph.activeCommit:this.chrome.activeUser?this.pressedUser=this.chrome.activeUser:this.dragging=!0}docmove(t){let e=t.pageX,i=t.pageY;this.dragging&&(this.graph.moveX(e-this.lastPoint.x),this.graph.moveY(i-this.lastPoint.y),this.graph.draw(),this.chrome.moveX(e-this.lastPoint.x),this.chrome.moveY(i-this.lastPoint.y),this.chrome.draw()),this.lastPoint.x=e,this.lastPoint.y=i}move(t){let e=t.pageX,i=t.pageY;if(this.dragging)this.graph.moveX(e-this.lastPoint.x),this.graph.moveY(i-this.lastPoint.y),this.graph.draw(),this.chrome.moveX(e-this.lastPoint.x),this.chrome.moveY(i-this.lastPoint.y),this.chrome.draw();else{let t=this.chrome.hover(e-this.canvasOffset.left,i-this.canvasOffset.top);if(t!==this.lastHoverUser)this.canvas.style.cursor=t?"pointer":"move",this.chrome.activeUser=t,this.chrome.draw(),this.lastHoverUser=t;else{let t=this.graph.hover(e-this.canvasOffset.left,i-this.canvasOffset.top);t!==this.lastHoverCommit&&(this.canvas.style.cursor=t?"pointer":"move",this.graph.activeCommit=t,this.graph.draw(),this.chrome.draw(),this.lastHoverCommit=t)}}this.lastPoint.x=e,this.lastPoint.y=i}out(){this.graph.activeCommit=null,this.chrome.activeUser=null,this.graph.draw(),this.chrome.draw(),this.lastHoverCommit=null,this.lastHoverUser=null}constructor(t,e,i){this.container=null,this.chrome=e,this.graph=i,this.dragging=!1,this.lastPoint={x:0,y:0},this.lastHoverCommit=null,this.lastHoverUser=null,this.pressedCommit=null,this.pressedUser=null,this.canvas=t.getElementsByTagName("canvas")[0],this.canvasOffset=(0,h.cY)(this.canvas),this.canvas.style.cursor="move",document.body.addEventListener("pointerup",()=>this.up()),document.body.addEventListener("pointermove",t=>this.docmove(t)),this.canvas.addEventListener("pointerdown",()=>this.down()),this.canvas.addEventListener("pointermove",t=>this.move(t)),this.canvas.addEventListener("pointerout",()=>this.out())}},w=class KeyDriver{moveBothX(t){this.graph.moveX(t),this.chrome.moveX(t),this.graph.activeCommit=null,this.dirty=!0}moveBothY(t){this.graph.moveY(t),this.chrome.moveY(t),this.graph.activeCommit=null,this.dirty=!0}toggleRefs(){this.graph.toggleRefs(),this.dirty=!0}redraw(){this.dirty&&(this.graph.draw(),this.chrome.draw()),this.dirty=!1}down(t){if(t.target instanceof HTMLInputElement)return!0;if((0,r.$$)(t)){if(t.shiftKey)switch(t.which){case 37:case 72:return this.moveBothX(999999),this.redraw();case 38:case 75:return this.moveBothY(999999),this.redraw();case 39:case 76:return this.moveBothX(-999999),this.redraw();case 40:case 74:return this.moveBothY(-999999),this.redraw()}else{let e=t.which;if(37===e||72===e)return this.moveBothX(100),this.redraw();if(38===e||75===e)return this.moveBothY(30),this.redraw();if(39===e||76===e)return this.moveBothX(-100),this.redraw();if(40===e||74===e)return this.moveBothY(-30),this.redraw();else if(84===e)return this.toggleRefs(),this.redraw()}}}constructor(t,e){this.chrome=t,this.graph=e,this.dirty=!1,document.addEventListener("keydown",t=>this.down(t))}},v=!1;var x=new WeakMap;let y=class NetworkGraphElement extends HTMLElement{connectedCallback(){var t;let e=new u(this);e.redraw(),l(this,x)?.abort(),t=new AbortController,function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(this,o(this,x,"set"),t);let{signal:i}=l(this,x);v=!0,window.addEventListener("resize",(0,a.n)(()=>e.redraw(),100),{signal:i})}disconnectedCallback(){v=!1,l(this,x)?.abort()}constructor(...t){super(...t),function(t,e,i){(function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,i)}(this,x,{writable:!0,value:void 0})}};c([s.aC],y.prototype,"graph",void 0),y=c([s.p_],y)},40440:(t,e,i)=>{function s(t){let e=document.querySelectorAll(t);if(e.length>0)return e[e.length-1]}function n(){return`${window.location.protocol}//${window.location.host}${function(){let t=s("meta[name=analytics-location]");return t?t.content:window.location.pathname}()+function(){let t=s("meta[name=analytics-location-query-strip]"),e="";t||(e=window.location.search);let i=s("meta[name=analytics-location-params]");for(let t of(i&&(e+=(e?"&":"?")+i.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let i=t.content.split(":",2);e=e.replace(RegExp(`(^|[?&])${i[0]}($|=)`,"g"),`$1${i[1]}$2`)}return e}()}`}i.d(e,{M:()=>n})},27756:(t,e,i)=>{let s;function n(){if(!s)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return s}function r(){return s?.locale??"en-US"}i.d(e,{JK:()=>r,_$:()=>n}),function(){if("undefined"!=typeof document){let t=document.getElementById("client-env");if(t)try{s=JSON.parse(t.textContent||"")}catch(t){console.error("Error parsing client-env",t)}}}()},5728:(t,e,i)=>{i.d(e,{G:()=>n,K:()=>r});var s=i(97156);let n=s.XC?.readyState==="interactive"||s.XC?.readyState==="complete"?Promise.resolve():new Promise(t=>{s.XC?.addEventListener("DOMContentLoaded",()=>{t()})}),r=s.XC?.readyState==="complete"?Promise.resolve():new Promise(t=>{s.cg?.addEventListener("load",t)})},40588:(t,e,i)=>{i.d(e,{N7:()=>p});var s=i(36301),n=i(54098),r=i(24212),h=i(40440),a=i(14740),o=i(97156),l=i(97564),c=i(54861);let m=!1,u=0,d=Date.now(),f=new Set(["Failed to fetch","NetworkError when attempting to fetch resource."]);function g(t){return!!("AbortError"===t.name||"TypeError"===t.name&&f.has(t.message)||t.name.startsWith("ApiError")&&f.has(t.message))}function p(t,e={}){if((0,l.G7)("FAILBOT_HANDLE_NON_ERRORS")){if(!(t instanceof Error||"object"==typeof t&&null!==t&&"name"in t&&"string"==typeof t.name&&"message"in t&&"string"==typeof t.message)){if(function(t){if(!t||"boolean"==typeof t||"number"==typeof t)return!0;if("string"==typeof t){if(C.some(e=>t.includes(e)))return!0}else if("object"==typeof t&&"string"==typeof t.message&&"number"==typeof t.code)return!0;return!1}(t))return;let i=Error(),s=function(t){try{return JSON.stringify(t)}catch{return"Unserializable"}}(t);w(x({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof t}, with value ${s}`,stacktrace:y(i),catalogService:void 0},e));return}g(t)||w(x(v(t),e))}else g(t)||w(x(v(t),e))}async function w(t){if(!(!L&&!m&&u<10&&(0,n.TT)()))return;let e=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(e){if(t.error.stacktrace.some(t=>H.test(t.filename)||H.test(t.function))){m=!0;return}u++;try{await fetch(e,{method:"post",body:JSON.stringify(t)})}catch{}}}function v(t){return{type:t.name,value:t.message,stacktrace:y(t),catalogService:t.catalogService}}function x(t,e={}){return Object.assign({error:t,sanitizedUrl:(0,h.M)()||window.location.href,readyState:document.readyState,referrer:(0,c.dR)(),timeSinceLoad:Math.round(Date.now()-d),user:function(){let t=document.head?.querySelector('meta[name="user-login"]')?.content;if(t)return t;let e=(0,s.y)();return`anonymous-${e}`}()||void 0,bundler:a.v,ui:!!document.querySelector('meta[name="ui"]')},e)}function y(t){return(0,r.q)(t.stack||"").map(t=>({filename:t.file||"",function:String(t.methodName),lineno:(t.lineNumber||0).toString(),colno:(t.column||0).toString()}))}let H=/(chrome|moz|safari)-extension:\/\//,L=!1;o.cg?.addEventListener("pageshow",()=>L=!1),o.cg?.addEventListener("pagehide",()=>L=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",t=>{p(t.data.error)});let C=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"]},97564:(t,e,i)=>{i.d(e,{G7:()=>o,XY:()=>l,fQ:()=>a});var s=i(5225),n=i(27756);function r(){return new Set((0,n._$)().featureFlags.map(t=>t.toLowerCase()))}let h=i(97156).X3?r:(0,s.A)(r);function a(){return Array.from(h())}function o(t){return h().has(t.toLowerCase())}let l={isFeatureEnabled:o}},27193:(t,e,i)=>{i.d(e,{Ee:()=>c,b4:()=>m,Ts:()=>l});var s=i(46650);let n=class ResponseError extends Error{constructor(t,e){super(`${t} for HTTP ${e.status}`),this.response=e}};var r=i(6440),h=i(2240);let a="server-x-safe-html",o=r.wA.createPolicy(a,{createHTML:(t,e)=>h.b.apply({policy:()=>(!function(t,e,i=!1){let s=e.headers.get("content-type")||"";if(!i&&!s.startsWith("text/html"))throw new n(`expected response with text/html, but was ${s}`,e);if(i&&!(s.startsWith("text/html")||s.startsWith("application/json")))throw new n(`expected response with text/html or application/json, but was ${s}`,e);let r=e.headers.get("x-html-safe");if(r){if(!t.includes(r))throw new n("response X-HTML-Safe nonce did not match",e)}else throw new n("missing X-HTML-Safe nonce",e)}(function(t){let e=[...t.querySelectorAll("meta[name=html-safe-nonce]")].map(t=>t.content);if(e.length<1)throw Error("could not find html-safe-nonce on document");return e}(document),e),t),policyName:a,fallback:t,silenceErrorReporting:!0})});async function l(t,e,i){let n=new Request(e,i);n.headers.append("X-Requested-With","XMLHttpRequest");let r=await self.fetch(n);if(r.status<200||r.status>=300)throw Error(`HTTP ${r.status}${r.statusText||""}`);let h=o.createHTML(await r.text(),r);return(0,s.B)(t,h)}function c(t,e,i=1e3,s=[200],n=[202]){return async function i(r){let h=new Request(t,e);h.headers.append("X-Requested-With","XMLHttpRequest");let a=await self.fetch(h);if(n.includes(a.status))return await new Promise(t=>setTimeout(t,r)),i(1.5*r);if(s.includes(a.status))return a;if(a.status<200||a.status>=300)throw Error(`HTTP ${a.status}${a.statusText||""}`);throw Error(`Unexpected ${a.status} response status from poll endpoint`)}(i)}async function m(t,e,i){let{wait:s=500,acceptedStatusCodes:n=[200],max:r=3,attempt:h=0}=i||{},a=async()=>new Promise((i,a)=>{setTimeout(async()=>{try{let s=new Request(t,e);s.headers.append("X-Requested-With","XMLHttpRequest");let a=await self.fetch(s);if(n.includes(a.status)||h+1===r)return i(a);i("retry")}catch(t){a(t)}},s*h)}),o=await a();return"retry"!==o?o:m(t,e,{wait:s,acceptedStatusCodes:n,max:r,attempt:h+1})}},18558:(t,e,i)=>{i.d(e,{JC:()=>s.JC,KK:()=>s.KK,SK:()=>r,Vy:()=>s.Vy,ai:()=>s.ai,oc:()=>s.oc,rd:()=>s.rd});var s=i(50515);let n=/(?:^|,)((?:[^,]|,(?=\+| |$))*(?:,(?=,))?)/g;function r(t){return Array.from(t.matchAll(n)).map(([,t])=>t)}},98164:(t,e,i)=>{i.d(e,{$$:()=>a,GI:()=>r,zw:()=>n});var s=i(18558);let n=()=>{let t=document.querySelector("meta[name=keyboard-shortcuts-preference]");return!t||"all"===t.content},r=t=>/Enter|Arrow|Escape|Meta|Control|Mod|Esc/.test(t)||t.includes("Alt")&&t.includes("Shift"),h=new Set(["button","checkbox","color","file","hidden","image","radio","range","reset","submit"]),a=t=>{let e=(0,s.Vy)(t),i=n()&&!function(t){if(!(t instanceof HTMLElement))return!1;let e=t.nodeName.toLowerCase(),i=t.getAttribute("type")?.toLowerCase()??"text",s="true"===t.ariaReadOnly||"true"===t.getAttribute("aria-readonly")||null!==t.getAttribute("readonly");return("select"===e||"textarea"===e||"input"===e&&!h.has(i)||t.isContentEditable)&&!s}(t.target);return r(e)||i}},51848:(t,e,i)=>{let s;i.d(e,{BI:()=>d,Ti:()=>f,lA:()=>u});var n=i(70837),r=i(97524),h=i(74572),a=i(51528);let{getItem:o}=(0,h.A)("localStorage"),l="dimension_",c=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let t=(0,n.O)("octolytics");delete t.baseContext,s=new r.s(t)}catch(t){}function m(t){let e=(0,n.O)("octolytics").baseContext||{};if(e)for(let[t,i]of(delete e.app_id,delete e.event_url,delete e.host,Object.entries(e)))t.startsWith(l)&&(e[t.replace(l,"")]=i,delete e[t]);let i=document.querySelector("meta[name=visitor-payload]");for(let[t,s]of(i&&Object.assign(e,JSON.parse(atob(i.content))),new URLSearchParams(window.location.search)))c.includes(t.toLowerCase())&&(e[t]=s);return e.staff=(0,a.X)().toString(),Object.assign(e,t)}function u(t){s?.sendPageView(m(t))}function d(t,e={}){let i=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,n=i?{service:i}:{};for(let[t,i]of Object.entries(e))null!=i&&(n[t]=`${i}`);s&&(m(n),s.sendEvent(t||"unknown",m(n)))}function f(t){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,JSON.stringify(e)]))}},46650:(t,e,i)=>{i.d(e,{B:()=>a});var s=i(6440),n=i(2240);let r="parse-html-no-op",h=s.wA.createPolicy(r,{createHTML:t=>n.b.apply({policy:()=>t,policyName:r,fallback:t,sanitize:!1,fallbackOnError:!0})});function a(t,e){let i=t.createElement("template");return i.innerHTML=h.createHTML(e),t.importNode(i.content,!0)}},14740:(t,e,i)=>{i.d(e,{k:()=>h,v:()=>a});var s=i(5225),n=i(97156);let r=(0,s.A)(function(){return n.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),h=(0,s.A)(function(){return"enterprise"===r()}),a="webpack-react-next"},74572:(t,e,i)=>{i.d(e,{A:()=>h,D:()=>a});var s=i(97156),n=i(51528);let r=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function h(t,e={throwQuotaErrorsOnSet:!1},i=s.cg,h=t=>t,a=t=>t){let o;try{if(!i)throw Error();o=i[t]||new r}catch{o=new r}let{throwQuotaErrorsOnSet:l}=e;function c(t){e.sendCacheStats&&(0,n.i)({incrementKey:t})}function m(t){try{if(o.removeItem(t),e.ttl){let e=`${t}:expiry`;o.removeItem(e)}}catch(t){}}return{getItem:function(t,e=new Date().getTime()){try{let i=o.getItem(t);if(!i)return null;let s=`${t}:expiry`,n=Number(o.getItem(s));if(n&&e>n)return m(t),m(s),c("SAFE_STORAGE_VALUE_EXPIRED"),null;return c("SAFE_STORAGE_VALUE_WITHIN_TTL"),h(i)}catch(t){return null}},setItem:function(t,i,s=new Date().getTime()){try{if(o.setItem(t,a(i)),e.ttl){let i=`${t}:expiry`,n=s+e.ttl;o.setItem(i,n.toString())}}catch(t){if(l&&t instanceof Error&&t.message.toLowerCase().includes("quota"))throw t}},removeItem:m,clear:o.clear,key:o.key,get length(){return o.length}}}function a(t){return h(t,{throwQuotaErrorsOnSet:!1},s.cg,JSON.parse,JSON.stringify)}},69653:(t,e,i)=>{i.d(e,{Ai:()=>r,Gq:()=>s,SO:()=>n});let{getItem:s,setItem:n,removeItem:r}=(0,i(74572).A)("sessionStorage")},54861:(t,e,i)=>{i.d(e,{BW:()=>n,Ff:()=>d,HK:()=>x,JA:()=>T,LM:()=>f,Pv:()=>L,Vy:()=>u,ZW:()=>H,dR:()=>y,di:()=>g,fX:()=>C,k9:()=>v,my:()=>w,r7:()=>S,wG:()=>p,xT:()=>m});var s=i(69653);let n="reload",r="soft-nav:fail",h="soft-nav:fail-referrer",a="soft-nav:referrer",o="soft-nav:marker",l="soft-nav:react-app-name",c="soft-nav:latest-mechanism";function m(){(0,s.SO)(o,"0"),(0,s.Ai)(a),(0,s.Ai)(r),(0,s.Ai)(h),(0,s.Ai)(l),(0,s.Ai)(c)}function u(t){(0,s.SO)(o,t)}function d(){(0,s.SO)(o,"0")}function f(){let t=(0,s.Gq)(o);return t&&"0"!==t}function g(){return(0,s.Gq)(o)}function p(){return!!w()}function w(){return(0,s.Gq)(r)}function v(t){(0,s.SO)(r,t||n),(0,s.SO)(h,window.location.href)}function x(){(0,s.SO)(a,window.location.href)}function y(){return(0,s.Gq)(a)||document.referrer}function H(){let t=C();t?(0,s.SO)(l,t):(0,s.Ai)(l)}function L(){return(0,s.Gq)(l)}function C(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}function T(t){(0,s.SO)(c,t)}function S(){return(0,s.Gq)(c)}},97156:(t,e,i)=>{i.d(e,{KJ:()=>s.KJ,Kn:()=>n.Kn,X3:()=>s.X3,XC:()=>n.XC,cg:()=>n.cg,fV:()=>n.fV,g5:()=>s.g5});var s=i(15572),n=i(86733)},86733:(t,e,i)=>{i.d(e,{Kn:()=>r,XC:()=>s,cg:()=>n,fV:()=>h});let s="undefined"==typeof document?void 0:document,n="undefined"==typeof window?void 0:window,r="undefined"==typeof history?void 0:history,h="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:"",href:""}:location},15572:(t,e,i)=>{i.d(e,{KJ:()=>r,X3:()=>n,g5:()=>h});var s=i(86733);let n=void 0===s.XC,r=!n;function h(){return!!n||!!s.XC.querySelector('react-app[data-ssr="true"]')}},51528:(t,e,i)=>{i.d(e,{X:()=>d,i:()=>l});var s=i(97156),n=i(5728),r=i(14740),h=i(97564),a=i(70170);let o=[];function l(t,e=!1,i=.5){if(!0!==(0,h.G7)("BROWSER_STATS_DISABLED")){if(i<0||i>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===t.timestamp&&(t.timestamp=new Date().getTime()),t.loggedIn=!!s.XC?.head?.querySelector('meta[name="user-login"]')?.content,t.staff=d(),t.bundler=r.v,Math.random()<i&&o.push(t),e?u():m()}}let c=null,m=(0,a.n)(async function(){await n.K,null==c&&(c=window.requestIdleCallback(u))},5e3);function u(){if(c=null,!o.length)return;let t=s.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(t){for(let e of function(t){let e=[],i=t.map(t=>JSON.stringify(t));for(;i.length>0;)e.push(function(t){let e=t.shift(),i=[e],s=e.length;for(;t.length>0&&s<=65536;){let e=t[0].length;if(s+e<=65536){let n=t.shift();i.push(n),s+=e}else break}return i}(i));return e}(o))!function(t,e){try{navigator.sendBeacon&&navigator.sendBeacon(t,e)}catch{}}(t,`{"stats": [${e.join(",")}] }`);o=[]}}function d(){return!!s.XC?.head?.querySelector('meta[name="user-staff"]')?.content}s.XC?.addEventListener("pagehide",u),s.XC?.addEventListener("visibilitychange",u)},2240:(t,e,i)=>{i.d(e,{b:()=>l,r:()=>TrustedTypesPolicyError});var s=i(97564),n=i(51528),r=i(40588),h=i(42838),a=i.n(h),o=i(51848);let TrustedTypesPolicyError=class TrustedTypesPolicyError extends Error{};let l={apply:function({policy:t,policyName:e,fallback:i,fallbackOnError:h=!1,sanitize:l,silenceErrorReporting:c=!1}){try{if((0,s.G7)("BYPASS_TRUSTED_TYPES_POLICY_RULES"))return i;(0,n.i)({incrementKey:"TRUSTED_TYPES_POLICY_CALLED",trustedTypesPolicyName:e},!1,.1);let r=t();return l&&new Promise(t=>{let i=window.performance.now(),s=a().sanitize(r,{FORBID_ATTR:[]}),n=window.performance.now();if(r.length!==s.length){let h=Error("Trusted Types policy output sanitized"),a=h.stack?.slice(0,1e3),l=r.slice(0,250);(0,o.BI)("trusted_types_policy.sanitize",{policyName:e,output:l,stack:a,outputLength:r.length,sanitizedLength:s.length,executionTime:n-i}),t(r)}}),r}catch(t){if(t instanceof TrustedTypesPolicyError||(c||(0,r.N7)(t),(0,n.i)({incrementKey:"TRUSTED_TYPES_POLICY_ERROR",trustedTypesPolicyName:e}),!h))throw t}return i}}},6440:(t,e,i)=>{i.d(e,{wA:()=>c});var s,n=i(97156),r=i(51528);function h(t){return()=>{throw TypeError(`The policy does not implement the function ${t}`)}}let a={createHTML:h("createHTML"),createScript:h("createScript"),createScriptURL:h("createScriptURL")},o=(s=globalThis).__TRUSTED_TYPE_POLICIES__??(s.__TRUSTED_TYPE_POLICIES__=new Map),l=globalThis.trustedTypes??{createPolicy:(t,e)=>({name:t,...a,...e})},c={createPolicy:(t,e)=>{if(o.has(t))return(0,r.i)({incrementKey:"TRUSTED_TYPES_POLICY_INITIALIZED_TWICE"}),o.get(t);{let i=Object.freeze(l.createPolicy(t,e));return o.set(t,i),i}}},m=!1;n.XC?.addEventListener("securitypolicyviolation",t=>{"require-trusted-types-for"!==t.violatedDirective||m||(console.warn(`Hi fellow Hubber!
    You're probably seeing a Report Only Trusted Types error near this message. This is intended behaviour, staff-only,
    does not impact application control flow, and is used solely for statistic collection. Unfortunately we
    can't gather these statistics without adding the above warnings to your console. Sorry about that!
    Feel free to drop by #prodsec-engineering if you have any additional questions about Trusted Types or CSP.`),m=!0)})}}]);
//# sourceMappingURL=app_assets_modules_github_graphs_network-graph-element_ts-d93dac72aa57.js.map