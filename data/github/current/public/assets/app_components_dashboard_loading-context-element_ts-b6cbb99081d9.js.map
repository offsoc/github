{"version":3,"file":"chunk-app_components_dashboard_loading-context-element_ts-xxxxxxxxxxxx.js","mappings":"muBAQE,cALK,gCAAMA,8BAA8BC,YAOzC,IAAIC,qBAAsB,CACxB,OACE,IAAI,CAACC,SAAS,CACXC,MAAM,CAACC,GAAY,CAACA,EAASC,SAAS,CAACC,QAAQ,CAAC,aAChDH,MAAM,CAACC,GAAYA,EAASG,YAAY,CAAC,QAAQC,MAAM,CAAG,CAEjE,CAEAC,mBAAoB,K,EAClB,GAAI,CAAC,IAAI,CAACR,mBAAmB,CAC3B,OAAO,IAAI,CAACS,WAAW,G,EAGR,IAAIC,iBAAiB,KAC/B,IAAI,CAACV,mBAAmB,GAC3B,IAAI,CAACS,WAAW,GAChB,MAAI,CAAEE,GAASC,UAAU,GAE7B,G,iJALMD,E,UAON,MAAI,CAAEA,GAASE,OAAO,CAAC,IAAI,CAACC,OAAO,CAAE,CAACC,UAAW,GAAMC,WAAY,GAAMC,QAAS,EAAI,EACxF,CAEQR,aAAc,CACpB,IAAI,CAACS,OAAO,CAACC,MAAM,GACnB,IAAI,CAACL,OAAO,CAACM,eAAe,CAAC,SAAU,GACzC,C,8BA5BA,S,uIAAA,Q,kBAAA,M,GA6BF,E,GAjCGC,EAAAA,EAAMA,C,CADIvB,sBAAAA,SAAAA,CAAAA,UAAAA,KAAAA,G,GAEVuB,EAAAA,EAAMA,C,CAFIvB,sBAAAA,SAAAA,CAAAA,UAAAA,KAAAA,G,GAGVwB,EAAAA,EAAOA,C,CAHGxB,sBAAAA,SAAAA,CAAAA,YAAAA,KAAAA,GAAAA,sBAAAA,EAAAA,CADZyB,EAAAA,EAAUA,C,CACEzB,sB","sources":["app/components/dashboard/loading-context-element.ts"],"sourcesContent":["import {controller, target, targets} from '@github/catalyst'\n\n@controller\nexport class LoadingContextElement extends HTMLElement {\n  @target spinner: HTMLElement\n  @target details: HTMLElement\n  @targets fragments: HTMLElement[]\n\n  #observer: MutationObserver\n\n  get hasLoadingFragments() {\n    return (\n      this.fragments\n        .filter(fragment => !fragment.classList.contains('is-error'))\n        .filter(fragment => fragment.hasAttribute('src')).length > 0\n    )\n  }\n\n  connectedCallback() {\n    if (!this.hasLoadingFragments) {\n      return this.showDetails()\n    }\n\n    this.#observer = new MutationObserver(() => {\n      if (!this.hasLoadingFragments) {\n        this.showDetails()\n        this.#observer.disconnect()\n      }\n    })\n\n    this.#observer.observe(this.details, {childList: true, attributes: true, subtree: true})\n  }\n\n  private showDetails() {\n    this.spinner.remove()\n    this.details.toggleAttribute('hidden', false)\n  }\n}\n"],"names":["LoadingContextElement","HTMLElement","hasLoadingFragments","fragments","filter","fragment","classList","contains","hasAttribute","length","connectedCallback","showDetails","MutationObserver","observer","disconnect","observe","details","childList","attributes","subtree","spinner","remove","toggleAttribute","target","targets","controller"],"sourceRoot":""}