{"version":3,"file":"chunk-app_components_billing_settings_downgrade-dialog-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/@github/remote-form/dist/index.js","node_modules/@primer/behaviors/dist/esm/focus-trap.js","node_modules/@primer/behaviors/dist/esm/polyfills/event-listener-signal.js","node_modules/@primer/behaviors/dist/esm/utils/iterate-focusable-elements.js","node_modules/@primer/view-components/app/components/primer/alpha/modal_dialog.js","app/components/billing/settings/downgrade-dialog-element.ts","ui/packages/form-utils/form-utils.ts","ui/packages/form-utils/remote-submit.ts"],"sourcesContent":["// Parse HTML text into document fragment.\nfunction parseHTML(document, html) {\n    const template = document.createElement('template');\n    // eslint-disable-next-line github/no-inner-html\n    template.innerHTML = html;\n    return document.importNode(template.content, true);\n}\nfunction serialize(form) {\n    const params = new URLSearchParams();\n    const entries = new FormData(form).entries();\n    for (const [name, value] of [...entries]) {\n        params.append(name, value.toString());\n    }\n    return params.toString();\n}\nexport class ErrorWithResponse extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction makeDeferred() {\n    let resolve;\n    let reject;\n    const promise = new Promise(function (_resolve, _reject) {\n        resolve = _resolve;\n        reject = _reject;\n    });\n    return [promise, resolve, reject];\n}\nlet formHandlers;\nconst afterHandlers = [];\nconst beforeHandlers = [];\nexport function afterRemote(fn) {\n    afterHandlers.push(fn);\n}\nexport function beforeRemote(fn) {\n    beforeHandlers.push(fn);\n}\nexport function remoteForm(selector, fn) {\n    if (!formHandlers) {\n        formHandlers = new Map();\n        if (typeof document !== 'undefined') {\n            document.addEventListener('submit', handleSubmit);\n        }\n    }\n    const handlers = formHandlers.get(selector) || [];\n    formHandlers.set(selector, [...handlers, fn]);\n}\nexport function remoteUninstall(selector, fn) {\n    if (formHandlers) {\n        const handlers = formHandlers.get(selector) || [];\n        formHandlers.set(selector, handlers.filter(x => x !== fn));\n    }\n}\nfunction getMatches(el) {\n    const results = [];\n    for (const selector of formHandlers.keys()) {\n        if (el.matches(selector)) {\n            const handlers = formHandlers.get(selector) || [];\n            results.push(...handlers);\n        }\n    }\n    return results;\n}\nfunction handleSubmit(event) {\n    if (!(event.target instanceof HTMLFormElement) || event.defaultPrevented) {\n        return;\n    }\n    const form = event.target;\n    const matches = getMatches(form);\n    if (matches.length === 0) {\n        return;\n    }\n    const req = buildRequest(form);\n    const [kickerPromise, ultimateResolve, ultimateReject] = makeDeferred();\n    event.preventDefault();\n    processHandlers(matches, form, req, kickerPromise).then(async (performAsyncSubmit) => {\n        if (performAsyncSubmit) {\n            for (const handler of beforeHandlers) {\n                await handler(form);\n            }\n            // TODO: ensure that these exceptions are processed by our global error handler\n            remoteSubmit(req)\n                .then(ultimateResolve, ultimateReject)\n                // eslint-disable-next-line @typescript-eslint/no-empty-function\n                .catch(() => { })\n                .then(() => {\n                for (const handler of afterHandlers) {\n                    handler(form);\n                }\n            });\n        }\n        else {\n            // No handler called the kicker function\n            form.submit();\n        }\n    }, (err) => {\n        // TODO: special \"cancel\" error object to halt processing and avoid\n        // submitting the form\n        form.submit();\n        setTimeout(() => {\n            throw err;\n        });\n    });\n}\n// Process each handler sequentially until it either completes or calls the\n// kicker function.\nasync function processHandlers(matches, form, req, kickerPromise) {\n    let kickerWasCalled = false;\n    for (const match of matches) {\n        const [kickerCalled, kickerCalledResolve] = makeDeferred();\n        const kick = () => {\n            kickerWasCalled = true;\n            kickerCalledResolve();\n            return kickerPromise;\n        };\n        const kicker = {\n            text: kick,\n            json: () => {\n                req.headers.set('Accept', 'application/json');\n                return kick();\n            },\n            html: () => {\n                req.headers.set('Accept', 'text/html');\n                return kick();\n            }\n        };\n        await Promise.race([kickerCalled, match(form, kicker, req)]);\n    }\n    return kickerWasCalled;\n}\nfunction buildRequest(form) {\n    const req = {\n        method: form.method || 'GET',\n        url: form.action,\n        headers: new Headers({ 'X-Requested-With': 'XMLHttpRequest' }),\n        body: null\n    };\n    if (req.method.toUpperCase() === 'GET') {\n        const data = serialize(form);\n        if (data) {\n            req.url += (~req.url.indexOf('?') ? '&' : '?') + data;\n        }\n    }\n    else {\n        req.body = new FormData(form);\n    }\n    return req;\n}\nasync function remoteSubmit(req) {\n    const response = await window.fetch(req.url, {\n        method: req.method,\n        body: req.body !== null ? req.body : undefined,\n        headers: req.headers,\n        credentials: 'same-origin'\n    });\n    const res = {\n        url: response.url,\n        status: response.status,\n        statusText: response.statusText,\n        headers: response.headers,\n        text: '',\n        get json() {\n            // eslint-disable-next-line @typescript-eslint/no-shadow, @typescript-eslint/no-this-alias\n            const response = this;\n            const data = JSON.parse(response.text);\n            delete response.json;\n            response.json = data;\n            return response.json;\n        },\n        get html() {\n            // eslint-disable-next-line @typescript-eslint/no-shadow, @typescript-eslint/no-this-alias\n            const response = this;\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            delete response.html;\n            response.html = parseHTML(document, response.text);\n            return response.html;\n        }\n    };\n    const body = await response.text();\n    res.text = body;\n    if (response.ok) {\n        return res;\n    }\n    else {\n        throw new ErrorWithResponse('request failed', res);\n    }\n}\n//# sourceMappingURL=index.js.map","import { getFocusableChild, isTabbable } from './utils/iterate-focusable-elements.js';\nimport { polyfill as eventListenerSignalPolyfill } from './polyfills/event-listener-signal.js';\neventListenerSignalPolyfill();\nconst suspendedTrapStack = [];\nlet activeTrap = undefined;\nfunction tryReactivate() {\n    const trapToReactivate = suspendedTrapStack.pop();\n    if (trapToReactivate) {\n        focusTrap(trapToReactivate.container, trapToReactivate.initialFocus, trapToReactivate.originalSignal);\n    }\n}\nfunction followSignal(signal) {\n    const controller = new AbortController();\n    signal.addEventListener('abort', () => {\n        controller.abort();\n    });\n    return controller;\n}\nexport function focusTrap(container, initialFocus, abortSignal) {\n    const controller = new AbortController();\n    const signal = abortSignal !== null && abortSignal !== void 0 ? abortSignal : controller.signal;\n    container.setAttribute('data-focus-trap', 'active');\n    const sentinelStart = document.createElement('span');\n    sentinelStart.setAttribute('class', 'sentinel');\n    sentinelStart.setAttribute('tabindex', '0');\n    sentinelStart.setAttribute('aria-hidden', 'true');\n    sentinelStart.onfocus = () => {\n        const lastFocusableChild = getFocusableChild(container, true);\n        lastFocusableChild === null || lastFocusableChild === void 0 ? void 0 : lastFocusableChild.focus();\n    };\n    const sentinelEnd = document.createElement('span');\n    sentinelEnd.setAttribute('class', 'sentinel');\n    sentinelEnd.setAttribute('tabindex', '0');\n    sentinelEnd.setAttribute('aria-hidden', 'true');\n    sentinelEnd.onfocus = () => {\n        const firstFocusableChild = getFocusableChild(container);\n        firstFocusableChild === null || firstFocusableChild === void 0 ? void 0 : firstFocusableChild.focus();\n    };\n    container.prepend(sentinelStart);\n    container.append(sentinelEnd);\n    let lastFocusedChild = undefined;\n    function ensureTrapZoneHasFocus(focusedElement) {\n        if (focusedElement instanceof HTMLElement && document.contains(container)) {\n            if (container.contains(focusedElement)) {\n                lastFocusedChild = focusedElement;\n                return;\n            }\n            else {\n                if (lastFocusedChild && isTabbable(lastFocusedChild) && container.contains(lastFocusedChild)) {\n                    lastFocusedChild.focus();\n                    return;\n                }\n                else if (initialFocus && container.contains(initialFocus)) {\n                    initialFocus.focus();\n                    return;\n                }\n                else {\n                    const firstFocusableChild = getFocusableChild(container);\n                    firstFocusableChild === null || firstFocusableChild === void 0 ? void 0 : firstFocusableChild.focus();\n                    return;\n                }\n            }\n        }\n    }\n    const wrappingController = followSignal(signal);\n    if (activeTrap) {\n        const suspendedTrap = activeTrap;\n        activeTrap.container.setAttribute('data-focus-trap', 'suspended');\n        activeTrap.controller.abort();\n        suspendedTrapStack.push(suspendedTrap);\n    }\n    wrappingController.signal.addEventListener('abort', () => {\n        activeTrap = undefined;\n    });\n    signal.addEventListener('abort', () => {\n        container.removeAttribute('data-focus-trap');\n        const sentinels = container.getElementsByClassName('sentinel');\n        while (sentinels.length > 0)\n            sentinels[0].remove();\n        const suspendedTrapIndex = suspendedTrapStack.findIndex(t => t.container === container);\n        if (suspendedTrapIndex >= 0) {\n            suspendedTrapStack.splice(suspendedTrapIndex, 1);\n        }\n        tryReactivate();\n    });\n    document.addEventListener('focus', event => {\n        ensureTrapZoneHasFocus(event.target);\n    }, { signal: wrappingController.signal, capture: true });\n    ensureTrapZoneHasFocus(document.activeElement);\n    activeTrap = {\n        container,\n        controller: wrappingController,\n        initialFocus,\n        originalSignal: signal,\n    };\n    const suspendedTrapIndex = suspendedTrapStack.findIndex(t => t.container === container);\n    if (suspendedTrapIndex >= 0) {\n        suspendedTrapStack.splice(suspendedTrapIndex, 1);\n    }\n    if (!abortSignal) {\n        return controller;\n    }\n}\n","let signalSupported = false;\nfunction noop() { }\ntry {\n    const options = Object.create({}, {\n        signal: {\n            get() {\n                signalSupported = true;\n            },\n        },\n    });\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop, options);\n}\ncatch (e) {\n}\nfunction featureSupported() {\n    return signalSupported;\n}\nfunction monkeyPatch() {\n    if (typeof window === 'undefined') {\n        return;\n    }\n    const originalAddEventListener = EventTarget.prototype.addEventListener;\n    EventTarget.prototype.addEventListener = function (name, originalCallback, optionsOrCapture) {\n        if (typeof optionsOrCapture === 'object' &&\n            'signal' in optionsOrCapture &&\n            optionsOrCapture.signal instanceof AbortSignal) {\n            originalAddEventListener.call(optionsOrCapture.signal, 'abort', () => {\n                this.removeEventListener(name, originalCallback, optionsOrCapture);\n            });\n        }\n        return originalAddEventListener.call(this, name, originalCallback, optionsOrCapture);\n    };\n}\nexport function polyfill() {\n    if (!featureSupported()) {\n        monkeyPatch();\n        signalSupported = true;\n    }\n}\n","export function* iterateFocusableElements(container, options = {}) {\n    var _a, _b;\n    const strict = (_a = options.strict) !== null && _a !== void 0 ? _a : false;\n    const acceptFn = ((_b = options.onlyTabbable) !== null && _b !== void 0 ? _b : false) ? isTabbable : isFocusable;\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n        acceptNode: node => node instanceof HTMLElement && acceptFn(node, strict) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP,\n    });\n    let nextNode = null;\n    if (!options.reverse && acceptFn(container, strict)) {\n        yield container;\n    }\n    if (options.reverse) {\n        let lastChild = walker.lastChild();\n        while (lastChild) {\n            nextNode = lastChild;\n            lastChild = walker.lastChild();\n        }\n    }\n    else {\n        nextNode = walker.firstChild();\n    }\n    while (nextNode instanceof HTMLElement) {\n        yield nextNode;\n        nextNode = options.reverse ? walker.previousNode() : walker.nextNode();\n    }\n    if (options.reverse && acceptFn(container, strict)) {\n        yield container;\n    }\n    return undefined;\n}\nexport function getFocusableChild(container, lastChild = false) {\n    return iterateFocusableElements(container, { reverse: lastChild, strict: true, onlyTabbable: true }).next().value;\n}\nexport function isFocusable(elem, strict = false) {\n    const disabledAttrInert = ['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'OPTGROUP', 'OPTION', 'FIELDSET'].includes(elem.tagName) &&\n        elem.disabled;\n    const hiddenInert = elem.hidden;\n    const hiddenInputInert = elem instanceof HTMLInputElement && elem.type === 'hidden';\n    const sentinelInert = elem.classList.contains('sentinel');\n    if (disabledAttrInert || hiddenInert || hiddenInputInert || sentinelInert) {\n        return false;\n    }\n    if (strict) {\n        const style = getComputedStyle(elem);\n        const sizeInert = elem.offsetWidth === 0 || elem.offsetHeight === 0;\n        const visibilityInert = ['hidden', 'collapse'].includes(style.visibility);\n        const displayInert = style.display === 'none' || !elem.offsetParent;\n        const clientRectsInert = elem.getClientRects().length === 0;\n        if (sizeInert || visibilityInert || clientRectsInert || displayInert) {\n            return false;\n        }\n    }\n    if (elem.getAttribute('tabindex') != null) {\n        return true;\n    }\n    if (elem.getAttribute('contenteditable') === 'true' || elem.getAttribute('contenteditable') === 'plaintext-only') {\n        return true;\n    }\n    if (elem instanceof HTMLAnchorElement && elem.getAttribute('href') == null) {\n        return false;\n    }\n    return elem.tabIndex !== -1;\n}\nexport function isTabbable(elem, strict = false) {\n    return isFocusable(elem, strict) && elem.getAttribute('tabindex') !== '-1';\n}\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _ModalDialogElement_instances, _ModalDialogElement_focusAbortController, _ModalDialogElement_overlayBackdrop_get, _ModalDialogElement_keydown;\nimport { focusTrap } from '@primer/behaviors';\nimport { getFocusableChild } from '@primer/behaviors/utils';\nfunction focusIfNeeded(elem) {\n    if (document.activeElement !== elem) {\n        elem?.focus();\n    }\n}\nconst overlayStack = [];\nfunction clickHandler(event) {\n    const target = event.target;\n    const button = target?.closest('button');\n    if (!button || button.hasAttribute('disabled') || button.getAttribute('aria-disabled') === 'true')\n        return;\n    // If the user is clicking a valid dialog trigger\n    let dialogId = button?.getAttribute('data-show-dialog-id');\n    if (dialogId) {\n        /* eslint-disable-next-line no-restricted-syntax */\n        event.stopPropagation();\n        const dialog = document.getElementById(dialogId);\n        if (dialog instanceof ModalDialogElement) {\n            dialog.openButton = button;\n            dialog.show();\n            // A buttons default behaviour in some browsers it to send a pointer event\n            // If the behaviour is allowed through the dialog will be shown but then\n            // quickly hidden- as if it were never shown. This prevents that.\n            event.preventDefault();\n            return;\n        }\n    }\n    if (!overlayStack.length)\n        return;\n    dialogId = button.getAttribute('data-close-dialog-id') || button.getAttribute('data-submit-dialog-id');\n    if (dialogId) {\n        const dialog = document.getElementById(dialogId);\n        if (dialog instanceof ModalDialogElement) {\n            const dialogIndex = overlayStack.findIndex(ele => ele.id === dialogId);\n            overlayStack.splice(dialogIndex, 1);\n            dialog.close(button.hasAttribute('data-submit-dialog-id'));\n        }\n    }\n}\nfunction keydownHandler(event) {\n    if (!(event instanceof KeyboardEvent) ||\n        event.type !== 'keydown' ||\n        event.key !== 'Enter' ||\n        event.ctrlKey ||\n        event.altKey ||\n        event.metaKey ||\n        event.shiftKey)\n        return;\n    clickHandler(event);\n}\nfunction mousedownHandler(event) {\n    const target = event.target;\n    if (target?.closest('button'))\n        return;\n    // Find the top level dialog that is open.\n    const topLevelDialog = overlayStack[overlayStack.length - 1];\n    if (!topLevelDialog)\n        return;\n    // Check if the mousedown happened outside the boundary of the top level dialog\n    const mouseDownOutsideDialog = !target.closest(`#${topLevelDialog.getAttribute('id')}`);\n    // Only close dialog if it's a click outside the dialog and the dialog has a button?\n    if (mouseDownOutsideDialog) {\n        target.ownerDocument.addEventListener('mouseup', (upEvent) => {\n            if (upEvent.target === target) {\n                overlayStack.pop();\n                topLevelDialog.close();\n            }\n        }, { once: true });\n    }\n}\nexport class ModalDialogElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _ModalDialogElement_instances.add(this);\n        //TODO: Do we remove the abortController from focusTrap?\n        _ModalDialogElement_focusAbortController.set(this, new AbortController());\n    }\n    get open() {\n        return this.hasAttribute('open');\n    }\n    set open(value) {\n        if (value) {\n            if (this.open)\n                return;\n            this.setAttribute('open', '');\n            this.setAttribute('aria-disabled', 'false');\n            document.body.style.paddingRight = `${window.innerWidth - document.body.clientWidth}px`;\n            document.body.style.overflow = 'hidden';\n            __classPrivateFieldGet(this, _ModalDialogElement_instances, \"a\", _ModalDialogElement_overlayBackdrop_get)?.classList.remove('Overlay--hidden');\n            if (__classPrivateFieldGet(this, _ModalDialogElement_focusAbortController, \"f\").signal.aborted) {\n                __classPrivateFieldSet(this, _ModalDialogElement_focusAbortController, new AbortController(), \"f\");\n            }\n            focusTrap(this, this.querySelector('[autofocus]'), __classPrivateFieldGet(this, _ModalDialogElement_focusAbortController, \"f\").signal);\n            overlayStack.push(this);\n        }\n        else {\n            if (!this.open)\n                return;\n            this.removeAttribute('open');\n            this.setAttribute('aria-disabled', 'true');\n            __classPrivateFieldGet(this, _ModalDialogElement_instances, \"a\", _ModalDialogElement_overlayBackdrop_get)?.classList.add('Overlay--hidden');\n            document.body.style.paddingRight = '0';\n            document.body.style.overflow = 'initial';\n            __classPrivateFieldGet(this, _ModalDialogElement_focusAbortController, \"f\").abort();\n            // if #openButton is a child of a menu, we need to focus a suitable child of the menu\n            // element since it is expected for the menu to close on click\n            const menu = this.openButton?.closest('details') || this.openButton?.closest('action-menu');\n            if (menu) {\n                focusIfNeeded(getFocusableChild(menu));\n            }\n            else {\n                focusIfNeeded(this.openButton);\n            }\n            this.openButton = null;\n        }\n    }\n    get showButtons() {\n        // Dialogs may also be opened from any arbitrary button with a matching show-dialog-id data attribute\n        return document.querySelectorAll(`button[data-show-dialog-id='${this.id}']`);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'dialog');\n        document.addEventListener('click', clickHandler);\n        document.addEventListener('keydown', keydownHandler);\n        document.addEventListener('mousedown', mousedownHandler);\n        this.addEventListener('keydown', e => __classPrivateFieldGet(this, _ModalDialogElement_instances, \"m\", _ModalDialogElement_keydown).call(this, e));\n    }\n    show() {\n        this.open = true;\n    }\n    close(closedNotCancelled = false) {\n        if (this.open === false)\n            return;\n        const eventType = closedNotCancelled ? 'close' : 'cancel';\n        const dialogEvent = new Event(eventType);\n        this.dispatchEvent(dialogEvent);\n        this.open = false;\n    }\n}\n_ModalDialogElement_focusAbortController = new WeakMap(), _ModalDialogElement_instances = new WeakSet(), _ModalDialogElement_overlayBackdrop_get = function _ModalDialogElement_overlayBackdrop_get() {\n    if (this.parentElement?.hasAttribute('data-modal-dialog-overlay')) {\n        return this.parentElement;\n    }\n    return null;\n}, _ModalDialogElement_keydown = function _ModalDialogElement_keydown(event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (event.isComposing)\n        return;\n    if (!this.open)\n        return;\n    switch (event.key) {\n        case 'Escape':\n            this.close();\n            event.preventDefault();\n            /* eslint-disable-next-line no-restricted-syntax */\n            event.stopPropagation();\n            break;\n        case 'Enter': {\n            const target = event.target;\n            if (target.getAttribute('data-close-dialog-id') === this.id) {\n                /* eslint-disable-next-line no-restricted-syntax */\n                event.stopPropagation();\n            }\n            break;\n        }\n    }\n};\nif (!window.customElements.get('modal-dialog')) {\n    window.ModalDialogElement = ModalDialogElement;\n    window.customElements.define('modal-dialog', ModalDialogElement);\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport {remoteForm} from '@github/remote-form'\nimport type {IncludeFragmentElement} from '@github/include-fragment-element'\nimport {ModalDialogElement} from '@primer/view-components/app/components/primer/alpha/modal_dialog'\nimport {requestSubmit} from '@github-ui/form-utils'\n\n@controller\nexport class DowngradeDialogElement extends ModalDialogElement {\n  @target content: HTMLElement\n  @target featuresCount: HTMLFormElement\n  @targets features: HTMLSpanElement[]\n  @target dialog: ModalDialogElement\n  @target hiddenCloseInformation: HTMLElement\n  #eventAbortController: AbortController | null = null\n\n  get includeFragment(): IncludeFragmentElement | null {\n    return this.querySelector<IncludeFragmentElement>(`[data-target~=\"modal-dialog.include-fragment\"]`)\n  }\n\n  override connectedCallback() {\n    if (!this.includeFragment) return\n    const {signal} = (this.#eventAbortController = new AbortController())\n    // see docs at https://github.github.io/include-fragment-element/\n    this.includeFragment.addEventListener('include-fragment-replaced', this, {signal})\n\n    this?.dialog?.addEventListener('cancel', this, {signal})\n\n    if (this.featuresCount && this.featuresCount.id) {\n      remoteForm(`#${this.featuresCount.id}`, async (form, wants) => {\n        const result = await wants.json()\n        const data = result.json\n        for (const feature of this.features) {\n          const featureName = feature.getAttribute('data-downgrade-feature')!\n          this.setDowngradeFeatureCount(feature, data.counts[featureName])\n        }\n      })\n    }\n  }\n\n  disconnectedCallback() {\n    this.#eventAbortController?.abort()\n  }\n\n  handleEvent(event: Event) {\n    // HTML Fragment successfully loaded\n    if (event.type === 'include-fragment-replaced') {\n      // updates control content with feature counts (how many repositories use wiki, drafts, protected branches, pages)\n      requestSubmit(this.featuresCount)\n    } else if (event.type === 'cancel') {\n      // Listen to dialog close events. This can be a click outside, or the x button.\n      this.hiddenCloseInformation.click()\n    }\n  }\n\n  setDowngradeFeatureCount(el: Element, count: string) {\n    if (count && count !== '0') {\n      el.textContent = `(using ${count})`\n    } else {\n      el.remove()\n    }\n  }\n}\n","import {persistSubmitButtonValue} from './remote-submit'\n\ntype TextField = HTMLInputElement | HTMLTextAreaElement\ntype Button = HTMLInputElement | HTMLButtonElement\n\nfunction fire(target: HTMLElement, name: string, cancelable: boolean): boolean {\n  return target.dispatchEvent(\n    new CustomEvent(name, {\n      bubbles: true,\n      cancelable,\n    }),\n  )\n}\n\n// Submit a form while ensuring that `submit` event is also triggered.\n//\n// Calling native `form.submit()` method immediately submits the form without triggering the `submit` event.\n// As a result, code that wants to hook into form submits would never execute.\n//\n// This method first triggers the `submit` event and, if that event wasn't `preventDefault`d, submits the\n// form natively.\nexport function requestSubmit(form: HTMLFormElement, submitter?: Button) {\n  if (submitter) {\n    checkButtonValidity(form, submitter)\n    persistSubmitButtonValue(submitter)\n  }\n  if (fire(form, 'submit', true)) {\n    form.submit()\n  }\n}\n\n// Check submitter validity for form.requestSubmit compatibility.\n// See https://html.spec.whatwg.org/#dom-form-requestsubmit.\nfunction checkButtonValidity(form: HTMLFormElement, submitter: Button) {\n  if (!(form instanceof HTMLFormElement)) throw new TypeError('The specified element is not of type HTMLFormElement.')\n  if (!(submitter instanceof HTMLElement)) throw new TypeError('The specified element is not of type HTMLElement.')\n  if (submitter.type !== 'submit') throw new TypeError('The specified element is not a submit button.')\n  if (!form || form !== submitter.form) throw new Error('The specified element is not owned by the form element.')\n}\n\n// Set a form field value while ensuring that `change` event is also triggered.\n//\n// Having the `change` event fire is important for various behaviors to react, such as form validation.\nexport function changeValue(input: TextField, value: string | boolean) {\n  if (typeof value === 'boolean') {\n    if (input instanceof HTMLInputElement) {\n      input.checked = value\n    } else {\n      throw new TypeError('only checkboxes can be set to boolean value')\n    }\n  } else {\n    if (input.type === 'checkbox') {\n      throw new TypeError(\"checkbox can't be set to string value\")\n    } else {\n      input.value = value\n    }\n  }\n  fire(input, 'change', false)\n}\n\n// Fill multiple form fields by item name.\nexport function fillFormValues(form: HTMLFormElement, fields: {[key: string]: string}) {\n  for (const name in fields) {\n    const value = fields[name]\n    const element = form.elements.namedItem(name)\n\n    if (element instanceof HTMLInputElement) {\n      element.value = value!\n    } else if (element instanceof HTMLTextAreaElement) {\n      element.value = value!\n    }\n  }\n}\n\n// Test if element is a form field.\nexport function isFormField(element: Node): boolean {\n  if (!(element instanceof HTMLElement)) {\n    return false\n  }\n\n  const name = element.nodeName.toLowerCase()\n  const type = (element.getAttribute('type') || '').toLowerCase()\n  return (\n    name === 'select' ||\n    name === 'textarea' ||\n    (name === 'input' && type !== 'submit' && type !== 'reset') ||\n    element.isContentEditable\n  )\n}\n\nfunction searchParamsFromFormData(formData: FormData): URLSearchParams {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return new URLSearchParams(formData as any)\n}\n\n// Get a `?` search string for a URL for a GET form, using its `action` attribute as well as its other fields.\nexport function combineGetFormSearchParams(formAction: URL, formData: FormData): string {\n  const allSearchParams = new URLSearchParams(formAction.search)\n  const searchParamsFromInputs = searchParamsFromFormData(formData)\n  for (const [key, value] of searchParamsFromInputs) {\n    allSearchParams.append(key, value)\n  }\n  return allSearchParams.toString()\n}\n\n// Serialize form data into string.\nexport function serialize(form: HTMLFormElement): string {\n  return searchParamsFromFormData(new FormData(form)).toString()\n}\n","// Emulates submit button submission values by inserting a hidden input to the form.\n//\n// Submit events can be triggerd in the following ways:\n// - User clicks on a submit button.\n// - User press Enter when focusing on a form field; also known as \"implicit submission\".\n// - Programmatically via requestSubmit helper.\n//\n// On GitHub.com, the submission is either handled by the browser or remoteForm.\n//\n// For submissions triggered by user actions, the name and value of the clicked submit button (also known as\n// \"the submitter\") is passed along in the request, and can be programmatically retrieved with FormData.entries().\n//\n// However, this value will be lost in the following cases:\n// - 1. When the submitter button is disabled, most commonly by [data-disable-with].\n// - 2. When submitting via requestSubmit (from form.js), because the submission does not originated from a submitter.\n// - 3. When submitting with remoteForm, because FormData(form).entries() does not know about the submitter. In Safari\n// the submitter is known during the submission steps, but this behavior is not supported in any other browsers.\n//\n// @see {@link https://github.com/github/form-data-entries/pull/7}.\n//\n// For the exact workarounds, refer to ./form.js and ./remote.js.\nexport function persistSubmitButtonValue(button: HTMLButtonElement | HTMLInputElement) {\n  const form = button.closest('form')\n  if (!(form instanceof HTMLFormElement)) {\n    return\n  }\n\n  let input = findPersistedSubmitButtonValue(form)\n\n  if (button.name) {\n    const defaultValue = button.matches('input[type=submit]') ? 'Submit' : ''\n    const value = button.value || defaultValue\n    if (!input) {\n      input = document.createElement('input')\n      input.type = 'hidden'\n      input.classList.add('js-submit-button-value')\n      form.prepend(input)\n    }\n    input.name = button.name\n    input.value = value\n  } else if (input) {\n    input.remove()\n  }\n}\n\nexport function findPersistedSubmitButtonValue(form: HTMLFormElement): HTMLInputElement | null {\n  const input = form.querySelector('input.js-submit-button-value')\n  return input instanceof HTMLInputElement ? input : null\n}\n"],"names":["formHandlers","ErrorWithResponse","Error","constructor","message","response","makeDeferred","resolve","reject","Promise","_resolve","_reject","afterHandlers","beforeHandlers","afterRemote","fn","push","beforeRemote","remoteForm","selector","Map","document","addEventListener","handleSubmit","handlers","get","set","event","target","HTMLFormElement","defaultPrevented","form","matches","getMatches","el","results","keys","length","req","buildRequest","method","url","action","headers","Headers","body","toUpperCase","data","serialize","params","URLSearchParams","name","value","FormData","entries","append","toString","indexOf","kickerPromise","ultimateResolve","ultimateReject","preventDefault","processHandlers","then","performAsyncSubmit","handler","remoteSubmit","catch","submit","setTimeout","err","kickerWasCalled","match","kickerCalled","kickerCalledResolve","kick","kicker","text","json","html","race","window","fetch","undefined","credentials","res","status","statusText","JSON","parse","parseHTML","template","createElement","innerHTML","importNode","content","ok","activeTrap","focusTrap","container","initialFocus","abortSignal","lastFocusedChild","controller","AbortController","signal","setAttribute","sentinelStart","onfocus","lastFocusableChild","focus","sentinelEnd","ensureTrapZoneHasFocus","focusedElement","HTMLElement","contains","firstFocusableChild","prepend","wrappingController","followSignal","abort","suspendedTrap","suspendedTrapStack","removeAttribute","sentinels","getElementsByClassName","remove","suspendedTrapIndex","findIndex","t","splice","tryReactivate","trapToReactivate","pop","originalSignal","capture","activeElement","signalSupported","noop","options","Object","create","removeEventListener","e","polyfill","monkeyPatch","originalAddEventListener","EventTarget","prototype","originalCallback","optionsOrCapture","AbortSignal","call","iterateFocusableElements","_a","_b","strict","acceptFn","onlyTabbable","isTabbable","isFocusable","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","node","FILTER_ACCEPT","FILTER_SKIP","nextNode","reverse","lastChild","firstChild","previousNode","getFocusableChild","next","elem","disabledAttrInert","includes","tagName","disabled","hiddenInert","hidden","hiddenInputInert","HTMLInputElement","type","sentinelInert","classList","style","getComputedStyle","sizeInert","offsetWidth","offsetHeight","visibilityInert","visibility","displayInert","display","offsetParent","clientRectsInert","getClientRects","getAttribute","HTMLAnchorElement","tabIndex","_ModalDialogElement_instances","_ModalDialogElement_focusAbortController","_ModalDialogElement_overlayBackdrop_get","_ModalDialogElement_keydown","__classPrivateFieldGet","receiver","state","kind","f","has","__classPrivateFieldSet","focusIfNeeded","overlayStack","clickHandler","button","closest","hasAttribute","dialogId","stopPropagation","dialog","getElementById","ModalDialogElement","openButton","show","dialogIndex","ele","id","close","keydownHandler","KeyboardEvent","key","ctrlKey","altKey","metaKey","shiftKey","mousedownHandler","topLevelDialog","ownerDocument","upEvent","once","arguments","add","open","paddingRight","innerWidth","clientWidth","overflow","aborted","querySelector","menu","showButtons","querySelectorAll","connectedCallback","closedNotCancelled","dialogEvent","Event","dispatchEvent","WeakMap","WeakSet","parentElement","isComposing","customElements","define","DowngradeDialogElement","includeFragment","eventAbortController","featuresCount","wants","result","feature","features","featureName","setDowngradeFeatureCount","counts","disconnectedCallback","handleEvent","requestSubmit","hiddenCloseInformation","click","count","textContent","targets","fire","cancelable","CustomEvent","bubbles","submitter","checkButtonValidity","persistSubmitButtonValue","changeValue","input","checked","fillFormValues","fields","element","elements","namedItem","HTMLTextAreaElement","isFormField","nodeName","toLowerCase","isContentEditable","searchParamsFromFormData","formData","combineGetFormSearchParams","formAction","allSearchParams","search","findPersistedSubmitButtonValue","defaultValue"],"sourceRoot":""}