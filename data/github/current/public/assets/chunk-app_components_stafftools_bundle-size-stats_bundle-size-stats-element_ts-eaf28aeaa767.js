"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_stafftools_bundle-size-stats_bundle-size-stats-element_ts"],{70170:(e,t,n)=>{function r(e,t=0,{start:n=!0,middle:r=!0,once:o=!1}={}){let i,a=n,c=0,s=!1;function l(...d){if(s)return;let u=Date.now()-c;c=Date.now(),n&&r&&u>=t&&(a=!0),a?(a=!1,e.apply(this,d),o&&l.cancel()):(r&&u<t||!r)&&(clearTimeout(i),i=setTimeout(()=>{c=Date.now(),e.apply(this,d),o&&l.cancel()},r?t-u:t))}return l.cancel=()=>{clearTimeout(i),s=!0},l}function o(e,t=0,{start:n=!1,middle:o=!1,once:i=!1}={}){return r(e,t,{start:n,middle:o,once:i})}n.d(t,{n:()=>r,s:()=>o})},41417:(e,t,n)=>{n.d(t,{z:()=>r});function r(e,t=2){return new Intl.NumberFormat("en",{notation:"compact",style:"unit",unit:"byte",unitDisplay:"narrow",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}},92022:(e,t,n)=>{var r=n(39595),o=n(17688),i=n(41417),a=n(5728),c=n(51848),s=n(51528),l=n(74572);function d(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t){var n=d(e,t,"get");return n.get?n.get.call(e):n.value}function f(e,t,n){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function m(e,t,n){var r=d(e,t,"set");return!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,r,n),n}var h=new WeakMap,p=new WeakMap,g=new WeakMap;let BundleSizeLog=class BundleSizeLog{entries(){return u(this,g)}addEntry(e){u(this,g).unshift({...e,timestamp:new Date().toISOString()}),u(this,h).setItem(u(this,p),u(this,g))}constructor(){f(this,h,{writable:!0,value:void 0}),f(this,p,{writable:!0,value:void 0}),f(this,g,{writable:!0,value:void 0}),m(this,h,(0,l.D)("sessionStorage")),m(this,p,"bundle-size-log"),m(this,g,u(this,h).getItem(u(this,p))||[]),this.reset=()=>{m(this,g,[]),u(this,h).setItem(u(this,p),u(this,g))}}};var y=n(27260);function w(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function v(e,t){var n=w(e,t,"get");return n.get?n.get.call(e):n.value}function S(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}let b=!1;var E=new WeakMap;let C=class BundleSizeStatsElement extends HTMLElement{clearLog(){v(this,E).reset(),this.renderEntries()}connectedCallback(){b||(this.initialLoad(),b=!0),document.addEventListener(y.z.SUCCESS,this.onSoftNav)}disconnectedCallback(){document.removeEventListener(y.z.SUCCESS,this.onSoftNav)}async initialLoad(){await a.K,window.requestIdleCallback(async()=>{let e=await T();v(this,E).addEntry({...e,url:window.location.href,navType:"initial_load"}),this.renderEntries(),I("initial_load",e)})}renderEntries(){(0,o.XX)((0,o.qy)`${v(this,E).entries().map(this.entryTemplate)}`,this.logList)}constructor(...e){super(...e),function(e,t,n){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}(this,E,{writable:!0,value:void 0}),function(e,t,n){var r=w(e,t,"set");!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,r,n)}(this,E,new BundleSizeLog),this.onSoftNav=async e=>{let t=await T();v(this,E).addEntry({...t,url:window.location.href,navType:e.mechanism}),this.renderEntries(),I(e.mechanism,t)},this.entryTemplate=({timestamp:e,url:t,js:n,css:r,navType:a})=>(0,o.qy)`
      <li class="d-block my-2">
        <hr />
        <p class="color-fg-muted mb-0">Timestamp - ${e}</p>
        <p class="color-fg-muted mb-0">Url - ${t}</p>
        <p class="color-fg-muted mb-0">Navigation type - ${a}</p>
        <p class="color-fg-muted mb-0">
          JS bundle size (encoded/decoded) - ${(0,i.z)(n.encoded)} / ${(0,i.z)(n.decoded)}
        </p>
        <p class="color-fg-muted mb-0">
          CSS bundle size (encoded/decoded) - ${(0,i.z)(r.encoded)} / ${(0,i.z)(r.decoded)}
        </p>
      </li>
    `}};S([r.aC],C.prototype,"logList",void 0),C=S([r.p_],C);let _=0;async function T(){await a.K;let e=window.performance.getEntriesByType("resource"),t={decoded:0,encoded:0},n={decoded:0,encoded:0};for(let r of e.slice(_))r.name.endsWith(".js")&&"script"===r.initiatorType?(t.decoded+=r.decodedBodySize||0,t.encoded+=r.encodedBodySize||0):r.name.endsWith(".css")&&"link"===r.initiatorType&&(n.decoded+=r.decodedBodySize||0,n.encoded+=r.encodedBodySize||0);return _=e.length,{js:t,css:n}}async function I(e,t){if(!document.querySelector('[data-hydrostats="publish"]')||!(0,s.X)())return;let{js:n,css:r}=t,o={react:!!document.querySelector("react-app"),nav_type:e};(0,c.BI)("bundle-size",{name:"js",decoded:n.decoded,encoded:n.encoded,...o}),(0,c.BI)("bundle-size",{name:"css",decoded:r.decoded,encoded:r.encoded,...o})}},27756:(e,t,n)=>{let r;function o(){if(!r)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return r}function i(){return r?.locale??"en-US"}n.d(t,{JK:()=>i,_$:()=>o}),function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{r=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},5728:(e,t,n)=>{n.d(t,{G:()=>o,K:()=>i});var r=n(97156);let o=r.XC?.readyState==="interactive"||r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),i=r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.cg?.addEventListener("load",e)})},97564:(e,t,n)=>{n.d(t,{G7:()=>s,XY:()=>l,fQ:()=>c});var r=n(5225),o=n(27756);function i(){return new Set((0,o._$)().featureFlags.map(e=>e.toLowerCase()))}let a=n(97156).X3?i:(0,r.A)(i);function c(){return Array.from(a())}function s(e){return a().has(e.toLowerCase())}let l={isFeatureEnabled:s}},51848:(e,t,n)=>{let r;n.d(t,{BI:()=>m,Ti:()=>h,lA:()=>f});var o=n(70837),i=n(97524),a=n(74572),c=n(51528);let{getItem:s}=(0,a.A)("localStorage"),l="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.O)("octolytics");delete e.baseContext,r=new i.s(e)}catch(e){}function u(e){let t=(0,o.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(l)&&(t[e.replace(l,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,r]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=r);return t.staff=(0,c.X)().toString(),Object.assign(t,e)}function f(e){r?.sendPageView(u(e))}function m(e,t={}){let n=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,o=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(o[e]=`${n}`);r&&(u(o),r.sendEvent(e||"unknown",u(o)))}function h(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},14740:(e,t,n)=>{n.d(t,{k:()=>a,v:()=>c});var r=n(5225),o=n(97156);let i=(0,r.A)(function(){return o.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),a=(0,r.A)(function(){return"enterprise"===i()}),c="webpack-react-next"},74572:(e,t,n)=>{n.d(t,{A:()=>a,D:()=>c});var r=n(97156),o=n(51528);let i=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function a(e,t={throwQuotaErrorsOnSet:!1},n=r.cg,a=e=>e,c=e=>e){let s;try{if(!n)throw Error();s=n[e]||new i}catch{s=new i}let{throwQuotaErrorsOnSet:l}=t;function d(e){t.sendCacheStats&&(0,o.i)({incrementKey:e})}function u(e){try{if(s.removeItem(e),t.ttl){let t=`${e}:expiry`;s.removeItem(t)}}catch(e){}}return{getItem:function(e,t=new Date().getTime()){try{let n=s.getItem(e);if(!n)return null;let r=`${e}:expiry`,o=Number(s.getItem(r));if(o&&t>o)return u(e),u(r),d("SAFE_STORAGE_VALUE_EXPIRED"),null;return d("SAFE_STORAGE_VALUE_WITHIN_TTL"),a(n)}catch(e){return null}},setItem:function(e,n,r=new Date().getTime()){try{if(s.setItem(e,c(n)),t.ttl){let n=`${e}:expiry`,o=r+t.ttl;s.setItem(n,o.toString())}}catch(e){if(l&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:u,clear:s.clear,key:s.key,get length(){return s.length}}}function c(e){return a(e,{throwQuotaErrorsOnSet:!1},r.cg,JSON.parse,JSON.stringify)}},27260:(e,t,n)=>{n.d(t,{z:()=>r});let r=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}})},97156:(e,t,n)=>{n.d(t,{KJ:()=>r.KJ,Kn:()=>o.Kn,X3:()=>r.X3,XC:()=>o.XC,cg:()=>o.cg,fV:()=>o.fV,g5:()=>r.g5});var r=n(15572),o=n(86733)},86733:(e,t,n)=>{n.d(t,{Kn:()=>i,XC:()=>r,cg:()=>o,fV:()=>a});let r="undefined"==typeof document?void 0:document,o="undefined"==typeof window?void 0:window,i="undefined"==typeof history?void 0:history,a="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:"",href:""}:location},15572:(e,t,n)=>{n.d(t,{KJ:()=>i,X3:()=>o,g5:()=>a});var r=n(86733);let o=void 0===r.XC,i=!o;function a(){return!!o||!!r.XC.querySelector('react-app[data-ssr="true"]')}},51528:(e,t,n)=>{n.d(t,{X:()=>m,i:()=>l});var r=n(97156),o=n(5728),i=n(14740),a=n(97564),c=n(70170);let s=[];function l(e,t=!1,n=.5){if(!0!==(0,a.G7)("BROWSER_STATS_DISABLED")){if(n<0||n>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=new Date().getTime()),e.loggedIn=!!r.XC?.head?.querySelector('meta[name="user-login"]')?.content,e.staff=m(),e.bundler=i.v,Math.random()<n&&s.push(e),t?f():u()}}let d=null,u=(0,c.n)(async function(){await o.K,null==d&&(d=window.requestIdleCallback(f))},5e3);function f(){if(d=null,!s.length)return;let e=r.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let t of function(e){let t=[],n=e.map(e=>JSON.stringify(e));for(;n.length>0;)t.push(function(e){let t=e.shift(),n=[t],r=t.length;for(;e.length>0&&r<=65536;){let t=e[0].length;if(r+t<=65536){let o=e.shift();n.push(o),r+=t}else break}return n}(n));return t}(s))!function(e,t){try{navigator.sendBeacon&&navigator.sendBeacon(e,t)}catch{}}(e,`{"stats": [${t.join(",")}] }`);s=[]}}function m(){return!!r.XC?.head?.querySelector('meta[name="user-staff"]')?.content}r.XC?.addEventListener("pagehide",f),r.XC?.addEventListener("visibilitychange",f)},97524:(e,t,n)=>{n.d(t,{s:()=>AnalyticsClient});var r=n(60185),o=n(88288),i=n(36301);let AnalyticsClient=class AnalyticsClient{constructor(e){this.options=e}get collectorUrl(){return this.options.collectorUrl}get clientId(){return this.options.clientId?this.options.clientId:(0,i.y)()}createEvent(e){return{page:location.href,title:document.title,context:{...this.options.baseContext,...(0,o.K)(),...e}}}sendPageView(e){let t=this.createEvent(e);this.send({page_views:[t]})}sendEvent(e,t){let n={...this.createEvent(t),type:e};this.send({events:[n]})}send({page_views:e,events:t}){let n=JSON.stringify({client_id:this.clientId,page_views:e,events:t,request_context:(0,r.j)()});try{if(navigator.sendBeacon){navigator.sendBeacon(this.collectorUrl,n);return}}catch{}fetch(this.collectorUrl,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:n,keepalive:!1})}}},36301:(e,t,n)=>{let r;function o(){return`${Math.round(2147483647*Math.random())}.${Math.round(Date.now()/1e3)}`}function i(){try{let e=function(){let e;let t=document.cookie.match(/_octo=([^;]+)/g);if(!t)return;let n=[0,0];for(let r of t){let[,t]=r.split("="),[,o,...i]=t.split("."),a=o.split("-").map(Number);a>n&&(n=a,e=i.join("."))}return e}();if(e)return e;let t=o();return!function(e){let t=`GH1.1.${e}`,n=new Date(Date.now()+31536e6).toUTCString(),{domain:r}=document;r.endsWith(".github.com")&&(r="github.com"),document.cookie=`_octo=${t}; expires=${n}; path=/; domain=${r}; secure; samesite=lax`}(t),t}catch(e){return r||(r=o()),r}}n.d(t,{y:()=>i})},88288:(e,t,n)=>{n.d(t,{K:()=>o});let r=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];function o(){let e={};try{for(let[t,n]of new URLSearchParams(window.location.search)){let o=t.toLowerCase();r.includes(o)&&(e[o]=n)}return e}catch(e){return{}}}},70837:(e,t,n)=>{n.d(t,{O:()=>r});function r(e="ha"){let t;let n={};for(let r of Array.from(document.head.querySelectorAll(`meta[name^="${e}-"]`))){let{name:o,content:i}=r,a=o.replace(`${e}-`,"").replace(/-/g,"_");"url"===a?t=i:n[a]=i}if(!t)throw Error(`AnalyticsClient ${e}-url meta tag not found`);return{collectorUrl:t,...Object.keys(n).length>0?{baseContext:n}:{}}}},60185:(e,t,n)=>{n.d(t,{j:()=>r});function r(){return{referrer:function(){let e;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(e){}}return""===e&&(e=document.referrer),e}(),user_agent:navigator.userAgent,screen_resolution:function(){try{return`${screen.width}x${screen.height}`}catch(e){return"unknown"}}(),browser_resolution:function(){let e=0,t=0;try{return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):null!=document.documentElement&&null!=document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):null!=document.body&&null!=document.body.clientWidth&&(t=document.body.clientWidth,e=document.body.clientHeight),`${t}x${e}`}catch(e){return"unknown"}}(),browser_languages:navigator.languages?navigator.languages.join(","):navigator.language||"",pixel_ratio:window.devicePixelRatio,timestamp:Date.now(),tz_seconds:-60*new Date().getTimezoneOffset()}}},5225:(e,t,n)=>{function r(...e){return JSON.stringify(e,(e,t)=>"object"==typeof t?t:String(t))}function o(e,t={}){let{hash:n=r,cache:o=new Map}=t;return function(...t){let r=n.apply(this,t);if(o.has(r))return o.get(r);let i=e.apply(this,t);return i instanceof Promise&&(i=i.catch(e=>{throw o.delete(r),e})),o.set(r,i),i}}n.d(t,{A:()=>o})}}]);
//# sourceMappingURL=app_components_stafftools_bundle-size-stats_bundle-size-stats-element_ts-bc0ce7f04c75.js.map