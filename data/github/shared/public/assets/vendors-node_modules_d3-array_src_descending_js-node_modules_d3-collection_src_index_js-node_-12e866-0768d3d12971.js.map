{"version":3,"file":"chunk-vendors-node_modules_d3-array_src_descending_js-node_modules_d3-collection_src_index_js-node_-12e866-xxxxxxxxxxxx.js","mappings":"oNAAe,WAASA,CAAC,CAAEC,CAAC,EAC1B,OAAOA,EAAID,EAAI,GAAKC,EAAID,EAAI,EAAIC,GAAKD,EAAI,EAAIE,GAC/C,C,kBCAA,SAASC,IAAO,CAkDhB,SAAS,EAAIC,CAAM,CAAEC,CAAC,EACpB,IAAIC,EAAM,IAAIH,EAGd,GAAIC,aAAkBD,EAAKC,EAAOG,IAAI,CAAC,SAASC,CAAK,CAAEC,CAAG,EAAIH,EAAII,GAAG,CAACD,EAAKD,EAAQ,QAG9E,GAAIG,MAAMC,OAAO,CAACR,GAAS,CAC9B,IAEIS,EAFAC,EAAI,GACJC,EAAIX,EAAOY,MAAM,CAGrB,GAAIX,MAAAA,EAAW,KAAO,EAAES,EAAIC,GAAGT,EAAII,GAAG,CAACI,EAAGV,CAAM,CAACU,EAAE,OAC9C,KAAO,EAAEA,EAAIC,GAAGT,EAAII,GAAG,CAACL,EAAEQ,EAAIT,CAAM,CAACU,EAAE,CAAEA,EAAGV,GAASS,EAC5D,MAGK,GAAIT,EAAQ,IAAK,IAAIK,KAAOL,EAAQE,EAAII,GAAG,CAACD,EAAKL,CAAM,CAACK,EAAI,EAEjE,OAAOH,CACT,CCtEA,SAASW,IAAO,C,kBDEhBd,EAAIe,SAAS,CAAG,EAAIA,SAAS,CAAG,CAC9BC,YAAahB,EACbiB,IAAK,SAASX,CAAG,EACf,MAAO,IAAUA,KAAQ,IAAI,EAE/BY,IAAK,SAASZ,CAAG,EACf,OAAO,IAAI,CAACa,IAASb,EAAI,EAE3BC,IAAK,SAASD,CAAG,CAAED,CAAK,EAEtB,OADA,IAAI,CAACc,IAASb,EAAI,CAAGD,EACd,IAAI,EAEbe,OAAQ,SAASd,CAAG,EAClB,IAAIe,EAAWF,IAASb,EACxB,OAAOe,KAAY,IAAI,EAAI,OAAO,IAAI,CAACA,EAAS,EAElDC,MAAO,WACL,IAAK,IAAID,KAAY,IAAI,CArBT,MAqBeA,CAAQ,CAAC,EAAE,EAAa,OAAO,IAAI,CAACA,EAAS,EAE9EE,KAAM,WACJ,IAAIA,EAAO,EAAE,CACb,IAAK,IAAIF,KAAY,IAAI,CAzBT,MAyBeA,CAAQ,CAAC,EAAE,EAAaE,EAAKC,IAAI,CAACH,EAASI,KAAK,CAAC,IAChF,OAAOF,CACT,EACAG,OAAQ,WACN,IAAIA,EAAS,EAAE,CACf,IAAK,IAAIL,KAAY,IAAI,CA9BT,MA8BeA,CAAQ,CAAC,EAAE,EAAaK,EAAOF,IAAI,CAAC,IAAI,CAACH,EAAS,EACjF,OAAOK,CACT,EACAC,QAAS,WACP,IAAIA,EAAU,EAAE,CAChB,IAAK,IAAIN,KAAY,IAAI,CAnCT,MAmCeA,CAAQ,CAAC,EAAE,EAAaM,EAAQH,IAAI,CAAC,CAAClB,IAAKe,EAASI,KAAK,CAAC,GAAIpB,MAAO,IAAI,CAACgB,EAAS,GAClH,OAAOM,CACT,EACAC,KAAM,WACJ,IAAIA,EAAO,EACX,IAAK,IAAIP,KAAY,IAAI,CAxCT,MAwCeA,CAAQ,CAAC,EAAE,EAAa,EAAEO,EACzD,OAAOA,CACT,EACAC,MAAO,WACL,IAAK,IAAIR,KAAY,IAAI,CAAE,GAAIA,MAAAA,CAAQ,CAAC,EAAE,CAAa,MAAO,GAC9D,MAAO,EACT,EACAjB,KAAM,SAASF,CAAC,EACd,IAAK,IAAImB,KAAY,IAAI,CAhDT,MAgDeA,CAAQ,CAAC,EAAE,EAAanB,EAAE,IAAI,CAACmB,EAAS,CAAEA,EAASI,KAAK,CAAC,GAAI,IAAI,CAClG,CACF,EC9CA,IAAIK,EAAQ,EAAIf,SAAS,CCJV,WAASZ,CAAG,EACzB,IAAIwB,EAAU,EAAE,CAChB,IAAK,IAAIrB,KAAOH,EAAKwB,EAAQH,IAAI,CAAC,CAAClB,IAAKA,EAAKD,MAAOF,CAAG,CAACG,EAAI,GAC5D,OAAOqB,CACT,CDEAb,EAAIC,SAAS,CAAGR,CAgBhB,SAAaN,CAAM,CAAEC,CAAC,EACpB,IAAIK,EAAM,IAAIO,EAGd,GAAIb,aAAkBa,EAAKb,EAAOG,IAAI,CAAC,SAASC,CAAK,EAAIE,EAAIwB,GAAG,CAAC1B,EAAQ,QAGpE,GAAIJ,EAAQ,CACf,IAAIU,EAAI,GAAIC,EAAIX,EAAOY,MAAM,CAC7B,GAAIX,MAAAA,EAAW,KAAO,EAAES,EAAIC,GAAGL,EAAIwB,GAAG,CAAC9B,CAAM,CAACU,EAAE,OAC3C,KAAO,EAAEA,EAAIC,GAAGL,EAAIwB,GAAG,CAAC7B,EAAED,CAAM,CAACU,EAAE,CAAEA,EAAGV,GAC/C,CAEA,OAAOM,CACT,GA9BoBQ,SAAS,CAAG,CAC9BC,YAAaF,EACbG,IAAKa,EAAMb,GAAG,CACdc,IAAK,SAAS1B,CAAK,EAGjB,OADA,IAAI,CAACc,IADLd,CAAAA,GAAS,EAAC,EACU,CAAGA,EAChB,IAAI,EAEbe,OAAQU,EAAMV,MAAM,CACpBE,MAAOQ,EAAMR,KAAK,CAClBI,OAAQI,EAAMP,IAAI,CAClBK,KAAME,EAAMF,IAAI,CAChBC,MAAOC,EAAMD,KAAK,CAClBzB,KAAM0B,EAAM1B,IAAI,C,yGEZH,WAAS4B,CAAE,CAAEC,CAAE,CAAEC,CAAE,EAChC,IAAIC,EAAK,KACLC,EAAU,QAAS,IACnBC,EAAU,KACVC,EAAQ,GAAW,CACnBC,EAAS,KAMb,SAASC,EAAKC,CAAI,EAChB,IAAI9B,EACA+B,EACAC,EAEAC,EAEAC,EAHAjC,EAAI,CAAC6B,EAAO,QAAMA,EAAI,EAAG5B,MAAM,CAE/BiC,EAAW,GAEXC,EAAM,MAAUnC,GAChBoC,EAAM,MAAUpC,GAIpB,IAFe,MAAXyB,GAAiBE,CAAAA,EAASD,EAAMO,EAAS,UAAM,EAE9ClC,EAAI,EAAGA,GAAKC,EAAG,EAAED,EAAG,CACvB,GAAI,CAAEA,CAAAA,EAAIC,GAAKwB,EAAQQ,EAAIH,CAAI,CAAC9B,EAAE,CAAEA,EAAG8B,EAAI,IAAOK,GAChD,GAAIA,EAAW,CAACA,EACdJ,EAAI/B,EACJ4B,EAAOU,SAAS,GAChBV,EAAOW,SAAS,OACX,CAGL,IAFAX,EAAOY,OAAO,GACdZ,EAAOW,SAAS,GACXP,EAAIhC,EAAI,EAAGgC,GAAKD,EAAG,EAAEC,EACxBJ,EAAOa,KAAK,CAACL,CAAG,CAACJ,EAAE,CAAEK,CAAG,CAACL,EAAE,EAE7BJ,EAAOY,OAAO,GACdZ,EAAOc,OAAO,EAChB,EAEEP,IACFC,CAAG,CAACpC,EAAE,CAAG,CAACqB,EAAGY,EAAGjC,EAAG8B,GAAOO,CAAG,CAACrC,EAAE,CAAG,CAACsB,EAAGW,EAAGjC,EAAG8B,GAC7CF,EAAOa,KAAK,CAACjB,EAAK,CAACA,EAAGS,EAAGjC,EAAG8B,GAAQM,CAAG,CAACpC,EAAE,CAAEuB,EAAK,CAACA,EAAGU,EAAGjC,EAAG8B,GAAQO,CAAG,CAACrC,EAAE,EAE7E,CAEA,GAAIkC,EAAQ,OAAON,EAAS,KAAMM,EAAS,IAAM,IACnD,CAEA,SAASS,IACP,MAAO,UAAOlB,OAAO,CAACA,GAASE,KAAK,CAACA,GAAOD,OAAO,CAACA,EACtD,CAmDA,OA/FAL,EAAK,mBAAOA,EAAoBA,EAAK,KAAQuB,IAAPvB,EAAoB,GAAM,CAAG,QAAS,CAACA,GAC7EC,EAAK,mBAAOA,EAAoBA,EAAK,KAAQsB,IAAPtB,EAAoB,QAAS,GAAK,QAAS,CAACA,GAClFC,EAAK,mBAAOA,EAAoBA,EAAK,KAAQqB,IAAPrB,EAAoB,GAAM,CAAG,QAAS,CAACA,GA4C7EM,EAAKgB,CAAC,CAAG,SAASC,CAAC,EACjB,OAAOC,UAAU7C,MAAM,CAAImB,CAAAA,EAAK,mBAAOyB,EAAmBA,EAAI,QAAS,CAACA,GAAItB,EAAK,KAAMK,CAAG,EAAKR,CACjG,EAEAQ,EAAKR,EAAE,CAAG,SAASyB,CAAC,EAClB,OAAOC,UAAU7C,MAAM,CAAImB,CAAAA,EAAK,mBAAOyB,EAAmBA,EAAI,QAAS,CAACA,GAAIjB,CAAG,EAAKR,CACtF,EAEAQ,EAAKL,EAAE,CAAG,SAASsB,CAAC,EAClB,OAAOC,UAAU7C,MAAM,CAAIsB,CAAAA,EAAKsB,MAAAA,EAAY,KAAO,mBAAOA,EAAmBA,EAAI,QAAS,CAACA,GAAIjB,CAAG,EAAKL,CACzG,EAEAK,EAAKmB,CAAC,CAAG,SAASF,CAAC,EACjB,OAAOC,UAAU7C,MAAM,CAAIoB,CAAAA,EAAK,mBAAOwB,EAAmBA,EAAI,QAAS,CAACA,GAAIvB,EAAK,KAAMM,CAAG,EAAKP,CACjG,EAEAO,EAAKP,EAAE,CAAG,SAASwB,CAAC,EAClB,OAAOC,UAAU7C,MAAM,CAAIoB,CAAAA,EAAK,mBAAOwB,EAAmBA,EAAI,QAAS,CAACA,GAAIjB,CAAG,EAAKP,CACtF,EAEAO,EAAKN,EAAE,CAAG,SAASuB,CAAC,EAClB,OAAOC,UAAU7C,MAAM,CAAIqB,CAAAA,EAAKuB,MAAAA,EAAY,KAAO,mBAAOA,EAAmBA,EAAI,QAAS,CAACA,GAAIjB,CAAG,EAAKN,CACzG,EAEAM,EAAKoB,MAAM,CACXpB,EAAKqB,MAAM,CAAG,WACZ,OAAOP,IAAWE,CAAC,CAACxB,GAAI2B,CAAC,CAAC1B,EAC5B,EAEAO,EAAKsB,MAAM,CAAG,WACZ,OAAOR,IAAWE,CAAC,CAACxB,GAAI2B,CAAC,CAACzB,EAC5B,EAEAM,EAAKuB,MAAM,CAAG,WACZ,OAAOT,IAAWE,CAAC,CAACrB,GAAIwB,CAAC,CAAC1B,EAC5B,EAEAO,EAAKJ,OAAO,CAAG,SAASqB,CAAC,EACvB,OAAOC,UAAU7C,MAAM,CAAIuB,CAAAA,EAAU,mBAAOqB,EAAmBA,EAAI,QAAS,CAAC,CAACA,GAAIjB,CAAG,EAAKJ,CAC5F,EAEAI,EAAKF,KAAK,CAAG,SAASmB,CAAC,EACrB,OAAOC,UAAU7C,MAAM,CAAIyB,CAAAA,EAAQmB,EAAGpB,MAAAA,GAAoBE,CAAAA,EAASD,EAAMD,EAAO,EAAIG,CAAG,EAAKF,CAC9F,EAEAE,EAAKH,OAAO,CAAG,SAASoB,CAAC,EACvB,OAAOC,UAAU7C,MAAM,CAAI4C,CAAAA,MAAAA,EAAYpB,EAAUE,EAAS,KAAOA,EAASD,EAAMD,EAAUoB,GAAIjB,CAAG,EAAKH,CACxG,EAEOG,CACT,C,kBC9GO,SAASY,EAAMY,CAAI,CAAER,CAAC,CAAEG,CAAC,EAC9BK,EAAKC,QAAQ,CAACC,aAAa,CACzB,CAAC,EAAIF,EAAKG,GAAG,CAAGH,EAAKI,GAAG,EAAI,EAC5B,CAAC,EAAIJ,EAAKK,GAAG,CAAGL,EAAKM,GAAG,EAAI,EAC5B,CAACN,EAAKG,GAAG,CAAG,EAAIH,EAAKI,GAAG,EAAI,EAC5B,CAACJ,EAAKK,GAAG,CAAG,EAAIL,EAAKM,GAAG,EAAI,EAC5B,CAACN,EAAKG,GAAG,CAAG,EAAIH,EAAKI,GAAG,CAAGZ,CAAAA,EAAK,EAChC,CAACQ,EAAKK,GAAG,CAAG,EAAIL,EAAKM,GAAG,CAAGX,CAAAA,EAAK,EAEpC,CAEO,SAASY,EAAMlC,CAAO,EAC3B,IAAI,CAAC4B,QAAQ,CAAG5B,CAClB,CAmCe,WAASA,CAAO,EAC7B,OAAO,IAAIkC,EAAMlC,EACnB,C,kBAnCAkC,EAAMxD,SAAS,CAAG,CAChBkC,UAAW,WACT,IAAI,CAACuB,KAAK,CAAG,CACf,EACAnB,QAAS,WACP,IAAI,CAACmB,KAAK,CAAGzE,GACf,EACAmD,UAAW,WACT,IAAI,CAACiB,GAAG,CAAG,IAAI,CAACC,GAAG,CACnB,IAAI,CAACC,GAAG,CAAG,IAAI,CAACC,GAAG,CAAGvE,IACtB,IAAI,CAAC0E,MAAM,CAAG,CAChB,EACAtB,QAAS,WACP,OAAQ,IAAI,CAACsB,MAAM,EACjB,KAAK,EAAGrB,EAAM,IAAI,CAAE,IAAI,CAACgB,GAAG,CAAE,IAAI,CAACE,GAAG,CACtC,MAAK,EAAG,IAAI,CAACL,QAAQ,CAACS,MAAM,CAAC,IAAI,CAACN,GAAG,CAAE,IAAI,CAACE,GAAG,CACjD,CACI,KAAI,CAACE,KAAK,EAAK,QAAI,CAACA,KAAK,EAAU,QAAI,CAACC,MAAM,GAAS,IAAI,CAACR,QAAQ,CAACU,SAAS,GAClF,IAAI,CAACH,KAAK,CAAG,EAAI,IAAI,CAACA,KAAK,EAE7BpB,MAAO,SAASI,CAAC,CAAEG,CAAC,EAElB,OADAH,EAAI,CAACA,EAAGG,EAAI,CAACA,EACL,IAAI,CAACc,MAAM,EACjB,KAAK,EAAG,IAAI,CAACA,MAAM,CAAG,EAAG,IAAI,CAACD,KAAK,CAAG,IAAI,CAACP,QAAQ,CAACS,MAAM,CAAClB,EAAGG,GAAK,IAAI,CAACM,QAAQ,CAACW,MAAM,CAACpB,EAAGG,GAAI,KAC/F,MAAK,EAAG,IAAI,CAACc,MAAM,CAAG,EAAG,KACzB,MAAK,EAAG,IAAI,CAACA,MAAM,CAAG,EAAG,IAAI,CAACR,QAAQ,CAACS,MAAM,CAAC,CAAC,EAAI,IAAI,CAACP,GAAG,CAAG,IAAI,CAACC,GAAG,EAAI,EAAG,CAAC,EAAI,IAAI,CAACC,GAAG,CAAG,IAAI,CAACC,GAAG,EAAI,EACzG,SAASlB,EAAM,IAAI,CAAEI,EAAGG,EAC1B,CACA,IAAI,CAACQ,GAAG,CAAG,IAAI,CAACC,GAAG,CAAE,IAAI,CAACA,GAAG,CAAGZ,EAChC,IAAI,CAACa,GAAG,CAAG,IAAI,CAACC,GAAG,CAAE,IAAI,CAACA,GAAG,CAAGX,CAClC,CACF,C,kBC7Ce,SAASkB,IAEtB,GAAI,CAAE,KAAI,YAAYA,CAAU,EAC9B,OAAO,IAAIA,CAIb,KAAI,CAACjD,IAAI,CAAG,EAGZ,IAAI,CAACkD,GAAG,CAAG,EAGX,IAAI,CAACC,SAAS,CAAG,EAAE,CAGnB,IAAI,CAACC,eAAe,CAAG,CAAC,EAGxB,IAAI,CAACC,OAAO,CAAGC,OAAOC,MAAM,CAAC,IAAI,CAACF,OAAO,EAGzC,IAAI,CAACG,aAAa,CAAG,EAAE,C,kCAIzB,IA8GIpF,EA9GAqF,EAAUC,OAAOC,QAAQ,CAACC,eAAe,CACzCC,EACFJ,EAAQI,OAAO,EACfJ,EAAQK,qBAAqB,EAC7BL,EAAQM,kBAAkB,EAC1BN,EAAQO,gBAAgB,EACxBP,EAAQQ,iBAAiB,CAU3BhB,EAAY9D,SAAS,CAAC+E,eAAe,CAAG,SAASC,CAAE,CAAEC,CAAQ,EAC3D,OAAOP,EAAQQ,IAAI,CAACF,EAAIC,EAC1B,EAUAnB,EAAY9D,SAAS,CAACmF,gBAAgB,CAAG,SAASnB,CAAS,CAAE1C,CAAO,EAClE,OAAOA,EAAQ6D,gBAAgB,CAACnB,EAClC,EAUAF,EAAY9D,SAAS,CAACkE,OAAO,CAAG,EAAE,CAGlC,IAAIkB,EAAO,oCACXtB,EAAY9D,SAAS,CAACkE,OAAO,CAACzD,IAAI,CAAC,CACjC4E,KAAM,KACNJ,SAAU,SAAyBK,CAAG,EACpC,IAAIC,EACJ,GAAKA,EAAID,EAAIE,KAAK,CAACJ,GACjB,OAAOG,CAAC,CAAC,EAAE,CAAC7E,KAAK,CAAC,EAEtB,EACA+E,QAAS,SAAsBT,CAAE,EAC/B,GAAIA,EAAGU,EAAE,CACP,MAAO,CAACV,EAAGU,EAAE,CAAC,CAGpB,GAGA,IAAIC,EAAU,qCACd7B,EAAY9D,SAAS,CAACkE,OAAO,CAACzD,IAAI,CAAC,CACjC4E,KAAM,QACNJ,SAAU,SAA4BK,CAAG,EACvC,IAAIC,EACJ,GAAKA,EAAID,EAAIE,KAAK,CAACG,GACjB,OAAOJ,CAAC,CAAC,EAAE,CAAC7E,KAAK,CAAC,EAEtB,EACA+E,QAAS,SAA8BT,CAAE,EACvC,IAAIY,EAAYZ,EAAGY,SAAS,CAC5B,GAAIA,EAAW,CACb,GAAI,iBAAOA,EACT,OAAOA,EAAUC,KAAK,CAAC,MAClB,GAAI,iBAAOD,GAA0B,YAAaA,EAGvD,OAAOA,EAAUE,OAAO,CAACD,KAAK,CAAC,KAEnC,CACF,CACF,GAGA,IAAIE,EAAQ,mCACZjC,EAAY9D,SAAS,CAACkE,OAAO,CAACzD,IAAI,CAAC,CACjC4E,KAAM,MACNJ,SAAU,SAA0BK,CAAG,EACrC,IAAIC,EACJ,GAAKA,EAAID,EAAIE,KAAK,CAACO,GACjB,OAAOR,CAAC,CAAC,EAAE,CAACS,WAAW,EAE3B,EACAP,QAAS,SAA2BT,CAAE,EACpC,MAAO,CAACA,EAAGiB,QAAQ,CAACD,WAAW,GAAG,CAEtC,GAGAlC,EAAY9D,SAAS,CAACkE,OAAO,CAAC,OAAU,CAAG,CACzCmB,KAAM,YACNJ,SAAU,WACR,MAAO,EACT,EACAQ,QAAS,WACP,MAAO,CAAC,GAAK,CAEjB,EAKExG,EADE,mBAAOsF,OAAOtF,GAAG,CACbsF,OAAOtF,GAAG,CAEV,WACJ,SAASA,IACP,IAAI,CAACG,GAAG,CAAG,CAAC,CACd,CAOA,OANAH,EAAIe,SAAS,CAACG,GAAG,CAAG,SAASZ,CAAG,EAC9B,OAAO,IAAI,CAACH,GAAG,CAACG,EAAM,IAAI,EAE5BN,EAAIe,SAAS,CAACR,GAAG,CAAG,SAASD,CAAG,CAAED,CAAK,EACrC,IAAI,CAACF,GAAG,CAACG,EAAM,IAAI,CAAGD,CACxB,EACOL,CACT,IAMF,IAAIiH,EAAU,sIAOd,SAASC,EAAqBC,CAAU,CAAEnB,CAAQ,EAGhD,IACErF,EACA+B,EACA4D,EACAc,EAEA9G,EACA+G,EAPEC,EAAgBH,CAFpBA,EAAaA,EAAW1F,KAAK,CAAC,GAAG8F,MAAM,CAACJ,EAAW,OAAU,GAE9BtG,MAAM,CAKnC2G,EAAOxB,EAGPf,EAAU,EAAE,CAEd,GAEE,GADAgC,EAAQQ,IAAI,CAAC,IACRnB,CAAAA,EAAIW,EAAQQ,IAAI,CAACD,EAAI,IACxBA,EAAOlB,CAAC,CAAC,EAAE,CACPA,CAAC,CAAC,EAAE,EAAI,CAACkB,GACX,KAAK7G,EAAI,EAAGA,EAAI2G,EAAe3G,IAE7B,GAAKL,EAAM+G,CADXA,EAAQF,CAAU,CAACxG,EAAE,EACJqF,QAAQ,CAACM,CAAC,CAAC,EAAE,EAAI,CAGhC,IAFA5D,EAAIuC,EAAQpE,MAAM,CAClBuG,EAAM,GACC1E,KACL,GAAIuC,CAAO,CAACvC,EAAE,CAAC2E,KAAK,GAAKA,GAASpC,CAAO,CAACvC,EAAE,CAACpC,GAAG,GAAKA,EAAK,CACxD8G,EAAM,GACN,KACF,CAEGA,GACHnC,EAAQzD,IAAI,CAAC,CAAE6F,MAAOA,EAAO/G,IAAKA,CAAI,GAExC,KACF,CACF,OAGGgG,EAAG,OAELrB,CACT,CA2JA,SAASyC,EAAS7H,CAAC,CAAEC,CAAC,EACpB,OAAOD,EAAE4G,EAAE,CAAG3G,EAAE2G,EAAE,CA9HpB5B,EAAY9D,SAAS,CAAC4G,mBAAmB,CAAG,WAAY,EAQxD9C,EAAY9D,SAAS,CAACgB,GAAG,CAAG,SAASiE,CAAQ,CAAEvD,CAAI,EACjD,IAAImF,EACFjH,EACAkH,EACAvH,EACA+G,EACAS,EACAC,EACAC,EACA/C,EAAU,IAAI,CAACG,aAAa,CAC5BL,EAAY,IAAI,CAACA,SAAS,CAC1BC,EAAkB,IAAI,CAACA,eAAe,CAExC,GAAI,iBAAOgB,GAYX,IAAKrF,EAAI,EAHTqE,CAAe,CAAC4C,CALhBA,EAAM,CACJnB,GAAI,IAAI,CAAC3B,GAAG,GACZkB,SAAUA,EACVvD,KAAMA,CACR,GACoBgE,EAAE,CAAC,CAAGmB,EAE1BG,EAAkBb,EAAqB,IAAI,CAACjC,OAAO,CAAEe,GACzCrF,EAAIoH,EAAgBlH,MAAM,CAAEF,IAEtCL,EAAM0H,CADNA,EAAgBD,CAAe,CAACpH,EAAE,EACdL,GAAG,CAGvB+G,CAAAA,EAAQY,SA5DaC,CAAG,CAAEpG,CAAK,EACjC,IAAInB,EAAGwH,EAAKC,EACZ,IAAKzH,EAAI,EAAGwH,EAAMD,EAAIrH,MAAM,CAAEF,EAAIwH,EAAKxH,IAErC,GADAyH,EAAOF,CAAG,CAACvH,EAAE,CACTmB,EAAMuG,aAAa,CAACD,GACtB,OAAOA,CAGb,EAoD4BnD,EAFxB4C,EAAaG,EAAcX,KAAK,CAEW,IAGzCA,CADAA,EAAQnC,OAAOC,MAAM,CAAC0C,EAAU,EAC1B1H,GAAG,CAAG,IAAIH,EAChBiF,EAAQzD,IAAI,CAAC6F,IAGXQ,IAAe,IAAI,CAAC5C,OAAO,CAAC,OAAU,EACxC,IAAI,CAAC0C,mBAAmB,CAACC,GAE3BE,CAAAA,EAAOT,EAAMlH,GAAG,CAACe,GAAG,CAACZ,EAAG,IAEtBwH,EAAO,EAAE,CACTT,EAAMlH,GAAG,CAACI,GAAG,CAACD,EAAKwH,IAErBA,EAAKtG,IAAI,CAACoG,EAGZ,KAAI,CAAChG,IAAI,GACTmD,EAAUvD,IAAI,CAACwE,GACjB,EAQAnB,EAAY9D,SAAS,CAACK,MAAM,CAAG,SAAS4E,CAAQ,CAAEvD,CAAI,EACpD,GAAI,iBAAOuD,GAIX,IAAI+B,EACFC,EACArH,EACA+B,EACAC,EACA2F,EACAR,EACAF,EACA3C,EAAU,IAAI,CAACG,aAAa,CAC5BL,EAAa,IAAI,CAACA,SAAS,CAAG,EAAE,CAChCC,EAAkB,IAAI,CAACA,eAAe,CACtCuD,EAAa,CAAC,EACdC,EAAY9E,GAAAA,UAAU7C,MAAM,CAG9B,IAAKF,EAAI,EADToH,EAAkBb,EAAqB,IAAI,CAACjC,OAAO,CAAEe,GACzCrF,EAAIoH,EAAgBlH,MAAM,CAAEF,IAItC,IAHAqH,EAAgBD,CAAe,CAACpH,EAAE,CAElC+B,EAAIuC,EAAQpE,MAAM,CACX6B,KAEL,GADA4F,EAAWrD,CAAO,CAACvC,EAAE,CACjBsF,EAAcX,KAAK,CAACgB,aAAa,CAACC,GAAW,CAE/C,GADAR,EAAOQ,EAASnI,GAAG,CAACe,GAAG,CAAC8G,EAAc1H,GAAG,EAGvC,IADAqC,EAAImF,EAAKjH,MAAM,CACR8B,KAEDiF,CADJA,EAAME,CAAI,CAACnF,EAAE,EACLqD,QAAQ,GAAKA,GAAawC,CAAAA,GAAaZ,EAAInF,IAAI,GAAKA,CAAG,IAC7DqF,EAAKW,MAAM,CAAC9F,EAAG,GACf4F,CAAU,CAACX,EAAInB,EAAE,CAAC,CAAG,IAI3B,KACF,CAIJ,IAAK9F,KAAK4H,EACR,OAAOvD,CAAe,CAACrE,EAAE,CACzB,IAAI,CAACiB,IAAI,GAGX,IAAKjB,KAAKqE,EACRD,EAAUvD,IAAI,CAACwD,CAAe,CAACrE,EAAE,CAACqF,QAAQ,EAE9C,EAiBAnB,EAAY9D,SAAS,CAAC2H,QAAQ,CAAG,SAASrG,CAAO,EAC/C,GAAI,CAAC,IAAI,CAAC0C,SAAS,CAAClE,MAAM,CACxB,MAAO,EAAE,CAGX,IAIIF,EAAG+B,EAAGyF,EAAKQ,EAAM5C,EAAIO,EAAGC,EAAOqB,EAJ/BnC,EAAU,CAAC,EACbmD,EAAU,EAAE,CACVC,EAAM,IAAI,CAAC3C,gBAAgB,CAAC,IAAI,CAACnB,SAAS,CAAC+D,IAAI,CAAC,MAAOzG,GAG3D,IAAK1B,EAAI,EAAGwH,EAAMU,EAAIhI,MAAM,CAAEF,EAAIwH,EAAKxH,IAGrC,IAAK+B,EAAI,EAFTqD,EAAK8C,CAAG,CAAClI,EAAE,CAECgI,EAAOrC,CADnBA,EAAI,IAAI,CAACb,OAAO,CAACM,EAAE,EACElF,MAAM,CAAE6B,EAAIiG,EAAMjG,IAEhC+C,CAAO,CAACmC,CADbA,EAAMtB,CAAC,CAAC5D,EAAE,EACO+D,EAAE,CAAC,CAUlBF,EAAQd,CAAO,CAACmC,EAAInB,EAAE,CAAC,EATvBF,EAAQ,CACNE,GAAImB,EAAInB,EAAE,CACVT,SAAU4B,EAAI5B,QAAQ,CACtBvD,KAAMmF,EAAInF,IAAI,CACdsG,SAAU,EAAE,EAEdtD,CAAO,CAACmC,EAAInB,EAAE,CAAC,CAAGF,EAClBqC,EAAQpH,IAAI,CAAC+E,IAIfA,EAAMwC,QAAQ,CAACvH,IAAI,CAACuE,GAIxB,OAAO6C,EAAQI,IAAI,CAACtB,EACtB,EAOA7C,EAAY9D,SAAS,CAAC0E,OAAO,CAAG,SAASM,CAAE,EACzC,GAAI,CAACA,EACH,MAAO,EAAE,CAIX,IADIpF,EAAG+B,EAAGC,EAAGwF,EAAKQ,EAAMM,EAAM5B,EAAO9F,EAAMuG,EAAMF,EAAKnB,EAClDxB,EAAU,IAAI,CAACG,aAAa,CAC9B8D,EAAa,CAAC,EACdzD,EAAU,EAAE,CAEd,IAAK9E,EAAI,EAAGwH,EAAMlD,EAAQpE,MAAM,CAAEF,EAAIwH,EAAKxH,IAGzC,GADAY,EAAO8F,CADPA,EAAQpC,CAAO,CAACtE,EAAE,EACL6F,OAAO,CAACT,GAEnB,KAAKrD,EAAI,EAAGiG,EAAOpH,EAAKV,MAAM,CAAE6B,EAAIiG,EAAMjG,IACxC,GAAKoF,EAAOT,EAAMlH,GAAG,CAACe,GAAG,CAACK,CAAI,CAACmB,EAAE,EAC/B,IAAKC,EAAI,EAAGsG,EAAOnB,EAAKjH,MAAM,CAAE8B,EAAIsG,EAAMtG,IAGpC,CAACuG,CAAU,CADfzC,EAAKmB,CADLA,EAAME,CAAI,CAACnF,EAAE,EACJ8D,EAAE,CACQ,EAAI,IAAI,CAACX,eAAe,CAACC,EAAI6B,EAAI5B,QAAQ,IAC1DkD,CAAU,CAACzC,EAAG,CAAG,GACjBhB,EAAQjE,IAAI,CAACoG,GAIrB,CAIJ,OAAOnC,EAAQuD,IAAI,CAACtB,EACtB,ECpbA,IAAIyB,EAAe,CAAC,EAChBC,EAAgB,CAAC,EACjBC,EAAqB,IAAIC,QACzBC,EAA8B,IAAID,QAClCE,EAAiB,IAAIF,QACrBG,EAAoBvE,OAAOwE,wBAAwB,CAACC,MAAM5I,SAAS,CAAE,iBAEzE,SAAS6I,EAAOC,CAAO,CAAEC,CAAI,CAAEC,CAAE,EAC/B,IAAIC,EAASH,CAAO,CAACC,EAAK,CAO1B,OALAD,CAAO,CAACC,EAAK,CAAG,WAEd,OADAC,EAAGE,KAAK,CAACJ,EAASnG,WACXsG,EAAOC,KAAK,CAACJ,EAASnG,UAC/B,EAEOmG,CACT,CA4BA,SAASK,IACPb,EAAmB9I,GAAG,CAAC,IAAI,CAAE,GAC/B,CAEA,SAAS4J,IACPd,EAAmB9I,GAAG,CAAC,IAAI,CAAE,IAC7BgJ,EAA4BhJ,GAAG,CAAC,IAAI,CAAE,GACxC,CAEA,SAAS6J,IACP,OAAOZ,EAAetI,GAAG,CAAC,IAAI,GAAK,IACrC,CAEA,SAASmJ,EAAoBC,CAAK,CAAEC,CAAM,EACnCd,GACLvE,OAAOsF,cAAc,CAACF,EAAO,gBAAiB,CAC5CG,aAAc,GACdC,WAAY,GACZxJ,IAAKqJ,GAAUd,EAAkBvI,GAAG,EAExC,CAWA,SAASyJ,EAASL,CAAK,EACrB,GAAKM,SAVcN,CAAK,EACxB,GAAI,CAEF,OADAA,EAAMO,UAAU,CACT,EACT,CAAE,MAAOpH,EAAG,CACV,MAAO,EACT,CACF,EAGmB6G,IAEjB,IAAIvF,EAAY+F,CADHR,IAAAA,EAAMO,UAAU,CAASzB,EAAgBD,CAAW,CAC3C,CAACmB,EAAMS,IAAI,CAAC,CAClC,GAAKhG,GACL,IAAIiG,EAAQ,SA9DGjG,CAAS,CAAEkG,CAAM,CAAEC,CAAO,EACzC,IAAIF,EAAQ,EAAE,CACVG,EAAOF,EAEX,EAAG,CACD,GAAIE,IAAAA,EAAKC,QAAQ,CAAQ,MAEzB,IAAIC,EAAWtG,EAAUU,OAAO,CAAC0F,GAEjC,GAAIE,EAASxK,MAAM,CAAE,CACnB,IAAIyK,EAAU,CACZH,KAAMA,EACNI,UAAWF,CACb,EAEIH,EACFF,EAAMQ,OAAO,CAACF,GAEdN,EAAMxJ,IAAI,CAAC8J,EAEf,CACF,OAASH,EAAOA,EAAKM,aAAa,CAAE,OAE7BT,CACT,EAsCsBjG,EAAWuF,EAAMW,MAAM,CAAEX,IAAAA,EAAMO,UAAU,EAC7D,GAAKG,EAAMnK,MAAM,EACjB+I,EAAOU,EAAO,kBAAmBJ,GACjCN,EAAOU,EAAO,2BAA4BH,GAC1CE,EAAoBC,EAAOF,GAE3B,IAAK,IAAIzJ,EAAI,EAAG+K,EAAOV,EAAMnK,MAAM,CACjC,EADuC6K,IACnCrC,EAAmBnI,GAAG,CAACoJ,GADkB3J,IAAK,CAElD,IAAI2K,EAAUN,CAAK,CAACrK,EAAE,CACtB6I,EAAejJ,GAAG,CAAC+J,EAAOgB,EAAQH,IAAI,EAEtC,IAAK,IAAIzI,EAAI,EAAGiG,EAAO2C,EAAQC,SAAS,CAAC1K,MAAM,CAC7C,EADmD8H,IAC/CY,EAA4BrI,GAAG,CAACoJ,GADqB5H,IAEzD4I,EAAQC,SAAS,CAAC7I,EAAE,CAACD,IAAI,CAACwD,IAAI,CAACqF,EAAQH,IAAI,CAAEb,EAEjD,CAEAd,EAAe,MAAS,CAACc,GACzBD,EAAoBC,KACtB,CAEA,SAASqB,EAAGvF,CAAI,CAAEJ,CAAQ,CAAE+D,CAAE,EAC5B,IAAI6B,EAAUlI,UAAU7C,MAAM,CAAG,GAAK6C,KAAiBH,IAAjBG,SAAS,CAAC,EAAE,CAAiBA,SAAS,CAAC,EAAE,CAAG,CAAC,EAC/EmI,IAAUD,EAAQC,OAAO,CACzBf,EAASe,EAAUzC,EAAgBD,EACnCpE,EAAY+F,CAAM,CAAC1E,EAAK,CAEvBrB,IACHA,EAAY,IAAIF,EAChBiG,CAAM,CAAC1E,EAAK,CAAGrB,EACfQ,SAASuG,gBAAgB,CAAC1F,EAAMuE,EAAUkB,IAG5C9G,EAAUhD,GAAG,CAACiE,EAAU+D,EAC1B,CACA,SAASgC,EAAI3F,CAAI,CAAEJ,CAAQ,CAAE+D,CAAE,EAC7B,IAAI6B,EAAUlI,UAAU7C,MAAM,CAAG,GAAK6C,KAAiBH,IAAjBG,SAAS,CAAC,EAAE,CAAiBA,SAAS,CAAC,EAAE,CAAG,CAAC,EAC/EmI,IAAUD,EAAQC,OAAO,CACzBf,EAASe,EAAUzC,EAAgBD,EACnCpE,EAAY+F,CAAM,CAAC1E,EAAK,CACvBrB,IACLA,EAAU3D,MAAM,CAAC4E,EAAU+D,GACvBhF,EAAUnD,IAAI,GAClB,OAAOkJ,CAAM,CAAC1E,EAAK,CACnBb,SAASyG,mBAAmB,CAAC5F,EAAMuE,EAAUkB,IAC/C,CACA,SAASI,EAAKhB,CAAM,CAAE7E,CAAI,CAAE8F,CAAM,EAChC,OAAOjB,EAAOkB,aAAa,CAAC,IAAIC,YAAYhG,EAAM,CAChDiG,QAAS,GACTC,WAAY,GACZJ,OAAQA,CACV,GACF,C,kBCtIO,SAAUK,EAAMC,CAAI,EACvB,IAAInM,EAAQ,GACRoM,EAAa,EACbC,EAAO,GACX,IAAK,IAAI/L,EAAI,EAAGA,EAAI6L,EAAK3L,MAAM,CAAEF,GAAK,EAC9B6L,MAAAA,CAAI,CAAC7L,EAAE,EAAY6L,MAAAA,CAAI,CAAC7L,EAAI,EAAE,EAAY6L,OAAAA,CAAI,CAAC7L,EAAI,EAAE,EAAc+L,EAQlD,MAAZF,CAAI,CAAC7L,EAAE,EAAY6L,MAAAA,CAAI,CAAC7L,EAAI,EAAE,EAAY6L,OAAAA,CAAI,CAAC7L,EAAI,EAAE,EAAa+L,IACvEA,EAAO,GACP,KAAM,CAAE3B,KAAM,OAAQ4B,MAAOF,EAAYG,IAAKjM,EAAI,EAAGN,MAAOA,EAAMoB,KAAK,CAAC,GAAGoL,IAAI,EAAG,EAClFxM,EAAQ,GACRM,GAAK,EACL8L,EAAa9L,IAZb+L,EAAO,GACHrM,GACA,MAAM,CAAE0K,KAAM,SAAU4B,MAAOF,EAAYG,IAAKjM,EAAGN,MAAAA,CAAM,GAC7DA,EAAQ,KACRoM,EAAa9L,EACbA,GAAK,GASTN,GAASmM,CAAI,CAAC7L,EAAE,EAAI,GAEpBN,GACA,MAAM,CAAE0K,KAAM,SAAU4B,MAAOF,EAAYG,IAAKJ,EAAK3L,MAAM,CAAER,MAAAA,CAAM,EAC3E,C,0CCxBA,IAaIyM,EAASC,ECATC,ECAAC,EAAY,EFbZC,EAAkE,SAAUC,CAAQ,CAAEC,CAAU,CAAE/M,CAAK,EACvG,GAAI,CAAC+M,EAAWnM,GAAG,CAACkM,GAChB,MAAM,UAAc,kDAGxB,OADAC,EAAW7M,GAAG,CAAC4M,EAAU9M,GAClBA,CACX,EACIgN,EAAkE,SAAUF,CAAQ,CAAEC,CAAU,EAChG,GAAI,CAACA,EAAWnM,GAAG,CAACkM,GAChB,MAAM,UAAc,kDAExB,OAAOC,EAAWlM,GAAG,CAACiM,EAC1B,EAEO,gCAAMG,sBACTtM,YAAYuM,CAAM,CAAEC,CAAU,CAAE,CAC5B,IAAI,CAACA,UAAU,CAAGA,EAClBV,EAAQvM,GAAG,CAAC,IAAI,CAAE,KAAK,GACvBwM,EAAOxM,GAAG,CAAC,IAAI,CAAE,IACjB2M,EAAuB,IAAI,CAAEJ,EAASS,GACtCF,EAAuB,IAAI,CAAEP,GAASW,YAAY,CAAC,GACvD,CACA,IAAIC,eAAgB,CAChB,OAAOL,EAAuB,IAAI,CAAEP,GAASa,IAAI,CAACvH,IAAI,CAE1D,IAAIwH,oBAAqB,CACrB,OAAOP,EAAuB,IAAI,CAAEP,GAASa,IAAI,CAACE,YAAY,CAElE,IAAIxN,OAAQ,CACR,OAAOgN,EAAuB,IAAI,CAAEN,EACxC,CACA,IAAI1M,MAAMA,CAAK,CAAE,CACb6M,EAAuB,IAAI,CAAEH,EAAQ1M,GAAS,IAC9CgN,EAAuB,IAAI,CAAEP,GAASW,YAAY,CAACpN,EACvD,CACA,IAAImG,SAAU,CACV,OAAO6G,EAAuB,IAAI,CAAEP,GAAStG,OAAO,CAExD,IAAIsH,cAAe,CACf,OAAOT,EAAuB,IAAI,CAAEP,GAASgB,YAAY,CAE7D,IAAIA,aAAazN,CAAK,CAAE,CACpBgN,EAAuB,IAAI,CAAEP,GAASgB,YAAY,CAAGzN,CACzD,CACJ,CACAyM,CAAAA,EAAU,IAAIxD,QAAWyD,EAAS,IAAIzD,QAC/B,+BAAMyE,qBACT/M,YAAYwF,CAAO,CAAEmH,CAAI,CAAE,CACvB,IAAI,CAACnH,OAAO,CAAGA,EACf,IAAI,CAACmH,IAAI,CAAGA,EACZ,IAAI,CAACK,QAAQ,CAAG,EAAE,CAEtB,IAAIF,cAAe,CACf,OAAO,IAAI,CAACtH,OAAO,CAACyH,cAAc,CAAC,IAAI,CAACN,IAAI,CAACE,YAAY,CAAE,IAAI,CAACF,IAAI,CAACvH,IAAI,CAC7E,CACA,IAAI0H,aAAazN,CAAK,CAAE,CACpB,GAAI,QAAI,CAAC2N,QAAQ,CAACnN,MAAM,CACpB,MAAM,IAAIqN,aAAa,0BAA2B,oBAGtD,KAAI,CAACF,QAAQ,CAAC,EAAE,CAAC3N,KAAK,CAAGA,EAAQ,GAAK,IAC1C,CACA8N,OAAOC,CAAI,CAAE,CACT,IAAI,CAACJ,QAAQ,CAACxM,IAAI,CAAC4M,EACvB,CACAX,aAAaY,CAAS,CAAE,CACpB,GAAI,QAAI,CAACL,QAAQ,CAACnN,MAAM,EAAUwN,OAAAA,EAC9B,IAAI,CAAC7H,OAAO,CAAC8H,iBAAiB,CAAC,IAAI,CAACX,IAAI,CAACE,YAAY,CAAE,IAAI,CAACF,IAAI,CAACvH,IAAI,MAEpE,CACD,IAAMmI,EAAM,IAAI,CAACP,QAAQ,CAAC7N,GAAG,CAACqO,GAAM,iBAAOA,EAAiBA,EAAIA,EAAEnO,KAAK,EAAGyI,IAAI,CAAC,IAC/E,IAAI,CAACtC,OAAO,CAACiI,cAAc,CAAC,IAAI,CAACd,IAAI,CAACE,YAAY,CAAE,IAAI,CAACF,IAAI,CAACvH,IAAI,CAAEmI,EACxE,CACJ,CACJ,EC1EA,IAAI,EAAkE,SAAUpB,CAAQ,CAAEC,CAAU,CAAE/M,CAAK,EACvG,GAAI,CAAC+M,EAAWnM,GAAG,CAACkM,GAChB,MAAM,UAAc,kDAGxB,OADAC,EAAW7M,GAAG,CAAC4M,EAAU9M,GAClBA,CACX,EACI,EAAkE,SAAU8M,CAAQ,CAAEC,CAAU,EAChG,GAAI,CAACA,EAAWnM,GAAG,CAACkM,GAChB,MAAM,UAAc,kDAExB,OAAOC,EAAWlM,GAAG,CAACiM,EAC1B,EAEO,2BAAMuB,iBACT1N,YAAYmK,CAAI,CAAEqC,CAAU,CAAE,CAC1B,IAAI,CAACA,UAAU,CAAGA,EAClBR,EAAOzM,GAAG,CAAC,IAAI,CAAE,KAAK,GACtB,EAAuB,IAAI,CAAEyM,EAAQ,CAAC7B,EAAK,EAC3CA,EAAKwD,WAAW,CAAG,EACvB,CACA,IAAItO,OAAQ,CACR,OAAO,EAAuB,IAAI,CAAE2M,GAAQ7M,GAAG,CAACgL,GAAQA,EAAKwD,WAAW,EAAE7F,IAAI,CAAC,GACnF,CACA,IAAIzI,MAAMuO,CAAM,CAAE,CACd,IAAI,CAACC,OAAO,CAACD,EACjB,CACA,IAAIE,iBAAkB,CAClB,OAAO,EAAuB,IAAI,CAAE9B,EAAO,CAAC,EAAE,CAAC8B,eAAe,CAElE,IAAIC,aAAc,CACd,OAAO,EAAuB,IAAI,CAAE/B,EAAO,CAAC,EAAuB,IAAI,CAAEA,GAAQnM,MAAM,CAAG,EAAE,CAACkO,WAAW,CAE5GF,QAAQ,GAAGG,CAAK,CAAE,CACd,IAAMC,EAAQD,EAAM7O,GAAG,CAACgL,GACpB,UAAI,OAAOA,EACA,IAAI+D,KAAK/D,GACbA,GAKX,IAAK,IAAMiD,KAHNa,EAAMpO,MAAM,EACboO,EAAMzN,IAAI,CAAC,IAAI0N,KAAK,KACxB,EAAuB,IAAI,CAAElC,EAAO,CAAC,EAAE,CAACpD,MAAM,IAAIqF,GAC/B,EAAuB,IAAI,CAAEjC,IAC5CoB,EAAKhN,MAAM,GACf,EAAuB,IAAI,CAAE4L,EAAQiC,EACzC,CACJ,EE7CO,SAASE,EAAgBC,CAAW,EACvC,MAAO,CACHC,eAAeC,CAAQ,CAAEL,CAAK,CAAEM,CAAM,EAClC,IAAI,CAACC,eAAe,CAACF,EAAUL,EAAOM,EAC1C,EACAC,gBAAgB/L,CAAC,CAAEwL,CAAK,CAAEM,CAAM,EAC5B,IAAIE,EACJ,GAAI,iBAAOF,GAAwBA,EAEnC,KAAK,IAAMnB,KAAQa,EACf,GAAIb,EAAKZ,UAAU,IAAI+B,EAAQ,CAC3B,IAAMlP,EAAQ,OAACoP,CAAAA,EAAKF,CAAM,CAACnB,EAAKZ,UAAU,CAAC,GAAciC,KAAY,IAAZA,EAAgBA,EAAK,GAC9EL,EAAYhB,EAAM/N,EACtB,CACJ,CACJ,CACJ,CACJ,CACO,SAASqP,EAAwBtB,CAAI,CAAE/N,CAAK,EAC/C+N,EAAK/N,KAAK,CAAGsP,OAAOtP,EACxB,CF0BA2M,EAAS,IAAI1D,QEhBN,IAAMsG,EAAmBT,EAAgBO,GACnCG,EAAqCV,EAAgB,CAACf,EAAM/N,KACrEyP,CAXG,SAAiC1B,CAAI,CAAE/N,CAAK,QAC/C,WAAI,OAAOA,GACP+N,aAAgBd,uBAChB,kBAAOc,EAAK5H,OAAO,CAAC4H,EAAKV,aAAa,CAAC,GACvCU,EAAKN,YAAY,CAAGzN,EACb,GAGf,GAG4B+N,EAAM/N,IAAUqP,EAAwBtB,EAAM/N,EAC1E,GDlCA,IAAI,EAAkE,SAAU8M,CAAQ,CAAEC,CAAU,CAAE/M,CAAK,EACvG,GAAI,CAAC+M,EAAWnM,GAAG,CAACkM,GAChB,MAAM,UAAc,kDAGxB,OADAC,EAAW7M,GAAG,CAAC4M,EAAU9M,GAClBA,CACX,EACI,EAAkE,SAAU8M,CAAQ,CAAEC,CAAU,EAChG,GAAI,CAACA,EAAWnM,GAAG,CAACkM,GAChB,MAAM,UAAc,kDAExB,OAAOC,EAAWlM,GAAG,CAACiM,EAC1B,EAuCO,2BAAM4C,yBAAyBC,iBAClChP,YAAYiP,CAAQ,CAAEV,CAAM,CAAEW,EAAYN,CAAgB,CAAE,CACxD,IAAIH,EAAIU,EACR,KAAK,GACLlD,EAAW1M,GAAG,CAAC,IAAI,CAAE,KAAK,GAC1B,EAAOA,GAAG,CAAC,IAAI,CAAE,KAAK,GAIlB2E,OAAOkL,cAAc,CAAC,IAAI,GAAKL,iBAAiBhP,SAAS,GACzDmE,OAAOmL,cAAc,CAAC,IAAI,CAAEN,iBAAiBhP,SAAS,EAE1D,IAAI,CAACuP,WAAW,CAACL,EAASM,OAAO,CAACC,SAAS,CAAC,KAC5C,EAAuB,IAAI,CAAE,EAAQhQ,MAAMiQ,IAAI,CAACC,UA9CjC3K,CAAE,MAEjBoF,EADJ,IAAMwF,EAAS5K,EAAG6K,aAAa,CAACC,gBAAgB,CAAC9K,EAAI+K,WAAWC,SAAS,CAAGD,WAAWE,YAAY,CAAE,KAAM,IAE3G,KAAQ7F,EAAOwF,EAAOM,QAAQ,IAC1B,GAAI9F,aAAgB+F,SAAW/F,EAAKgG,aAAa,GAC7C,IAAK,IAAIxQ,EAAI,EAAGA,EAAIwK,EAAKiG,UAAU,CAACvQ,MAAM,CAAEF,GAAK,EAAG,CAChD,IAAMgN,EAAOxC,EAAKiG,UAAU,CAAChJ,IAAI,CAACzH,GAClC,GAAIgN,GAAQA,EAAKtN,KAAK,CAACgR,QAAQ,CAAC,MAAO,CACnC,IAAMC,EAAc,IAAIvD,qBAAqB5C,EAAMwC,GACnD,IAAK,IAAM4D,KAAShF,EAAMoB,EAAKtN,KAAK,EAChC,GAAIkR,WAAAA,EAAMxG,IAAI,CACVuG,EAAYnD,MAAM,CAACoD,EAAMlR,KAAK,MAE7B,CACD,IAAM+N,EAAO,IAAId,sBAAsBgE,EAAaC,EAAMlR,KAAK,EAC/DiR,EAAYnD,MAAM,CAACC,GACnB,MAAMA,CACV,CAER,CACJ,MAEC,GAAIjD,aAAgB+D,MAAQ/D,EAAKwD,WAAW,EAAIxD,EAAKwD,WAAW,CAAC0C,QAAQ,CAAC,MAC3E,IAAK,IAAME,KAAShF,EAAMpB,EAAKwD,WAAW,EAAG,CACrC4C,EAAM3E,GAAG,CAAGzB,EAAKwD,WAAW,CAAC9N,MAAM,EACnCsK,EAAKqG,SAAS,CAACD,EAAM3E,GAAG,EACT,SAAf2E,EAAMxG,IAAI,EACV,OAAM,IAAI2D,iBAAiBvD,EAAMoG,EAAMlR,KAAK,GAChD,KACJ,CAGZ,EAcqE,IAAI,IACjE,EAAuB,IAAI,CAAE4M,EAAYiD,GACzC,OAACC,CAAAA,EAAK,CAACV,EAAK,EAAuB,IAAI,CAAExC,EAAU,EAAGoC,cAAc,GAAcc,KAAY,IAAZA,GAAyBA,EAAGlK,IAAI,CAACwJ,EAAI,IAAI,CAAE,EAAuB,IAAI,CAAE,GAASF,EACvK,CACAkC,OAAOlC,CAAM,CAAE,CACX,EAAuB,IAAI,CAAEtC,GAAYuC,eAAe,CAAC,IAAI,CAAE,EAAuB,IAAI,CAAE,GAASD,EACzG,CACJ,CACAtC,CAAAA,EAAa,IAAI3D,QAAW,EAAS,IAAIA,O,0GExEzC,MAAe9F,GAAK,IAAMA,ECAX,SAASkO,EAAW3G,CAAI,CAAE,CACvC4G,YAAAA,CAAW,CACX1G,OAAAA,CAAM,CACN2G,UAAAA,CAAS,CACTC,KAAAA,CAAI,CACJlH,SAAAA,CAAQ,CACT,EACCzF,OAAO4M,gBAAgB,CAAC,IAAI,CAAE,CAC5B/G,KAAM,CAAC1K,MAAO0K,EAAML,WAAY,GAAMD,aAAc,EAAI,EACxDkH,YAAa,CAACtR,MAAOsR,EAAajH,WAAY,GAAMD,aAAc,EAAI,EACtEQ,OAAQ,CAAC5K,MAAO4K,EAAQP,WAAY,GAAMD,aAAc,EAAI,EAC5DmH,UAAW,CAACvR,MAAOuR,EAAWlH,WAAY,GAAMD,aAAc,EAAI,EAClEoH,KAAM,CAACxR,MAAOwR,EAAMnH,WAAY,GAAMD,aAAc,EAAI,EACxDhH,EAAG,CAACpD,MAAOsK,CAAQ,CACrB,EACF,CCXe,WAASL,CAAK,EAC3BA,EAAMyH,cAAc,GACpBzH,EAAM0H,wBAAwB,EAChC,CCEA,IAAIC,EAAY,CAAC7L,KAAM,MAAM,EACzB8L,EAAa,CAAC9L,KAAM,OAAO,EAC3B+L,EAAc,CAAC/L,KAAM,QAAQ,EAC7BgM,EAAc,CAAChM,KAAM,QAAQ,EAEjC,GAAM,CAACiM,IAAAA,CAAG,CAAEC,IAAAA,CAAG,CAAEC,IAAAA,CAAG,CAAC,CAAGC,KAExB,SAASC,EAAQC,CAAC,EAChB,MAAO,CAAC,CAACA,CAAC,CAAC,EAAE,CAAE,CAACA,CAAC,CAAC,EAAE,CAAC,CAGvB,SAASC,EAAQD,CAAC,EAChB,MAAO,CAACD,EAAQC,CAAC,CAAC,EAAE,EAAGD,EAAQC,CAAC,CAAC,EAAE,EAAE,CAGvC,IAAIE,EAAI,CACNxM,KAAM,IACNyM,QAAS,CAAC,IAAK,IAAI,CAAC1S,GAAG,CAAC4K,GACxB+H,MAAO,SAAStP,CAAC,CAAEkP,CAAC,EAAI,OAAOlP,MAAAA,EAAY,KAAO,CAAC,CAAC,CAACA,CAAC,CAAC,EAAE,CAAEkP,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,CAAC,CAAClP,CAAC,CAAC,EAAE,CAAEkP,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtFnQ,OAAQ,SAASwQ,CAAE,EAAI,OAAOA,GAAM,CAACA,CAAE,CAAC,EAAE,CAAC,EAAE,CAAEA,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAC1D,EAEIC,EAAI,CACN5M,KAAM,IACNyM,QAAS,CAAC,IAAK,IAAI,CAAC1S,GAAG,CAAC4K,GACxB+H,MAAO,SAASnP,CAAC,CAAE+O,CAAC,EAAI,OAAO/O,MAAAA,EAAY,KAAO,CAAC,CAAC+O,CAAC,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC/O,CAAC,CAAC,EAAE,CAAC,CAAE,CAAC+O,CAAC,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC/O,CAAC,CAAC,EAAE,CAAC,CAAC,EACtFpB,OAAQ,SAASwQ,CAAE,EAAI,OAAOA,GAAM,CAACA,CAAE,CAAC,EAAE,CAAC,EAAE,CAAEA,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAC1D,EASIE,GALO,CAAC,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAK,CAAC9S,GAAG,CAAC4K,GAK9C,CACZmI,QAAS,YACTtB,UAAW,OACXhR,EAAG,YACH8R,EAAG,YACHlE,EAAG,YACH2E,EAAG,YACHC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,aACN,GAEIC,EAAQ,CACVd,EAAG,IACHS,EAAG,IACHC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,IACN,EAEIE,EAAQ,CACV7S,EAAG,IACH4N,EAAG,IACH4E,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,IACN,EAEIG,EAAS,CACXR,QAAS,EACTtB,UAAW,EACXhR,EAAG,KACH8R,EAAG,EACHlE,EAAG,KACH2E,EAAG,GACHC,GAAI,GACJC,GAAI,EACJC,GAAI,EACJC,GAAI,EACN,EAEII,EAAS,CACXT,QAAS,EACTtB,UAAW,EACXhR,EAAG,GACH8R,EAAG,KACHlE,EAAG,EACH2E,EAAG,KACHC,GAAI,GACJC,GAAI,GACJC,GAAI,EACJC,GAAI,CACN,EAEA,SAASxI,EAAK6I,CAAC,EACb,MAAO,CAAC7I,KAAM6I,CAAC,CACjB,CAGA,SAASC,EAAcvJ,CAAK,EAC1B,MAAO,CAACA,EAAMwJ,OAAO,EAAI,CAACxJ,EAAMyJ,MAAM,CAGxC,SAASC,IACP,IAAIC,EAAM,IAAI,CAACC,eAAe,EAAI,IAAI,QACtC,EAAQC,YAAY,CAAC,WAEZ,CAAC,CAACF,CADTA,EAAMA,EAAIG,OAAO,CAACvN,OAAO,EACZrD,CAAC,CAAEyQ,EAAItQ,CAAC,CAAC,CAAE,CAACsQ,EAAIzQ,CAAC,CAAGyQ,EAAII,KAAK,CAAEJ,EAAItQ,CAAC,CAAGsQ,EAAIK,MAAM,CAAC,CAAC,CAE3D,CAAC,CAAC,EAAG,EAAE,CAAE,CAACL,EAAII,KAAK,CAACxN,OAAO,CAACxG,KAAK,CAAE4T,EAAIK,MAAM,CAACzN,OAAO,CAACxG,KAAK,CAAC,CAAC,CAGtE,SAASkU,IACP,OAAOC,UAAUC,cAAc,EAAK,iBAAkB,IAAI,CAI5D,SAASC,EAAMvJ,CAAI,EACjB,KAAO,CAACA,EAAKwJ,OAAO,EAAE,GAAI,CAAExJ,CAAAA,EAAOA,EAAKyJ,UAAU,EAAG,OACrD,OAAOzJ,EAAKwJ,OAAO,CAad,SAASE,IACd,OAAO,SAWMC,CAAG,EAChB,IAMIC,EANAC,EAAShB,EACTiB,EAASpB,EACTqB,EAAYX,EACZhT,EAAO,GACP4T,EAAY,QAAS,QAAS,QAAS,OACvCC,EAAa,EAGjB,SAASC,EAAMC,CAAK,EAClB,IAAIpC,EAAUoC,EACTjU,QAAQ,CAAC,UAAWkU,GACtBC,SAAS,CAAC,YACV/S,IAAI,CAAC,CAACsI,EAAK,WAAW,EAEzBmI,EAAQuC,KAAK,GAAGtH,MAAM,CAAC,QAClBR,IAAI,CAAC,QAAS,WACdA,IAAI,CAAC,iBAAkB,OACvBA,IAAI,CAAC,SAAUsF,EAAQC,OAAO,EAChCwC,KAAK,CAACxC,GACJ9S,IAAI,CAAC,WACJ,IAAI4U,EAASN,EAAM,IAAI,EAAEM,MAAM,CAC/B,QAAO,IAAI,EACNrH,IAAI,CAAC,IAAKqH,CAAM,CAAC,EAAE,CAAC,EAAE,EACtBrH,IAAI,CAAC,IAAKqH,CAAM,CAAC,EAAE,CAAC,EAAE,EACtBrH,IAAI,CAAC,QAASqH,CAAM,CAAC,EAAE,CAAC,EAAE,CAAGA,CAAM,CAAC,EAAE,CAAC,EAAE,EACzCrH,IAAI,CAAC,SAAUqH,CAAM,CAAC,EAAE,CAAC,EAAE,CAAGA,CAAM,CAAC,EAAE,CAAC,EAAE,CACjD,GAEJM,EAAME,SAAS,CAAC,cACb/S,IAAI,CAAC,CAACsI,EAAK,aAAa,EACxB0K,KAAK,GAAGtH,MAAM,CAAC,QACbR,IAAI,CAAC,QAAS,aACdA,IAAI,CAAC,SAAUsF,EAAQrB,SAAS,EAChCjE,IAAI,CAAC,OAAQ,QACbA,IAAI,CAAC,eAAgB,IACrBA,IAAI,CAAC,SAAU,QACfA,IAAI,CAAC,kBAAmB,cAE7B,IAAIgI,EAASL,EAAME,SAAS,CAAC,WAC1B/S,IAAI,CAACqS,EAAIjC,OAAO,CAAE,SAASjQ,CAAC,EAAI,OAAOA,EAAEmI,IAAI,GAEhD4K,EAAOC,IAAI,GAAGxU,MAAM,GAEpBuU,EAAOF,KAAK,GAAGtH,MAAM,CAAC,QACjBR,IAAI,CAAC,QAAS,SAAS/K,CAAC,EAAI,MAAO,kBAAoBA,EAAEmI,IAAI,GAC7D4C,IAAI,CAAC,SAAU,SAAS/K,CAAC,EAAI,OAAOqQ,CAAO,CAACrQ,EAAEmI,IAAI,CAAC,GAExDuK,EACKlV,IAAI,CAACyV,GACLlI,IAAI,CAAC,OAAQ,QACbA,IAAI,CAAC,iBAAkB,OACvBhC,EAAE,CAAC,kBAAmBmK,GACxBb,MAAM,CAACC,GACLvJ,EAAE,CAAC,mBAAoBmK,GACvBnK,EAAE,CAAC,kBAAmBoK,GACtBpK,EAAE,CAAC,mCAAoCqK,GACvCC,KAAK,CAAC,eAAgB,QACtBA,KAAK,CAAC,8BAA+B,gBAC5C,CA4CA,SAASJ,IACP,IAAIP,EAAQ,QAAO,IAAI,EACnB1D,EAAY8C,EAAM,IAAI,EAAE9C,SAAS,CAEjCA,GACF0D,EAAME,SAAS,CAAC,cACXS,KAAK,CAAC,UAAW,MACjBtI,IAAI,CAAC,IAAKiE,CAAS,CAAC,EAAE,CAAC,EAAE,EACzBjE,IAAI,CAAC,IAAKiE,CAAS,CAAC,EAAE,CAAC,EAAE,EACzBjE,IAAI,CAAC,QAASiE,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGA,CAAS,CAAC,EAAE,CAAC,EAAE,EAC/CjE,IAAI,CAAC,SAAUiE,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGA,CAAS,CAAC,EAAE,CAAC,EAAE,EAErD0D,EAAME,SAAS,CAAC,WACXS,KAAK,CAAC,UAAW,MACjBtI,IAAI,CAAC,IAAK,SAAS/K,CAAC,EAAI,MAAOA,MAAAA,EAAEmI,IAAI,CAACnI,EAAEmI,IAAI,CAAClK,MAAM,CAAG,EAAE,CAAW+Q,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGwD,EAAa,EAAIxD,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGwD,EAAa,CAAG,GACxIzH,IAAI,CAAC,IAAK,SAAS/K,CAAC,EAAI,MAAOA,MAAAA,EAAEmI,IAAI,CAAC,EAAE,CAAW6G,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGwD,EAAa,EAAIxD,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGwD,EAAa,CAAG,GACxHzH,IAAI,CAAC,QAAS,SAAS/K,CAAC,EAAI,MAAOA,MAAAA,EAAEmI,IAAI,EAAYnI,MAAAA,EAAEmI,IAAI,CAAW6G,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGA,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGwD,EAAaA,CAAY,GACnIzH,IAAI,CAAC,SAAU,SAAS/K,CAAC,EAAI,MAAOA,MAAAA,EAAEmI,IAAI,EAAYnI,MAAAA,EAAEmI,IAAI,CAAW6G,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGA,CAAS,CAAC,EAAE,CAAC,EAAE,CAAGwD,EAAaA,CAAY,IAIzIE,EAAME,SAAS,CAAC,sBACXS,KAAK,CAAC,UAAW,QACjBtI,IAAI,CAAC,IAAK,MACVA,IAAI,CAAC,IAAK,MACVA,IAAI,CAAC,QAAS,MACdA,IAAI,CAAC,SAAU,KAExB,CAEA,SAASuI,EAAQlS,CAAI,CAAEmS,CAAI,CAAEC,CAAK,EAChC,IAAIC,EAAOrS,EAAK2Q,OAAO,CAACuB,OAAO,CAC/B,MAAOG,CAAAA,GAAS,GAAWA,EAAKD,KAAK,CAAW,IAAIE,EAAQtS,EAAMmS,EAAMC,GAA/BC,CAC3C,CAEA,SAASC,EAAQtS,CAAI,CAAEmS,CAAI,CAAEC,CAAK,EAChC,IAAI,CAACpS,IAAI,CAAGA,EACZ,IAAI,CAACmS,IAAI,CAAGA,EACZ,IAAI,CAACI,KAAK,CAAGvS,EAAK2Q,OAAO,CACzB,IAAI,CAAC6B,MAAM,CAAG,EACd,IAAI,CAACJ,KAAK,CAAGA,CACf,CAqCA,SAASN,EAAQxL,CAAK,EACpB,GAAIyK,CAAAA,CAAAA,GAAgBzK,EAAMmM,OAAO,GAC5BxB,EAAOhL,KAAK,CAAC,IAAI,CAAEvG,YAExB,IAQsBgT,EAAIC,EACJC,EAAIC,EACJC,EAAIC,EACJC,EAAIC,EAGtBC,EAEAC,EACAC,EAjBApT,EAAO,IAAI,CACX+G,EAAOT,EAAMW,MAAM,CAACoM,QAAQ,CAACtM,IAAI,CACjC8G,EAAO,CAACtQ,GAAQ+I,EAAMgN,OAAO,CAAGvM,EAAO,UAAYA,CAAG,IAAO,YAAckH,EAAa1Q,GAAQ+I,EAAMiN,MAAM,CAAGnF,EAAcD,EAC7HqF,EAAQ1C,IAAQ9B,EAAI,KAAOU,CAAM,CAAC3I,EAAK,CACvC0M,EAAQ3C,IAAQlC,EAAI,KAAOe,CAAM,CAAC5I,EAAK,CACvCwL,EAAQ7B,EAAM1Q,GACdgR,EAASuB,EAAMvB,MAAM,CACrBpD,EAAY2E,EAAM3E,SAAS,CAC3B8F,EAAI1C,CAAM,CAAC,EAAE,CAAC,EAAE,CAChB2C,EAAI3C,CAAM,CAAC,EAAE,CAAC,EAAE,CAChB4C,EAAI5C,CAAM,CAAC,EAAE,CAAC,EAAE,CAChB6C,EAAI7C,CAAM,CAAC,EAAE,CAAC,EAAE,CAChB8C,EAAK,EACLC,EAAK,EAELC,EAAWR,GAASC,GAASlW,GAAQ+I,EAAM2N,QAAQ,CAGnDC,EAAS1X,MAAMiQ,IAAI,CAACnG,EAAMmM,OAAO,EAAI,CAACnM,EAAM,CAAEsJ,IAC5C,IAAMjT,EAAIiT,EAAEuE,UAAU,CAItB,MAFAvE,CADAA,EAAI,GAAAwE,EAAA,GAAQxE,EAAG5P,EAAI,EACjBqU,MAAM,CAAGzE,EAAEnS,KAAK,GAClBmS,EAAEuE,UAAU,CAAGxX,EACRiT,CACT,GAEJ,QAAU5P,GACV,IAAIqS,GAAOH,EAAQlS,EAAMN,UAAW,IAAM4U,WAAW,GAErD,GAAIvN,YAAAA,EAAoB,CAClB6G,GAAWsF,CAAAA,EAAS,EAAG,EAC3B,IAAMqB,EAAM,CAACL,CAAM,CAAC,EAAE,CAAEA,CAAM,CAAC,EAAE,EAAIA,CAAM,CAAC,EAAE,CAAC,CAC/C3B,EAAM3E,SAAS,CAAGA,EAAY,CAAC,CAC3B8E,EAAK5B,IAAQ9B,EAAI0E,EAAInF,EAAIgG,CAAG,CAAC,EAAE,CAAC,EAAE,CAAEA,CAAG,CAAC,EAAE,CAAC,EAAE,EAC7C3B,EAAK9B,IAAQlC,EAAI+E,EAAIpF,EAAIgG,CAAG,CAAC,EAAE,CAAC,EAAE,CAAEA,CAAG,CAAC,EAAE,CAAC,EAAE,EAC9C,CAAE,CACDzB,EAAKhC,IAAQ9B,EAAI4E,EAAItF,EAAIiG,CAAG,CAAC,EAAE,CAAC,EAAE,CAAEA,CAAG,CAAC,EAAE,CAAC,EAAE,EAC7CvB,EAAKlC,IAAQlC,EAAIiF,EAAIvF,EAAIiG,CAAG,CAAC,EAAE,CAAC,EAAE,CAAEA,CAAG,CAAC,EAAE,CAAC,EAAE,EAC9C,CAAC,CACAL,EAAOrX,MAAM,CAAG,GAAG2X,GAAKlO,EAC9B,MACEoM,EAAK9E,CAAS,CAAC,EAAE,CAAC,EAAE,CACpBgF,EAAKhF,CAAS,CAAC,EAAE,CAAC,EAAE,CACpBkF,EAAKlF,CAAS,CAAC,EAAE,CAAC,EAAE,CACpBoF,EAAKpF,CAAS,CAAC,EAAE,CAAC,EAAE,CAGtB+E,EAAKD,EACLG,EAAKD,EACLG,EAAKD,EACLG,EAAKD,EAEL,IAAI1B,GAAQ,QAAOtR,GACd2J,IAAI,CAAC,iBAAkB,QAExBuF,GAAUoC,GAAME,SAAS,CAAC,YACzB7H,IAAI,CAAC,SAAUsF,CAAO,CAAClI,EAAK,EAEjC,GAAIT,EAAMmM,OAAO,CACfJ,GAAKoC,KAAK,CAAGA,GACbpC,GAAKqC,KAAK,CAAGA,OACR,CACL,IAAIC,GAAO,QAAOrO,EAAMqO,IAAI,EACvBhN,EAAE,CAAC,kBAAmB8M,GAAO,IAC7B9M,EAAE,CAAC,gBAAiB+M,GAAO,IAC5BnX,GAAMoX,GACLhN,EAAE,CAAC,gBA0GV,SAAmBrB,CAAK,EACtB,OAAQA,EAAMsO,OAAO,EACnB,KAAK,GACHZ,EAAWR,GAASC,EACpB,KAEF,MAAK,GACC5F,IAASM,IACPqF,GAAOV,CAAAA,EAAKC,EAAKe,EAAKN,EAAOd,EAAKC,EAAKmB,EAAKN,CAAI,EAChDC,GAAOT,CAAAA,EAAKC,EAAKc,EAAKN,EAAOb,EAAKC,EAAKkB,EAAKN,CAAI,EACpD5F,EAAOO,EACPoG,GAAKlO,IAEP,KAEF,MAAK,GACCuH,CAAAA,IAASM,GAAeN,IAASO,CAAU,IACzCoF,EAAQ,EAAGV,EAAKC,EAAKe,EAAaN,EAAQ,GAAGd,CAAAA,EAAKC,EAAKmB,CAAC,EACxDL,EAAQ,EAAGT,EAAKC,EAAKc,EAAaN,EAAQ,GAAGb,CAAAA,EAAKC,EAAKkB,CAAC,EAC5DlG,EAAOK,EACPgB,GAAQvF,IAAI,CAAC,SAAUsF,EAAQrB,SAAS,EACxC4G,GAAKlO,IAEP,KAEF,SAAS,MACX,CACAuO,EAAQvO,EACV,EAtIsC,IAC/BqB,EAAE,CAAC,cAuIV,SAAkBrB,CAAK,EACrB,OAAQA,EAAMsO,OAAO,EACnB,KAAK,GACCZ,IACFb,EAAQC,EAAQY,EAAW,GAC3BQ,GAAKlO,IAEP,KAEF,MAAK,GACCuH,IAASO,IACPoF,EAAQ,EAAGV,EAAKC,EAAaS,EAAQ,GAAGd,CAAAA,EAAKC,CAAC,EAC9Cc,EAAQ,EAAGT,EAAKC,EAAaQ,EAAQ,GAAGb,CAAAA,EAAKC,CAAC,EAClDhF,EAAOM,EACPqG,GAAKlO,IAEP,KAEF,MAAK,GACCuH,IAASK,IACP5H,EAAMiN,MAAM,EACVC,GAAOV,CAAAA,EAAKC,EAAKe,EAAKN,EAAOd,EAAKC,EAAKmB,EAAKN,CAAI,EAChDC,GAAOT,CAAAA,EAAKC,EAAKc,EAAKN,EAAOb,EAAKC,EAAKkB,EAAKN,CAAI,EACpD5F,EAAOO,IAEHoF,EAAQ,EAAGV,EAAKC,EAAaS,EAAQ,GAAGd,CAAAA,EAAKC,CAAC,EAC9Cc,EAAQ,EAAGT,EAAKC,EAAaQ,EAAQ,GAAGb,CAAAA,EAAKC,CAAC,EAClDhF,EAAOM,GAETe,GAAQvF,IAAI,CAAC,SAAUsF,CAAO,CAAClI,EAAK,EACpCyN,GAAKlO,IAEP,KAEF,SAAS,MACX,CACAuO,EAAQvO,EACV,EA5KmC,IAEjC,QAAYA,EAAMqO,IAAI,CACxB,CAEA9C,EAAO5P,IAAI,CAACjC,GACZqS,GAAK1J,KAAK,CAACrC,EAAOuH,EAAKzL,IAAI,EAE3B,SAASqS,GAAMnO,CAAK,EAClB,IAAK,IAAMwO,KAAKxO,EAAMyO,cAAc,EAAI,CAACzO,EAAM,CAC7C,IAAK,IAAM1H,KAAKsV,EACVtV,EAAEuV,UAAU,GAAKW,EAAEX,UAAU,EAAEvV,CAAAA,EAAEoW,GAAG,CAAG,GAAAZ,EAAA,GAAQU,EAAG9U,EAAI,EAE9D,GAAIgU,GAAY,CAACb,GAAS,CAACC,GAASc,IAAAA,EAAOrX,MAAM,CAAQ,CACvD,IAAMuC,EAAQ8U,CAAM,CAAC,EAAE,CACnB7F,EAAIjP,EAAM4V,GAAG,CAAC,EAAE,CAAG5V,CAAK,CAAC,EAAE,EAAIiP,EAAIjP,EAAM4V,GAAG,CAAC,EAAE,CAAG5V,CAAK,CAAC,EAAE,EAC5DgU,EAAQ,GAERD,EAAQ,EACZ,CACA,IAAK,IAAM/T,KAAS8U,EACd9U,EAAM4V,GAAG,EAAE5V,CAAAA,CAAK,CAAC,EAAE,CAAGA,EAAM4V,GAAG,CAAC,EAAE,CAAE5V,CAAK,CAAC,EAAE,CAAGA,EAAM4V,GAAG,CAAC,EAAE,EACjE9B,EAAS,GACT2B,EAAQvO,GACRkO,GAAKlO,EACP,CAEA,SAASkO,GAAKlO,CAAK,MAEbsJ,EADJ,IAAMxQ,EAAQ8U,CAAM,CAAC,EAAE,CAAEG,EAASjV,EAAMiV,MAAM,CAM9C,OAHAP,EAAK1U,CAAK,CAAC,EAAE,CAAGiV,CAAM,CAAC,EAAE,CACzBN,EAAK3U,CAAK,CAAC,EAAE,CAAGiV,CAAM,CAAC,EAAE,CAEjBxG,GACN,KAAKK,EACL,KAAKD,EACCuF,GAAOM,CAAAA,EAAKxF,EAAIoF,EAAIhB,EAAInE,EAAIqF,EAAId,EAAIgB,IAAMnB,EAAKD,EAAKoB,EAAIf,EAAKD,EAAKgB,CAAC,EACnEL,GAAOM,CAAAA,EAAKzF,EAAIqF,EAAIf,EAAIrE,EAAIsF,EAAIb,EAAIe,IAAMlB,EAAKD,EAAKmB,EAAId,EAAKD,EAAKe,CAAC,EACvE,KAEF,MAAK5F,EACC+F,CAAM,CAAC,EAAE,EACPV,GAAOb,CAAAA,EAAKrE,EAAIoF,EAAGnF,EAAIqF,EAAGM,CAAM,CAAC,EAAE,CAAC,EAAE,GAAInB,EAAKzE,EAAIoF,EAAGnF,EAAIqF,EAAGM,CAAM,CAAC,EAAE,CAAC,EAAE,GAAIV,EAAQ,GACrFC,GAAOZ,CAAAA,EAAKvE,EAAIqF,EAAGpF,EAAIsF,EAAGK,CAAM,CAAC,EAAE,CAAC,EAAE,GAAIjB,EAAK3E,EAAIqF,EAAGpF,EAAIsF,EAAGK,CAAM,CAAC,EAAE,CAAC,EAAE,GAAIT,EAAQ,KAErFD,EAAQ,EAAGM,CAAAA,EAAKxF,EAAIoF,EAAIhB,EAAInE,EAAIqF,EAAIlB,EAAIoB,IAAMnB,EAAKD,EAAKoB,EAAIf,EAAKD,CAAC,EAC7DU,EAAQ,GAAGM,CAAAA,EAAKxF,EAAIoF,EAAIZ,EAAIvE,EAAIqF,EAAId,EAAIgB,IAAMnB,EAAKD,EAAIK,EAAKD,EAAKgB,CAAC,EACvEL,EAAQ,EAAGM,CAAAA,EAAKzF,EAAIqF,EAAIf,EAAIrE,EAAIsF,EAAIjB,EAAImB,IAAMlB,EAAKD,EAAKmB,EAAId,EAAKD,CAAC,EAC7DS,EAAQ,GAAGM,CAAAA,EAAKzF,EAAIqF,EAAIX,EAAIzE,EAAIsF,EAAIb,EAAIe,IAAMlB,EAAKD,EAAIK,EAAKD,EAAKe,CAAC,GAE7E,KAEF,MAAK3F,EACCoF,GAAOb,CAAAA,EAAKrE,EAAIoF,EAAGnF,EAAIqF,EAAGlB,EAAKoB,EAAKN,IAAST,EAAKzE,EAAIoF,EAAGnF,EAAIqF,EAAGd,EAAKgB,EAAKN,GAAM,EAChFC,GAAOZ,CAAAA,EAAKvE,EAAIqF,EAAGpF,EAAIsF,EAAGjB,EAAKmB,EAAKN,IAASR,EAAK3E,EAAIqF,EAAGpF,EAAIsF,EAAGb,EAAKe,EAAKN,GAAM,CAGxF,CAEIV,EAAKJ,IACPa,GAAS,GACT5D,EAAI8C,EAAIA,EAAKI,EAAIA,EAAKlD,EACtBA,EAAI+C,EAAIA,EAAKI,EAAIA,EAAKnD,EAClB7I,KAAQyI,GAAON,GAAQvF,IAAI,CAAC,SAAUsF,CAAO,CAAClI,EAAOyI,CAAK,CAACzI,EAAK,CAAC,GAGnEkM,EAAKJ,IACPY,GAAS,GACT7D,EAAIgD,EAAIA,EAAKI,EAAIA,EAAKpD,EACtBA,EAAIiD,EAAIA,EAAKI,EAAIA,EAAKrD,EAClB7I,KAAQ0I,GAAOP,GAAQvF,IAAI,CAAC,SAAUsF,CAAO,CAAClI,EAAO0I,CAAK,CAAC1I,EAAK,CAAC,GAGnEwL,EAAM3E,SAAS,EAAEA,CAAAA,EAAY2E,EAAM3E,SAAS,EAC5CuF,GAAOR,CAAAA,EAAK/E,CAAS,CAAC,EAAE,CAAC,EAAE,CAAEmF,EAAKnF,CAAS,CAAC,EAAE,CAAC,EAAE,EACjDwF,GAAOP,CAAAA,EAAKjF,CAAS,CAAC,EAAE,CAAC,EAAE,CAAEqF,EAAKrF,CAAS,CAAC,EAAE,CAAC,EAAE,EAEjDA,CAAAA,CAAS,CAAC,EAAE,CAAC,EAAE,GAAK+E,GACjB/E,CAAS,CAAC,EAAE,CAAC,EAAE,GAAKiF,GACpBjF,CAAS,CAAC,EAAE,CAAC,EAAE,GAAKmF,GACpBnF,CAAS,CAAC,EAAE,CAAC,EAAE,GAAKqF,CAAC,IAC1BV,EAAM3E,SAAS,CAAG,CAAC,CAAC+E,EAAIE,EAAG,CAAE,CAACE,EAAIE,EAAG,CAAC,CACtCpB,EAAO5P,IAAI,CAACjC,GACZqS,GAAKhB,KAAK,CAAC/K,EAAOuH,EAAKzL,IAAI,EAE/B,CAEA,SAASsS,GAAMpO,CAAK,MA1WT0K,EA4WT,IADAiE,SD7ewB3O,CAAK,EACjCA,EAAM0H,wBAAwB,EAChC,EC2eoB1H,GACVA,EAAMmM,OAAO,CAAE,CACjB,GAAInM,EAAMmM,OAAO,CAAC5V,MAAM,CAAE,OACtBkU,GAAamE,aAAanE,GAC9BA,EAAcoE,WAAW,WAAapE,EAAc,IAAM,EAAG,IAC/D,KACE,QAAWzK,EAAMqO,IAAI,CAAEzB,GACvByB,GAAKhN,EAAE,CAAC,0DAA2D,MAErE2J,GAAM3H,IAAI,CAAC,iBAAkB,OAC7BuF,GAAQvF,IAAI,CAAC,SAAUsF,EAAQC,OAAO,EAClCqD,EAAM3E,SAAS,EAAEA,CAAAA,EAAY2E,EAAM3E,SAAS,EArX7CoD,CAAAA,CADMA,EAuXCpD,EAtXD,CAAC,EAAE,CAAC,EAAE,GAAKoD,CAAM,CAAC,EAAE,CAAC,EAAE,EAC7BA,CAAM,CAAC,EAAE,CAAC,EAAE,GAAKA,CAAM,CAAC,EAAE,CAAC,EAAE,GAqXVuB,CAAAA,EAAM3E,SAAS,CAAG,KAAMiE,EAAO5P,IAAI,CAACjC,EAAI,EAC9DqS,GAAKzJ,GAAG,CAACtC,EAAOuH,EAAKzL,IAAI,CAC3B,CAsEF,CAEA,SAAS2P,EAAWzL,CAAK,EACvB4L,EAAQ,IAAI,CAAExS,WAAW+U,KAAK,CAACnO,EACjC,CAEA,SAAS0L,EAAW1L,CAAK,EACvB4L,EAAQ,IAAI,CAAExS,WAAWgV,KAAK,CAACpO,EACjC,CAEA,SAASiL,IACP,IAAIgB,EAAQ,IAAI,CAAC5B,OAAO,EAAI,CAAC/C,UAAW,IAAI,EAG5C,OAFA2E,EAAMvB,MAAM,CAAGrC,EAAQqC,EAAO/K,KAAK,CAAC,IAAI,CAAEvG,YAC1C6S,EAAMzB,GAAG,CAAGA,EACLyB,CACT,CA2BA,OAtZAlB,EAAMmD,IAAI,CAAG,SAASlD,CAAK,CAAE1D,CAAS,CAAEtH,CAAK,EACvCgL,EAAM8D,KAAK,CACb9D,EACK3J,EAAE,CAAC,cAAe,SAASrB,CAAK,EAAI4L,EAAQ,IAAI,CAAExS,WAAW4U,WAAW,GAAG3L,KAAK,CAACrC,EAAQ,GACzFqB,EAAE,CAAC,4BAA6B,SAASrB,CAAK,EAAI4L,EAAQ,IAAI,CAAExS,WAAWkJ,GAAG,CAACtC,EAAQ,GACvF8O,KAAK,CAAC,QAAS,WACd,IAAIpV,EAAO,IAAI,CACXuS,EAAQvS,EAAK2Q,OAAO,CACpB0B,EAAOH,EAAQlS,EAAMN,WACrB2V,EAAa9C,EAAM3E,SAAS,CAC5B0H,EAAaxE,EAAIhC,KAAK,CAAC,mBAAOlB,EAA2BA,EAAU3H,KAAK,CAAC,IAAI,CAAEvG,WAAakO,EAAW2E,EAAMvB,MAAM,EACnHrU,EAAI,QAAY0Y,EAAYC,GAEhC,SAASF,EAAMxF,CAAC,EACd2C,EAAM3E,SAAS,CAAGgC,IAAAA,GAAW0F,OAAAA,EAAsB,KAAO3Y,EAAEiT,GAC5DiC,EAAO5P,IAAI,CAACjC,GACZqS,EAAKhB,KAAK,EACZ,CAEA,OAAOgE,OAAAA,GAAuBC,OAAAA,EAAsBF,EAAQA,EAAM,EACpE,GAEJ9D,EACKlV,IAAI,CAAC,WACJ,IACI+V,EAAOzS,UACP6S,EAAQvS,IAFG,CAEE2Q,OAAO,CACpB2E,EAAaxE,EAAIhC,KAAK,CAAC,mBAAOlB,EAA2BA,EAAU3H,KAAK,CAHjE,IAAI,CAGoEkM,GAAQvE,EAAW2E,EAAMvB,MAAM,EAC9GqB,EAAOH,EAJA,IAAI,CAIUC,GAAMmC,WAAW,GAE1C,QANW,IAAI,EAOf/B,EAAM3E,SAAS,CAAG0H,OAAAA,EAAsB,KAAOA,EAC/CzD,EAAO5P,IAAI,CARA,IAAI,EASfoQ,EAAK1J,KAAK,CAACrC,GAAO+K,KAAK,CAAC/K,GAAOsC,GAAG,CAACtC,EACrC,EAER,EAEA+K,EAAM/T,KAAK,CAAG,SAASgU,CAAK,CAAEhL,CAAK,EACjC+K,EAAMmD,IAAI,CAAClD,EAAO,KAAMhL,EAC1B,EA6CAgM,EAAQvV,SAAS,CAAG,CAClBuX,YAAa,WAEX,OADsB,GAAlB,EAAE,IAAI,CAAC9B,MAAM,EAAQ,KAAI,CAACD,KAAK,CAACL,OAAO,CAAG,IAAI,CAAE,IAAI,CAACqD,QAAQ,CAAG,EAAG,EAChE,IAAI,EAEb5M,MAAO,SAASrC,CAAK,CAAEuH,CAAI,EAGzB,OAFI,IAAI,CAAC0H,QAAQ,CAAE,KAAI,CAACA,QAAQ,CAAG,GAAO,IAAI,CAAClD,IAAI,CAAC,QAAS/L,EAAOuH,EAAI,EACnE,IAAI,CAACwE,IAAI,CAAC,QAAS/L,GACjB,IAAI,EAEb+K,MAAO,SAAS/K,CAAK,CAAEuH,CAAI,EAEzB,OADA,IAAI,CAACwE,IAAI,CAAC,QAAS/L,EAAOuH,GACnB,IAAI,EAEbjF,IAAK,SAAStC,CAAK,CAAEuH,CAAI,EAEvB,OADsB,GAAlB,EAAE,IAAI,CAAC2E,MAAM,EAAQ,QAAO,IAAI,CAACD,KAAK,CAACL,OAAO,CAAE,IAAI,CAACG,IAAI,CAAC,MAAO/L,EAAOuH,EAAI,EACzE,IAAI,EAEbwE,KAAM,SAAStL,CAAI,CAAET,CAAK,CAAEuH,CAAI,EAC9B,IAAIjP,EAAI,QAAO,IAAI,CAACoB,IAAI,EAAEwV,KAAK,GAC/BrE,EAAUlP,IAAI,CACZ8E,EACA,IAAI,CAAC/G,IAAI,CACT,IAAI0N,EAAW3G,EAAM,CACnB4G,YAAarH,EACbW,OAAQoK,EACRzD,UAAWkD,EAAIvS,MAAM,CAAC,IAAI,CAACgU,KAAK,CAAC3E,SAAS,EAC1CC,KAAAA,EACAlH,SAAUwK,CACZ,GACAvS,EAEJ,CACF,EAuQAyS,EAAML,MAAM,CAAG,SAASvR,CAAC,EACvB,OAAOC,UAAU7C,MAAM,CAAImU,CAAAA,EAAS,mBAAOvR,EAAmBA,EAAIgW,EAAS9G,EAAQlP,IAAK4R,CAAI,EAAKL,CACnG,EAEAK,EAAMJ,MAAM,CAAG,SAASxR,CAAC,EACvB,OAAOC,UAAU7C,MAAM,CAAIoU,CAAAA,EAAS,mBAAOxR,EAAmBA,EAAIgW,EAAS,CAAC,CAAChW,GAAI4R,CAAI,EAAKJ,CAC5F,EAEAI,EAAMH,SAAS,CAAG,SAASzR,CAAC,EAC1B,OAAOC,UAAU7C,MAAM,CAAIqU,CAAAA,EAAY,mBAAOzR,EAAmBA,EAAIgW,EAAS,CAAC,CAAChW,GAAI4R,CAAI,EAAKH,CAC/F,EAEAG,EAAMD,UAAU,CAAG,SAAS3R,CAAC,EAC3B,OAAOC,UAAU7C,MAAM,CAAIuU,CAAAA,EAAa,CAAC3R,EAAG4R,CAAI,EAAKD,CACvD,EAEAC,EAAMqE,YAAY,CAAG,SAASjW,CAAC,EAC7B,OAAOC,UAAU7C,MAAM,CAAIU,CAAAA,EAAO,CAAC,CAACkC,EAAG4R,CAAI,EAAK9T,CAClD,EAEA8T,EAAM1J,EAAE,CAAG,WACT,IAAItL,EAAQ8U,EAAUxJ,EAAE,CAAC1B,KAAK,CAACkL,EAAWzR,WAC1C,OAAOrD,IAAU8U,EAAYE,EAAQhV,CACvC,EAEOgV,CACT,EA/dezC,EACf,C,0DC3IO,IAAM+G,EAAoB,CAAC9N,QAAS,GAAM+N,QAAS,EAAK,EAMhD,WAAStP,CAAK,EAC3BA,EAAMyH,cAAc,GACpBzH,EAAM0H,wBAAwB,EAChC,CCTe,WAAS2G,CAAI,EAC1B,IAAIkB,EAAOlB,EAAKpT,QAAQ,CAACC,eAAe,CACpCoM,EAAY,QAAO+G,GAAMhN,EAAE,CAAC,iBAAkBkN,EAASc,EACvD,mBAAmBE,EACrBjI,EAAUjG,EAAE,CAAC,mBAAoBkN,EAASc,IAE1CE,EAAKC,UAAU,CAAGD,EAAK5D,KAAK,CAAC8D,aAAa,CAC1CF,EAAK5D,KAAK,CAAC8D,aAAa,CAAG,OAE/B,CAEO,SAASC,EAAQrB,CAAI,CAAEsB,CAAO,EACnC,IAAIJ,EAAOlB,EAAKpT,QAAQ,CAACC,eAAe,CACpCoM,EAAY,QAAO+G,GAAMhN,EAAE,CAAC,iBAAkB,MAC9CsO,IACFrI,EAAUjG,EAAE,CAAC,aAAckN,EAASc,GACpCR,WAAW,WAAavH,EAAUjG,EAAE,CAAC,aAAc,KAAO,EAAG,IAE3D,kBAAmBkO,EACrBjI,EAAUjG,EAAE,CAAC,mBAAoB,OAEjCkO,EAAK5D,KAAK,CAAC8D,aAAa,CAAGF,EAAKC,UAAU,CAC1C,OAAOD,EAAKC,UAAU,CAE1B,C,mCCzBe,WAASxP,CAAK,CAAEa,CAAI,EAGjC,GAFAb,EAAQqH,SCHcrH,CAAK,EAC3B,IAAIqH,EACJ,KAAOA,EAAcrH,EAAMqH,WAAW,EAAErH,EAAQqH,EAChD,OAAOrH,CACT,EDDsBA,GACP/G,KAAAA,IAAT4H,GAAoBA,CAAAA,EAAOb,EAAM4P,aAAa,EAC9C/O,EAAM,CACR,IAAI8I,EAAM9I,EAAK+I,eAAe,EAAI/I,EAClC,GAAI8I,EAAIkG,cAAc,CAAE,CACtB,IAAI/W,EAAQ6Q,EAAIkG,cAAc,GAG9B,OAFA/W,EAAMI,CAAC,CAAG8G,EAAM8P,OAAO,CAAEhX,EAAMO,CAAC,CAAG2G,EAAM+P,OAAO,CAEzC,CAACjX,CADRA,EAAQA,EAAMkX,eAAe,CAACnP,EAAKoP,YAAY,GAAGC,OAAO,GAAE,EAC7ChX,CAAC,CAAEJ,EAAMO,CAAC,CAAC,CAE3B,GAAIwH,EAAKsP,qBAAqB,CAAE,CAC9B,IAAIC,EAAOvP,EAAKsP,qBAAqB,GACrC,MAAO,CAACnQ,EAAM8P,OAAO,CAAGM,EAAKC,IAAI,CAAGxP,EAAKyP,UAAU,CAAEtQ,EAAM+P,OAAO,CAAGK,EAAKG,GAAG,CAAG1P,EAAK2P,SAAS,CAAC,CAEnG,CACA,MAAO,CAACxQ,EAAMyQ,KAAK,CAAEzQ,EAAM0Q,KAAK,CAAC,C","sources":["node_modules/d3-array/src/descending.js","node_modules/d3-collection/src/map.js","node_modules/d3-collection/src/set.js","node_modules/d3-collection/src/entries.js","node_modules/d3-shape/src/area.js","node_modules/d3-shape/src/curve/basis.js","node_modules/delegated-events/node_modules/selector-set/selector-set.next.js","node_modules/delegated-events/dist/index.js","node_modules/@github/template-parts/lib/template-string-parser.js","node_modules/@github/template-parts/lib/attribute-template-part.js","node_modules/@github/template-parts/lib/node-template-part.js","node_modules/@github/template-parts/lib/template-instance.js","node_modules/@github/template-parts/lib/processors.js","node_modules/d3-brush/src/constant.js","node_modules/d3-brush/src/event.js","node_modules/d3-brush/src/noevent.js","node_modules/d3-brush/src/brush.js","node_modules/d3-drag/src/noevent.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-selection/src/pointer.js","node_modules/d3-selection/src/sourceEvent.js"],"sourcesContent":["export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","// Public: Create a new SelectorSet.\nexport default function SelectorSet() {\n  // Construct new SelectorSet if called as a function.\n  if (!(this instanceof SelectorSet)) {\n    return new SelectorSet();\n  }\n\n  // Public: Number of selectors added to the set\n  this.size = 0;\n\n  // Internal: Incrementing ID counter\n  this.uid = 0;\n\n  // Internal: Array of String selectors in the set\n  this.selectors = [];\n\n  // Internal: Map of selector ids to objects\n  this.selectorObjects = {};\n\n  // Internal: All Object index String names mapping to Index objects.\n  this.indexes = Object.create(this.indexes);\n\n  // Internal: Used Object index String names mapping to Index objects.\n  this.activeIndexes = [];\n}\n\n// Detect prefixed Element#matches function.\nvar docElem = window.document.documentElement;\nvar matches =\n  docElem.matches ||\n  docElem.webkitMatchesSelector ||\n  docElem.mozMatchesSelector ||\n  docElem.oMatchesSelector ||\n  docElem.msMatchesSelector;\n\n// Public: Check if element matches selector.\n//\n// Maybe overridden with custom Element.matches function.\n//\n// el       - An Element\n// selector - String CSS selector\n//\n// Returns true or false.\nSelectorSet.prototype.matchesSelector = function(el, selector) {\n  return matches.call(el, selector);\n};\n\n// Public: Find all elements in the context that match the selector.\n//\n// Maybe overridden with custom querySelectorAll function.\n//\n// selectors - String CSS selectors.\n// context   - Element context\n//\n// Returns non-live list of Elements.\nSelectorSet.prototype.querySelectorAll = function(selectors, context) {\n  return context.querySelectorAll(selectors);\n};\n\n// Public: Array of indexes.\n//\n// name     - Unique String name\n// selector - Function that takes a String selector and returns a String key\n//            or undefined if it can't be used by the index.\n// element  - Function that takes an Element and returns an Array of String\n//            keys that point to indexed values.\n//\nSelectorSet.prototype.indexes = [];\n\n// Index by element id\nvar idRe = /^#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'ID',\n  selector: function matchIdSelector(sel) {\n    var m;\n    if ((m = sel.match(idRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementId(el) {\n    if (el.id) {\n      return [el.id];\n    }\n  }\n});\n\n// Index by all of its class names\nvar classRe = /^\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'CLASS',\n  selector: function matchClassSelector(sel) {\n    var m;\n    if ((m = sel.match(classRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementClassNames(el) {\n    var className = el.className;\n    if (className) {\n      if (typeof className === 'string') {\n        return className.split(/\\s/);\n      } else if (typeof className === 'object' && 'baseVal' in className) {\n        // className is a SVGAnimatedString\n        // global SVGAnimatedString is not an exposed global in Opera 12\n        return className.baseVal.split(/\\s/);\n      }\n    }\n  }\n});\n\n// Index by tag/node name: `DIV`, `FORM`, `A`\nvar tagRe = /^((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'TAG',\n  selector: function matchTagSelector(sel) {\n    var m;\n    if ((m = sel.match(tagRe))) {\n      return m[0].toUpperCase();\n    }\n  },\n  element: function getElementTagName(el) {\n    return [el.nodeName.toUpperCase()];\n  }\n});\n\n// Default index just contains a single array of elements.\nSelectorSet.prototype.indexes['default'] = {\n  name: 'UNIVERSAL',\n  selector: function() {\n    return true;\n  },\n  element: function() {\n    return [true];\n  }\n};\n\n// Use ES Maps when supported\nvar Map;\nif (typeof window.Map === 'function') {\n  Map = window.Map;\n} else {\n  Map = (function() {\n    function Map() {\n      this.map = {};\n    }\n    Map.prototype.get = function(key) {\n      return this.map[key + ' '];\n    };\n    Map.prototype.set = function(key, value) {\n      this.map[key + ' '] = value;\n    };\n    return Map;\n  })();\n}\n\n// Regexps adopted from Sizzle\n//   https://github.com/jquery/sizzle/blob/1.7/sizzle.js\n//\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n\n// Internal: Get indexes for selector.\n//\n// selector - String CSS selector\n//\n// Returns Array of {index, key}.\nfunction parseSelectorIndexes(allIndexes, selector) {\n  allIndexes = allIndexes.slice(0).concat(allIndexes['default']);\n\n  var allIndexesLen = allIndexes.length,\n    i,\n    j,\n    m,\n    dup,\n    rest = selector,\n    key,\n    index,\n    indexes = [];\n\n  do {\n    chunker.exec('');\n    if ((m = chunker.exec(rest))) {\n      rest = m[3];\n      if (m[2] || !rest) {\n        for (i = 0; i < allIndexesLen; i++) {\n          index = allIndexes[i];\n          if ((key = index.selector(m[1]))) {\n            j = indexes.length;\n            dup = false;\n            while (j--) {\n              if (indexes[j].index === index && indexes[j].key === key) {\n                dup = true;\n                break;\n              }\n            }\n            if (!dup) {\n              indexes.push({ index: index, key: key });\n            }\n            break;\n          }\n        }\n      }\n    }\n  } while (m);\n\n  return indexes;\n}\n\n// Internal: Find first item in Array that is a prototype of `proto`.\n//\n// ary   - Array of objects\n// proto - Prototype of expected item in `ary`\n//\n// Returns object from `ary` if found. Otherwise returns undefined.\nfunction findByPrototype(ary, proto) {\n  var i, len, item;\n  for (i = 0, len = ary.length; i < len; i++) {\n    item = ary[i];\n    if (proto.isPrototypeOf(item)) {\n      return item;\n    }\n  }\n}\n\n// Public: Log when added selector falls under the default index.\n//\n// This API should not be considered stable. May change between\n// minor versions.\n//\n// obj - {selector, data} Object\n//\n//   SelectorSet.prototype.logDefaultIndexUsed = function(obj) {\n//     console.warn(obj.selector, \"could not be indexed\");\n//   };\n//\n// Returns nothing.\nSelectorSet.prototype.logDefaultIndexUsed = function() {};\n\n// Public: Add selector to set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.add = function(selector, data) {\n  var obj,\n    i,\n    indexProto,\n    key,\n    index,\n    objs,\n    selectorIndexes,\n    selectorIndex,\n    indexes = this.activeIndexes,\n    selectors = this.selectors,\n    selectorObjects = this.selectorObjects;\n\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  obj = {\n    id: this.uid++,\n    selector: selector,\n    data: data\n  };\n  selectorObjects[obj.id] = obj;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n    key = selectorIndex.key;\n    indexProto = selectorIndex.index;\n\n    index = findByPrototype(indexes, indexProto);\n    if (!index) {\n      index = Object.create(indexProto);\n      index.map = new Map();\n      indexes.push(index);\n    }\n\n    if (indexProto === this.indexes['default']) {\n      this.logDefaultIndexUsed(obj);\n    }\n    objs = index.map.get(key);\n    if (!objs) {\n      objs = [];\n      index.map.set(key, objs);\n    }\n    objs.push(obj);\n  }\n\n  this.size++;\n  selectors.push(selector);\n};\n\n// Public: Remove selector from set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.remove = function(selector, data) {\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  var selectorIndexes,\n    selectorIndex,\n    i,\n    j,\n    k,\n    selIndex,\n    objs,\n    obj,\n    indexes = this.activeIndexes,\n    selectors = (this.selectors = []),\n    selectorObjects = this.selectorObjects,\n    removedIds = {},\n    removeAll = arguments.length === 1;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n\n    j = indexes.length;\n    while (j--) {\n      selIndex = indexes[j];\n      if (selectorIndex.index.isPrototypeOf(selIndex)) {\n        objs = selIndex.map.get(selectorIndex.key);\n        if (objs) {\n          k = objs.length;\n          while (k--) {\n            obj = objs[k];\n            if (obj.selector === selector && (removeAll || obj.data === data)) {\n              objs.splice(k, 1);\n              removedIds[obj.id] = true;\n            }\n          }\n        }\n        break;\n      }\n    }\n  }\n\n  for (i in removedIds) {\n    delete selectorObjects[i];\n    this.size--;\n  }\n\n  for (i in selectorObjects) {\n    selectors.push(selectorObjects[i].selector);\n  }\n};\n\n// Sort by id property handler.\n//\n// a - Selector obj.\n// b - Selector obj.\n//\n// Returns Number.\nfunction sortById(a, b) {\n  return a.id - b.id;\n}\n\n// Public: Find all matching decendants of the context element.\n//\n// context - An Element\n//\n// Returns Array of {selector, data, elements} matches.\nSelectorSet.prototype.queryAll = function(context) {\n  if (!this.selectors.length) {\n    return [];\n  }\n\n  var matches = {},\n    results = [];\n  var els = this.querySelectorAll(this.selectors.join(', '), context);\n\n  var i, j, len, len2, el, m, match, obj;\n  for (i = 0, len = els.length; i < len; i++) {\n    el = els[i];\n    m = this.matches(el);\n    for (j = 0, len2 = m.length; j < len2; j++) {\n      obj = m[j];\n      if (!matches[obj.id]) {\n        match = {\n          id: obj.id,\n          selector: obj.selector,\n          data: obj.data,\n          elements: []\n        };\n        matches[obj.id] = match;\n        results.push(match);\n      } else {\n        match = matches[obj.id];\n      }\n      match.elements.push(el);\n    }\n  }\n\n  return results.sort(sortById);\n};\n\n// Public: Match element against all selectors in set.\n//\n// el - An Element\n//\n// Returns Array of {selector, data} matches.\nSelectorSet.prototype.matches = function(el) {\n  if (!el) {\n    return [];\n  }\n\n  var i, j, k, len, len2, len3, index, keys, objs, obj, id;\n  var indexes = this.activeIndexes,\n    matchedIds = {},\n    matches = [];\n\n  for (i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    keys = index.element(el);\n    if (keys) {\n      for (j = 0, len2 = keys.length; j < len2; j++) {\n        if ((objs = index.map.get(keys[j]))) {\n          for (k = 0, len3 = objs.length; k < len3; k++) {\n            obj = objs[k];\n            id = obj.id;\n            if (!matchedIds[id] && this.matchesSelector(el, obj.selector)) {\n              matchedIds[id] = true;\n              matches.push(obj);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return matches.sort(sortById);\n};\n","import SelectorSet from 'selector-set';\n\nvar bubbleEvents = {};\nvar captureEvents = {};\nvar propagationStopped = new WeakMap();\nvar immediatePropagationStopped = new WeakMap();\nvar currentTargets = new WeakMap();\nvar currentTargetDesc = Object.getOwnPropertyDescriptor(Event.prototype, 'currentTarget');\n\nfunction before(subject, verb, fn) {\n  var source = subject[verb];\n\n  subject[verb] = function () {\n    fn.apply(subject, arguments);\n    return source.apply(subject, arguments);\n  };\n\n  return subject;\n}\n\nfunction matches(selectors, target, reverse) {\n  var queue = [];\n  var node = target;\n\n  do {\n    if (node.nodeType !== 1) break;\n\n    var _matches = selectors.matches(node);\n\n    if (_matches.length) {\n      var matched = {\n        node: node,\n        observers: _matches\n      };\n\n      if (reverse) {\n        queue.unshift(matched);\n      } else {\n        queue.push(matched);\n      }\n    }\n  } while (node = node.parentElement);\n\n  return queue;\n}\n\nfunction trackPropagation() {\n  propagationStopped.set(this, true);\n}\n\nfunction trackImmediate() {\n  propagationStopped.set(this, true);\n  immediatePropagationStopped.set(this, true);\n}\n\nfunction getCurrentTarget() {\n  return currentTargets.get(this) || null;\n}\n\nfunction defineCurrentTarget(event, getter) {\n  if (!currentTargetDesc) return;\n  Object.defineProperty(event, 'currentTarget', {\n    configurable: true,\n    enumerable: true,\n    get: getter || currentTargetDesc.get\n  });\n}\n\nfunction canDispatch(event) {\n  try {\n    event.eventPhase;\n    return true;\n  } catch (_) {\n    return false;\n  }\n}\n\nfunction dispatch(event) {\n  if (!canDispatch(event)) return;\n  var events = event.eventPhase === 1 ? captureEvents : bubbleEvents;\n  var selectors = events[event.type];\n  if (!selectors) return;\n  var queue = matches(selectors, event.target, event.eventPhase === 1);\n  if (!queue.length) return;\n  before(event, 'stopPropagation', trackPropagation);\n  before(event, 'stopImmediatePropagation', trackImmediate);\n  defineCurrentTarget(event, getCurrentTarget);\n\n  for (var i = 0, len1 = queue.length; i < len1; i++) {\n    if (propagationStopped.get(event)) break;\n    var matched = queue[i];\n    currentTargets.set(event, matched.node);\n\n    for (var j = 0, len2 = matched.observers.length; j < len2; j++) {\n      if (immediatePropagationStopped.get(event)) break;\n      matched.observers[j].data.call(matched.node, event);\n    }\n  }\n\n  currentTargets[\"delete\"](event);\n  defineCurrentTarget(event);\n}\n\nfunction on(name, selector, fn) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var capture = options.capture ? true : false;\n  var events = capture ? captureEvents : bubbleEvents;\n  var selectors = events[name];\n\n  if (!selectors) {\n    selectors = new SelectorSet();\n    events[name] = selectors;\n    document.addEventListener(name, dispatch, capture);\n  }\n\n  selectors.add(selector, fn);\n}\nfunction off(name, selector, fn) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var capture = options.capture ? true : false;\n  var events = capture ? captureEvents : bubbleEvents;\n  var selectors = events[name];\n  if (!selectors) return;\n  selectors.remove(selector, fn);\n  if (selectors.size) return;\n  delete events[name];\n  document.removeEventListener(name, dispatch, capture);\n}\nfunction fire(target, name, detail) {\n  return target.dispatchEvent(new CustomEvent(name, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  }));\n}\n\nexport { fire, off, on };\n","export function* parse(text) {\n    let value = '';\n    let tokenStart = 0;\n    let open = false;\n    for (let i = 0; i < text.length; i += 1) {\n        if (text[i] === '{' && text[i + 1] === '{' && text[i - 1] !== '\\\\' && !open) {\n            open = true;\n            if (value)\n                yield { type: 'string', start: tokenStart, end: i, value };\n            value = '{{';\n            tokenStart = i;\n            i += 2;\n        }\n        else if (text[i] === '}' && text[i + 1] === '}' && text[i - 1] !== '\\\\' && open) {\n            open = false;\n            yield { type: 'part', start: tokenStart, end: i + 2, value: value.slice(2).trim() };\n            value = '';\n            i += 2;\n            tokenStart = i;\n        }\n        value += text[i] || '';\n    }\n    if (value)\n        yield { type: 'string', start: tokenStart, end: text.length, value };\n}\n//# sourceMappingURL=template-string-parser.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _setter, _value;\nexport class AttributeTemplatePart {\n    constructor(setter, expression) {\n        this.expression = expression;\n        _setter.set(this, void 0);\n        _value.set(this, '');\n        __classPrivateFieldSet(this, _setter, setter);\n        __classPrivateFieldGet(this, _setter).updateParent('');\n    }\n    get attributeName() {\n        return __classPrivateFieldGet(this, _setter).attr.name;\n    }\n    get attributeNamespace() {\n        return __classPrivateFieldGet(this, _setter).attr.namespaceURI;\n    }\n    get value() {\n        return __classPrivateFieldGet(this, _value);\n    }\n    set value(value) {\n        __classPrivateFieldSet(this, _value, value || '');\n        __classPrivateFieldGet(this, _setter).updateParent(value);\n    }\n    get element() {\n        return __classPrivateFieldGet(this, _setter).element;\n    }\n    get booleanValue() {\n        return __classPrivateFieldGet(this, _setter).booleanValue;\n    }\n    set booleanValue(value) {\n        __classPrivateFieldGet(this, _setter).booleanValue = value;\n    }\n}\n_setter = new WeakMap(), _value = new WeakMap();\nexport class AttributeValueSetter {\n    constructor(element, attr) {\n        this.element = element;\n        this.attr = attr;\n        this.partList = [];\n    }\n    get booleanValue() {\n        return this.element.hasAttributeNS(this.attr.namespaceURI, this.attr.name);\n    }\n    set booleanValue(value) {\n        if (this.partList.length !== 1) {\n            throw new DOMException('Operation not supported', 'NotSupportedError');\n        }\n        ;\n        this.partList[0].value = value ? '' : null;\n    }\n    append(part) {\n        this.partList.push(part);\n    }\n    updateParent(partValue) {\n        if (this.partList.length === 1 && partValue === null) {\n            this.element.removeAttributeNS(this.attr.namespaceURI, this.attr.name);\n        }\n        else {\n            const str = this.partList.map(s => (typeof s === 'string' ? s : s.value)).join('');\n            this.element.setAttributeNS(this.attr.namespaceURI, this.attr.name, str);\n        }\n    }\n}\n//# sourceMappingURL=attribute-template-part.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _parts;\nexport class NodeTemplatePart {\n    constructor(node, expression) {\n        this.expression = expression;\n        _parts.set(this, void 0);\n        __classPrivateFieldSet(this, _parts, [node]);\n        node.textContent = '';\n    }\n    get value() {\n        return __classPrivateFieldGet(this, _parts).map(node => node.textContent).join('');\n    }\n    set value(string) {\n        this.replace(string);\n    }\n    get previousSibling() {\n        return __classPrivateFieldGet(this, _parts)[0].previousSibling;\n    }\n    get nextSibling() {\n        return __classPrivateFieldGet(this, _parts)[__classPrivateFieldGet(this, _parts).length - 1].nextSibling;\n    }\n    replace(...nodes) {\n        const parts = nodes.map(node => {\n            if (typeof node === 'string')\n                return new Text(node);\n            return node;\n        });\n        if (!parts.length)\n            parts.push(new Text(''));\n        __classPrivateFieldGet(this, _parts)[0].before(...parts);\n        for (const part of __classPrivateFieldGet(this, _parts))\n            part.remove();\n        __classPrivateFieldSet(this, _parts, parts);\n    }\n}\n_parts = new WeakMap();\n//# sourceMappingURL=node-template-part.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _processor, _parts;\nimport { parse } from './template-string-parser.js';\nimport { AttributeValueSetter, AttributeTemplatePart } from './attribute-template-part.js';\nimport { NodeTemplatePart } from './node-template-part.js';\nimport { propertyIdentity } from './processors.js';\nfunction* collectParts(el) {\n    const walker = el.ownerDocument.createTreeWalker(el, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, null, false);\n    let node;\n    while ((node = walker.nextNode())) {\n        if (node instanceof Element && node.hasAttributes()) {\n            for (let i = 0; i < node.attributes.length; i += 1) {\n                const attr = node.attributes.item(i);\n                if (attr && attr.value.includes('{{')) {\n                    const valueSetter = new AttributeValueSetter(node, attr);\n                    for (const token of parse(attr.value)) {\n                        if (token.type === 'string') {\n                            valueSetter.append(token.value);\n                        }\n                        else {\n                            const part = new AttributeTemplatePart(valueSetter, token.value);\n                            valueSetter.append(part);\n                            yield part;\n                        }\n                    }\n                }\n            }\n        }\n        else if (node instanceof Text && node.textContent && node.textContent.includes('{{')) {\n            for (const token of parse(node.textContent)) {\n                if (token.end < node.textContent.length)\n                    node.splitText(token.end);\n                if (token.type === 'part')\n                    yield new NodeTemplatePart(node, token.value);\n                break;\n            }\n        }\n    }\n}\nexport class TemplateInstance extends DocumentFragment {\n    constructor(template, params, processor = propertyIdentity) {\n        var _a, _b;\n        super();\n        _processor.set(this, void 0);\n        _parts.set(this, void 0);\n        // This is to fix an inconsistency in Safari which prevents us from\n        // correctly sub-classing DocumentFragment.\n        // https://bugs.webkit.org/show_bug.cgi?id=195556\n        if (Object.getPrototypeOf(this !== TemplateInstance.prototype)) {\n            Object.setPrototypeOf(this, TemplateInstance.prototype);\n        }\n        this.appendChild(template.content.cloneNode(true));\n        __classPrivateFieldSet(this, _parts, Array.from(collectParts(this)));\n        __classPrivateFieldSet(this, _processor, processor);\n        (_b = (_a = __classPrivateFieldGet(this, _processor)).createCallback) === null || _b === void 0 ? void 0 : _b.call(_a, this, __classPrivateFieldGet(this, _parts), params);\n    }\n    update(params) {\n        __classPrivateFieldGet(this, _processor).processCallback(this, __classPrivateFieldGet(this, _parts), params);\n    }\n}\n_processor = new WeakMap(), _parts = new WeakMap();\n//# sourceMappingURL=template-instance.js.map","import { AttributeTemplatePart } from './attribute-template-part.js';\nexport function createProcessor(processPart) {\n    return {\n        createCallback(instance, parts, params) {\n            this.processCallback(instance, parts, params);\n        },\n        processCallback(_, parts, params) {\n            var _a;\n            if (typeof params !== 'object' || !params)\n                return;\n            for (const part of parts) {\n                if (part.expression in params) {\n                    const value = (_a = params[part.expression]) !== null && _a !== void 0 ? _a : '';\n                    processPart(part, value);\n                }\n            }\n        }\n    };\n}\nexport function processPropertyIdentity(part, value) {\n    part.value = String(value);\n}\nexport function processBooleanAttribute(part, value) {\n    if (typeof value === 'boolean' &&\n        part instanceof AttributeTemplatePart &&\n        typeof part.element[part.attributeName] === 'boolean') {\n        part.booleanValue = value;\n        return true;\n    }\n    return false;\n}\nexport const propertyIdentity = createProcessor(processPropertyIdentity);\nexport const propertyIdentityOrBooleanAttribute = createProcessor((part, value) => {\n    processBooleanAttribute(part, value) || processPropertyIdentity(part, value);\n});\n//# sourceMappingURL=processors.js.map","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n"],"names":["a","b","NaN","Map","object","f","map","each","value","key","set","Array","isArray","o","i","n","length","Set","prototype","constructor","has","get","prefix","remove","property","clear","keys","push","slice","values","entries","size","empty","proto","add","x0","y0","y1","x1","defined","context","curve","output","area","data","j","k","d","buffer","defined0","x0z","y0z","areaStart","lineStart","lineEnd","point","areaEnd","arealine","undefined","x","_","arguments","y","lineX0","lineY0","lineY1","lineX1","that","_context","bezierCurveTo","_x0","_x1","_y0","_y1","Basis","_line","_point","lineTo","closePath","moveTo","SelectorSet","uid","selectors","selectorObjects","indexes","Object","create","activeIndexes","docElem","window","document","documentElement","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","matchesSelector","el","selector","call","querySelectorAll","idRe","name","sel","m","match","element","id","classRe","className","split","baseVal","tagRe","toUpperCase","nodeName","chunker","parseSelectorIndexes","allIndexes","dup","index","allIndexesLen","concat","rest","exec","sortById","logDefaultIndexUsed","obj","indexProto","objs","selectorIndexes","selectorIndex","findByPrototype","ary","len","item","isPrototypeOf","selIndex","removedIds","removeAll","splice","queryAll","len2","results","els","join","elements","sort","len3","matchedIds","bubbleEvents","captureEvents","propagationStopped","WeakMap","immediatePropagationStopped","currentTargets","currentTargetDesc","getOwnPropertyDescriptor","Event","before","subject","verb","fn","source","apply","trackPropagation","trackImmediate","getCurrentTarget","defineCurrentTarget","event","getter","defineProperty","configurable","enumerable","dispatch","canDispatch","eventPhase","events","type","queue","target","reverse","node","nodeType","_matches","matched","observers","unshift","parentElement","len1","on","options","capture","addEventListener","off","removeEventListener","fire","detail","dispatchEvent","CustomEvent","bubbles","cancelable","parse","text","tokenStart","open","start","end","trim","_setter","_value","_parts","_processor","__classPrivateFieldSet","receiver","privateMap","__classPrivateFieldGet","AttributeTemplatePart","setter","expression","updateParent","attributeName","attr","attributeNamespace","namespaceURI","booleanValue","AttributeValueSetter","partList","hasAttributeNS","DOMException","append","part","partValue","removeAttributeNS","str","s","setAttributeNS","NodeTemplatePart","textContent","string","replace","previousSibling","nextSibling","nodes","parts","Text","createProcessor","processPart","createCallback","instance","params","processCallback","_a","processPropertyIdentity","String","propertyIdentity","propertyIdentityOrBooleanAttribute","processBooleanAttribute","TemplateInstance","DocumentFragment","template","processor","_b","getPrototypeOf","setPrototypeOf","appendChild","content","cloneNode","from","collectParts","walker","ownerDocument","createTreeWalker","NodeFilter","SHOW_TEXT","SHOW_ELEMENT","nextNode","Element","hasAttributes","attributes","includes","valueSetter","token","splitText","update","BrushEvent","sourceEvent","selection","mode","defineProperties","preventDefault","stopImmediatePropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","abs","max","min","Math","number1","e","number2","X","handles","input","xy","Y","cursors","overlay","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","t","defaultFilter","ctrlKey","button","defaultExtent","svg","ownerSVGElement","hasAttribute","viewBox","width","height","defaultTouchable","navigator","maxTouchPoints","local","__brush","parentNode","brushX","dim","touchending","extent","filter","touchable","listeners","handleSize","brush","group","initialize","selectAll","enter","merge","handle","exit","redraw","started","touchmoved","touchended","style","emitter","args","clean","emit","Emitter","state","active","touches","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","__data__","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","points","identifier","pointer","point0","beforestart","pts","move","moved","ended","view","keyCode","noevent","p","changedTouches","cur","nopropagation","clearTimeout","setTimeout","tween","selection0","selection1","starting","datum","constant","keyModifiers","nonpassivecapture","passive","root","__noselect","MozUserSelect","yesdrag","noclick","currentTarget","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY"],"sourceRoot":""}