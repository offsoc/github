{"version":3,"file":"chunk-app_components_pull_requests_file_tree_file-tree-toggle-element_ts-xxxxxxxxxxxx.js","mappings":"qjBAGO,gCAAMA,8BAA8BC,YAMzCC,eAAeC,CAAY,CAAQ,CACjC,IAAI,CAACC,kBAAkB,CAACC,eAAe,CAAC,UACxC,IAAI,CAACC,kBAAkB,CAACD,eAAe,CAAC,UAExC,IAAME,EAAeJ,EAAMK,aAAa,CAGxC,GAFA,IAAI,CAACC,aAAa,CAAC,IAAIC,YAAY,iBAAkB,CAACC,OAAQ,CAACJ,aAAAA,CAAY,CAAC,IAExE,IAAI,CAACK,GAAG,CAACC,MAAM,CAAG,EAAG,CACvB,IAAMC,EAAkBP,EAAaQ,YAAY,CAAC,iCAClD,IAAI,CAACC,kCAAkC,CAACF,EAC1C,CACF,CAEA,MAAME,mCAAmCF,CAAuB,CAAiB,CAC/E,IAAMG,EAAO,IAAIC,SACjBD,EAAKE,GAAG,CAAC,oBAAqBL,GAC9B,GAAI,CACF,MAAMM,MAAM,IAAI,CAACR,GAAG,CAAE,CACpBS,OAAQ,MACRC,KAAML,EACNM,QAAS,CACPC,OAAQ,mBACR,mBAAoB,iBACpB,oBAAqB,CAAC,EAAE,IAAI,CAACC,IAAI,CAAC,CAAC,CAEvC,EACF,CAAE,KAAM,CAER,CACF,C,mCAlCMb,GAAG,CAAG,G,KACNa,IAAI,CAAG,E,CAkCf,E,GAnCGC,EAAAA,EAAIA,C,CADM1B,sBAAAA,SAAAA,CAAAA,MAAAA,KAAAA,G,GAEV0B,EAAAA,EAAIA,C,CAFM1B,sBAAAA,SAAAA,CAAAA,OAAAA,KAAAA,G,GAGV2B,EAAAA,EAAMA,C,CAHI3B,sBAAAA,SAAAA,CAAAA,qBAAAA,KAAAA,G,GAIV2B,EAAAA,EAAMA,C,CAJI3B,sBAAAA,SAAAA,CAAAA,qBAAAA,KAAAA,GAAAA,sBAAAA,EAAAA,CADZ4B,EAAAA,EAAUA,C,CACE5B,sB","sources":["app/components/pull_requests/file_tree/file-tree-toggle-element.ts"],"sourcesContent":["import {attr, controller, target} from '@github/catalyst'\n\n@controller\nexport class FileTreeToggleElement extends HTMLElement {\n  @attr url = ''\n  @attr csrf = ''\n  @target showFileTreeButton: HTMLElement\n  @target hideFileTreeButton: HTMLElement\n\n  toggleFileTree(event: Event): void {\n    this.showFileTreeButton.toggleAttribute('hidden')\n    this.hideFileTreeButton.toggleAttribute('hidden')\n\n    const toggleButton = event.currentTarget as HTMLButtonElement\n    this.dispatchEvent(new CustomEvent('toggle-sidebar', {detail: {toggleButton}}))\n\n    if (this.url.length > 0) {\n      const fileTreeVisible = toggleButton.getAttribute('data-prefer-file-tree-visible')!\n      this.updateFileTreeVisibilityPreference(fileTreeVisible)\n    }\n  }\n\n  async updateFileTreeVisibilityPreference(fileTreeVisible: string): Promise<void> {\n    const data = new FormData()\n    data.set('file_tree_visible', fileTreeVisible)\n    try {\n      await fetch(this.url, {\n        method: 'PUT',\n        body: data,\n        headers: {\n          Accept: 'application/json',\n          'X-Requested-With': 'XMLHttpRequest',\n          'Scoped-CSRF-Token': `${this.csrf}`,\n        },\n      })\n    } catch {\n      // Ignore network errors\n    }\n  }\n}\n"],"names":["FileTreeToggleElement","HTMLElement","toggleFileTree","event","showFileTreeButton","toggleAttribute","hideFileTreeButton","toggleButton","currentTarget","dispatchEvent","CustomEvent","detail","url","length","fileTreeVisible","getAttribute","updateFileTreeVisibilityPreference","data","FormData","set","fetch","method","body","headers","Accept","csrf","attr","target","controller"],"sourceRoot":""}