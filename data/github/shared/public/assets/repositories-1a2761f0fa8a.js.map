{"version":3,"file":"repositories-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/input-demux.ts","app/assets/modules/github/repositories/overview.ts","app/assets/modules/github/secret-scanning/elements/bypass-reason-selector.ts","app/assets/modules/github/secret-scanning/push-protection.ts","app/assets/modules/github/spoofed-commit-warning.ts","app/assets/modules/github/repositories/branch-filter-element.ts","app/assets/modules/github/repositories/branch-filter-item-element.ts","app/assets/modules/github/repositories/import.ts","app/assets/modules/github/repositories/merge-queue.ts","app/assets/modules/github/repositories/new.ts","app/assets/modules/github/repositories/pulse.ts","app/assets/modules/github/repositories/releases.ts","app/assets/modules/github/repositories/rename-branch.ts","app/assets/modules/github/repositories/branch-protection-rule.ts","app/assets/modules/github/repositories/template-repositories.ts","app/assets/modules/github/repositories/tree-finder.ts","app/assets/modules/github/repositories/upload-manifest-file.ts","app/assets/modules/github/repositories/upload-release-file.ts","app/assets/modules/github/repositories/repo-codespaces-count-element.ts","ui/packages/analytics-overrides/analytics-overrides.ts","ui/packages/aria-live/aria-live.ts","ui/packages/browser-history-state/browser-history-state.ts","ui/packages/code-mirror/emit-to-codemirror.ts","ui/packages/failbot/failbot.ts","ui/packages/html-safe-nonce/html-safe-nonce.ts","ui/packages/trusted-types-policies/server-x-safe-html.ts","ui/packages/fetch-utils/fetch-utils.ts","ui/packages/form-utils/form-utils.ts","ui/packages/form-utils/remote-submit.ts","ui/packages/hotkey/hotkey.ts","ui/packages/hydro-analytics/hydro-analytics.ts","ui/packages/onfocus/onfocus.ts","ui/packages/trusted-types-policies/parse-html.ts","ui/packages/parse-html/parse-html.ts","ui/packages/safe-storage/session-storage.ts","ui/packages/soft-nav/events.ts","ui/packages/soft-nav/state.ts","ui/packages/soft-nav/states.ts","ui/packages/soft-nav/stats.ts","ui/packages/soft-nav/utils.ts","ui/packages/soft-navigate/soft-navigate.ts","ui/packages/subscription/subscription.ts","ui/packages/text/text.ts","ui/packages/trusted-types-policies/policy.ts","ui/packages/trusted-types/trusted-types.ts"],"sourcesContent":["import {controller, target, targets} from '@github/catalyst'\n\n// Demultiplexes InputEvents on an <input> for use with multiple\n// elements in a <tab-container>.  Also provides notifications to\n// tabpanels when they are opened.\n//\n// On input, element corresponding to the selected tab gets a `input-entered`\n// event with its `detail` property set to the current value of the input.\n// Also performs similar proxying of mouseover events from an optional\n// enclosing details element to the \"primary\" tab so it can e.g. prefetch data.\n@controller\nclass InputDemuxElement extends HTMLElement {\n  // The <input> element to be shared among our sinks\n  @target source: HTMLInputElement\n\n  // The elements we are selecting among\n  @targets sinks: HTMLElement[]\n\n  // Determines which sink is selected by its children's aria-selected\n  // attributes.  Probably a role=\"tablist\" with children of role=\"tab\"\n  @target control: HTMLElement\n\n  // Temporary store for input values while other tabs are using the <input>.\n  storedInput: string[]\n\n  connectedCallback() {\n    /* eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback */\n    if (this.control) this.storedInput = Array(this.control.children.length).fill('')\n    this.addEventListener('input', this.relayInput.bind(this))\n    this.addEventListener('keydown', this.relayKeydown.bind(this))\n    const details = this.closest('details')\n    if (details) {\n      details.addEventListener('toggle', () => {\n        // Move the cursor to the input after the details menu is opened.\n        // This is especially nice in combination with the 'w' shortcut!\n        if (details.open) {\n          this.source.focus()\n        }\n      })\n    }\n  }\n\n  // Invoked on keydown to emulate the existing behavior where pressing down\n  // when the input is focused should focus the first list item.\n  relayKeydown(e: KeyboardEvent) {\n    // TODO: Refactor to use data-hotkey\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if ((this.isControlTab(e.target) || e.target === this.source) && (e.key === 'ArrowDown' || e.key === 'Tab')) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.routeCustomEvent(new CustomEvent('focus-list'))\n    } else if (e.key === 'Escape') {\n      const details = this.closest('details')\n      if (details) {\n        details.removeAttribute('open')\n      }\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  }\n\n  // Is the given EventTarget one of our control tabs?\n  isControlTab(element: EventTarget | null): boolean {\n    if (!element) return false\n    if (!this.control) return false\n    return Array.from(this.control.children).includes(element as Element)\n  }\n\n  // Invoked on input.  Decide which sink is selected and dispatch a\n  // CustomEvent that either contains input or a mouseover notification.\n  relayInput(e: Event) {\n    if (!e.target) return\n    const eventTarget = e.target as HTMLElement\n    const text = (eventTarget as HTMLInputElement).value\n    this.routeCustomEvent(new CustomEvent('input-entered', {detail: text}))\n  }\n\n  // Dispatch an event on whichever sink is currently selected.\n  routeCustomEvent(event: Event) {\n    const sink = this.sinks[this.selectedIndex]!\n    sink.dispatchEvent(event)\n  }\n\n  // The index of the selected tab.\n  get selectedIndex() {\n    if (!this.control) return 0\n    const selected = this.control.querySelector('[aria-selected=\"true\"]')\n    if (!selected) return 0\n    return Array.from(this.control.children).indexOf(selected)\n  }\n\n  // Save the input value before switching tabs.\n  storeInput() {\n    this.storedInput[this.selectedIndex] = this.source.value\n  }\n\n  // Restore a stored input value after switching tabs.\n  updateInput(e: CustomEvent) {\n    this.source.value = this.storedInput[this.selectedIndex]!\n    const placeholder = e.detail.relatedTarget.getAttribute('data-filter-placeholder')\n    this.source.placeholder = placeholder\n    this.source.setAttribute('aria-label', placeholder)\n    this.notifySelected()\n  }\n\n  // Courtesy notification to the element whose tab was just selected\n  notifySelected() {\n    const sink = this.sinks[this.selectedIndex]!\n    const event = new CustomEvent('tab-selected')\n    sink.dispatchEvent(event)\n  }\n}\n","import FilterInputElement from '@github/filter-input-element'\nimport RemoteInputElement from '@github/remote-input-element'\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {sendHydroEvent} from '../hydro-tracking'\n\non('tab-container-changed', '.js-branches-tags-tabs', async function (event) {\n  const newTabPanel = event.detail.relatedTarget\n  const tabContainer = event.currentTarget\n  if (!newTabPanel || !tabContainer) return\n\n  let oldValue\n  let newControl\n\n  for (const controlInput of tabContainer.querySelectorAll('[data-controls-ref-menu-id]')) {\n    if (!(controlInput instanceof FilterInputElement || controlInput instanceof RemoteInputElement)) return\n    const id = controlInput.getAttribute('data-controls-ref-menu-id')!\n    const isNewControl = newTabPanel.id === id\n    controlInput.hidden = !isNewControl\n    if (isNewControl) {\n      newControl = controlInput\n    } else if (!oldValue) {\n      oldValue = controlInput.input ? controlInput.input.value : ''\n    }\n  }\n  const newInput = newControl && newControl.input\n  if (newInput) {\n    if (newControl && oldValue !== undefined) newInput.value = oldValue\n    newInput.focus()\n  }\n})\n\non('click', '.js-branch-select-menu', event => {\n  const target = event.currentTarget\n\n  if (target instanceof HTMLDetailsElement && !target.open) {\n    sendHydroEvent(target)\n  }\n})\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass BypassReasonSelectorElement extends HTMLElement {\n  @target submitBtn: HTMLButtonElement\n\n  // Used by Secret Scanning Push Protection to ensure a bypass reason is selected and checkmarks are hidden\n  reasonSelected() {\n    this.submitBtn.disabled = false\n  }\n\n  // Used by Secret Scanning Push Protection to copy blob editor fields to bypass form to pass onto edit form after\n  copyBlobFields() {\n    const blobEditorForm = document.querySelector<HTMLFormElement>('.js-blob-form')!\n    const bypassForm = document.querySelector<HTMLFormElement>('.js-bypass-form')!\n    if (!(blobEditorForm instanceof HTMLFormElement) || !(bypassForm instanceof HTMLFormElement)) return\n\n    this.createHiddenInputField(\n      bypassForm,\n      'value',\n      document.querySelector<HTMLTextAreaElement>('.js-blob-contents')!.value,\n    )\n    this.createHiddenInputField(\n      bypassForm,\n      'description',\n      document.querySelector<HTMLTextAreaElement>('#commit-description-textarea')!.value,\n    )\n    for (const element of blobEditorForm.elements) {\n      if (element instanceof HTMLInputElement && element.name) {\n        // eslint-disable-next-line github/authenticity-token\n        if (!element.name.includes('gitignore') && element.name !== 'authenticity_token') {\n          this.createHiddenInputField(bypassForm, element.name, element.value)\n        }\n      }\n    }\n  }\n\n  private createHiddenInputField(form: HTMLFormElement, name: string, value: string) {\n    const copyInput = document.createElement('input')\n    copyInput.type = 'hidden'\n    copyInput.name = name\n    copyInput.id = `${name}_hidden`\n    copyInput.value = value\n\n    form.appendChild(copyInput)\n    copyInput.required = true\n  }\n}\n","import './elements/bypass-reason-selector'\nimport {GetCharIndexFromBytePosition} from '@github-ui/text'\n\nimport {emitToCodeMirror} from '@github-ui/code-mirror/emit-to-codemirror'\nimport type {SecretDetectedLintEventDetail} from '@github-ui/code-mirror/types/custom-events'\n\nexport class CodeEditorExtensions {\n  private static parseDiscoveredSecrets(fileContents: string, discoveredSecrets: string) {\n    const secrets = JSON.parse(discoveredSecrets)\n\n    if (secrets.length === 0 || secrets[0].locations?.length === 0) {\n      return null\n    }\n\n    // for now only annotate the first secret. We will support multiple secrets later\n    const location = secrets[0].locations[0]\n    const lines = fileContents.split(/\\r?\\n/)\n\n    // rails and react use different keys for the same thing - normalize them\n    const normalizedStartLine = location.start_line || location.startLine\n    const normalizedEndLine = location.end_line || location.endLine\n    const normalizedStartBytePosition = location.start_line_byte_position || location.startLineBytePosition || 0\n    const normalizedEndBytePosition = location.end_line_byte_position || location.endLineBytePosition\n\n    const startLine = normalizedStartLine - 1 // lines in a location are 1-indexed\n    const endLine = normalizedEndLine - 1\n\n    if (startLine > endLine || startLine < 0 || endLine > lines.length) {\n      return\n    }\n\n    // lines may have changed during client side editing, don't let it blow the page up\n    if (!lines[startLine] || !lines[endLine]) {\n      return\n    }\n\n    return {\n      startLine,\n      endLine,\n      startLineCharacter: GetCharIndexFromBytePosition(lines[startLine], normalizedStartBytePosition),\n      endLineCharacter: GetCharIndexFromBytePosition(lines[endLine], normalizedEndBytePosition),\n    }\n  }\n\n  private static parseSingleSecret(\n    fileContents: string,\n    startLine: number,\n    endLine: number,\n    startLineBytePosition: number,\n    endLineBytePosition: number,\n  ) {\n    const lines = fileContents.split(/\\r?\\n/)\n\n    // lines in a location are 1-indexed\n    startLine--\n    endLine--\n\n    if (startLine > endLine || startLine < 0 || endLine > lines.length) {\n      return\n    }\n\n    // lines may have changed during client side editing, don't let it blow the page up\n    if (!lines[startLine] || !lines[endLine]) {\n      return\n    }\n\n    return {\n      parsedStartLine: startLine,\n      parsedEndLine: endLine,\n      startLineCharacter: GetCharIndexFromBytePosition(lines[startLine]!, startLineBytePosition),\n      endLineCharacter: GetCharIndexFromBytePosition(lines[endLine]!, endLineBytePosition),\n    }\n  }\n\n  public static annotateDiscoveredSecrets(codeEditor: CodeMirror.Editor, discoveredSecrets: string) {\n    if (!codeEditor) {\n      return\n    }\n\n    const secrets = CodeEditorExtensions.parseDiscoveredSecrets(codeEditor.getValue(), discoveredSecrets)\n\n    if (!secrets) {\n      return\n    }\n\n    const {startLine, endLine, startLineCharacter, endLineCharacter} = secrets\n\n    codeEditor.markText(\n      {line: startLine, ch: startLineCharacter},\n      {line: endLine, ch: endLineCharacter},\n      {className: 'CodeMirror-lint-mark-error'},\n    )\n  }\n\n  public static emitAnnotateDiscoveredSecrets(fileContents: string, discoveredSecrets: string, target: Element) {\n    const secrets = CodeEditorExtensions.parseDiscoveredSecrets(fileContents, discoveredSecrets)\n\n    if (!secrets) {\n      return\n    }\n\n    const {startLine, endLine, startLineCharacter, endLineCharacter} = secrets\n\n    const detail: SecretDetectedLintEventDetail = {\n      from: {\n        lineNumber: startLine,\n        character: startLineCharacter,\n      },\n      to: {lineNumber: endLine, character: endLineCharacter},\n      severity: 'error',\n    }\n\n    emitToCodeMirror('secret-detected:lint', target, detail)\n  }\n\n  public static emitAnnotateDiscoveredSecretsWithLocation(\n    fileContents: string,\n    startLine: number,\n    endLine: number,\n    startLineBytePosition: number,\n    endLineBytePosition: number,\n    target: Element,\n  ) {\n    const parsed = CodeEditorExtensions.parseSingleSecret(\n      fileContents,\n      startLine,\n      endLine,\n      startLineBytePosition,\n      endLineBytePosition,\n    )\n\n    if (!parsed) {\n      return\n    }\n\n    const {parsedStartLine, parsedEndLine, startLineCharacter, endLineCharacter} = parsed\n\n    const detail: SecretDetectedLintEventDetail = {\n      from: {\n        lineNumber: parsedStartLine,\n        character: startLineCharacter,\n      },\n      to: {lineNumber: parsedEndLine, character: endLineCharacter},\n      severity: 'error',\n    }\n\n    emitToCodeMirror('secret-detected:lint', target, detail)\n  }\n}\n","/*\n * This module is responsible for showing the spoof commit warning banner on\n * the commit details page.\n *\n * This banner is displayed if the commit is not reachable from any named ref,\n * to warn the user that they may be looking at a commit from another fork of\n * the repo.\n *\n * We indicate that the commit is unreachable by including an element with the\n * ID `js-spoofed-commit-warning-trigger` in the page, instead of links to the\n * branches and tags that the commit belongs to.\n */\n\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nconst showSpoofCommitBanner = () => {\n  const banner = document.getElementById('spoof-warning') as HTMLElement\n  if (!banner) {\n    // If the banner isn't present in the DOM, there's no way we can display\n    // it. This indicates we're not on a commit detail page.\n    return\n  }\n\n  const commitTitle = document.querySelector<HTMLElement>('.commit-title')!\n  if (commitTitle) {\n    commitTitle.classList.add('pb-1')\n  }\n\n  banner.hidden = false\n  banner.removeAttribute('aria-hidden')\n}\n\nobserve('#js-spoofed-commit-warning-trigger', {\n  add: showSpoofCommitBanner,\n})\n","import {controller, target, targets} from '@github/catalyst'\nimport {debounce} from '@github/mini-throttle/decorators'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {fire} from 'delegated-events'\n\nimport {replaceState} from '@github-ui/browser-history-state'\n\n@controller\nclass BranchFilterElement extends HTMLElement {\n  @target field: HTMLInputElement\n  @target result: Element\n  @target allFilter: Element\n  @targets filters: Element[]\n  abortSearch: AbortController | null = null\n  originalSelectedItem: Element | null = null\n\n  submit(event: Event) {\n    event.preventDefault()\n  }\n\n  resetField(event: KeyboardEvent) {\n    if (eventToHotkeyString(event) !== 'Escape') return\n\n    const hadValue = this.field.value.trim()\n    this.field.value = ''\n    if (hadValue) {\n      this.search()\n    }\n  }\n\n  reset() {\n    this.field.focus()\n    this.field.value = ''\n    fire(this.field, 'input')\n  }\n\n  get activeFilter(): Element | null {\n    return this.filters.find(el => el.classList.contains('selected')) ?? null\n  }\n\n  @debounce(100)\n  async search(): Promise<void> {\n    if (!this.originalSelectedItem) {\n      this.originalSelectedItem = this.activeFilter\n    }\n\n    const hasQuery = this.field.value.trim().length > 0\n    const url = queryUrl(this.field)\n\n    this.classList.toggle('is-search-mode', hasQuery)\n    this.classList.add('is-loading')\n\n    for (const el of this.filters) {\n      el.classList.remove('selected')\n    }\n\n    if (hasQuery) {\n      this.allFilter.classList.add('selected')\n    } else if (this.originalSelectedItem) {\n      this.originalSelectedItem.classList.add('selected')\n      this.originalSelectedItem = null\n    }\n\n    this.abortSearch?.abort()\n    const {signal} = (this.abortSearch = new AbortController())\n    try {\n      const fragment = await fetchSafeDocumentFragment(document, url, {signal})\n      replaceState(null, '', url)\n      this.result.textContent = ''\n      this.result.appendChild(fragment)\n    } catch {\n      // Do nothing.\n    }\n    if (signal.aborted) return\n    this.classList.remove('is-loading')\n  }\n}\n\nfunction queryUrl(field: HTMLInputElement | HTMLTextAreaElement): string {\n  const form = field.form!\n  const value = field.value.trim()\n  if (value) {\n    const url = new URL(form.action, window.location.origin)\n    const params = new URLSearchParams(url.search.slice(1))\n    const utf8 = form.elements.namedItem('utf8')\n    if (utf8 instanceof HTMLInputElement) {\n      params.append('utf8', utf8.value)\n    }\n    params.append('query', value)\n    url.search = params.toString()\n    return url.toString()\n  }\n\n  return form.getAttribute('data-reset-url')!\n}\n","import {controller, target} from '@github/catalyst'\nimport type {ModalDialogElement} from '@primer/view-components/app/components/primer/alpha/modal_dialog'\nimport {announce} from '@github-ui/aria-live'\n\n@controller\nclass BranchFilterItemElement extends HTMLElement {\n  @target destroyButton: HTMLButtonElement | null\n  @target restoreButton: HTMLButtonElement | null\n  @target spinner: SVGElement\n\n  closeHandler = () => this.handleDialogClose()\n  cancelHandler = () => this.handleDialogCancel()\n\n  get branch(): string {\n    return this.getAttribute('branch')!\n  }\n\n  get branches(): BranchFilterItemElement[] {\n    const container = this.closest('branch-filter')!\n    const rows = container.querySelectorAll<BranchFilterItemElement>('branch-filter-item')\n    return Array.from(rows).filter(el => el.branch === this.branch)\n  }\n\n  get dialogBodyPath(): string {\n    return this.getAttribute('dialog-body-path')!\n  }\n\n  get destroyDialog(): ModalDialogElement | HTMLDialogElement {\n    const container = this.closest('branch-filter')!\n    return container.querySelector<ModalDialogElement | HTMLDialogElement>('modal-dialog, dialog')!\n  }\n\n  loading(load: boolean) {\n    for (const el of this.branches) {\n      if (load) {\n        el.spinner.removeAttribute('hidden')\n      } else {\n        el.spinner.setAttribute('hidden', 'true')\n      }\n      if (el.destroyButton) {\n        el.destroyButton.hidden = load\n      }\n    }\n  }\n\n  set mode(value: 'restore' | 'destroy') {\n    for (const el of this.branches) {\n      el.classList.toggle('Details--on', value === 'restore')\n    }\n  }\n\n  async restore(event: Event) {\n    event.preventDefault()\n    this.loading(true)\n    const form = event.target as HTMLFormElement\n\n    let response\n    try {\n      response = await fetch(form.action, {\n        method: form.method,\n        body: new FormData(form),\n        headers: {'X-Requested-With': 'XMLHttpRequest'},\n      })\n    } catch {\n      // Ignore network errors\n    } finally {\n      if (!response || !response.ok) location.reload()\n      this.loading(false)\n    }\n\n    this.mode = 'destroy'\n\n    setTimeout(() => this.destroyButton?.focus(), 1)\n  }\n\n  async destroy(event: Event) {\n    event.preventDefault()\n    this.loading(true)\n    this.disableAllDeleteButtons(true)\n\n    let dialogBodyResponse: Response | undefined\n    try {\n      dialogBodyResponse = await fetch(this.dialogBodyPath)\n    } catch {\n      // Ignore network errors\n    }\n\n    if (!dialogBodyResponse || !dialogBodyResponse.ok) {\n      this.displayServerError(true, dialogBodyResponse?.status === 404)\n      this.disableAllDeleteButtons(false)\n      this.loading(false)\n      return\n    }\n\n    this.displayServerError(false)\n    const body = await dialogBodyResponse.text()\n\n    if (body) {\n      this.setUpDialog(body)\n      this.loading(false)\n      if (this.destroyDialog instanceof HTMLDialogElement) {\n        this.destroyDialog.showModal()\n      } else {\n        this.destroyDialog.show()\n      }\n      this.disableAllDeleteButtons(false)\n    } else {\n      this.disableAllDeleteButtons(false)\n      await this.confirmDeletion()\n    }\n  }\n\n  async confirmDeletion() {\n    this.loading(true)\n    this.destroyDialog.close()\n\n    const form = this.destroyButton!.closest('form')!\n\n    let response: Response | undefined\n    try {\n      response = await fetch(form.action, {\n        method: form.method,\n        body: new FormData(form),\n        headers: {'X-Requested-With': 'XMLHttpRequest'},\n      })\n    } catch {\n      // Ignore network errors\n    }\n\n    if (!response || !response.ok) {\n      this.displayServerError(true, response?.status === 404)\n      this.loading(false)\n      return\n    }\n\n    // eslint-disable-next-line i18n-text/no-en\n    announce(`Branch ${this.branch} deleted`)\n    this.loading(false)\n    this.mode = 'restore'\n\n    setTimeout(() => this.restoreButton?.focus(), 1)\n  }\n\n  private setUpDialog(body: string) {\n    const destroyDialog = this.destroyDialog\n    destroyDialog.querySelector('.js-delete-dialog-body')!.innerHTML = body\n    destroyDialog.addEventListener('close', this.closeHandler)\n    destroyDialog.addEventListener('cancel', this.cancelHandler)\n  }\n\n  private handleDialogClose() {\n    this.removeDialogEventListeners()\n    this.confirmDeletion()\n  }\n\n  private handleDialogCancel() {\n    this.removeDialogEventListeners()\n    setTimeout(() => this.destroyButton?.focus(), 1)\n  }\n\n  private removeDialogEventListeners() {\n    const destroyDialog = this.destroyDialog\n    destroyDialog.removeEventListener('close', this.closeHandler)\n    destroyDialog.removeEventListener('cancel', this.cancelHandler)\n  }\n\n  disableAllDeleteButtons(disable: boolean) {\n    for (const btn of document.querySelectorAll<HTMLButtonElement>('.js-branch-delete-button')) {\n      btn.disabled = disable\n      if (disable) {\n        btn.classList.add('disabled')\n      } else {\n        btn.classList.remove('disabled')\n      }\n    }\n  }\n\n  private displayServerError(display: boolean, is404 = false) {\n    const errorDiv: HTMLElement = document.querySelector('.js-branch-delete-error')!\n    const warningDiv: HTMLElement = document.querySelector('.js-branch-delete-warning')!\n    if (display) {\n      if (is404) {\n        warningDiv.querySelector('.js-branch-delete-warning-name')!.textContent = this.branch\n        warningDiv.hidden = false\n      } else {\n        errorDiv.querySelector('.js-branch-delete-error-name')!.textContent = this.branch\n        errorDiv.hidden = false\n      }\n    } else {\n      errorDiv.hidden = true\n      warningDiv.hidden = true\n    }\n  }\n}\n","import {fromEvent} from '@github-ui/subscription'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nobserve('.repository-import', {\n  subscribe: el =>\n    fromEvent(el, 'socket:message', function (event: Event) {\n      const data = (event as CustomEvent).detail.data\n      if (data.redirect_to) {\n        document.location.href = data.redirect_to\n        event.stopImmediatePropagation()\n      }\n    }),\n})\n\non('change', 'input.js-repository-import-lfs-opt', function ({currentTarget}) {\n  const percentage = parseInt(currentTarget.getAttribute('data-percent-used') || '')\n  const lfsContainer = currentTarget.closest<HTMLElement>('.js-repository-import-lfs-container')!\n  const storageUsed = currentTarget.getAttribute('data-used') || ''\n\n  /* eslint-disable-next-line github/no-d-none */\n  lfsContainer\n    .querySelector<HTMLElement>('.js-repository-import-lfs-warn')!\n    .classList.toggle('d-none', !(percentage > 100))\n  lfsContainer.querySelector<HTMLElement>('.js-usage-bar')!.classList.toggle('exceeded', percentage >= 100)\n  lfsContainer.querySelector<HTMLElement>('.js-usage-bar')!.setAttribute('aria-label', `${percentage}%`)\n  lfsContainer.querySelector<HTMLElement>('.js-repository-import-lfs-progress')!.style.width = `${percentage}%`\n  lfsContainer.querySelector<HTMLElement>('span.js-usage-text')!.textContent = storageUsed\n})\n\n// TODO Replace with data-replace-remote-form behavior.\nremoteForm('.js-repository-import-author-form', async function (form, wants) {\n  const response = await wants.html()\n  const selectedAuthor = form.closest<HTMLElement>('.js-repository-import-author')!\n  selectedAuthor.replaceWith(response.html)\n})\n\non('click', '.js-repository-import-projects-cancel-button', function () {\n  const form = document.querySelector<HTMLFormElement>('.js-repository-import-projects-cancel-form')!\n  requestSubmit(form)\n})\n","import {fromEvent} from '@github-ui/subscription'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nobserve('.js-branch-merge-queue-link', {\n  subscribe: mergeQueueLink =>\n    fromEvent(mergeQueueLink, 'socket:message', async function (event: Event) {\n      const newCount = (event as CustomEvent).detail.data.queue_entries_count\n      const singularMessage = (mergeQueueLink as HTMLElement).getAttribute('data-singular-message')\n      const pluralMessage = (mergeQueueLink as HTMLElement).getAttribute('data-plural-message')\n\n      if (newCount === '1') {\n        ;(mergeQueueLink as HTMLElement).textContent = `${newCount} ${singularMessage}`\n      } else {\n        ;(mergeQueueLink as HTMLElement).textContent = `${newCount} ${pluralMessage}`\n      }\n    }),\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {onInput} from '@github-ui/onfocus'\n\nlet changedPrivacyManually = false\nconst urlSearchParams = new URLSearchParams(window.location.search)\nconst profileReadmeParam = urlSearchParams.get('profile_readme')\n\nfunction handleOwnerChange() {\n  const name = document.querySelector<HTMLElement>('.js-repo-name')!\n  // Trigger auto-check to ensure repo name is available under the new org selected\n  fire(name, 'input')\n\n  const selectedOwner = document.querySelector<HTMLElement>('.js-owner-container [aria-checked=\"true\"]')!\n\n  const allowPublicRepos = selectedOwner.getAttribute('data-org-allow-public-repos') !== 'false'\n  const publicRadio = document.querySelector<HTMLInputElement>('.js-privacy-toggle[value=public]')!\n  const publicLabel = document.querySelector<HTMLElement>('.js-privacy-toggle-label-public')\n  const publicDescription = document.querySelector<HTMLElement>('.js-public-description')\n  const publicRestrictedByPolicyDescription = document.querySelector<HTMLElement>(\n    '.js-public-restricted-by-policy-description',\n  )\n  enableDisableRepoType(\n    allowPublicRepos,\n    publicRadio,\n    publicLabel,\n    publicDescription,\n    publicRestrictedByPolicyDescription,\n  )\n\n  const businessId = selectedOwner.getAttribute('data-business-id')\n  const internalRadio = updateInternalDiv(businessId, selectedOwner)\n\n  const allowPrivateRepos = selectedOwner.getAttribute('data-org-allow-private-repos') !== 'false'\n  const privateRadio = document.querySelector<HTMLInputElement>('.js-privacy-toggle[value=private]')!\n  const privateLabel = document.querySelector<HTMLElement>('.js-privacy-toggle-label-private')\n  const privateDescription = document.querySelector<HTMLElement>('.js-private-description')\n  const privateRestrictedByPolicyDescription = document.querySelector<HTMLElement>(\n    '.js-private-restricted-by-policy-description',\n  )\n  enableDisableRepoType(\n    allowPrivateRepos,\n    privateRadio,\n    privateLabel,\n    privateDescription,\n    privateRestrictedByPolicyDescription,\n  )\n\n  checkOwnerSelected()\n\n  // Display upgrade/upsell for private repos when relevant\n  hideOrgUpgradeLinks()\n  const privateRestrictedByPlan = selectedOwner.getAttribute('data-org-private-restricted-by-plan') !== 'false'\n  const upgradePrivateDescription = document.querySelector<HTMLElement>('.js-upgrade-private-description')\n  const displayUpsell = selectedOwner.getAttribute('data-org-show-upgrade') !== 'false'\n  const orgName = selectedOwner.getAttribute('data-org-name')\n  const orgUpgradeLink = orgName ? document.querySelector<HTMLElement>(`a[data-upgrade-link=\"${orgName}\"]`) : null\n  const askOwnerMessage = document.querySelector<HTMLElement>('.js-ask-owner-message')\n  if (allowPrivateRepos || !privateRestrictedByPlan) {\n    if (upgradePrivateDescription) upgradePrivateDescription.hidden = true\n    if (orgUpgradeLink) orgUpgradeLink.hidden = true\n    if (askOwnerMessage) askOwnerMessage.hidden = true\n  } else {\n    if (privateRestrictedByPolicyDescription) privateRestrictedByPolicyDescription.hidden = privateRestrictedByPlan\n    if (upgradePrivateDescription) upgradePrivateDescription.hidden = false\n    if (orgUpgradeLink) orgUpgradeLink.hidden = !displayUpsell\n    if (askOwnerMessage) askOwnerMessage.hidden = displayUpsell\n  }\n\n  updateRepoDestinationMessageFromSelectedOwner(selectedOwner)\n\n  // Handle default branch name based on owner setting\n  const defaultNewRepoBranch = selectedOwner.getAttribute('data-default-new-repo-branch')\n  const defaultNewRepoBranchDescription = document.querySelector<HTMLElement>('.js-new-repo-owner-default-branch')\n  if (defaultNewRepoBranchDescription) {\n    defaultNewRepoBranchDescription.textContent = defaultNewRepoBranch\n  }\n  const settingsLinkPrefix = selectedOwner.getAttribute('data-owner-settings-link-prefix')\n  const settingsLinkPrefixDescription = document.querySelector<HTMLElement>('.js-new-repo-owner-settings-link-prefix')\n  if (settingsLinkPrefixDescription) {\n    settingsLinkPrefixDescription.textContent = settingsLinkPrefix\n  }\n  const settingsUrl = selectedOwner.getAttribute('data-owner-settings-url')\n  const settingsLinkContainer = document.querySelector<HTMLElement>(\n    '.js-repo-owner-default-branch-settings-link-container',\n  )\n  const orgSettingsInfoContainer = document.querySelector<HTMLElement>(\n    '.js-org-repo-owner-default-branch-settings-info',\n  )\n  if (settingsUrl) {\n    const settingsLink = document.querySelector<HTMLAnchorElement>('.js-new-repo-owner-settings-link')\n    if (settingsLink) {\n      settingsLink.href = settingsUrl\n      if (settingsLinkContainer) {\n        settingsLinkContainer.hidden = false\n      }\n    }\n    if (orgSettingsInfoContainer) {\n      orgSettingsInfoContainer.hidden = true\n    }\n  } else if (settingsLinkContainer) {\n    settingsLinkContainer.hidden = true\n    if (orgSettingsInfoContainer) {\n      const ownerIsAnOrg = selectedOwner.hasAttribute('data-viewer-is-org-admin')\n      orgSettingsInfoContainer.hidden = !ownerIsAnOrg\n    }\n  }\n\n  // Handle trade restrictions on private repos\n  const tradeRestricted = selectedOwner.getAttribute('data-org-show-trade-controls') === 'true'\n  const viewerIsOrganizationAdmin = selectedOwner.getAttribute('data-viewer-is-org-admin') === 'true'\n  const individualTradeRestricted = selectedOwner.getAttribute('data-user-show-trade-controls') === 'true'\n  const orgRestrictedWithoutPrivateRepos = tradeRestricted && !allowPrivateRepos\n  const tradeControlsDescription = document.querySelector<HTMLElement>('.js-trade-controls-description')\n  const individualTradeControlsDescription = document.querySelector<HTMLElement>(\n    '.js-individual-trade-controls-description',\n  )\n  // Hide all the plan/org policy stuff if there is a trade restriction in place.\n  if (individualTradeRestricted || orgRestrictedWithoutPrivateRepos) {\n    const showPolicyTextForOrgMember =\n      !individualTradeRestricted && !viewerIsOrganizationAdmin && orgRestrictedWithoutPrivateRepos\n\n    if (privateRestrictedByPolicyDescription) {\n      // we are are making an exception here to show the policy text for org non-admins\n      if (showPolicyTextForOrgMember) {\n        privateRestrictedByPolicyDescription.hidden = false\n      } else {\n        privateRestrictedByPolicyDescription.hidden = true\n      }\n    }\n\n    // Hide/Disable the rest\n    privateRadio.disabled = true\n    if (privateDescription) privateDescription.hidden = true\n    if (upgradePrivateDescription) upgradePrivateDescription.hidden = true\n    if (orgUpgradeLink) orgUpgradeLink.hidden = true\n    if (askOwnerMessage) askOwnerMessage.hidden = true\n  } else {\n    // Hide all previously displayed trade restriction texts\n    if (tradeControlsDescription) tradeControlsDescription.hidden = true\n    if (individualTradeControlsDescription) individualTradeControlsDescription.hidden = true\n  }\n  // If both individual and org are restricted, prefer the individual message.\n  // If only the org is restricted, show that.\n  if (individualTradeRestricted) {\n    if (tradeControlsDescription) tradeControlsDescription.hidden = true\n    if (individualTradeControlsDescription) individualTradeControlsDescription.hidden = false\n  } else if (orgRestrictedWithoutPrivateRepos) {\n    if (tradeControlsDescription) {\n      if (individualTradeControlsDescription) individualTradeControlsDescription.hidden = true\n      // we only want to show the OFAC text to org admins\n      if (viewerIsOrganizationAdmin) {\n        tradeControlsDescription.hidden = false\n      } else {\n        tradeControlsDescription.hidden = true\n      }\n    }\n  }\n\n  ensureOneRadioIsSelected(selectedOwner, publicRadio, internalRadio, privateRadio)\n  togglePermissionFields(selectedOwner.getAttribute('data-permission') === 'yes')\n  toggleRepoNameAutoCheck(selectedOwner)\n  handlePrivacyChange()\n\n  const quickInstallContainer = document.querySelector('.js-quick-install-container')\n  if (quickInstallContainer) {\n    const quickInstallDivider = quickInstallContainer.querySelector<HTMLElement>('.js-quick-install-divider')!\n    quickInstallDivider.hidden = true\n    const owner = document.querySelector<HTMLInputElement>('input[name=owner]:checked')!\n    const ownerParent = owner.parentElement\n    if (ownerParent) {\n      const installList = ownerParent.querySelector('.js-quick-install-list-template')\n      if (installList instanceof HTMLTemplateElement) {\n        const quickInstallDestination = quickInstallContainer.querySelector<HTMLElement>('.js-account-apps')!\n        quickInstallDestination.textContent = ''\n        quickInstallDestination.append(installList.content.cloneNode(true))\n        if (installList.children.length > 0) {\n          quickInstallDivider.hidden = false\n        }\n      }\n    }\n  }\n\n  validate()\n}\n\nfunction updateRepoDestinationMessage(visibility: string | undefined, selectedOwner: HTMLElement) {\n  const orgName = selectedOwner.getAttribute('data-org-name')\n  const enterpriseName = selectedOwner.getAttribute('data-business-name')\n  const isUserOrOrg = selectedOwner.getAttribute('data-is-user-or-org') === 'true'\n\n  const creatingOrgMessage = orgName ? `the ${orgName} organization` : 'your personal account'\n  const creatingEnterpriseMessage = enterpriseName ? ` (${enterpriseName})` : ''\n\n  const repoDestinationMessage = (creatingRepoPreamble: string) =>\n    isUserOrOrg\n      ? `${creatingRepoPreamble} in ${creatingOrgMessage}${creatingEnterpriseMessage}.`\n      : `${creatingRepoPreamble}.`\n\n  const repoDestinationMessageElement = document.querySelector<HTMLInputElement>('.js-new-repo-destination-message')\n  if (repoDestinationMessageElement) {\n    const visibilityMessage = visibility ? (visibility === 'internal' ? 'n internal' : ` ${visibility}`) : ''\n\n    repoDestinationMessageElement.textContent = repoDestinationMessage(\n      // eslint-disable-next-line i18n-text/no-en\n      `You are creating a${visibilityMessage} repository`,\n    )\n    return\n  }\n}\n\nfunction updateRepoDestinationMessageFromVisibility(visibility: string) {\n  const selectedOwner = document.querySelector<HTMLElement>('.js-owner-container [aria-checked=\"true\"]')!\n  updateRepoDestinationMessage(visibility, selectedOwner)\n}\n\nfunction updateRepoDestinationMessageFromSelectedOwner(selectedOwner: HTMLElement) {\n  const radio = document.querySelector<HTMLInputElement>('.js-privacy-toggle:checked')\n  updateRepoDestinationMessage(radio?.value, selectedOwner)\n}\n\nfunction enableDisableRepoType(\n  enabled: boolean,\n  radio: HTMLInputElement | null,\n  label: HTMLElement | null,\n  description: HTMLElement | null,\n  restrictedDescription: HTMLElement | null,\n) {\n  if (enabled) {\n    if (radio) radio.disabled = false\n    if (label) label.classList.remove('color-fg-muted')\n    if (description) description.hidden = false\n    if (restrictedDescription) restrictedDescription.hidden = true\n  } else {\n    if (radio) radio.disabled = true\n    if (label) label.classList.add('color-fg-muted')\n    if (description) description.hidden = true\n    if (restrictedDescription) restrictedDescription.hidden = false\n  }\n}\n\nfunction checkOwnerSelected() {\n  const selectedOwnerElement = getSelectedOwnerElement()\n  if (!selectedOwnerElement) {\n    return\n  }\n\n  const ownerFormGroup = selectedOwnerElement.closest('.form-group')\n  if (!ownerFormGroup) {\n    return\n  }\n\n  const repoNameInput = getRepoNameInput()\n  if (!repoNameInput) {\n    return\n  }\n\n  const ownerSelected = selectedOwnerElement.getAttribute('data-is-user-or-org') === 'true'\n  const isOwnerFormFocused = ownerFormGroup.querySelector('#repository-owner') === document.activeElement\n\n  ownerSelected || !repoNameInput.value || isOwnerFormFocused\n    ? ownerFormGroup.classList.remove('errored')\n    : ownerFormGroup.classList.add('errored')\n}\n\nfunction hideOrgUpgradeLinks() {\n  const visibleOrgUpgradeLinks = document.querySelectorAll<HTMLElement>('.js-org-upgrade-link:not([hidden=\"\"]')\n  for (const visibleOrgUpgradeLink of visibleOrgUpgradeLinks) {\n    visibleOrgUpgradeLink.hidden = true\n  }\n}\n\nfunction getSelectedOwnerElement() {\n  return document.querySelector<HTMLElement>('.js-owner-container [aria-checked=\"true\"]')\n}\n\nfunction getRepoNameInput() {\n  return document.querySelector<HTMLInputElement>('.js-owner-reponame .js-repo-name')\n}\n\nfunction ensureOneRadioIsSelected(\n  selectedOwner: HTMLElement,\n  publicRadio: HTMLInputElement | null,\n  internalRadio: HTMLInputElement | null,\n  privateRadio: HTMLInputElement,\n) {\n  // Determine the best default visibility to select based on the org's default and what's enabled.\n  let selectRadio = null\n  if (selectedOwner.getAttribute('data-default') === 'private' && privateRadio && !privateRadio.disabled)\n    selectRadio = privateRadio\n  else if (selectedOwner.getAttribute('data-default') === 'internal' && internalRadio && !internalRadio.disabled)\n    selectRadio = internalRadio\n  else if (publicRadio && !publicRadio.disabled) selectRadio = publicRadio\n  else if (internalRadio && !internalRadio.disabled) selectRadio = internalRadio\n\n  if (privateRadio && !privateRadio.disabled && profileReadmeParam === 'member') selectRadio = privateRadio\n  else if (publicRadio && !publicRadio.disabled && profileReadmeParam) selectRadio = publicRadio\n\n  // Not possible because orgs with no enabled visibilities can't be selected, but flow doesn't know that so here we are.\n  if (!selectRadio) return\n\n  // Is a disabled option currently selected?\n  const disabledSelected =\n    (publicRadio && publicRadio.disabled && publicRadio.checked) ||\n    (privateRadio.disabled && privateRadio.checked) ||\n    (internalRadio && internalRadio.disabled && internalRadio.checked)\n\n  // Are none of the visible options currently selected?\n  const noneSelected =\n    (!publicRadio || !publicRadio.checked) && (!internalRadio || !internalRadio.checked) && !privateRadio.checked\n\n  // If the user hasn't manually changed visibility or we're in an invalid state, either because\n  //  nothing is selected or a disabled option is selected, select the best available default.\n  if (changedPrivacyManually === false || disabledSelected === true || noneSelected === true) {\n    selectRadio.checked = true\n    fire(selectRadio, 'change')\n  }\n}\n\n// Display only the currently selected org's internal repos div, if any, and\n// update its enabled/disabled state and labels.\nfunction updateInternalDiv(businessId: string | null, selectedOwner: HTMLElement): HTMLInputElement | null {\n  let internalSelected = false\n  // Hide all internal divs\n  const divs = document.querySelectorAll<HTMLElement>('.js-new-repo-internal-visibility')\n  for (const div of divs) {\n    div.hidden = true\n    const internalRadio = div.querySelector('.js-privacy-toggle[value=internal]')\n    // Preserve selection of Internal if we're hiding one and showing another.\n    if (internalRadio instanceof HTMLInputElement && internalRadio.checked) internalSelected = true\n  }\n\n  if (businessId) {\n    const selectedDiv = document.querySelector<HTMLElement>(`#new-repo-internal-visibility-${businessId}`)\n    if (selectedDiv) {\n      selectedDiv.hidden = false\n\n      const label = selectedDiv.querySelector('.js-privacy-toggle-label-internal')\n      const description = selectedDiv.querySelector<HTMLElement>('.js-internal-description')\n      const restrictedByPolicyDescription = selectedDiv.querySelector<HTMLElement>(\n        '.js-internal-restricted-by-policy-description',\n      )\n\n      const internalRadio = selectedDiv.querySelector('.js-privacy-toggle[value=internal]')\n      if (internalRadio instanceof HTMLInputElement) {\n        if (selectedOwner.getAttribute('data-org-allow-internal-repos') === 'false') {\n          internalRadio.disabled = true\n          if (label) label.classList.add('color-fg-muted')\n          if (description) description.hidden = true\n          if (restrictedByPolicyDescription) restrictedByPolicyDescription.hidden = false\n        } else {\n          // Preserve selection of Internal if we're hiding one and showing another.\n          if (internalSelected) {\n            internalRadio.checked = true\n            fire(internalRadio, 'change')\n          }\n          internalRadio.disabled = false\n          if (label) label.classList.remove('color-fg-muted')\n          if (description) description.hidden = false\n          if (restrictedByPolicyDescription) restrictedByPolicyDescription.hidden = true\n        }\n        return internalRadio\n      }\n    }\n  }\n  return null\n}\n\nfunction toggleRepoNameAutoCheck(selectedOwner: HTMLElement) {\n  const autoCheck = document.querySelector<HTMLInputElement>('auto-check.js-repo-name-autocheck')!\n\n  const src = autoCheck.getAttribute('src')\n  const disabledSrc = autoCheck.getAttribute('disabled-src')\n\n  const isOwnerSelected = selectedOwner.getAttribute('data-is-user-or-org') === 'true'\n  if (isOwnerSelected) {\n    if (disabledSrc) autoCheck.setAttribute('src', disabledSrc)\n    autoCheck.removeAttribute('disabled-src')\n  } else {\n    if (src) autoCheck.setAttribute('disabled-src', src)\n    autoCheck.removeAttribute('src')\n  }\n}\n\nfunction togglePermissionFields(hasPermission: boolean) {\n  for (const field of document.querySelectorAll<HTMLElement>('.js-with-permission-fields')) {\n    field.hidden = !hasPermission\n  }\n  for (const field of document.querySelectorAll<HTMLElement>('.js-without-permission-fields')) {\n    field.hidden = hasPermission\n  }\n\n  const erroredEl = document.querySelector<HTMLElement>('.errored')\n  const warnEl = document.querySelector<HTMLElement>('dl.warn')\n  if (erroredEl) erroredEl.hidden = !hasPermission\n  if (warnEl) warnEl.hidden = !hasPermission\n}\n\nfunction handlePrivacyChange(event?: Event) {\n  const radio =\n    (event?.target as HTMLInputElement | null) || document.querySelector<HTMLInputElement>('.js-privacy-toggle:checked')\n\n  if (!radio) {\n    return\n  }\n\n  updateRepoDestinationMessageFromVisibility(radio.value)\n\n  validate()\n}\n\nfunction validate() {\n  const form = document.querySelector<HTMLElement>('.js-repo-form')!\n  const repoOwner = form.querySelector('.js-repository-owner-choice:checked')\n  const repoName = form.querySelector('.js-repo-name')\n  const repoUrl = form.querySelector('.js-repo-url')\n\n  let valid = repoUrl ? !repoUrl.classList.contains('is-autocheck-errored') : true\n\n  // If the repo already exists (e.g. importing into an existing empty repo) then there's no owner on the form to check\n  const ownerValid = !!document.querySelector('.js-page-repo-persisted') || !!repoOwner\n\n  valid = valid && ownerValid\n\n  if (valid && repoName) {\n    valid = repoName.classList.contains('is-autocheck-successful')\n  }\n\n  const submit = form.querySelector<HTMLButtonElement>('button[type=submit]')!\n  submit.disabled = !valid\n}\n\nfunction toggleDefaultBranchInfo(checkbox: HTMLInputElement) {\n  const container = checkbox.closest<HTMLElement>('form')!\n  const defaultBranchInfo = container.querySelector<HTMLElement>('.js-new-repo-default-branch-info')\n  if (!defaultBranchInfo) {\n    return\n  }\n\n  const checkedCheckboxes = container.querySelectorAll<HTMLInputElement>(\n    '.js-toggle-new-repo-default-branch-info:checked',\n  )\n  const anyChecked = checkedCheckboxes.length > 0\n\n  // Hide the info about what the default branch will be called if no\n  // files are getting added for the user upon repo creation.\n  defaultBranchInfo.hidden = !anyChecked\n}\n\nobserve('.js-page-new-repo', function () {\n  const ownerContainer = document.querySelector<HTMLElement>('.js-owner-container')\n  if (!ownerContainer) {\n    return\n  }\n\n  focusFirstFormField()\n  handleOwnerChange()\n})\n\nconst focusFirstFormField = () => {\n  const form = document.querySelector<HTMLElement>('.js-repo-form')!\n  const repoUrlInput = form.querySelector<HTMLInputElement>('.js-repo-url')\n  if (repoUrlInput) {\n    repoUrlInput.focus()\n    return\n  }\n  const templateSelect = form.querySelector<HTMLElement>('.js-template-repository-select')\n  if (templateSelect) {\n    templateSelect.focus()\n    return\n  }\n  const ownerSelect = form.querySelector<HTMLElement>('.js-owner-select')\n  if (ownerSelect) ownerSelect.focus()\n}\n\non('focusout', '#repository-owner', function () {\n  checkOwnerSelected()\n})\n\non('click', '.js-reponame-suggestion', function (event) {\n  const field = document.querySelector<HTMLInputElement>('.js-repo-name')!\n  field.value = event.currentTarget.textContent!\n  checkOwnerSelected()\n  fire(field, 'input', false)\n})\n\non('click', '.js-use-pages-url', function (e) {\n  const checkbox = e.currentTarget as HTMLInputElement\n  const input = document.querySelector<HTMLInputElement>('.js-pages-url-input')!\n  const pageUrl = document.getElementById('page-url')!\n\n  input.readOnly = checkbox.checked\n  input.value = pageUrl.textContent!\n  if (checkbox.checked) {\n    input.classList.add('color-fg-subtle')\n    input.classList.add('color-bg-subtle')\n    input.classList.remove('color-bg-default')\n    input.classList.remove('color-fg-default')\n  } else {\n    input.classList.remove('color-fg-subtle')\n    input.classList.remove('color-bg-subtle')\n    input.classList.add('color-fg-default')\n    input.classList.add('color-bg-default')\n  }\n})\n\non('click', '.js-privacy-toggle', function () {\n  changedPrivacyManually = true\n})\n\non('change', '.js-privacy-toggle', handlePrivacyChange)\non('details-menu-selected', '.js-owner-container', handleOwnerChange, {capture: true})\n\nconst renderOrgProfileHint = (event: Event | null) => {\n  const orgMessageElement = document.querySelector<HTMLElement>('.js-org-profile')\n  if (orgMessageElement) {\n    const ownerInput = document.querySelector<HTMLInputElement>(\n      '.js-owner-container input.js-repository-owner-is-org:checked',\n    )\n    const input = (event?.target as HTMLInputElement) || document.querySelector<HTMLInputElement>('.js-repo-name')\n    const hideMessage = !(ownerInput && input.value.toLowerCase() === '.github')\n    orgMessageElement.hidden = hideMessage\n    const nameSuggestion = document.querySelector<HTMLElement>('#repo-name-suggestion')\n    if (nameSuggestion) nameSuggestion.hidden = !hideMessage\n  }\n}\n\nconst renderOrgPrivateProfileHint = (event: Event | null) => {\n  const orgMessageElement = document.querySelector<HTMLElement>('.js-org-private-profile')\n  if (orgMessageElement) {\n    const ownerInput = document.querySelector<HTMLInputElement>(\n      '.js-owner-container input.js-repository-owner-is-org:checked',\n    )\n    const input = (event?.target as HTMLInputElement) || document.querySelector<HTMLInputElement>('.js-repo-name')\n    const hideMessage = !(ownerInput && input.value.toLowerCase() === '.github-private')\n    orgMessageElement.hidden = hideMessage\n    const nameSuggestion = document.querySelector<HTMLElement>('#repo-name-suggestion')\n    if (nameSuggestion) nameSuggestion.hidden = !hideMessage\n  }\n}\n\nconst renderPersonalProfileHint = (event: Event | null) => {\n  const messageElement = document.querySelector<HTMLElement>('.js-personal')\n  if (messageElement) {\n    const ownerInput = document.querySelector<HTMLInputElement>(\n      '.js-owner-container input.js-repository-owner-is-viewer',\n    )\n    const input = (event?.target as HTMLInputElement) || document.querySelector<HTMLInputElement>('.js-repo-name')\n    const hideMessage = !(\n      ownerInput &&\n      ownerInput.checked &&\n      ownerInput.defaultValue.toLowerCase() === input.value.toLowerCase()\n    )\n    messageElement.hidden = hideMessage\n    const nameSuggestion = document.querySelector<HTMLElement>('#repo-name-suggestion')\n    if (nameSuggestion) nameSuggestion.hidden = !hideMessage\n  }\n}\n\n// When the user is filling in the name of their repo, we give them\n// specific hints if they're creating their profile repo or their\n// org's .github repo\nonInput('.js-owner-reponame .js-repo-name', function (event) {\n  renderPersonalProfileHint(event)\n  renderOrgProfileHint(event)\n  renderOrgPrivateProfileHint(event)\n  checkOwnerSelected()\n\n  validate()\n})\n\non('auto-check-send', '.js-repo-name-auto-check', function (event) {\n  const input = event.currentTarget as HTMLInputElement\n  const form = input.form!\n  const owner = form.querySelector<HTMLInputElement>('input[name=owner]:checked')!.value\n  event.detail.body.append('owner', owner)\n})\n\n// when the repository name is entered validate the contents\non('auto-check-complete', '.js-repo-name-auto-check', validate)\n\nonInput('.js-repo-url', function (event) {\n  const input = event.target\n  if (!(input instanceof HTMLInputElement)) return\n\n  const formGroup = input.closest('.form-group')\n  if (!(formGroup instanceof HTMLDListElement)) return\n\n  const insecureUrlWarning = document.querySelector<HTMLElement>('.js-insecure-url-warning')!\n  const svnProtocolError = document.querySelector<HTMLElement>('.js-svn-url-error')!\n  const gitProtocolError = document.querySelector<HTMLElement>('.js-git-url-error')!\n\n  const url = input.value.toLowerCase()\n\n  insecureUrlWarning.hidden = !url.startsWith('http://')\n  svnProtocolError.hidden = !url.startsWith('svn://')\n  gitProtocolError.hidden = !url.startsWith('git://')\n\n  if (url.startsWith('svn://') || url.startsWith('git://')) {\n    input.classList.add('is-autocheck-errored')\n    formGroup.classList.add('errored')\n  } else {\n    input.classList.remove('is-autocheck-errored')\n    formGroup.classList.remove('errored')\n  }\n\n  validate()\n})\n\n// Monitor when a menu option is selected for one of the repo\n// initialization options like .gitignore or license.\non('change', '.js-repo-init-setting-menu-option', validate)\n\n// Monitor when repo initialization option for \"Add a README\" is toggled\non('change', '.js-repo-readme', validate)\n\n// Monitor when any of the repo initialization options is toggled so that we can\n// show a message about what the default branch will be if a readme, gitignore,\n// or license file is added.\non('change', '.js-toggle-new-repo-default-branch-info', evt => {\n  const checkbox = evt.currentTarget as HTMLInputElement\n  toggleDefaultBranchInfo(checkbox)\n})\n\nrenderPersonalProfileHint(null)\nrenderOrgProfileHint(null)\nrenderOrgPrivateProfileHint(null)\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nobserve('.js-pulse-contribution-data', (contributionDataContainer: Element) => {\n  loadContributionData(contributionDataContainer)\n})\n\n// Load the given contribution data content\n//\n// diffstatUrl: The url for requesting the diffstat for the repository\nasync function diffstatCall(diffstatUrl: string): Promise<DocumentFragment> {\n  return fetchSafeDocumentFragment(document, diffstatUrl)\n}\n\nasync function loadContributionData(contributionDataContainer: Element): Promise<void> {\n  const diffstatUrl = contributionDataContainer.getAttribute('data-pulse-diffstat-summary-url')\n\n  // Load the HTML we'll need\n  let fragment: DocumentFragment | undefined\n  try {\n    if (diffstatUrl) {\n      fragment = await diffstatCall(diffstatUrl)\n      showContributionData(fragment, contributionDataContainer)\n    }\n  } catch (err) {\n    const blankLoading = contributionDataContainer.querySelector<HTMLElement>('.js-blankslate-loading')!\n    const blankError = contributionDataContainer.querySelector<HTMLElement>('.js-blankslate-error')!\n\n    /* eslint-disable-next-line github/no-d-none */\n    blankLoading.classList.add('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    blankError.classList.remove('d-none')\n  }\n}\n\n// Show the contribution data for the repository\nfunction showContributionData(fragment: DocumentFragment, target: Element): void {\n  target.textContent = ''\n  target.appendChild(fragment)\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {replaceState} from '@github-ui/browser-history-state'\nimport {focusTrap} from '@primer/behaviors'\nimport {announce, announceFromElement} from '@github-ui/aria-live'\n\n// Save a release as a draft.\nexport async function saveDraft(button: HTMLButtonElement): Promise<unknown> {\n  const form = button.form!\n\n  const draftField = form.querySelector<HTMLInputElement>('#release_draft')!\n  draftField.value = '1'\n\n  setState(button, 'saving')\n\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {\n      Accept: 'application/json',\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  })\n  if (!response.ok) {\n    setState(button, 'failed')\n    return\n  }\n  const release = await response.json()\n  setState(button, 'saved')\n  announceFromElement(button)\n  setTimeout(setState, 5000, button, 'default')\n  fire(form, 'release:saved', {release})\n  return release\n}\n\non('change', '.js-releases-marketplace-publish-field', function (event) {\n  processMarketplacePublishCheckbox(event.currentTarget as HTMLInputElement)\n})\n\nobserve('.js-releases-marketplace-publish-field', function (input) {\n  processMarketplacePublishCheckbox(input as HTMLInputElement)\n})\n\nfunction processMarketplacePublishCheckbox(input: HTMLInputElement) {\n  const container = input.closest<HTMLElement>('.js-releases-marketplace-publish-container')!\n  const previewPane = container.querySelector<HTMLElement>('.js-releases-marketplace-publish-preview')!\n\n  if (input.checked) {\n    /* eslint-disable-next-line github/no-d-none */\n    previewPane.classList.remove('d-none')\n  } else {\n    /* eslint-disable-next-line github/no-d-none */\n    previewPane.classList.add('d-none')\n  }\n}\n\non('click', '.js-save-draft', function (event) {\n  const button = event.currentTarget as HTMLButtonElement\n  if (button.disabled) {\n    return\n  }\n  saveDraft(button)\n  event.preventDefault()\n})\n\nfunction setState(el: HTMLButtonElement, state: string) {\n  for (const message of el.querySelectorAll<HTMLElement>('.js-save-draft-button-state')) {\n    message.hidden = message.getAttribute('data-state') !== state\n  }\n  el.disabled = state === 'saving'\n}\n\n// PreReleases cannot be set as latest release.\n// Disable the latest release checkbox if prerelease checkbox is checked\non('click', '.js-prerelease-checkbox', event => {\n  const preReleaseCheckbox = event.currentTarget as HTMLInputElement\n  // hidden input set on pageload for whether this release is stored as latest\n  const isStoredLatest = event.currentTarget\n    .closest<HTMLElement>('form')!\n    .querySelector<HTMLInputElement>('#is_stored_latest')!\n\n  // This input will not be present when FF is off\n  const latestReleaseCheckbox = document.querySelector<HTMLInputElement>('.js-latest-release-checkbox')\n\n  if (latestReleaseCheckbox) {\n    if (preReleaseCheckbox.checked) {\n      latestReleaseCheckbox.checked = false\n      latestReleaseCheckbox.disabled = true\n    } else if (isStoredLatest.value === '1') {\n      latestReleaseCheckbox.checked = true\n      latestReleaseCheckbox.disabled = true\n    } else {\n      latestReleaseCheckbox.disabled = false\n    }\n  }\n})\n\n// When latest release checkbox is checked & disabled on pageload\n// we are editting the release that is stored as latest\nobserve('.js-latest-release-checkbox', function initialize(el) {\n  const latestReleaseCheckbox = el as HTMLInputElement\n  const isStoredLatest = el.closest<HTMLElement>('form')!.querySelector<HTMLInputElement>('#is_stored_latest')!\n\n  const wasCheckedAndDisabled = latestReleaseCheckbox.checked && latestReleaseCheckbox.disabled === true\n\n  // Keep track of whether this release is stored as latest\n  isStoredLatest.value = wasCheckedAndDisabled ? '1' : '0'\n})\n\n// TODO: This can be removed if the form submission reloads the page or fresh\n// form markup is served and replaced in the tree rather than a JSON response.\non('release:saved', '.js-release-form', function (event) {\n  const release = event.detail.release\n  const form = event.currentTarget\n\n  form.setAttribute('action', release.update_url)\n\n  if (release.update_authenticity_token) {\n    // eslint-disable-next-line github/authenticity-token\n    const tokenInput = form.querySelector('input[name=authenticity_token]') as HTMLInputElement\n    tokenInput.value = release.update_authenticity_token\n  }\n\n  replaceState(history.state, document.title, release.edit_url)\n\n  const input = form.querySelector('#release_id') as HTMLInputElement\n  if (!input.value) {\n    input.value = release.id\n    const methodInput = document.createElement('input')\n    methodInput.type = 'hidden'\n    methodInput.name = '_method'\n    methodInput.value = 'put'\n    form.appendChild(methodInput)\n  }\n})\n\n// Publish a release\non('click', '.js-publish-release', function () {\n  document.querySelector<HTMLInputElement>('#release_draft')!.value = '0'\n})\n\n// Tag validations\nfunction setTagWrapperState(state: string) {\n  const wrapper = document.querySelector<HTMLElement>('.js-release-target-wrapper')\n\n  if (wrapper == null) {\n    return\n  }\n\n  setTagState(state)\n\n  switch (state) {\n    case 'valid':\n    case 'invalid':\n    case 'duplicate':\n    case 'branch_exists':\n      wrapper.hidden = true\n      break\n    case 'loading':\n      break\n    default:\n      wrapper.hidden = false\n  }\n\n  for (const status of document.querySelectorAll<HTMLElement>('.js-tag-status-message')) {\n    status.hidden = status.getAttribute('data-state') !== state\n    if (status.getAttribute('data-state') === state) {\n      status.setAttribute('role', 'status')\n    } else {\n      status.removeAttribute('role')\n    }\n  }\n\n  refreshGenerateNotesButton()\n  setGeneratedNotesFetchState('pending')\n}\n\nexport function getTagState() {\n  const tagInput = document.querySelector('.js-release-tag')!\n  return tagInput.getAttribute('data-state')\n}\n\nfunction setTagState(state: string) {\n  const tagInput = document.querySelector('.js-release-tag')!\n  tagInput.setAttribute('data-state', state)\n}\n\nconst lastChecked = new WeakMap()\n\nfunction getTagName(container: ParentNode) {\n  const selectedRadio = container.querySelector<HTMLInputElement>('input[name=\"release[tag_name]\"]:checked')\n  return selectedRadio?.value\n}\n\nexport async function checkTag(tagElement: Element) {\n  const tagValue = getTagName(tagElement)\n  if (!tagValue) {\n    setTagWrapperState('empty')\n    return\n  }\n\n  if (tagValue === lastChecked.get(tagElement)) {\n    return\n  }\n\n  setTagWrapperState('loading')\n  lastChecked.set(tagElement, tagValue)\n\n  const urlStr = tagElement.getAttribute('data-url')!\n  const url = new URL(urlStr, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('tag_name', tagValue)\n  url.search = params.toString()\n\n  type Data = {status: string; release_id: string; url: string}\n  const response = await fetch(url.toString(), {\n    headers: {Accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n  if (!response.ok) {\n    setTagWrapperState('invalid')\n    return\n  }\n  const data: Data = await response.json()\n  if (\n    data.status === 'duplicate' &&\n    parseInt(tagElement.getAttribute('data-existing-id')!) === parseInt(data.release_id)\n  ) {\n    setTagWrapperState('valid')\n  } else {\n    document.querySelector<HTMLElement>('.js-release-tag .js-edit-release-link')!.setAttribute('href', data['url'])\n    setTagWrapperState(data.status)\n  }\n\n  processChangedTag(tagElement)\n}\n\non('click', '.js-generate-release-notes', function (event) {\n  const button = event.currentTarget as HTMLButtonElement\n  if (button.getAttribute('aria-disabled') === 'true') return\n  generateNotes(button)\n})\n\nexport async function generateNotes(button: HTMLButtonElement) {\n  const desiredButtonWidth = button.offsetWidth\n  button.style.width = `${desiredButtonWidth}px`\n  setGeneratedNotesFetchState('loading')\n  button.setAttribute('aria-disabled', 'true')\n\n  const repoUrl = button.getAttribute('data-repo-url')!\n  const notesUrl = `${repoUrl}/releases/notes`\n  const url = new URL(notesUrl, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('commitish', getCommitish())\n  params.append('tag_name', getTagName(document) || '')\n  params.append('previous_tag_name', getPreviousTagName())\n  url.search = params.toString()\n\n  type NotesData = {body: string; commitish: string; previous_tag_name: string; title: string; warning_message: string}\n  const response = await fetch(url.toString(), {\n    headers: {Accept: 'application/json'},\n  })\n\n  if (response.ok) {\n    const data: NotesData = await response.json()\n\n    if (data.commitish === getCommitish()) {\n      const bodyInput = document.getElementById('release_body') as HTMLInputElement\n\n      // Keep any existing body content if present, and append the generated notes to the end\n      // If the content is previously generated and unedited content, we will replace it\n      const existingBody = getNotesTrackingState() === 'generated' ? '' : bodyInput.value.trim()\n      if (existingBody) {\n        bodyInput.value = existingBody.concat('\\n\\n', data.body)\n      } else {\n        bodyInput.value = data.body\n      }\n\n      const titleInput = document.getElementById('release_name') as HTMLInputElement\n      if (!titleInput.value) {\n        titleInput.value = data.title\n      }\n\n      setGeneratedNotesFetchState('succeed')\n      // eslint-disable-next-line i18n-text/no-en\n      announce('Successfully generated release notes')\n\n      setNotesTrackingState(existingBody ? 'generated-and-edited' : 'generated')\n      refreshGenerateNotesButton(true)\n\n      const warningDisplay = document.querySelector<HTMLElement>('.js-release-body-warning')!\n      warningDisplay.textContent = data.warning_message\n      warningDisplay.hidden = !data.warning_message\n    }\n  } else {\n    setGeneratedNotesFetchState('failed')\n    button.setAttribute('aria-disabled', 'false')\n    const data: {error: string} = await response.json()\n    if (data && data.error) {\n      const errorDisplay = document.getElementById('form-error-alert')!\n      errorDisplay.textContent = data.error\n      errorDisplay.hidden = false\n    }\n  }\n}\n\ntype GeneratedNotesFetchState = 'pending' | 'loading' | 'succeed' | 'failed'\nconst generatedNotesFetchStates = ['pending', 'loading', 'succeed', 'failed']\n\nfunction setGeneratedNotesFetchState(newState: GeneratedNotesFetchState) {\n  generatedNotesFetchStates.map((state: string) => {\n    const icon = document.getElementById(`generate-icon-${state}`)\n    const buttonText = document.getElementById(`generate-btn-txt`)\n    if (icon) {\n      if (state === newState) {\n        buttonText && buttonText.setAttribute('hidden', 'true')\n        if (newState === 'succeed' || newState === 'failed') {\n          setTimeout(() => {\n            icon.setAttribute('hidden', 'true')\n            buttonText && buttonText.removeAttribute('hidden')\n          }, 2000)\n        }\n        icon.removeAttribute('hidden')\n      } else {\n        icon.setAttribute('hidden', 'true')\n      }\n    }\n  })\n\n  if (newState !== 'failed') {\n    const errorDisplay = document.getElementById('form-error-alert')!\n    errorDisplay.textContent = ''\n    errorDisplay.hidden = true\n  }\n}\n\n/**\n * State used to track how the user interacts with generated notes\n * i.e. whether they generate notes at all, or generate them and edit them.\n */\ntype NotesTrackingState = 'initial' | 'generated' | 'generated-and-edited'\n\n/**\n * Set generated notes state on hidden tracking input\n */\nfunction setNotesTrackingState(state: NotesTrackingState) {\n  const input = document.getElementById('generated_notes_state') as HTMLInputElement\n  input.value = state\n}\n\n/**\n * Get generated notes state from hidden tracking input\n */\nfunction getNotesTrackingState() {\n  const input = document.getElementById('generated_notes_state') as HTMLInputElement\n  return input.value\n}\n\n/**\n * The ref to use to generate notes.\n * If we have an existing tag, use it. Use branch instead.\n */\nfunction getCommitish() {\n  if (getTagState() === 'valid') {\n    return getTagName(document) || ''\n  }\n\n  return document.querySelector<HTMLInputElement>('input[name=\"release[target_commitish]\"]:checked')?.value || ''\n}\n\n/**\n * The ref to use as the previous_tag_name when generating notes.\n */\nfunction getPreviousTagName() {\n  return document.querySelector<HTMLInputElement>('input[name=\"release[previous_tag_name]\"]:checked')?.value || ''\n}\n\nobserve('.js-release-tag', function initialize(tagElement) {\n  checkTag(tagElement)\n})\n\n// We need to manually focus trap keyboard navigation in details-menu dropdowns\nobserve('details-menu', function initialize(detailsMenu) {\n  focusTrap(detailsMenu as HTMLElement)\n})\n\nfunction processChangedTag(tagElement: Element) {\n  const form = tagElement.closest<HTMLFormElement>('form')!\n  const previewable = form.querySelector('.js-previewable-comment-form')\n  if (!previewable) return\n\n  let baseUrl = previewable.getAttribute('data-base-preview-url')\n  if (!baseUrl) {\n    baseUrl = String(previewable.getAttribute('data-preview-url'))\n    previewable.setAttribute('data-base-preview-url', baseUrl)\n  }\n\n  const inputs = tagElement.querySelectorAll<HTMLInputElement>(\n    'input[name=\"release[tag_name]\"], input[name=\"release[target_commitish]\"]:checked',\n  )\n  const url = new URL(baseUrl, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  for (const input of inputs) {\n    if (input.value) {\n      params.append(input.name, input.value)\n    }\n  }\n  url.search = params.toString()\n  previewable.setAttribute('data-preview-url', url.toString())\n}\n\nfunction refreshGenerateNotesButton(forceDisabled = false) {\n  const generateNotesButton = document.querySelector<HTMLButtonElement>('.js-generate-release-notes')!\n  const previousTagPicker = document.getElementById('prev-tag-picker')\n  const toolTip = document.querySelector(\"tool-tip[for='generate-notes-btn']\")\n\n  const tagState = getTagState()\n  const tagIsInvalid = tagState !== 'valid' && tagState !== 'pending'\n  const disabledState = forceDisabled || tagIsInvalid\n  generateNotesButton.setAttribute('aria-disabled', disabledState.toString())\n\n  if (toolTip) {\n    if (disabledState) {\n      toolTip.textContent = `${\n        tagIsInvalid ? 'Select a valid tag to a' : 'Clear existing notes to a'\n      }utomatically add the Markdown for all the merged pull requests from this diff and contributors of this release`\n    } else {\n      toolTip.textContent =\n        // eslint-disable-next-line i18n-text/no-en\n        'Automatically add the Markdown for all the merged pull requests from this diff and contributors of this release'\n    }\n  }\n  //Hide the previous tag picker if the target tag is invalid\n  previousTagPicker && (previousTagPicker.hidden = disabledState)\n}\n\nfunction processChangedBody(body: HTMLInputElement) {\n  if (body.value === '') {\n    refreshGenerateNotesButton()\n    setGeneratedNotesFetchState('pending')\n    setNotesTrackingState('initial')\n  } else {\n    const notesState = getNotesTrackingState()\n    // Generate notes button should remain disabled if the notes have been generated\n    const disableGenerateNotesButton = notesState !== 'initial'\n    refreshGenerateNotesButton(disableGenerateNotesButton)\n    if (notesState === 'generated') {\n      setNotesTrackingState('generated-and-edited')\n    }\n  }\n}\n\non('click', '.js-release-expand-btn', async function (event) {\n  const card = event.currentTarget.closest('.js-release-expandable')!\n  const expandedCardUrl = card.getAttribute('data-expand-url')!\n  const html = await fetchSafeDocumentFragment(document, expandedCardUrl)\n  card?.replaceWith(html)\n})\n\non('click', '.js-release-asset-untruncate-btn', async function (event) {\n  event.currentTarget.setAttribute('hidden', 'true')\n  const truncateSpinner = event.currentTarget.parentNode?.querySelector('.js-truncate-assets-spinner')\n  truncateSpinner && truncateSpinner.removeAttribute('hidden')\n  // set the src on the include-fragment element to prompt loading the new fragment\n  const includeFragmentElement = event.currentTarget.closest('.js-truncated-assets-fragment')\n  const url = includeFragmentElement?.getAttribute('data-deferred-src')\n  url && includeFragmentElement?.setAttribute('src', encodeURI(url))\n})\n\n// initial check for body content\nobserve('#release_body', function (el) {\n  const input = el as HTMLInputElement\n  input.addEventListener('input', function () {\n    processChangedBody(input)\n  })\n\n  // call once for initialization\n  processChangedBody(input)\n})\n\n// Dynamically update \"data-preview-url\" attribute when \"tag_name\" or \"target_commitish\" change\non('change', '.js-release-check-tag', function (event) {\n  const container = event.currentTarget.closest<HTMLElement>('.js-release-tag')!\n  checkTag(container)\n})\n\nobserve('.js-release-form .js-previewable-comment-form', function (el) {\n  const tag = el.closest<HTMLElement>('form')!.querySelector<HTMLElement>('.js-release-tag')!\n  processChangedTag(tag)\n})\n\n// Dynamically update the page title if one is provided by the server\n// This happens when a user uses the search box\nobserve('#release_page_title', function (el) {\n  const pageTitleContainer = el as HTMLElement\n  const pageTitle = pageTitleContainer.textContent?.trim() || ''\n  if (pageTitle.length) {\n    document.title = pageTitle\n  }\n})\n\n// PJAX/Turbo removes focus from the search input when loading search results\n// We need to manually focus it again and ensure the cursor is in the right place\nobserve('#release-filter', function (el) {\n  const releaseFilter = el as HTMLInputElement\n  if (releaseFilter.value.length > 0) {\n    releaseFilter.focus()\n    releaseFilter.setSelectionRange(releaseFilter.value.length, releaseFilter.value.length)\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// The template literal here hides \"<BRANCH>\" from the linter (which otherwise\n// would mistakenly think we're inserting HTML into the DOM).\nconst BRANCH_PLACEHOLDER = `<${'BRANCH'}>`\n\nfunction updateRenameInstructions(input: HTMLInputElement) {\n  const container = input.closest<HTMLElement>('.js-rename-branch-form')!\n  let newName = input.value\n  const wasNewNameGiven = newName !== input.defaultValue && newName !== ''\n\n  const autocheckMessage = container.querySelector('.js-rename-branch-autocheck-message')\n  if (autocheckMessage && wasNewNameGiven) {\n    // If any of the names use a placholder (eg. \"<BRANCH>\"), we'll show a link\n    // to our docs on how to escape special characters.\n    let usingPlaceholder = false\n\n    newName = autocheckMessage.getAttribute('data-shell-safe-name') || BRANCH_PLACEHOLDER\n    if (newName.includes('<')) {\n      usingPlaceholder = true\n    }\n    for (const newNameEl of container.querySelectorAll('.js-rename-branch-new-name')) {\n      newNameEl.textContent = newName\n    }\n\n    newName = autocheckMessage.getAttribute('data-shell-safe-name-with-remote') || `origin/${BRANCH_PLACEHOLDER}`\n    if (newName.includes('<')) {\n      usingPlaceholder = true\n    }\n    for (const newNameEl of container.querySelectorAll('.js-rename-branch-new-name-with-remote')) {\n      newNameEl.textContent = newName\n    }\n\n    const docsEl = container.querySelector<HTMLElement>('.js-rename-branch-special-characters-documentation')\n    if (docsEl && usingPlaceholder) {\n      docsEl.hidden = false\n      docsEl.removeAttribute('aria-hidden')\n    }\n  }\n}\n\non('auto-check-message-updated', '.js-rename-branch-input', function (event) {\n  const input = event.currentTarget as HTMLInputElement\n  updateRenameInstructions(input)\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nconst toggleSubmit = (el: HTMLInputElement): void => {\n  const formSubmit = document.querySelector<HTMLFormElement>(formSubmitSelector)\n  if (formSubmit) {\n    const isEmpty = el.value.length === 0\n    formSubmit.disabled = isEmpty\n  }\n}\n\nconst formSubmitSelector = 'form.js-protected-branch-settings button[type=\"submit\"]'\nobserve(formSubmitSelector, {\n  add() {\n    const branchNameInput = <HTMLInputElement>document.getElementById('rule_field')\n    if (branchNameInput) {\n      toggleSubmit(branchNameInput) // initialize\n      branchNameInput.addEventListener('input', () => toggleSubmit(branchNameInput))\n    }\n  },\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\n\non('change', '.js-template-repository-choice', function (event) {\n  const radio = event.target as HTMLInputElement\n  const isTemplateSelected = radio.checked && radio.value !== ''\n  const form = radio.form!\n  const autoInitOptions = form.querySelector<HTMLElement>('.js-repository-auto-init-options')!\n  autoInitOptions.classList.toggle('has-removed-contents', isTemplateSelected)\n  const templateSettings = form.querySelectorAll<HTMLElement>('.js-template-repository-setting')\n  const templateNameDisplays = form.querySelectorAll('.js-template-repository-name-display')\n\n  if (isTemplateSelected) {\n    const radioContainer = radio.closest<HTMLElement>('.js-template-repository-choice-container')!\n    const templateNameEl = radioContainer.querySelector<HTMLElement>('.js-template-repository-name')!\n    const templateOwner = radio.getAttribute('data-owner')!\n    const ownerChoice = form.querySelector(`.js-repository-owner-choice[value=\"${templateOwner}\"]`)\n    if (ownerChoice instanceof HTMLInputElement) {\n      ownerChoice.checked = true\n      fire(ownerChoice, 'change')\n    } else {\n      const viewerOwnerChoice = form.querySelector<HTMLInputElement>(\n        '.js-repository-owner-choice.js-repository-owner-is-viewer',\n      )!\n      viewerOwnerChoice.checked = true\n      fire(viewerOwnerChoice, 'change')\n    }\n\n    for (const templateNameDisplay of templateNameDisplays) {\n      templateNameDisplay.textContent = templateNameEl.textContent\n    }\n  } else {\n    for (const templateNameDisplay of templateNameDisplays) {\n      templateNameDisplay.textContent = ''\n    }\n  }\n\n  for (const templateSetting of templateSettings) {\n    templateSetting.hidden = !isTemplateSelected\n  }\n})\n","// Inspired by TextMate's 'Go To File' feature (and its vim counterpart, command-t)\n\nimport {hasMatch, positions, score} from 'fzy.js'\nimport Combobox from '@github/combobox-nav'\nimport type MarkedTextElement from '../marked-text-element'\nimport {TemplateInstance} from '@github/template-parts'\nimport type VirtualFilterInputElement from '../virtual-filter-input-element'\nimport type VirtualListElement from '../virtual-list-element'\nimport memoize from '@github/memoize'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {onKey} from '@github-ui/onfocus'\n\nconst fuzzyScore = memoize(score)\n\n// Encode list item for URL accounting for '/' for items that are paths\nfunction urlEncodeItem(itemName: string) {\n  return encodeURIComponent(itemName).replaceAll('%2F', '/')\n}\n\nonKey('keydown', '.js-tree-finder-field', (event: KeyboardEvent) => {\n  // TODO: Refactor to use data-hotkey\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  if (event.key === 'Escape') {\n    event.preventDefault()\n    history.back()\n  }\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n})\n\n// Look for tree finder inputs in the document start preloading the results.\nobserve('.js-tree-finder', (list: Element) => {\n  const listInput = list.querySelector<HTMLInputElement>('.js-tree-finder-field')!\n  const virtualFilter = list.querySelector<VirtualFilterInputElement<string>>('.js-tree-finder-virtual-filter')!\n  const virtualList = list.querySelector<VirtualListElement<string>>('.js-tree-browser')!\n  const listResults = list.querySelector<HTMLElement>('.js-tree-browser-results')!\n  const template = list.querySelector<HTMLTemplateElement>('.js-tree-browser-result-template')!\n  const combobox = new Combobox(listInput, listResults)\n  virtualFilter.filter = (item: string, query: string) => {\n    return query === '' || (hasMatch(query, item) && fuzzyScore(query, item) > 0)\n  }\n  virtualFilter.addEventListener('virtual-filter-input-filter', () => {\n    virtualList.updating = 'lazy'\n  })\n  virtualFilter.addEventListener('virtual-filter-input-filtered', () => {\n    virtualList.updating = 'eager'\n  })\n  virtualList.addEventListener('virtual-list-sort', (event: Event) => {\n    event.preventDefault()\n    const query = listInput.value\n    virtualList.sort((a: string, b: string) => fuzzyScore(query, b) - fuzzyScore(query, a))\n  })\n  virtualList.addEventListener('virtual-list-update', () => {\n    // Remove navigation focus from the list - as pressing enter too quickly\n    // could cause erroneous navigation events\n    combobox.stop()\n  })\n  virtualList.addEventListener('virtual-list-updated', () => {\n    // Navigate to the first item in the list\n    combobox.start()\n    combobox.navigate()\n  })\n  virtualList.addEventListener('virtual-list-render-item', (event: Event) => {\n    if (!(event instanceof CustomEvent)) return\n    const frag = new TemplateInstance(template, {\n      item: event.detail.item,\n      id: `entry-${Math.random().toString().substr(2, 5)}`,\n      urlEncodedItem: urlEncodeItem(event.detail.item),\n    })\n    const marker = frag.querySelector<MarkedTextElement>('marked-text')\n    if (marker) marker.positions = positions\n    event.detail.fragment.append(frag)\n  })\n\n  virtualList.querySelector('ul')!.hidden = false\n  listInput.focus()\n  combobox.start()\n})\n","import type FileAttachmentElement from '@github/file-attachment-element'\nimport {Attachment} from '@github/file-attachment-element'\nimport type Batch from '../upload/batch'\nimport {fetchPoll} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav/states'\nimport {softNavigate} from '@github-ui/soft-navigate'\nimport {remoteForm} from '@github/remote-form'\n\n// Delay file uploads while waiting for a manifest to save.\nlet savingManifest: Promise<Response> | null = null\n\n// Track saved manifests for delayed uploads.\nconst manifests = new WeakMap()\n\nfunction showProgress(target: Element, batch: Batch) {\n  const container = target.closest<HTMLElement>('.js-upload-manifest-file-container')!\n  const progress = container.querySelector<HTMLElement>('.js-upload-progress')!\n  progress.hidden = false\n  target.classList.add('is-progress-bar')\n\n  const text = progress.querySelector<HTMLElement>('.js-upload-meter-text')!\n\n  const start = text.querySelector<HTMLElement>('.js-upload-meter-range-start')!\n  start.textContent = String(batch.uploaded() + 1)\n\n  const end = text.querySelector<HTMLElement>('.js-upload-meter-range-end')!\n  end.textContent = String(batch.size)\n}\n\nfunction hideProgress(target: Element) {\n  target.classList.remove('is-progress-bar')\n\n  const container = target.closest<HTMLElement>('.js-upload-manifest-file-container')!\n  const progress = container.querySelector<HTMLElement>('.js-upload-progress')!\n  progress.hidden = true\n\n  const text = container.querySelector<HTMLElement>('.js-upload-meter-text .js-upload-meter-filename')!\n  text.textContent = ''\n}\n\non('file-attachment-accept', '.js-upload-manifest-file', function (event) {\n  const {attachments} = event.detail\n  const max = parseInt(event.currentTarget.getAttribute('data-directory-upload-max-files') || '', 10)\n  if (attachments.length > max) {\n    event.preventDefault()\n    event.currentTarget.classList.add('is-too-many')\n  }\n})\n\non('document:drop', '.js-upload-manifest-tree-view', async function (event) {\n  const {transfer} = event.detail\n  const target = event.currentTarget\n  const files = await Attachment.traverse(transfer, true)\n  const url = target.getAttribute('data-drop-url')!\n\n  // Start file upload after turbo visit / pjax to uploads page.\n  document.addEventListener(\n    SOFT_NAV_STATE.SUCCESS,\n    () => {\n      document.querySelector<FileAttachmentElement>('.js-upload-manifest-file')!.attach(files)\n    },\n    {once: true},\n  )\n\n  softNavigate(url)\n})\n\non('upload:setup', '.js-upload-manifest-file', async function (event) {\n  const {batch, form: policyForm, preprocess} = event.detail\n  const container = event.currentTarget\n\n  showProgress(container, batch)\n\n  function addInfo() {\n    policyForm.append('upload_manifest_id', manifests.get(container))\n  }\n\n  // Manifest has already been saved, so uploader can do its thing.\n  if (manifests.get(container)) {\n    addInfo()\n    return\n  }\n\n  // Queue ready function while manifest saves.\n  if (savingManifest) {\n    // eslint-disable-next-line github/no-then\n    preprocess.push(savingManifest.then(addInfo))\n    return\n  }\n\n  // Save manifest then trigger file uploads.\n  const parent = container.closest<HTMLElement>('.js-upload-manifest-file-container')!\n  const form = parent.querySelector('.js-upload-manifest-form') as HTMLFormElement\n  savingManifest = fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'application/json'},\n  })\n\n  const [first, resolve] = makeDeferred()\n  // eslint-disable-next-line github/no-then\n  preprocess.push(first.then(addInfo))\n\n  const response = await savingManifest\n  if (!response.ok) return\n  const result = (await response.json()) as {upload_manifest: {id: string}}\n\n  const commit = document.querySelector<HTMLFormElement>('.js-manifest-commit-form')!\n  const manifestIdField = commit.elements.namedItem('manifest_id') as HTMLInputElement\n  manifestIdField.value = result.upload_manifest.id\n\n  // Mark manifest as saved so file uploads can begin.\n  manifests.set(container, result.upload_manifest.id)\n  savingManifest = null\n\n  resolve()\n})\n\nfunction makeDeferred(): [Promise<void>, () => void] {\n  let resolve: () => void\n  const promise = new Promise<void>(_resolve => {\n    resolve = _resolve\n  })\n  return [promise, resolve!]\n}\n\non('upload:start', '.js-upload-manifest-file', function (event) {\n  const {attachment, batch} = event.detail\n  const container = event.currentTarget.closest<HTMLElement>('.js-upload-manifest-file-container')!\n  const progress = container.querySelector<HTMLElement>('.js-upload-progress')!\n  const text = progress.querySelector<HTMLElement>('.js-upload-meter-text')!\n\n  const start = text.querySelector<HTMLElement>('.js-upload-meter-range-start')!\n  start.textContent = batch.uploaded() + 1\n\n  const name = text.querySelector<HTMLElement>('.js-upload-meter-filename')!\n  name.textContent = attachment.fullPath\n})\n\non('upload:complete', '.js-upload-manifest-file', function (event) {\n  const {attachment, batch} = event.detail\n\n  // Add uploaded file to list.\n  const template = document.querySelector<HTMLElement>('.js-manifest-commit-file-template')!\n  const row = template.querySelector<HTMLElement>('.js-manifest-file-entry')!.cloneNode(true) as HTMLElement\n  const name = row.querySelector<HTMLElement>('.js-filename')!\n  name.textContent = attachment.fullPath\n\n  const removeButton = row.querySelector<HTMLButtonElement>('[aria-label=\"Remove this file\"]')\n\n  if (removeButton) {\n    // eslint-disable-next-line i18n-text/no-en\n    removeButton.ariaLabel = `Remove ${attachment.fullPath}`\n  }\n\n  const fileID = attachment.id\n  const form = row.querySelector<HTMLFormElement>('.js-remove-manifest-file-form')!\n  const input = form.elements.namedItem('file_id') as HTMLInputElement\n  input.value = fileID\n\n  const list = document.querySelector<HTMLElement>('.js-manifest-file-list')!\n  list.hidden = false\n  event.currentTarget.classList.add('is-file-list')\n\n  const root = list.querySelector<HTMLElement>('.js-manifest-file-list-root')!\n  root.appendChild(row)\n  if (batch.isFinished()) {\n    hideProgress(event.currentTarget)\n  }\n})\n\non('upload:progress', '.js-upload-manifest-file', function (event) {\n  const {batch} = event.detail\n  const container = event.currentTarget.closest<HTMLElement>('.js-upload-manifest-file-container')!\n  const meter = container.querySelector<HTMLElement>('.js-upload-meter')!\n  meter.style.width = `${batch.percent()}%`\n})\n\nfunction onerror(event: Event) {\n  hideProgress(event.currentTarget as Element)\n}\n\non('upload:error', '.js-upload-manifest-file', onerror)\non('upload:invalid', '.js-upload-manifest-file', onerror)\n\nremoteForm('.js-remove-manifest-file-form', async function (form, wants) {\n  await wants.html()\n\n  const root = form.closest<HTMLElement>('.js-manifest-file-list-root')!\n  const entry = form.closest<HTMLElement>('.js-manifest-file-entry')!\n  entry.remove()\n\n  if (!root.hasChildNodes()) {\n    const list = root.closest<HTMLElement>('.js-manifest-file-list')!\n    list.hidden = true\n\n    const container = document.querySelector<HTMLElement>('.js-upload-manifest-file')!\n    container.classList.remove('is-file-list')\n  }\n})\n\nasync function manifestReadyCheck(el: Element) {\n  const url = el.getAttribute('data-redirect-url')!\n  try {\n    const response = await fetchPoll(el.getAttribute('data-poll-url')!, undefined, undefined, [200, 500], [202, 404])\n\n    // Process 500 errors with error message.\n    if (response.status === 500 && response.body) {\n      let decodedResponse = ''\n      let errorMessage = ''\n      const utf8Decoder = new TextDecoder('utf-8')\n      const reader = response.body.getReader()\n      for (;;) {\n        const {value, done} = await reader.read()\n        if (done) break\n\n        decodedResponse += utf8Decoder.decode(value, {stream: true})\n      }\n\n      const responseAsJson = JSON.parse(decodedResponse)\n      const jobInfo = responseAsJson.job\n      if (jobInfo) {\n        errorMessage = jobInfo.error_message\n        const failedRuns = jobInfo.failed_runs\n\n        if (!failedRuns || failedRuns.length === 0) {\n          throwManifestFileUploadError(errorMessage)\n        }\n\n        const ruleRun = failedRuns[0].rule_run!\n        // Check for secret scanning rule violation\n        if (ruleRun.rule_type === 'secret_scanning') {\n          // Get secrets for the first rule violation\n          const candidate = ruleRun.violations.items[0].candidate\n          const detectedSecrets = ruleRun.evaluation_metadata.scan_results[candidate].secrets\n\n          if (!detectedSecrets.length) {\n            // Nothing to bypass, throw generic rule violation error\n            throwManifestFileUploadError(errorMessage)\n          }\n\n          const csrfInput = document.querySelector<HTMLInputElement>('.js-push-protection-bypass-csrf')!\n\n          const bypassResponse = await fetch(el.getAttribute('data-secret-bypass-url')!, {\n            method: 'POST',\n            body: JSON.stringify({file: candidate, secrets: detectedSecrets}),\n            headers: {\n              Accept: 'application/json',\n              'Scoped-CSRF-Token': csrfInput.value,\n            },\n          })\n\n          if (bypassResponse.ok) {\n            const html = await bypassResponse.text()\n            document.querySelector<HTMLElement>('.js-manifest-ready-check-failed')!.innerHTML = html\n\n            // Display secret scanning push protection bypass dialog\n            const secretBypassDialog = document.getElementById(\n              'file-upload-detected-secret-dialog-id',\n            ) as HTMLDialogElement\n            secretBypassDialog?.show()\n          }\n        }\n      }\n\n      throwManifestFileUploadError(errorMessage)\n    } else {\n      window.location.href = url\n    }\n  } catch (e) {\n    document.querySelector<HTMLElement>('.js-manifest-ready-check')!.hidden = true\n    const failureMessageElement = document.querySelector<HTMLElement>('.js-manifest-ready-check-failed')\n    failureMessageElement!.hidden = false\n\n    // Append additional context to the default error message.\n    if (e instanceof Error && e.message) {\n      const descriptionElement = failureMessageElement!.children[1]\n      if (!descriptionElement) {\n        return\n      }\n      descriptionElement.textContent = descriptionElement.textContent!.concat(' ', e.message, '.')\n    }\n  }\n}\n\nfunction throwManifestFileUploadError(errorMessage: string) {\n  if (errorMessage) {\n    throw new Error(errorMessage)\n  }\n\n  throw new Error()\n}\n\n// Navigate to pull request page when manifest commit is ready.\nobserve('.js-manifest-ready-check', {\n  initialize(el) {\n    manifestReadyCheck(el)\n  },\n})\n\n// Navigate back to upload page when detected secrets bypass dialog is closed. Close button behavior\n// on Primer::Alpha::Dialog is not directly modifiable via Rails, so we have to add custom JS\nobserve('.js-file-upload-detected-secret-dialog', {\n  add() {\n    const dialogCloseButton = document.querySelector('[data-close-dialog-id=\"file-upload-detected-secret-dialog-id\"]')\n    const manifestReadyCheckElement = document.querySelector('.js-manifest-ready-check')\n\n    if (!manifestReadyCheckElement) {\n      return\n    }\n\n    if (dialogCloseButton instanceof HTMLElement) {\n      dialogCloseButton.onclick = async (e: MouseEvent) => {\n        e.preventDefault()\n        const indexPageUrl = manifestReadyCheckElement.getAttribute('data-index-url')\n\n        if (!indexPageUrl) {\n          return\n        }\n\n        window.location.href = encodeURI(indexPageUrl)\n      }\n    }\n  },\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {saveDraft} from './releases'\n\non('click', '.js-release-remove-file', function (event) {\n  const container = event.currentTarget.closest<HTMLElement>('.js-release-file')!\n  container.classList.add('delete')\n  container.querySelector<HTMLInputElement>('input.destroy')!.value = 'true'\n})\n\non('click', '.js-release-undo-remove-file', function (event) {\n  const container = event.currentTarget.closest<HTMLElement>('.js-release-file')!\n  container.classList.remove('delete')\n  container.querySelector<HTMLInputElement>('input.destroy')!.value = ''\n})\n\nfunction getReleaseId(container: Element) {\n  const form = container.closest<HTMLFormElement>('form')!\n  return form.querySelector<HTMLInputElement>('#release_id')!.value\n}\n\n// Delay file uploads while waiting for a release to save.\nlet savingDraft: Promise<unknown> | null = null\n\non('release:saved', '.js-release-form', function (event) {\n  const form = event.currentTarget\n  savingDraft = null\n\n  // Remove assets that were marked for deletion and now deleted on the server.\n  let remaining = false\n  for (const el of form.querySelectorAll('.js-releases-field .js-release-file')) {\n    if (el.classList.contains('delete')) {\n      el.remove()\n    } else if (!el.classList.contains('js-template')) {\n      remaining = true\n    }\n  }\n\n  const field = form.querySelector<HTMLElement>('.js-releases-field')!\n  field.classList.toggle('not-populated', !remaining)\n  field.classList.toggle('is-populated', remaining)\n})\n\nfunction addInfo(container: Element, form: FormData) {\n  form.append('release_id', getReleaseId(container))\n\n  const candidates = Array.from(\n    document.querySelectorAll<HTMLInputElement>('.js-releases-field .js-release-file.delete .id'),\n  )\n  if (candidates.length) {\n    const ids = candidates.map(el => el.value)\n    form.append('deletion_candidates', ids.join(','))\n  }\n}\n\non('upload:setup', '.js-upload-release-file', function (event) {\n  const {form, preprocess} = event.detail\n  const container = event.currentTarget\n\n  // This release has a database record, so upload can proceed normally.\n  if (getReleaseId(container)) {\n    addInfo(container, form)\n    return\n  }\n\n  if (!savingDraft) {\n    const button = document.querySelector<HTMLButtonElement>('.js-save-draft')!\n    savingDraft = saveDraft(button)\n  }\n\n  // Delay this upload by queueing until a draft has been saved.\n  const after = addInfo.bind(null, container, form)\n  // eslint-disable-next-line github/no-then\n  preprocess.push(savingDraft.then(after))\n})\n\non('upload:start', '.js-upload-release-file', function (event) {\n  const policy = event.detail.policy\n\n  const meter = event.currentTarget.querySelector<HTMLElement>('.js-upload-meter')!\n  /* eslint-disable-next-line github/no-d-none */\n  meter.classList.remove('d-none')\n\n  const replaceId = policy.asset['replaced_asset']\n  if (!replaceId) return\n\n  for (const el of document.querySelectorAll<HTMLInputElement>('.js-releases-field .js-release-file .id')) {\n    if (Number(el.value) === replaceId) {\n      el.closest<HTMLElement>('.js-release-file')!.remove()\n    }\n  }\n})\n\non('upload:complete', '.js-upload-release-file', function (event) {\n  const {attachment} = event.detail\n\n  const field = document.querySelector<HTMLElement>('.js-releases-field')!\n  const releaseAsset = field.querySelector<HTMLElement>('.js-template')!.cloneNode(true) as Element\n  /* eslint-disable-next-line github/no-d-none */\n  releaseAsset.classList.remove('d-none', 'js-template')\n\n  releaseAsset.querySelector<HTMLInputElement>('input.id')!.value = attachment.id\n\n  const name = attachment.name || attachment.href.split('/').pop()\n\n  // if there is an existing asset with the same name and in the \"starter\" state,\n  // it will have been replaced by the upload, so remove it from the UI.\n  for (const el of field.querySelectorAll('.js-release-file')) {\n    if (\n      el.querySelector<HTMLInputElement>('.js-release-asset-filename')?.value === name &&\n      el.getAttribute('data-state') === 'starter'\n    ) {\n      el.remove()\n    }\n  }\n\n  for (const el of releaseAsset.querySelectorAll('.js-release-asset-filename')) {\n    if (el instanceof HTMLInputElement) {\n      el.value = name\n    } else {\n      el.textContent = name\n    }\n  }\n\n  const filesize = `(${(attachment.file.size / (1024 * 1024)).toFixed(2)} MB)`\n  releaseAsset.querySelector<HTMLElement>('.js-release-asset-filesize')!.textContent = filesize\n  releaseAsset.setAttribute('data-state', 'uploaded')\n  field.appendChild(releaseAsset)\n  field.classList.remove('not-populated')\n  field.classList.add('is-populated')\n\n  const meter = event.currentTarget.querySelector<HTMLElement>('.js-upload-meter')!\n  /* eslint-disable-next-line github/no-d-none */\n  meter.classList.add('d-none')\n})\n\non('upload:progress', '.js-upload-release-file', function (event) {\n  const {attachment} = event.detail\n  const meter = event.currentTarget.querySelector<HTMLElement>('.js-upload-meter')!\n  meter.style.width = `${attachment.percent}%`\n})\n","import {attr, controller} from '@github/catalyst'\nimport {GetRepoElement} from './get-repo-element'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\n@controller\nclass RepoCodespacesCountElement extends HTMLElement {\n  static attrPrefix = ''\n  @attr codespacesCount = 0\n\n  connectedCallback() {\n    observe('get-repo', {\n      constructor: GetRepoElement,\n      add: el => {\n        this.handleGetRepoElement(el)\n      },\n    })\n  }\n\n  handleGetRepoElement(getRepoElement: GetRepoElement) {\n    if (!getRepoElement.openOrCreateInCodespace) {\n      return\n    }\n    if (this.codespacesCount === 0) {\n      getRepoElement.showOpenOrCreateInCodespace()\n    } else {\n      getRepoElement.removeOpenOrCreateInCodespace()\n    }\n  }\n}\n","function queryLast<T extends Element>(selector: string): T | undefined {\n  const list = document.querySelectorAll<T>(selector)\n  if (list.length > 0) {\n    return list[list.length - 1]\n  }\n}\n\nfunction pagePathname() {\n  const locationOverride = queryLast<HTMLMetaElement>('meta[name=analytics-location]')\n  if (locationOverride) {\n    return locationOverride.content\n  } else {\n    return window.location.pathname\n  }\n}\n\nfunction pageQuery() {\n  const stripParams = queryLast<HTMLMetaElement>('meta[name=analytics-location-query-strip]')\n  let search = ''\n\n  if (!stripParams) {\n    search = window.location.search\n  }\n\n  const extraParams = queryLast<HTMLMetaElement>('meta[name=analytics-location-params]')\n  if (extraParams) {\n    search += (search ? '&' : '?') + extraParams.content\n  }\n\n  for (const meta of document.querySelectorAll<HTMLMetaElement>('meta[name=analytics-param-rename]')) {\n    const names = meta.content.split(':', 2)\n    search = search.replace(new RegExp(`(^|[?&])${names[0]}($|=)`, 'g'), `$1${names[1]}$2`)\n  }\n\n  return search\n}\n\nexport function requestUri() {\n  return `${window.location.protocol}//${window.location.host}${pagePathname() + pageQuery()}`\n}\n","import {ssrSafeDocument} from '@github-ui/ssr-utils'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {\n  announce as liveRegionAnnounce,\n  announceFromElement as liveRegionAnnounceFromElement,\n} from '@primer/live-region-element'\n\nexport interface ElementWithAriaNotify extends Element {\n  ariaNotify: (\n    message: string,\n    options?: {interrupt?: 'none' | 'pending' | 'all'; priority?: 'none' | 'important'},\n  ) => void\n}\n\n/**\n * Troubleshooting guide for aria-live regions available on the Hub\n * - https://thehub.github.com/epd/engineering/dev-practicals/frontend/accessibility/readiness-routine/screenreaders/live-regions-and-focus-management-techniques/#why-isnt-my-live-region-working-as-i-expect\n */\n\n// Announce an element's text to the screen reader.\nexport function announceFromElement(el: HTMLElement, options?: {assertive?: boolean; element?: HTMLElement}) {\n  if (isFeatureEnabled('arianotify_comprehensive_migration')) {\n    announce(getTextContent(el), {...options, element: options?.element ?? el})\n  } else if (isFeatureEnabled('primer_live_region_element') && options?.element === undefined) {\n    liveRegionAnnounceFromElement(el, {\n      politeness: options?.assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    announce(getTextContent(el), options)\n  }\n}\n\n// Announce message update to screen reader.\n// Note: Use caution when using this function while a dialog is active.\n// If the message is updated while the dialog is open, the screen reader may not announce the live region.\n// For more information, view the document on dialog and live region support: https://github.com/github/accessibility/blob/main/docs/dialog-live-region-support.md\nexport function announce(message: string, options?: {assertive?: boolean; element?: HTMLElement}) {\n  const {assertive, element} = options ?? {}\n\n  if (isFeatureEnabled('arianotify_comprehensive_migration') && 'ariaNotify' in Element.prototype) {\n    ;((element || document.body) as Element as ElementWithAriaNotify).ariaNotify(message, {\n      interrupt: options?.assertive ? 'all' : 'none',\n    })\n  } else if (isFeatureEnabled('primer_live_region_element') && element === undefined) {\n    liveRegionAnnounce(message, {\n      politeness: assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    setContainerContent(message, assertive, element)\n  }\n}\n\n// Set aria-live container to message.\nfunction setContainerContent(message: string, assertive?: boolean, element?: HTMLElement) {\n  const getQuerySelector = () => {\n    return assertive ? '#js-global-screen-reader-notice-assertive' : '#js-global-screen-reader-notice'\n  }\n  const container = element ?? ssrSafeDocument?.querySelector(getQuerySelector())\n  if (!container) return\n  if (container.textContent === message) {\n    /* This is a hack due to the way the aria live API works.\n    A screen reader will not read a live region again\n    if the text is the same. Adding a space character tells\n    the browser that the live region has updated,\n    which will cause it to read again, but with no audible difference. */\n    container.textContent = `${message}\\u00A0`\n  } else {\n    container.textContent = message\n  }\n}\n\n// Gets the trimmed text content of an element.\nfunction getTextContent(el: HTMLElement): string {\n  // innerText does not contain hidden text\n  /* eslint-disable-next-line github/no-innerText */\n  return (el.getAttribute('aria-label') || el.innerText || '').trim()\n}\n","import {ssrSafeWindow, ssrSafeHistory, ssrSafeLocation} from '@github-ui/ssr-utils'\n\nlet sessionHistoryEntries: Array<{url: string; state: unknown}> = []\nlet sessionHistoryOffset = 0\nlet state: State\n\ntype State = {\n  _id: number\n  turbo?: {\n    restorationIdentifier: string\n  }\n}\n\n/*\n * Array of history entries.\n *\n * Example:\n * {\n *   0: {\n *     url: \"/\",\n *     state: { ... }.\n *   },\n *   1: {\n *     url: \"/github/github/issues/123\",\n *     state: { ... }.\n *   },\n *   2: {\n *     url: \"/github/github/issues/123#comment-4\",\n *     state: { ... }.\n *   }.\n *  }.\n */\n\nexport function getState(): State {\n  return state\n}\n\nfunction safeGetHistory() {\n  try {\n    // Clamp history.length to 0<->9007199254740991 (Number.MAX_SAFE_INTEGER isn't supported in IE)\n    return Math.min(Math.max(0, ssrSafeHistory?.length || 0) || 0, 9007199254740991)\n  } catch (e) {\n    return 0\n  }\n}\n\nfunction initializeState(): State {\n  const newState = {_id: new Date().getTime(), ...ssrSafeHistory?.state}\n  setState(newState)\n  return newState\n}\n\n// Current index into history entries stack.\nfunction position(): number {\n  return safeGetHistory() - 1 + sessionHistoryOffset\n}\n\nfunction setState(newState: State) {\n  state = newState\n\n  // Update entry at current position\n  const url = ssrSafeLocation?.href\n  sessionHistoryEntries[position()] = {url, state}\n\n  // Trim entries to match history size\n  sessionHistoryEntries.length = safeGetHistory()\n\n  // Emit public statechange\n  ssrSafeWindow?.dispatchEvent(new CustomEvent('statechange', {bubbles: false, cancelable: false}))\n}\n\n// Generate unique id for state object.\n//\n// Use a timestamp instead of a counter since ids should still be unique\n// across page loads.\nfunction uniqueId(): number {\n  return new Date().getTime()\n}\n\n// Indirection for history.pushState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function pushState(oldState: State | null, title: string, url: string) {\n  // pushState drops any forward history entries\n  sessionHistoryOffset = 0\n  const newState = {_id: uniqueId(), ...oldState}\n  ssrSafeHistory?.pushState(newState, title, url)\n  setState(newState)\n}\n\n// Indirection for history.replaceState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function replaceState(oldState: Record<string, unknown> | null, title: string, url: string) {\n  const newState = {...getState(), ...oldState}\n  ssrSafeHistory?.replaceState(newState, title, url)\n  setState(newState)\n}\n\nstate = initializeState()\n\nssrSafeWindow?.addEventListener(\n  'popstate',\n  function onPopstate(event: PopStateEvent) {\n    const currentState: State = event.state\n\n    if (!currentState || (!currentState._id && !currentState.turbo?.restorationIdentifier)) {\n      // Unmanaged state in history entries\n      // Or could be a hashchange pop, ignore and let hashchange handle it\n      return\n    }\n\n    // Each state has a unique restorationIdentifier provided by Turbo. We compare the id\n    // to see if we are going backwards or forwards.\n    const id = currentState.turbo?.restorationIdentifier\n    const restoreId = (sessionHistoryEntries[position() - 1]?.state as State)?.turbo?.restorationIdentifier\n\n    if (restoreId === id) {\n      sessionHistoryOffset--\n    } else {\n      sessionHistoryOffset++\n    }\n\n    setState(currentState)\n  },\n  true,\n)\n\nlet turboAction: string\n\nssrSafeWindow?.addEventListener('turbo:visit', event => {\n  if (!(event instanceof CustomEvent)) return\n\n  turboAction = event.detail.action\n})\n\n// Listen turbo navigations to reset the `sessionHistoryOffset` in case we are doing a page load\n// instead of poping a state from the history stack.\nssrSafeWindow?.addEventListener('turbo:load', () => {\n  if (turboAction === 'restore') return\n\n  sessionHistoryOffset = 0\n  // Add turbo navigations to the state stack, so we can keep it complete without `empty` entries.\n  replaceState(ssrSafeHistory?.state, '', '')\n})\n\nssrSafeWindow?.addEventListener(\n  'hashchange',\n  function onHashchange() {\n    if (safeGetHistory() > sessionHistoryEntries.length) {\n      // Forward navigation\n      const newState = {_id: uniqueId()}\n      ssrSafeHistory?.replaceState(newState, '', ssrSafeLocation.href)\n      setState(newState)\n    }\n  },\n  true,\n)\n\n// We need to reset our history state on full-page loads to prevent our state from getting out of sync with the browser's history stack.\nssrSafeWindow?.addEventListener('pageshow', () => {\n  sessionHistoryEntries = []\n  sessionHistoryOffset = 0\n})\n","import type {CustomEventName, CustomEventDetail} from './types/custom-events'\n\nexport function emitToCodeMirror(event: CustomEventName, editorTarget: Element, detail: CustomEventDetail) {\n  if (!editorTarget) return\n\n  // codemirror 6 watches for events on its content element, not the root editor element\n  const innerEditorTarget = editorTarget.className.includes('cm-content')\n    ? editorTarget\n    : editorTarget.querySelector<HTMLDivElement>('.cm-content')\n\n  if (!innerEditorTarget) return\n\n  innerEditorTarget.dispatchEvent(new CustomEvent(event, {detail}))\n}\n","// Report uncaught JS errors to Sentry\n//   https://sentry.io/github/github-js\n\nimport {getOrCreateClientId} from '@github/hydro-analytics-client'\nimport {isSupported} from '@github/browser-support'\nimport {parse} from 'stacktrace-parser'\nimport {requestUri} from '@github-ui/analytics-overrides'\nimport {bundler} from '@github-ui/runtime-environment'\nimport {ssrSafeWindow} from '@github-ui/ssr-utils'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {getSoftNavReferrer} from '@github-ui/soft-nav/utils'\n\nlet extensionErrors = false\nlet errorsReported = 0\nconst loadTime = Date.now()\n// network error messages are not consistent across browsers, this is a list of known messages for chrome and firefox\nexport const EXPECTED_NETWORK_ERROR_MESSAGES = new Set([\n  'Failed to fetch',\n  'NetworkError when attempting to fetch resource.',\n])\n\ntype ErrorContext = {\n  message?: string\n}\n\n// Check if an arbitrary object is an error, or at least an object that satisfies the interface of an error,\n// with the necessary information to be able to report it to Sentry.\nfunction isError(error: unknown): error is Error {\n  // Check if it's a definite instance of an error\n  if (error instanceof Error) return true\n  // Otherwise, check that it at least satisfies the interface of an error\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    'name' in error &&\n    typeof error.name === 'string' &&\n    'message' in error &&\n    typeof error.message === 'string'\n  )\n}\n\n/** Tries to serialize an arbitrary error value that is not an Error object, and returns a default message otherwise */\nfunction serializeNonError(error: unknown): string {\n  try {\n    return JSON.stringify(error)\n  } catch {\n    return 'Unserializable'\n  }\n}\n\nfunction isExpectedError(error: Error): boolean {\n  // We use AbortController to control events and some workflows. When we call `abort()` on it, it will raise an\n  // `AbortError` which doesn't represent a real error, so we don't want to report it.\n  if (error.name === 'AbortError') return true\n  // Failed to fetch errors are usually related to the user's network connection. They also do not represent\n  // real errors related to our code, so we will also ignore them.\n  if (error.name === 'TypeError' && EXPECTED_NETWORK_ERROR_MESSAGES.has(error.message)) return true\n  // For memex we use an ApiError class to represent errors returned from the API\n  // Additional details in the format of ApiErrorOpts are affixed to the name as a stringified JSON object\n  // so we just need to ensure the error name starts with ApiError\n  // see ui/packages/memex/src/client/platform/api-error.ts for more details.\n  if (error.name.startsWith('ApiError') && EXPECTED_NETWORK_ERROR_MESSAGES.has(error.message)) return true\n\n  return false\n}\n\n// @deprecated Re-throw the caught exception instead.\nexport function reportError(error: unknown, context: ErrorContext = {}) {\n  if (isFeatureEnabled('FAILBOT_HANDLE_NON_ERRORS')) {\n    if (!isError(error)) {\n      if (isIgnoredNonError(error)) return\n\n      // Create an error instance so that we can get the stacktrace of how this was reported\n      const errorForStackTrace = new Error()\n      const serializedErrorValue = serializeNonError(error)\n      // Construct a custom error object so we can keep track of anywhere that we report an error that isn't an Error object\n      const newError: PlatformJavascriptError = {\n        type: 'UnknownError',\n        value: `Unable to report error, due to a thrown non-Error type: ${typeof error}, with value ${serializedErrorValue}`,\n        stacktrace: stacktrace(errorForStackTrace),\n        catalogService: undefined,\n      }\n      report(errorContext(newError, context))\n      return\n    }\n    if (!isExpectedError(error)) {\n      report(errorContext(formatError(error), context))\n    }\n  } else {\n    // Without feature flag, we will cast the `error` variable which was implicitly the old\n    // behavior of the non-feature flagged code.\n    if (!isExpectedError(error as Error)) {\n      report(errorContext(formatError(error as Error), context))\n    }\n  }\n}\n\n// Report context info to Sentry.\nasync function report(context: PlatformReportBrowserErrorInput) {\n  if (!reportable()) return\n\n  const url = document.head?.querySelector<HTMLMetaElement>('meta[name=\"browser-errors-url\"]')?.content\n  if (!url) return\n\n  if (isExtensionError(context.error.stacktrace)) {\n    extensionErrors = true\n    return\n  }\n\n  errorsReported++\n\n  try {\n    await fetch(url, {method: 'post', body: JSON.stringify(context)})\n  } catch {\n    // Error reporting failed so do nothing.\n  }\n}\n\nfunction formatError(error: Error): PlatformJavascriptError {\n  return {\n    type: error.name,\n    value: error.message,\n    stacktrace: stacktrace(error),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    catalogService: (error as any)['catalogService'],\n  }\n}\n\nfunction errorContext(error: PlatformJavascriptError, context: ErrorContext = {}): PlatformReportBrowserErrorInput {\n  return Object.assign(\n    {\n      error,\n      sanitizedUrl: requestUri() || window.location.href,\n      readyState: document.readyState,\n      referrer: getSoftNavReferrer(),\n      timeSinceLoad: Math.round(Date.now() - loadTime),\n      user: pageUser() || undefined,\n      bundler,\n      ui: Boolean(document.querySelector('meta[name=\"ui\"]')),\n    },\n    context,\n  )\n}\n\nexport function stacktrace(error: Error): PlatformStackframe[] {\n  return parse(error.stack || '').map(frame => ({\n    filename: frame.file || '',\n    function: String(frame.methodName),\n    lineno: (frame.lineNumber || 0).toString(),\n    colno: (frame.column || 0).toString(),\n  }))\n}\n\nconst extensions = /(chrome|moz|safari)-extension:\\/\\//\n\n// Does this stack trace contain frames from browser extensions?\nfunction isExtensionError(stack: PlatformStackframe[]): boolean {\n  return stack.some(frame => extensions.test(frame.filename) || extensions.test(frame.function))\n}\n\nexport function pageUser() {\n  const login = document.head?.querySelector<HTMLMetaElement>('meta[name=\"user-login\"]')?.content\n  if (login) return login\n\n  const clientId = getOrCreateClientId()\n  return `anonymous-${clientId}`\n}\n\nlet unloaded = false\nssrSafeWindow?.addEventListener('pageshow', () => (unloaded = false))\nssrSafeWindow?.addEventListener('pagehide', () => (unloaded = true))\n\nfunction reportable() {\n  return !unloaded && !extensionErrors && errorsReported < 10 && isSupported()\n}\n\nif (typeof BroadcastChannel === 'function') {\n  const sharedWorkerErrorChannel = new BroadcastChannel('shared-worker-error')\n  sharedWorkerErrorChannel.addEventListener('message', event => {\n    // SharedWorker will emit a formatted error\n    reportError(event.data.error)\n  })\n}\n\nconst ignoredErrorMessages = [\n  'Object Not Found Matching Id', // from Microsoft Outlook SafeLink crawler\n  'Not implemented on this platform', // LastPass Safari extension\n  `provider because it's not your default extension`, // MetaMask extension\n]\n\n/**\n * We see a fair number of \"errors\" which are not actually Error objects. This function will return true if the\n * error is one of these known non-Error types and has content which we know can safely be ignored.\n * Most of these errors come from specific browsers or extensions which we can't control, so we just ignore them.\n * @param error An error that is not an Error object\n * @returns boolean\n */\nfunction isIgnoredNonError(error: unknown) {\n  if (!error || typeof error === 'boolean' || typeof error === 'number') {\n    // Rejected with a type that is not useful to report. Just ignore it.\n    return true\n  } else if (typeof error === 'string') {\n    // rejected with a string. See if it's a known error that we can ignore\n    if (ignoredErrorMessages.some(message => error.includes(message))) {\n      return true\n    }\n  } else if (\n    typeof error === 'object' &&\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof (error as any).message === 'string' &&\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof (error as any).code === 'number'\n  ) {\n    // We see an object like {\"message\":\"Not connected\",\"code\":4900} from some extension, likely MetaMask. Ignore these\n    return true\n  }\n\n  return false\n}\n","//  Get document's HTML Safe nonce.\n//\n// Example:\n//\n//   <meta name=\"html-safe-nonce\" content=\"de43a1f355c711f7f705e4f971964391ac0c8e13\">\nexport function getDocumentHtmlSafeNonces(document: Document): string[] {\n  const nonces = [...document.querySelectorAll<HTMLMetaElement>('meta[name=html-safe-nonce]')].map(meta => meta.content)\n\n  if (nonces.length < 1) {\n    throw new Error('could not find html-safe-nonce on document')\n  }\n  return nonces\n}\n\ninterface Response {\n  headers: Headers\n  status: number\n}\n\nclass ResponseError extends Error {\n  response: Response\n\n  constructor(message: string, response: Response) {\n    super(`${message} for HTTP ${response.status}`)\n    this.response = response\n  }\n}\n\nexport function verifyResponseHtmlSafeNonce(nonces: string[], response: Response, allowJson = false) {\n  const contentType = response.headers.get('content-type') || ''\n  if (!allowJson && !contentType.startsWith('text/html')) {\n    throw new ResponseError(`expected response with text/html, but was ${contentType}`, response)\n  }\n\n  if (allowJson && !(contentType.startsWith('text/html') || contentType.startsWith('application/json'))) {\n    throw new ResponseError(`expected response with text/html or application/json, but was ${contentType}`, response)\n  }\n\n  const responseNonce = response.headers.get('x-html-safe')\n  if (!responseNonce) {\n    throw new ResponseError(`missing X-HTML-Safe nonce`, response)\n  } else if (!nonces.includes(responseNonce)) {\n    throw new ResponseError(`response X-HTML-Safe nonce did not match`, response)\n  }\n}\n","import {getDocumentHtmlSafeNonces, verifyResponseHtmlSafeNonce} from '@github-ui/html-safe-nonce'\nimport {ghTrustedTypes} from '@github-ui/trusted-types'\nimport {trustedTypesPolicy} from './policy'\n\nconst policyName = 'server-x-safe-html'\n\n// This is a no-op policy to be used with server-side rendered HTML.\nexport const serverXSafeHTMLPolicy = ghTrustedTypes.createPolicy(policyName, {\n  createHTML: (s: string, response: Response) => {\n    return trustedTypesPolicy.apply({\n      policy: () => {\n        verifyResponseHtmlSafeNonce(getDocumentHtmlSafeNonces(document), response)\n        return s\n      },\n      policyName,\n      fallback: s,\n      silenceErrorReporting: true,\n    })\n  },\n})\n","import {parseHTML} from '@github-ui/parse-html'\nimport {serverXSafeHTMLPolicy} from '@github-ui/trusted-types-policies/server-x-safe-html'\n\nexport async function fetchSafeDocumentFragment(\n  document: Document,\n  url: RequestInfo,\n  options?: RequestInit,\n): Promise<DocumentFragment> {\n  const request = new Request(url, options)\n  request.headers.append('X-Requested-With', 'XMLHttpRequest')\n  const response = await self.fetch(request)\n  if (response.status < 200 || response.status >= 300) {\n    throw new Error(`HTTP ${response.status}${response.statusText || ''}`)\n  }\n  const trustedHTML = serverXSafeHTMLPolicy.createHTML(await response.text(), response)\n  return parseHTML(document, trustedHTML)\n}\n\nexport function fetchPoll(\n  url: RequestInfo,\n  options?: RequestInit,\n  timeBetweenRequests = 1000,\n  acceptedStatusCodes = [200],\n  pollStatusCodes = [202],\n): Promise<Response> {\n  return (async function poll(wait: number): Promise<Response> {\n    const request = new Request(url, options)\n    request.headers.append('X-Requested-With', 'XMLHttpRequest')\n    const response = await self.fetch(request)\n\n    if (pollStatusCodes.includes(response.status)) {\n      await new Promise(resolve => setTimeout(resolve, wait))\n      return poll(wait * 1.5)\n    }\n    if (acceptedStatusCodes.includes(response.status)) {\n      return response\n    }\n    if (response.status < 200 || response.status >= 300) {\n      throw new Error(`HTTP ${response.status}${response.statusText || ''}`)\n    }\n    throw new Error(`Unexpected ${response.status} response status from poll endpoint`)\n  })(timeBetweenRequests)\n}\n\ntype RetryResult = Response | 'retry'\ntype FetchRetryOptions = {\n  // Base wait time between retries\n  // this will be multiplied with the current attempt to perform a backoff strategy\n  // Defaults to 500ms\n  wait?: number\n  // List of accepted status codes that should not be retried. Defaults to [200]\n  acceptedStatusCodes?: number[]\n  // Max number of attempts. Defaults to 3\n  max?: number\n  // Current retry attempt. Starts at 0\n  attempt?: number\n}\n\n// Execute a fetch call in a callback and retry it up to `options.max` times\n// Each retry will be delayed `options.wait` * `options.attempt`\nexport async function fetchRetry(\n  url: RequestInfo,\n  fetchOptions?: RequestInit,\n  options?: FetchRetryOptions,\n): Promise<Response> {\n  const {wait = 500, acceptedStatusCodes = [200], max = 3, attempt = 0} = options || {}\n\n  const retry: () => Promise<RetryResult> = async () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(async () => {\n        try {\n          const request = new Request(url, fetchOptions)\n          request.headers.append('X-Requested-With', 'XMLHttpRequest')\n          const response = await self.fetch(request)\n          if (acceptedStatusCodes.includes(response.status) || attempt + 1 === max) {\n            return resolve(response)\n          }\n\n          // The response failed, we indicate that it must be retried\n          resolve('retry')\n        } catch (err) {\n          // Only non successful HTTP status codes are controlled by this retry mechanism\n          // Any other error is propagated\n          reject(err)\n        }\n      }, wait * attempt)\n    })\n  }\n\n  const result = await retry()\n  if (result !== 'retry') {\n    return result\n  }\n\n  return fetchRetry(url, fetchOptions, {wait, acceptedStatusCodes, max, attempt: attempt + 1})\n}\n","import {persistSubmitButtonValue} from './remote-submit'\n\ntype TextField = HTMLInputElement | HTMLTextAreaElement\ntype Button = HTMLInputElement | HTMLButtonElement\n\nfunction fire(target: HTMLElement, name: string, cancelable: boolean): boolean {\n  return target.dispatchEvent(\n    new CustomEvent(name, {\n      bubbles: true,\n      cancelable,\n    }),\n  )\n}\n\n// Submit a form while ensuring that `submit` event is also triggered.\n//\n// Calling native `form.submit()` method immediately submits the form without triggering the `submit` event.\n// As a result, code that wants to hook into form submits would never execute.\n//\n// This method first triggers the `submit` event and, if that event wasn't `preventDefault`d, submits the\n// form natively.\nexport function requestSubmit(form: HTMLFormElement, submitter?: Button) {\n  if (submitter) {\n    checkButtonValidity(form, submitter)\n    persistSubmitButtonValue(submitter)\n  }\n  if (fire(form, 'submit', true)) {\n    form.submit()\n  }\n}\n\n// Check submitter validity for form.requestSubmit compatibility.\n// See https://html.spec.whatwg.org/#dom-form-requestsubmit.\nfunction checkButtonValidity(form: HTMLFormElement, submitter: Button) {\n  if (!(form instanceof HTMLFormElement)) throw new TypeError('The specified element is not of type HTMLFormElement.')\n  if (!(submitter instanceof HTMLElement)) throw new TypeError('The specified element is not of type HTMLElement.')\n  if (submitter.type !== 'submit') throw new TypeError('The specified element is not a submit button.')\n  if (!form || form !== submitter.form) throw new Error('The specified element is not owned by the form element.')\n}\n\n// Set a form field value while ensuring that `change` event is also triggered.\n//\n// Having the `change` event fire is important for various behaviors to react, such as form validation.\nexport function changeValue(input: TextField, value: string | boolean) {\n  if (typeof value === 'boolean') {\n    if (input instanceof HTMLInputElement) {\n      input.checked = value\n    } else {\n      throw new TypeError('only checkboxes can be set to boolean value')\n    }\n  } else {\n    if (input.type === 'checkbox') {\n      throw new TypeError(\"checkbox can't be set to string value\")\n    } else {\n      input.value = value\n    }\n  }\n  fire(input, 'change', false)\n}\n\n// Fill multiple form fields by item name.\nexport function fillFormValues(form: HTMLFormElement, fields: {[key: string]: string}) {\n  for (const name in fields) {\n    const value = fields[name]\n    const element = form.elements.namedItem(name)\n\n    if (element instanceof HTMLInputElement) {\n      element.value = value!\n    } else if (element instanceof HTMLTextAreaElement) {\n      element.value = value!\n    }\n  }\n}\n\n// Test if element is a form field.\nexport function isFormField(element: Node): boolean {\n  if (!(element instanceof HTMLElement)) {\n    return false\n  }\n\n  const name = element.nodeName.toLowerCase()\n  const type = (element.getAttribute('type') || '').toLowerCase()\n  return (\n    name === 'select' ||\n    name === 'textarea' ||\n    (name === 'input' && type !== 'submit' && type !== 'reset') ||\n    element.isContentEditable\n  )\n}\n\nfunction searchParamsFromFormData(formData: FormData): URLSearchParams {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return new URLSearchParams(formData as any)\n}\n\n// Get a `?` search string for a URL for a GET form, using its `action` attribute as well as its other fields.\nexport function combineGetFormSearchParams(formAction: URL, formData: FormData): string {\n  const allSearchParams = new URLSearchParams(formAction.search)\n  const searchParamsFromInputs = searchParamsFromFormData(formData)\n  for (const [key, value] of searchParamsFromInputs) {\n    allSearchParams.append(key, value)\n  }\n  return allSearchParams.toString()\n}\n\n// Serialize form data into string.\nexport function serialize(form: HTMLFormElement): string {\n  return searchParamsFromFormData(new FormData(form)).toString()\n}\n","// Emulates submit button submission values by inserting a hidden input to the form.\n//\n// Submit events can be triggerd in the following ways:\n// - User clicks on a submit button.\n// - User press Enter when focusing on a form field; also known as \"implicit submission\".\n// - Programmatically via requestSubmit helper.\n//\n// On GitHub.com, the submission is either handled by the browser or remoteForm.\n//\n// For submissions triggered by user actions, the name and value of the clicked submit button (also known as\n// \"the submitter\") is passed along in the request, and can be programmatically retrieved with FormData.entries().\n//\n// However, this value will be lost in the following cases:\n// - 1. When the submitter button is disabled, most commonly by [data-disable-with].\n// - 2. When submitting via requestSubmit (from form.js), because the submission does not originated from a submitter.\n// - 3. When submitting with remoteForm, because FormData(form).entries() does not know about the submitter. In Safari\n// the submitter is known during the submission steps, but this behavior is not supported in any other browsers.\n//\n// @see {@link https://github.com/github/form-data-entries/pull/7}.\n//\n// For the exact workarounds, refer to ./form.js and ./remote.js.\nexport function persistSubmitButtonValue(button: HTMLButtonElement | HTMLInputElement) {\n  const form = button.closest('form')\n  if (!(form instanceof HTMLFormElement)) {\n    return\n  }\n\n  let input = findPersistedSubmitButtonValue(form)\n\n  if (button.name) {\n    const defaultValue = button.matches('input[type=submit]') ? 'Submit' : ''\n    const value = button.value || defaultValue\n    if (!input) {\n      input = document.createElement('input')\n      input.type = 'hidden'\n      input.classList.add('js-submit-button-value')\n      form.prepend(input)\n    }\n    input.name = button.name\n    input.value = value\n  } else if (input) {\n    input.remove()\n  }\n}\n\nexport function findPersistedSubmitButtonValue(form: HTMLFormElement): HTMLInputElement | null {\n  const input = form.querySelector('input.js-submit-button-value')\n  return input instanceof HTMLInputElement ? input : null\n}\n","// this file is a shim to allow importing @github/hotkey and is the only allowed import for @github/hotkey\n// eslint-disable-next-line no-restricted-imports\nexport * from '@github/hotkey'\n\n// - (?:^|,)    Starting with the beginning of the string or the comma delineating the previous item\n// - ((?:[^,]|,(?=\\+| |$))*(?:,(?=,))?)    The target capture group, consisting of:\n//   - (?:[^,]|,(?=\\+| |$))*    Any number of characters that are not commas, or are commas that are followed by a\n//     plus sign, space, or end of string (ie, the commas in `,+Control` or `Control+, g` or `Control+,`)\n//   - (?:,(?=,))?    Optionally ending with a comma followed by another comma, like the commas in `Control+,,n` or\n//     `Control+,,,`\n// - (?=,|$)    Ending with a comma or the end of the string\nconst chordOrKeyRegex = /(?:^|,)((?:[^,]|,(?=\\+| |$))*(?:,(?=,))?)/g\n\nexport function splitHotkeyString(hotkey: string) {\n  // \",\" is a valid key name, so we can't just use `String.split()`. Even with a regular expression we can't split, for\n  // example \"Control+,,,\" into [\"Control+,\", \",\"] without a lookbehind (not supported in Safari).\n\n  // Instead, we match against all valid substrings:\n  return Array.from(hotkey.matchAll(chordOrKeyRegex)).map(([, chord]) => chord!)\n}\n","import {AnalyticsClient, getOptionsFromMeta} from '@github/hydro-analytics-client'\nimport type {Context} from '@github/hydro-analytics-client'\nimport safeStorage from '@github-ui/safe-storage'\nimport {isStaff} from '@github-ui/stats'\nconst {getItem} = safeStorage('localStorage')\n\ndeclare const process: {\n  env: {\n    NODE_ENV: string\n  }\n}\n\nconst dimensionPrefix = 'dimension_'\nlet hydroAnalyticsClient: AnalyticsClient | undefined\n\nconst MARKETING_PARAMS = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content', 'scid']\n\ntry {\n  const options = getOptionsFromMeta('octolytics')\n\n  // Remove the base context because meta tags can change as the user navigates with Turbo\n  // These will be folded in for each event & page view\n  delete options.baseContext\n\n  hydroAnalyticsClient = new AnalyticsClient(options)\n} catch (_) {\n  // Failed to get options from meta tags.  This most likely means analytics are disabled.\n}\n\nfunction extendBaseContext(context?: Context) {\n  const baseContext = getOptionsFromMeta('octolytics').baseContext || {}\n\n  if (baseContext) {\n    delete baseContext.app_id\n    delete baseContext.event_url\n    delete baseContext.host\n\n    for (const [key, value] of Object.entries(baseContext)) {\n      // some octolytics meta tags are prefixed with dimension-, which we don't need with the new hydro-analytics-client\n      if (key.startsWith(dimensionPrefix)) {\n        baseContext[key.replace(dimensionPrefix, '')] = value\n        delete baseContext[key]\n      }\n    }\n  }\n\n  const visitorMeta = document.querySelector<HTMLMetaElement>('meta[name=visitor-payload]')\n  if (visitorMeta) {\n    const visitorHash = JSON.parse(atob(visitorMeta.content))\n    Object.assign(baseContext, visitorHash)\n  }\n\n  const urlParams = new URLSearchParams(window.location.search)\n  for (const [key, value] of urlParams) {\n    if (MARKETING_PARAMS.includes(key.toLowerCase())) {\n      baseContext[key] = value\n    }\n  }\n\n  // Include additional context from the page\n  baseContext.staff = isStaff().toString()\n\n  return Object.assign(baseContext, context)\n}\n\nexport function sendPageView(context?: Context) {\n  hydroAnalyticsClient?.sendPageView(extendBaseContext(context))\n}\n\nexport function sendEvent(type: string, context: Record<string, string | number | boolean | undefined | null> = {}) {\n  const service = document.head?.querySelector<HTMLMetaElement>('meta[name=\"current-catalog-service\"]')?.content\n\n  const cleanContext: Context = service ? {service} : {}\n\n  for (const [key, value] of Object.entries(context)) {\n    if (value !== undefined && value !== null) {\n      cleanContext[key] = `${value}`\n    }\n  }\n\n  if (hydroAnalyticsClient) {\n    const typeWithFallback = type || 'unknown'\n    const fullContext = extendBaseContext(cleanContext)\n    hydroAnalyticsClient.sendEvent(typeWithFallback, extendBaseContext(cleanContext))\n\n    if (process.env.NODE_ENV === 'development') {\n      debugSendEvent(typeWithFallback, fullContext)\n    }\n  }\n}\n\nexport function stringifyObjectValues(obj: object) {\n  return Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, JSON.stringify(v)]))\n}\n\nfunction debugSendEvent(type: string, context: Context) {\n  if (getItem('hydro-debug.send-event') === 'true') {\n    // eslint-disable-next-line no-console\n    console.group('[hydro-debug.send-event]')\n    // eslint-disable-next-line no-console\n    console.log({type, context})\n    // eslint-disable-next-line no-console\n    console.groupEnd()\n  }\n}\n","// React to elements receiving focus\n//\n// Often we need to apply some behavior to form elements when they start getting\n// interacted with. We could use `observe`, but that can be expensive if there\n// are many such elements on the page, and when we aren't actually interested in\n// those elements until they receive focus.\n//\n// This is a lightweight and preferred alternative to the family of methods\n// from `github/focused` module.\n//\n// Examples\n//\n//   onFocus('.js-widget', element => {\n//     // ...\n//   })\n\nimport SelectorSet from 'selector-set'\n\nlet initialized = false\nconst selectorSet: SelectorSet<(el: HTMLElement) => void> = new SelectorSet()\n\nfunction handleFocus(event: FocusEvent) {\n  const focused = event.target\n  if (focused instanceof HTMLElement && focused.nodeType !== Node.DOCUMENT_NODE) {\n    for (const match of selectorSet.matches(focused)) {\n      match.data.call(null, focused)\n    }\n  }\n}\n\nexport function onFocus(selector: string, fn: (el: HTMLElement) => unknown) {\n  if (!initialized) {\n    initialized = true\n    // We use the \"focus\" event in the capture phase because Firefox\n    // historically had a limitation with \"focusin\" not bubbling.\n    document.addEventListener('focus', handleFocus, true)\n  }\n  selectorSet.add(selector, fn)\n\n  if (document.activeElement instanceof HTMLElement && document.activeElement.matches(selector)) {\n    fn(document.activeElement)\n  }\n}\n\nexport function onKey(\n  eventType: 'keydown' | 'keypress' | 'keyup',\n  selector: string,\n  inputHandler: (event: KeyboardEvent) => unknown,\n) {\n  function blurHandler(event: Event) {\n    const currentTarget = event.currentTarget as HTMLElement\n    if (!currentTarget) return\n    currentTarget.removeEventListener(eventType, inputHandler)\n    currentTarget.removeEventListener('blur', blurHandler)\n  }\n\n  onFocus(selector, function (field) {\n    field.addEventListener(eventType, inputHandler)\n    field.addEventListener('blur', blurHandler)\n  })\n}\n\nexport function onInput(selector: string, inputHandler: EventListener) {\n  function blurHandler(event: Event) {\n    const {currentTarget} = event\n    if (!currentTarget) return\n\n    currentTarget.removeEventListener('input', inputHandler)\n    currentTarget.removeEventListener('blur', blurHandler)\n  }\n\n  onFocus(selector, function (field) {\n    field.addEventListener('input', inputHandler)\n    field.addEventListener('blur', blurHandler)\n  })\n}\n","import {ghTrustedTypes} from '@github-ui/trusted-types'\nimport {trustedTypesPolicy} from './policy'\n\nconst policyName = 'parse-html-no-op'\n// This is a temporary policy to allow us to migrate to Trusted Types without breaking existing code.\nexport const temporaryPermissiveParseHTMLPolicy = ghTrustedTypes.createPolicy(policyName, {\n  createHTML: (s: string) => {\n    return trustedTypesPolicy.apply({\n      policy: () => s,\n      policyName,\n      fallback: s,\n      sanitize: false,\n      fallbackOnError: true,\n    })\n  },\n})\n","import {temporaryPermissiveParseHTMLPolicy} from '@github-ui/trusted-types-policies/parse-html'\n\nexport function parseHTML(document: Document, html: string): DocumentFragment {\n  const template = document.createElement('template')\n  template.innerHTML = temporaryPermissiveParseHTMLPolicy.createHTML(html)\n  return document.importNode(template.content, true)\n}\n","import safeStorage from './safe-storage'\n\nexport const {getItem, setItem, removeItem} = safeStorage('sessionStorage')\n","import {SOFT_NAV_STATE} from './states'\n\nexport type SoftNavMechanism = 'turbo' | 'react' | 'turbo.frame'\n\nclass SoftNavEvent extends Event {\n  mechanism: SoftNavMechanism\n\n  constructor(mechanism: SoftNavMechanism, type: string) {\n    super(type)\n    this.mechanism = mechanism\n  }\n}\n\nexport class SoftNavStartEvent extends SoftNavEvent {\n  constructor(mechanism: SoftNavMechanism) {\n    super(mechanism, SOFT_NAV_STATE.START)\n  }\n}\n\nexport class SoftNavSuccessEvent extends SoftNavEvent {\n  visitCount: number\n\n  constructor(mechanism: SoftNavMechanism, visitCount: number) {\n    super(mechanism, SOFT_NAV_STATE.SUCCESS)\n    this.visitCount = visitCount\n  }\n}\n\nexport class SoftNavErrorEvent extends SoftNavEvent {\n  error: string\n\n  constructor(mechanism: SoftNavMechanism, error: string) {\n    super(mechanism, SOFT_NAV_STATE.ERROR)\n    this.error = error\n  }\n}\n\nexport class SoftNavEndEvent extends SoftNavEvent {\n  constructor(mechanism: SoftNavMechanism) {\n    super(mechanism, SOFT_NAV_STATE.END)\n  }\n}\n","import {SOFT_NAV_STATE} from './states'\nimport {\n  SoftNavEndEvent,\n  SoftNavErrorEvent,\n  type SoftNavMechanism,\n  SoftNavStartEvent,\n  SoftNavSuccessEvent,\n} from './events'\nimport {markStart, sendFailureStats, sendRenderStats} from './stats'\nimport {\n  clearSoftNav,\n  getSoftNavFailReason,\n  getSoftNavMechanism,\n  setSoftNavMechanism,\n  unsetSoftNav,\n  setSoftNavReferrer,\n  setSoftNavReactAppName,\n  inSoftNav,\n  getCurrentReactAppName,\n  DEFAULT_SOFT_NAV_ERROR_REASON,\n  setLatestMechanism,\n} from './utils'\n\ninterface SoftNavOptions {\n  skipIfGoingToReactApp?: boolean\n  allowedMechanisms?: SoftNavMechanism[]\n}\n\nlet visitCount = 0\n\nexport function initSoftNav() {\n  visitCount = 0\n  document.dispatchEvent(new Event(SOFT_NAV_STATE.INITIAL))\n\n  clearSoftNav()\n}\n\nexport function startSoftNav(mechanism: SoftNavMechanism) {\n  if (inSoftNav()) return\n\n  startProgressBar()\n  document.dispatchEvent(new SoftNavStartEvent(mechanism))\n\n  setSoftNavMechanism(mechanism)\n  setSoftNavReactAppName()\n  setSoftNavReferrer()\n  markStart()\n}\n\nexport function succeedSoftNav(options: SoftNavOptions = {}) {\n  if (!canTriggerEvent(options)) return\n\n  visitCount += 1\n\n  document.dispatchEvent(new SoftNavSuccessEvent(getSoftNavMechanism(), visitCount))\n  endSoftNav(options)\n}\n\nexport function failSoftNav(options: SoftNavOptions = {}) {\n  if (!canTriggerEvent(options)) return\n\n  visitCount = 0\n  const reason = getSoftNavFailReason() || DEFAULT_SOFT_NAV_ERROR_REASON\n  document.dispatchEvent(new SoftNavErrorEvent(getSoftNavMechanism(), reason))\n\n  endProgressBar()\n  sendFailureStats(reason)\n  clearSoftNav()\n}\n\nexport function endSoftNav(options: SoftNavOptions = {}) {\n  if (!canTriggerEvent(options)) return\n\n  const mechanism = getSoftNavMechanism()\n  endProgressBar()\n  document.dispatchEvent(new SoftNavEndEvent(mechanism))\n\n  unsetSoftNav()\n  setLatestMechanism(mechanism)\n}\n\nexport function renderedSoftNav(options: SoftNavOptions = {}) {\n  if (!canTriggerEvent(options)) return\n\n  sendRenderStats()\n  document.dispatchEvent(new Event(SOFT_NAV_STATE.RENDER))\n}\n\nexport function updateFrame() {\n  document.dispatchEvent(new Event(SOFT_NAV_STATE.FRAME_UPDATE))\n}\n\nfunction startProgressBar() {\n  document.dispatchEvent(new Event(SOFT_NAV_STATE.PROGRESS_BAR.START))\n}\n\nfunction endProgressBar() {\n  document.dispatchEvent(new Event(SOFT_NAV_STATE.PROGRESS_BAR.END))\n}\n\nfunction canTriggerEvent({skipIfGoingToReactApp, allowedMechanisms = []}: SoftNavOptions = {}) {\n  return (\n    inSoftNav() &&\n    (allowedMechanisms.length === 0 || allowedMechanisms.includes(getSoftNavMechanism())) &&\n    (!skipIfGoingToReactApp || !getCurrentReactAppName())\n  )\n}\n","export const SOFT_NAV_STATE = Object.freeze({\n  INITIAL: 'soft-nav:initial',\n  START: 'soft-nav:start',\n  SUCCESS: 'soft-nav:success',\n  ERROR: 'soft-nav:error',\n  FRAME_UPDATE: 'soft-nav:frame-update',\n  END: 'soft-nav:end',\n  RENDER: 'soft-nav:render',\n  PROGRESS_BAR: {\n    START: 'soft-nav:progress-bar:start',\n    END: 'soft-nav:progress-bar:end',\n  },\n})\n","import {sendStats} from '@github-ui/stats'\nimport {getCurrentReactAppName, getSoftNavMechanism, getSoftNavReactAppName, getSoftNavReferrer} from './utils'\nimport type {SoftNavMechanism} from './events'\n\nexport const SOFT_NAV_DURATION_MARK = 'stats:soft-nav-duration'\nexport const MECHANISM_MAPPING: Record<SoftNavMechanism | 'ui' | 'hard', PlatformBrowserSoftNavigationMechanism> = {\n  turbo: 'TURBO',\n  react: 'REACT',\n  'turbo.frame': 'FRAME',\n  ui: 'UI',\n  hard: 'HARD',\n}\nexport function markStart() {\n  // browswers only record the first ~150 resources\n  // clearing it here provides room to track additional resources loaded during the soft-nav\n  performance.clearResourceTimings()\n  performance.mark(SOFT_NAV_DURATION_MARK)\n}\n\nfunction getDurationSinceLastSoftNav() {\n  if (performance.getEntriesByName(SOFT_NAV_DURATION_MARK).length === 0) {\n    return null\n  }\n\n  performance.measure(SOFT_NAV_DURATION_MARK, SOFT_NAV_DURATION_MARK)\n  const measures = performance.getEntriesByName(SOFT_NAV_DURATION_MARK)\n  const measure = measures.pop()\n  return measure ? measure.duration : null\n}\n\nexport function sendFailureStats(turboFailureReason: string) {\n  sendStats({\n    turboFailureReason,\n    turboStartUrl: getSoftNavReferrer(),\n    turboEndUrl: window.location.href,\n  })\n}\n\nexport function sendRenderStats() {\n  const duration = getDurationSinceLastSoftNav()\n\n  if (!duration) return\n\n  const mechanism = MECHANISM_MAPPING[getSoftNavMechanism()]\n  const roundedDuration = Math.round(duration)\n\n  if (mechanism === MECHANISM_MAPPING.react)\n    document.dispatchEvent(new CustomEvent('staffbar-update', {detail: {duration: roundedDuration}}))\n\n  sendStats({\n    requestUrl: window.location.href,\n    softNavigationTiming: {\n      mechanism,\n      destination: getCurrentReactAppName() || 'rails',\n      duration: roundedDuration,\n      initiator: getSoftNavReactAppName() || 'rails',\n    },\n  })\n}\n","import {getItem, removeItem, setItem} from '@github-ui/safe-storage/session-storage'\nimport type {SoftNavMechanism} from './events'\n\nexport const DEFAULT_SOFT_NAV_ERROR_REASON = 'reload'\n\nexport const SOFT_NAV_FAIL = 'soft-nav:fail'\nexport const SOFT_NAV_FAIL_REFERRER = 'soft-nav:fail-referrer'\nexport const SOFT_NAV_REFERRER = 'soft-nav:referrer'\nexport const SOFT_NAV_MARK = 'soft-nav:marker'\nexport const SOFT_NAV_REACT_APP_NAME = 'soft-nav:react-app-name'\nexport const SOFT_NAV_LATEST_MECHANISM = 'soft-nav:latest-mechanism'\n\nexport function clearSoftNav() {\n  setItem(SOFT_NAV_MARK, '0')\n  removeItem(SOFT_NAV_REFERRER)\n  removeItem(SOFT_NAV_FAIL)\n  removeItem(SOFT_NAV_FAIL_REFERRER)\n  removeItem(SOFT_NAV_REACT_APP_NAME)\n  removeItem(SOFT_NAV_LATEST_MECHANISM)\n}\n\nexport function setSoftNavMechanism(mechanism: SoftNavMechanism) {\n  setItem(SOFT_NAV_MARK, mechanism)\n}\n\nexport function unsetSoftNav() {\n  setItem(SOFT_NAV_MARK, '0')\n}\n\nexport function inSoftNav() {\n  const softNav = getItem(SOFT_NAV_MARK)\n  return softNav && softNav !== '0'\n}\n\nexport function getSoftNavMechanism(): SoftNavMechanism {\n  return getItem(SOFT_NAV_MARK) as SoftNavMechanism\n}\n\nexport function hasSoftNavFailure() {\n  return Boolean(getSoftNavFailReason())\n}\n\nexport function getSoftNavFailReason() {\n  return getItem(SOFT_NAV_FAIL)\n}\n\nexport function setSoftNavFailReason(reason: string) {\n  setItem(SOFT_NAV_FAIL, reason || DEFAULT_SOFT_NAV_ERROR_REASON)\n  setItem(SOFT_NAV_FAIL_REFERRER, window.location.href)\n}\n\nexport function setSoftNavReferrer() {\n  setItem(SOFT_NAV_REFERRER, window.location.href)\n}\n\nexport function getSoftNavReferrer() {\n  return getItem(SOFT_NAV_REFERRER) || document.referrer\n}\n\nexport function setSoftNavReactAppName() {\n  const appName = getCurrentReactAppName()\n\n  if (appName) {\n    setItem(SOFT_NAV_REACT_APP_NAME, appName)\n  } else {\n    removeItem(SOFT_NAV_REACT_APP_NAME)\n  }\n}\n\nexport function getSoftNavReactAppName() {\n  return getItem(SOFT_NAV_REACT_APP_NAME)\n}\n\nexport function getCurrentReactAppName() {\n  if (document.querySelector('meta[name=\"ui\"]')) return 'ui'\n\n  return document.querySelector('react-app')?.getAttribute('app-name')\n}\n\nexport function setLatestMechanism(mechanism: SoftNavMechanism) {\n  setItem(SOFT_NAV_LATEST_MECHANISM, mechanism)\n}\n\nexport function getLatestMechanism() {\n  return getItem(SOFT_NAV_LATEST_MECHANISM) as SoftNavMechanism\n}\n","import {startSoftNav} from '@github-ui/soft-nav/state'\nimport {visit} from '@github/turbo'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function softNavigate(url: string, turboOptions?: any) {\n  // visit won't fire a `turbo:click` event, so we need to manually start the soft navigation process.\n  startSoftNav('turbo')\n  visit(url, {...turboOptions})\n}\n","// TODO: Research replacing this module with a composable observable library.\n// The scope of this module simply returns a finalized subscription object.\n\n// Lightweight TC39 observable Subscription.\nexport class Subscription {\n  constructor(cleanup: () => void) {\n    this.closed = false\n    this.unsubscribe = () => {\n      cleanup()\n      this.closed = true\n    }\n  }\n\n  // A boolean value indicating whether the subscription is closed.\n  closed: boolean\n  // Cancels the subscription.\n  unsubscribe: () => void\n}\n\n// Create a Subscription from an event.\nexport function fromEvent(\n  target: EventTarget,\n  eventName: string,\n  onNext: EventListenerOrEventListenerObject,\n  options: AddEventListenerOptions = {capture: false},\n): Subscription {\n  target.addEventListener(eventName, onNext, options)\n  return new Subscription(() => {\n    target.removeEventListener(eventName, onNext, options)\n  })\n}\n\n// Combine several subscriptions into a single subscription.\n//\n// subscriptions - A list of subscriptions to combine.\n//\n// Returns a single, combined, subscription.\nexport function compose(...subscriptions: Subscription[]): Subscription {\n  return new Subscription(() => {\n    for (const subscription of subscriptions) {\n      subscription.unsubscribe()\n    }\n  })\n}\n","// Gets the length of code-points from a String.\n//\n// This is different to `string.length` which returns the amount of utf-8\n// bytes, which is a different metric as - for example - the poo emoji is 2\n// utf-8 bytes, but 1 unicode code point.\n//\n// See http://blog.jonnew.com/posts/poo-dot-length-equals-two for more.\nexport function getUtf8StringLength(str: string): number {\n  const joiner = '\\u200D'\n  const split = str.split(joiner)\n  let count = 0\n\n  for (const s of split) {\n    // removing the variation selectors\n    const num = Array.from(s.split(/[\\ufe00-\\ufe0f]/).join('')).length\n    count += num\n  }\n\n  // assuming the joiners are used appropriately\n  return count / split.length\n}\n/**\n * Replace text in a textarea with a new string and\n * place the cursor at the selectionEnd position.\n * @param textarea an `<input>` or `<textarea>` element\n * @param oldText The text to replace\n * @param newText The new text to replace with\n * @param isFocused whether the textarea is currently in focus\n * @returns The new text\n */\nexport function replaceText(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  oldText: string,\n  newText: string,\n  isFocused = true,\n): string {\n  let beginning = textarea.value.substring(0, textarea.selectionEnd || 0)\n  let remaining = textarea.value.substring(textarea.selectionEnd || 0)\n  beginning = beginning.replace(oldText, newText)\n  remaining = remaining.replace(oldText, newText)\n\n  setTextareaValueAndCursor(textarea, beginning + remaining, beginning.length, isFocused)\n\n  return newText\n}\n\n/**\n * Replace selected text in a textarea with a new string.\n * If the selection is empty, the old text is replaced by the\n * new text in the whole textarea.\n * @param textarea an `<input>` or `<textarea>` element\n * @param oldText The text to replace\n * @param newText The new text to replace with\n * @returns The new text\n */\nexport function replaceSelection(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  oldText: string,\n  newText: string,\n): string {\n  if (textarea.selectionStart === null || textarea.selectionEnd === null) {\n    return replaceText(textarea, oldText, newText)\n  }\n  const beginning = textarea.value.substring(0, textarea.selectionStart)\n  const remaining = textarea.value.substring(textarea.selectionEnd)\n\n  setTextareaValueAndCursor(textarea, beginning + newText + remaining, beginning.length)\n\n  return newText\n}\n\ntype InsertOptions = {\n  appendNewline?: boolean\n}\n/**\n * Inserts text into a text input and moves the cursor appropriately.\n * If the cursor happens to be in the middle of a line, or the textarea isn't empty,\n * we add a newline character before the inserted text. We also advance the cursor\n * appropriately\n * @param textarea an `<input>` or `<textarea>` element\n * @param text The text to add\n * @param appendNewline optionally adds a `\\n` character after `text`\n */\nexport function insertText(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  text: string,\n  options: InsertOptions = {},\n): string {\n  const point = textarea.selectionEnd || 0\n  const beginning = textarea.value.substring(0, point)\n  const remaining = textarea.value.substring(point)\n  const newline = textarea.value === '' || beginning.match(/\\n$/) ? '' : '\\n'\n  const trailingNewline = options.appendNewline ? '\\n' : ''\n  const insertedText = newline + text + trailingNewline\n\n  textarea.value = beginning + insertedText + remaining\n  const newPoint = point + insertedText.length\n  textarea.selectionStart = newPoint\n  textarea.selectionEnd = newPoint\n  textarea.dispatchEvent(new CustomEvent('change', {bubbles: true, cancelable: false}))\n  textarea.focus()\n  return insertedText\n}\n\n/**\n * Helper function to set the value of a textarea and move the cursor to a given position.\n * Emits a `change` event.\n * @param textarea an `<input>` or `<textarea>` element\n * @param value The new value\n * @param cursor The position to move the cursor to\n * @param isFocused whether the textarea is currently in focus\n */\nfunction setTextareaValueAndCursor(\n  textarea: HTMLInputElement | HTMLTextAreaElement,\n  value: string,\n  cursor: number,\n  isFocused = true,\n) {\n  textarea.value = value\n\n  if (isFocused) {\n    textarea.selectionStart = cursor\n    textarea.selectionEnd = cursor\n  }\n\n  textarea.dispatchEvent(new CustomEvent('change', {bubbles: true, cancelable: false}))\n}\n\n// Returns the character index for a given byte position, taking character encoding into account\n// Example usage for this method: highlighing text in a textarea that may contain non-UTF8 characters\n//\n// For context, in Javascript, strings are UTF16. However, Codemirror uses simple Javascript\n// indexing, that isn't Unicode aware. This leads to incorrect highlighting.\n//\n// For example, '' is represented as 4 bytes. In Javascript, it has length 2\n// and is composed of a surrogate pair (2 code points). ''.length is 2.\n// Given text string such as 'hello  world', this would be represented in hex as:\n// \n// 00000000 68 65 6c 6c 6f 20 f0 9f  92 a9 20 77 6f 72 6c 64 hello  world\n// \n// The string 'world' appears at byte positions (11, 16), but in Javascript `str.slice(11, 16)` returns 'rld'.\n// The correct position in Javascript, and codemirror, would be: (9, 14).\n//\n// When encoded using `TextEncoder#encodeInto` with '', we'd get an object with\n// the following properties: {written: 4, read: 2}. This discrepancy informs us\n// that we need to offset the start and end positions by 2.\nexport function GetCharIndexFromBytePosition(str: string, pos: number): number {\n  // The string iterator [...str] is unicode aware, and allows us to correctly\n  // iterate over each grapheme in the string. Iterating over `str[i]` would\n  // not work, as it separates the astral symbol into each of its surrogates.\n  const contents = [...str]\n  const encoder = new TextEncoder()\n\n  // Astral code points in Javascript are a surrogate pair of 2 UTF16 code units, or 4 bytes\n  const u8array = new Uint8Array(4)\n\n  for (let i = 0; i < contents.length; i++) {\n    const char = contents[i]!\n    const {written, read} = encoder.encodeInto(char, u8array)\n    if (!written || !read) {\n      return -1\n    }\n    const diff = written - read\n    if (diff === 0) {\n      continue\n    }\n\n    if (i < pos) {\n      pos -= diff\n    }\n\n    if (i >= pos) {\n      break\n    }\n  }\n\n  return pos\n}\n","import {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {sendStats} from '@github-ui/stats'\n// eslint-disable-next-line no-restricted-imports\nimport {reportError} from '@github-ui/failbot'\nimport dompurify from 'dompurify'\nimport {sendEvent} from '@github-ui/hydro-analytics'\n\nexport class TrustedTypesPolicyError extends Error {}\n\ninterface PolicyParam {\n  policy: () => string\n  policyName: string\n  fallback: string\n  fallbackOnError?: boolean\n  sanitize?: boolean // report-only mode for now\n  silenceErrorReporting?: boolean\n}\n\nfunction apply({\n  policy,\n  policyName,\n  fallback,\n  fallbackOnError = false,\n  sanitize,\n  silenceErrorReporting = false,\n}: PolicyParam): string {\n  try {\n    if (isFeatureEnabled('BYPASS_TRUSTED_TYPES_POLICY_RULES')) return fallback\n    sendStats({incrementKey: 'TRUSTED_TYPES_POLICY_CALLED', trustedTypesPolicyName: policyName}, false, 0.1)\n    const policyOutput = policy()\n    if (sanitize) {\n      new Promise(resolve => {\n        const startTime = window.performance.now()\n        const sanitized = dompurify.sanitize(policyOutput, {FORBID_ATTR: []})\n        const endTime = window.performance.now()\n        const executionTime = endTime - startTime\n        if (policyOutput.length !== sanitized.length) {\n          const err = new Error('Trusted Types policy output sanitized')\n          const stack = err.stack?.slice(0, 1000)\n          const output = policyOutput.slice(0, 250)\n          sendEvent('trusted_types_policy.sanitize', {\n            policyName,\n            output,\n            stack,\n            outputLength: policyOutput.length,\n            sanitizedLength: sanitized.length,\n            executionTime,\n          })\n          resolve(policyOutput)\n        }\n      })\n    }\n    return policyOutput\n  } catch (e) {\n    if (e instanceof TrustedTypesPolicyError) throw e\n    if (!silenceErrorReporting) reportError(e)\n    sendStats({incrementKey: 'TRUSTED_TYPES_POLICY_ERROR', trustedTypesPolicyName: policyName})\n    if (!fallbackOnError) throw e\n  }\n\n  return fallback\n}\n\nexport const trustedTypesPolicy = {apply}\n","/* eslint no-restricted-globals: ['off', '__TRUSTED_TYPE_POLICIES__'] */\nimport {ssrSafeDocument} from '@github-ui/ssr-utils'\nimport {sendStats} from '@github-ui/stats'\n\n/*\n * Tinyfill for trusted types\n */\n\ninterface GHTrustedTypePolicyOptions {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  createHTML: (input: string, ...args: any[]) => string\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  createScript: (input: string, ...args: any[]) => string\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  createScriptURL: (input: string, ...args: any[]) => string\n}\n\ninterface GHTrustedTypePolicyWithName extends GHTrustedTypePolicyOptions {\n  name: string\n}\n\nfunction unimplemented(functionName: string) {\n  return () => {\n    throw new TypeError(`The policy does not implement the function ${functionName}`)\n  }\n}\n\nconst fallbacks = {\n  createHTML: unimplemented('createHTML'),\n  createScript: unimplemented('createScript'),\n  createScriptURL: unimplemented('createScriptURL'),\n}\n\nconst tinyfill = {\n  createPolicy: (name: string, rules: Partial<GHTrustedTypePolicyOptions>): GHTrustedTypePolicyWithName => ({\n    name,\n    ...fallbacks,\n    ...rules,\n  }),\n}\n\ntype TrustedTypesPolicies = Map<string, GHTrustedTypePolicyOptions>\n\ndeclare global {\n  // eslint-disable-next-line no-var\n  var trustedTypes: typeof tinyfill | undefined\n  // We need to store the policies in a global variable so that they accurately track the global policy store in the\n  // browser. This prevents false misses when there is more than one instance of this module loaded on the page.\n  // eslint-disable-next-line no-var\n  var __TRUSTED_TYPE_POLICIES__: TrustedTypesPolicies\n}\n\nconst registeredPolicies: TrustedTypesPolicies = (globalThis.__TRUSTED_TYPE_POLICIES__ ??= new Map())\n\n// eslint-disable-next-line compat/compat\nconst trustedTypes = globalThis.trustedTypes ?? tinyfill\n\nexport const ghTrustedTypes = {\n  createPolicy: (name: string, rules: Partial<GHTrustedTypePolicyOptions>): GHTrustedTypePolicyWithName => {\n    if (registeredPolicies.has(name)) {\n      sendStats({\n        incrementKey: 'TRUSTED_TYPES_POLICY_INITIALIZED_TWICE',\n      })\n      return registeredPolicies.get(name) as GHTrustedTypePolicyWithName\n    } else {\n      const policy = Object.freeze(trustedTypes.createPolicy(name, rules))\n      registeredPolicies.set(name, policy)\n      return policy\n    }\n  },\n}\n\n// This export is only for testing. Do not import in production code.\nexport const registeredPoliciesForTesting = registeredPolicies\nexport const tinyfillForTesting = tinyfill\n\n/*\n *\n * This is a temporary warning to indicate to hubbers that the following errors are expected and safe to ignore.\n *\n */\nlet hasWarnedHubberAboutTrustedTypes = false\n\nssrSafeDocument?.addEventListener('securitypolicyviolation', (e: SecurityPolicyViolationEvent) => {\n  if (e.violatedDirective === 'require-trusted-types-for' && !hasWarnedHubberAboutTrustedTypes) {\n    // eslint-disable-next-line no-console\n    console.warn(`Hi fellow Hubber!\n    You're probably seeing a Report Only Trusted Types error near this message. This is intended behaviour, staff-only,\n    does not impact application control flow, and is used solely for statistic collection. Unfortunately we\n    can't gather these statistics without adding the above warnings to your console. Sorry about that!\n    Feel free to drop by #prodsec-engineering if you have any additional questions about Trusted Types or CSP.`)\n    hasWarnedHubberAboutTrustedTypes = true\n  }\n})\n"],"names":["InputDemuxElement","HTMLElement","connectedCallback","control","storedInput","Array","children","length","fill","addEventListener","relayInput","bind","relayKeydown","details","closest","open","source","focus","e","isControlTab","target","key","preventDefault","stopPropagation","routeCustomEvent","CustomEvent","removeAttribute","element","from","includes","text","value","detail","event","sink","sinks","selectedIndex","dispatchEvent","selected","querySelector","indexOf","storeInput","updateInput","placeholder","relatedTarget","getAttribute","setAttribute","notifySelected","targets","controller","on","oldValue","newControl","newTabPanel","tabContainer","currentTarget","controlInput","querySelectorAll","FilterInputElement","RemoteInputElement","id","isNewControl","hidden","input","newInput","undefined","HTMLDetailsElement","sendHydroEvent","BypassReasonSelectorElement","reasonSelected","submitBtn","disabled","copyBlobFields","blobEditorForm","document","bypassForm","HTMLFormElement","createHiddenInputField","elements","HTMLInputElement","name","form","copyInput","createElement","type","appendChild","required","CodeEditorExtensions","parseDiscoveredSecrets","fileContents","discoveredSecrets","secrets","JSON","parse","locations","location","lines","split","normalizedStartLine","start_line","startLine","normalizedEndLine","end_line","endLine","normalizedStartBytePosition","start_line_byte_position","startLineBytePosition","normalizedEndBytePosition","end_line_byte_position","endLineBytePosition","startLineCharacter","GetCharIndexFromBytePosition","endLineCharacter","parseSingleSecret","parsedStartLine","parsedEndLine","annotateDiscoveredSecrets","codeEditor","getValue","markText","line","ch","className","emitAnnotateDiscoveredSecrets","emitToCodeMirror","lineNumber","character","to","severity","emitAnnotateDiscoveredSecretsWithLocation","parsed","observe","add","banner","getElementById","commitTitle","classList","BranchFilterElement","submit","resetField","eventToHotkeyString","hadValue","field","trim","search","reset","fire","activeFilter","filters","find","el","contains","originalSelectedItem","hasQuery","url","queryUrl","URL","action","window","origin","params","URLSearchParams","slice","utf8","namedItem","append","toString","toggle","remove","allFilter","abortSearch","abort","signal","AbortController","fragment","fetchSafeDocumentFragment","replaceState","result","textContent","aborted","debounce","BranchFilterItemElement","branch","branches","container","filter","dialogBodyPath","destroyDialog","loading","load","spinner","destroyButton","mode","restore","response","fetch","method","body","FormData","headers","ok","reload","setTimeout","destroy","dialogBodyResponse","disableAllDeleteButtons","displayServerError","status","setUpDialog","HTMLDialogElement","showModal","show","confirmDeletion","close","announce","restoreButton","innerHTML","closeHandler","cancelHandler","handleDialogClose","removeDialogEventListeners","handleDialogCancel","removeEventListener","disable","btn","display","is404","errorDiv","warningDiv","subscribe","fromEvent","data","redirect_to","href","stopImmediatePropagation","percentage","parseInt","lfsContainer","storageUsed","style","width","remoteForm","wants","html","selectedAuthor","replaceWith","requestSubmit","mergeQueueLink","newCount","queue_entries_count","singularMessage","pluralMessage","changedPrivacyManually","profileReadmeParam","urlSearchParams","get","handleOwnerChange","selectedOwner","allowPublicRepos","publicRadio","enableDisableRepoType","internalRadio","updateInternalDiv","businessId","internalSelected","div","checked","selectedDiv","label","description","restrictedByPolicyDescription","allowPrivateRepos","privateRadio","privateLabel","privateDescription","privateRestrictedByPolicyDescription","checkOwnerSelected","hideOrgUpgradeLinks","visibleOrgUpgradeLink","privateRestrictedByPlan","upgradePrivateDescription","displayUpsell","orgName","orgUpgradeLink","askOwnerMessage","updateRepoDestinationMessageFromSelectedOwner","radio","updateRepoDestinationMessage","defaultNewRepoBranch","defaultNewRepoBranchDescription","settingsLinkPrefix","settingsLinkPrefixDescription","settingsUrl","settingsLinkContainer","orgSettingsInfoContainer","settingsLink","ownerIsAnOrg","hasAttribute","tradeRestricted","viewerIsOrganizationAdmin","individualTradeRestricted","orgRestrictedWithoutPrivateRepos","tradeControlsDescription","individualTradeControlsDescription","ensureOneRadioIsSelected","selectRadio","disabledSelected","noneSelected","togglePermissionFields","hasPermission","erroredEl","warnEl","toggleRepoNameAutoCheck","autoCheck","src","disabledSrc","handlePrivacyChange","quickInstallContainer","quickInstallDivider","ownerParent","owner","parentElement","installList","HTMLTemplateElement","quickInstallDestination","content","cloneNode","validate","visibility","enterpriseName","isUserOrOrg","creatingOrgMessage","creatingEnterpriseMessage","repoDestinationMessageElement","creatingRepoPreamble","visibilityMessage","enabled","restrictedDescription","selectedOwnerElement","ownerFormGroup","repoNameInput","ownerSelected","isOwnerFormFocused","activeElement","repoOwner","repoName","repoUrl","valid","ownerValid","focusFirstFormField","repoUrlInput","templateSelect","ownerSelect","checkbox","pageUrl","readOnly","capture","renderOrgProfileHint","orgMessageElement","ownerInput","hideMessage","toLowerCase","nameSuggestion","renderOrgPrivateProfileHint","renderPersonalProfileHint","messageElement","defaultValue","diffstatCall","diffstatUrl","loadContributionData","contributionDataContainer","err","blankLoading","blankError","onInput","formGroup","HTMLDListElement","insecureUrlWarning","svnProtocolError","gitProtocolError","startsWith","evt","toggleDefaultBranchInfo","defaultBranchInfo","anyChecked","checkedCheckboxes","saveDraft","button","setState","Accept","release","json","announceFromElement","processMarketplacePublishCheckbox","previewPane","state","message","setTagWrapperState","wrapper","tagInput","refreshGenerateNotesButton","setGeneratedNotesFetchState","getTagState","preReleaseCheckbox","isStoredLatest","latestReleaseCheckbox","wasCheckedAndDisabled","update_url","update_authenticity_token","tokenInput","history","title","edit_url","methodInput","lastChecked","WeakMap","getTagName","selectedRadio","checkTag","tagElement","tagValue","set","release_id","processChangedTag","generateNotes","desiredButtonWidth","offsetWidth","getCommitish","commitish","bodyInput","existingBody","getNotesTrackingState","concat","titleInput","setNotesTrackingState","warningDisplay","warning_message","error","errorDisplay","generatedNotesFetchStates","newState","map","icon","buttonText","previewable","baseUrl","String","inputs","forceDisabled","generateNotesButton","previousTagPicker","toolTip","tagState","tagIsInvalid","disabledState","processChangedBody","notesState","detailsMenu","focusTrap","card","expandedCardUrl","truncateSpinner","parentNode","includeFragmentElement","encodeURI","pageTitle","pageTitleContainer","releaseFilter","setSelectionRange","BRANCH_PLACEHOLDER","updateRenameInstructions","newName","wasNewNameGiven","autocheckMessage","usingPlaceholder","newNameEl","docsEl","toggleSubmit","formSubmit","formSubmitSelector","isEmpty","branchNameInput","isTemplateSelected","autoInitOptions","templateSettings","templateNameDisplays","templateNameEl","radioContainer","templateOwner","ownerChoice","viewerOwnerChoice","templateNameDisplay","templateSetting","fuzzyScore","memoize","score","onKey","back","listInput","list","virtualFilter","virtualList","listResults","template","combobox","Combobox","item","query","hasMatch","updating","sort","a","b","stop","start","navigate","frag","TemplateInstance","Math","random","substr","urlEncodedItem","encodeURIComponent","replaceAll","marker","positions","savingManifest","manifests","hideProgress","progress","onerror","manifestReadyCheck","fetchPoll","decodedResponse","errorMessage","utf8Decoder","TextDecoder","reader","getReader","done","read","decode","stream","jobInfo","responseAsJson","job","error_message","failedRuns","failed_runs","throwManifestFileUploadError","ruleRun","rule_run","rule_type","candidate","violations","items","detectedSecrets","evaluation_metadata","scan_results","csrfInput","bypassResponse","stringify","file","secretBypassDialog","failureMessageElement","Error","descriptionElement","getReleaseId","attachments","max","transfer","files","Attachment","traverse","SOFT_NAV_STATE","SUCCESS","attach","once","softNavigate","resolve","batch","policyForm","preprocess","addInfo","showProgress","uploaded","end","size","push","then","parent","first","Promise","_resolve","manifestIdField","commit","upload_manifest","attachment","fullPath","row","removeButton","ariaLabel","fileID","root","isFinished","percent","entry","hasChildNodes","initialize","dialogCloseButton","manifestReadyCheckElement","onclick","indexPageUrl","savingDraft","candidates","ids","join","remaining","after","policy","meter","replaceId","asset","Number","releaseAsset","pop","filesize","toFixed","RepoCodespacesCountElement","constructor","GetRepoElement","handleGetRepoElement","getRepoElement","openOrCreateInCodespace","codespacesCount","showOpenOrCreateInCodespace","removeOpenOrCreateInCodespace","attrPrefix","attr","queryLast","selector","requestUri","protocol","host","pagePathname","locationOverride","pathname","pageQuery","stripParams","extraParams","meta","names","replace","options","isFeatureEnabled","getTextContent","liveRegionAnnounceFromElement","politeness","assertive","Element","prototype","ariaNotify","interrupt","liveRegionAnnounce","setContainerContent","ssrSafeDocument","innerText","turboAction","sessionHistoryEntries","sessionHistoryOffset","getState","safeGetHistory","min","ssrSafeHistory","ssrSafeLocation","ssrSafeWindow","bubbles","cancelable","uniqueId","Date","getTime","pushState","oldState","_id","initializeState","currentState","turbo","restorationIdentifier","restoreId","position","editorTarget","innerEditorTarget","extensionErrors","errorsReported","loadTime","now","EXPECTED_NETWORK_ERROR_MESSAGES","Set","isExpectedError","has","reportError","context","isIgnoredNonError","ignoredErrorMessages","some","code","errorForStackTrace","serializedErrorValue","serializeNonError","report","errorContext","stacktrace","catalogService","formatError","unloaded","isSupported","head","stack","frame","extensions","test","filename","function","Object","assign","sanitizedUrl","readyState","referrer","getSoftNavReferrer","timeSinceLoad","round","user","pageUser","login","clientId","getOrCreateClientId","bundler","ui","Boolean","methodName","lineno","colno","column","BroadcastChannel","sharedWorkerErrorChannel","ResponseError","policyName","serverXSafeHTMLPolicy","ghTrustedTypes","createPolicy","createHTML","s","trustedTypesPolicy","apply","verifyResponseHtmlSafeNonce","nonces","allowJson","contentType","responseNonce","getDocumentHtmlSafeNonces","fallback","silenceErrorReporting","request","Request","self","statusText","trustedHTML","parseHTML","timeBetweenRequests","acceptedStatusCodes","pollStatusCodes","poll","wait","fetchRetry","fetchOptions","attempt","retry","reject","submitter","checkButtonValidity","persistSubmitButtonValue","changeValue","fillFormValues","fields","HTMLTextAreaElement","isFormField","nodeName","isContentEditable","searchParamsFromFormData","formData","combineGetFormSearchParams","formAction","allSearchParams","serialize","findPersistedSubmitButtonValue","matches","prepend","chordOrKeyRegex","splitHotkeyString","hotkey","matchAll","chord","hydroAnalyticsClient","getItem","safeStorage","dimensionPrefix","MARKETING_PARAMS","getOptionsFromMeta","baseContext","AnalyticsClient","_","extendBaseContext","app_id","event_url","entries","visitorMeta","atob","staff","isStaff","sendPageView","sendEvent","service","cleanContext","stringifyObjectValues","obj","fromEntries","k","v","initialized","selectorSet","SelectorSet","handleFocus","focused","nodeType","Node","DOCUMENT_NODE","match","call","onFocus","fn","eventType","inputHandler","blurHandler","temporaryPermissiveParseHTMLPolicy","sanitize","fallbackOnError","importNode","setItem","removeItem","SoftNavEvent","Event","mechanism","SoftNavStartEvent","START","SoftNavSuccessEvent","visitCount","SoftNavErrorEvent","ERROR","SoftNavEndEvent","END","initSoftNav","INITIAL","clearSoftNav","startSoftNav","inSoftNav","PROGRESS_BAR","setSoftNavMechanism","setSoftNavReactAppName","setSoftNavReferrer","markStart","succeedSoftNav","canTriggerEvent","getSoftNavMechanism","endSoftNav","failSoftNav","reason","getSoftNavFailReason","DEFAULT_SOFT_NAV_ERROR_REASON","endProgressBar","sendFailureStats","unsetSoftNav","setLatestMechanism","renderedSoftNav","sendRenderStats","RENDER","updateFrame","FRAME_UPDATE","skipIfGoingToReactApp","allowedMechanisms","getCurrentReactAppName","freeze","SOFT_NAV_DURATION_MARK","MECHANISM_MAPPING","react","hard","performance","clearResourceTimings","mark","turboFailureReason","sendStats","turboStartUrl","turboEndUrl","duration","getDurationSinceLastSoftNav","getEntriesByName","measure","measures","roundedDuration","requestUrl","softNavigationTiming","destination","initiator","getSoftNavReactAppName","SOFT_NAV_FAIL","SOFT_NAV_FAIL_REFERRER","SOFT_NAV_REFERRER","SOFT_NAV_MARK","SOFT_NAV_REACT_APP_NAME","SOFT_NAV_LATEST_MECHANISM","softNav","hasSoftNavFailure","setSoftNavFailReason","appName","getLatestMechanism","turboOptions","visit","Subscription","cleanup","closed","unsubscribe","eventName","onNext","compose","subscriptions","subscription","getUtf8StringLength","str","count","replaceText","textarea","oldText","newText","isFocused","beginning","substring","selectionEnd","setTextareaValueAndCursor","replaceSelection","selectionStart","insertText","point","insertedText","newline","appendNewline","newPoint","cursor","pos","contents","encoder","TextEncoder","u8array","Uint8Array","i","char","written","encodeInto","diff","TrustedTypesPolicyError","incrementKey","trustedTypesPolicyName","policyOutput","startTime","sanitized","dompurify","FORBID_ATTR","endTime","output","outputLength","sanitizedLength","executionTime","globalThis","unimplemented","functionName","fallbacks","createScript","createScriptURL","registeredPolicies","__TRUSTED_TYPE_POLICIES__","Map","trustedTypes","rules","hasWarnedHubberAboutTrustedTypes","violatedDirective","console","warn"],"sourceRoot":""}