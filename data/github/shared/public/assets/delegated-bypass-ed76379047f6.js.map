{"version":3,"file":"delegated-bypass-xxxxxxxxxxxx.js","mappings":"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","sources":["ui/packages/delegated-bypass/contexts/DelegatedBypassBannerContext.tsx","ui/packages/delegated-bypass/contexts/RequestTypeContext.tsx","ui/packages/delegated-bypass/components/FlashBanner.tsx","ui/packages/delegated-bypass/App.tsx","ui/packages/delegated-bypass/components/RoundedBox.tsx","ui/packages/delegated-bypass/components/SecretScanningSecretsDetails.tsx","ui/packages/delegated-bypass/components/RequestForm/SecretScanningReviewersDialog.tsx","ui/packages/delegated-bypass/components/RequestForm/index.tsx","ui/packages/delegated-bypass/components/ViolationRow.tsx","ui/packages/delegated-bypass/components/User.tsx","ui/packages/delegated-bypass/components/ExemptionRequestContainer.tsx","ui/packages/delegated-bypass/routes/NewExemptionRequestPage.tsx","ui/packages/delegated-bypass/helpers/constants.ts","ui/packages/delegated-bypass/helpers/banner.ts","ui/packages/delegated-bypass/components/RequestReviewerForm.tsx","ui/packages/delegated-bypass/hooks/use-relative-navigation.ts","ui/packages/delegated-bypass/components/StatusLine.tsx","ui/packages/delegated-bypass/components/RequestState.tsx","ui/packages/delegated-bypass/routes/ExemptionRequestPage.tsx","ui/packages/delegated-bypass/components/Subhead.tsx","ui/packages/delegated-bypass/components/DelegatedBypassRow.tsx","ui/packages/delegated-bypass/helpers/string.ts","ui/packages/delegated-bypass/helpers/requests-filter.ts","ui/packages/delegated-bypass/hooks/use-bypass-actors.ts","ui/packages/delegated-bypass/components/BypassRequestsFilterBar.tsx","ui/packages/delegated-bypass/components/BypassRequestsBlank.tsx","ui/packages/delegated-bypass/routes/BypassRequestsPage.tsx","ui/packages/delegated-bypass/delegated-bypass.ts","ui/packages/delegated-bypass/services/api.ts","ui/packages/user-selector/UserItem.tsx","ui/packages/user-selector/UsersList.tsx","ui/packages/user-selector/UserSelector.tsx","ui/packages/action-menu-selector/ActionMenuSelector.tsx","ui/packages/action-menu-selector/TimeFilter.tsx","ui/packages/delegated-bypass/contexts/RequestFormContext.tsx","ui/packages/ref-selector/FixedSizeVirtualList.tsx"],"sourcesContent":["import type {FlashProps} from '@primer/react'\nimport {createContext, useContext, useMemo, useState} from 'react'\n\nexport type Banner = {variant: Extract<FlashProps['variant'], 'success' | 'danger'>; message: string}\n\ninterface DelegatedBypassContextType {\n  banner?: Banner\n  setBanner: (banner?: Banner) => void\n}\n\nconst DelegatedBypassBannersContext = createContext<DelegatedBypassContextType>({\n  banner: undefined,\n  setBanner: () => undefined,\n})\n\n/**\n * Gets a function to add a banner. This function never changes and is thus useful for code in useEffect().\n */\nexport function useDelegatedBypassBanner() {\n  return useContext(DelegatedBypassBannersContext).banner\n}\n/**\n * Gets a function to add a banner. This function never changes and is thus useful for code in useEffect().\n */\nexport function useDelegatedBypassSetBanner() {\n  return useContext(DelegatedBypassBannersContext).setBanner\n}\n\nexport function DelegatedBypassBannersProvider({children}: {children: React.ReactNode}) {\n  const [banner, setBanner] = useState<Banner>()\n  const value = useMemo(() => ({banner, setBanner}), [banner, setBanner])\n  return <DelegatedBypassBannersContext.Provider value={value}>{children}</DelegatedBypassBannersContext.Provider>\n}\n\ntry{ DelegatedBypassBannersContext.displayName ||= 'DelegatedBypassBannersContext' } catch {}\ntry{ DelegatedBypassBannersProvider.displayName ||= 'DelegatedBypassBannersProvider' } catch {}","import {type PropsWithChildren, createContext, useContext} from 'react'\nimport type {RequestType} from '../delegated-bypass-types'\n\nconst RequestTypeContext = createContext<RequestType | null>(null)\n\nexport function RequestTypeProvider({requestType, children}: PropsWithChildren<{requestType: RequestType}>) {\n  return <RequestTypeContext.Provider value={requestType}>{children}</RequestTypeContext.Provider>\n}\n\nexport function useRequestTypeContext() {\n  const context = useContext(RequestTypeContext)\n\n  if (!context) {\n    throw new Error('useRequestTypeContext must be used within RequestTypeProvider')\n  }\n\n  return context\n}\n\ntry{ RequestTypeContext.displayName ||= 'RequestTypeContext' } catch {}\ntry{ RequestTypeProvider.displayName ||= 'RequestTypeProvider' } catch {}","import {IconButton, Flash, Octicon} from '@primer/react'\nimport {\n  useDelegatedBypassBanner,\n  useDelegatedBypassSetBanner,\n  type Banner,\n} from '../contexts/DelegatedBypassBannerContext'\nimport {CheckIcon, XCircleFillIcon, XIcon, type Icon} from '@primer/octicons-react'\n\nconst ICON_MAP: Record<Banner['variant'], Icon> = {\n  success: CheckIcon,\n  danger: XCircleFillIcon,\n}\n\nexport function FlashBanner() {\n  const banner = useDelegatedBypassBanner()\n  const setBanner = useDelegatedBypassSetBanner()\n\n  if (!banner) {\n    return null\n  }\n\n  return (\n    <Flash\n      variant={banner.variant}\n      sx={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        borderWidth: 0,\n        borderRadius: 0,\n        borderBottomWidth: 1,\n      }}\n    >\n      <div>\n        <Octicon icon={ICON_MAP[banner.variant]} />\n        <span>{banner.message}</span>\n      </div>\n      <IconButton\n        variant=\"invisible\"\n        sx={{'>svg': {m: 0, color: 'fg.muted'}}}\n        icon={XIcon}\n        onClick={() => setBanner()}\n        aria-label=\"Dismiss message\"\n        size=\"small\"\n      />\n    </Flash>\n  )\n}\n\ntry{ FlashBanner.displayName ||= 'FlashBanner' } catch {}","import type React from 'react'\nimport {DelegatedBypassBannersProvider} from './contexts/DelegatedBypassBannerContext'\nimport {RequestTypeProvider} from './contexts/RequestTypeContext'\nimport {FlashBanner} from './components/FlashBanner'\nimport {useAppPayload} from '@github-ui/react-core/use-app-payload'\nimport type {AppPayload} from './delegated-bypass-types'\n\n/**\n * The App component is used to render content which should be present on _all_ routes within this app\n */\nexport function App({children}: {children?: React.ReactNode}) {\n  const {request_type} = useAppPayload<AppPayload>()\n  return (\n    <DelegatedBypassBannersProvider>\n      <FlashBanner />\n      <RequestTypeProvider requestType={request_type}>{children}</RequestTypeProvider>\n    </DelegatedBypassBannersProvider>\n  )\n}\n\ntry{ App.displayName ||= 'App' } catch {}","import type {ReactNode} from 'react'\nimport {Box} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\n\ntype RoundedBoxProps = {\n  sx?: BetterSystemStyleObject\n  children: ReactNode\n}\n\nexport function RoundedBox({sx = {}, children}: RoundedBoxProps) {\n  return (\n    <Box\n      className=\"Box\"\n      sx={{\n        ...sx,\n        '> :first-child': {\n          borderBottomColor: 'border.default',\n          borderBottomWidth: 1,\n          borderBottomStyle: 'solid',\n          borderTopLeftRadius: 2,\n          borderTopRightRadius: 2,\n        },\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ntry{ RoundedBox.displayName ||= 'RoundedBox' } catch {}","import {ChevronDownIcon, ChevronUpIcon, StopIcon} from '@primer/octicons-react'\nimport {Box, Octicon, Text, IconButton} from '@primer/react'\nimport {Fragment, useMemo, useState} from 'react'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport type {ExemptionRequestPayload, NewExemptionRequestPayload} from '../delegated-bypass-types'\n// eslint-disable-next-line @github-ui/github-monorepo/restrict-package-deep-imports\nimport type {RuleRun} from '@github-ui/repos-rules/types/rules-types'\n\nexport function SecretScanningSecretsDetails({ruleRuns}: {ruleRuns: RuleRun[]}) {\n  const [showDetails, setShowDetails] = useState(false)\n  const payload = useRoutePayload<ExemptionRequestPayload | NewExemptionRequestPayload>()\n  let resourceId = 'Unknown'\n  if ('resourceId' in payload && payload.resourceId) {\n    resourceId = payload.resourceId\n  } else if ('request' in payload && payload.request.resourceId) {\n    resourceId = payload.request.resourceId\n  }\n\n  const {tokenType, commitMetadata} = useMemo((): {\n    tokenType: string\n    commitMetadata: Array<{commitHash: string; path: string; refName: string}>\n  } => {\n    const ruleRun = ruleRuns.at(-1)\n    let reloadedTokenType = 'Unknown'\n    let reloadedCommitMetadata = [{commitHash: 'Unknown', path: 'Unknown', refName: 'Unknown'}]\n\n    if (ruleRun?.metadata && 'secrets' in ruleRun.metadata) {\n      const matchingSecrets = ruleRun.metadata.secrets.filter(secret => secret.bypass_placeholder_ksuid === resourceId)\n      if (matchingSecrets.length === 1 && matchingSecrets[0]) {\n        reloadedTokenType = matchingSecrets[0].token_metadata.label\n        reloadedCommitMetadata = matchingSecrets[0].locations.map(location => ({\n          commitHash: location.commit_oid,\n          path: location ? `${location.path}:${location.start_line}:${location.start_line_byte_position}` : `Unknown`,\n          refName: payload.ruleSuite.refName,\n        }))\n      }\n    } else if (ruleRun?.metadata) {\n      // Metadata generated by the secret scanning content scan rule is in the format: {<path>: <SecretsMetadata>}.\n      // We'll take the first secret from the first SecretsMetadata value.\n      const metadataValues = Object.entries(ruleRun?.metadata)[0]\n      if (metadataValues) {\n        const [key, scanResults] = metadataValues\n        if (scanResults.secrets.length > 0) {\n          const secret = scanResults.secrets[0]\n          const location = secret?.locations[0]\n          reloadedTokenType = secret.token_metadata.label\n          // The commit is still pending since it's being tried via the web UI.\n          reloadedCommitMetadata = [\n            {\n              commitHash: 'Pending (from file editor)',\n              path: `${key}${location ? `:${location?.start_line}:${location?.start_line_byte_position}` : ``}`,\n              refName: payload.ruleSuite.refName,\n            },\n          ]\n        }\n      }\n    }\n    return {\n      tokenType: reloadedTokenType,\n      commitMetadata: reloadedCommitMetadata,\n    }\n  }, [ruleRuns, resourceId, payload.ruleSuite.refName])\n\n  const ruleDisplayName = 'Secrets detected'\n\n  return (\n    <Box sx={{mx: 4, py: 3}}>\n      <Box sx={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          <Octicon icon={StopIcon} size={16} sx={{color: 'danger.fg'}} />\n          <Text sx={{fontSize: 2, fontWeight: 'bold', ml: 2}}>{ruleDisplayName} </Text>\n        </Box>\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          {/* eslint-disable-next-line primer-react/a11y-remove-disable-tooltip */}\n          <IconButton\n            unsafeDisableTooltip={true}\n            aria-label=\"View details\"\n            variant=\"invisible\"\n            icon={showDetails ? ChevronUpIcon : ChevronDownIcon}\n            sx={{ml: 2}}\n            onClick={() => setShowDetails(!showDetails)}\n          />\n        </Box>\n      </Box>\n      {showDetails && (\n        <>\n          <Box sx={{display: 'flex', alignItems: 'center'}}>\n            <Text sx={{fontSize: 2, fontWeight: 'bold', ml: 2, marginTop: 3}}>{tokenType}</Text>\n          </Box>\n          <Box\n            as=\"ul\"\n            sx={{\n              p: 3,\n              my: 3,\n              display: 'flex',\n              flexDirection: 'column',\n              fontFamily: 'mono',\n              fontSize: 12,\n              backgroundColor: 'canvas.subtle',\n              overflowX: 'auto',\n              whiteSpace: 'nowrap',\n              listStyleType: 'none',\n              '> li.commitHash::before': {\n                content: \"'-'\",\n                mr: 1,\n              },\n              '> li.metadata::before': {\n                content: \"' '\",\n                whiteSpace: 'pre',\n                mr: 1,\n              },\n            }}\n            tabIndex={0}\n            className=\"Box\"\n          >\n            {commitMetadata.map(({commitHash, path, refName}) => {\n              return (\n                <Fragment key={`${commitHash}-container`}>\n                  <li className=\"commitHash\" key={commitHash}>\n                    commit: {commitHash}\n                  </li>\n                  <li className=\"metadata\" key={`${commitHash}:${path}`}>\n                    path: {path}\n                  </li>\n                  <li className=\"metadata\" key={`${commitHash}:${refName}`}>\n                    branch: {refName}\n                  </li>\n                </Fragment>\n              )\n            })}\n          </Box>\n        </>\n      )}\n    </Box>\n  )\n}\n\ntry{ SecretScanningSecretsDetails.displayName ||= 'SecretScanningSecretsDetails' } catch {}","/* eslint eslint-comments/no-use: off */\nimport {useState} from 'react'\nimport {Text, Link, ActionList} from '@primer/react'\nimport {Dialog} from '@primer/react/experimental'\nimport type {SecretScanningReviewerTeam, SecretScanningReviewerUser, AppPayload} from '../../delegated-bypass-types'\nimport {ownerAvatarPath} from '@github-ui/paths'\nimport {useAppPayload} from '@github-ui/react-core/use-app-payload'\nimport {GitHubAvatar} from '@github-ui/github-avatar'\n\ntype SecretScanningReviewersDialogProps = {\n  approvers: [SecretScanningReviewerUser[], SecretScanningReviewerTeam[]]\n}\n\nexport default function SecretScanningReviewersDialog({approvers}: SecretScanningReviewersDialogProps) {\n  const [showApprovers, setShowApprovers] = useState(false)\n  const {base_avatar_url: baseAvatarUrl} = useAppPayload<AppPayload>()\n  const [users, teams] = approvers\n\n  return (\n    <>\n      <Text sx={{ml: 1}}>\n        Requests are sent to{' '}\n        <Link onClick={() => setShowApprovers(true)} as=\"button\" type=\"button\" inline>\n          all approvers.\n        </Link>\n      </Text>\n      {showApprovers && (\n        <Dialog\n          title=\"Approvers\"\n          subtitle=\"Users and teams who can approve requests for bypass privileges.\"\n          onClose={() => setShowApprovers(false)}\n          width=\"medium\"\n        >\n          <ActionList showDividers>\n            {teams?.map(team => (\n              <ActionList.LinkItem\n                key={`team:${team.id}`}\n                href={`${window.location.origin}/orgs/${team.org_name}/teams/${team.slug}`}\n                target={'_blank'}\n              >\n                <ActionList.LeadingVisual>\n                  <GitHubAvatar square src={`${baseAvatarUrl}/t/${team.id}`} />\n                </ActionList.LeadingVisual>\n                {team.name}\n              </ActionList.LinkItem>\n            ))}\n            {users?.map(user => (\n              <ActionList.LinkItem\n                key={`user:${user.id}`}\n                href={`${window.location.origin}/${user.display_login}`}\n                target={'_blank'}\n              >\n                <ActionList.LeadingVisual>\n                  <GitHubAvatar src={ownerAvatarPath({owner: user.display_login})} />\n                </ActionList.LeadingVisual>\n                {user.display_login}\n              </ActionList.LinkItem>\n            ))}\n          </ActionList>\n        </Dialog>\n      )}\n    </>\n  )\n}\n\ntry{ SecretScanningReviewersDialog.displayName ||= 'SecretScanningReviewersDialog' } catch {}","/* eslint eslint-comments/no-use: off */\n/* eslint-disable filenames/match-regex */\nimport {type FC, type FormEvent, type PropsWithChildren, lazy, Suspense, useState} from 'react'\nimport {InfoIcon} from '@primer/octicons-react'\nimport {Box, Button, FormControl, Text, Textarea, Link} from '@primer/react'\nimport {createExemptionRequest} from '../../services/api'\nimport {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {useParams} from 'react-router-dom'\nimport {useNavigate} from '@github-ui/use-navigate'\nimport {RoundedBox} from '../RoundedBox'\nimport {useDelegatedBypassSetBanner} from '../../contexts/DelegatedBypassBannerContext'\nimport type {RequestType, NewExemptionRequestPayload} from '../../delegated-bypass-types'\nimport {useRequestFormContext} from '../../contexts/RequestFormContext'\nimport {SecretScanningSecretsDetails} from '../SecretScanningSecretsDetails'\n// eslint-disable-next-line @github-ui/github-monorepo/restrict-package-deep-imports\nimport type {RuleRun} from '@github-ui/repos-rules/types/rules-types'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport SecretScanningReviewersDialog from './SecretScanningReviewersDialog'\n\nconst SecretScanningRequestForm = lazy(() => import('./SecretScanningRequestForm'))\n\ntype RegisteredComponent = {\n  displayName: string\n  FormControls?: FC\n  instructions: {\n    title: string\n    Content: () => JSX.Element\n    ApproversFooter: () => JSX.Element\n  }\n  violations?: FC<{ruleRuns: RuleRun[]}>\n}\n\nexport const componentRegistry: Record<RequestType, RegisteredComponent> = {\n  push_ruleset_bypass: {\n    displayName: 'push rules',\n    instructions: {\n      title: 'Resolve push protection violations',\n      Content: () => <>Resolve push protection violations by removing the referenced commits from this push.</>,\n      ApproversFooter: () => <Text sx={{ml: 1}}> Requests are sent to all approvers.</Text>,\n    },\n  },\n  secret_scanning: {\n    displayName: 'secret scanning',\n    FormControls: () => (\n      <Suspense>\n        <SecretScanningRequestForm />\n      </Suspense>\n    ),\n    instructions: {\n      title: 'Remove detected secrets',\n      Content: () => {\n        const {owner} = useParams()\n        const {helpUrl, orgGuidanceUrl} = useRoutePayload<NewExemptionRequestPayload>()\n\n        if (orgGuidanceUrl) {\n          return (\n            <>\n              <Link href={orgGuidanceUrl} inline>\n                Review guidance\n              </Link>{' '}\n              from <span className=\"text-bold\">{owner}</span> and{' '}\n              <Link href={helpUrl} inline>\n                remove any detected secrets\n              </Link>{' '}\n              from your commit and commit history.\n            </>\n          )\n        }\n        return (\n          <>\n            <Link href={helpUrl} inline>\n              Remove any detected secrets\n            </Link>{' '}\n            from your commit and commit history.\n          </>\n        )\n      },\n      ApproversFooter: () => {\n        const {approvers} = useRoutePayload<NewExemptionRequestPayload>()\n        return <SecretScanningReviewersDialog approvers={approvers || [[], []]} />\n      },\n    },\n    violations: ({ruleRuns}: {ruleRuns: RuleRun[]}) => (\n      <Suspense>\n        <SecretScanningSecretsDetails ruleRuns={ruleRuns} />\n      </Suspense>\n    ),\n  },\n}\n\nexport const RequestForm = ({\n  instructions,\n  children,\n}: PropsWithChildren<{\n  instructions: RegisteredComponent['instructions']\n}>) => {\n  const [message, setMessage] = useState('')\n  const [submitting, setSubmitting] = useState(false)\n  const [commentError, setCommentError] = useState('')\n  const navigate = useNavigate()\n  const {owner, repo} = useParams()\n  const setBanner = useDelegatedBypassSetBanner()\n  const {formValues} = useRequestFormContext()\n  const {Content, ApproversFooter} = instructions\n\n  function validateComment(comment: string) {\n    if (comment.trim() === '') {\n      setCommentError('A comment is required')\n      return true\n    } else {\n      setCommentError('')\n      return false\n    }\n  }\n\n  async function onSubmit(e: FormEvent<HTMLFormElement>) {\n    setSubmitting(true)\n    e.preventDefault()\n    if (validateComment(message)) {\n      setSubmitting(false)\n      return\n    }\n    const response = await createExemptionRequest(ssrSafeLocation.pathname, {...formValues, message: message.trim()})\n    if (response.statusCode === 201) {\n      setBanner({\n        message: 'Your bypass request was submitted',\n        variant: 'success',\n      })\n      navigate(response.redirect_uri || `/${owner}/${repo}/exemptions/${response.request_number}`)\n    } else if (response.statusCode === 422 && response.error) {\n      setBanner({\n        message: response.error,\n        variant: 'danger',\n      })\n    } else {\n      setBanner({\n        message: 'There was a problem submitting your bypass request',\n        variant: 'danger',\n      })\n    }\n    setSubmitting(false)\n  }\n\n  return (\n    <RoundedBox sx={{minHeight: 530, mt: 4}}>\n      <Box\n        sx={{\n          p: 4,\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <Text sx={{fontSize: 2, fontWeight: 'bold', mb: 1}}>{instructions.title}</Text>\n        <span>\n          <Content />\n        </span>\n      </Box>\n      <Box\n        as=\"form\"\n        sx={{p: 4, display: 'flex', flexDirection: 'column', gap: 4}}\n        method=\"post\"\n        action={ssrSafeLocation.pathname}\n        noValidate\n        onSubmit={onSubmit}\n      >\n        <Box sx={{display: 'flex', flexDirection: 'column'}}>\n          <Text sx={{fontSize: 2, fontWeight: 'bold', mb: 1}}>Or request bypass privileges</Text>\n          <span>Submit a request to bypass these push protections. If granted, you may attempt this push again.</span>\n        </Box>\n        {children}\n        <FormControl>\n          <FormControl.Label required>Add a comment</FormControl.Label>\n          <Textarea\n            block\n            sx={{height: 132}}\n            placeholder=\"Type your comment here...\"\n            value={message}\n            onChange={e => {\n              setMessage(e.target.value)\n              setCommentError('')\n              validateComment(e.target.value)\n            }}\n            onBlur={e => validateComment(e.target.value)}\n          />\n          {commentError && <FormControl.Validation variant=\"error\">{commentError}</FormControl.Validation>}\n        </FormControl>\n        <Button block type=\"submit\" sx={{height: 40}} disabled={submitting}>\n          Submit request\n        </Button>\n        <div className=\"note\">\n          <InfoIcon size={16} />\n          <ApproversFooter />\n        </div>\n      </Box>\n    </RoundedBox>\n  )\n}\n\ntry{ SecretScanningRequestForm.displayName ||= 'SecretScanningRequestForm' } catch {}\ntry{ RequestForm.displayName ||= 'RequestForm' } catch {}","// eslint-disable-next-line @github-ui/github-monorepo/restrict-package-deep-imports\nimport type {RuleRun} from '@github-ui/repos-rules/types/rules-types' // TODO\nimport {ChevronDownIcon, ChevronUpIcon, StopIcon} from '@primer/octicons-react'\nimport {Box, Octicon, Text, CounterLabel, IconButton, Link} from '@primer/react'\nimport type {BetterSystemStyleObject} from '@primer/react/lib-esm/sx'\nimport {useState} from 'react'\n\nexport function ViolationRow({\n  ruleRun,\n  afterOid,\n  sx,\n}: {\n  ruleRun: RuleRun\n  afterOid?: string | null\n  sx?: BetterSystemStyleObject\n}) {\n  const [showDetails, setShowDetails] = useState(false)\n\n  const {\n    ruleDisplayName,\n    violations,\n    insightsCategory: {name, viewLink},\n  } = ruleRun\n\n  return (\n    <Box sx={{...sx, mx: 4, py: 3}}>\n      <Box sx={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          <Octicon icon={StopIcon} size={16} sx={{color: 'danger.fg'}} />\n          <Text sx={{fontSize: 2, fontWeight: 'bold', ml: 2}}>{ruleDisplayName} </Text>\n        </Box>\n        <Box sx={{display: 'flex', alignItems: 'center'}}>\n          {violations && (\n            <CounterLabel\n              scheme=\"secondary\"\n              sx={{height: 20, width: 20, display: 'flex', alignItems: 'center', justifyContent: 'center'}}\n            >\n              {violations.total}\n            </CounterLabel>\n          )}\n          <IconButton\n            aria-label=\"View details\"\n            variant=\"invisible\"\n            icon={showDetails ? ChevronUpIcon : ChevronDownIcon}\n            sx={{ml: 2}}\n            onClick={() => setShowDetails(!showDetails)}\n          />\n        </Box>\n      </Box>\n      {showDetails && (\n        <>\n          <Box\n            as=\"ul\"\n            sx={{\n              p: 3,\n              my: 3,\n              display: 'flex',\n              flexDirection: 'column',\n              fontFamily: 'mono',\n              fontSize: 12,\n              backgroundColor: 'canvas.subtle',\n              overflowX: 'auto',\n              whiteSpace: 'nowrap',\n              listStyleType: 'none',\n              '> li::before': {\n                content: \"'-'\",\n                mr: 1,\n              },\n            }}\n            tabIndex={0}\n            className=\"Box\"\n          >\n            {violations?.items.map(violation => (\n              <Box as=\"li\" key={violation.candidate} sx={{display: 'flex', gap: 1}}>\n                <Box as=\"ul\" sx={{listStyleType: 'none', pr: 3}}>\n                  {(violation.commit_oid || afterOid) && (\n                    <Box as=\"li\" sx={{display: 'flex', gap: 1}}>\n                      <span>commit:</span>\n                      <span>{violation.commit_oid || afterOid}</span>\n                    </Box>\n                  )}\n                  <Box as=\"li\" sx={{display: 'flex', gap: 1}}>\n                    <span>path:</span>\n                    <span>{violation.candidate}</span>\n                  </Box>\n                </Box>\n              </Box>\n            ))}\n          </Box>\n          <span className=\"note\">\n            Enforced by:{' '}\n            <Link href={viewLink} inline={true}>\n              {name}\n            </Link>\n          </span>\n        </>\n      )}\n    </Box>\n  )\n}\n\ntry{ ViolationRow.displayName ||= 'ViolationRow' } catch {}","import {GitHubAvatar} from '@github-ui/github-avatar'\nimport {Link} from '@primer/react'\nimport {userHovercardPath} from '@github-ui/paths'\nimport type {User} from '@github-ui/user-selector'\n\nexport function User({user}: {user: User}) {\n  return (\n    <Link aria-label={`View ${user.login} profile`} href={user.path} sx={{color: 'fg.default', fontWeight: 600}}>\n      <GitHubAvatar\n        sx={{mr: 1, cursor: 'pointer'}}\n        size={16}\n        src={user.primaryAvatarUrl}\n        data-hovercard-url={userHovercardPath({owner: user.login})}\n        square={user.path.startsWith('/apps/')}\n      />\n      <span>{user.login}</span>\n    </Link>\n  )\n}\n\ntry{ User.displayName ||= 'User' } catch {}","import {MarkGithubIcon} from '@primer/octicons-react'\nimport {Box, Heading, RelativeTime, Text, Link, Label} from '@primer/react'\nimport type {ReactNode, FC} from 'react'\nimport type {RuleSuite} from '../delegated-bypass-types'\n// eslint-disable-next-line @github-ui/github-monorepo/restrict-package-deep-imports\nimport type {RuleRun} from '@github-ui/repos-rules/types/rules-types'\nimport {ViolationRow} from './ViolationRow'\nimport {User} from './User'\nimport {RoundedBox} from './RoundedBox'\n\ntype ExemptionRequestContainerProps = {\n  children: ReactNode\n  ruleSuite: RuleSuite\n  displayName?: string\n  requestType: string\n  requestCompleted?: boolean\n  violations?: FC<{ruleRuns: RuleRun[]}>\n}\n\ntype DropdownInfoProps = {\n  ruleRuns: RuleRun[]\n  afterOid: string | undefined | null\n  violations?: FC<{ruleRuns: RuleRun[]}>\n}\n\nexport function DropdownInfo({ruleRuns, afterOid, violations}: DropdownInfoProps) {\n  if (violations) {\n    return violations({ruleRuns})\n  }\n  return (\n    <>\n      {ruleRuns.map(ruleRun => {\n        return (\n          <ViolationRow\n            key={ruleRun.id}\n            ruleRun={ruleRun}\n            afterOid={afterOid}\n            sx={{\n              borderBottomColor: 'border.default',\n              borderBottomWidth: 1,\n              borderBottomStyle: 'solid',\n            }}\n          />\n        )\n      })}\n    </>\n  )\n}\n\nexport function ExemptionRequestContainer({\n  children,\n  ruleSuite,\n  displayName,\n  violations,\n  requestType,\n}: ExemptionRequestContainerProps) {\n  const {actor, afterOid, repository, createdAt, ruleRuns} = ruleSuite\n\n  return (\n    <Box sx={{display: 'flex', flexDirection: 'column', alignItems: 'center', p: 6}}>\n      <MarkGithubIcon size={96} />\n      <Box sx={{width: '100%', maxWidth: 560}}>\n        <Heading\n          as=\"h2\"\n          sx={{\n            mt: 4,\n            fontSize: 4,\n            textAlign: 'center',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          Push was blocked {displayName ? `by ${displayName}` : null}\n          {requestType !== 'secret_scanning' && (\n            <Label sx={{ml: 2}} variant=\"success\">\n              Beta\n            </Label>\n          )}\n        </Heading>\n        <RoundedBox sx={{mt: 4}}>\n          <Box\n            sx={{\n              p: 4,\n              backgroundColor: 'canvas.subtle',\n              gap: 2,\n              '> *': {\n                py: 2,\n                display: 'flex',\n                borderColor: 'border.default',\n                borderBottomWidth: 1,\n                borderBottomStyle: 'solid',\n                ':first-child': {\n                  pt: 0,\n                },\n                ':last-child': {\n                  borderBottom: 0,\n                  pb: 0,\n                },\n              },\n            }}\n          >\n            <div>\n              <Text sx={{color: 'fg.muted', width: '25%'}}>User</Text>\n              <Box sx={{width: '75%'}}>{actor ? <User user={actor} /> : 'unknown user'}</Box>\n            </div>\n            <div>\n              <Text sx={{color: 'fg.muted', width: '25%'}}>Repository</Text>\n              <Text sx={{width: '75%'}}>\n                <Link href={repository.url}>{repository.nameWithOwner}</Link>\n              </Text>\n            </div>\n            <div>\n              <Text sx={{color: 'fg.muted', width: '25%'}}>Commit</Text>\n              <Text sx={{width: '75%'}}>{afterOid === 'PENDING' ? 'Pending (from file editor)' : afterOid}</Text>\n            </div>\n            <div>\n              <Text sx={{color: 'fg.muted', width: '25%'}}>Time</Text>\n              <RelativeTime sx={{width: '75%'}} datetime={createdAt.toString()} />\n            </div>\n          </Box>\n          <Box\n            sx={{\n              '> :last-child': {\n                borderBottom: 0,\n              },\n            }}\n          >\n            <DropdownInfo ruleRuns={ruleRuns} afterOid={afterOid} violations={violations} />\n          </Box>\n        </RoundedBox>\n        {children}\n      </Box>\n      {requestType === 'secret_scanning' && (\n        <Box sx={{mt: 4}}>\n          <Label sx={{mr: 2}} variant=\"success\">\n            Beta\n          </Label>\n          <Link target=\"_blank\" href=\"https://github.com/orgs/community/discussions/121816\">\n            Give feedback\n          </Link>\n        </Box>\n      )}\n    </Box>\n  )\n}\n\ntry{ DropdownInfo.displayName ||= 'DropdownInfo' } catch {}\ntry{ ExemptionRequestContainer.displayName ||= 'ExemptionRequestContainer' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport {componentRegistry, RequestForm} from '../components/RequestForm/index'\nimport type {NewExemptionRequestPayload} from '../delegated-bypass-types'\nimport {ExemptionRequestContainer} from '../components/ExemptionRequestContainer'\nimport {useRequestTypeContext} from '../contexts/RequestTypeContext'\nimport {RequestFormProvider} from '../contexts/RequestFormContext'\n\nexport function NewExemptionRequestPage() {\n  const {ruleSuite} = useRoutePayload<NewExemptionRequestPayload>()\n  const requestType = useRequestTypeContext()\n\n  const {displayName, FormControls, instructions, violations} = componentRegistry[requestType]\n\n  return (\n    <ExemptionRequestContainer\n      ruleSuite={ruleSuite}\n      displayName={displayName}\n      violations={violations}\n      requestType={requestType}\n    >\n      <RequestFormProvider readOnly={false}>\n        <RequestForm instructions={instructions}>{FormControls ? <FormControls /> : null}</RequestForm>\n      </RequestFormProvider>\n    </ExemptionRequestContainer>\n  )\n}\n\ntry{ NewExemptionRequestPage.displayName ||= 'NewExemptionRequestPage' } catch {}","import type {FilterableRequestStatus} from '../delegated-bypass-types'\n\nexport const orderedStatuses: FilterableRequestStatus[] = ['all', 'completed', 'cancelled', 'expired', 'denied', 'open']\nexport const requestStatuses: Record<FilterableRequestStatus, string> = {\n  all: 'All statuses',\n  completed: 'Completed',\n  cancelled: 'Cancelled',\n  expired: 'Expired',\n  denied: 'Denied',\n  open: 'Open',\n}\n\nexport const enum UpdateState {\n  Initial = 'initial',\n  Submitting = 'submitting',\n  Success = 'success',\n  Error = 'error',\n}\n","import type {SetURLSearchParams} from 'react-router-dom'\nimport type {Banner} from '../contexts/DelegatedBypassBannerContext'\nimport {UpdateState} from './constants'\n\nexport function updateBanner(\n  updateState: UpdateState,\n  setBanner: (banner: Banner) => void,\n  setSearchParams: SetURLSearchParams,\n  successVerb: string,\n  failureVerb: string,\n) {\n  switch (updateState) {\n    case UpdateState.Success:\n      setBanner({\n        message: `Your response was ${successVerb}`,\n        variant: 'success',\n      })\n      setSearchParams(params => {\n        params.set('success', '')\n        return params\n      })\n      break\n    case UpdateState.Error:\n      setBanner({\n        message: `There was an error ${failureVerb} your response`,\n        variant: 'danger',\n      })\n      break\n    default:\n      break\n  }\n}\n","import {Box, Text, Button} from '@primer/react'\nimport {useEffect, useState} from 'react'\nimport type {ExemptionRequest, UpdateStatus} from '../delegated-bypass-types'\nimport {ssrSafeLocation} from '@github-ui/ssr-utils'\nimport {useSearchParams} from '@github-ui/use-navigate'\nimport {updateExemptionRequest} from '../services/api'\nimport {useDelegatedBypassSetBanner} from '../contexts/DelegatedBypassBannerContext'\nimport {useRequestTypeContext} from '../contexts/RequestTypeContext'\nimport {componentRegistry} from './RequestForm'\nimport {UpdateState} from '../helpers/constants'\nimport {updateBanner} from '../helpers/banner'\n\nexport function RequestReviewerForm({request}: {request: ExemptionRequest}) {\n  const {requester, requesterComment} = request\n  const [updateState, setUpdateState] = useState<UpdateState>(UpdateState.Initial)\n  const [status, setStatus] = useState<UpdateStatus>()\n  const [, setSearchParams] = useSearchParams()\n  const setBanner = useDelegatedBypassSetBanner()\n  const requestType = useRequestTypeContext()\n\n  const {FormControls} = componentRegistry[requestType]\n\n  useEffect(() => {\n    updateBanner(updateState, setBanner, setSearchParams, 'submitted', 'submitting')\n  }, [updateState, setBanner, setSearchParams])\n\n  return (\n    <Box sx={{mt: 4}} className=\"Box\">\n      <Box\n        sx={{\n          m: 4,\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <Text sx={{fontSize: 2, fontWeight: 'bold', mb: 1}}>Approve bypass request</Text>\n        <span>\n          As an approver, you may allow <b>{requester.login}</b> to bypass these push protections\n          {requestType === 'secret_scanning' && ' and expose any detected secrets.'}\n        </span>\n      </Box>\n      <Box\n        sx={{\n          m: 4,\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <Text sx={{fontSize: 2, fontWeight: 'bold', mb: 1}}>Comment from {requester.login}</Text>\n        <Box\n          sx={{\n            p: 3,\n            my: 3,\n            display: 'flex',\n            flexDirection: 'column',\n            fontFamily: 'mono',\n            fontSize: 12,\n            backgroundColor: 'canvas.subtle',\n          }}\n          className=\"Box\"\n        >\n          <span>{requesterComment}</span>\n        </Box>\n        {FormControls ? <FormControls /> : null}\n      </Box>\n      <Box\n        sx={{m: 4}}\n        as=\"form\"\n        method=\"put\"\n        action={ssrSafeLocation.pathname}\n        noValidate\n        onSubmit={async e => {\n          setUpdateState(UpdateState.Submitting)\n          e.preventDefault()\n          const response = await updateExemptionRequest(ssrSafeLocation.pathname, {status})\n          if (response.statusCode === 201) {\n            setUpdateState(UpdateState.Success)\n          } else {\n            setUpdateState(UpdateState.Error)\n          }\n        }}\n      >\n        <Box sx={{display: 'flex', mt: 4, gap: 3}}>\n          <Button\n            type=\"submit\"\n            sx={{height: 40, color: 'danger.fg', flex: 1}}\n            disabled={updateState === UpdateState.Submitting}\n            onClick={() => setStatus('reject')}\n          >\n            Deny bypass request\n          </Button>\n          <Button\n            type=\"submit\"\n            sx={{height: 40, flex: 1}}\n            disabled={updateState === UpdateState.Submitting}\n            onClick={() => setStatus('approve')}\n          >\n            Approve bypass request\n          </Button>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ RequestReviewerForm.displayName ||= 'RequestReviewerForm' } catch {}","import {useCallback, useRef} from 'react'\nimport {useLocation, resolvePath as reactRouterResolvePath} from 'react-router-dom'\nimport {useNavigate} from '@github-ui/use-navigate'\n\nexport const useRelativeNavigation = () => {\n  const {pathname, search} = useLocation()\n  const params = useRef(new URLSearchParams(search))\n  const reactRouterNavigate = useNavigate()\n\n  const navigate = useCallback(\n    (pathPartial: string, _search?: string, clearExistingParams = true, replace = false) => {\n      if (clearExistingParams) {\n        params.current = new URLSearchParams()\n      }\n      if (_search) {\n        const additionalParams = new URLSearchParams(_search)\n        for (const [key, value] of additionalParams) {\n          if (value === '') {\n            params.current.delete(key)\n          } else {\n            params.current.set(key, value)\n          }\n        }\n      }\n      return reactRouterNavigate(\n        reactRouterResolvePath({pathname: pathPartial, search: params.current.toString()}, pathname),\n        {\n          replace,\n        },\n      )\n    },\n    [reactRouterNavigate, pathname, params],\n  )\n\n  const resolvePath = useCallback(\n    (pathPartial: string) => reactRouterResolvePath({pathname: pathPartial}, pathname).pathname,\n    [pathname],\n  )\n\n  return {\n    pathname,\n    search,\n    params: params.current,\n    navigate,\n    resolvePath,\n  }\n}\n","import {lazy, type ReactNode, Suspense, useState, useEffect} from 'react'\nimport {Box, Button, RelativeTime, Octicon, Link} from '@primer/react'\nimport {useSearchParams} from '@github-ui/use-navigate'\nimport type {RequestStatus, ExemptionResponse, Ruleset} from '../delegated-bypass-types'\nimport {User} from './User'\nimport {updateExemptionRequest} from '../services/api'\nimport {\n  CheckIcon,\n  CheckCircleFillIcon,\n  CircleSlashIcon,\n  DotFillIcon,\n  CommentIcon,\n  XIcon,\n  XCircleFillIcon,\n  type Icon,\n} from '@primer/octicons-react'\nimport {useRelativeNavigation} from '../hooks/use-relative-navigation'\nimport {useDelegatedBypassSetBanner} from '../contexts/DelegatedBypassBannerContext'\nimport {UpdateState} from '../helpers/constants'\nimport {updateBanner} from '../helpers/banner'\n\nconst ApproversListDialog = lazy(() => import('./ApproversListDialog'))\n\ntype StatusLineProps = {\n  iconInfo: {\n    icon: Icon\n    color: string\n  }\n  action?: {\n    onClick: () => unknown\n    text: string\n    disabled?: boolean\n  }\n  children: ReactNode\n}\n\nfunction StatusLine({iconInfo: {icon, color}, action, children}: StatusLineProps) {\n  return (\n    <Box sx={{display: 'flex', justifyContent: 'space-between'}}>\n      <Box sx={{display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: 1, py: 1, color: 'fg.muted'}}>\n        <Octicon icon={icon} sx={{color, mr: 1}} />\n        {children}\n      </Box>\n      {action ? (\n        <Button\n          sx={{alignItems: 'end'}}\n          size=\"small\"\n          variant=\"invisible\"\n          onClick={() => action.onClick()}\n          disabled={action.disabled || false}\n        >\n          {action.text}\n        </Button>\n      ) : null}\n    </Box>\n  )\n}\n\nconst RESPONSE_STATUS_MAP = {\n  approved: {\n    message: 'Approved',\n    icon: CheckIcon,\n    color: 'success.fg',\n  },\n  pending: {\n    message: 'Approval required',\n    icon: DotFillIcon,\n    color: 'fg.subtle',\n  },\n  rejected: {\n    message: 'Denied',\n    icon: XIcon,\n    color: 'danger.fg',\n  },\n  dismissed: {\n    message: 'Dismissed',\n    icon: DotFillIcon,\n    color: 'fg.subtle',\n  },\n}\n\ntype RulesetResponseMessageProps = {\n  response: ExemptionResponse\n  rulesets: Ruleset[]\n  reviewerLogin?: string\n  requestStatus: RequestStatus\n}\n\nexport function requestNotAtTerminalStatus(requestStatus: RequestStatus) {\n  return requestStatus === 'pending' || requestStatus === 'approved' || requestStatus === 'rejected'\n}\n\nfunction RulesetLink({ruleset, addComma = false}: {ruleset: Ruleset; addComma?: boolean}) {\n  const {resolvePath} = useRelativeNavigation()\n\n  return (\n    <Link sx={{color: 'fg.default'}} href={resolvePath(`../../rules/${ruleset.id}`)} inline={true}>\n      {ruleset.name}\n      {addComma && ','}\n    </Link>\n  )\n}\n\nexport function RulesetResponseStatusLine({\n  response,\n  rulesets,\n  reviewerLogin,\n  requestStatus,\n}: RulesetResponseMessageProps) {\n  const [, setSearchParams] = useSearchParams()\n  const setBanner = useDelegatedBypassSetBanner()\n  const [updateState, setUpdateState] = useState<UpdateState>(UpdateState.Initial)\n  const {message, icon, color} = RESPONSE_STATUS_MAP[response?.status || 'pending']\n\n  useEffect(() => {\n    updateBanner(updateState, setBanner, setSearchParams, 'dismissed', 'dismissing')\n  }, [updateState, setBanner, setSearchParams])\n\n  async function dismiss() {\n    if (response) {\n      setUpdateState(UpdateState.Submitting)\n      const dismissalResponse = await updateExemptionRequest('', {status: 'dismiss', responseId: response.id})\n      if (dismissalResponse.statusCode === 201) {\n        setUpdateState(UpdateState.Success)\n      } else {\n        setUpdateState(UpdateState.Error)\n      }\n    } else {\n      setUpdateState(UpdateState.Error)\n    }\n  }\n\n  let action\n  if (response?.reviewer.login === reviewerLogin && requestNotAtTerminalStatus(requestStatus)) {\n    if (response?.status === 'approved') {\n      action = {\n        onClick: dismiss,\n        text: 'Dismiss approval',\n        disabled: updateState === UpdateState.Submitting,\n      }\n    } else if (response?.status === 'rejected') {\n      action = {\n        onClick: dismiss,\n        text: 'Dismiss denial',\n        disabled: updateState === UpdateState.Submitting,\n      }\n    }\n  }\n\n  return (\n    <>\n      <StatusLine iconInfo={{icon, color}} action={action}>\n        <span>{message}</span>\n        {response?.reviewer ? (\n          <>\n            by <User user={response.reviewer} />\n          </>\n        ) : null}\n        {rulesets.length > 0 ? (\n          <>\n            for{' '}\n            {rulesets.map((ruleset, index) => (\n              <RulesetLink key={ruleset.id} ruleset={ruleset} addComma={index < rulesets.length - 1} />\n            ))}\n          </>\n        ) : null}\n        <RelativeTime datetime={response.updatedAt} />\n      </StatusLine>\n    </>\n  )\n}\n\ntype PendingRulesetResponseMessageProps = {\n  ruleset: Ruleset\n  hideAction?: boolean\n}\n\nexport function PendingRulesetResponseStatusLine({ruleset, hideAction}: PendingRulesetResponseMessageProps) {\n  const [isApproversListOpen, setIsApproversListOpen] = useState(false)\n  const {message, icon, color} = RESPONSE_STATUS_MAP['pending']\n\n  let action\n  if (!hideAction)\n    action = {\n      onClick: () => setIsApproversListOpen(true),\n      text: 'View approvers',\n    }\n\n  return (\n    <>\n      <StatusLine iconInfo={{icon, color}} action={action}>\n        <span>{message}</span>\n        for <RulesetLink ruleset={ruleset} />\n      </StatusLine>\n      {isApproversListOpen && (\n        <Suspense>\n          <ApproversListDialog onClose={() => setIsApproversListOpen(false)} rulesetId={ruleset.id} />\n        </Suspense>\n      )}\n    </>\n  )\n}\n\nconst REQUEST_STATUS_MAP = {\n  approved: {\n    message: 'Bypass request approved',\n    icon: CheckCircleFillIcon,\n    color: 'success.fg',\n  },\n  rejected: {\n    message: 'Bypass request denied',\n    icon: XCircleFillIcon,\n    color: 'danger.fg',\n  },\n  cancelled: {\n    message: 'Bypass request cancelled',\n    icon: CircleSlashIcon,\n    color: 'fg.subtle',\n  },\n  expired: {\n    message: 'Bypass request expired',\n    icon: CircleSlashIcon,\n    color: 'fg.subtle',\n  },\n  pending: {\n    message: 'Bypass request submitted',\n    icon: CommentIcon,\n    color: 'fg.subtle',\n  },\n  completed: {\n    message: 'Bypass request completed',\n    icon: CheckCircleFillIcon,\n    color: 'success.fg',\n  },\n  invalid: {\n    message: 'Bypass request expired because',\n    icon: CircleSlashIcon,\n    color: 'fg.subtle',\n  },\n}\n\ntype RequestMessageProps = {\n  requestStatus: RequestStatus\n  timestamp: string\n  hideAction?: boolean\n  changedRulesets: Ruleset[]\n}\n\nexport function RequestStatusLine({\n  requestStatus,\n  timestamp,\n  hideAction = false,\n  changedRulesets,\n}: RequestMessageProps) {\n  const [, setSearchParams] = useSearchParams()\n  const {message, icon, color} = REQUEST_STATUS_MAP[requestStatus]\n  const action =\n    !hideAction && requestNotAtTerminalStatus(requestStatus)\n      ? {\n          onClick: async () => {\n            await updateExemptionRequest('', {status: 'cancel'})\n            setSearchParams(params => {\n              params.set('cancel', '')\n              return params\n            })\n          },\n          text: 'Cancel request',\n        }\n      : undefined\n  return (\n    <StatusLine iconInfo={{icon, color}} action={action}>\n      <span>{message}</span>\n      {requestStatus === 'invalid' && changedRulesets.length > 0 ? (\n        <>\n          {changedRulesets.map((ruleset, index) => (\n            <>\n              <RulesetLink key={ruleset.id} ruleset={ruleset} addComma={index < changedRulesets.length - 1} />\n            </>\n          ))}\n          {changedRulesets.length > 1 ? 'were modified' : 'was modified'}\n        </>\n      ) : (\n        <RelativeTime datetime={timestamp} />\n      )}\n    </StatusLine>\n  )\n}\n\ntry{ ApproversListDialog.displayName ||= 'ApproversListDialog' } catch {}\ntry{ StatusLine.displayName ||= 'StatusLine' } catch {}\ntry{ RulesetLink.displayName ||= 'RulesetLink' } catch {}\ntry{ RulesetResponseStatusLine.displayName ||= 'RulesetResponseStatusLine' } catch {}\ntry{ PendingRulesetResponseStatusLine.displayName ||= 'PendingRulesetResponseStatusLine' } catch {}\ntry{ RequestStatusLine.displayName ||= 'RequestStatusLine' } catch {}","import {useMemo} from 'react'\nimport {Box} from '@primer/react'\nimport type {ExemptionResponse, ExemptionRequest, Ruleset} from '../delegated-bypass-types'\nimport {PendingRulesetResponseStatusLine, RequestStatusLine, RulesetResponseStatusLine} from './StatusLine'\n\nexport function RequestState({\n  request,\n  responses,\n  rulesets,\n  isRequester,\n  reviewerLogin,\n}: {\n  request: ExemptionRequest\n  responses: ExemptionResponse[]\n  rulesets?: Ruleset[]\n  isRequester: boolean\n  reviewerLogin?: string\n}) {\n  const statuses = useMemo(\n    () =>\n      rulesets?.map(ruleset => {\n        const rulesetResponses = responses.filter(({rulesetIds}) => rulesetIds?.includes(ruleset.id))\n        const response = rulesetResponses[rulesetResponses.length - 1]\n        return {\n          ruleset,\n          response,\n        }\n      }) || [],\n    [rulesets, responses],\n  )\n  const mostRecentTimestamp = useMemo(\n    () =>\n      responses\n        .map(({updatedAt}) => new Date(updatedAt))\n        .reduce((a, b) => (a > b ? a : b), new Date(request.createdAt))\n        .toUTCString(),\n    [responses, request],\n  )\n  const isRequestPending = request.status === 'pending'\n  const expirationTimestamp = useMemo(() => {\n    const expiresAt = request.expiresAt\n    return expiresAt ? expiresAt : ''\n  }, [request])\n\n  return (\n    <Box sx={{width: '100%', mt: 4}}>\n      <Box\n        sx={{\n          my: 4,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Box sx={{width: '100%', display: 'flex', flexDirection: 'column', gap: 2}}>\n          <RequestStatusLine\n            requestStatus=\"pending\"\n            timestamp={request.createdAt}\n            hideAction={!isRequester || !isRequestPending}\n            changedRulesets={request.changedRulesets}\n          />\n          {responses.map(response => (\n            <RulesetResponseStatusLine\n              key={`response-${response.id}`}\n              response={response}\n              rulesets={rulesets?.filter(ruleset => response.rulesetIds?.includes(ruleset.id)) || []}\n              reviewerLogin={reviewerLogin}\n              requestStatus={request.status}\n            />\n          ))}\n          {statuses.map(\n            ({ruleset, response}) =>\n              !response && (\n                <PendingRulesetResponseStatusLine\n                  key={`ruleset-${ruleset.id}`}\n                  ruleset={ruleset}\n                  hideAction={!isRequestPending}\n                />\n              ),\n          )}\n          {!isRequestPending ? (\n            <RequestStatusLine\n              requestStatus={request.status}\n              timestamp={request.status === 'expired' ? expirationTimestamp : mostRecentTimestamp}\n              hideAction={!isRequester}\n              changedRulesets={request.changedRulesets}\n            />\n          ) : null}\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\ntry{ RequestState.displayName ||= 'RequestState' } catch {}","import {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport type {ExemptionRequestPayload} from '../delegated-bypass-types'\nimport {RequestReviewerForm} from '../components/RequestReviewerForm'\nimport {RequestState} from '../components/RequestState'\nimport {ExemptionRequestContainer} from '../components/ExemptionRequestContainer'\nimport {RequestFormProvider} from '../contexts/RequestFormContext'\nimport {componentRegistry} from '../components/RequestForm/index'\nimport {useRequestTypeContext} from '../contexts/RequestTypeContext'\nimport {requestNotAtTerminalStatus} from '../components/StatusLine'\n\nexport function ExemptionRequestPage() {\n  const {ruleSuite, request, reviewer, rulesets, responses} = useRoutePayload<ExemptionRequestPayload>()\n  const requestType = useRequestTypeContext()\n\n  const {violations, displayName} = componentRegistry[requestType]\n  return (\n    <ExemptionRequestContainer\n      ruleSuite={ruleSuite}\n      requestCompleted={request.status === 'completed'}\n      violations={violations}\n      displayName={displayName}\n      requestType={requestType}\n    >\n      <RequestState\n        request={request}\n        responses={responses}\n        rulesets={rulesets}\n        isRequester={!!reviewer?.isRequester}\n        reviewerLogin={reviewer?.login}\n      />\n      {reviewer?.isValid && !reviewer.hasUndismissedReview && requestNotAtTerminalStatus(request.status) && (\n        <RequestFormProvider readOnly formValues={{...request.metadata}}>\n          <RequestReviewerForm request={request} />\n        </RequestFormProvider>\n      )}\n    </ExemptionRequestContainer>\n  )\n}\n\ntry{ ExemptionRequestPage.displayName ||= 'ExemptionRequestPage' } catch {}","import type {FC} from 'react'\nimport {Box, Heading, Text, Label} from '@primer/react'\n\ntype SubheadProps = {\n  heading: string\n  description?: string\n  className?: string\n  beta?: boolean\n  renderAction?: () => JSX.Element | null\n}\n\nexport const Subhead: FC<SubheadProps> = ({heading, description, className, beta, renderAction}) => {\n  return (\n    <Box\n      sx={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}\n      className={`Subhead ${className || ''}`}\n    >\n      <Box sx={{display: 'flex', alignItems: 'center', gap: 2}}>\n        <Heading as=\"h1\" sx={{fontSize: 24, fontWeight: 'light'}} className=\"Subhead-heading\">\n          {heading}\n        </Heading>\n        {beta ? (\n          <Label sx={{ml: 2}} variant=\"success\">\n            Beta\n          </Label>\n        ) : null}\n        {description ? (\n          <Text sx={{mb: 2}} className=\"Subhead-description\">\n            {description}\n          </Text>\n        ) : null}\n      </Box>\n\n      {renderAction?.()}\n    </Box>\n  )\n}\n\ntry{ Subhead.displayName ||= 'Subhead' } catch {}","import type {FC} from 'react'\nimport type {ExemptionRequest, ExemptionResponse} from '../delegated-bypass-types'\nimport {User} from './User'\nimport {Box, Label, Link} from '@primer/react'\nimport {pluralize} from '../helpers/string'\nimport {useRelativeNavigation} from '../hooks/use-relative-navigation'\n\ntype DelegatedBypassRowProps = {\n  exemptionRequest: ExemptionRequest\n  baseExemptionUrl: string\n}\n\nexport const DelegatedBypassRow: FC<DelegatedBypassRowProps> = ({exemptionRequest, baseExemptionUrl}) => {\n  const rulesetNames = exemptionRequest.rulesetNames\n  const exemptionResponses = exemptionRequest.exemptionResponses\n  const requestType = exemptionRequest.requestType\n  const label = exemptionRequest.metadata?.label\n  const result = FinalDecision(exemptionResponses)\n  const {resolvePath} = useRelativeNavigation()\n  const exemptionRequestLink = `${baseExemptionUrl}${exemptionRequest.number}`\n\n  return (\n    <>\n      <Box\n        as=\"li\"\n        sx={{\n          borderTopColor: 'border.default',\n          borderTopStyle: 'solid',\n          borderTopWidth: 1,\n          '&:first-child': {borderTopWidth: 0},\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'space-between',\n        }}\n      >\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            padding: 2,\n            paddingX: 3,\n          }}\n        >\n          <Box\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              overflow: 'hidden',\n              justifyContent: 'center',\n            }}\n          >\n            <Box sx={{display: 'flex', alignItems: 'center', gap: 2, mb: 1}}>\n              <Link sx={{fontWeight: 'bold', color: 'fg.default'}} href={resolvePath(exemptionRequestLink)}>\n                {requestType === 'secret_scanning'\n                  ? `Bypass push protection: ${label}`\n                  : `Bypass ${truncation(rulesetNames)}`}\n              </Link>\n            </Box>\n            <Box\n              sx={{\n                color: 'fg.muted',\n                fontSize: 0,\n                display: 'flex',\n                flexDirection: 'row',\n                flexWrap: 'wrap',\n                alignItems: 'baseline',\n              }}\n            >\n              <User user={exemptionRequest.requester} />\n              &nbsp;submitted on {DateConversion(exemptionRequest.createdAt)}&nbsp;\n              {exemptionResponses.length > 0 && result.reviewer && (\n                <>\n                  <span className=\"text-small\">{` Request ${result.status} by`}</span>\n                  &nbsp;\n                  <User user={result.reviewer} />\n                </>\n              )}\n            </Box>\n          </Box>\n          <Box sx={{display: ['flex'], alignItems: 'center', marginLeft: 2}}>\n            <ExemptionStatusLabel exemptionRequest={exemptionRequest} />\n          </Box>\n        </Box>\n      </Box>\n    </>\n  )\n}\n\nconst truncation = (rulesetNames: string[]) => {\n  if (rulesetNames.length > 1) {\n    const numOthers = rulesetNames.length - 1\n    return `${rulesetNames[0]} and ${numOthers} more ${pluralize(numOthers, 'ruleset', 'rulesets', false)}`\n  }\n  return rulesetNames\n}\n\nconst DateConversion = (date: string) => {\n  return new Date(date).toLocaleDateString(undefined, {\n    month: 'short',\n    day: 'numeric',\n  })\n}\n\nconst ExemptionStatusLabel = ({exemptionRequest}: {exemptionRequest: ExemptionRequest}) => {\n  let statusLabel = null\n  switch (exemptionRequest.status.toLowerCase()) {\n    case 'cancelled':\n      statusLabel = <Label variant=\"secondary\">Cancelled</Label>\n      break\n    case 'completed':\n      statusLabel = <Label variant=\"success\">Completed</Label>\n      break\n    case 'rejected':\n      statusLabel = <Label variant=\"danger\">Denied</Label>\n      break\n    default:\n      if (exemptionRequest.expired) {\n        statusLabel = <Label variant=\"secondary\">Expired</Label>\n      }\n      break\n  }\n\n  return statusLabel\n}\n\nconst FinalDecision = (responses: ExemptionResponse[]) => {\n  if (responses.length === 0) {\n    return {status: '', reviewer: undefined, reviewerUrl: ''}\n  }\n\n  const firstDenial = responses.find(response => response.status === 'rejected')\n  const result = {\n    status: firstDenial?.status.toLowerCase() ?? 'approved',\n    reviewer: firstDenial?.reviewer ?? responses[responses.length - 1]?.reviewer,\n    reviewerUrl: firstDenial?.reviewer.path ?? responses[responses.length - 1]?.reviewer.path,\n  }\n\n  if (result.status === 'rejected') {\n    result.status = 'denied'\n  }\n  return result\n}\n\ntry{ DelegatedBypassRow.displayName ||= 'DelegatedBypassRow' } catch {}\ntry{ DateConversion.displayName ||= 'DateConversion' } catch {}\ntry{ ExemptionStatusLabel.displayName ||= 'ExemptionStatusLabel' } catch {}\ntry{ FinalDecision.displayName ||= 'FinalDecision' } catch {}","export function pluralize(\n  count: number,\n  singular: string,\n  pluralStringOrLookup: string | {[singular: string]: string},\n  showCount = true,\n) {\n  let plural: string\n\n  if (typeof pluralStringOrLookup === 'object') {\n    plural = pluralStringOrLookup[singular] ?? ''\n  } else {\n    plural = pluralStringOrLookup ?? ''\n  }\n\n  const text = count === 1 ? singular : plural\n\n  if (!showCount) {\n    return text\n  }\n\n  return count > 100 ? `100+ ${text}` : `${count} ${text}`\n}\n\nexport function capitalize(text: string) {\n  return text[0]?.toUpperCase() + text.slice(1)\n}\n","import {encodePart} from '@github-ui/paths'\nimport type {DelegatedBypassFilter} from '../delegated-bypass-types'\n\nexport function requestsIndexPath({filter}: {filter?: DelegatedBypassFilter}) {\n  const params: string[] = []\n  if (filter) {\n    if (filter.approver) params.push(`approver=${encodePart(filter.approver.login)}`)\n    if (filter.requester) params.push(`requester=${encodePart(filter.requester.login)}`)\n    if (filter.timePeriod) params.push(`time_period=${encodePart(filter.timePeriod)}`)\n    if (filter.page) params.push(`page=${encodePart(String(filter.page))}`)\n    if (filter.requestStatus) params.push(`request_status=${encodePart(filter.requestStatus)}`)\n    if (filter.repository) params.push(`repository=${encodePart(filter.repository)}`)\n  }\n\n  return params.length > 0 ? `${params.join('&')}` : ''\n}\n","// TODO: Consolidate this and use-insights-actors into repos-shared package\nimport memoize from '@github/memoize'\nimport {useEffect, useState} from 'react'\n\nimport {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport type {User, UsersState} from '@github-ui/user-selector'\nimport {bypassRequestersActorsPath, bypassApproversActorsPath} from '@github-ui/paths'\nimport type {FilterableUser} from '../delegated-bypass-types'\n\ninterface ActorsResponse {\n  actors: User[]\n}\n\nasync function fetchJSON(url: string): Promise<ActorsResponse | undefined> {\n  const response = await verifiedFetchJSON(url)\n  if (response.ok) {\n    return await response.json()\n  } else {\n    return undefined\n  }\n}\n\nconst memoizeCache = new Map()\nconst memoizeFetchJSON = memoize(fetchJSON, {cache: memoizeCache})\n\n/**\n * Retrieve a list of actors for a given repository\n *\n * returns an array of users, loading state and error\n * if cannot retrieve users, returns empty array\n */\nexport function useBypassActors(typeOfActor: FilterableUser): UsersState {\n  let actorsPath = bypassRequestersActorsPath()\n  if (typeOfActor === 'Approver') {\n    actorsPath = bypassApproversActorsPath()\n  }\n\n  const [usersState, setUsersState] = useState<UsersState>({\n    users: [],\n    error: false,\n    loading: true,\n  })\n\n  useEffect(() => {\n    let cancelled = false\n    const update = async () => {\n      setUsersState({\n        users: [],\n        error: false,\n        loading: true,\n      })\n\n      const actorsResponse = await memoizeFetchJSON(actorsPath)\n\n      if (cancelled) {\n        return\n      }\n\n      let users: User[] = []\n      let error = false\n\n      try {\n        if (actorsResponse) {\n          users = actorsResponse.actors\n        } else {\n          error = true\n        }\n      } catch (e) {\n        error = true\n      }\n\n      setUsersState({\n        users,\n        error,\n        loading: false,\n      })\n    }\n\n    update()\n\n    return function cancel() {\n      cancelled = true\n    }\n  }, [actorsPath])\n\n  return usersState\n}\n","import {ActionList, Box} from '@primer/react'\nimport {TimeFilter} from '@github-ui/action-menu-selector/TimeFilter'\nimport {useMemo} from 'react'\nimport type {FC} from 'react'\nimport {useRelativeNavigation} from '../hooks/use-relative-navigation'\nimport type {DelegatedBypassFilter, SourceType} from '../delegated-bypass-types'\nimport {requestsIndexPath} from '../helpers/requests-filter'\nimport {orderedStatuses, requestStatuses} from '../helpers/constants'\nimport {UserSelector} from '@github-ui/user-selector'\nimport {useBypassActors} from '../hooks/use-bypass-actors'\nimport {ActionMenuSelector} from '@github-ui/action-menu-selector'\nimport {ReposSelector, simpleRepoLoader} from '@github-ui/repos-selector'\n\ntype BypassRequestsFilterProps = {\n  sourceType: SourceType\n  filter: DelegatedBypassFilter\n  repositories?: string[]\n}\n\nexport const BypassRequestsFilterBar: FC<BypassRequestsFilterProps> = ({filter, sourceType, repositories}) => {\n  const {approver, requester, timePeriod, requestStatus, repository} = filter\n  const {navigate} = useRelativeNavigation()\n  const updateFilter = (newFilter: DelegatedBypassFilter) => {\n    newFilter.page = undefined // Reset to first page when filter changes\n    navigate('.', requestsIndexPath({filter: newFilter}), true)\n  }\n  const requestersState = useBypassActors('Requester')\n  const approversState = useBypassActors('Approver')\n  const namedRepos = useMemo(() => repositories?.map(r => ({name: r})) || [], [repositories])\n\n  return (\n    <Box sx={{display: 'flex', flexDirection: 'row', flexWrap: 'wrap'}} className=\"mb-3\">\n      {sourceType === 'organization' && (\n        <div className=\"d-flex p-1\">\n          <ReposSelector\n            currentSelection={repository ? {name: repository} : undefined}\n            repositoryLoader={simpleRepoLoader(namedRepos)}\n            selectAllOption={true}\n            selectionVariant=\"single\"\n            onSelect={selectedRepository => {\n              if (selectedRepository?.name !== repository) {\n                updateFilter({...filter, repository: selectedRepository?.name})\n              }\n            }}\n          />\n        </div>\n      )}\n      <div className=\"d-flex p-1\">\n        <UserSelector\n          defaultText=\"All approvers\"\n          usersState={approversState}\n          currentUser={approver}\n          onSelect={selectedUser => {\n            if (selectedUser !== approver) {\n              updateFilter({...filter, approver: selectedUser})\n            }\n          }}\n          renderCustomFooter={() => (\n            <ActionList.Item\n              onSelect={() => {\n                updateFilter({...filter, approver: undefined})\n              }}\n            >\n              All approvers\n            </ActionList.Item>\n          )}\n          label=\"Approver: \"\n        />\n      </div>\n      <div className=\"d-flex p-1\">\n        <UserSelector\n          defaultText=\"All requesters\"\n          usersState={requestersState}\n          currentUser={requester}\n          onSelect={selectedUser => {\n            if (selectedUser !== requester) {\n              updateFilter({...filter, requester: selectedUser})\n            }\n          }}\n          renderCustomFooter={() => (\n            <ActionList.Item\n              onSelect={() => {\n                updateFilter({...filter, requester: undefined})\n              }}\n            >\n              All requesters\n            </ActionList.Item>\n          )}\n          label=\"Requester: \"\n        />\n      </div>\n      <div className=\"d-flex p-1\">\n        <TimeFilter\n          currentTimePeriod={timePeriod || 'day'}\n          onSelect={selectedTimePeriod => {\n            if (selectedTimePeriod !== timePeriod) {\n              updateFilter({...filter, timePeriod: selectedTimePeriod})\n            }\n          }}\n        />\n      </div>\n      <div className=\"d-flex p-1\">\n        <ActionMenuSelector\n          currentSelection={requestStatus || 'all'}\n          orderedValues={orderedStatuses}\n          displayValues={requestStatuses}\n          onSelect={selectedBypassStatus => {\n            if (selectedBypassStatus !== requestStatus) {\n              updateFilter({...filter, requestStatus: selectedBypassStatus})\n            }\n          }}\n        />\n      </div>\n    </Box>\n  )\n}\n\ntry{ BypassRequestsFilterBar.displayName ||= 'BypassRequestsFilterBar' } catch {}","import {Blankslate} from '@primer/react/drafts'\n\nexport function BypassRequestsBlank() {\n  return (\n    <Blankslate>\n      <Blankslate.Heading>No bypass requests found</Blankslate.Heading>\n      <Blankslate.Description>Try adjusting the filters to refine your search.</Blankslate.Description>\n    </Blankslate>\n  )\n}\n\ntry{ BypassRequestsBlank.displayName ||= 'BypassRequestsBlank' } catch {}","import {Box, Text, Pagination} from '@primer/react'\nimport {Subhead} from '../components/Subhead'\nimport {useRoutePayload} from '@github-ui/react-core/use-route-payload'\nimport type {BypassRequestsRoutePayload} from '../delegated-bypass-types'\nimport {DelegatedBypassRow} from '../components/DelegatedBypassRow'\nimport {useRelativeNavigation} from '../hooks/use-relative-navigation'\nimport {BypassRequestsFilterBar} from '../components/BypassRequestsFilterBar'\nimport {requestsIndexPath} from '../helpers/requests-filter'\nimport {BypassRequestsBlank} from '../components/BypassRequestsBlank'\n\nexport function BypassRequestsPage() {\n  return <BypassRequestsComponent />\n}\n\nfunction BypassRequestsComponent() {\n  const {exemptionRequests, filter, sourceType, repositories, hasMoreRequests, baseExemptionUrl} =\n    useRoutePayload<BypassRequestsRoutePayload>()\n  const {navigate} = useRelativeNavigation()\n\n  let {page} = filter\n  page = page || 1\n  const pageCount = hasMoreRequests ? page + 1 : page\n\n  return (\n    <>\n      <Subhead heading=\"Bypass Requests\" beta={true} />\n      <Box sx={{mb: 2}}>\n        <Text sx={{fontWeight: 'normal', color: 'fg.muted'}} as=\"span\">\n          View all requests to bypass push rules.\n        </Text>\n      </Box>\n      <BypassRequestsFilterBar filter={filter} sourceType={sourceType} repositories={repositories} />\n      {exemptionRequests.length > 0 ? (\n        <Box\n          as=\"ol\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            borderRadius: 2,\n            overflow: 'hidden',\n            backgroundColor: 'canvas.default',\n            borderColor: 'border.default',\n            borderStyle: 'solid',\n            borderWidth: 1,\n            color: 'fg.default',\n            position: 'relative',\n            ml: 0,\n          }}\n        >\n          {exemptionRequests.map(exemptionRequest => (\n            <DelegatedBypassRow\n              key={exemptionRequest.id}\n              exemptionRequest={exemptionRequest}\n              baseExemptionUrl={\n                sourceType === 'organization' ? exemptionRequest.repoExemptionsBaseUrl : baseExemptionUrl\n              }\n            />\n          ))}\n        </Box>\n      ) : (\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            borderRadius: 2,\n            overflow: 'hidden',\n            borderColor: 'border.default',\n            borderStyle: 'solid',\n            borderWidth: 1,\n            marginTop: 2,\n          }}\n        >\n          <BypassRequestsBlank />\n        </Box>\n      )}\n      {(page !== 1 || pageCount !== 1) && (\n        <Pagination\n          pageCount={pageCount}\n          currentPage={page}\n          onPageChange={(e, newPage) => {\n            e.preventDefault()\n            if (page !== newPage) {\n              navigate('.', requestsIndexPath({filter: {...filter, page: newPage}}), true)\n            }\n          }}\n          showPages={false}\n        />\n      )}\n    </>\n  )\n}\n\ntry{ BypassRequestsPage.displayName ||= 'BypassRequestsPage' } catch {}\ntry{ BypassRequestsComponent.displayName ||= 'BypassRequestsComponent' } catch {}","import {App} from './App'\nimport {NewExemptionRequestPage} from './routes/NewExemptionRequestPage'\nimport {ExemptionRequestPage} from './routes/ExemptionRequestPage'\nimport {BypassRequestsPage} from './routes/BypassRequestsPage'\nimport {registerReactAppFactory} from '@github-ui/react-core/register-app'\nimport {jsonRoute} from '@github-ui/react-core/json-route'\n\nregisterReactAppFactory('delegated-bypass', () => ({\n  App,\n  routes: [\n    jsonRoute({path: '/:owner/:repo/exemptions/new/:exemptionHashId', Component: NewExemptionRequestPage}),\n    jsonRoute({path: '/:owner/:repo/exemptions/:exemptionHashId', Component: ExemptionRequestPage}),\n    jsonRoute({path: '/:owner/:repo/settings/rules/bypass_requests', Component: BypassRequestsPage}),\n    jsonRoute({\n      path: '/:owner/:repo/secret_scanning/exemptions/new/:exemptionHashId',\n      Component: NewExemptionRequestPage,\n    }),\n    jsonRoute({path: '/:owner/:repo/secret_scanning/exemptions/:exemptionHashId', Component: ExemptionRequestPage}),\n    jsonRoute({path: '/:owner/:repo/security/secret_scanning/bypass_requests', Component: BypassRequestsPage}),\n  ],\n}))\n","import {verifiedFetchJSON} from '@github-ui/verified-fetch'\nimport type {\n  createExemptionRequestPayload,\n  getApproversRequestPayload,\n  updateExemptionRequestPayload,\n  BypassActor,\n} from '../delegated-bypass-types'\n\ntype Response<T = void> = {statusCode: number; error?: string} & T\n\nexport const createExemptionRequest = async (url: string, payload: createExemptionRequestPayload) => {\n  return request<createExemptionRequestPayload, {request_number: number; redirect_uri?: string}>(url, 'POST', payload)\n}\n\nexport const updateExemptionRequest = async (url: string, payload: updateExemptionRequestPayload) => {\n  return request<updateExemptionRequestPayload>(url, 'PUT', payload)\n}\n\nexport const getApprovers = async (url: string, payload?: getApproversRequestPayload) =>\n  request<getApproversRequestPayload, {approvers: BypassActor[]}>(url, 'GET', payload)\n\nasync function request<T = unknown, U = unknown>(url: string, method: string, body?: T): Promise<Response<U>> {\n  let query = ''\n  if (body && method === 'GET') {\n    query = new URLSearchParams(body).toString()\n    body = undefined\n  }\n  const response = await verifiedFetchJSON(`${url}?${query}`, {method, body})\n  const data = await response.json()\n  return {...data, statusCode: response.status}\n}\n","import {GitHubAvatar} from '@github-ui/github-avatar'\nimport {ActionList} from '@primer/react'\nimport React from 'react'\n\nimport type {User} from './user-types'\n\ninterface UserItemProps {\n  user: User\n  isCurrent: boolean\n  onSelect?: (user: User) => void\n}\n\nexport const UserItem = React.memo(function UserItemInner({user, isCurrent, onSelect}: UserItemProps) {\n  return (\n    <ActionList.Item\n      selected={isCurrent}\n      onSelect={() => {\n        if (onSelect) onSelect(user)\n      }}\n    >\n      <ActionList.LeadingVisual>\n        <GitHubAvatar src={user.primaryAvatarUrl} square={user.path.startsWith('/apps/')} />\n      </ActionList.LeadingVisual>\n      {user.login}\n      <ActionList.Description>{user.name}</ActionList.Description>\n    </ActionList.Item>\n  )\n})\n\ntry{ UserItem.displayName ||= 'UserItem' } catch {}","import {FixedSizeVirtualList} from '@github-ui/ref-selector/fixed-size-virtual-list'\nimport {Box, type BoxProps} from '@primer/react'\n\nimport type {User} from './user-types'\nimport {UserItem} from './UserItem'\n\ninterface UsersListProps {\n  users: User[]\n  currentUser?: User\n  onSelect?: (user: User) => void\n  sx?: BoxProps['sx']\n}\n\n/**\n * The virtualized list has a fixed height. If we don't have very many users,\n * don't virtualize the list so that the container can shrink.\n */\nconst virtualizationThreshold = 20\nconst maxHeight = 330\n\nexport function UsersList(props: UsersListProps) {\n  return props.users.length > virtualizationThreshold ? <VirtualUsersList {...props} /> : <FullUsersList {...props} />\n}\n\n/**\n * Non-virtual implementation\n */\nfunction FullUsersList({users, currentUser, onSelect, sx = {}}: UsersListProps) {\n  return (\n    <Box sx={{maxHeight, overflowY: 'auto', ...sx}}>\n      {users.map(user => (\n        <UserItem key={user.login} user={user} isCurrent={user.login === currentUser?.login} onSelect={onSelect} />\n      ))}\n    </Box>\n  )\n}\n\nfunction VirtualUsersList({users, currentUser, onSelect, sx = {}}: UsersListProps) {\n  return (\n    <FixedSizeVirtualList\n      items={users}\n      itemHeight={33}\n      sx={{maxHeight, overflowY: 'auto', ...sx}}\n      makeKey={user => user.login}\n      renderItem={user => (\n        <UserItem key={user.login} user={user} isCurrent={user.login === currentUser?.login} onSelect={onSelect} />\n      )}\n    />\n  )\n}\n\ntry{ UsersList.displayName ||= 'UsersList' } catch {}\ntry{ FullUsersList.displayName ||= 'FullUsersList' } catch {}\ntry{ VirtualUsersList.displayName ||= 'VirtualUsersList' } catch {}","import {GitHubAvatar} from '@github-ui/github-avatar'\nimport {PeopleIcon, SearchIcon} from '@primer/octicons-react'\nimport {\n  ActionList,\n  ActionMenu,\n  Box,\n  type ButtonProps,\n  Flash,\n  type OverlayProps,\n  Spinner,\n  TextInput,\n  Octicon,\n} from '@primer/react'\nimport type React from 'react'\nimport {useState} from 'react'\n\nimport type {User, UsersState} from './user-types'\nimport {UsersList} from './UsersList'\n\nexport interface UserSelectorProps {\n  /**\n   * Default text to display when no user is selected\n   */\n  defaultText: string\n  /**\n   * The current selected user.\n   */\n  usersState: UsersState\n  /**\n   * The current selected user.\n   */\n  currentUser?: User\n  /**\n   * Callback when a user is selected.\n   */\n  onSelect?: (user: User) => void\n  /**\n   * The name of the data-hotkey\n   */\n  hotKey?: string\n  /**\n   * A callback that is invoked on user selector menu state change.\n   */\n  onOpenChange?: (open: boolean) => void\n  /**\n   * Custom content to append to the bottom of the ref selector\n   */\n  renderCustomFooter?: () => React.ReactNode\n  /**\n   * Size of the button to render\n   * @default 'medium' if not provided\n   * Option of 'small', 'medium', or 'large'\n   */\n  size?: ButtonProps['size']\n  /**\n   * Whether or not the user selector should provide a filter on whatever the user typed in\n   * that didn't have any results in the user list provided.\n   */\n  showTypedInUser?: boolean\n  /**\n   * The width of the `ActionMenu.Overlay`.\n   * @default 'large' if not provided.\n   * Option of 'small', 'medium', 'large', 'xlarge', 'xxlarge', or 'auto'.\n   * See Primer React Overlay documentation for more information.\n   */\n  width?: OverlayProps['width']\n  /**\n   * Search bar placeholder\n   */\n  placeholder?: string\n  /**\n   * Words prepending filter\n   */\n  label?: string\n}\n\nexport function UserSelector(props: UserSelectorProps) {\n  const {\n    defaultText,\n    usersState,\n    currentUser,\n    onSelect,\n    hotKey,\n    onOpenChange,\n    renderCustomFooter,\n    size,\n    showTypedInUser = false,\n    width = 'large',\n    label = '',\n  } = props\n  const [filterText, setFilterText] = useState('')\n  const filteredUsers = filterUsersHelper(usersState.users, filterText)\n\n  return (\n    <div>\n      <ActionMenu onOpenChange={onOpenChange}>\n        <ActionMenu.Button data-hotkey={hotKey} size={size} data-testid=\"user-selector-button\">\n          <Box sx={{display: 'flex'}}>\n            <Box sx={{mr: 2}}>\n              {currentUser ? (\n                <GitHubAvatar\n                  size={16}\n                  src={currentUser.primaryAvatarUrl}\n                  square={currentUser.path.startsWith('/apps/')}\n                />\n              ) : (\n                <Octicon icon={PeopleIcon} size=\"small\" sx={{color: 'fg.muted'}} />\n              )}\n            </Box>\n            <Box sx={{maxWidth: 125, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap'}}>\n              {currentUser ? (\n                <span>\n                  {label}\n                  {currentUser.login}\n                </span>\n              ) : (\n                <span>{defaultText}</span>\n              )}\n            </Box>\n          </Box>\n        </ActionMenu.Button>\n        <ActionMenu.Overlay width={width}>\n          <ActionList showDividers selectionVariant=\"single\">\n            <UserFilter defaultText={filterText} onFilterChange={setFilterText} />\n            <ActionList.Divider />\n            {usersState.loading ? (\n              <Loading />\n            ) : usersState.error ? (\n              <LoadingFailed />\n            ) : filteredUsers.length === 0 ? (\n              <UsersZeroState showTypedInUser={showTypedInUser} filterText={filterText} onSelect={onSelect} />\n            ) : (\n              <UsersList\n                users={filteredUsers}\n                currentUser={currentUser}\n                onSelect={onSelect}\n                sx={renderCustomFooter ? {pb: '10px', pt: 1} : {pt: 1}}\n              />\n            )}\n            {renderCustomFooter && <ActionList.Divider sx={{marginTop: 0}} />}\n            {renderCustomFooter?.()}\n          </ActionList>\n        </ActionMenu.Overlay>\n      </ActionMenu>\n    </div>\n  )\n}\n\nfunction filterUsersHelper(users: User[], filterText: string): User[] {\n  if (!users) return []\n\n  const trimmedFilterText = filterText.trim().toLowerCase()\n  if (!trimmedFilterText) {\n    // Use the full list of users if there is no filterText\n    return users\n  }\n\n  return users.filter(\n    user =>\n      user.login.toLowerCase().includes(trimmedFilterText) || user.name?.toLowerCase().includes(trimmedFilterText),\n  )\n}\n\ninterface UserFilterProps {\n  onFilterChange: (filterText: string) => void\n  defaultText: string\n}\n\nfunction UserFilter({onFilterChange, defaultText}: UserFilterProps) {\n  const placeholder = 'Find a user...'\n  return (\n    <ActionList.Group sx={{px: 2}}>\n      <TextInput\n        leadingVisual={SearchIcon}\n        value={defaultText}\n        sx={{width: '100%'}}\n        placeholder={placeholder}\n        onChange={e => onFilterChange(e.target.value)}\n      />\n    </ActionList.Group>\n  )\n}\n\nfunction Loading() {\n  return (\n    <Box sx={{display: 'flex', justifyContent: 'center', p: 2}}>\n      <Spinner size=\"medium\" aria-label=\"Loading users...\" />\n    </Box>\n  )\n}\n\nfunction LoadingFailed() {\n  return <Flash variant=\"danger\">Could not load users</Flash>\n}\n\nfunction UsersZeroState({\n  showTypedInUser,\n  filterText,\n  onSelect,\n}: {\n  showTypedInUser: boolean\n  filterText: string\n  onSelect?: (user: User) => void\n}) {\n  if (showTypedInUser) {\n    return (\n      <ActionList.Item\n        sx={{display: 'flex', justifyContent: 'center', mb: 2}}\n        onSelect={() => {\n          //for this onSelect to work, you need to only care about the login property of a given User.\n          if (onSelect) {\n            onSelect({\n              login: filterText,\n              name: filterText,\n              path: '',\n              primaryAvatarUrl: '',\n            })\n          }\n        }}\n      >\n        <>\n          Filter on author&nbsp;\n          <Box as=\"span\" sx={{fontWeight: 600}}>\n            {filterText}\n          </Box>\n        </>\n      </ActionList.Item>\n    )\n  }\n\n  return <Box sx={{p: 3, display: 'flex', justifyContent: 'center'}}>Nothing to show</Box>\n}\n\ntry{ UserSelector.displayName ||= 'UserSelector' } catch {}\ntry{ UserFilter.displayName ||= 'UserFilter' } catch {}\ntry{ Loading.displayName ||= 'Loading' } catch {}\ntry{ LoadingFailed.displayName ||= 'LoadingFailed' } catch {}\ntry{ UsersZeroState.displayName ||= 'UsersZeroState' } catch {}","import {ActionList, ActionMenu} from '@primer/react'\nimport type {ActionListProps, ActionMenuButtonProps, OverlayProps} from '@primer/react'\n\nexport type ActionMenuSelectorProps<ActionMenuSelectorType extends string | number> = {\n  actionListProps?: ActionListProps\n  buttonProps?: Omit<ActionMenuButtonProps, 'children'>\n  overlayProps?: Partial<OverlayProps>\n  currentSelection: ActionMenuSelectorType\n  orderedValues: ActionMenuSelectorType[]\n  displayValues: Record<ActionMenuSelectorType, string>\n  onSelect: (selected: ActionMenuSelectorType) => void\n}\n\nexport function ActionMenuSelector<ActionMenuSelectorType extends string | number>({\n  buttonProps,\n  overlayProps,\n  actionListProps,\n  currentSelection,\n  orderedValues,\n  displayValues,\n  onSelect,\n}: ActionMenuSelectorProps<ActionMenuSelectorType>) {\n  return (\n    <ActionMenu>\n      <ActionMenu.Button size=\"medium\" {...buttonProps}>\n        {displayValues[currentSelection]}\n      </ActionMenu.Button>\n      <ActionMenu.Overlay width=\"medium\" {...overlayProps}>\n        <ActionList selectionVariant=\"single\" {...actionListProps}>\n          {orderedValues.map(option => (\n            <ActionList.Item\n              key={option}\n              selected={option === currentSelection}\n              onSelect={() => {\n                onSelect(option)\n              }}\n            >\n              {displayValues[option]}\n            </ActionList.Item>\n          ))}\n        </ActionList>\n      </ActionMenu.Overlay>\n    </ActionMenu>\n  )\n}\n\ntry{ ActionMenuSelector.displayName ||= 'ActionMenuSelector' } catch {}","import {ClockIcon} from '@primer/octicons-react'\nimport {ActionMenuSelector} from './ActionMenuSelector'\nimport type {TimePeriod} from './action-menu-types'\n\nconst orderedPeriods: TimePeriod[] = ['hour', 'day', 'week', 'month']\n\nconst timePeriods: Record<TimePeriod, string> = {\n  hour: 'Last hour',\n  day: 'Last 24 hours',\n  week: 'Last week',\n  month: 'Last month',\n}\n\nexport type TimeFilterProps = {\n  currentTimePeriod: TimePeriod\n  onSelect: (selectedTimePeriod: TimePeriod) => void\n}\n\nexport function TimeFilter({currentTimePeriod, onSelect}: TimeFilterProps) {\n  return (\n    <ActionMenuSelector\n      buttonProps={{leadingVisual: ClockIcon}}\n      currentSelection={currentTimePeriod}\n      orderedValues={orderedPeriods}\n      displayValues={timePeriods}\n      onSelect={onSelect}\n    />\n  )\n}\n\ntry{ TimeFilter.displayName ||= 'TimeFilter' } catch {}","import {type PropsWithChildren, createContext, useCallback, useContext, useMemo, useState} from 'react'\n\ntype FormValues = Record<string, unknown>\ntype RequestFormContextProps = {\n  formValues: FormValues\n  onUpdateForm: (formValues: FormValues) => void\n  readOnly: boolean\n}\nconst RequestFormContext = createContext<RequestFormContextProps>({\n  formValues: {},\n  onUpdateForm: () => {},\n  readOnly: false,\n})\n\nexport function RequestFormProvider({\n  readOnly,\n  formValues: initialFormValues = {},\n  children,\n}: PropsWithChildren<{readOnly: boolean; formValues?: FormValues}>) {\n  const [formValues, setFormValues] = useState(initialFormValues)\n\n  const onUpdateForm = useCallback(\n    (newFormValues: FormValues) => {\n      setFormValues(current => ({\n        ...current,\n        ...newFormValues,\n      }))\n    },\n    [setFormValues],\n  )\n\n  const value = useMemo(() => ({formValues, onUpdateForm, readOnly}), [formValues, onUpdateForm, readOnly])\n\n  return <RequestFormContext.Provider value={value}>{children}</RequestFormContext.Provider>\n}\n\nexport function useRequestFormContext() {\n  const context = useContext(RequestFormContext)\n\n  if (!context) {\n    throw new Error('useRequestFormContext must be used within RequestFormProvider')\n  }\n\n  return context\n}\n\ntry{ RequestFormContext.displayName ||= 'RequestFormContext' } catch {}\ntry{ RequestFormProvider.displayName ||= 'RequestFormProvider' } catch {}","import {Box, type SxProp} from '@primer/react'\nimport React, {useCallback, useRef} from 'react'\nimport {useVirtual, type VirtualItem} from 'react-virtual'\n\ninterface FixedSizeVirtualizedListProps<T> {\n  items: T[]\n  itemHeight: number\n  renderItem: (item: T) => React.ReactNode\n  makeKey: (item: T) => string\n  sx?: SxProp['sx']\n}\n\ntype Virtualizer = ReturnType<typeof useVirtual>\n\nexport function FixedSizeVirtualList<T>({\n  items,\n  itemHeight,\n  sx,\n  renderItem,\n  makeKey,\n}: FixedSizeVirtualizedListProps<T>) {\n  const parentRef = useRef<HTMLDivElement>(null)\n  const estimateSize = useCallback(() => itemHeight, [itemHeight])\n  const virtualizer = useVirtual({\n    parentRef,\n    size: items.length,\n    estimateSize,\n  })\n\n  return (\n    <ListContainer ref={parentRef} sx={sx} virtualizer={virtualizer}>\n      {virtualizer.virtualItems.map(virtualRow => (\n        <ItemContainer key={makeKey(items[virtualRow.index]!)} virtualRow={virtualRow}>\n          {renderItem(items[virtualRow.index]!)}\n        </ItemContainer>\n      ))}\n    </ListContainer>\n  )\n}\n\nconst ListContainer = React.forwardRef<\n  HTMLDivElement,\n  React.PropsWithChildren<{virtualizer: Virtualizer; sx: SxProp['sx']}>\n>(function VirtualListContainerInner({children, sx, virtualizer}, forwardedRef) {\n  // Note: both of these containers are necesary\n  return (\n    <Box ref={forwardedRef} sx={sx}>\n      <Box sx={{height: virtualizer.totalSize, width: '100%', position: 'relative'}}>{children}</Box>\n    </Box>\n  )\n})\n\nfunction ItemContainer({children, virtualRow}: React.PropsWithChildren<{virtualRow: VirtualItem}>) {\n  // Note: all of these styles are necessary. Each item must be\n  // absolutely positioned and moved around with a css transform or\n  // else the list virtualization will not work.\n  return (\n    <Box\n      sx={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: `${virtualRow.size}px`,\n        transform: `translateY(${virtualRow.start}px)`,\n      }}\n    >\n      {children}\n    </Box>\n  )\n}\n\ntry{ FixedSizeVirtualList.displayName ||= 'FixedSizeVirtualList' } catch {}\ntry{ VirtualListContainerInner.displayName ||= 'VirtualListContainerInner' } catch {}\ntry{ ItemContainer.displayName ||= 'ItemContainer' } catch {}"],"names":["DelegatedBypassBannersContext","createContext","banner","undefined","setBanner","useDelegatedBypassSetBanner","useContext","DelegatedBypassBannersProvider","children","useState","value","useMemo","Provider","displayName","RequestTypeContext","RequestTypeProvider","requestType","useRequestTypeContext","context","ICON_MAP","success","CheckIcon","danger","XCircleFillIcon","FlashBanner","Flash","variant","sx","display","justifyContent","alignItems","borderWidth","borderRadius","borderBottomWidth","div","Octicon","icon","span","message","IconButton","m","color","XIcon","onClick","aria-label","size","App","request_type","useAppPayload","RoundedBox","Box","className","borderBottomColor","borderBottomStyle","borderTopLeftRadius","borderTopRightRadius","SecretScanningSecretsDetails","ruleRuns","showDetails","setShowDetails","payload","useRoutePayload","resourceId","request","tokenType","commitMetadata","ruleRun","at","reloadedTokenType","reloadedCommitMetadata","commitHash","path","refName","metadata","matchingSecrets","secrets","filter","secret","bypass_placeholder_ksuid","length","token_metadata","label","locations","map","location","commit_oid","start_line","start_line_byte_position","ruleSuite","metadataValues","Object","entries","key","scanResults","mx","py","StopIcon","Text","fontSize","fontWeight","ml","unsafeDisableTooltip","ChevronUpIcon","ChevronDownIcon","marginTop","as","p","my","flexDirection","fontFamily","backgroundColor","overflowX","whiteSpace","listStyleType","content","mr","tabIndex","Fragment","li","SecretScanningReviewersDialog","approvers","showApprovers","setShowApprovers","base_avatar_url","baseAvatarUrl","users","teams","Link","type","inline","Dialog","title","subtitle","onClose","width","ActionList","showDividers","team","LinkItem","href","window","origin","org_name","slug","target","LeadingVisual","GitHubAvatar","square","src","id","name","user","display_login","ownerAvatarPath","owner","SecretScanningRequestForm","lazy","componentRegistry","push_ruleset_bypass","instructions","Content","ApproversFooter","secret_scanning","FormControls","Suspense","useParams","helpUrl","orgGuidanceUrl","violations","RequestForm","setMessage","submitting","setSubmitting","commentError","setCommentError","navigate","useNavigate","repo","formValues","useRequestFormContext","validateComment","comment","trim","onSubmit","e","preventDefault","response","createExemptionRequest","ssrSafeLocation","pathname","statusCode","redirect_uri","request_number","error","minHeight","mt","mb","gap","method","action","noValidate","FormControl","Label","required","Textarea","block","height","placeholder","onChange","onBlur","Validation","Button","disabled","InfoIcon","ViolationRow","afterOid","ruleDisplayName","insightsCategory","viewLink","CounterLabel","scheme","total","items","violation","pr","candidate","User","login","cursor","primaryAvatarUrl","data-hovercard-url","userHovercardPath","startsWith","DropdownInfo","ExemptionRequestContainer","actor","repository","createdAt","MarkGithubIcon","maxWidth","Heading","textAlign","borderColor","pt","borderBottom","pb","url","nameWithOwner","RelativeTime","datetime","toString","NewExemptionRequestPage","RequestFormProvider","readOnly","orderedStatuses","requestStatuses","all","completed","cancelled","expired","denied","open","updateBanner","updateState","setSearchParams","successVerb","failureVerb","UpdateState","Success","params","set","Error","RequestReviewerForm","requester","requesterComment","setUpdateState","Initial","status","setStatus","useSearchParams","useEffect","b","Submitting","updateExemptionRequest","flex","useRelativeNavigation","search","useLocation","useRef","URLSearchParams","reactRouterNavigate","useCallback","pathPartial","_search","clearExistingParams","replace","current","delete","reactRouterResolvePath","resolvePath","ApproversListDialog","StatusLine","iconInfo","flexWrap","text","RESPONSE_STATUS_MAP","approved","pending","DotFillIcon","rejected","dismissed","requestNotAtTerminalStatus","requestStatus","RulesetLink","ruleset","addComma","RulesetResponseStatusLine","rulesets","reviewerLogin","dismiss","dismissalResponse","responseId","reviewer","index","updatedAt","PendingRulesetResponseStatusLine","hideAction","isApproversListOpen","setIsApproversListOpen","rulesetId","REQUEST_STATUS_MAP","CheckCircleFillIcon","CircleSlashIcon","CommentIcon","invalid","RequestStatusLine","timestamp","changedRulesets","RequestState","responses","isRequester","statuses","rulesetResponses","rulesetIds","includes","mostRecentTimestamp","Date","reduce","a","toUTCString","isRequestPending","expirationTimestamp","expiresAt","ExemptionRequestPage","requestCompleted","isValid","hasUndismissedReview","Subhead","heading","description","beta","renderAction","DelegatedBypassRow","exemptionRequest","baseExemptionUrl","rulesetNames","exemptionResponses","result","FinalDecision","exemptionRequestLink","number","borderTopColor","borderTopStyle","borderTopWidth","padding","paddingX","overflow","truncation","DateConversion","marginLeft","ExemptionStatusLabel","numOthers","pluralize","count","singular","pluralStringOrLookup","showCount","plural","date","toLocaleDateString","month","day","statusLabel","toLowerCase","reviewerUrl","firstDenial","find","requestsIndexPath","approver","push","encodePart","timePeriod","page","String","join","fetchJSON","verifiedFetchJSON","ok","json","memoizeCache","Map","memoizeFetchJSON","memoize","cache","useBypassActors","typeOfActor","actorsPath","bypassRequestersActorsPath","bypassApproversActorsPath","usersState","setUsersState","loading","update","actorsResponse","actors","BypassRequestsFilterBar","sourceType","repositories","updateFilter","newFilter","requestersState","approversState","namedRepos","r","ReposSelector","currentSelection","repositoryLoader","simpleRepoLoader","selectAllOption","selectionVariant","onSelect","selectedRepository","UserSelector","defaultText","currentUser","selectedUser","renderCustomFooter","Item","TimeFilter","currentTimePeriod","selectedTimePeriod","ActionMenuSelector","orderedValues","displayValues","selectedBypassStatus","BypassRequestsBlank","Blankslate","Description","BypassRequestsPage","BypassRequestsComponent","exemptionRequests","hasMoreRequests","pageCount","borderStyle","position","repoExemptionsBaseUrl","Pagination","currentPage","onPageChange","newPage","showPages","registerReactAppFactory","routes","jsonRoute","Component","getApprovers","body","query","UserItem","React","isCurrent","selected","UsersList","props","VirtualUsersList","FullUsersList","maxHeight","overflowY","FixedSizeVirtualList","itemHeight","makeKey","renderItem","hotKey","onOpenChange","showTypedInUser","filterText","setFilterText","filteredUsers","filterUsersHelper","trimmedFilterText","ActionMenu","data-hotkey","data-testid","PeopleIcon","textOverflow","Overlay","UserFilter","onFilterChange","Divider","Loading","LoadingFailed","UsersZeroState","Group","px","TextInput","leadingVisual","SearchIcon","Spinner","buttonProps","overlayProps","actionListProps","option","orderedPeriods","timePeriods","hour","week","ClockIcon","RequestFormContext","onUpdateForm","initialFormValues","setFormValues","newFormValues","VirtualListContainerInner","parentRef","estimateSize","virtualizer","useVirtual","ListContainer","ref","virtualItems","virtualRow","ItemContainer","forwardedRef","totalSize","top","left","transform","start"],"sourceRoot":""}