#!/usr/bin/env ruby
# frozen_string_literal: true

require "codeowners"

# Docs: https://thehub.github.com/engineering/development-and-ops/dotcom/serviceowners/serviceowners-usage/
# Please update these if adding/changing/removing options!
if ARGV.empty? || ARGV.include?("--help") || ARGV.include?("-h")
  warn "USAGE: bin/codeowners file [...]"
  exit 1
end

codeowners_file = File.expand_path("../../CODEOWNERS", __FILE__)
codeowners = Codeowners::File.new(File.read(codeowners_file))

puts codeowners.for(ARGV).keys.map(&:to_s)
