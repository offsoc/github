"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_organizations_member_requests_feature-request-element_ts"],{20229:(e,t,o)=>{o.r(t);var n=o(39595);function s(e,t,o,n){var s,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(i=(a<3?s(i):a>3?s(t,o,i):s(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i}let a=class FeatureRequestElement extends HTMLElement{async submit(){let e;try{this.disableButton(this.requestButton,"Requesting...");let t=new FormData;t.append("feature",this.featureName),e=await fetch(this.actionPath,{method:"POST",body:t,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":this.csrfTokenRequest.value}})}catch{return}finally{this.revertButton(this.requestButton)}e&&!e.ok||(this.prompt.hidden=!0,this.success.hidden=!1)}async cancel(){let e;try{this.disableButton(this.cancelButton,"Cancelling...");let t=new FormData;t.append("feature",this.featureName),e=await fetch(this.actionPath,{method:"DELETE",body:t,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":this.csrfTokenCancel.value}})}catch{return}finally{this.revertButton(this.cancelButton)}e&&!e.ok||(this.prompt.hidden=!1,this.success.hidden=!0)}disableButton(e,t){this.originalText.set(e,e.innerHTML),setTimeout(()=>{e.textContent=t},0),e.disabled=!0}revertButton(e){let t=this.originalText.get(e);null!=t&&(e.innerHTML=t,e.disabled=!1,this.originalText.delete(e))}constructor(...e){super(...e),this.originalText=new WeakMap}};s([n.CF],a.prototype,"actionPath",void 0),s([n.CF],a.prototype,"featureName",void 0),s([n.aC],a.prototype,"csrfTokenRequest",void 0),s([n.aC],a.prototype,"csrfTokenCancel",void 0),s([n.aC],a.prototype,"prompt",void 0),s([n.aC],a.prototype,"requestButton",void 0),s([n.aC],a.prototype,"cancelButton",void 0),s([n.aC],a.prototype,"success",void 0),a=s([n.p_],a)}}]);
//# sourceMappingURL=app_components_organizations_member_requests_feature-request-element_ts-1b9f48a1bea6.js.map